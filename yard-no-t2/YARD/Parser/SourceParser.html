<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: YARD::Parser::SourceParser
  
    &mdash; YARD
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "YARD::Parser::SourceParser";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../YARD.html" title="YARD (module)">YARD</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Parser.html" title="YARD::Parser (module)">Parser</a></span></span>
     &raquo; 
    <span class="title">SourceParser</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../../class_list.html"></iframe>

      <div id="content"><h1>Class: YARD::Parser::SourceParser
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">YARD::Parser::SourceParser</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/yard/parser/source_parser.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Responsible for parsing a source file into the namespace. Parsing also
invokes handlers to process the parsed statements and generate any code
objects that may be recognized.</p>

<h2 id="label-Custom+Parsers">Custom Parsers</h2>

<p>SourceParser allows custom parsers to be registered and called when a
certain filetype is recognized. To register a parser and hook it up to a
set of file extensions, call <span class='object_link'><a href="#register_parser_type-class_method" title="YARD::Parser::SourceParser.register_parser_type (method)">SourceParser.register_parser_type</a></span></p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#register_parser_type-class_method" title="YARD::Parser::SourceParser.register_parser_type (method)">SourceParser.register_parser_type</a></span></li>
    
      <li><span class='object_link'><a href="../Handlers/Base.html" title="YARD::Handlers::Base (class)">Handlers::Base</a></span></li>
    
      <li><span class='object_link'><a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a></span></li>
    
  </ul>

</div>
  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="SHEBANG_LINE-constant" class="">SHEBANG_LINE =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*#!\S+</span><span class='regexp_end'>/</span></span></pre></dd>
    
      <dt id="ENCODING_LINE-constant" class="">ENCODING_LINE =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:\s*#*!.*\r?\n)?\s*(?:#+|\/\*+|\/\/+).*coding\s*[:=]{1,2}\s*([a-z\d_\-]+)</span><span class='regexp_end'>/i</span></span></pre></dd>
    
      <dt id="FROZEN_STRING_LINE-constant" class="">FROZEN_STRING_LINE =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>frozen(-|_)string(-|_)literal: true</span><span class='regexp_end'>/i</span></span></pre></dd>
    
      <dt id="DEFAULT_PATH_GLOB-constant" class="">DEFAULT_PATH_GLOB =
        <div class="docstring">
  <div class="discussion">
    
<p>The default glob of files to be parsed.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.9.0</p>
</div>
      
    </li>
  
</ul>

</div>
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{lib,app}/**/*.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ext/**/*.{c,cc,cxx,cpp}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="ENCODING_BYTE_ORDER_MARKS-constant" class="">ENCODING_BYTE_ORDER_MARKS =
        <div class="docstring">
  <div class="discussion">
    
<p>Byte order marks for various encodings</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div>
      </dt>
      <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xEF\xBB\xBF</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='comment'># Not yet supported
</span>  <span class='comment'>#&#39;utf-16be&#39; =&gt; &quot;\xFE\xFF&quot;,
</span>  <span class='comment'>#&#39;utf-16le&#39; =&gt; &quot;\xFF\xFE&quot;,
</span>  <span class='comment'>#&#39;utf-32be&#39; =&gt; &quot;\x00\x00\xFF\xFE&quot;,
</span>  <span class='comment'>#&#39;utf-32le&#39; =&gt; &quot;\xFF\xFE&quot;,
</span><span class='rbrace'>}</span></pre></dd>
    
  </dl>




  <h2>Parser Callbacks <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#contents-instance_method" title="#contents (instance method)">#<strong>contents</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The contents of the file to be parsed.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#file-instance_method" title="#file (instance method)">#<strong>file</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The filename being parsed by the parser.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#globals-instance_method" title="#globals (instance method)">#<strong>globals</strong>  &#x21d2; OpenStruct </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An open struct containing arbitrary global state shared between files and
handlers.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_type-instance_method" title="#parser_type (instance method)">#<strong>parser_type</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The parser type associated with the parser instance.</p>
</div></span>
  
</li>

    
  </ul>

  <h2>Class Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_type-class_method" title="parser_type (class method)">.<strong>parser_type</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The default parser type (defaults to :ruby).</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Parser Callbacks
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_parse_file-class_method" title="after_parse_file (class method)">.<strong>after_parse_file</strong> {|parser| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a callback to be called after an individual file is parsed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_parse_file_callbacks-class_method" title="after_parse_file_callbacks (class method)">.<strong>after_parse_file_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of callbacks to be called after parsing a file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_parse_list-class_method" title="after_parse_list (class method)">.<strong>after_parse_list</strong> {|files, globals| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a callback to be called after a list of files is parsed via
<span class='object_link'><a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">SourceParser.parse</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_parse_list_callbacks-class_method" title="after_parse_list_callbacks (class method)">.<strong>after_parse_list_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of callbacks to be called after parsing a list of files.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_parse_file-class_method" title="before_parse_file (class method)">.<strong>before_parse_file</strong> {|parser| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a callback to be called before an individual file is parsed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_parse_file_callbacks-class_method" title="before_parse_file_callbacks (class method)">.<strong>before_parse_file_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of callbacks to be called before parsing a file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_parse_list-class_method" title="before_parse_list (class method)">.<strong>before_parse_list</strong> {|files, globals| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a callback to be called before a list of files is parsed via
<span class='object_link'><a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">SourceParser.parse</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_parse_list_callbacks-class_method" title="before_parse_list_callbacks (class method)">.<strong>before_parse_list_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of callbacks to be called before parsing a list of files.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#parse_in_order-class_method" title="parse_in_order (class method)">.<strong>parse_in_order</strong>(*files)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses a list of files in a queue.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#convert_encoding-instance_method" title="#convert_encoding (instance method)">#<strong>convert_encoding</strong>(content)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Searches for encoding line and forces encoding.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(parser_type = SourceParser.parser_type, globals = nil)  &#x21d2; SourceParser </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new parser object for code parsing with a specific parser type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(content = __FILE__)  &#x21d2; Object<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The main parser method.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#parser_class-instance_method" title="#parser_class (instance method)">#<strong>parser_class</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#parser_type_for_filename-instance_method" title="#parser_type_for_filename (instance method)">#<strong>parser_type_for_filename</strong>(filename)  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Guesses the parser type to use depending on the file extension.</p>
</div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#post_process-instance_method" title="#post_process (instance method)">#<strong>post_process</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Runs a <span class='object_link'><a href="../Handlers/Processor.html" title="YARD::Handlers::Processor (class)">Handlers::Processor</a></span> object to post process the parsed statements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tokenize-instance_method" title="#tokenize (instance method)">#<strong>tokenize</strong>(content)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tokenizes but does not parse the block of code using the current
<span class='object_link'><a href="#parser_type-instance_method" title="YARD::Parser::SourceParser#parser_type (method)">#parser_type</a></span>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-class_method" title="parse (class method)">.<strong>parse</strong>(paths = DEFAULT_PATH_GLOB, excluded = [], level = log.level)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses a path or set of paths.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_string-class_method" title="parse_string (class method)">.<strong>parse_string</strong>(content, ptype = parser_type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses a string <code>content</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_type_extensions-class_method" title="parser_type_extensions (class method)">.<strong>parser_type_extensions</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A list of registered parser type extensions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_type_extensions%3D-class_method" title="parser_type_extensions= (class method)">.<strong>parser_type_extensions=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_type_for_extension-class_method" title="parser_type_for_extension (class method)">.<strong>parser_type_for_extension</strong>(extension)  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds a parser type that is registered for the extension.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_types-class_method" title="parser_types (class method)">.<strong>parser_types</strong>  &#x21d2; Hash{Symbol=&gt;Object} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A list of registered parser types.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parser_types%3D-class_method" title="parser_types= (class method)">.<strong>parser_types=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register_parser_type-class_method" title="register_parser_type (class method)">.<strong>register_parser_type</strong>(type, parser_klass, extensions = nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a new parser type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tokenize-class_method" title="tokenize (class method)">.<strong>tokenize</strong>(content, ptype = parser_type)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tokenizes but does not parse the block of code.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validated_parser_type-class_method" title="validated_parser_type (class method)">.<strong>validated_parser_type</strong>(type)  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the validated parser type.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(parser_type = SourceParser.parser_type, globals = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of SourceParser</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    
<p>Creates a new parser object for code parsing with a specific parser type.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parser_type</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>SourceParser.parser_type</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the parser type to use</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>globals</span>
      
      
        <span class='type'>(<tt>OpenStruct</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>global state to be re-used across separate source files</p>
</div>
      
    </li>
  
</ul>


</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


404
405
406
407
408
409</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 404</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='comma'>,</span> <span class='id identifier rubyid_globals1'>globals1</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_globals2'>globals2</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_globals'>globals</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_globals1'>globals1</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_globals2'>globals2</span> <span class='op'>:</span> <span class='id identifier rubyid_globals1'>globals1</span>
  <span class='ivar'>@file</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(stdin)</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@globals</span> <span class='op'>=</span> <span class='id identifier rubyid_globals'>globals</span> <span class='op'>||</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="parser_type=-class_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="parser_type-class_method">
  
    .<strong>parser_type</strong>  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the default parser type (defaults to :ruby)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the default parser type (defaults to :ruby)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type'>parser_type</span>
  <span class='ivar'>@parser_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="contents-instance_method">
  
    #<strong>contents</strong>  &#x21d2; <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the contents of the file to be parsed</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the contents of the file to be parsed</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 397</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contents'>contents</span>
  <span class='ivar'>@contents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="file=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="file-instance_method">
  
    #<strong>file</strong>  &#x21d2; <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the filename being parsed by the parser.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the filename being parsed by the parser.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_file'>file</span>
  <span class='ivar'>@file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="globals-instance_method">
  
    #<strong>globals</strong>  &#x21d2; <tt>OpenStruct</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an open struct containing arbitrary global state shared between
files and handlers.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>OpenStruct</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an open struct containing arbitrary global state shared between files and
handlers.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


393
394
395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 393</span>

<span class='kw'>def</span> <span class='id identifier rubyid_globals'>globals</span>
  <span class='ivar'>@globals</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="parser_type=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="parser_type-instance_method">
  
    #<strong>parser_type</strong>  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the parser type associated with the parser instance. This should be
set by the <span class='object_link'><a href="#initialize-instance_method" title="YARD::Parser::SourceParser#initialize (method)">constructor</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser type associated with the parser instance. This should be set by
the <span class='object_link'><a href="#initialize-instance_method" title="YARD::Parser::SourceParser#initialize (method)">constructor</a></span>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 388</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type'>parser_type</span>
  <span class='ivar'>@parser_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="after_parse_file-class_method">
  
    .<strong>after_parse_file</strong> {|parser| ... } &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called after an individual file is parsed. The
block passed to this method will be called on subsequent parse calls.</p>

<p>To register a callback that is called after the entire list of files is
processed, see <span class='object_link'><a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Printing the length of each file after it is parsed</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_file'>after_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'> is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> characters</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints:
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib/foo.rb is 1240 characters</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib/foo_bar.rb is 248 characters</span><span class='tstring_end'>&quot;</span></span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>parser</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block is called once after each file that is parsed. This might
happen many times for a single codebase.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>parser</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser object that parsed the file.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>void</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the return value for the block is ignored.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></span></li>
    
      <li><span class='object_link'><a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_file'>after_parse_file</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after_parse_file_callbacks-class_method">
  
    .<strong>after_parse_file_callbacks</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the list of callbacks to be called after parsing a file. Should
only be used for testing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of callbacks to be called after parsing a file. Should only be
used for testing.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 350</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span>
  <span class='ivar'>@after_parse_file_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after_parse_list-class_method">
  
    .<strong>after_parse_list</strong> {|files, globals| ... } &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called after a list of files is parsed via
<span class='object_link'><a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a></span>. The block passed to this method will be called on subsequent parse
calls.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Printing results after parsing occurs</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_list'>after_parse_list</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finished parsing!</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='comment'># Prints &quot;Finished parsing!&quot; after parsing files</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>files</tt>, <tt><span class='object_link'><a href="#globals-instance_method" title="YARD::Parser::SourceParser#globals (method)">globals</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block is called once before parsing all files</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>files</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of files that will be parsed.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>globals</span>
      
      
        <span class='type'>(<tt>OpenStruct</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a global structure to store arbitrary state for post processing (see
<span class='object_link'><a href="../Handlers/Processor.html#globals-instance_method" title="YARD::Handlers::Processor#globals (method)">Handlers::Processor#globals</a></span>)</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>void</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the return value for the block is ignored.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a></span></li>
    
      <li><span class='object_link'><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 256</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_list'>after_parse_list</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after_parse_list_callbacks-class_method">
  
    .<strong>after_parse_list_callbacks</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the list of callbacks to be called after parsing a list of files.
Should only be used for testing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of callbacks to be called after parsing a list of files. Should
only be used for testing.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span>
  <span class='ivar'>@after_parse_list_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_parse_file-class_method">
  
    .<strong>before_parse_file</strong> {|parser| ... } &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called before an individual file is parsed. The
block passed to this method will be called on subsequent parse calls.</p>

<p>To register a callback that is called before the entire list of files is
processed, see <span class='object_link'><a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Installing a simple callback</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file'>before_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints:
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/foo.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/foo_bar.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/last_file.rb</span><span class='tstring_end'>&quot;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Cancel parsing of any test_*.rb files</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file'>before_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^test_.+\.rb$</span><span class='regexp_end'>/</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>parser</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block is called once before each file that is parsed. This
might happen many times for a single codebase.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>parser</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser object that will <span class='object_link'><a href="#parse-instance_method" title="YARD::Parser::SourceParser#parse (method)">#parse</a></span> the file.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the block returns <code>false</code>, parsing for the file is cancelled.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#after_parse_file-class_method" title="YARD::Parser::SourceParser.after_parse_file (method)">after_parse_file</a></span></li>
    
      <li><span class='object_link'><a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 293</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_file'>before_parse_file</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_parse_file_callbacks-class_method">
  
    .<strong>before_parse_file_callbacks</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the list of callbacks to be called before parsing a file. Should
only be used for testing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of callbacks to be called before parsing a file. Should only be
used for testing.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span>
  <span class='ivar'>@before_parse_file_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_parse_list-class_method">
  
    .<strong>before_parse_list</strong> {|files, globals| ... } &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called before a list of files is parsed via
<span class='object_link'><a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a></span>. The block passed to this method will be called on subsequent parse
calls.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Installing a simple callback</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Starting to parse...</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints &quot;Starting to parse...&quot;</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Setting global state</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
<span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_list'>after_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Found </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> methods</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>MyCountHandler</span> <span class='op'>&lt;</span> <span class='const'>Handlers</span><span class='op'>::</span><span class='const'>Ruby</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_handles'>handles</span> <span class='symbol'>:def</span><span class='comma'>,</span> <span class='symbol'>:defs</span>
  <span class='id identifier rubyid_process'>process</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='comment'># Prints: &quot;Found 37 methods&quot;</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Using a global callback to cancel parsing</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar.rb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># callback cancels this method
</span><span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># parses normally</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>files</tt>, <tt><span class='object_link'><a href="#globals-instance_method" title="YARD::Parser::SourceParser#globals (method)">globals</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block is called once before parsing all files</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>files</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of files that will be parsed.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>globals</span>
      
      
        <span class='type'>(<tt>OpenStruct</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a global structure to store arbitrary state for post processing (see
<span class='object_link'><a href="../Handlers/Processor.html#globals-instance_method" title="YARD::Handlers::Processor#globals (method)">Handlers::Processor#globals</a></span>)</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the block returns <code>false</code>, parsing is cancelled.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the yielded block</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a></span></li>
    
      <li><span class='object_link'><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_list'>before_parse_list</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_parse_list_callbacks-class_method">
  
    .<strong>before_parse_list_callbacks</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the list of callbacks to be called before parsing a list of files.
Should only be used for testing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;Proc&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the list of callbacks to be called before parsing a list of files. Should
only be used for testing.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.7.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 329</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span>
  <span class='ivar'>@before_parse_list_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse-class_method">
  
    .<strong>parse</strong>(paths = DEFAULT_PATH_GLOB, excluded = [], level = log.level)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses a path or set of paths</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>paths</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_PATH_GLOB</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a path, glob, or list of paths to parse</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>excluded</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>, Regexp&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a list of excluded path matchers</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>level</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>log.level</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the logger level to use during parsing. See <span class='object_link'><a href="../Logger.html" title="YARD::Logger (class)">Logger</a></span></p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='const'>DEFAULT_PATH_GLOB</span><span class='comma'>,</span> <span class='id identifier rubyid_excluded'>excluded</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parsing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> with `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>` parser</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_excluded'>excluded</span> <span class='op'>=</span> <span class='id identifier rubyid_excluded'>excluded</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>when</span> <span class='const'>Regexp</span><span class='semicolon'>;</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>else</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>IGNORECASE</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_paths'>paths</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span>
    <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'>/**/*.{rb,c,cc,cxx,cpp}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_p'>p</span> <span class='rbrace'>}</span><span class='period'>.</span>
    <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_p'>p</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span>
    <span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='op'>!</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_excluded'>excluded</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_re'>re</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=~</span> <span class='id identifier rubyid_re'>re</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_enter_level'>enter_level</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_in_order-class_method">
  
    .<strong>parse_in_order</strong>(*files)  &#x21d2; <tt>void</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses a list of files in a queue.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>files</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a list of files to queue for parsing</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367
368
369
370
371
372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_files'>files</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_global_state'>global_state</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_global_state'>global_state</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='const'>OrderedParser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_global_state'>global_state</span><span class='comma'>,</span> <span class='id identifier rubyid_files'>files</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_global_state'>global_state</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_string-class_method">
  
    .<strong>parse_string</strong>(content, ptype = parser_type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Parses a string <code>content</code></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block of code to parse</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ptype</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>parser_type</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the parser type to use. See <span class='object_link'><a href="#parser_type-class_method" title="YARD::Parser::SourceParser.parser_type (method)">parser_type</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the parser object that was used to parse <code>content</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_string'>parse_string</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_ptype'>ptype</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ptype'>ptype</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>StringIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_type_extensions-class_method">
  
    .<strong>parser_type_extensions</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of registered parser type extensions</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a list of registered parser type extensions</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.6</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='semicolon'>;</span> <span class='cvar'>@@parser_type_extensions</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_type_extensions=-class_method">
  
    .<strong>parser_type_extensions=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_extensions='>parser_type_extensions=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='cvar'>@@parser_type_extensions</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_type_for_extension-class_method">
  
    .<strong>parser_type_for_extension</strong>(extension)  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds a parser type that is registered for the extension. If no type is
found, the default Ruby type is returned.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser type to be used for the extension</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.6</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_for_extension'>parser_type_for_extension</span><span class='lparen'>(</span><span class='id identifier rubyid_extension'>extension</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_exts'>exts</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_exts'>exts</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span> <span class='id identifier rubyid_ext'>ext</span> <span class='op'>===</span> <span class='id identifier rubyid_extension'>extension</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span> <span class='op'>?</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='symbol'>:ruby</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_types-class_method">
  
    .<strong>parser_types</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{Symbol=&gt;Object}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of registered parser types</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{Symbol=&gt;Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a list of registered parser types</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.6</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_types'>parser_types</span><span class='semicolon'>;</span> <span class='cvar'>@@parser_types</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_types=-class_method">
  
    .<strong>parser_types=</strong>(value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 156</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_types='>parser_types=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='cvar'>@@parser_types</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register_parser_type-class_method">
  
    .<strong>register_parser_type</strong>(type, parser_klass, extensions = nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Registers a new parser type.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Registering a parser for java files</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_register_parser_type'>register_parser_type</span> <span class='symbol'>:java</span><span class='comma'>,</span> <span class='const'>JavaParser</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java</span><span class='tstring_end'>&#39;</span></span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a symbolic name for the parser type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parser_klass</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Base.html" title="YARD::Parser::Base (class)">Base</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a class that implements parsing and tokenization</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extensions</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>Regexp</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a list of extensions or a regex to match against the file extension</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Base.html" title="YARD::Parser::Base (class)">Base</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_parser_type'>register_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_extensions'>extensions</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='const'>Base</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expecting parser_klass to be a subclass of YARD::Parser::Base</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_extensions'>extensions</span> <span class='kw'>if</span> <span class='id identifier rubyid_extensions'>extensions</span>
  <span class='id identifier rubyid_parser_types'>parser_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tokenize-class_method">
  
    .<strong>tokenize</strong>(content, ptype = parser_type)  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tokenizes but does not parse the block of code</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block of code to tokenize</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ptype</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>parser_type</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the parser type to use. See <span class='object_link'><a href="#parser_type-class_method" title="YARD::Parser::SourceParser.parser_type (method)">parser_type</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a list of tokens</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_ptype'>ptype</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ptype'>ptype</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validated_parser_type-class_method">
  
    .<strong>validated_parser_type</strong>(type)  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the validated parser type. Basically, enforces that :ruby type is
never set if the Ripper library is not available</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser type to set</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the validated parser type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 182</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='op'>!</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Ripper</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:ruby</span> <span class='op'>?</span> <span class='symbol'>:ruby18</span> <span class='op'>:</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="convert_encoding-instance_method">
  
    #<strong>convert_encoding</strong>(content)  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Searches for encoding line and forces encoding</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.3</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 469</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_content'>content</span> <span class='kw'>unless</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>=~</span> <span class='const'>ENCODING_LINE</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='backref'>$1</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>binary</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='const'>ENCODING_BYTE_ORDER_MARKS</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_bom'>bom</span><span class='op'>|</span>
      <span class='id identifier rubyid_bom'>bom</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>binary</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_bom'>bom</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_bom'>bom</span>
        <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_content'>content</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># UTF-8 is default encoding
</span>    <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse-instance_method">
  
    #<strong>parse</strong>(content = __FILE__)  &#x21d2; <tt>Object</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The main parser method. This should not be called directly. Instead, use
the class methods <span class='object_link'><a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a></span> and <span class='object_link'><a href="#parse_string-class_method" title="YARD::Parser::SourceParser.parse_string (method)">parse_string</a></span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>__FILE__</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the source file to parse</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parser object used to parse the source</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 416</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='kw'>__FILE__</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='ivar'>@file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_cleanpath'>cleanpath</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read_binary'>read_binary</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_checksum'>checksum</span> <span class='op'>=</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksum_for'>checksum_for</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_checksum'>checksum</span>

    <span class='kw'>if</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; was modified, re-processing...</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='lbracket'>[</span><span class='ivar'>@file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_checksum'>checksum</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type_for_filename'>parser_type_for_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:read</span>
  <span class='kw'>end</span>

  <span class='ivar'>@contents</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_class'>parser_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='ivar'>@parser</span> <span class='kw'>if</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_post_process'>post_process</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@parser</span>
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='const'>NotImplementedError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot parse `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='symbol'>:warn</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>ParserSyntaxError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='symbol'>:warn</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_class-instance_method">
  
    #<strong>parser_class</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.5.6</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


511
512
513
514
515</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 511</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_class'>parser_class</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_parser_types'>parser_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid parser type &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; or unrecognized file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parser_type_for_filename-instance_method">
  
    #<strong>parser_type_for_filename</strong>(filename)  &#x21d2; <tt>Symbol</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Guesses the parser type to use depending on the file extension.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filename</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the filename to use to guess the parser type</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a parser type that matches the filename</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


504
505
506
507
508</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 504</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_for_filename'>parser_type_for_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ext'>ext</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_parser_type_for_extension'>parser_type_for_extension</span><span class='lparen'>(</span><span class='id identifier rubyid_ext'>ext</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>==</span> <span class='symbol'>:ruby18</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:ruby</span> <span class='op'>?</span> <span class='symbol'>:ruby18</span> <span class='op'>:</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_process-instance_method">
  
    #<strong>post_process</strong>  &#x21d2; <tt>void</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Runs a <span class='object_link'><a href="../Handlers/Processor.html" title="YARD::Handlers::Processor (class)">Handlers::Processor</a></span> object to post process the parsed statements.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


489
490
491
492
493
494</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 489</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_process'>post_process</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:enumerator</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_enumerator'>enumerator</span> <span class='op'>=</span> <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_enumerator'>enumerator</span>
  <span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='const'>Handlers</span><span class='op'>::</span><span class='const'>Processor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_enumerator'>enumerator</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tokenize-instance_method">
  
    #<strong>tokenize</strong>(content)  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tokenizes but does not parse the block of code using the current
<span class='object_link'><a href="#parser_type-instance_method" title="YARD::Parser::SourceParser#parser_type (method)">#parser_type</a></span></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the block of code to tokenize</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a list of tokens</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462
463</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yard/parser/source_parser.rb', line 460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_class'>parser_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_tokenize'>tokenize</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Jul 24 09:33:39 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.2).
</div>

    </div>
  </body>
</html>