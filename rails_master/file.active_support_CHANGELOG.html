<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Active Support CHANGELOG &mdash; Rails main</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "active_support_CHANGELOG",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Rails main</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Active Support CHANGELOG&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<ul>
<li><p>Removed the deprecated <code>ActiveSupport::Multibyte::Chars</code> class.</p>

<p>As well as <code>String#mb_chars</code></p>

<p><em>Jean Boussier</em></p></li>
<li><p>Changed <a href="ActiveSupport/EventReporter.html#subscribe-instance_method" title="ActiveSupport::EventReporter#subscribe (method)">ActiveSupport::EventReporter#subscribe</a> to only provide the event name during filtering.</p>

<p>Otherwise the event reporter would need to always build the expensive payload even when there is
no active subscriber, which is very wasteful.</p>

<p><em>Jean Boussier</em></p></li>
<li><p>Fix inflections to better handle overlapping acronyms.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="ActiveSupport/Inflector.html" title="ActiveSupport::Inflector (module)">Inflector</a></span>.<span class='id identifier rubyid_inflections'><a href="ActiveSupport/Inflector.html#inflections-instance_method" title="ActiveSupport::Inflector#inflections (method)">inflections</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_en'>en</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inflect'>inflect</span><span class='op'>|</span>
  <span class='id identifier rubyid_inflect'>inflect</span>.<span class='id identifier rubyid_acronym'>acronym</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USD</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_inflect'>inflect</span>.<span class='id identifier rubyid_acronym'>acronym</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USDC</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USDC</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_underscore'>underscore</span> <span class='comment'># =&gt; &quot;usdc&quot;</span></code></pre>

<p><em>Said Kaldybaev</em></p></li>
<li><p>Add <a href="ActiveSupport/CombinedConfiguration.html" title="ActiveSupport::CombinedConfiguration (class)"><code>::ActiveSupport::CombinedConfiguration</code></a> to offer interchangeable access to configuration provided by
either ENV or encrypted credentials. Used by Rails to first look at ENV, then look in encrypted credentials,
but can be configured separately with any number of API-compatible backends in a first-look order.</p>

<p>The object is inspect safe and will only show keys, not values.</p>

<p><em>DHH</em>, <em>Emmanuel Hayford</em></p></li>
<li><p>Add <a href="ActiveSupport/EnvConfiguration.html" title="ActiveSupport::EnvConfiguration (class)"><code>::ActiveSupport::EnvConfiguration</code></a> to provide access to ENV variables in a way that&#39;s compatible with
<a href="ActiveSupport/EncryptedConfiguration.html" title="ActiveSupport::EncryptedConfiguration (class)"><code>::ActiveSupport::EncryptedConfiguration</code></a> and therefore can be used by <a href="ActiveSupport/CombinedConfiguration.html" title="ActiveSupport::CombinedConfiguration (class)"><code>::ActiveSupport::CombinedConfiguration</code></a>.</p>

<p>The object is inspect safe and will only show keys, not values.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conf'>conf</span> <span class='op'>=</span> <span class='const'><a href="ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="ActiveSupport/EnvConfiguration.html" title="ActiveSupport::EnvConfiguration (class)">EnvConfiguration</a></span>.<span class='id identifier rubyid_new'><a href="ActiveSupport/EnvConfiguration.html#new-class_method" title="ActiveSupport::EnvConfiguration.new (method)">new</a></span>
<span class='id identifier rubyid_conf'>conf</span>.<span class='id identifier rubyid_require'>require</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_db_host'>db_host</span>) <span class='comment'># ENV.fetch(&quot;DB_HOST&quot;)
</span><span class='id identifier rubyid_conf'>conf</span>.<span class='id identifier rubyid_require'>require</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_aws'>aws</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_access_key_id'>access_key_id</span>) <span class='comment'># ENV.fetch(&quot;AWS__ACCESS_KEY_ID&quot;)
</span><span class='id identifier rubyid_conf'>conf</span>.<span class='id identifier rubyid_option'>option</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_cache_host'>cache_host</span>) <span class='comment'># ENV[&quot;CACHE_HOST&quot;]
</span><span class='id identifier rubyid_conf'>conf</span>.<span class='id identifier rubyid_option'>option</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_cache_host'>cache_host</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cache-host-1</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># ENV[&quot;CACHE_HOST&quot;] || &quot;cache-host-1&quot;
</span><span class='id identifier rubyid_conf'>conf</span>.<span class='id identifier rubyid_option'>option</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_cache_host'>cache_host</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cache-host-1</span><span class='tstring_end'>&quot;</span></span> }) <span class='comment'># ENV[&quot;CACHE_HOST&quot;] || &quot;cache-host-1&quot;</span></code></pre>

<p><em>DHH</em>, <em>Emmanuel Hayford</em></p></li>
<li><p>Make flaky parallel tests easier to diagnose by deterministically assigning
tests to workers.</p>

<p>Rails assigns tests to workers in round-robin order so the same <code>--seed</code>
and worker count will result in the same sequence of tests running on each
worker (whether processes or threads) increasing the odds of reproducing
test failures caused by test interdependence.</p>

<p>This can make test runtime slower and spikier when one worker gets most of
the slow tests. Enable <code>work_stealing: true</code> to allow idle workers to steal
tests from busy workers in deterministic order, smoothing out runtime at the
cost of less reproducible flaky-test failures.</p>

<p><em>Jeremy Daer</em></p></li>
<li><p>Make <a href="ActiveSupport/EventReporter.html#debug_mode%3F-instance_method" title="ActiveSupport::EventReporter#debug_mode? (method)">ActiveSupport::EventReporter#debug_mode?</a> true by default to emit debug events
outside of Rails application contexts.</p>

<p><em>Gannon McGibbon</em></p></li>
<li><p>Add <a href="SecureRandom.html#base32-class_method" title="SecureRandom.base32 (method)">SecureRandom.base32</a> for generating case-insensitive keys that are unambiguous to humans.</p>

<p><em>Stanko Krtalic Rusendic &amp; Miha Rekar</em></p></li>
<li><p>Add a fast failure mode to <a href="ActiveSupport/ContinuousIntegration.html" title="ActiveSupport::ContinuousIntegration (class)"><code>::ActiveSupport::ContinuousIntegration</code></a> that stops the rest of
the run after a step fails. Invoke by running <code>bin/ci --fail-fast</code> or <code>bin/ci -f</code>.</p>

<p><em>Dennis Paagman</em></p></li>
<li><p>Implement LocalCache strategy on <a href="ActiveSupport/Cache/MemoryStore.html" title="ActiveSupport::Cache::MemoryStore (class)"><code>::ActiveSupport::Cache::MemoryStore</code></a>. The memory store
needs to respond to the same interface as other cache stores (e.g. <code>ActiveSupport::NullStore</code>).</p>

<p><em>Mikey Gough</em></p></li>
<li><p>Add a detailed failure summary to <a href="ActiveSupport/ContinuousIntegration.html" title="ActiveSupport::ContinuousIntegration (class)"><code>::ActiveSupport::ContinuousIntegration</code></a>.</p>

<p><em>Mike Dalessio</em></p></li>
<li><p>Introduce <a href="ActiveSupport/EventReporter/LogSubscriber.html" title="ActiveSupport::EventReporter::LogSubscriber (class)"><code>::ActiveSupport::EventReporter::LogSubscriber</code></a> structured event logging.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MyLogSubscriber</span> <span class='op'>&lt;</span> <span class='const'><a href="ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="ActiveSupport/EventReporter.html" title="ActiveSupport::EventReporter (class)">EventReporter</a></span><span class='op'>::</span><span class='const'><a href="ActiveSupport/EventReporter/LogSubscriber.html" title="ActiveSupport::EventReporter::LogSubscriber (class)">LogSubscriber</a></span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>def</span> <span class='id identifier rubyid_something'>something</span>(<span class='id identifier rubyid_event'>event</span>)
    <span class='id identifier rubyid_info'>info</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Event </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> emitted.</span><span class='tstring_end'>&quot;</span></span> }
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p><em>Gannon McGibbon</em></p></li>
</ul>

<p>Please check [8-1-stable]) for previous changes.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>