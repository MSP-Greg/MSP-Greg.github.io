<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Ruby On Rails Guides Guidelines &mdash; Rails main</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ruby_on_rails_guides_guidelines",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Rails main</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Ruby On Rails Guides Guidelines&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1>Ruby on <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> Guides Guidelines</h1>

<p>This guide documents guidelines for writing Ruby on <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> Guides. This guide follows itself in a graceful loop, serving itself as an example.</p>

<p>After reading this guide, you will know:</p>

<ul>
<li>About the conventions to be used in <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> documentation.</li>
<li>How to generate guides locally.</li>
</ul>

<hr>

<h2>Markdown</h2>

<p>Guides are written in <a href="https://help.github.com/articles/github-flavored-markdown">GitHub Flavored Markdown</a>. There is comprehensive <a href="https://daringfireball.net/projects/markdown/syntax">documentation for Markdown</a>, as well as a <a href="https://daringfireball.net/projects/markdown/basics">cheatsheet</a>.</p>

<h2>Prologue</h2>

<p>Each guide should start with motivational text at the top (that&#39;s the little introduction in the blue area). The prologue should tell the reader what the guide is about, and what they will learn. As an example, see the <a href="routing.html">Routing Guide</a>.</p>

<h2>Headings</h2>

<p>The title of every guide uses an <code>h1</code> heading; guide sections use <code>h2</code> headings; subsections use <code>h3</code> headings; etc. Note that the generated HTML output will use heading tags starting with <code>&lt;h2&gt;</code>.</p>

<pre class="code markdown"><code class="markdown">Guide Title
===========

Section
-------

### Sub Section
</code></pre>

<p>When writing headings, capitalize all words except for prepositions, conjunctions, internal articles, and forms of the verb &quot;to be&quot;:</p>

<pre class="code markdown"><code class="markdown">#### Assertions and Testing Jobs inside Components
#### Middleware Stack is an Array
#### When are Objects Saved?
</code></pre>

<p>Use the same inline formatting as regular text:</p>

<pre class="code markdown"><code class="markdown">##### The `:content_type` Option
</code></pre>

<h2>Notes, Tips and Warnings</h2>

<p>Sometimes a paragraph deserves a little more attention. For example, to clarify
a common misunderstanding or warn about something that could break an
application.</p>

<p>To highlight a paragraph, prefix it with <code>NOTE:</code>, <code>TIP:</code> or <code>WARNING:</code>:</p>

<pre class="code markdown"><code class="markdown">NOTE: Use {NOTE}, {TIP} or {WARNING} to highlight a paragraph.
</code></pre>

<p>This will wrap the paragraph in a special container resulting in the following:</p>

<p>NOTE: Use <code>NOTE</code>, <code>TIP</code> or <code>WARNING</code> to highlight a paragraph.</p>

<h3>NOTE</h3>

<p>Use <code>NOTE</code> to highlight something in relation to the subject and the context.
Reading it will help your understanding of that subject or context, or
clarify an important item.</p>

<p>For example, a section describing locale files could have the following <code>NOTE</code>:</p>

<p>NOTE: You need to restart the server when you add new locale files.</p>

<h3>TIP</h3>

<p>A <code>TIP</code> is just an additional bit of information regarding the subject, but not
necessarily relevant to the understanding. It can point you to another guide or
website:</p>

<p>TIP: To learn more about routing, see <a href="routing.html">Rails Routing from the Outside In</a>.</p>

<p>Or show a helpful command to see more options to dig deeper:</p>

<p>TIP: For further help with generators, run <code>bin/rails generate --help</code>.</p>

<h3>WARNING</h3>

<p>Use <code>WARNING</code> for things to avoid that could break the application:</p>

<p>WARNING: Refrain from using methods like <code>update</code>, <code>save</code>, or any other methods
that cause side effects on the object within your callback methods.</p>

<p>Or warn about things that could compromise your application&#39;s security.</p>

<p>WARNING: Keep your master key safe. Do not commit your master key.</p>

<h2>Links</h2>

<p>Use descriptive links and avoid &quot;here&quot; and &quot;more&quot; links:</p>

<pre class="code markdown"><code class="markdown"># BAD
See the Rails Internationalization (I18n) API documentation for [more
details](i18n.html).

# GOOD
See the [Rails Internationalization (I18n) API documentation](i18n.html) for
more details.
</code></pre>

<p>Use descriptive links for internal links as well:</p>

<pre class="code markdown"><code class="markdown"># BAD
We will cover this [below](#multiple-callback-conditions).

# GOOD
We will cover this in the [multiple callback conditions
section](#multiple-callback-conditions) shown below.
</code></pre>

<h3>Linking to the API</h3>

<p>Links to the API (<code>api.rubyonrails.org</code>) are processed by the guides generator in the following manner:</p>

<p>Links that include a release tag are left untouched. For example</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_api'>api</span>.<span class='id identifier rubyid_rubyonrails'>rubyonrails</span>.<span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_v5'>v5</span><span class='op'>/</span><span class='id identifier rubyid_classes'>classes</span><span class='op'>/</span><span class='const'><a href="ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>/</span><span class='const'>Attributes</span><span class='op'>/</span><span class='const'>ClassMethods</span>.<span class='id identifier rubyid_html'>html</span></code></pre>

<p>is not modified.</p>

<p>Please use these in release notes, since they should point to the corresponding version no matter the target being generated.</p>

<p>If the link does not include a release tag and edge guides are being generated, the domain is replaced by <code>edgeapi.rubyonrails.org</code>. For example,</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_api'>api</span>.<span class='id identifier rubyid_rubyonrails'>rubyonrails</span>.<span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_classes'>classes</span><span class='op'>/</span><span class='const'><a href="ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>/</span><span class='const'>Response</span>.<span class='id identifier rubyid_html'>html</span></code></pre>

<p>becomes</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_edgeapi'>edgeapi</span>.<span class='id identifier rubyid_rubyonrails'>rubyonrails</span>.<span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_classes'>classes</span><span class='op'>/</span><span class='const'><a href="ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>/</span><span class='const'>Response</span>.<span class='id identifier rubyid_html'>html</span></code></pre>

<p>If the link does not include a release tag and release guides are being generated, the Rails version is injected. For example, if we are generating the guides for v5.1.0 the link</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_api'>api</span>.<span class='id identifier rubyid_rubyonrails'>rubyonrails</span>.<span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_classes'>classes</span><span class='op'>/</span><span class='const'><a href="ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>/</span><span class='const'>Response</span>.<span class='id identifier rubyid_html'>html</span></code></pre>

<p>becomes</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_https'>https</span><span class='symbeg'>:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_api'>api</span>.<span class='id identifier rubyid_rubyonrails'>rubyonrails</span>.<span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_v5'>v5</span><span class='op'>/</span><span class='id identifier rubyid_classes'>classes</span><span class='op'>/</span><span class='const'><a href="ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>/</span><span class='const'>Response</span>.<span class='id identifier rubyid_html'>html</span></code></pre>

<p>Please don&#39;t link to <code>edgeapi.rubyonrails.org</code> manually.</p>

<h2>Column Wrapping</h2>

<p>Do not reformat old guides just to wrap columns. But new sections and guides should wrap at 80 columns.</p>

<h2>API Documentation Guidelines</h2>

<p>The guides and the API should be coherent and consistent where appropriate. In particular, these sections of the <a href="api_documentation_guidelines.html">API Documentation Guidelines</a> also apply to the guides:</p>

<ul>
<li><a href="api_documentation_guidelines.html#wording">Wording</a></li>
<li><a href="api_documentation_guidelines.html#american-english">English</a></li>
<li><a href="api_documentation_guidelines.html#example-code">Example Code</a></li>
<li><a href="api_documentation_guidelines.html#file-names">Filenames</a></li>
<li><a href="api_documentation_guidelines.html#fonts">Fonts</a></li>
</ul>

<h2>HTML Guides</h2>

<p>Before generating the guides, make sure that you have the latest version of
Bundler installed on your system. To install the latest version of Bundler, run <code>gem install bundler</code>.</p>

<p>If you already have Bundler installed, you can update with <code>gem update bundler</code>.</p>

<h3>Generation</h3>

<p>To generate all the guides, just <code>cd</code> into the <code>guides</code> directory, run <code>bundle install</code>, and execute:</p>

<pre class="code bash"><code class="bash">$ bundle exec rake guides:generate
</code></pre>

<p>or</p>

<pre class="code bash"><code class="bash">$ bundle exec rake guides:generate:html
</code></pre>

<p>Resulting HTML files can be found in the <code>./output</code> directory.</p>

<p>To process <code>my_guide.md</code> and nothing else use the <code>ONLY</code> environment variable:</p>

<pre class="code bash"><code class="bash">$ touch my_guide.md
$ bundle exec rake guides:generate ONLY=my_guide
</code></pre>

<p>By default, guides that have not been modified are not processed, so <code>ONLY</code> is rarely needed in practice.</p>

<p>To force processing all the guides, pass <code>ALL=1</code>.</p>

<p>If you want to generate guides in a language other than English, you can keep them in a separate directory under <code>source</code> (e.g. <code>source/es</code>) and use the <code>GUIDES_LANGUAGE</code> environment variable:</p>

<pre class="code bash"><code class="bash">$ bundle exec rake guides:generate GUIDES_LANGUAGE=es
</code></pre>

<p>If you want to see all the environment variables you can use to configure the generation script just run:</p>

<pre class="code bash"><code class="bash">$ rake
</code></pre>

<h3>Validation</h3>

<p>Please validate the generated HTML with:</p>

<pre class="code bash"><code class="bash">$ bundle exec rake guides:validate
</code></pre>

<p>Particularly, titles get an ID generated from their content and this often leads to duplicates.</p>

<h2>Kindle Guides</h2>

<h3>Generation</h3>

<p>To generate guides for the Kindle, use the following rake task:</p>

<pre class="code bash"><code class="bash">$ bundle exec rake guides:generate:kindle
</code></pre>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>