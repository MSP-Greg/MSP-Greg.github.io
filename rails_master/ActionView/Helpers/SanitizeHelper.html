<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::SanitizeHelper &mdash; Rails main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::SanitizeHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails main</a> &raquo; 
      <a href='../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SanitizeHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::SanitizeHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a class='nodoc' href="SanitizeHelper/ClassMethods.html" title="ActionView::Helpers::SanitizeHelper::ClassMethods (module)"><code>ClassMethods</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a class='nodoc' href="../../ActionDispatch/DebugView.html" title="ActionDispatch::DebugView (class)"><code>::ActionDispatch::DebugView</code></a>,
          <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)"><code>::ActionView::Helpers</code></a>,
          <a href="FormHelper.html" title="ActionView::Helpers::FormHelper (module)"><code>FormHelper</code></a>,
          <a href="FormOptionsHelper.html" title="ActionView::Helpers::FormOptionsHelper (module)"><code>FormOptionsHelper</code></a>,
          <a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)"><code>FormTagHelper</code></a>,
          <a class='nodoc' href="Tags/Base.html" title="ActionView::Helpers::Tags::Base (class)"><code>Tags::Base</code></a>,
          <a class='nodoc' href="Tags/CheckBox.html" title="ActionView::Helpers::Tags::CheckBox (class)"><code>Tags::CheckBox</code></a>,
          <a class='nodoc' href="Tags/CollectionCheckBoxes.html" title="ActionView::Helpers::Tags::CollectionCheckBoxes (class)"><code>Tags::CollectionCheckBoxes</code></a>,
          <a class='nodoc' href="Tags/CollectionRadioButtons.html" title="ActionView::Helpers::Tags::CollectionRadioButtons (class)"><code>Tags::CollectionRadioButtons</code></a>,
          <a class='nodoc' href="Tags/CollectionSelect.html" title="ActionView::Helpers::Tags::CollectionSelect (class)"><code>Tags::CollectionSelect</code></a>,
          <a class='nodoc' href="Tags/ColorField.html" title="ActionView::Helpers::Tags::ColorField (class)"><code>Tags::ColorField</code></a>,
          <a class='nodoc' href="Tags/DateField.html" title="ActionView::Helpers::Tags::DateField (class)"><code>Tags::DateField</code></a>,
          <a class='nodoc' href="Tags/DateSelect.html" title="ActionView::Helpers::Tags::DateSelect (class)"><code>Tags::DateSelect</code></a>,
          <a class='nodoc' href="Tags/DatetimeField.html" title="ActionView::Helpers::Tags::DatetimeField (class)"><code>Tags::DatetimeField</code></a>,
          <a class='nodoc' href="Tags/DatetimeLocalField.html" title="ActionView::Helpers::Tags::DatetimeLocalField (class)"><code>Tags::DatetimeLocalField</code></a>,
          <a class='nodoc' href="Tags/DatetimeSelect.html" title="ActionView::Helpers::Tags::DatetimeSelect (class)"><code>Tags::DatetimeSelect</code></a>,
          <a class='nodoc' href="Tags/EmailField.html" title="ActionView::Helpers::Tags::EmailField (class)"><code>Tags::EmailField</code></a>,
          <a class='nodoc' href="Tags/FileField.html" title="ActionView::Helpers::Tags::FileField (class)"><code>Tags::FileField</code></a>,
          <a class='nodoc' href="Tags/GroupedCollectionSelect.html" title="ActionView::Helpers::Tags::GroupedCollectionSelect (class)"><code>Tags::GroupedCollectionSelect</code></a>,
          <a class='nodoc' href="Tags/HiddenField.html" title="ActionView::Helpers::Tags::HiddenField (class)"><code>Tags::HiddenField</code></a>,
          <a class='nodoc' href="Tags/Label.html" title="ActionView::Helpers::Tags::Label (class)"><code>Tags::Label</code></a>,
          <a class='nodoc' href="Tags/MonthField.html" title="ActionView::Helpers::Tags::MonthField (class)"><code>Tags::MonthField</code></a>,
          <a class='nodoc' href="Tags/NumberField.html" title="ActionView::Helpers::Tags::NumberField (class)"><code>Tags::NumberField</code></a>,
          <a class='nodoc' href="Tags/PasswordField.html" title="ActionView::Helpers::Tags::PasswordField (class)"><code>Tags::PasswordField</code></a>,
          <a class='nodoc' href="Tags/RadioButton.html" title="ActionView::Helpers::Tags::RadioButton (class)"><code>Tags::RadioButton</code></a>,
          <a class='nodoc' href="Tags/RangeField.html" title="ActionView::Helpers::Tags::RangeField (class)"><code>Tags::RangeField</code></a>,
          <a class='nodoc' href="Tags/SearchField.html" title="ActionView::Helpers::Tags::SearchField (class)"><code>Tags::SearchField</code></a>,
          <a class='nodoc' href="Tags/Select.html" title="ActionView::Helpers::Tags::Select (class)"><code>Tags::Select</code></a>,
          <a class='nodoc' href="Tags/TelField.html" title="ActionView::Helpers::Tags::TelField (class)"><code>Tags::TelField</code></a>,
          <a class='nodoc' href="Tags/TextArea.html" title="ActionView::Helpers::Tags::TextArea (class)"><code>Tags::TextArea</code></a>,
          <a class='nodoc' href="Tags/TextField.html" title="ActionView::Helpers::Tags::TextField (class)"><code>Tags::TextField</code></a>,
          <a class='nodoc' href="Tags/TimeField.html" title="ActionView::Helpers::Tags::TimeField (class)"><code>Tags::TimeField</code></a>,
          <a class='nodoc' href="Tags/TimeSelect.html" title="ActionView::Helpers::Tags::TimeSelect (class)"><code>Tags::TimeSelect</code></a>,
          <a class='nodoc' href="Tags/TimeZoneSelect.html" title="ActionView::Helpers::Tags::TimeZoneSelect (class)"><code>Tags::TimeZoneSelect</code></a>,
          <a class='nodoc' href="Tags/UrlField.html" title="ActionView::Helpers::Tags::UrlField (class)"><code>Tags::UrlField</code></a>,
          <a class='nodoc' href="Tags/WeekField.html" title="ActionView::Helpers::Tags::WeekField (class)"><code>Tags::WeekField</code></a>,
          <a class='nodoc' href="Tags/WeekdaySelect.html" title="ActionView::Helpers::Tags::WeekdaySelect (class)"><code>Tags::WeekdaySelect</code></a>,
          <a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)"><code>TextHelper</code></a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)"><code>::ActionView::TestCase</code></a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)"><code>::ActionView::TestCase::Behavior</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L11'>actionview/lib/action_view/helpers/sanitize_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Action+View+Sanitize+Helpers">Action View Sanitize Helpers</h3>

<p>The SanitizeHelper module provides a set of methods for scrubbing text of undesired HTML elements. These helper methods extend Action View making them callable within your template files.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#sanitizer_vendor-class_method" title=".sanitizer_vendor (class method)">.<strong>sanitizer_vendor</strong>  </a>
      (also: #sanitizer_vendor)
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a></td>
      <td><div class='inline'><p>Define class methods from given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#prepended-instance_method" title="ActiveSupport::Concern#prepended (method)">prepended</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>,
        <a class='i_m nodoc' href="../../ActiveSupport/Concern.html#prepend_features-instance_method" title="ActiveSupport::Concern#prepend_features (method)">prepend_features</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#sanitizer_vendor-instance_method" title="#sanitizer_vendor (instance method)">#<strong>sanitizer_vendor</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#sanitize-instance_method" title="#sanitize (instance method)">#<strong>sanitize</strong>(html, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sanitizes HTML input, stripping all but known-safe tags and attributes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sanitize_css-instance_method" title="#sanitize_css (instance method)">#<strong>sanitize_css</strong>(style)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sanitizes a block of CSS code.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip_links-instance_method" title="#strip_links (instance method)">#<strong>strip_links</strong>(html)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Strips all link tags from <code>html</code> leaving just the link text.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip_tags-instance_method" title="#strip_tags (instance method)">#<strong>strip_tags</strong>(html)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Strips all HTML tags from <code>html</code>, including comments and special characters.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="sanitizer_vendor-class_method">
  <h3 class='signature rw first'>
    .<strong>sanitizer_vendor</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#sanitizer_vendor</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L12-L12'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='12' data-end='12'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 12</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sanitizer_vendor'>sanitizer_vendor</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'>HTML4</span><span class='op'>::</span><span class='const'>Sanitizer</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="sanitizer_vendor-instance_method">
  <h3 class='signature rw first'>
    #<strong>sanitizer_vendor</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L12-L12'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='12' data-end='12'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 12</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sanitizer_vendor'>sanitizer_vendor</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'>HTML4</span><span class='op'>::</span><span class='const'>Sanitizer</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="sanitize-instance_method">
  <h3 class='signature  first'>
    #<strong>sanitize</strong>(html, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sanitizes HTML input, stripping all but known-safe tags and attributes.</p>

<p>It also strips <code>href</code> / <code>src</code> attributes with unsafe protocols like <code>javascript:</code>, while also protecting against attempts to use Unicode, ASCII, and hex character references to work around these protocol filters.</p>

<p>The default sanitizer is <code>Rails::HTML5::SafeListSanitizer</code>. See <a href="https://github.com/rails/rails-html-sanitizer">Rails HTML Sanitizers</a> for more information.</p>

<p>Custom sanitization rules can also be provided.</p>

<p><strong>Warning</strong>: Adding disallowed tags or attributes to the allowlists may introduce vulnerabilities into your application. Please rely on the default allowlists whenever possible, because they are curated to maintain security and safety. If you think that the default allowlists should be expanded, please <a href="https://github.com/rails/rails-html-sanitizer/issues">open an issue on the rails-html-sanitizer project</a>.</p>

<p>Please note that sanitizing user-provided text does not guarantee that the resulting markup is valid or even well-formed.</p>

<h4 id="label-Options">Options</h4>
<dl class="rdoc-list label-list"><dt><code>:tags</code></dt>
<dd>
<p>An array of allowed tags.</p>
</dd><dt><code>:attributes</code></dt>
<dd>
<p>An array of allowed attributes.</p>
</dd><dt><code>:scrubber</code></dt>
<dd>
<p>A <a href="https://github.com/rails/rails-html-sanitizer" target="_parent" title="Rails::HTML scrubber">Rails::HTML scrubber</a> or <a href="https://github.com/flavorjones/loofah" target="_parent" title="Loofah::Scrubber">Loofah::Scrubber</a> object that defines custom sanitization rules. A custom scrubber takes precedence over custom tags and attributes.</p>
</dd></dl>

<h4 id="label-Examples">Examples</h4>

<h5 id="label-Normal+use">Normal use</h5>

<pre class="code xml"><code class="xml">&lt;%= sanitize @comment.body %&gt;
</code></pre>

<h5 id="label-Providing+custom+lists+of+permitted+tags+and+attributes">Providing custom lists of permitted tags and attributes</h5>

<pre class="code xml"><code class="xml">&lt;%= sanitize @comment.body, tags: %w(strong em a), attributes: %w(href) %&gt;
</code></pre>

<h5 id="label-Providing+a+custom+-7BRails-3A-3AHTML-7D+scrubber">Providing a custom <code>Rails::HTML</code> scrubber</h5>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>CommentScrubber</span> <span class='op'>&lt;</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'>HTML</span><span class='op'>::</span><span class='const'>PermitScrubber</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='kw'>super</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='words_sep'> </span><span class='tstring_content'>form</span><span class='words_sep'> </span><span class='tstring_content'>script</span><span class='words_sep'> </span><span class='tstring_content'>comment</span><span class='words_sep'> </span><span class='tstring_content'>blockquote</span><span class='words_sep'> </span><span class='tstring_end'>)</span></span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='words_sep'> </span><span class='tstring_content'>style</span><span class='words_sep'> </span><span class='tstring_end'>)</span></span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_skip_node?'>skip_node?</span>(<span class='id identifier rubyid_node'>node</span>)
    <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_text?'>text?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p></p>

<pre class="code xml"><code class="xml">&lt;%= sanitize @comment.body, scrubber: CommentScrubber.new %&gt;
</code></pre>

<p>See <a href="https://github.com/rails/rails-html-sanitizer" target="_parent" title="{Rails">{Rails</a> HTML Sanitizer} for documentation about <code>Rails::HTML</code> scrubbers.</p>

<h5 id="label-Providing+a+custom+-7BLoofah-3A-3AScrubber-7D">Providing a custom <code>Loofah::Scrubber</code></h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_scrubber'>scrubber</span> <span class='op'>=</span> <span class='const'>Loofah</span><span class='op'>::</span><span class='const'>Scrubber</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_remove'>remove</span> <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>script</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

<p></p>

<pre class="code xml"><code class="xml">&lt;%= sanitize @comment.body, scrubber: scrubber %&gt;
</code></pre>

<p>See <a href="https://github.com/flavorjones/loofah" target="_parent" title="Loofah’s documentation">Loofah’s documentation</a> for more information about defining custom <code>Loofah::Scrubber</code> objects.</p>

<h4 id="label-Global+Configuration">Global Configuration</h4>

<p>To set the default allowed tags or attributes across your application:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In config/application.rb
</span><span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_action_view'>action_view</span>.<span class='id identifier rubyid_sanitized_allowed_tags'>sanitized_allowed_tags</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strong</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>em</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_action_view'>action_view</span>.<span class='id identifier rubyid_sanitized_allowed_attributes'>sanitized_allowed_attributes</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>href</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>title</span><span class='tstring_end'>&#39;</span></span>]</code></pre>

<p>The default, starting in Rails 7.1, is to use an HTML5 parser for sanitization (if it is available, see NOTE below). If you wish to revert back to the previous HTML4 behavior, you can do so by setting the following in your application configuration:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In config/application.rb
</span><span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_action_view'>action_view</span>.<span class='id identifier rubyid_sanitizer_vendor'><a href="#sanitizer_vendor-class_method" title="ActionView::Helpers::SanitizeHelper.sanitizer_vendor (method)">sanitizer_vendor</a></span> <span class='op'>=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'>HTML4</span><span class='op'>::</span><span class='const'>Sanitizer</span></code></pre>

<p>Or, if you’re upgrading from a previous version of Rails and wish to opt into the HTML5 behavior:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># In config/application.rb
</span><span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_action_view'>action_view</span>.<span class='id identifier rubyid_sanitizer_vendor'><a href="#sanitizer_vendor-class_method" title="ActionView::Helpers::SanitizeHelper.sanitizer_vendor (method)">sanitizer_vendor</a></span> <span class='op'>=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'>HTML5</span><span class='op'>::</span><span class='const'>Sanitizer</span></code></pre>

<p>NOTE: <code>Rails::HTML5::Sanitizer</code> is not supported on JRuby, so on JRuby platforms Rails will fall back to using <code>Rails::HTML4::Sanitizer</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L117-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='117' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 117</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sanitize'>sanitize</span>(<span class='id identifier rubyid_html'>html</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_safe_list_sanitizer'>safe_list_sanitizer</span>.<span class='id identifier rubyid_sanitize'>sanitize</span>(<span class='id identifier rubyid_html'>html</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)<span class='op'>&amp;.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sanitize_css-instance_method">
  <h3 class='signature '>
    #<strong>sanitize_css</strong>(style)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sanitizes a block of CSS code. Used by <a href="#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">#sanitize</a> when it comes across a style attribute.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L122-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sanitize_css'>sanitize_css</span>(<span class='id identifier rubyid_style'>style</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_safe_list_sanitizer'>safe_list_sanitizer</span>.<span class='id identifier rubyid_sanitize_css'>sanitize_css</span>(<span class='id identifier rubyid_style'>style</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip_links-instance_method">
  <h3 class='signature '>
    #<strong>strip_links</strong>(html)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Strips all link tags from <code>html</code> leaving just the link text.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;http://www.rubyonrails.org&quot;&gt;Ruby on Rails&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; Ruby on Rails
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Please e-mail me at &lt;a href=&quot;mailto:me@email.com&quot;&gt;me@email.com&lt;/a&gt;.</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; Please e-mail me at me@email.com.
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Blog: &lt;a href=&quot;http://www.myblog.com/&quot; class=&quot;nav&quot; target=\&quot;_blank\&quot;&gt;Visit&lt;/a&gt;.</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; Blog: Visit.
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;a href=&quot;https://example.org&quot;&gt;malformed &amp; link&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &amp;lt;malformed &amp;amp; link</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L156-L158'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='156' data-end='158'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 156</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='id identifier rubyid_html'>html</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_link_sanitizer'>link_sanitizer</span>.<span class='id identifier rubyid_sanitize'><a href="#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">sanitize</a></span>(<span class='id identifier rubyid_html'>html</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip_tags-instance_method">
  <h3 class='signature '>
    #<strong>strip_tags</strong>(html)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Strips all HTML tags from <code>html</code>, including comments and special characters.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Strip &lt;i&gt;these&lt;/i&gt; tags!</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Strip these tags!
</span>
<span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;b&gt;Bold&lt;/b&gt; no more!  &lt;a href=&#39;more.html&#39;&gt;See more here&lt;/a&gt;...</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Bold no more!  See more here...
</span>
<span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;div id=&#39;top-bar&#39;&gt;Welcome to my website!&lt;/div&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Welcome to my website!
</span>
<span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; A quote from Smith &amp; Wesson</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &amp;gt; A quote from Smith &amp;amp; Wesson</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/actionview/lib/action_view/helpers/sanitize_helper.rb#L139-L141'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='139' data-end='141'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/sanitize_helper.rb', line 139</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='id identifier rubyid_html'>html</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_full_sanitizer'>full_sanitizer</span>.<span class='id identifier rubyid_sanitize'><a href="#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">sanitize</a></span>(<span class='id identifier rubyid_html'>html</span>)<span class='op'>&amp;.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>