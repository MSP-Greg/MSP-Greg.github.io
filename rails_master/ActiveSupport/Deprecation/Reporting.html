<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveSupport::Deprecation::Reporting &mdash; Rails main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveSupport::Deprecation::Reporting",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails main</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a> &raquo; 
        <a href="../Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Reporting&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveSupport::Deprecation::Reporting</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../Deprecation.html" title="ActiveSupport::Deprecation (class)"><code>::ActiveSupport::Deprecation</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L7'>activesupport/lib/active_support/deprecation/reporting.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='LIB_DIR-constant' class='summary_signature priv'>LIB_DIR =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L154-L154'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 154</a>    <pre class='code ruby'></pre>
  </li>
  <li>
    <span id='RAILS_GEM_ROOT-constant' class='summary_signature priv'>RAILS_GEM_ROOT =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L152-L152'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 152</a>    <pre class='code ruby'><span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>../../../..</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid___dir__'>__dir__</span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#gem_name-instance_method" title="#gem_name (instance method)">#<strong>gem_name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Name of gem where method is deprecated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#silenced-instance_method" title="#silenced (instance method)">#<strong>silenced</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#silenced=-instance_method" title="#silenced= (instance method)">#<strong>silenced=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Whether to print a message (silent mode).</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#allow-instance_method" title="#allow (instance method)">#<strong>allow</strong>(allowed_warnings = :all, if: true, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Allow previously disallowed deprecation warnings within the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#deprecation_warning-instance_method" title="#deprecation_warning (instance method)">#<strong>deprecation_warning</strong>(deprecated_method_name, message = nil, caller_backtrace = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#silence-instance_method" title="#silence (instance method)">#<strong>silence</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Silence deprecation warnings within the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(message = nil, callstack = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Outputs a deprecation warning to the output configured by <code>ActiveSupport::Deprecation#behavior</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#deprecated_method_warning-instance_method" title="#deprecated_method_warning (instance method)">#<strong>deprecated_method_warning</strong>(method_name, message = nil)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Outputs a deprecation warning message.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#deprecation_caller_message-instance_method" title="#deprecation_caller_message (instance method)">#<strong>deprecation_caller_message</strong>(callstack)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#deprecation_message-instance_method" title="#deprecation_message (instance method)">#<strong>deprecation_message</strong>(callstack, message = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#extract_callstack-instance_method" title="#extract_callstack (instance method)">#<strong>extract_callstack</strong>(callstack)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#ignored_callstack%3F-instance_method" title="#ignored_callstack? (instance method)">#<strong>ignored_callstack?</strong>(path)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#begin_silence-instance_method" title="#begin_silence (instance method)">#<strong>begin_silence</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#end_silence-instance_method" title="#end_silence (instance method)">#<strong>end_silence</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="gem_name-instance_method">
  <h3 class='signature rw first'>
    #<strong>gem_name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Name of gem where method is deprecated</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L11-L11'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11' data-end='11'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 11</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gem_name'>gem_name</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="silenced-instance_method">
  <h3 class='signature rw'>
    #<strong>silenced</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L56-L58'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='56' data-end='58'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_silenced'>silenced</span>
  <span class='ivar'>@silenced</span> <span class='op'>||</span> <span class='ivar'>@silence_counter</span>.<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_nonzero?'>nonzero?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="silenced=-instance_method">
  <h3 class='signature rw'>
    #<strong>silenced=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Whether to print a message (silent mode)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L9-L9'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9' data-end='9'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 9</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_silenced'><a href="#silenced-instance_method" title="ActiveSupport::Deprecation::Reporting#silenced (method)">silenced</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="allow-instance_method">
  <h3 class='signature  first'>
    #<strong>allow</strong>(allowed_warnings = :all, if: true, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Allow previously disallowed deprecation warnings within the block. <code>allowed_warnings</code> can be an array containing strings, symbols, or regular expressions. (Symbols are treated as strings). These are compared against the text of deprecation warning messages generated within the block. Matching warnings will be exempt from the rules set by <code>ActiveSupport::Deprecation#disallowed_warnings</code>.</p>

<p>The optional <code>if:</code> argument accepts a truthy/falsy value or an object that responds to <code>.call</code>. If truthy, then matching warnings will be allowed. If falsey then the method yields to the block without allowing the warning.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span> <span class='op'>=</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span>.<span class='id identifier rubyid_new'><a href="../Deprecation.html#new-class_method" title="ActiveSupport::Deprecation.new (method)">new</a></span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_disallowed_behavior'>disallowed_behavior</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_disallowed_warnings'>disallowed_warnings</span> <span class='op'>=</span> [
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>something broke</span><span class='tstring_end'>&quot;</span></span>
]

<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; ActiveSupport::DeprecationException
</span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_allow'>allow</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke</span><span class='tstring_end'>&#39;</span></span>] <span class='kw'>do</span>
  <span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
<span class='comment'># =&gt; nil
</span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_allow'>allow</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='label'>if:</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_env'><a href="../../Rails.html#env-class_method" title="Rails.env (method)">env</a></span>.<span class='id identifier rubyid_production?'>production?</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
<span class='comment'># =&gt; ActiveSupport::DeprecationException for dev/test, nil for production</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L89-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='89' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 89</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_allow'>allow</span>(<span class='id identifier rubyid_allowed_warnings'>allowed_warnings</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='label'>if:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_conditional'>conditional</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>.<span class='id identifier rubyid_local_variable_get'>local_variable_get</span>(<span class='symbeg'>:</span><span class='kw'>if</span>)
  <span class='id identifier rubyid_conditional'>conditional</span> <span class='op'>=</span> <span class='id identifier rubyid_conditional'>conditional</span>.<span class='id identifier rubyid_call'>call</span> <span class='kw'>if</span> <span class='id identifier rubyid_conditional'>conditional</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_conditional'>conditional</span>
    <span class='ivar'>@explicitly_allowed_warnings</span>.<span class='id identifier rubyid_bind'>bind</span>(<span class='id identifier rubyid_allowed_warnings'>allowed_warnings</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>else</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="begin_silence-instance_method">
  <h3 class='signature nodoc'>
    #<strong>begin_silence</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L48-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='48' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 48</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_begin_silence'>begin_silence</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@silence_counter</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deprecated_method_warning-instance_method">
  <h3 class='signature priv'>
    #<strong>deprecated_method_warning</strong>(method_name, message = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Outputs a deprecation warning message</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_deprecated_method_warning'>deprecated_method_warning</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_method_name'>method_name</span>)
<span class='comment'># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon}&quot;
</span><span class='id identifier rubyid_deprecated_method_warning'>deprecated_method_warning</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_another_method'>another_method</span>)
<span class='comment'># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon} (use another_method instead)&quot;
</span><span class='id identifier rubyid_deprecated_method_warning'>deprecated_method_warning</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Optional message</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon} (Optional message)&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L115-L122'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='122'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deprecated_method_warning'>deprecated_method_warning</span>(<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_warning'>warning</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_name'>method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is deprecated and will be removed from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'><a href="#gem_name-instance_method" title="ActiveSupport::Deprecation::Reporting#gem_name (method)">gem_name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_deprecation_horizon'><a href="../Deprecation.html#deprecation_horizon-instance_method" title="ActiveSupport::Deprecation#deprecation_horizon (method)">deprecation_horizon</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_warning'>warning</span><span class='embexpr_end'>}</span><span class='tstring_content'> (use </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> instead)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_warning'>warning</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span> <span class='id identifier rubyid_warning'>warning</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deprecation_caller_message-instance_method">
  <h3 class='signature priv'>
    #<strong>deprecation_caller_message</strong>(callstack)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L129-L138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='129' data-end='138'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 129</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deprecation_caller_message'>deprecation_caller_message</span>(<span class='id identifier rubyid_callstack'>callstack</span>)
  <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_callstack'><a href="#extract_callstack-instance_method" title="ActiveSupport::Deprecation::Reporting#extract_callstack (method)">extract_callstack</a></span>(<span class='id identifier rubyid_callstack'>callstack</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method'>method</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(called from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_content'> at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(called from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deprecation_message-instance_method">
  <h3 class='signature priv'>
    #<strong>deprecation_message</strong>(callstack, message = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L124-L127'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='124' data-end='127'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 124</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deprecation_message'>deprecation_message</span>(<span class='id identifier rubyid_callstack'>callstack</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_message'>message</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You are using deprecated behavior which will be removed from the next major or minor release.</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DEPRECATION WARNING: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_deprecation_caller_message'><a href="#deprecation_caller_message-instance_method" title="ActiveSupport::Deprecation::Reporting#deprecation_caller_message (method)">deprecation_caller_message</a></span>(<span class='id identifier rubyid_callstack'>callstack</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deprecation_warning-instance_method">
  <h3 class='signature '>
    #<strong>deprecation_warning</strong>(deprecated_method_name, message = nil, caller_backtrace = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L99-L104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='99' data-end='104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deprecation_warning'>deprecation_warning</span>(<span class='id identifier rubyid_deprecated_method_name'>deprecated_method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_caller_backtrace'>caller_backtrace</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_caller_backtrace'>caller_backtrace</span> <span class='op'>||=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>2</span>)
  <span class='id identifier rubyid_deprecated_method_warning'><a href="#deprecated_method_warning-instance_method" title="ActiveSupport::Deprecation::Reporting#deprecated_method_warning (method)">deprecated_method_warning</a></span>(<span class='id identifier rubyid_deprecated_method_name'>deprecated_method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='op'>|</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_caller_backtrace'>caller_backtrace</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="end_silence-instance_method">
  <h3 class='signature nodoc'>
    #<strong>end_silence</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L52-L54'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='52' data-end='54'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_end_silence'>end_silence</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@silence_counter</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>-=</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_callstack-instance_method">
  <h3 class='signature priv'>
    #<strong>extract_callstack</strong>(callstack)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L140-L150'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='150'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_callstack'>extract_callstack</span>(<span class='id identifier rubyid_callstack'>callstack</span>)
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='id identifier rubyid_callstack'>callstack</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_offending_line'>offending_line</span> <span class='op'>=</span> <span class='id identifier rubyid_callstack'>callstack</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>|</span>
    <span class='comment'># Code generated with `eval` doesn&#39;t have an `absolute_path`, e.g. templates.
</span>    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_absolute_path'>absolute_path</span> <span class='op'>||</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_ignored_callstack?'><a href="#ignored_callstack%3F-instance_method" title="ActiveSupport::Deprecation::Reporting#ignored_callstack? (method)">ignored_callstack?</a></span>(<span class='id identifier rubyid_path'>path</span>)
  } <span class='op'>||</span> <span class='id identifier rubyid_callstack'>callstack</span>.<span class='id identifier rubyid_first'>first</span>

  [<span class='id identifier rubyid_offending_line'>offending_line</span>.<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_offending_line'>offending_line</span>.<span class='id identifier rubyid_lineno'>lineno</span><span class='comma'>,</span> <span class='id identifier rubyid_offending_line'>offending_line</span>.<span class='id identifier rubyid_label'>label</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ignored_callstack?-instance_method">
  <h3 class='signature priv'>
    #<strong>ignored_callstack?</strong>(path)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L157-L159'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='157' data-end='159'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 157</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ignored_callstack?'>ignored_callstack?</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='const'><a href="#RAILS_GEM_ROOT-constant" title="ActiveSupport::Deprecation::Reporting::RAILS_GEM_ROOT (constant)">RAILS_GEM_ROOT</a></span><span class='comma'>,</span> <span class='const'><a href="#LIB_DIR-constant" title="ActiveSupport::Deprecation::Reporting::LIB_DIR (constant)">LIB_DIR</a></span>) <span class='op'>||</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;internal:</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="silence-instance_method">
  <h3 class='signature '>
    #<strong>silence</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Silence deprecation warnings within the block.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span> <span class='op'>=</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span>.<span class='id identifier rubyid_new'><a href="../Deprecation.html#new-class_method" title="ActiveSupport::Deprecation.new (method)">new</a></span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;DEPRECATION WARNING: something broke! (called from your_code.rb:1)&quot;
</span>
<span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_silence'>silence</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_deprecator'><a href="../../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
<span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L41-L46'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='41' data-end='46'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 41</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_silence'>silence</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_begin_silence'><a href="#begin_silence-instance_method" title="ActiveSupport::Deprecation::Reporting#begin_silence (method)">begin_silence</a></span>
  <span class='id identifier rubyid_block'>block</span>.<span class='id identifier rubyid_call'>call</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_end_silence'><a href="#end_silence-instance_method" title="ActiveSupport::Deprecation::Reporting#end_silence (method)">end_silence</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warn-instance_method">
  <h3 class='signature '>
    #<strong>warn</strong>(message = nil, callstack = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Outputs a deprecation warning to the output configured by <code>ActiveSupport::Deprecation#behavior</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span>.<span class='id identifier rubyid_new'><a href="../Deprecation.html#new-class_method" title="ActiveSupport::Deprecation.new (method)">new</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>something broke!</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;DEPRECATION WARNING: something broke! (called from your_code.rb:1)&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activesupport/lib/active_support/deprecation/reporting.rb#L18-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='18' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/deprecation/reporting.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn'>warn</span>(<span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_callstack'>callstack</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_silenced'><a href="#silenced-instance_method" title="ActiveSupport::Deprecation::Reporting#silenced (method)">silenced</a></span>

  <span class='id identifier rubyid_callstack'>callstack</span> <span class='op'>||=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>2</span>)
  <span class='id identifier rubyid_deprecation_message'><a href="#deprecation_message-instance_method" title="ActiveSupport::Deprecation::Reporting#deprecation_message (method)">deprecation_message</a></span>(<span class='id identifier rubyid_callstack'>callstack</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_full_message'>full_message</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_deprecation_disallowed?'>deprecation_disallowed?</span>(<span class='id identifier rubyid_message'>message</span>)
      <span class='id identifier rubyid_disallowed_behavior'>disallowed_behavior</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_full_message'>full_message</span><span class='comma'>,</span> <span class='id identifier rubyid_callstack'>callstack</span><span class='comma'>,</span> <span class='kw'>self</span>) }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_behavior'>behavior</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_full_message'>full_message</span><span class='comma'>,</span> <span class='id identifier rubyid_callstack'>callstack</span><span class='comma'>,</span> <span class='kw'>self</span>) }
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>