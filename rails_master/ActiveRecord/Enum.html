<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Enum &mdash; Rails main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Enum",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails main</a> &raquo; 
      <a href='../_index.html#alpha_E'>Index (E)</a> &raquo; 
        <a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Enum&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveRecord::Enum</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="Enum/EnumMethods.html" title="ActiveRecord::Enum::EnumMethods (class)"><code>EnumMethods</code></a>,
        <a class='nodoc' href="Enum/EnumType.html" title="ActiveRecord::Enum::EnumType (class)"><code>EnumType</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="Base.html" title="ActiveRecord::Base (class)"><code>Base</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L165'>activerecord/lib/active_record/enum.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Declare an enum attribute where the values map to integers in the database, but can be queried by name. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]
<span class='kw'>end</span>

<span class='comment'># conversation.update! status: 0
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_active!'>active!</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_active?'>active?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span>  <span class='comment'># =&gt; &quot;active&quot;
</span>
<span class='comment'># conversation.update! status: 1
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_archived!'>archived!</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_archived?'>archived?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span>    <span class='comment'># =&gt; &quot;archived&quot;
</span>
<span class='comment'># conversation.status = 1
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>archived</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span>      <span class='comment'># =&gt; nil</span></code></pre>

<p>Scopes based on the allowed values of the enum field will be provided as well. With the above example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span>.<span class='id identifier rubyid_active'>active</span>
<span class='const'>Conversation</span>.<span class='id identifier rubyid_not_active'>not_active</span>
<span class='const'>Conversation</span>.<span class='id identifier rubyid_archived'>archived</span>
<span class='const'>Conversation</span>.<span class='id identifier rubyid_not_archived'>not_archived</span></code></pre>

<p>Of course, you can also query them directly if the scopes don’t fit your needs:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span>.<span class='id identifier rubyid_where'>where</span>(<span class='label'>status:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span>])
<span class='const'>Conversation</span>.<span class='id identifier rubyid_where'>where</span>.<span class='id identifier rubyid_not'>not</span>(<span class='label'>status:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>)</code></pre>

<p>Defining scopes can be disabled by setting <code>:scopes</code> to <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>scopes:</span> <span class='kw'>false</span>
<span class='kw'>end</span></code></pre>

<p>You can set the default enum value by setting <code>:default</code>, like:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>default:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_conversation'>conversation</span> <span class='op'>=</span> <span class='const'>Conversation</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='comment'># =&gt; &quot;active&quot;</span></code></pre>

<p>It’s possible to explicitly map the relation between attribute and database integer with a hash:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='label'>active:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>archived:</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>

<p>Finally it’s also possible to use a string column to persist the enumerated value. Note that this will likely lead to slower database queries:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='label'>active:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>active</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>archived:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>archived</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>Note that when an array is used, the implicit mapping from the values to database integers is derived from the order the values appear in the array. In the example, <code>:active</code> is mapped to <code>0</code> as it’s the first element, and <code>:archived</code> is mapped to <code>1</code>. In general, the <code>i</code>-th element is mapped to <code>i-1</code> in the database.</p>

<p>Therefore, once a value is added to the enum array, its position in the array must be maintained, and new values should only be added to the end of the array. To remove unused values, the explicit hash syntax should be used.</p>

<p>In rare circumstances you might need to access the mapping directly. The mappings are exposed through a class method with the pluralized attribute name, which return the mapping in a <a href="../ActiveSupport/HashWithIndifferentAccess.html" title="ActiveSupport::HashWithIndifferentAccess (class)"><code>::ActiveSupport::HashWithIndifferentAccess</code></a> :</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span>.<span class='id identifier rubyid_statuses'>statuses</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>]    <span class='comment'># =&gt; 0
</span><span class='const'>Conversation</span>.<span class='id identifier rubyid_statuses'>statuses</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>archived</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; 1</span></code></pre>

<p>Use that class method when you need to know the ordinal value of an enum. For example, you can use that when manually building SQL strings:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span>.<span class='id identifier rubyid_where'>where</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>status &lt;&gt; ?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Conversation</span>.<span class='id identifier rubyid_statuses'>statuses</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span>])</code></pre>

<p>You can use the <code>:prefix</code> or <code>:suffix</code> options when you need to define multiple enums with same values. If the passed value is <code>true</code>, the methods are prefixed/suffixed with the name of the enum. It is also possible to supply a custom value:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>suffix:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments_status'>comments_status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inactive'>inactive</span> ]<span class='comma'>,</span> <span class='label'>prefix:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
<span class='kw'>end</span></code></pre>

<p>With the above example, the bang and predicate methods along with the associated scopes are now prefixed and/or suffixed accordingly:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_active_status!'>active_status!</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_archived_status?'>archived_status?</span> <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_comments_inactive!'>comments_inactive!</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_comments_active?'>comments_active?</span> <span class='comment'># =&gt; false</span></code></pre>

<p>If you want to disable the auto-generated methods on the model, you can do so by setting the <code>:instance_methods</code> option to false:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>instance_methods:</span> <span class='kw'>false</span>
<span class='kw'>end</span></code></pre>

<p>If you want the enum value to be validated before saving, use the option <code>:validate</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>validate:</span> <span class='kw'>true</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_conversation'>conversation</span> <span class='op'>=</span> <span class='const'>Conversation</span>.<span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unknown'>unknown</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; true</span></code></pre>

<p>It is also possible to pass additional validation options:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]<span class='comma'>,</span> <span class='label'>validate:</span> { <span class='label'>allow_nil:</span> <span class='kw'>true</span> }
<span class='kw'>end</span>

<span class='id identifier rubyid_conversation'>conversation</span> <span class='op'>=</span> <span class='const'>Conversation</span>.<span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unknown'>unknown</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Otherwise <code>ArgumentError</code> will raise:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'><a href="#enum-instance_method" title="ActiveRecord::Enum#enum (method)">enum</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> ]
<span class='kw'>end</span>

<span class='id identifier rubyid_conversation'>conversation</span> <span class='op'>=</span> <span class='const'>Conversation</span>.<span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_conversation'>conversation</span>.<span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unknown'>unknown</span> <span class='comment'># &#39;unknown&#39; is not a valid status (ArgumentError)</span></code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ENUM_CONFLICT_MESSAGE-constant' class='summary_signature priv'>ENUM_CONFLICT_MESSAGE =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L373-L376'># File 'activerecord/lib/active_record/enum.rb', line 373</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You tried to define an enum named \&quot;%{enum}\&quot; on the model \&quot;%{klass}\&quot;, but </span><span class='tstring_end'>&quot;</span></span> \
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this will generate a %{type} method \&quot;%{method}\&quot;, which is already defined </span><span class='tstring_end'>&quot;</span></span> \
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>by %{source}.</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#extended-class_method" title=".extended (class method)">.<strong>extended</strong>(base)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#_enum_methods_module-instance_method" title="#_enum_methods_module (instance method)">#<strong>_enum_methods_module</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assert_valid_enum_definition_values-instance_method" title="#assert_valid_enum_definition_values (instance method)">#<strong>assert_valid_enum_definition_values</strong>(values)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#detect_enum_conflict!-instance_method" title="#detect_enum_conflict! (instance method)">#<strong>detect_enum_conflict!</strong>(enum_name, method_name, klass_method = false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#detect_negative_enum_conditions!-instance_method" title="#detect_negative_enum_conditions! (instance method)">#<strong>detect_negative_enum_conditions!</strong>(method_names)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enum-instance_method" title="#enum (instance method)">#<strong>enum</strong>(name = nil, values = nil, **options)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#raise_conflict_error-instance_method" title="#raise_conflict_error (instance method)">#<strong>raise_conflict_error</strong>(enum_name, method_name, type: &quot;instance&quot;, source: &quot;Active Record&quot;)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_enum-instance_method" title="#_enum (instance method)">#<strong>_enum</strong>(name, values, prefix: nil, suffix: nil, scopes: true, instance_methods: true, validate: false, **options)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#inherited-instance_method" title="#inherited (instance method)">#<strong>inherited</strong>(base)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="extended-class_method">
  <h3 class='signature nodoc first'>
    .<strong>extended</strong>(base)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L166-L168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='166' data-end='168'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_extended'>extended</span>(<span class='id identifier rubyid_base'>base</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_base'>base</span>.<span class='id identifier rubyid_class_attribute'>class_attribute</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_defined_enums'>defined_enums</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> {})
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_enum-instance_method">
  <h3 class='signature priv first'>
    #<strong>_enum</strong>(name, values, prefix: nil, suffix: nil, scopes: true, instance_methods: true, validate: false, **options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L241-L304'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='241' data-end='304'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 241</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__enum'>_enum</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='comma'>,</span> <span class='label'>prefix:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>suffix:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>scopes:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>instance_methods:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>validate:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_assert_valid_enum_definition_values'><a href="#assert_valid_enum_definition_values-instance_method" title="ActiveRecord::Enum#assert_valid_enum_definition_values (method)">assert_valid_enum_definition_values</a></span>(<span class='id identifier rubyid_values'>values</span>)
  <span class='comment'># statuses = { }
</span>  <span class='id identifier rubyid_enum_values'>enum_values</span> <span class='op'>=</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../ActiveSupport/HashWithIndifferentAccess.html" title="ActiveSupport::HashWithIndifferentAccess (class)">HashWithIndifferentAccess</a></span>.<span class='id identifier rubyid_new'><a href="../ActiveSupport/HashWithIndifferentAccess.html#new-class_method" title="ActiveSupport::HashWithIndifferentAccess.new (method)">new</a></span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_to_s'>to_s</span>

  <span class='comment'># def self.statuses() statuses end
</span>  <span class='id identifier rubyid_detect_enum_conflict!'><a href="#detect_enum_conflict!-instance_method" title="ActiveRecord::Enum#detect_enum_conflict! (method)">detect_enum_conflict!</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_pluralize'>pluralize</span><span class='comma'>,</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_singleton_class'>singleton_class</span>.<span class='id identifier rubyid_define_method'>define_method</span>(<span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_pluralize'>pluralize</span>) { <span class='id identifier rubyid_enum_values'>enum_values</span> }
  <span class='id identifier rubyid_defined_enums'>defined_enums</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>=</span> <span class='id identifier rubyid_enum_values'>enum_values</span>

  <span class='id identifier rubyid_detect_enum_conflict!'><a href="#detect_enum_conflict!-instance_method" title="ActiveRecord::Enum#detect_enum_conflict! (method)">detect_enum_conflict!</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
  <span class='id identifier rubyid_detect_enum_conflict!'><a href="#detect_enum_conflict!-instance_method" title="ActiveRecord::Enum#detect_enum_conflict! (method)">detect_enum_conflict!</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>)

  <span class='id identifier rubyid_attribute'>attribute</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)

  <span class='id identifier rubyid_decorate_attributes'>decorate_attributes</span>([<span class='id identifier rubyid_name'>name</span>]) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__name'>_name</span><span class='comma'>,</span> <span class='id identifier rubyid_subtype'>subtype</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_subtype'>subtype</span> <span class='op'>==</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="../ActiveModel/Type.html" title="ActiveModel::Type (module)">Type</a></span>.<span class='id identifier rubyid_default_value'><a href="../ActiveModel/Type.html#default_value-class_method" title="ActiveModel::Type.default_value (method)">default_value</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Undeclared attribute type for enum &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Enums must be</span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> backed by a database column or declared with an explicit type</span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> via `attribute`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_subtype'>subtype</span> <span class='op'>=</span> <span class='id identifier rubyid_subtype'>subtype</span>.<span class='id identifier rubyid_subtype'>subtype</span> <span class='kw'>if</span> <span class='const'><a href="Enum/EnumType.html" title="ActiveRecord::Enum::EnumType (class)">EnumType</a></span> <span class='op'>===</span> <span class='id identifier rubyid_subtype'>subtype</span>
    <span class='const'><a href="Enum/EnumType.html" title="ActiveRecord::Enum::EnumType (class)">EnumType</a></span>.<span class='id identifier rubyid_new'><a href="Enum/EnumType.html#new-class_method" title="ActiveRecord::Enum::EnumType.new (method)">new</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_enum_values'>enum_values</span><span class='comma'>,</span> <span class='id identifier rubyid_subtype'>subtype</span><span class='comma'>,</span> <span class='label'>raise_on_invalid_values:</span> <span class='op'>!</span><span class='id identifier rubyid_validate'>validate</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_value_method_names'>value_method_names</span> <span class='op'>=</span> []
  <span class='id identifier rubyid__enum_methods_module'><a href="#_enum_methods_module-instance_method" title="ActiveRecord::Enum#_enum_methods_module (method)">_enum_methods_module</a></span>.<span class='id identifier rubyid_module_eval'>module_eval</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span>
      <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>==</span> <span class='kw'>true</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_suffix'>suffix</span>
      <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>==</span> <span class='kw'>true</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_each_pair'>each_pair</span>) <span class='op'>?</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_each_pair'>each_pair</span> <span class='op'>:</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>
    <span class='id identifier rubyid_pairs'>pairs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='id identifier rubyid_enum_values'>enum_values</span>[<span class='id identifier rubyid_label'>label</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
      <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_label'>label</span>.<span class='id identifier rubyid_to_s'>to_s</span>

      <span class='id identifier rubyid_value_method_name'>value_method_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_value_method_names'>value_method_names</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value_method_name'>value_method_name</span>
      <span class='id identifier rubyid_define_enum_methods'>define_enum_methods</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_scopes'>scopes</span><span class='comma'>,</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span>)

      <span class='id identifier rubyid_method_friendly_label'>method_friendly_label</span> <span class='op'>=</span> <span class='id identifier rubyid_label'>label</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\W&amp;&amp;[:ascii:]]+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_value_method_alias'>value_method_alias</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_friendly_label'>method_friendly_label</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='kw'>if</span> <span class='id identifier rubyid_value_method_alias'>value_method_alias</span> <span class='op'>!=</span> <span class='id identifier rubyid_value_method_name'>value_method_name</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_value_method_names'>value_method_names</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_value_method_alias'>value_method_alias</span>)
        <span class='id identifier rubyid_value_method_names'>value_method_names</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value_method_alias'>value_method_alias</span>
        <span class='id identifier rubyid_define_enum_methods'>define_enum_methods</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method_alias'>value_method_alias</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_scopes'>scopes</span><span class='comma'>,</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_detect_negative_enum_conditions!'><a href="#detect_negative_enum_conditions!-instance_method" title="ActiveRecord::Enum#detect_negative_enum_conditions! (method)">detect_negative_enum_conditions!</a></span>(<span class='id identifier rubyid_value_method_names'>value_method_names</span>) <span class='kw'>if</span> <span class='id identifier rubyid_scopes'>scopes</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_validate'>validate</span>
    <span class='id identifier rubyid_validate'>validate</span> <span class='op'>=</span> {} <span class='kw'>unless</span> <span class='const'><a href="../Hash.html" title="Hash (class)">Hash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_validate'>validate</span>
    <span class='id identifier rubyid_validates_inclusion_of'>validates_inclusion_of</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>in:</span> <span class='id identifier rubyid_enum_values'>enum_values</span>.<span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_validate'>validate</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_enum_values'>enum_values</span>.<span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_enum_methods_module-instance_method">
  <h3 class='signature '>
    #<strong>_enum_methods_module</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L338-L344'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='338' data-end='344'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 338</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__enum_methods_module'>_enum_methods_module</span>
  <span class='ivar'>@_enum_methods_module</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='const'><a href="Enum/EnumMethods.html" title="ActiveRecord::Enum::EnumMethods (class)">EnumMethods</a></span>.<span class='id identifier rubyid_new'><a href="Enum/EnumMethods.html#new-class_method" title="ActiveRecord::Enum::EnumMethods.new (method)">new</a></span>(<span class='kw'>self</span>)
    <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_mod'>mod</span>
    <span class='id identifier rubyid_mod'>mod</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="assert_valid_enum_definition_values-instance_method">
  <h3 class='signature '>
    #<strong>assert_valid_enum_definition_values</strong>(values)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L346-L371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='346' data-end='371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 346</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_assert_valid_enum_definition_values'>assert_valid_enum_definition_values</span>(<span class='id identifier rubyid_values'>values</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_values'>values</span>
  <span class='kw'>when</span> <span class='const'><a href="../Hash.html" title="Hash (class)">Hash</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must not be empty.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_blank?'>blank?</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must not contain a blank name.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must not be empty.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span>) <span class='op'>||</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="../String.html" title="String (class)">String</a></span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must only contain symbols or strings.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_blank?'>blank?</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must not contain a blank name.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum values </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_content'> must be either a non-empty hash or an array.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="detect_enum_conflict!-instance_method">
  <h3 class='signature '>
    #<strong>detect_enum_conflict!</strong>(enum_name, method_name, klass_method = false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L379-L391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='379' data-end='391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 379</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dangerous_class_method?'>dangerous_class_method?</span>(<span class='id identifier rubyid_method_name'>method_name</span>)
    <span class='id identifier rubyid_raise_conflict_error'><a href="#raise_conflict_error-instance_method" title="ActiveRecord::Enum#raise_conflict_error (method)">raise_conflict_error</a></span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method_defined_within?'>method_defined_within?</span>(<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='const'><a href="Relation.html" title="ActiveRecord::Relation (class)">Relation</a></span>)
    <span class='id identifier rubyid_raise_conflict_error'><a href="#raise_conflict_error-instance_method" title="ActiveRecord::Enum#raise_conflict_error (method)">raise_conflict_error</a></span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>source:</span> <span class='const'><a href="Relation.html" title="ActiveRecord::Relation (class)">Relation</a></span>.<span class='id identifier rubyid_name'>name</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method_name'>method_name</span>.<span class='id identifier rubyid_to_sym'>to_sym</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span>
    <span class='id identifier rubyid_raise_conflict_error'><a href="#raise_conflict_error-instance_method" title="ActiveRecord::Enum#raise_conflict_error (method)">raise_conflict_error</a></span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>)
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dangerous_attribute_method?'>dangerous_attribute_method?</span>(<span class='id identifier rubyid_method_name'>method_name</span>)
    <span class='id identifier rubyid_raise_conflict_error'><a href="#raise_conflict_error-instance_method" title="ActiveRecord::Enum#raise_conflict_error (method)">raise_conflict_error</a></span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>)
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method_defined_within?'>method_defined_within?</span>(<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid__enum_methods_module'><a href="#_enum_methods_module-instance_method" title="ActiveRecord::Enum#_enum_methods_module (method)">_enum_methods_module</a></span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span>)
    <span class='id identifier rubyid_raise_conflict_error'><a href="#raise_conflict_error-instance_method" title="ActiveRecord::Enum#raise_conflict_error (method)">raise_conflict_error</a></span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>source:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>another enum</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="detect_negative_enum_conditions!-instance_method">
  <h3 class='signature '>
    #<strong>detect_negative_enum_conditions!</strong>(method_names)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L403-L414'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='403' data-end='414'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 403</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_detect_negative_enum_conditions!'>detect_negative_enum_conditions!</span>(<span class='id identifier rubyid_method_names'>method_names</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_logger'>logger</span>

  <span class='id identifier rubyid_method_names'>method_names</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not_</span><span class='tstring_end'>&quot;</span></span>) }.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_potential_not'>potential_not</span><span class='op'>|</span>
    <span class='id identifier rubyid_inverted_form'>inverted_form</span> <span class='op'>=</span> <span class='id identifier rubyid_potential_not'>potential_not</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_method_names'>method_names</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_inverted_form'>inverted_form</span>)
      <span class='id identifier rubyid_logger'>logger</span>.<span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enum element &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_potential_not'>potential_not</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> uses the prefix &#39;not_&#39;.</span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> This has caused a conflict with auto generated negative scopes.</span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> Avoid using enum elements starting with &#39;not&#39; where the positive form is also an element.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enum-instance_method">
  <h3 class='signature '>
    #<strong>enum</strong>(name = nil, values = nil, **options)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L216-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='216' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 216</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enum'>enum</span>(<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_values'>values</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> {} <span class='kw'>unless</span> <span class='id identifier rubyid_values'>values</span>
    <span class='kw'>return</span> <span class='id identifier rubyid__enum'><a href="#_enum-instance_method" title="ActiveRecord::Enum#_enum (method)">_enum</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_definitions'>definitions</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='symbeg'>:</span><span class='id identifier rubyid__prefix'>_prefix</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__suffix'>_suffix</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__scopes'>_scopes</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__default'>_default</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__instance_methods'>_instance_methods</span>)
  <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span> { <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='symbeg'>:&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }

  <span class='id identifier rubyid_definitions'>definitions</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='op'>|</span> <span class='id identifier rubyid__enum'><a href="#_enum-instance_method" title="ActiveRecord::Enum#_enum (method)">_enum</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>) }

  <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_deprecator'><a href="../ActiveRecord.html#deprecator-class_method" title="ActiveRecord.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='heredoc_beg'>&lt;&lt;~MSG</span>)
<span class='ignored_sp'>    </span><span class='tstring_content'>Defining enums with keyword arguments is deprecated and will be removed
</span><span class='ignored_sp'>    </span><span class='tstring_content'>in Rails 7.3. Positional arguments should be used instead:
</span><span class='tstring_content'>
</span><span class='ignored_sp'>    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_definitions'>definitions</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>enum :</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_values'>values</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  MSG
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inherited-instance_method">
  <h3 class='signature priv'>
    #<strong>inherited</strong>(base)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L236-L239'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='236' data-end='239'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 236</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inherited'>inherited</span>(<span class='id identifier rubyid_base'>base</span>)
  <span class='id identifier rubyid_base'>base</span>.<span class='id identifier rubyid_defined_enums'>defined_enums</span> <span class='op'>=</span> <span class='id identifier rubyid_defined_enums'>defined_enums</span>.<span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="raise_conflict_error-instance_method">
  <h3 class='signature '>
    #<strong>raise_conflict_error</strong>(enum_name, method_name, type: &quot;instance&quot;, source: &quot;Active Record&quot;)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/main/activerecord/lib/active_record/enum.rb#L393-L401'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='393' data-end='401'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 393</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_conflict_error'>raise_conflict_error</span>(<span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>instance</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>source:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Active Record</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='const'><a href="#ENUM_CONFLICT_MESSAGE-constant" title="ActiveRecord::Enum::ENUM_CONFLICT_MESSAGE (constant)">ENUM_CONFLICT_MESSAGE</a></span> <span class='op'>%</span> {
    <span class='label'>enum:</span> <span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span>
    <span class='label'>klass:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span>
    <span class='label'>method:</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span>
    <span class='label'>source:</span> <span class='id identifier rubyid_source'>source</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>