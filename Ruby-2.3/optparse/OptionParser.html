<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: OptionParser &mdash; optparse Ruby-2.3.2 p139</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "OptionParser",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.3.2</a> &raquo; 
          <a href='index.html'>optparse</a> &raquo; 
          <a href='_index.html'>Index (O)</a> &raquo; 
          <span class='title'>OptionParser</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: OptionParser</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>OptionParser</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <div class='box_max'>
        <a href="OptionParser/Acceptables.html" title="OptionParser::Acceptables (module)">Acceptables</a>,
    <a href="OptionParser/Arguable.html" title="OptionParser::Arguable (module)">Arguable</a>,
    <a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="OptionParser/AC.html" title="OptionParser::AC (class)">AC</a>,
    <a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a>,
    <a href="OptionParser/List.html" title="OptionParser::List (class)">List</a>,
    <a href="OptionParser/OptionMap.html" title="OptionParser::OptionMap (class)">OptionMap</a>,
    <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <div class='box_max'>
        <a href="OptionParser/AmbiguousArgument.html" title="OptionParser::AmbiguousArgument (class)">AmbiguousArgument</a>,
    <a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a>,
    <a href="OptionParser/InvalidArgument.html" title="OptionParser::InvalidArgument (class)">InvalidArgument</a>,
    <a href="OptionParser/InvalidOption.html" title="OptionParser::InvalidOption (class)">InvalidOption</a>,
    <a href="OptionParser/MissingArgument.html" title="OptionParser::MissingArgument (class)">MissingArgument</a>,
    <a href="OptionParser/NeedlessArgument.html" title="OptionParser::NeedlessArgument (class)">NeedlessArgument</a>,
    <a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a>
      </div>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Direct Subclasses:</td>
    <td>
      <a href="OptionParser/AC.html" title="OptionParser::AC (class)">AC</a>
    </td>
  </tr>


  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L395'>lib/optparse.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h3 id="label-OptionParser">OptionParser</h3>

<h4 id="label-Introduction">Introduction</h4>

<p>OptionParser is a class for command-line option analysis.  It is much more
advanced, yet also easier to use, than GetoptLong, and is a more
Ruby-oriented solution.</p>

<h4 id="label-Features">Features</h4>
<ol><li>
<p>The argument specification and the code to handle it are written in the
same place.</p>
</li><li>
<p>It can output an option summary; you don&#39;t need to maintain this string
separately.</p>
</li><li>
<p>Optional and mandatory arguments are specified very gracefully.</p>
</li><li>
<p>Arguments can be automatically converted to a specified class.</p>
</li><li>
<p>Arguments can be restricted to a certain set.</p>
</li></ol>

<p>All of these features are demonstrated in the examples below.  See
<a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">#make_switch</a> for full documentation.</p>

<h4 id="label-Minimal+example">Minimal example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>|</span>
  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_banner'>banner</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span><span class='lbracket'>[</span><span class='symbol'>:verbose</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>end</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_parse!'><a href="OptionParser/Arguable.html#parse%21-instance_method" title="OptionParser::Arguable#parse! (method)">parse!</a></span>

<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span>
<span class='id identifier rubyid_p'>p</span> <span class='const'>ARGV</span>
</code></pre>

<h4 id="label-Generating+Help">Generating Help</h4>

<p>OptionParser can be used to automatically generate help for the commands
you write:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Options</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>

<span class='kw'>class</span> <span class='const'>Parser</span>
  <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='const'>Options</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='id identifier rubyid_opt_parser'>opt_parser</span> <span class='op'>=</span> <span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>|</span>
      <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_banner'>banner</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-nNAME</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name=NAME</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name to say hello to</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prints this help</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_opts'>opts</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opt_parser'>opt_parser</span><span class='period'>.</span><span class='id identifier rubyid_parse!'>parse!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span> <span class='op'>=</span> <span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>--help</span><span class='words_sep'>]</span>

<span class='comment'>#=&gt;
</span>   <span class='comment'># Usage: example.rb [options]
</span>   <span class='comment'>#     -n, --name=NAME                  Name to say hello to
</span>   <span class='comment'>#     -h, --help                       Prints this help
</span></code></pre>

<h4 id="label-Required+Arguments">Required Arguments</h4>

<p>For options that require an argument, option specification strings may
include an option name in all caps. If an option is used without the
required argument, an exception will be raised.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--require LIBRARY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Require the LIBRARY before executing your script</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_lib'>lib</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You required </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_parse!'><a href="OptionParser/Arguable.html#parse%21-instance_method" title="OptionParser::Arguable#parse! (method)">parse!</a></span>
</code></pre>

<p>Used:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bash'>bash</span><span class='op'>-</span><span class='float'>3.2</span></code></pre>

<h4 id="label-Type+Coercion">Type Coercion</h4>

<p>OptionParser supports the ability to coerce command line arguments into
objects for us.</p>

<p>OptionParser comes with a few ready-to-use kinds of  type coercion. They
are:</p>
<ul><li>
<p>Date  – Anything accepted by <code>Date.parse</code></p>
</li><li>
<p>DateTime – Anything accepted by <code>DateTime.parse</code></p>
</li><li>
<p>Time – Anything accepted by <code>Time.httpdate</code> or <code>Time.parse</code></p>
</li><li>
<p>URI  – Anything accepted by <code>URI.parse</code></p>
</li><li>
<p>Shellwords – Anything accepted by <code>Shellwords.shellwords</code></p>
</li><li>
<p>String – Any non-empty string</p>
</li><li>
<p>Integer – Any integer. Will convert octal. (e.g. 124, -3, 040)</p>
</li><li>
<p>Float – Any float. (e.g. 10, 3.14, -100E+13)</p>
</li><li>
<p>Numeric – Any integer, float, or rational (1, 3.4, 1/3)</p>
</li><li>
<p>DecimalInteger – Like <code>Integer</code>, but no octal format.</p>
</li><li>
<p>OctalInteger – Like <code>Integer</code>, but no decimal format.</p>
</li><li>
<p>DecimalNumeric – Decimal integer or float.</p>
</li><li>
<p>TrueClass –  Accepts &#39;+, yes, true, -, no, false&#39; and defaults as
<code>true</code></p>
</li><li>
<p>FalseClass – Same as <code>TrueClass</code>, but defaults to <code>false</code></p>
</li><li>
<p>Array – Strings separated by &#39;,&#39; (e.g. 1,2,3)</p>
</li><li>
<p>Regexp – Regular expressions. Also includes options.</p>
</li></ul>

<p>We can also add our own coercions, which we will cover soon.</p>

<h5 id="label-Using+Built-in+Conversions">Using Built-in Conversions</h5>

<p>As an example, the built-in <code>Time</code> conversion is used. The other built-in
conversions behave in the same way. OptionParser will attempt to parse the
argument as a <code>Time</code>. If it succeeds, that time will be passed to the
handler block. Otherwise, an exception will be raised.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse/time</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--time [TIME]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Time</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Begin execution at given time</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
    <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_time'>time</span>
  <span class='kw'>end</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_parse!'><a href="OptionParser/Arguable.html#parse%21-instance_method" title="OptionParser::Arguable#parse! (method)">parse!</a></span>
</code></pre>

<p>Used:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bash'>bash</span><span class='op'>-</span><span class='float'>3.2</span></code></pre>

<h5 id="label-Creating+Custom+Conversions">Creating Custom Conversions</h5>

<p>The <code>accept</code> method on OptionParser may be used to create
converters. It specifies which conversion block to call whenever a class is
specified. The example below uses it to fetch a <code>User</code> object
before the <code>on</code> handler receives it.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>User</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='rparen'>)</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_user'>find_user</span> <span class='id identifier rubyid_id'>id</span>
  <span class='id identifier rubyid_not_found'>not_found</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='tlambeg'>{</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No User Found for id </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='lbracket'>[</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sam</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Gandalf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_not_found'>not_found</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_u'>u</span><span class='op'>|</span>
    <span class='id identifier rubyid_u'>u</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='const'>User</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user_id'>user_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_find_user'>find_user</span> <span class='id identifier rubyid_user_id'>user_id</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--user ID</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>User</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_user'>user</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span><span class='period'>.</span><span class='id identifier rubyid_parse!'>parse!</span>
</code></pre>

<p>output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_bash'>bash</span><span class='op'>-</span><span class='float'>3.2</span></code></pre>

<h4 id="label-Complete+example">Complete example</h4>

<p>The following example is a complete Ruby program.  You can run it and see
the effect of specifying various options.  This is probably the best way to
learn the features of <code>optparse</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse/time</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ostruct</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pp</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>class</span> <span class='const'>OptparseExample</span>
  <span class='const'>Version</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0.0</span><span class='tstring_end'>&#39;</span></span>

  <span class='const'>CODES</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>iso-2022-jp</span><span class='words_sep'> </span><span class='tstring_content'>shift_jis</span><span class='words_sep'> </span><span class='tstring_content'>euc-jp</span><span class='words_sep'> </span><span class='tstring_content'>utf8</span><span class='words_sep'> </span><span class='tstring_content'>binary</span><span class='words_sep'>]</span>
  <span class='const'>CODE_ALIASES</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-2022-jp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sjis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>shift_jis</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='kw'>class</span> <span class='const'>ScriptOptions</span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:library</span><span class='comma'>,</span> <span class='symbol'>:inplace</span><span class='comma'>,</span> <span class='symbol'>:encoding</span><span class='comma'>,</span> <span class='symbol'>:transfer_type</span><span class='comma'>,</span>
                  <span class='symbol'>:verbose</span><span class='comma'>,</span> <span class='symbol'>:extension</span><span class='comma'>,</span> <span class='symbol'>:delay</span><span class='comma'>,</span> <span class='symbol'>:time</span><span class='comma'>,</span> <span class='symbol'>:record_separator</span><span class='comma'>,</span>
                  <span class='symbol'>:list</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">initialize</a></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_library'>library</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inplace'>inplace</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>utf8</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_transfer_type'>transfer_type</span> <span class='op'>=</span> <span class='symbol'>:auto</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_define_options'>define_options</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_banner'>banner</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specific options:</span><span class='tstring_end'>&quot;</span></span>

      <span class='comment'># add additional options
</span>      <span class='id identifier rubyid_perform_inplace_option'>perform_inplace_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_delay_execution_option'>delay_execution_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_execute_at_time_option'>execute_at_time_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_specify_record_separator_option'>specify_record_separator_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_list_example_option'>list_example_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_specify_encoding_option'>specify_encoding_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_optional_option_argument_with_keyword_completion_option'>optional_option_argument_with_keyword_completion_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_boolean_verbose_option'>boolean_verbose_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Common options:</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># No argument, shows at tail.  This will print an options summary.
</span>      <span class='comment'># Try it and see!
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on_tail'>on_tail</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show this message</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_parser'>parser</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
      <span class='comment'># Another typical switch to print the version.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on_tail'>on_tail</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show version</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='const'>Version</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_perform_inplace_option'>perform_inplace_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Specifies an optional option argument
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inplace [EXTENSION]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Edit ARGV files in place</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(make backup if EXTENSION supplied)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inplace'>inplace</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extension'>extension</span> <span class='op'>=</span> <span class='id identifier rubyid_ext'>ext</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extension'>extension</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\.?(?=.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'># Ensure extension begins with dot.
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_delay_execution_option'>delay_execution_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Cast &#39;delay&#39; argument to a Float.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--delay N</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Float</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delay N seconds before executing</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_delay'>delay</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_execute_at_time_option'>execute_at_time_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Cast &#39;time&#39; argument to a Time object.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--time [TIME]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Time</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Begin execution at given time</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_specify_record_separator_option'>specify_record_separator_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Cast to octal integer.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-F</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--irs [OCTAL]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>OptionParser</span><span class='op'>::</span><span class='const'><a href="#OctalInteger-constant" title="OptionParser::OctalInteger (constant)">OctalInteger</a></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify record separator (default \\0)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rs'>rs</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_record_separator'>record_separator</span> <span class='op'>=</span> <span class='id identifier rubyid_rs'>rs</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_list_example_option'>list_example_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># List of arguments.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list x,y,z</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example &#39;list&#39; of arguments</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='id identifier rubyid_list'>list</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_specify_encoding_option'>specify_encoding_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Keyword completion.  We are specifying a specific set of arguments (CODES
</span>      <span class='comment'># and CODE_ALIASES - notice the latter is a Hash), and the user may provide
</span>      <span class='comment'># the shortest unambiguous text.
</span>      <span class='id identifier rubyid_code_list'>code_list</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>CODE_ALIASES</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>+</span> <span class='const'>CODES</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--code CODE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>CODES</span><span class='comma'>,</span> <span class='const'>CODE_ALIASES</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select encoding</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code_list'>code_list</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_encoding'>encoding</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_encoding'>encoding</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_optional_option_argument_with_keyword_completion_option'>optional_option_argument_with_keyword_completion_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Optional &#39;--type&#39; option argument with keyword completion.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--type [TYPE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:text</span><span class='comma'>,</span> <span class='symbol'>:binary</span><span class='comma'>,</span> <span class='symbol'>:auto</span><span class='rbracket'>]</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select transfer type (text, binary, auto)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_transfer_type'>transfer_type</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_boolean_verbose_option'>boolean_verbose_option</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='comment'># Boolean switch.
</span>      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'>#
</span>  <span class='comment'># Return a structure describing the options.
</span>  <span class='comment'>#
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='comment'># The options specified on the command line will be collected in
</span>    <span class='comment'># *options*.
</span>
    <span class='ivar'>@options</span> <span class='op'>=</span> <span class='const'>ScriptOptions</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@args</span> <span class='op'>=</span> <span class='const'>OptionParser</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
      <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_define_options'>define_options</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_parse!'>parse!</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='ivar'>@options</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:parser</span><span class='comma'>,</span> <span class='symbol'>:options</span>
<span class='kw'>end</span>  <span class='comment'># class OptparseExample
</span>
<span class='id identifier rubyid_example'>example</span> <span class='op'>=</span> <span class='const'>OptparseExample</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span> <span class='op'>=</span> <span class='id identifier rubyid_example'>example</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span> <span class='comment'># example.options
</span><span class='id identifier rubyid_pp'>pp</span> <span class='const'>ARGV</span>
</code></pre>

<h4 id="label-Shell+Completion">Shell Completion</h4>

<p>For modern shells (e.g. bash, zsh, etc.), you can use shell completion for
command line options.</p>

<h4 id="label-Further+documentation">Further documentation</h4>

<p>The above examples should be enough to learn how to use this class.  If you
have any questions, file a ticket at <a
href="http://bugs.ruby-lang.org">bugs.ruby-lang.org</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='ArgumentStyle-constant'>
      ArgumentStyle =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Enumeration of acceptable argument styles. Possible values are:</p>
<dl class="rdoc-list note-list"><dt>NO_ARGUMENT
<dd>
<p>The switch takes no arguments. (:NONE)</p>
</dd><dt>REQUIRED_ARGUMENT
<dd>
<p>The switch requires an argument. (:REQUIRED)</p>
</dd><dt>OPTIONAL_ARGUMENT
<dd>
<p>The switch requires an optional argument. (:OPTIONAL)</p>
</dd></dl>

<p>Use like –switch=argument (long style) or -Xargument (short style). For
short style, only portion matched to argument pattern is treated as
argument.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='COMPSYS_HEADER-constant'>
      COMPSYS_HEADER =
    </dt>
    <dd>
            <pre class='code'>&lt;&lt;&#39;XXX&#39;      # :nodoc:

typeset -A opt_args
local context state line

_argume</pre>
    </dd>
    <dt id='DecimalInteger-constant'>
      DecimalInteger =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Decimal integer format, to be converted to Integer.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[-+]?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_decimal'>decimal</span><span class='embexpr_end'>}</span><span class='tstring_content'>\z</span><span class='regexp_end'>/io</span></span></pre>
    </dd>
    <dt id='DecimalNumeric-constant'>
      DecimalNumeric =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Decimal integer/float number format, to be converted to Integer for integer
format, Float for float format.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='id identifier rubyid_floatpat'>floatpat</span></pre>
    </dd>
    <dt id='DefaultList-constant'>
      DefaultList =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Switches common used such as &#39;–&#39;, and also provides default
argument classes</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span></pre>
    </dd>
    <dt id='NoArgument-constant'>
      NoArgument =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbracket'>[</span><span class='const'>NO_ARGUMENT</span> <span class='op'>=</span> <span class='symbol'>:NONE</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='OctalInteger-constant'>
      OctalInteger =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Ruby/C like octal/hexadecimal/binary integer format, to be converted to
Integer.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[-]?(?:[0-7](?:_[0-7]+)*|0(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_binary'>binary</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex'>hex</span><span class='embexpr_end'>}</span><span class='tstring_content'>))\z</span><span class='regexp_end'>/io</span></span></pre>
    </dd>
    <dt id='Officious-constant'>
      Officious =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Default options for ARGV, which never appear in option summary.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='OptionalArgument-constant'>
      OptionalArgument =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='const'>OPTIONAL_ARGUMENT</span> <span class='op'>=</span> <span class='symbol'>:OPTIONAL</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='RequiredArgument-constant'>
      RequiredArgument =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='const'>REQUIRED_ARGUMENT</span> <span class='op'>=</span> <span class='symbol'>:REQUIRED</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='SPLAT_PROC-constant'>
      SPLAT_PROC =
    </dt>
    <dd>
            <pre class='code'><span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='id identifier rubyid_a'>a</span><span class='rbrace'>}</span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#banner-instance_method" title="#banner (instance method)">#<strong>banner</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Heading banner preceding summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#banner%3D-instance_method" title="#banner= (instance method)">#<strong>banner=</strong>(value)  </a>
        (also: #set_banner)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Heading banner preceding summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_argv-instance_method" title="#default_argv (instance method)">#<strong>default_argv</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Strings to be parsed in default.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#program_name-instance_method" title="#program_name (instance method)">#<strong>program_name</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Program name to be emitted in error message and default banner, defaults to
$0.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#program_name%3D-instance_method" title="#program_name= (instance method)">#<strong>program_name=</strong>(value)  </a>
        (also: #set_program_name)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Program name to be emitted in error message and default banner, defaults to
$0.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#release-instance_method" title="#release (instance method)">#<strong>release</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Release code</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#release%3D-instance_method" title="#release= (instance method)">#<strong>release=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Release code</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_banner-instance_method" title="#set_banner (instance method)">#<strong>set_banner</strong>(value)  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#banner%3D-instance_method" title="OptionParser#banner= (method)">#banner=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_program_name-instance_method" title="#set_program_name (instance method)">#<strong>set_program_name</strong>(value)  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#program_name%3D-instance_method" title="OptionParser#program_name= (method)">#program_name=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_summary_indent-instance_method" title="#set_summary_indent (instance method)">#<strong>set_summary_indent</strong>(value)  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#summary_indent%3D-instance_method" title="OptionParser#summary_indent= (method)">#summary_indent=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_summary_width-instance_method" title="#set_summary_width (instance method)">#<strong>set_summary_width</strong>(value)  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#summary_width%3D-instance_method" title="OptionParser#summary_width= (method)">#summary_width=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#summary_indent-instance_method" title="#summary_indent (instance method)">#<strong>summary_indent</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Indentation for summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#summary_width-instance_method" title="#summary_width (instance method)">#<strong>summary_width</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Width for option list portion of summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#version-instance_method" title="#version (instance method)">#<strong>version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Version</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#version%3D-instance_method" title="#version= (instance method)">#<strong>version=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Version</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#accept-class_method" title=".accept (class method)">.<strong>accept</strong>(*args, &amp;blk)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_const-class_method" title=".each_const (class method)">.<strong>each_const</strong>(path, base = ::Object)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getopts-class_method" title=".getopts (class method)">.<strong>getopts</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See <a href="#getopts-instance_method" title="OptionParser#getopts (method)">#getopts</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inc-class_method" title=".inc (class method)">.<strong>inc</strong>(arg, default = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an incremented value of <code>default</code> according to
<code>arg</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(banner = nil, width = 32, indent = &#39; &#39; * 4) {|_self| ... } &#x21d2; OptionParser </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Initializes the instance and yields itself if called with a block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-class_method" title=".reject (class method)">.<strong>reject</strong>(*args, &amp;blk)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#search_const-class_method" title=".search_const (class method)">.<strong>search_const</strong>(klass, name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#show_version-class_method" title=".show_version (class method)">.<strong>show_version</strong>(*pkgs)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#terminate-class_method" title=".terminate (class method)">.<strong>terminate</strong>(arg = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#top-class_method" title=".top (class method)">.<strong>top</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with-class_method" title=".with (class method)">.<strong>with</strong>(*args, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Initializes a new instance and evaluates the optional block in context of
the instance.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#abort-instance_method" title="#abort (instance method)">#<strong>abort</strong>(mesg = $!)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>(*args, &amp;blk)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Directs to accept specified class <code>t</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#base-instance_method" title="#base (instance method)">#<strong>base</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Subject of <a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">#on_tail</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#candidate-instance_method" title="#candidate (instance method)">#<strong>candidate</strong>(word)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#complete-instance_method" title="#complete (instance method)">#<strong>complete</strong>(typ, opt, icase = false, *pat)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Completes shortened long style option switch and returns pair of canonical
switch and switch descriptor <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#def_head_option-instance_method" title="#def_head_option (instance method)">#<strong>def_head_option</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#define_head-instance_method" title="OptionParser#define_head (method)">#define_head</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#def_option-instance_method" title="#def_option (instance method)">#<strong>def_option</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#define-instance_method" title="OptionParser#define (method)">#define</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#def_tail_option-instance_method" title="#def_tail_option (instance method)">#<strong>def_tail_option</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">#define_tail</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#define-instance_method" title="#define (instance method)">#<strong>define</strong>(*opts, &amp;block)  </a>
        (also: #def_option)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#define_head-instance_method" title="#define_head (instance method)">#<strong>define_head</strong>(*opts, &amp;block)  </a>
        (also: #def_head_option)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#define_tail-instance_method" title="#define_tail (instance method)">#<strong>define_tail</strong>(*opts, &amp;block)  </a>
        (also: #def_tail_option)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#environment-instance_method" title="#environment (instance method)">#<strong>environment</strong>(env = File.basename($0, &#39;.*&#39;))  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses environment variable <code>env</code> or its uppercase with
splitting like a shell.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getopts-instance_method" title="#getopts (instance method)">#<strong>getopts</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Wrapper method for getopts.rb.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#help-instance_method" title="#help (instance method)">#<strong>help</strong>  </a>
        (also: #to_s)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns option summary string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inc-instance_method" title="#inc (instance method)">#<strong>inc</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>(filename = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads options from file names as <code>filename</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#make_switch-instance_method" title="#make_switch (instance method)">#<strong>make_switch</strong>(opts, block = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a> from the parameters.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Pushes a new List.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#notwice-instance_method" title="#notwice (instance method)">#<strong>notwice</strong>(obj, prv, msg)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Checks if an argument is given twice, in which case an ArgumentError is
raised.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#on-instance_method" title="#on (instance method)">#<strong>on</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Add option switch and handler.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#on_head-instance_method" title="#on_head (instance method)">#<strong>on_head</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at head of summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#on_tail-instance_method" title="#on_tail (instance method)">#<strong>on_tail</strong>(*opts, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at tail of summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#order-instance_method" title="#order (instance method)">#<strong>order</strong>(*argv, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses command line arguments <code>argv</code> in order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#order%21-instance_method" title="#order! (instance method)">#<strong>order!</strong>(argv = default_argv, &amp;nonopt)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <a href="#order-instance_method" title="OptionParser#order (method)">#order</a>, but removes switches destructively.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(*argv)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses command line arguments <code>argv</code> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse%21-instance_method" title="#parse! (instance method)">#<strong>parse!</strong>(argv = default_argv)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <a href="#parse-instance_method" title="OptionParser#parse (method)">#parse</a>, but removes switches destructively.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permute-instance_method" title="#permute (instance method)">#<strong>permute</strong>(*argv)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses command line arguments <code>argv</code> in permutation mode and
returns list of non-option arguments.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permute%21-instance_method" title="#permute! (instance method)">#<strong>permute!</strong>(argv = default_argv)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <a href="#permute-instance_method" title="OptionParser#permute (method)">#permute</a>, but removes switches destructively.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong>(*args, &amp;blk)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Directs to reject specified class argument.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove-instance_method" title="#remove (instance method)">#<strong>remove</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes the last List.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#search-instance_method" title="#search (instance method)">#<strong>search</strong>(id, key)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Searches <code>key</code> in @stack for <code>id</code> hash and returns or
yields the result.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#separator-instance_method" title="#separator (instance method)">#<strong>separator</strong>(string)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Add separator in summary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#summarize-instance_method" title="#summarize (instance method)">#<strong>summarize</strong>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Puts option summary into <code>to</code> and returns <code>to</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#terminate-instance_method" title="#terminate (instance method)">#<strong>terminate</strong>(arg = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Terminates option parsing.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns option summary list.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#help-instance_method" title="OptionParser#help (method)">#help</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#top-instance_method" title="#top (instance method)">#<strong>top</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Subject of <a href="#on-instance_method" title="OptionParser#on (method)">#on</a> / <a href="#on_head-instance_method" title="OptionParser#on_head (method)">#on_head</a>, <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a> / <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ver-instance_method" title="#ver (instance method)">#<strong>ver</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns version string from program_name, version and release.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#visit-instance_method" title="#visit (instance method)">#<strong>visit</strong>(id, *args, &amp;block)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Traverses @stack, sending each element method <code>id</code> with
<code>args</code> and <code>block</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(mesg = $!)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(banner = nil, width = 32, indent = &#39; &#39; * 4) {|_self| ... } &#x21d2; <tt><a href="" title="OptionParser (class)">OptionParser</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Initializes the instance and yields itself if called with a block.</p>
<dl class="rdoc-list note-list"><dt><code>banner</code>
<dd>
<p>Banner message.</p>
</dd><dt><code>width</code>
<dd>
<p>Summary width.</p>
</dd><dt><code>indent</code>
<dd>
<p>Summary indent.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>_self</tt>)</span>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>_self</span>
    <span class='type'>(<tt><a href="" title="OptionParser (class)">OptionParser</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the object that the method was called on</p>
</div>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1054'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1054
1055
1056
1057
1058
1059
1060
1061
1062
1063</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1054</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">initialize</a></span><span class='lparen'>(</span><span class='id identifier rubyid_banner'>banner</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='int'>32</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='int'>4</span><span class='rparen'>)</span>
  <span class='ivar'>@stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'><a href="#DefaultList-constant" title="OptionParser::DefaultList (constant)">DefaultList</a></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span><span class='rbracket'>]</span>
  <span class='ivar'>@program_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@banner</span> <span class='op'>=</span> <span class='id identifier rubyid_banner'>banner</span>
  <span class='ivar'>@summary_width</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span>
  <span class='ivar'>@summary_indent</span> <span class='op'>=</span> <span class='id identifier rubyid_indent'>indent</span>
  <span class='ivar'>@default_argv</span> <span class='op'>=</span> <span class='const'>ARGV</span>
  <span class='id identifier rubyid_add_officious'>add_officious</span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="banner-instance_method">
  <h3 class='signature first'>
  #<strong>banner</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Heading banner preceding summary.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1137'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1137
1138
1139
1140
1141
1142
1143</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1137</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_banner'>banner</span>
  <span class='kw'>unless</span> <span class='ivar'>@banner</span>
    <span class='ivar'>@banner</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'>program_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> [options]</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='symbol'>:add_banner</span><span class='comma'>,</span> <span class='ivar'>@banner</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@banner</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="banner=-instance_method">
  <h3 class='signature'>
  #<strong>banner=</strong>(value)  
  <span class='aliases'>Also known as: <span class='names'><span>set_banner</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Heading banner preceding summary.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1119'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1119</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1119</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:banner</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_argv-instance_method">
  <h3 class='signature'>
  #<strong>default_argv</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Strings to be parsed in default.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1132'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1132</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1132</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:default_argv</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="program_name-instance_method">
  <h3 class='signature'>
  #<strong>program_name</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Program name to be emitted in error message and default banner, defaults to
$0.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1149'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1149
1150
1151</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1149</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_program_name'>program_name</span>
  <span class='ivar'>@program_name</span> <span class='op'>||</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="program_name=-instance_method">
  <h3 class='signature'>
  #<strong>program_name=</strong>(value)  
  <span class='aliases'>Also known as: <span class='names'><span>set_program_name</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Program name to be emitted in error message and default banner, defaults to
$0.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1123'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1123</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1123</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:program_name</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="release-instance_method">
  <h3 class='signature'>
  #<strong>release</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Release code</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1174'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1174
1175
1176</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_release'>release</span>
  <span class='ivar'>@release</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Release</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>Release</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>RELEASE</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>RELEASE</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="release=-instance_method">
  <h3 class='signature'>
  #<strong>release=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Release code</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1162'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1162</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1162</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:release</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_banner-instance_method">
  <h3 class='signature'>
  #<strong>set_banner</strong>(value)   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#banner%3D-instance_method" title="OptionParser#banner= (method)">#banner=</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="set_program_name-instance_method">
  <h3 class='signature'>
  #<strong>set_program_name</strong>(value)   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#program_name%3D-instance_method" title="OptionParser#program_name= (method)">#program_name=</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="set_summary_indent-instance_method">
  <h3 class='signature'>
  #<strong>set_summary_indent</strong>(value)   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#summary_indent%3D-instance_method" title="OptionParser#summary_indent= (method)">#summary_indent=</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="set_summary_width-instance_method">
  <h3 class='signature'>
  #<strong>set_summary_width</strong>(value)   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#summary_width%3D-instance_method" title="OptionParser#summary_width= (method)">#summary_width=</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="summary_indent-instance_method">
  <h3 class='signature'>
  #<strong>summary_indent</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Indentation for summary. Must be String (or have + String method).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1129'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1129</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1129</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:summary_indent</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="summary_width-instance_method">
  <h3 class='signature'>
  #<strong>summary_width</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Width for option list portion of summary. Must be Numeric.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1126'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1126</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1126</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:summary_width</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="version-instance_method">
  <h3 class='signature'>
  #<strong>version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Version</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1167'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1167
1168
1169</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1167</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_version'>version</span>
  <span class='ivar'>@version</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Version</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>Version</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="version=-instance_method">
  <h3 class='signature'>
  #<strong>version=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Version</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1160'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1160</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1160</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:version</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="accept-class_method">
  <h3 class='signature first'>
  .<strong>accept</strong>(*args, &amp;blk)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1099'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1099</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1099</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_const-class_method">
  <h3 class='signature'>
  .<strong>each_const</strong>(path, base = ::Object)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse/version.rb#L50'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


50
51
52
53
54
55
56
57
58</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each_const'>each_const</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::|\/</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NameError</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>unless</span> <span class='const'>Module</span> <span class='op'>===</span> <span class='id identifier rubyid_klass'>klass</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='regexp_end'>/i</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='kw'>next</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getopts-class_method">
  <h3 class='signature'>
  .<strong>getopts</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See <a href="#getopts-instance_method" title="OptionParser#getopts (method)">#getopts</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1691'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1691
1692
1693</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1691</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_getopts'><a href="OptionParser/Arguable.html#getopts-instance_method" title="OptionParser::Arguable#getopts (method)">getopts</a></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span><span class='period'>.</span><span class='id identifier rubyid_getopts'>getopts</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inc-class_method">
  <h3 class='signature'>
  .<strong>inc</strong>(arg, default = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an incremented value of <code>default</code> according to
<code>arg</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1035'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1035
1036
1037
1038
1039
1040
1041
1042</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1035</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inc'>inc</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_arg'>arg</span>
  <span class='kw'>when</span> <span class='const'>Integer</span>
    <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nonzero?'>nonzero?</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_default'>default</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reject-class_method">
  <h3 class='signature'>
  .<strong>reject</strong>(*args, &amp;blk)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1112'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1112</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="search_const-class_method">
  <h3 class='signature'>
  .<strong>search_const</strong>(klass, name)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse/version.rb#L60'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


60
61
62
63
64
65
66
67
68
69
70</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_const'>search_const</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klasses'>klasses</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='rbracket'>]</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_klasses'>klasses</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='kw'>next</span>
      <span class='id identifier rubyid_const'>const</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>===</span> <span class='id identifier rubyid_cname'>cname</span>
      <span class='id identifier rubyid_klasses'>klasses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>if</span> <span class='const'>Module</span> <span class='op'>===</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>and</span> <span class='id identifier rubyid_const'>const</span> <span class='op'>!=</span> <span class='op'>::</span><span class='const'>Object</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="show_version-class_method">
  <h3 class='signature'>
  .<strong>show_version</strong>(*pkgs)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse/version.rb#L5'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_version'>show_version</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_pkgs'>pkgs</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_progname'>progname</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_program_name'>program_name</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_show'>show</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='op'>|</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_progname'>progname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='op'>::</span><span class='const'>Object</span> <span class='kw'>and</span> <span class='id identifier rubyid_cname'>cname</span> <span class='op'>==</span> <span class='symbol'>:VERSION</span>
      <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_version'>version</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'>Object</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='lbracket'>[</span><span class='symbol'>:Release</span><span class='comma'>,</span> <span class='symbol'>:RELEASE</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rel'>rel</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_str'>str</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkgs'>pkgs</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_pkgs'>pkgs</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_search_const'>search_const</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Object</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\AV(?:ERSION|ersion)\z</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='op'>|</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_cname'>cname</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='CHAR'>?e</span> <span class='kw'>and</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:Version</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_show'>show</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='period'>.</span><span class='id identifier rubyid_intern'>intern</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_pkgs'>pkgs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pkg'>pkg</span><span class='op'>|</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_pkg'>pkg</span> <span class='op'>=</span> <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::|\/</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Object</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='kw'>case</span>
            <span class='kw'>when</span> <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:Version</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='symbol'>:Version</span><span class='rparen'>)</span>
            <span class='kw'>when</span> <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:VERSION</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='symbol'>:VERSION</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='kw'>nil</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='id identifier rubyid_show'>show</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_pkg'>pkg</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'>NameError</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="terminate-class_method">
  <h3 class='signature'>
  .<strong>terminate</strong>(arg = nil)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1079'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1079
1080
1081</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1079</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:terminate</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="top-class_method">
  <h3 class='signature'>
  .<strong>top</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1084'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1084</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1084</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_top'>top</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='const'><a href="#DefaultList-constant" title="OptionParser::DefaultList (constant)">DefaultList</a></span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with-class_method">
  <h3 class='signature'>
  .<strong>with</strong>(*args, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Initializes a new instance and evaluates the optional block in context of
the instance. Arguments <code>args</code> are passed to <a href="#new-instance_method" title="OptionParser#new (method)">#new</a>, see there
for description of parameters.</p>

<p>This method is <strong>deprecated</strong>, its behavior corresponds to the
older <a href="#new-instance_method" title="OptionParser#new (method)">#new</a> method.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1026'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1026
1027
1028
1029
1030</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1026</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_with'>with</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_new'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="abort-instance_method">
  <h3 class='signature first'>
  #<strong>abort</strong>(mesg = $!)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1193'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1193
1194
1195</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_abort'>abort</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='gvar'>$!</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'>program_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mesg'>mesg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept-instance_method">
  <h3 class='signature'>
  #<strong>accept</strong>(*args, &amp;blk)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Directs to accept specified class <code>t</code>. The argument string is
passed to the block in which it should be converted to the desired class.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including Class.</p>
</dd><dt><code>pat</code>
<dd>
<p>Pattern for argument, defaults to <code>t</code> if it responds to match.</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1095'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1095</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1095</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="base-instance_method">
  <h3 class='signature'>
  #<strong>base</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Subject of <a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">#on_tail</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1207'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1207
1208
1209</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1207</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_base'>base</span>
  <span class='ivar'>@stack</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="candidate-instance_method">
  <h3 class='signature'>
  #<strong>candidate</strong>(word)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1738'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761
1762
1763
1764
1765
1766</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1738</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_candidate'>candidate</span><span class='lparen'>(</span><span class='id identifier rubyid_word'>word</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_word'>word</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A--</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>=</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_argpat'>argpat</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span><span class='period'>.</span><span class='id identifier rubyid_regexp'><a href="OptionParser/Completion.html#regexp-class_method" title="OptionParser::Completion.regexp (method)">regexp</a></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_long'>long</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A-(!-)</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_short'>short</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A-</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_long'>long</span> <span class='op'>=</span> <span class='id identifier rubyid_short'>short</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span><span class='period'>.</span><span class='id identifier rubyid_regexp'><a href="OptionParser/Completion.html#regexp-class_method" title="OptionParser::Completion.regexp (method)">regexp</a></span><span class='lparen'>(</span><span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='symbol'>:each_option</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span> <span class='op'>===</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_long'>long</span> <span class='op'>?</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_long'>long</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span> <span class='op'>?</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_short'>short</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span><span class='period'>.</span><span class='id identifier rubyid_candidate'><a href="OptionParser/Completion.html#candidate-class_method" title="OptionParser::Completion.candidate (method)">candidate</a></span><span class='lparen'>(</span><span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:each</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:first</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span>
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A=</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_arg'>arg</span>
      <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='id identifier rubyid_sw'>sw</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_pattern'>pattern</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_candidate'>candidate</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_argpat'>argpat</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:last</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_list'>list</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="complete-instance_method">
  <h3 class='signature'>
  #<strong>complete</strong>(typ, opt, icase = false, *pat)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Completes shortened long style option switch and returns pair of canonical
switch and switch descriptor <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a>.</p>
<dl class="rdoc-list note-list"><dt><code>typ</code>
<dd>
<p>Searching table.</p>
</dd><dt><code>opt</code>
<dd>
<p>Searching key.</p>
</dd><dt><code>icase</code>
<dd>
<p>Search case insensitive if true.</p>
</dd><dt><code>pat</code>
<dd>
<p>Optional pattern for completion.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1727'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1727
1728
1729
1730
1731
1732
1733
1734
1735</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1727</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_complete'>complete</span><span class='lparen'>(</span><span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_icase'>icase</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_pat'>pat</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_sw'>sw</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span><span class='rbrace'>}</span> <span class='comment'># exact match or...
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a></span><span class='comma'>,</span> <span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='symbol'>:ambiguous</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='symbol'>:complete</span><span class='comma'>,</span> <span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_icase'>icase</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_pat'>pat</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='kw'>return</span> <span class='id identifier rubyid_sw'>sw</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="OptionParser/InvalidOption.html" title="OptionParser::InvalidOption (class)">InvalidOption</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="def_head_option-instance_method">
  <h3 class='signature'>
  #<strong>def_head_option</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#define_head-instance_method" title="OptionParser#define_head (method)">#define_head</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="def_option-instance_method">
  <h3 class='signature'>
  #<strong>def_option</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#define-instance_method" title="OptionParser#define (method)">#define</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="def_tail_option-instance_method">
  <h3 class='signature'>
  #<strong>def_tail_option</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">#define_tail</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="define-instance_method">
  <h3 class='signature'>
  #<strong>define</strong>(*opts, &amp;block)  
  <span class='aliases'>Also known as: <span class='names'><span>def_option</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1462'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1462
1463
1464
1465</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1462</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'>make_switch</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sw'>sw</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="define_head-instance_method">
  <h3 class='signature'>
  #<strong>define_head</strong>(*opts, &amp;block)  
  <span class='aliases'>Also known as: <span class='names'><span>def_head_option</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1477'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1477
1478
1479
1480</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1477</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_head'>define_head</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_prepend'>prepend</span><span class='lparen'>(</span><span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'>make_switch</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sw'>sw</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="define_tail-instance_method">
  <h3 class='signature'>
  #<strong>define_tail</strong>(*opts, &amp;block)  
  <span class='aliases'>Also known as: <span class='names'><span>def_tail_option</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1491'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1491
1492
1493
1494</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1491</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_tail'>define_tail</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'>make_switch</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sw'>sw</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="environment-instance_method">
  <h3 class='signature'>
  #<strong>environment</strong>(env = File.basename($0, &#39;.*&#39;))  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses environment variable <code>env</code> or its uppercase with
splitting like a shell.</p>

<p><code>env</code> defaults to the basename of the program.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1795'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1795
1796
1797
1798
1799</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1795</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_environment'>environment</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_env'>env</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span> <span class='kw'>or</span> <span class='kw'>return</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shellwords</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>Shellwords</span><span class='period'>.</span><span class='id identifier rubyid_shellwords'>shellwords</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getopts-instance_method">
  <h3 class='signature'>
  #<strong>getopts</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Wrapper method for getopts.rb.</p>

<pre class="code ruby"><code class="ruby">params = ARGV.getopts(&quot;ab:&quot;, &quot;foo&quot;, &quot;bar:&quot;, &quot;zot:Z;zot option)
# params[:a] = true   # -a
# params[:b] = &quot;1&quot;    # -b1
# params[:foo] = &quot;1&quot;  # --foo
# params[:bar] = &quot;x&quot;  # --bar x
# params[:zot] = &quot;z&quot;  # --zot Z</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1656'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684
1685
1686</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1656</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getopts'><a href="OptionParser/Arguable.html#getopts-instance_method" title="OptionParser::Arguable#getopts (method)">getopts</a></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span> <span class='op'>:</span> <span class='id identifier rubyid_default_argv'>default_argv</span>
  <span class='id identifier rubyid_single_options'>single_options</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_long_options'>long_options</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_single_options'>single_options</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(:)?</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'> VAL</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_single_options'>single_options</span>

  <span class='id identifier rubyid_long_options'>long_options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VAL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='lbracket'>[</span><span class='id identifier rubyid_desc'>desc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_opt'>opt</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='lbracket'>[</span><span class='id identifier rubyid_desc'>desc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:[]=</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="help-instance_method">
  <h3 class='signature'>
  #<strong>help</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>to_s</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns option summary string.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1248'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1248</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1248</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_help'>help</span><span class='semicolon'>;</span> <span class='id identifier rubyid_summarize'>summarize</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_banner'>banner</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n?\z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inc-instance_method">
  <h3 class='signature'>
  #<strong>inc</strong>(*args)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1043'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1043
1044
1045</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1043</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inc'>inc</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_inc'>inc</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load-instance_method">
  <h3 class='signature'>
  #<strong>load</strong>(filename = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads options from file names as <code>filename</code>. Does nothing when
the file is not present. Returns whether successfully loaded.</p>

<p><code>filename</code> defaults to basename of the program without suffix in
a directory ~/.options.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1775'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1775
1776
1777
1778
1779
1780
1781
1782
1783
1784
1785
1786
1787</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1775</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_filename'>filename</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~/.options</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>rescue</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_readlines'>readlines</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_chomp!'>chomp!</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='kw'>true</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTDIR</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="make_switch-instance_method">
  <h3 class='signature'>
  #<strong>make_switch</strong>(opts, block = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a> from the parameters. The parsed argument
value is passed to the given block, where it can be processed.</p>

<p>See at the beginning of OptionParser for some full examples.</p>

<p><code>opts</code> can include the following elements:</p>
<dl class="rdoc-list label-list"><dt>Argument style:
<dd>
<p>One of the following:</p>

<pre class="code ruby"><code class="ruby">:NONE, :REQUIRED, :OPTIONAL</code></pre>
</dd><dt>Argument pattern:
<dd>
<p>Acceptable option argument format, must be pre-defined with
OptionParser.accept or OptionParser#accept, or Regexp. This can appear once
or assigned as String if not present, otherwise causes an ArgumentError.
Examples:</p>

<pre class="code ruby"><code class="ruby">Float, Time, Array</code></pre>
</dd><dt>Possible argument values:
<dd>
<p>Hash or Array.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='symbol'>:text</span><span class='comma'>,</span> <span class='symbol'>:binary</span><span class='comma'>,</span> <span class='symbol'>:auto</span><span class='rbracket'>]</span>
<span class='qwords_beg'>%w[</span><span class='tstring_content'>iso-2022-jp</span><span class='words_sep'> </span><span class='tstring_content'>shift_jis</span><span class='words_sep'> </span><span class='tstring_content'>euc-jp</span><span class='words_sep'> </span><span class='tstring_content'>utf8</span><span class='words_sep'> </span><span class='tstring_content'>binary</span><span class='words_sep'>]</span>
<span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-2022-jp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sjis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>shift_jis</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>
</dd><dt>Long style switch:
<dd>
<p>Specifies a long style switch which takes a mandatory, optional or no
argument. It&#39;s a string of the following form:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch=MANDATORY</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>or</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch[=OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch</span><span class='tstring_end'>&quot;</span></span>
</code></pre>
</dd><dt>Short style switch:
<dd>
<p>Specifies short style switch which takes a mandatory, optional or no
argument. It&#39;s a string of the following form:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-xMANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-x[OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-x</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>There is also a special form which matches character range (not full set of
regular expression):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z]MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z][OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z]</span><span class='tstring_end'>&quot;</span></span>
</code></pre>
</dd><dt>Argument style and description:
<dd>
<p>Instead of specifying mandatory or optional arguments directly in the
switch parameter, this separate parameter can be used.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=[OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
</code></pre>
</dd><dt>Description:
<dd>
<p>Description string for the option.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span>
</code></pre>
</dd><dt>Handler:
<dd>
<p>Handler for the parsed argument value. Either give a block or pass a Proc
or Method as an argument.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1332'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1332</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_switch'>make_switch</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_nolong'>nolong</span><span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span><span class='comma'>,</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
  <span class='id identifier rubyid_default_pattern'>default_pattern</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span>
    <span class='comment'># argument class
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='kw'>and</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>!=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
        <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># directly specified pattern(any object possible to match)
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='op'>!</span><span class='lparen'>(</span><span class='const'>String</span> <span class='op'>===</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>||</span> <span class='const'>Symbol</span> <span class='op'>===</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:match</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pattern</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_proc'>to_proc</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='const'><a href="#SPLAT_PROC-constant" title="OptionParser::SPLAT_PROC (constant)">SPLAT_PROC</a></span>
      <span class='kw'>end</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># anything others
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_o'>o</span>
    <span class='kw'>when</span> <span class='const'>Proc</span><span class='comma'>,</span> <span class='const'>Method</span>
      <span class='id identifier rubyid_block'>block</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>block</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='const'>Hash</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_pattern'>pattern</span>
      <span class='kw'>when</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span>
      <span class='kw'>when</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_proc'>to_proc</span> <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument pattern given twice</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='lbracket'>[</span><span class='id identifier rubyid_pat'>pat</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='id identifier rubyid_pat'>pat</span><span class='rbrace'>}</span><span class='rbrace'>}</span>
    <span class='kw'>when</span> <span class='const'>Module</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unsupported argument type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_o'>o</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span><span class='period'>.</span><span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span><span class='lparen'>(</span><span class='id identifier rubyid_caller'>caller</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='op'>*</span><span class='const'><a href="#ArgumentStyle-constant" title="OptionParser::ArgumentStyle (constant)">ArgumentStyle</a></span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
      <span class='id identifier rubyid_style'>style</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='const'><a href="#ArgumentStyle-constant" title="OptionParser::ArgumentStyle (constant)">ArgumentStyle</a></span><span class='lbracket'>[</span><span class='id identifier rubyid_o'>o</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>style</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--no-([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span> <span class='op'>?</span> <span class='const'>Object</span> <span class='op'>:</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_not_style'>not_style</span>
      <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
      <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='const'>FalseClass</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no-</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_nolong'>nolong</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_q'>q</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--\[no-\]([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span> <span class='op'>?</span> <span class='const'>Object</span> <span class='op'>:</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='const'>FalseClass</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_not_style'>not_style</span>
      <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_nolong'>nolong</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no-</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_o'>o</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='const'>NilClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-(\[\^?\]?(?:[^\\\]]|\\.)*\])(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='const'>Object</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sdesc'>sdesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-(.)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='const'>NilClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sdesc'>sdesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_q'>q</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^=</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_style'>style</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_guess'>guess</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>style</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='const'>Object</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_desc'>desc</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='symbol'>:atype</span><span class='comma'>,</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='period'>.</span><span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>and</span> <span class='id identifier rubyid_long'>long</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='kw'>and</span> <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>==</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/RequiredArgument.html" title="OptionParser::Switch::RequiredArgument (class)">RequiredArgument</a></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_style'>style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>||</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_block'>block</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_style'>style</span> <span class='kw'>or</span> <span class='id identifier rubyid_pattern'>pattern</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no switch given</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span><span class='period'>.</span><span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span><span class='lparen'>(</span><span class='id identifier rubyid_caller'>caller</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_desc'>desc</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pattern'>pattern</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_style'>style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_not_style'>not_style</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_not_style'>not_style</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_nolong'>nolong</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="new-instance_method">
  <h3 class='signature'>
  #<strong>new</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Pushes a new List.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1214'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1214
1215
1216
1217
1218
1219
1220
1221</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1214</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span>
  <span class='ivar'>@stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span> <span class='kw'>self</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="notwice-instance_method">
  <h3 class='signature'>
  #<strong>notwice</strong>(obj, prv, msg)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Checks if an argument is given twice, in which case an ArgumentError is
raised. Called from #switch only.</p>
<dl class="rdoc-list note-list"><dt><code>obj</code>
<dd>
<p>New argument.</p>
</dd><dt><code>prv</code>
<dd>
<p>Previously specified argument.</p>
</dd><dt><code>msg</code>
<dd>
<p>Exception message.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1264'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1264
1265
1266
1267
1268
1269
1270</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1264</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_notwice'>notwice</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_prv'>prv</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_prv'>prv</span> <span class='kw'>or</span> <span class='id identifier rubyid_prv'>prv</span> <span class='op'>==</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'> given twice: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
          <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span><span class='period'>.</span><span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span><span class='lparen'>(</span><span class='id identifier rubyid_caller'>caller</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_obj'>obj</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="on-instance_method">
  <h3 class='signature'>
  #<strong>on</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add option switch and handler. See <a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">#make_switch</a> for an explanation of
parameters.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1471'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1471
1472
1473
1474</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1471</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="on_head-instance_method">
  <h3 class='signature'>
  #<strong>on_head</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at head of summary.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1485'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1485
1486
1487
1488</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1485</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_head'>on_head</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define_head'>define_head</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="on_tail-instance_method">
  <h3 class='signature'>
  #<strong>on_tail</strong>(*opts, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at tail of summary.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1499'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1499
1500
1501
1502</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1499</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_tail'>on_tail</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define_tail'>define_tail</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="order-instance_method">
  <h3 class='signature'>
  #<strong>order</strong>(*argv, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses command line arguments <code>argv</code> in order. When a block is
given, each non-option argument is yielded.</p>

<p>Returns the rest of <code>argv</code> left unparsed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1518'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1518
1519
1520
1521</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1518</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_order!'><a href="OptionParser/Arguable.html#order%21-instance_method" title="OptionParser::Arguable#order! (method)">order!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="order!-instance_method">
  <h3 class='signature'>
  #<strong>order!</strong>(argv = default_argv, &amp;nonopt)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <a href="#order-instance_method" title="OptionParser#order (method)">#order</a>, but removes switches destructively. Non-option arguments
remain in <code>argv</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1527'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1527
1528
1529</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1527</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_order!'><a href="OptionParser/Arguable.html#order%21-instance_method" title="OptionParser::Arguable#order! (method)">order!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'>default_argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-instance_method">
  <h3 class='signature'>
  #<strong>parse</strong>(*argv)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses command line arguments <code>argv</code> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1629'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1629
1630
1631
1632</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1629</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_parse!'><a href="OptionParser/Arguable.html#parse%21-instance_method" title="OptionParser::Arguable#parse! (method)">parse!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse!-instance_method">
  <h3 class='signature'>
  #<strong>parse!</strong>(argv = default_argv)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <a href="#parse-instance_method" title="OptionParser#parse (method)">#parse</a>, but removes switches destructively. Non-option arguments
remain in <code>argv</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1638'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1638
1639
1640
1641
1642
1643
1644</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1638</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse!'><a href="OptionParser/Arguable.html#parse%21-instance_method" title="OptionParser::Arguable#parse! (method)">parse!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'>default_argv</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POSIXLY_CORRECT</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_order!'><a href="OptionParser/Arguable.html#order%21-instance_method" title="OptionParser::Arguable#order! (method)">order!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_permute!'><a href="OptionParser/Arguable.html#permute%21-instance_method" title="OptionParser::Arguable#permute! (method)">permute!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="permute-instance_method">
  <h3 class='signature'>
  #<strong>permute</strong>(*argv)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses command line arguments <code>argv</code> in permutation mode and
returns list of non-option arguments.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1609'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1609
1610
1611
1612</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1609</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_permute'>permute</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_permute!'><a href="OptionParser/Arguable.html#permute%21-instance_method" title="OptionParser::Arguable#permute! (method)">permute!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="permute!-instance_method">
  <h3 class='signature'>
  #<strong>permute!</strong>(argv = default_argv)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <a href="#permute-instance_method" title="OptionParser#permute (method)">#permute</a>, but removes switches destructively. Non-option
arguments remain in <code>argv</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1618'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1618
1619
1620
1621
1622
1623</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1618</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_permute!'><a href="OptionParser/Arguable.html#permute%21-instance_method" title="OptionParser::Arguable#permute! (method)">permute!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'>default_argv</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_nonopts'>nonopts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_order!'><a href="OptionParser/Arguable.html#order%21-instance_method" title="OptionParser::Arguable#order! (method)">order!</a></span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopts'>nonopts</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:&lt;&lt;</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv'>argv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_nonopts'>nonopts</span>
  <span class='id identifier rubyid_argv'>argv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reject-instance_method">
  <h3 class='signature'>
  #<strong>reject</strong>(*args, &amp;blk)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Directs to reject specified class argument.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including Class.</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1108'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1108</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove-instance_method">
  <h3 class='signature'>
  #<strong>remove</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes the last List.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1226'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1226
1227
1228</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1226</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove'>remove</span>
  <span class='ivar'>@stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="search-instance_method">
  <h3 class='signature'>
  #<strong>search</strong>(id, key)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Searches <code>key</code> in @stack for <code>id</code> hash and returns or
yields the result.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1710'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1710
1711
1712
1713
1714
1715</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1710</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_block_given'>block_given</span> <span class='op'>=</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='symbol'>:search</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_block_given'>block_given</span> <span class='op'>?</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_k'>k</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="separator-instance_method">
  <h3 class='signature'>
  #<strong>separator</strong>(string)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add separator in summary.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1508'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1508
1509
1510</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_separator'>separator</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_top'>top</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="summarize-instance_method">
  <h3 class='signature'>
  #<strong>summarize</strong>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Puts option summary into <code>to</code> and returns <code>to</code>.
Yields each line if a block is given.</p>
<dl class="rdoc-list note-list"><dt><code>to</code>
<dd>
<p>Output destination, which must have method &lt;&lt;. Defaults to [].</p>
</dd><dt><code>width</code>
<dd>
<p>Width of left side, defaults to @summary_width.</p>
</dd><dt><code>max</code>
<dd>
<p>Maximum length allowed for left side, defaults to <code>width</code> - 1.</p>
</dd><dt><code>indent</code>
<dd>
<p>Indentation, defaults to @summary_indent.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1239'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1239
1240
1241
1242
1243</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1239</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_summarize'>summarize</span><span class='lparen'>(</span><span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='ivar'>@summary_width</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='ivar'>@summary_indent</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_blk'>blk</span> <span class='op'>||=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_to'>to</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='gvar'>$/</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_l'>l</span> <span class='op'>:</span> <span class='id identifier rubyid_l'>l</span> <span class='op'>+</span> <span class='gvar'>$/</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='symbol'>:summarize</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_to'>to</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="terminate-instance_method">
  <h3 class='signature'>
  #<strong>terminate</strong>(arg = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Terminates option parsing. Optional parameter <code>arg</code> is a string
pushed back to be the first non-option argument.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1076'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1076
1077
1078</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1076</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_terminate'>terminate</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_a-instance_method">
  <h3 class='signature'>
  #<strong>to_a</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns option summary list.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1254'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1254</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span><span class='semicolon'>;</span> <span class='id identifier rubyid_summarize'>summarize</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_banner'>banner</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  #<strong>to_s</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#help-instance_method" title="OptionParser#help (method)">#help</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="top-instance_method">
  <h3 class='signature'>
  #<strong>top</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Subject of <a href="#on-instance_method" title="OptionParser#on (method)">#on</a> / <a href="#on_head-instance_method" title="OptionParser#on_head (method)">#on_head</a>, <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a> / <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1200'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1200
1201
1202</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1200</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_top'>top</span>
  <span class='ivar'>@stack</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ver-instance_method">
  <h3 class='signature'>
  #<strong>ver</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns version string from program_name, version and release.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1181'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1181
1182
1183
1184
1185
1186
1187</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1181</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ver'>ver</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'>program_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='lbracket'>[</span><span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_release'>release</span>
    <span class='id identifier rubyid_str'>str</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="visit-instance_method">
  <h3 class='signature'>
  #<strong>visit</strong>(id, *args, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Traverses @stack, sending each element method <code>id</code> with
<code>args</code> and <code>block</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1699'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1699
1700
1701
1702
1703
1704</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1699</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_visit'>visit</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@stack</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
    <span class='id identifier rubyid_el'>el</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="warn-instance_method">
  <h3 class='signature'>
  #<strong>warn</strong>(mesg = $!)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/optparse.rb#L1189'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1189
1190
1191</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1189</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='gvar'>$!</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'>program_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mesg'>mesg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>