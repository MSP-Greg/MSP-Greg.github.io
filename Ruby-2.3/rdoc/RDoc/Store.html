<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Store &mdash; rdoc Ruby-2.3.2 p139</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Store",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.3.2</a> &raquo; 
          <a href='../index.html'>rdoc</a> &raquo; 
          <a href='../_index.html'>Index (S)</a> &raquo; 
          <a href="../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
          <span class='title'>Store</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: RDoc::Store</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>RDoc::Store</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <a href="Store/Error.html" title="RDoc::Store::Error (class)">Error</a>,
    <a href="Store/MissingFileError.html" title="RDoc::Store::MissingFileError (class)">MissingFileError</a>
    </td>
  </tr>




  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
rdoc/store.rb</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A set of rdoc data for a single project (gem, path, etc.).</p>

<p>The store manages reading and writing ri data for a project and maintains a
cache of methods, classes and ancestors in the store.</p>

<p>The store maintains a <a href="#cache-instance_method" title="RDoc::Store#cache (method)">#cache</a> of its contents for faster lookup.  After
adding items to the store it must be flushed using <a href="#save_cache-instance_method" title="RDoc::Store#save_cache (method)">#save_cache</a>.  The
cache contains the following structures:</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@cache</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='symbol'>:ancestors</span>        <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='comment'># class name =&gt; ancestor names
</span>  <span class='symbol'>:attributes</span>       <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='comment'># class name =&gt; attributes
</span>  <span class='symbol'>:class_methods</span>    <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='comment'># class name =&gt; class methods
</span>  <span class='symbol'>:instance_methods</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='comment'># class name =&gt; instance methods
</span>  <span class='symbol'>:modules</span>          <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='comment'># classes and modules in this store
</span>  <span class='symbol'>:pages</span>            <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='comment'># page names
</span><span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>


<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#c_class_variables-instance_method" title="#c_class_variables (instance method)">#<strong>c_class_variables</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Maps C variables to class or module names for each parsed C file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#c_enclosure_classes-instance_method" title="#c_enclosure_classes (instance method)">#<strong>c_enclosure_classes</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Stores the name of the C variable a class belongs to.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#c_singleton_class_variables-instance_method" title="#c_singleton_class_variables (instance method)">#<strong>c_singleton_class_variables</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Maps C variables to singleton class names for each parsed C file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cache-instance_method" title="#cache (instance method)">#<strong>cache</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The contents of the Store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dry_run-instance_method" title="#dry_run (instance method)">#<strong>dry_run</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>If true this Store will not write any files</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The encoding of the contents in the Store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path this store reads or writes</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rdoc-instance_method" title="#rdoc (instance method)">#<strong>rdoc</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The <a href="RDoc.html" title="RDoc::RDoc (class)">RDoc</a> driver for this parse tree.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Type of ri datastore this was loaded from.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(path = nil, type = nil)  &#x21d2; Store </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new Store of <code>type</code> that will load or save to
<code>path</code></p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#add_c_enclosure-instance_method" title="#add_c_enclosure (instance method)">#<strong>add_c_enclosure</strong>(variable, namespace)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds <code>module</code> as an enclosure (namespace) for the given
<code>variable</code> for C files.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#add_c_variables-instance_method" title="#add_c_variables (instance method)">#<strong>add_c_variables</strong>(c_parser)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds C variables from an <a href="Parser.html" title="RDoc::Parser (class)">Parser</a>::C</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#add_file-instance_method" title="#add_file (instance method)">#<strong>add_file</strong>(absolute_name, relative_name = absolute_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds the file with <code>name</code> as an <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> to the store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#all_classes-instance_method" title="#all_classes (instance method)">#<strong>all_classes</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns all classes discovered by RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#all_classes_and_modules-instance_method" title="#all_classes_and_modules (instance method)">#<strong>all_classes_and_modules</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns all classes and modules discovered by RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#all_files-instance_method" title="#all_files (instance method)">#<strong>all_files</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>All TopLevels known to RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#all_modules-instance_method" title="#all_modules (instance method)">#<strong>all_modules</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns all modules discovered by RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ancestors-instance_method" title="#ancestors (instance method)">#<strong>ancestors</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Ancestors cache accessor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#attributes-instance_method" title="#attributes (instance method)">#<strong>attributes</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Attributes cache accessor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cache_path-instance_method" title="#cache_path (instance method)">#<strong>cache_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path to the cache file</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#class_file-instance_method" title="#class_file (instance method)">#<strong>class_file</strong>(klass_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path to the ri data for <code>klass_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#class_methods-instance_method" title="#class_methods (instance method)">#<strong>class_methods</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Class methods cache accessor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#class_path-instance_method" title="#class_path (instance method)">#<strong>class_path</strong>(klass_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path where data for <code>klass_name</code> will be stored (methods or
class data)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#classes_hash-instance_method" title="#classes_hash (instance method)">#<strong>classes_hash</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of all classes known to RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clean_cache_collection-instance_method" title="#clean_cache_collection (instance method)">#<strong>clean_cache_collection</strong>(collection)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes empty items and ensures item in each collection are unique and
sorted</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#complete-instance_method" title="#complete (instance method)">#<strong>complete</strong>(min_visibility)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prepares the RDoc code object tree for use by a generator.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#files_hash-instance_method" title="#files_hash (instance method)">#<strong>files_hash</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of all files known to RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_c_enclosure-instance_method" title="#find_c_enclosure (instance method)">#<strong>find_c_enclosure</strong>(variable)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the enclosure (namespace) for the given C <code>variable</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_class_named-instance_method" title="#find_class_named (instance method)">#<strong>find_class_named</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the class with <code>name</code> in all discovered classes</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_class_named_from-instance_method" title="#find_class_named_from (instance method)">#<strong>find_class_named_from</strong>(name, from)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the class with <code>name</code> starting in namespace
<code>from</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_class_or_module-instance_method" title="#find_class_or_module (instance method)">#<strong>find_class_or_module</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the class or module with <code>name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_file_named-instance_method" title="#find_file_named (instance method)">#<strong>find_file_named</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the file with <code>name</code> in all discovered files</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_module_named-instance_method" title="#find_module_named (instance method)">#<strong>find_module_named</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the module with <code>name</code> in all discovered modules</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_text_page-instance_method" title="#find_text_page (instance method)">#<strong>find_text_page</strong>(file_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> that is a text file and has the given
<code>file_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_unique-instance_method" title="#find_unique (instance method)">#<strong>find_unique</strong>(all_hash)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds unique classes/modules defined in <code>all_hash</code>, and returns
them as an array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fix_basic_object_inheritance-instance_method" title="#fix_basic_object_inheritance (instance method)">#<strong>fix_basic_object_inheritance</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Fixes the erroneous <code>BasicObject &lt; Object</code> in 1.9.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#friendly_path-instance_method" title="#friendly_path (instance method)">#<strong>friendly_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Friendly rendition of <a href="#path-instance_method" title="RDoc::Store#path (method)">#path</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#instance_methods-instance_method" title="#instance_methods (instance method)">#<strong>instance_methods</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Instance methods cache accessor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_all-instance_method" title="#load_all (instance method)">#<strong>load_all</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads all items from this store into memory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_cache-instance_method" title="#load_cache (instance method)">#<strong>load_cache</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads cache file for this store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_class-instance_method" title="#load_class (instance method)">#<strong>load_class</strong>(klass_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads ri data for <code>klass_name</code> and hooks it up to this store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_class_data-instance_method" title="#load_class_data (instance method)">#<strong>load_class_data</strong>(klass_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads ri data for <code>klass_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_method-instance_method" title="#load_method (instance method)">#<strong>load_method</strong>(klass_name, method_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads ri data for <code>method_name</code> in <code>klass_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_page-instance_method" title="#load_page (instance method)">#<strong>load_page</strong>(page_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads ri data for <code>page_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#main-instance_method" title="#main (instance method)">#<strong>main</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Gets the main page for this RDoc store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#main%3D-instance_method" title="#main= (instance method)">#<strong>main=</strong>(page)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the main page for this RDoc store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#make_variable_map-instance_method" title="#make_variable_map (instance method)">#<strong>make_variable_map</strong>(variables)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Converts the variable =&gt; ClassModule map <code>variables</code> from a C
parser into a variable =&gt; class name map.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#method_file-instance_method" title="#method_file (instance method)">#<strong>method_file</strong>(klass_name, method_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path to the ri data for <code>method_name</code> in <code>klass_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#module_names-instance_method" title="#module_names (instance method)">#<strong>module_names</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Modules cache accessor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#modules_hash-instance_method" title="#modules_hash (instance method)">#<strong>modules_hash</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of all modules known to RDoc</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#page-instance_method" title="#page (instance method)">#<strong>page</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> that is a text file and has the given
<code>name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#page_file-instance_method" title="#page_file (instance method)">#<strong>page_file</strong>(page_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path to the ri data for <code>page_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_nodoc-instance_method" title="#remove_nodoc (instance method)">#<strong>remove_nodoc</strong>(all_hash)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes from <code>all_hash</code> the contexts that are nodoc or have no
content.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#save-instance_method" title="#save (instance method)">#<strong>save</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Saves all entries in the store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#save_cache-instance_method" title="#save_cache (instance method)">#<strong>save_cache</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the cache file for this store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#save_class-instance_method" title="#save_class (instance method)">#<strong>save_class</strong>(klass)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the ri data for <code>klass</code> (or module)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#save_method-instance_method" title="#save_method (instance method)">#<strong>save_method</strong>(klass, method)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the ri data for <code>method</code> on <code>klass</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#save_page-instance_method" title="#save_page (instance method)">#<strong>save_page</strong>(page)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the ri data for <code>page</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Source of the contents of this store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#title-instance_method" title="#title (instance method)">#<strong>title</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Gets the title for this RDoc store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#title%3D-instance_method" title="#title= (instance method)">#<strong>title=</strong>(title)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the title page for this RDoc store.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unique_classes-instance_method" title="#unique_classes (instance method)">#<strong>unique_classes</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the unique classes discovered by RDoc.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unique_classes_and_modules-instance_method" title="#unique_classes_and_modules (instance method)">#<strong>unique_classes_and_modules</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the unique classes and modules discovered by RDoc.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unique_modules-instance_method" title="#unique_modules (instance method)">#<strong>unique_modules</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the unique modules discovered by RDoc.</p>
</div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(path = nil, type = nil)  &#x21d2; <tt><a href="" title="RDoc::Store (class)">Store</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new Store of <code>type</code> that will load or save to
<code>path</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@dry_run</span>  <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@path</span>     <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@rdoc</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@type</span>     <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>

  <span class='ivar'>@cache</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:ancestors</span>                   <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:attributes</span>                  <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:class_methods</span>               <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:c_class_variables</span>           <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:c_singleton_class_variables</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:encoding</span>                    <span class='op'>=&gt;</span> <span class='ivar'>@encoding</span><span class='comma'>,</span>
    <span class='symbol'>:instance_methods</span>            <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:main</span>                        <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='symbol'>:modules</span>                     <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:pages</span>                       <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:title</span>                       <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>

  <span class='ivar'>@classes_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@modules_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@files_hash</span>   <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@c_enclosure_classes</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@c_enclosure_names</span>   <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@c_class_variables</span>           <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@c_singleton_class_variables</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@unique_classes</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@unique_modules</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="c_class_variables-instance_method">
  <h3 class='signature first'>
  #<strong>c_class_variables</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Maps C variables to class or module names for each parsed C file.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


80</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 80</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:c_class_variables</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="c_enclosure_classes-instance_method">
  <h3 class='signature'>
  #<strong>c_enclosure_classes</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Stores the name of the C variable a class belongs to.  This helps wire up
classes defined from C across files.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


73</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 73</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:c_enclosure_classes</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="c_singleton_class_variables-instance_method">
  <h3 class='signature'>
  #<strong>c_singleton_class_variables</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Maps C variables to singleton class names for each parsed C file.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


85</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 85</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:c_singleton_class_variables</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cache-instance_method">
  <h3 class='signature'>
  #<strong>cache</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The contents of the Store</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


112</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 112</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:cache</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dry_run-instance_method">
  <h3 class='signature'>
  #<strong>dry_run</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>If true this Store will not write any files</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


90</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 90</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:dry_run</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="encoding-instance_method">
  <h3 class='signature'>
  #<strong>encoding</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The encoding of the contents in the Store</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


117</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 117</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:encoding</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path-instance_method">
  <h3 class='signature'>
  #<strong>path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path this store reads or writes</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


95</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 95</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:path</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rdoc-instance_method">
  <h3 class='signature'>
  #<strong>rdoc</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The <a href="RDoc.html" title="RDoc::RDoc (class)">RDoc</a> driver for this parse tree.  This allows classes
consulting the documentation tree to access user-set options, for example.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


101</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 101</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:rdoc</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="type-instance_method">
  <h3 class='signature'>
  #<strong>type</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Type of ri datastore this was loaded from.  See <a href="RI/Driver.html" title="RDoc::RI::Driver (class)">RI::Driver</a>,
<a href="RI/Paths.html" title="RDoc::RI::Paths (module)">RI::Paths</a>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


107</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 107</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="add_c_enclosure-instance_method">
  <h3 class='signature first'>
  #<strong>add_c_enclosure</strong>(variable, namespace)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds <code>module</code> as an enclosure (namespace) for the given
<code>variable</code> for C files.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


161
162
163</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_c_enclosure'>add_c_enclosure</span> <span class='id identifier rubyid_variable'>variable</span><span class='comma'>,</span> <span class='id identifier rubyid_namespace'>namespace</span>
  <span class='ivar'>@c_enclosure_classes</span><span class='lbracket'>[</span><span class='id identifier rubyid_variable'>variable</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_namespace'>namespace</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="add_c_variables-instance_method">
  <h3 class='signature'>
  #<strong>add_c_variables</strong>(c_parser)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds C variables from an <a href="Parser.html" title="RDoc::Parser (class)">Parser</a>::C</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


168
169
170
171
172
173
174</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_c_variables'>add_c_variables</span> <span class='id identifier rubyid_c_parser'>c_parser</span>
  <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_c_parser'>c_parser</span><span class='period'>.</span><span class='id identifier rubyid_top_level'>top_level</span><span class='period'>.</span><span class='id identifier rubyid_relative_name'>relative_name</span>

  <span class='ivar'>@c_class_variables</span><span class='lbracket'>[</span><span class='id identifier rubyid_filename'>filename</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_make_variable_map'>make_variable_map</span> <span class='id identifier rubyid_c_parser'>c_parser</span><span class='period'>.</span><span class='id identifier rubyid_classes'>classes</span>

  <span class='ivar'>@c_singleton_class_variables</span><span class='lbracket'>[</span><span class='id identifier rubyid_filename'>filename</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_c_parser'>c_parser</span><span class='period'>.</span><span class='id identifier rubyid_singleton_classes'>singleton_classes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="add_file-instance_method">
  <h3 class='signature'>
  #<strong>add_file</strong>(absolute_name, relative_name = absolute_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds the file with <code>name</code> as an <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> to the store. 
Returns the created <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


180
181
182
183
184
185
186
187
188</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_file'>add_file</span> <span class='id identifier rubyid_absolute_name'>absolute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_relative_name'>relative_name</span> <span class='op'>=</span> <span class='id identifier rubyid_absolute_name'>absolute_name</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_top_level'>top_level</span> <span class='op'>=</span> <span class='ivar'>@files_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_relative_name'>relative_name</span><span class='rbracket'>]</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_top_level'>top_level</span> <span class='op'>=</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>TopLevel</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_absolute_name'>absolute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_relative_name'>relative_name</span>
    <span class='id identifier rubyid_top_level'>top_level</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='ivar'>@files_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_relative_name'>relative_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_top_level'>top_level</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_top_level'>top_level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="all_classes-instance_method">
  <h3 class='signature'>
  #<strong>all_classes</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns all classes discovered by RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


193
194
195</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 193</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_classes'>all_classes</span>
  <span class='ivar'>@classes_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="all_classes_and_modules-instance_method">
  <h3 class='signature'>
  #<strong>all_classes_and_modules</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns all classes and modules discovered by RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


200
201
202</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_classes_and_modules'>all_classes_and_modules</span>
  <span class='ivar'>@classes_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span> <span class='op'>+</span> <span class='ivar'>@modules_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="all_files-instance_method">
  <h3 class='signature'>
  #<strong>all_files</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>All TopLevels known to RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


207
208
209</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_files'>all_files</span>
  <span class='ivar'>@files_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="all_modules-instance_method">
  <h3 class='signature'>
  #<strong>all_modules</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns all modules discovered by RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


214
215
216</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_modules'>all_modules</span>
  <span class='id identifier rubyid_modules_hash'>modules_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ancestors-instance_method">
  <h3 class='signature'>
  #<strong>ancestors</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Ancestors cache accessor.  Maps a klass name to an Array of its ancestors
in this store.  If Foo in this store inherits from Object, Kernel won&#39;t
be listed (it will be included from ruby&#39;s ri store).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


223
224
225</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 223</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ancestors'>ancestors</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="attributes-instance_method">
  <h3 class='signature'>
  #<strong>attributes</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attributes cache accessor.  Maps a class to an Array of its attributes.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


230
231
232</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attributes'>attributes</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cache_path-instance_method">
  <h3 class='signature'>
  #<strong>cache_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path to the cache file</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


237
238
239</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 237</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cache_path'>cache_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cache.ri</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="class_file-instance_method">
  <h3 class='signature'>
  #<strong>class_file</strong>(klass_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path to the ri data for <code>klass_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


244
245
246
247</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 244</span>

<span class='kw'>def</span> <span class='id identifier rubyid_class_file'>class_file</span> <span class='id identifier rubyid_klass_name'>klass_name</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_class_path'>class_path</span><span class='lparen'>(</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cdesc-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.ri</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="class_methods-instance_method">
  <h3 class='signature'>
  #<strong>class_methods</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Class methods cache accessor.  Maps a class to an Array of its class
methods (not full name).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


253
254
255</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 253</span>

<span class='kw'>def</span> <span class='id identifier rubyid_class_methods'>class_methods</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="class_path-instance_method">
  <h3 class='signature'>
  #<strong>class_path</strong>(klass_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path where data for <code>klass_name</code> will be stored (methods or
class data)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


260
261
262</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_class_path'>class_path</span> <span class='id identifier rubyid_klass_name'>klass_name</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="classes_hash-instance_method">
  <h3 class='signature'>
  #<strong>classes_hash</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of all classes known to RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


267
268
269</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_classes_hash'>classes_hash</span>
  <span class='ivar'>@classes_hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="clean_cache_collection-instance_method">
  <h3 class='signature'>
  #<strong>clean_cache_collection</strong>(collection)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes empty items and ensures item in each collection are unique and
sorted</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


275
276
277
278
279
280
281
282
283
284
285</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 275</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clean_cache_collection'>clean_cache_collection</span> <span class='id identifier rubyid_collection'>collection</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>else</span>
      <span class='comment'># HACK mongrel-1.1.5 documents its files twice
</span>      <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
      <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="complete-instance_method">
  <h3 class='signature'>
  #<strong>complete</strong>(min_visibility)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prepares the RDoc code object tree for use by a generator.</p>

<p>It finds unique classes/modules defined, and replaces classes/modules that
are aliases for another one by a copy with <a href="ClassModule.html#is_alias_for-instance_method" title="RDoc::ClassModule#is_alias_for (method)">ClassModule#is_alias_for</a>
set.</p>

<p>It updates the <a href="ClassModule.html#constant_aliases-instance_method" title="RDoc::ClassModule#constant_aliases (method)">ClassModule#constant_aliases</a> attribute of real
classes or modules.</p>

<p>It also completely removes the classes and modules that should be removed
from the documentation and the methods that have a visibility below
<code>min_visibility</code>, which is the <code>--visibility</code> option.</p>

<p>See also <a href="Context.html#remove_from_documentation%3F-instance_method" title="RDoc::Context#remove_from_documentation? (method)">Context#remove_from_documentation?</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 303</span>

<span class='kw'>def</span> <span class='id identifier rubyid_complete'>complete</span> <span class='id identifier rubyid_min_visibility'>min_visibility</span>
  <span class='id identifier rubyid_fix_basic_object_inheritance'>fix_basic_object_inheritance</span>

  <span class='comment'># cache included modules before they are removed from the documentation
</span>  <span class='id identifier rubyid_all_classes_and_modules'>all_classes_and_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cm'>cm</span><span class='op'>|</span> <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span> <span class='rbrace'>}</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_min_visibility'>min_visibility</span> <span class='op'>==</span> <span class='symbol'>:nodoc</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_remove_nodoc'>remove_nodoc</span> <span class='ivar'>@classes_hash</span>
    <span class='id identifier rubyid_remove_nodoc'>remove_nodoc</span> <span class='ivar'>@modules_hash</span>
  <span class='kw'>end</span>

  <span class='ivar'>@unique_classes</span> <span class='op'>=</span> <span class='id identifier rubyid_find_unique'>find_unique</span> <span class='ivar'>@classes_hash</span>
  <span class='ivar'>@unique_modules</span> <span class='op'>=</span> <span class='id identifier rubyid_find_unique'>find_unique</span> <span class='ivar'>@modules_hash</span>

  <span class='id identifier rubyid_unique_classes_and_modules'>unique_classes_and_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cm'>cm</span><span class='op'>|</span>
    <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_complete'>complete</span> <span class='id identifier rubyid_min_visibility'>min_visibility</span>
  <span class='kw'>end</span>

  <span class='ivar'>@files_hash</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file_name'>file_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_tl'>tl</span> <span class='op'>=</span> <span class='ivar'>@files_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rbracket'>]</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_text?'>text?</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_modules_hash'>modules_hash</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
      <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_classes_hash'>classes_hash</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>

      <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_classes_or_modules'>classes_or_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cm'>cm</span><span class='op'>|</span>
        <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>class</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
          <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_classes_hash'>classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_cm'>cm</span> <span class='kw'>if</span> <span class='ivar'>@classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_tl'>tl</span><span class='period'>.</span><span class='id identifier rubyid_modules_hash'>modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_cm'>cm</span> <span class='kw'>if</span> <span class='ivar'>@modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="files_hash-instance_method">
  <h3 class='signature'>
  #<strong>files_hash</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of all files known to RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


343
344
345</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_files_hash'>files_hash</span>
  <span class='ivar'>@files_hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_c_enclosure-instance_method">
  <h3 class='signature'>
  #<strong>find_c_enclosure</strong>(variable)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the enclosure (namespace) for the given C <code>variable</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 350</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_c_enclosure'>find_c_enclosure</span> <span class='id identifier rubyid_variable'>variable</span>
  <span class='ivar'>@c_enclosure_classes</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span> <span class='id identifier rubyid_variable'>variable</span> <span class='kw'>do</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='ivar'>@c_enclosure_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_variable'>variable</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span> <span class='id identifier rubyid_name'>name</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_mod'>mod</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_loaded_mod'>loaded_mod</span> <span class='op'>=</span> <span class='id identifier rubyid_load_class_data'>load_class_data</span> <span class='id identifier rubyid_name'>name</span>

      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_loaded_mod'>loaded_mod</span><span class='period'>.</span><span class='id identifier rubyid_in_files'>in_files</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

      <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_file'>file</span> <span class='comment'># legacy data source
</span>
      <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='kw'>self</span>

      <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>NormalModule</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>

    <span class='ivar'>@c_enclosure_classes</span><span class='lbracket'>[</span><span class='id identifier rubyid_variable'>variable</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_class_named-instance_method">
  <h3 class='signature'>
  #<strong>find_class_named</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the class with <code>name</code> in all discovered classes</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


375
376
377</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 375</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_class_named_from-instance_method">
  <h3 class='signature'>
  #<strong>find_class_named_from</strong>(name, from)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the class with <code>name</code> starting in namespace
<code>from</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


382
383
384
385
386
387
388
389
390
391
392
393
394
395</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_class_named_from'>find_class_named_from</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_from'>from</span>
  <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span> <span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_from'>from</span> <span class='kw'>unless</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>Context</span> <span class='op'>===</span> <span class='id identifier rubyid_from'>from</span>

  <span class='kw'>until</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>TopLevel</span> <span class='op'>===</span> <span class='id identifier rubyid_from'>from</span> <span class='kw'>do</span>
    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_from'>from</span>

    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_from'>from</span><span class='period'>.</span><span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_klass'>klass</span> <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span>

    <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span> <span class='id identifier rubyid_from'>from</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_class_or_module-instance_method">
  <h3 class='signature'>
  #<strong>find_class_or_module</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the class or module with <code>name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


400
401
402
403</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 400</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$&#39;</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span>
  <span class='ivar'>@classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_file_named-instance_method">
  <h3 class='signature'>
  #<strong>find_file_named</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the file with <code>name</code> in all discovered files</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


408
409
410</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_file_named'>find_file_named</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@files_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_module_named-instance_method">
  <h3 class='signature'>
  #<strong>find_module_named</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the module with <code>name</code> in all discovered modules</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


415
416
417</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_module_named'>find_module_named</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_text_page-instance_method">
  <h3 class='signature'>
  #<strong>find_text_page</strong>(file_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> that is a text file and has the given
<code>file_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


423
424
425
426
427</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_text_page'>find_text_page</span> <span class='id identifier rubyid_file_name'>file_name</span>
  <span class='ivar'>@files_hash</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_text?'>text?</span> <span class='kw'>and</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>==</span> <span class='id identifier rubyid_file_name'>file_name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_unique-instance_method">
  <h3 class='signature'>
  #<strong>find_unique</strong>(all_hash)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds unique classes/modules defined in <code>all_hash</code>, and returns
them as an array. Performs the alias updates in <code>all_hash</code>: see
complete.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


436
437
438
439
440
441
442
443
444</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 436</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_unique'>find_unique</span> <span class='id identifier rubyid_all_hash'>all_hash</span>
  <span class='id identifier rubyid_unique'>unique</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_all_hash'>all_hash</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_cm'>cm</span><span class='op'>|</span>
    <span class='id identifier rubyid_unique'>unique</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cm'>cm</span> <span class='kw'>if</span> <span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>==</span> <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unique'>unique</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fix_basic_object_inheritance-instance_method">
  <h3 class='signature'>
  #<strong>fix_basic_object_inheritance</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Fixes the erroneous <code>BasicObject &lt; Object</code> in 1.9.</p>

<p>Because we assumed all classes without a stated superclass inherit from
Object, we have the above wrong inheritance.</p>

<p>We fix BasicObject right away if we are running in a Ruby version &gt;=
1.9. If not, we may be documenting 1.9 source while running under 1.8: we
search the files of BasicObject for object.c, and fix the inheritance if
we find it.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


457
458
459
460
461
462
463
464
465</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 457</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fix_basic_object_inheritance'>fix_basic_object_inheritance</span>
  <span class='id identifier rubyid_basic'>basic</span> <span class='op'>=</span> <span class='id identifier rubyid_classes_hash'>classes_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BasicObject</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_basic'>basic</span>
  <span class='kw'>if</span> <span class='const'>RUBY_VERSION</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.9</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_basic'>basic</span><span class='period'>.</span><span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_basic'>basic</span><span class='period'>.</span><span class='id identifier rubyid_in_files'>in_files</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object.c</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_basic'>basic</span><span class='period'>.</span><span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="friendly_path-instance_method">
  <h3 class='signature'>
  #<strong>friendly_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Friendly rendition of <a href="#path-instance_method" title="RDoc::Store#path (method)">#path</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


470
471
472
473
474
475
476
477
478
479
480</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 470</span>

<span class='kw'>def</span> <span class='id identifier rubyid_friendly_path'>friendly_path</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbol'>:gem</span>    <span class='kw'>then</span>
    <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@path</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gem </span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span> <span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:home</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~/.rdoc</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:site</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby site</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:system</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby core</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span> <span class='ivar'>@path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="instance_methods-instance_method">
  <h3 class='signature'>
  #<strong>instance_methods</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Instance methods cache accessor.  Maps a class to an Array of its instance
methods (not full name).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


490
491
492</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 490</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_all-instance_method">
  <h3 class='signature'>
  #<strong>load_all</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads all items from this store into memory.  This recreates a
documentation tree for use by a generator</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 498</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_all'>load_all</span>
  <span class='id identifier rubyid_load_cache'>load_cache</span>

  <span class='id identifier rubyid_module_names'>module_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_module_name'>module_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span><span class='lparen'>(</span><span class='id identifier rubyid_module_name'>module_name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_load_class'>load_class</span><span class='lparen'>(</span><span class='id identifier rubyid_module_name'>module_name</span><span class='rparen'>)</span>

    <span class='comment'># load method documentation since the loaded class/module does not have
</span>    <span class='comment'># it
</span>    <span class='id identifier rubyid_loaded_methods'>loaded_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_method_list'>method_list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
      <span class='id identifier rubyid_load_method'>load_method</span> <span class='id identifier rubyid_module_name'>module_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_method_list'>method_list</span><span class='period'>.</span><span class='id identifier rubyid_replace'>replace</span> <span class='id identifier rubyid_loaded_methods'>loaded_methods</span>

    <span class='id identifier rubyid_loaded_attributes'>loaded_attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attribute'>attribute</span><span class='op'>|</span>
      <span class='id identifier rubyid_load_method'>load_method</span> <span class='id identifier rubyid_module_name'>module_name</span><span class='comma'>,</span> <span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_replace'>replace</span> <span class='id identifier rubyid_loaded_attributes'>loaded_attributes</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_all_classes_and_modules'>all_classes_and_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='op'>|</span>
    <span class='id identifier rubyid_descendent_re'>descendent_re</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>::[^:]+$</span><span class='regexp_end'>/</span></span>

    <span class='id identifier rubyid_module_names'>module_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='id identifier rubyid_descendent_re'>descendent_re</span>

      <span class='id identifier rubyid_descendent'>descendent</span> <span class='op'>=</span> <span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span> <span class='id identifier rubyid_name'>name</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_descendent'>descendent</span>
      <span class='kw'>when</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>NormalClass</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_classes_hash'>classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_descendent'>descendent</span>
      <span class='kw'>when</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>NormalModule</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_mod'>mod</span><span class='period'>.</span><span class='id identifier rubyid_modules_hash'>modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_descendent'>descendent</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page_name'>page_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_page'>page</span> <span class='op'>=</span> <span class='id identifier rubyid_load_page'>load_page</span> <span class='id identifier rubyid_page_name'>page_name</span>
    <span class='ivar'>@files_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_page_name'>page_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_page'>page</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_cache-instance_method">
  <h3 class='signature'>
  #<strong>load_cache</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads cache file for this store</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 545</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_cache'>load_cache</span>
  <span class='comment'>#orig_enc = @encoding
</span>
  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_cache_path'>cache_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='ivar'>@cache</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_load_enc'>load_enc</span> <span class='op'>=</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:encoding</span><span class='rbracket'>]</span>

  <span class='comment'># TODO this feature will be time-consuming to add:
</span>  <span class='comment'># a) Encodings may be incompatible but transcodeable
</span>  <span class='comment'># b) Need to warn in the appropriate spots, wherever they may be
</span>  <span class='comment'># c) Need to handle cross-cache differences in encodings
</span>  <span class='comment'># d) Need to warn when generating into a cache with different encodings
</span>  <span class='comment'>#
</span>  <span class='comment'>#if orig_enc and load_enc != orig_enc then
</span>  <span class='comment'>#  warn &quot;Cached encoding #{load_enc} is incompatible with #{orig_enc}\n&quot; \
</span>  <span class='comment'>#       &quot;from #{path}/cache.ri&quot; unless
</span>  <span class='comment'>#    Encoding.compatible? orig_enc, load_enc
</span>  <span class='comment'>#end
</span>
  <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_load_enc'>load_enc</span> <span class='kw'>unless</span> <span class='ivar'>@encoding</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span>                       <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:main</span><span class='rbracket'>]</span>                        <span class='op'>||=</span> <span class='kw'>nil</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:c_class_variables</span><span class='rbracket'>]</span>           <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:c_singleton_class_variables</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:c_class_variables</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_map'>map</span><span class='op'>|</span>
    <span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_variable'>variable</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='ivar'>@c_enclosure_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_variable'>variable</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@cache</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_class-instance_method">
  <h3 class='signature'>
  #<strong>load_class</strong>(klass_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads ri data for <code>klass_name</code> and hooks it up to this store.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


586
587
588
589
590
591
592
593
594
595
596
597</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 586</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_class'>load_class</span> <span class='id identifier rubyid_klass_name'>klass_name</span>
  <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_load_class_data'>load_class_data</span> <span class='id identifier rubyid_klass_name'>klass_name</span>

  <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='kw'>self</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>NormalClass</span> <span class='kw'>then</span>
    <span class='ivar'>@classes_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>NormalModule</span> <span class='kw'>then</span>
    <span class='ivar'>@modules_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_class_data-instance_method">
  <h3 class='signature'>
  #<strong>load_class_data</strong>(klass_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads ri data for <code>klass_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


602
603
604
605
606
607
608
609
610
611
612</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 602</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_class_data'>load_class_data</span> <span class='id identifier rubyid_klass_name'>klass_name</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_class_file'>class_file</span> <span class='id identifier rubyid_klass_name'>klass_name</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'>MissingFileError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_method-instance_method">
  <h3 class='signature'>
  #<strong>load_method</strong>(klass_name, method_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads ri data for <code>method_name</code> in <code>klass_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 617</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_method'>load_method</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_method_file'>method_file</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span>
      <span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span><span class='lparen'>(</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_load_class'>load_class</span><span class='lparen'>(</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rparen'>)</span> <span class='kw'>unless</span>
        <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>
    <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'>MissingFileError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_klass_name'>klass_name</span> <span class='op'>+</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_page-instance_method">
  <h3 class='signature'>
  #<strong>load_page</strong>(page_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads ri data for <code>page_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


637
638
639
640
641
642
643
644
645
646
647
648
649</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 637</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_page'>load_page</span> <span class='id identifier rubyid_page_name'>page_name</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_page_file'>page_file</span> <span class='id identifier rubyid_page_name'>page_name</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'>MissingFileError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_page_name'>page_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="main-instance_method">
  <h3 class='signature'>
  #<strong>main</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Gets the main page for this RDoc store.  This page is used as the root of
the RDoc server.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


655
656
657</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 655</span>

<span class='kw'>def</span> <span class='id identifier rubyid_main'>main</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:main</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="main=-instance_method">
  <h3 class='signature'>
  #<strong>main=</strong>(page)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the main page for this RDoc store.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


662
663
664</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 662</span>

<span class='kw'>def</span> <span class='id identifier rubyid_main='>main=</span> <span class='id identifier rubyid_page'>page</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:main</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_page'>page</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="make_variable_map-instance_method">
  <h3 class='signature'>
  #<strong>make_variable_map</strong>(variables)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Converts the variable =&gt; ClassModule map <code>variables</code> from a C
parser into a variable =&gt; class name map.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


670
671
672
673
674
675
676
677
678</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 670</span>

<span class='kw'>def</span> <span class='id identifier rubyid_make_variable_map'>make_variable_map</span> <span class='id identifier rubyid_variables'>variables</span>
  <span class='id identifier rubyid_map'>map</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_variables'>variables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_variable'>variable</span><span class='comma'>,</span> <span class='id identifier rubyid_class_module'>class_module</span><span class='op'>|</span>
    <span class='id identifier rubyid_map'>map</span><span class='lbracket'>[</span><span class='id identifier rubyid_variable'>variable</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_class_module'>class_module</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_map'>map</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="method_file-instance_method">
  <h3 class='signature'>
  #<strong>method_file</strong>(klass_name, method_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path to the ri data for <code>method_name</code> in <code>klass_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


683
684
685
686
687
688
689
690
691
692
693
694
695
696</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 683</span>

<span class='kw'>def</span> <span class='id identifier rubyid_method_file'>method_file</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>
  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#(.*)</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_method_type'>method_type</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='backref'>$1</span>

  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:ord</span> <span class='kw'>then</span>
                  <span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%02x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='backref'>$&amp;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_ord'>ord</span> <span class='rbrace'>}</span>
                <span class='kw'>else</span>
                  <span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%02x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='backref'>$&amp;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
                <span class='kw'>end</span>

  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_class_path'>class_path</span><span class='lparen'>(</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_name'>method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_type'>method_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>.ri</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="module_names-instance_method">
  <h3 class='signature'>
  #<strong>module_names</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Modules cache accessor.  An Array of all the module (and class) names in
the store.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


702
703
704</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 702</span>

<span class='kw'>def</span> <span class='id identifier rubyid_module_names'>module_names</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="modules_hash-instance_method">
  <h3 class='signature'>
  #<strong>modules_hash</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of all modules known to RDoc</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


709
710
711</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 709</span>

<span class='kw'>def</span> <span class='id identifier rubyid_modules_hash'>modules_hash</span>
  <span class='ivar'>@modules_hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="page-instance_method">
  <h3 class='signature'>
  #<strong>page</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a> that is a text file and has the given
<code>name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


716
717
718
719
720</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 716</span>

<span class='kw'>def</span> <span class='id identifier rubyid_page'>page</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@files_hash</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_text?'>text?</span> <span class='kw'>and</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_page_name'>page_name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="page_file-instance_method">
  <h3 class='signature'>
  #<strong>page_file</strong>(page_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path to the ri data for <code>page_name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


725
726
727
728
729</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 725</span>

<span class='kw'>def</span> <span class='id identifier rubyid_page_file'>page_file</span> <span class='id identifier rubyid_page_name'>page_name</span>
  <span class='id identifier rubyid_file_name'>file_name</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_page_name'>page_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_page_name'>page_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>page-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file_name'>file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.ri</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_nodoc-instance_method">
  <h3 class='signature'>
  #<strong>remove_nodoc</strong>(all_hash)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes from <code>all_hash</code> the contexts that are nodoc or have no
content.</p>

<p>See <a href="Context.html#remove_from_documentation%3F-instance_method" title="RDoc::Context#remove_from_documentation? (method)">Context#remove_from_documentation?</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


736
737
738
739
740
741</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 736</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_nodoc'>remove_nodoc</span> <span class='id identifier rubyid_all_hash'>all_hash</span>
  <span class='id identifier rubyid_all_hash'>all_hash</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_all_hash'>all_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_all_hash'>all_hash</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_remove_from_documentation?'>remove_from_documentation?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="save-instance_method">
  <h3 class='signature'>
  #<strong>save</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Saves all entries in the store</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 746</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_load_cache'>load_cache</span>

  <span class='id identifier rubyid_all_classes_and_modules'>all_classes_and_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span>
    <span class='id identifier rubyid_save_class'>save_class</span> <span class='id identifier rubyid_klass'>klass</span>

    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_each_method'>each_method</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
      <span class='id identifier rubyid_save_method'>save_method</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_each_attribute'>each_attribute</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attribute'>attribute</span><span class='op'>|</span>
      <span class='id identifier rubyid_save_method'>save_method</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_attribute'>attribute</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_all_files'>all_files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_save_page'>save_page</span> <span class='id identifier rubyid_file'>file</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_save_cache'>save_cache</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="save_cache-instance_method">
  <h3 class='signature'>
  #<strong>save_cache</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the cache file for this store</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 771</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_cache'>save_cache</span>
  <span class='id identifier rubyid_clean_cache_collection'>clean_cache_collection</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_clean_cache_collection'>clean_cache_collection</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_clean_cache_collection'>clean_cache_collection</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_clean_cache_collection'>clean_cache_collection</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:encoding</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@encoding</span> <span class='comment'># this gets set twice due to assert_cache
</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:c_class_variables</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span>           <span class='ivar'>@c_class_variables</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:c_singleton_class_variables</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='ivar'>@c_singleton_class_variables</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@dry_run</span>

  <span class='id identifier rubyid_marshal'>marshal</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span> <span class='ivar'>@cache</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_cache_path'>cache_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_marshal'>marshal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="save_class-instance_method">
  <h3 class='signature'>
  #<strong>save_class</strong>(klass)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the ri data for <code>klass</code> (or module)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 800</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_class'>save_class</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_class_path'>class_path</span><span class='lparen'>(</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@dry_run</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_full_name'>full_name</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_class_file'>class_file</span> <span class='id identifier rubyid_full_name'>full_name</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_disk_klass'>disk_klass</span> <span class='op'>=</span> <span class='id identifier rubyid_load_class'>load_class</span> <span class='id identifier rubyid_full_name'>full_name</span>

    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_disk_klass'>disk_klass</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='kw'>rescue</span> <span class='const'>MissingFileError</span>
  <span class='kw'>end</span>

  <span class='comment'># BasicObject has no ancestors
</span>  <span class='id identifier rubyid_ancestors'>ancestors</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_direct_ancestors'>direct_ancestors</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='op'>|</span>
    <span class='comment'># HACK for classes we don&#39;t know about (class X &lt; RuntimeError)
</span>    <span class='const'>String</span> <span class='op'>===</span> <span class='id identifier rubyid_ancestor'>ancestor</span> <span class='op'>?</span> <span class='id identifier rubyid_ancestor'>ancestor</span> <span class='op'>:</span> <span class='id identifier rubyid_ancestor'>ancestor</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
  <span class='kw'>end</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_ancestors'>ancestors</span>

  <span class='id identifier rubyid_attribute_definitions'>attribute_definitions</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attribute'>attribute</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_definition'>definition</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_attribute_definitions'>attribute_definitions</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_attribute_definitions'>attribute_definitions</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_to_delete'>to_delete</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_method_list'>method_list</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span>    <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_class_methods'>class_methods</span><span class='comma'>,</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span> <span class='op'>=</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_method_list'>method_list</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_meth'>meth</span><span class='op'>|</span> <span class='id identifier rubyid_meth'>meth</span><span class='period'>.</span><span class='id identifier rubyid_singleton'>singleton</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_class_methods'>class_methods</span>    <span class='op'>=</span> <span class='id identifier rubyid_class_methods'>class_methods</span><span class='period'>.</span>   <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_instance_methods'>instance_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_attribute_names'>attribute_names</span>  <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_attr'>attr</span><span class='op'>|</span>   <span class='id identifier rubyid_attr'>attr</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_old'>old</span> <span class='op'>=</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_class_methods'>class_methods</span>
    <span class='id identifier rubyid_to_delete'>to_delete</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
      <span class='id identifier rubyid_method_file'>method_file</span> <span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>::</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>

    <span class='id identifier rubyid_old'>old</span> <span class='op'>=</span> <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>-</span>
      <span class='id identifier rubyid_instance_methods'>instance_methods</span> <span class='op'>-</span> <span class='id identifier rubyid_attribute_names'>attribute_names</span>
    <span class='id identifier rubyid_to_delete'>to_delete</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
      <span class='id identifier rubyid_method_file'>method_file</span> <span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>

    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='id identifier rubyid_class_methods'>class_methods</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@dry_run</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_f'>rm_f</span> <span class='id identifier rubyid_to_delete'>to_delete</span>

  <span class='id identifier rubyid_marshal'>marshal</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span> <span class='id identifier rubyid_klass'>klass</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_marshal'>marshal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="save_method-instance_method">
  <h3 class='signature'>
  #<strong>save_method</strong>(klass, method)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the ri data for <code>method</code> on <code>klass</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 876</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_method'>save_method</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_class_path'>class_path</span><span class='lparen'>(</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@dry_run</span>

  <span class='id identifier rubyid_cache'>cache</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_singleton'>singleton</span> <span class='kw'>then</span>
            <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span>
          <span class='kw'>else</span>
            <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span>
          <span class='kw'>end</span>
  <span class='id identifier rubyid_cache'>cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cache'>cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@dry_run</span>

  <span class='id identifier rubyid_marshal'>marshal</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span> <span class='id identifier rubyid_method'>method</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_method_file'>method_file</span><span class='lparen'>(</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_marshal'>marshal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="save_page-instance_method">
  <h3 class='signature'>
  #<strong>save_page</strong>(page)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the ri data for <code>page</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 901</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_page'>save_page</span> <span class='id identifier rubyid_page'>page</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_text?'>text?</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_page_file'>page_file</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@dry_run</span>

  <span class='id identifier rubyid_cache'>cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cache'>cache</span><span class='lbracket'>[</span><span class='symbol'>:pages</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@dry_run</span>

  <span class='id identifier rubyid_marshal'>marshal</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span> <span class='id identifier rubyid_page'>page</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_marshal'>marshal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="source-instance_method">
  <h3 class='signature'>
  #<strong>source</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Source of the contents of this store.</p>

<p>For a store from a gem the source is the gem name.  For a store from the
home directory the source is home.  For system ri store (the standard
library documentation) the source isruby.  For a store from the site ri
directory the store is site.  For other stores the source is the <a href="#path-instance_method" title="RDoc::Store#path (method)">#path</a>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


929
930
931
932
933
934
935
936
937</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 929</span>

<span class='kw'>def</span> <span class='id identifier rubyid_source'>source</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbol'>:gem</span>    <span class='kw'>then</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@path</span>
  <span class='kw'>when</span> <span class='symbol'>:home</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>home</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:site</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>site</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:system</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span> <span class='ivar'>@path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="title-instance_method">
  <h3 class='signature'>
  #<strong>title</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Gets the title for this RDoc store.  This is used as the title in each page
on the RDoc server</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


943
944
945</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 943</span>

<span class='kw'>def</span> <span class='id identifier rubyid_title'>title</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="title=-instance_method">
  <h3 class='signature'>
  #<strong>title=</strong>(title)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the title page for this RDoc store.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


950
951
952</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 950</span>

<span class='kw'>def</span> <span class='id identifier rubyid_title='>title=</span> <span class='id identifier rubyid_title'>title</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_title'>title</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unique_classes-instance_method">
  <h3 class='signature'>
  #<strong>unique_classes</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the unique classes discovered by RDoc.</p>

<p>complete must have been called prior to using this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


959
960
961</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 959</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unique_classes'>unique_classes</span>
  <span class='ivar'>@unique_classes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unique_classes_and_modules-instance_method">
  <h3 class='signature'>
  #<strong>unique_classes_and_modules</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the unique classes and modules discovered by RDoc. complete must
have been called prior to using this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


967
968
969</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 967</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unique_classes_and_modules'>unique_classes_and_modules</span>
  <span class='ivar'>@unique_classes</span> <span class='op'>+</span> <span class='ivar'>@unique_modules</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unique_modules-instance_method">
  <h3 class='signature'>
  #<strong>unique_modules</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the unique modules discovered by RDoc. complete must have been
called prior to using this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


975
976
977</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rdoc/store.rb', line 975</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unique_modules'>unique_modules</span>
  <span class='ivar'>@unique_modules</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>