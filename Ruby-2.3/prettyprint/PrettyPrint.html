<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: PrettyPrint &mdash; prettyprint Ruby-2.3.2 p137</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "PrettyPrint",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.3.2</a> &raquo; 
          <a href='index.html'>prettyprint</a> &raquo; 
          <a href='_index.html'>Index (P)</a> &raquo; 
          <span class='title'>PrettyPrint</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: PrettyPrint</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>PrettyPrint</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>prettyprint.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>frozen_string_literal: true</p>

<p>This class implements a pretty printing algorithm. It finds line breaks and
nice indentations for grouped structure.</p>

<p>By default, the class assumes that primitive elements are strings and each
byte in the strings have single column in width. But it can be used for
other situations by giving suitable arguments for some methods:</p>
<ul><li>
<p>newline object and space generation block for <a href="#new-class_method" title="PrettyPrint.new (method)">PrettyPrint.new</a></p>
</li><li>
<p>optional width argument for <a href="#text-instance_method" title="PrettyPrint#text (method)">#text</a></p>
</li><li>
<p><a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a></p>
</li></ul>

<p>There are several candidate uses:</p>
<ul><li>
<p>text formatting using proportional fonts</p>
</li><li>
<p>multibyte characters which has columns different to number of bytes</p>
</li><li>
<p>non-string formatting</p>
</li></ul>

<h3 id="label-Bugs">Bugs</h3>
<ul><li>
<p>Box based formatting?</p>
</li><li>
<p>Other (better) model/algorithm?</p>
</li></ul>

<p>Report any bugs at <a
href="http://bugs.ruby-lang.org">bugs.ruby-lang.org</a></p>

<h3 id="label-References">References</h3>

<p>Christian Lindig, Strictly Pretty, March 2000, <a
href="http://www.st.cs.uni-sb.de/~lindig/papers/#pretty">www.st.cs.uni-sb.de/~lindig/papers/#pretty</a></p>

<p>Philip Wadler, A prettier printer, March 1998, <a
href="http://homepages.inf.ed.ac.uk/wadler/topics/language-design.html#prettier">homepages.inf.ed.ac.uk/wadler/topics/language-design.html#prettier</a></p>

<h3 id="label-Author">Author</h3>

<p>Tanaka Akira &lt;akr@fsij.org&gt;</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2>Defined Under Namespace</h2>

  <p class='children'><strong class='classes'>Classes:</strong>
    <a href="PrettyPrint/Breakable.html" title="PrettyPrint::Breakable (class)">Breakable</a>,
    <a href="PrettyPrint/Group.html" title="PrettyPrint::Group (class)">Group</a>,
    <a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)">GroupQueue</a>,
    <a href="PrettyPrint/SingleLine.html" title="PrettyPrint::SingleLine (class)">SingleLine</a>,
    <a href="PrettyPrint/Text.html" title="PrettyPrint::Text (class)">Text</a>
  </p>



<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#genspace-instance_method" title="#genspace (instance method)">#<strong>genspace</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>A lambda or Proc, that takes one argument, of a Fixnum, and returns the
corresponding number of spaces.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group_queue-instance_method" title="#group_queue (instance method)">#<strong>group_queue</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The <a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)">GroupQueue</a> of groups in stack to be pretty printed</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#indent-instance_method" title="#indent (instance method)">#<strong>indent</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The number of spaces to be indented</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#maxwidth-instance_method" title="#maxwidth (instance method)">#<strong>maxwidth</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The maximum width of a line, before it is separated in to a newline</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#newline-instance_method" title="#newline (instance method)">#<strong>newline</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The value that is appended to <code>output</code> to add a new line.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output-instance_method" title="#output (instance method)">#<strong>output</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The output object.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#format-class_method" title=".format (class method)">.<strong>format</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda {|n| &#39; &#39; * n}) {|q| ... } </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This is a convenience method which is same as follows:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, &amp;genspace)  &#x21d2; PrettyPrint </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a buffer for pretty printing.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#singleline_format-class_method" title=".singleline_format (class method)">.<strong>singleline_format</strong>(output = &#39;&#39;.dup, maxwidth = nil, newline = nil, genspace = nil) {|q| ... } </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This is similar to <a href="#format-class_method" title="PrettyPrint.format (method)">PrettyPrint.format</a> but the result has no breaks.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#break_outmost_groups-instance_method" title="#break_outmost_groups (instance method)">#<strong>break_outmost_groups</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Breaks the buffer into lines that are shorter than <a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#breakable-instance_method" title="#breakable (instance method)">#<strong>breakable</strong>(sep = &#39; &#39;, width = sep.length)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This says “you can break a line here if necessary”, and a
<code>width</code>-column text <code>sep</code> is inserted if a line is
not broken at the point.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current_group-instance_method" title="#current_group (instance method)">#<strong>current_group</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the group most recently added to the stack.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fill_breakable-instance_method" title="#fill_breakable (instance method)">#<strong>fill_breakable</strong>(sep = &#39; &#39;, width = sep.length)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This is similar to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> except the decision to break or not is
determined individually.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#flush-instance_method" title="#flush (instance method)">#<strong>flush</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>outputs buffered data.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group-instance_method" title="#group (instance method)">#<strong>group</strong>(indent = 0, open_obj = &#39;&#39;, close_obj = &#39;&#39;, open_width = open_obj.length, close_width = close_obj.length)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Groups line break hints added in the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group_sub-instance_method" title="#group_sub (instance method)">#<strong>group_sub</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Takes a block and queues a new group that is indented 1 level further.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#nest-instance_method" title="#nest (instance method)">#<strong>nest</strong>(indent)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Increases left margin after newline with <code>indent</code> for line
breaks added in the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#text-instance_method" title="#text (instance method)">#<strong>text</strong>(obj, width = obj.length)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This adds <code>obj</code> as a text of <code>width</code> columns in
width.</p>
</div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, &amp;genspace)  &#x21d2; <tt><a href="" title="PrettyPrint (class)">PrettyPrint</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a buffer for pretty printing.</p>

<p><code>output</code> is an output target. If it is not specified, &#39;&#39;
is assumed. It should have a &lt;&lt; method which accepts the first
argument <code>obj</code> of <a href="#text-instance_method" title="PrettyPrint#text (method)">#text</a>, the first argument
<code>sep</code> of <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a>, the first argument
<code>newline</code> of <a href="#new-class_method" title="PrettyPrint.new (method)">new</a>, and the result of a given block
for <a href="#new-class_method" title="PrettyPrint.new (method)">new</a>.</p>

<p><code>maxwidth</code> specifies maximum line length. If it is not
specified, 79 is assumed. However actual outputs may overflow
<code>maxwidth</code> if long non-breakable texts are provided.</p>

<p><code>newline</code> is used for line breaks. “n” is used if it is not
specified.</p>

<p>The block is used to generate spaces. {|width| &#39; &#39; * width} is used
if it is not given.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


82
83
84
85
86
87
88
89
90
91
92
93
94
95
96</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='op'>=</span><span class='int'>79</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'>genspace</span><span class='rparen'>)</span>
    <span class='ivar'>@output</span> <span class='op'>=</span> <span class='id identifier rubyid_output'>output</span>
    <span class='ivar'>@maxwidth</span> <span class='op'>=</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span>
    <span class='ivar'>@newline</span> <span class='op'>=</span> <span class='id identifier rubyid_newline'>newline</span>
    <span class='ivar'>@genspace</span> <span class='op'>=</span> <span class='id identifier rubyid_genspace'>genspace</span> <span class='op'>||</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span><span class='rbrace'>}</span>

    <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_root_group'>root_group</span> <span class='op'>=</span> <span class='const'>Group</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
    <span class='ivar'>@group_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_root_group'>root_group</span><span class='rbracket'>]</span>
    <span class='ivar'>@group_queue</span> <span class='op'>=</span> <span class='const'>GroupQueue</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_root_group'>root_group</span><span class='rparen'>)</span>
    <span class='ivar'>@indent</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="genspace-instance_method">
  <h3 class='signature first'>
  #<strong>genspace</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A lambda or Proc, that takes one argument, of a Fixnum, and returns the
corresponding number of spaces.</p>

<p>By default this is:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span><span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


118</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 118</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:genspace</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="group_queue-instance_method">
  <h3 class='signature'>
  #<strong>group_queue</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The <a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)">GroupQueue</a> of groups in stack to be pretty printed</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


124</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 124</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:group_queue</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="indent-instance_method">
  <h3 class='signature'>
  #<strong>indent</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The number of spaces to be indented</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


121</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 121</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:indent</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="maxwidth-instance_method">
  <h3 class='signature'>
  #<strong>maxwidth</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The maximum width of a line, before it is separated in to a newline</p>

<p>This defaults to 79, and should be a Fixnum</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


106</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 106</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:maxwidth</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="newline-instance_method">
  <h3 class='signature'>
  #<strong>newline</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The value that is appended to <code>output</code> to add a new line.</p>

<p>This defaults to “n”, and should be String</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


111</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 111</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:newline</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="output-instance_method">
  <h3 class='signature'>
  #<strong>output</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The output object.</p>

<p>This defaults to &#39;&#39;, and should accept the &lt;&lt; method</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


101</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 101</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:output</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="format-class_method">
  <h3 class='signature first'>
  .<strong>format</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda {|n| &#39; &#39; * n}) {|q| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This is a convenience method which is same as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>begin</span>
  <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'>genspace</span><span class='rparen'>)</span>
  <span class='comment'>#...
</span>  <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_flush'>flush</span>
  <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>q</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


45
46
47
48
49
50</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 45</span>

<span class='kw'>def</span> <span class='const'>PrettyPrint</span><span class='period'>.</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='op'>=</span><span class='int'>79</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_genspace'>genspace</span><span class='op'>=</span><span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'>genspace</span><span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_q'>q</span>
    <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_flush'>flush</span>
    <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="singleline_format-class_method">
  <h3 class='signature'>
  .<strong>singleline_format</strong>(output = &#39;&#39;.dup, maxwidth = nil, newline = nil, genspace = nil) {|q| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This is similar to <a href="#format-class_method" title="PrettyPrint.format (method)">format</a> but the result has no breaks.</p>

<p><code>maxwidth</code>, <code>newline</code> and <code>genspace</code> are
ignored.</p>

<p>The invocation of <code>breakable</code> in the block doesn&#39;t break a
line and is treated as just an invocation of <code>text</code>.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>q</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


59
60
61
62
63</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 59</span>

<span class='kw'>def</span> <span class='const'>PrettyPrint</span><span class='period'>.</span><span class='id identifier rubyid_singleline_format'>singleline_format</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_genspace'>genspace</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>SingleLine</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_q'>q</span>
    <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="break_outmost_groups-instance_method">
  <h3 class='signature first'>
  #<strong>break_outmost_groups</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Breaks the buffer into lines that are shorter than <a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


160
161
162
163
164
165
166
167
168
169
170
171
172
173
174</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_break_outmost_groups'>break_outmost_groups</span>
    <span class='kw'>while</span> <span class='ivar'>@maxwidth</span> <span class='op'>&lt;</span> <span class='ivar'>@output_width</span> <span class='op'>+</span> <span class='ivar'>@buffer_width</span>
      <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='ivar'>@group_queue</span><span class='period'>.</span><span class='id identifier rubyid_deq'>deq</span>
      <span class='kw'>until</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_breakables'>breakables</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
        <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span><span class='lparen'>(</span><span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span><span class='rparen'>)</span>
        <span class='ivar'>@buffer_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span>
      <span class='kw'>end</span>
      <span class='kw'>while</span> <span class='op'>!</span><span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='const'>Text</span> <span class='op'>===</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
        <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span><span class='lparen'>(</span><span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span><span class='rparen'>)</span>
        <span class='ivar'>@buffer_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="breakable-instance_method">
  <h3 class='signature'>
  #<strong>breakable</strong>(sep = &#39; &#39;, width = sep.length)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This says “you can break a line here if necessary”, and a
<code>width</code>-column text <code>sep</code> is inserted if a line is
not broken at the point.</p>

<p>If <code>sep</code> is not specified, “ ” is used.</p>

<p>If <code>width</code> is not specified, <code>sep.length</code> is used.
You will have to specify this when <code>sep</code> is a multibyte
character, for example.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


224
225
226
227
228
229
230
231
232
233
234
235
236
237</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 224</span>

<span class='kw'>def</span> <span class='id identifier rubyid_breakable'>breakable</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_sep'>sep</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='ivar'>@group_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_break?'>break?</span>
      <span class='id identifier rubyid_flush'>flush</span>
      <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@newline</span>
      <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@genspace</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='ivar'>@indent</span><span class='rparen'>)</span>
      <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='ivar'>@indent</span>
      <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>else</span>
      <span class='ivar'>@buffer</span> <span class='op'>&lt;&lt;</span> <span class='const'>Breakable</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
      <span class='ivar'>@buffer_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_break_outmost_groups'>break_outmost_groups</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="current_group-instance_method">
  <h3 class='signature'>
  #<strong>current_group</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the group most recently added to the stack.</p>

<p>Contrived example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#=&gt; &quot;&quot;
</span><span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_out'>out</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;PrettyPrint:0x82f85c0 @output=&quot;&quot;, @maxwidth=79, @newline=&quot;\n&quot;, @genspace=#&lt;Proc:0x82f8368@/home/vbatts/.rvm/rubies/ruby-head/lib/ruby/2.0.0/prettyprint.rb:82 (lambda)&gt;, @output_width=0, @buffer_width=0, @buffer=[], @group_stack=[#&lt;PrettyPrint::Group:0x82f8138 @depth=0, @breakables=[], @break=false&gt;], @group_queue=#&lt;PrettyPrint::GroupQueue:0x82fb7c0 @queue=[[#&lt;PrettyPrint::Group:0x82f8138 @depth=0, @breakables=[], @break=false&gt;]]&gt;, @indent=0&gt;
</span><span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span> <span class='lbrace'>{</span>
  <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_newline'>newline</span>
  <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
    <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_newline'>newline</span>
    <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
      <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_newline'>newline</span>
      <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
        <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_current_group'>current_group</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
        <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_newline'>newline</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
<span class='comment'>#=&gt; 284
</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_out'>out</span>
<span class='comment'>#&lt;PrettyPrint::Group:0x8354758 @depth=1, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x8354550 @depth=2, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x83541cc @depth=3, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x8347e54 @depth=4, @breakables=[], @break=false&gt;</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


155
156
157</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_group'>current_group</span>
    <span class='ivar'>@group_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="fill_breakable-instance_method">
  <h3 class='signature'>
  #<strong>fill_breakable</strong>(sep = &#39; &#39;, width = sep.length)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This is similar to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> except the decision to break or not is
determined individually.</p>

<p>Two <a href="#fill_breakable-instance_method" title="PrettyPrint#fill_breakable (method)">#fill_breakable</a> under a group may cause 4 results: (break,break),
(break,non-break), (non-break,break), (non-break,non-break). This is
different to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> because two <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> under a group may cause
2 results: (break,break), (non-break,non-break).</p>

<p>The text <code>sep</code> is inserted if a line is not broken at this
point.</p>

<p>If <code>sep</code> is not specified, “ ” is used.</p>

<p>If <code>width</code> is not specified, <code>sep.length</code> is used.
You will have to specify this when <code>sep</code> is a multibyte
character, for example.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


212
213
214</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fill_breakable'>fill_breakable</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_sep'>sep</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_group'>group</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_breakable'>breakable</span> <span class='id identifier rubyid_sep'>sep</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="flush-instance_method">
  <h3 class='signature'>
  #<strong>flush</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>outputs buffered data.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


288
289
290
291
292
293
294</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_flush'>flush</span>
    <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
      <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span><span class='lparen'>(</span><span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
    <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="group-instance_method">
  <h3 class='signature'>
  #<strong>group</strong>(indent = 0, open_obj = &#39;&#39;, close_obj = &#39;&#39;, open_width = open_obj.length, close_width = close_obj.length)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Groups line break hints added in the block. The line break hints are all to
be used or not.</p>

<p>If <code>indent</code> is specified, the method call is regarded as nested
by nest(indent) { … }.</p>

<p>If <code>open_obj</code> is specified, <code>text open_obj,
open_width</code> is called before grouping. If <code>close_obj</code> is
specified, <code>text close_obj, close_width</code> is called after
grouping.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


249
250
251
252
253
254
255
256
257</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_indent'>indent</span><span class='op'>=</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_open_obj'>open_obj</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_close_obj'>close_obj</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_open_width'>open_width</span><span class='op'>=</span><span class='id identifier rubyid_open_obj'>open_obj</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_close_width'>close_width</span><span class='op'>=</span><span class='id identifier rubyid_close_obj'>close_obj</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_open_obj'>open_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_open_width'>open_width</span>
    <span class='id identifier rubyid_group_sub'>group_sub</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='id identifier rubyid_indent'>indent</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
        <span class='kw'>yield</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
    <span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_close_obj'>close_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_close_width'>close_width</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="group_sub-instance_method">
  <h3 class='signature'>
  #<strong>group_sub</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Takes a block and queues a new group that is indented 1 level further.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_group_sub'>group_sub</span>
    <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='const'>Group</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@group_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='ivar'>@group_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_group'>group</span>
    <span class='ivar'>@group_queue</span><span class='period'>.</span><span class='id identifier rubyid_enq'>enq</span> <span class='id identifier rubyid_group'>group</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@group_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_breakables'>breakables</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='ivar'>@group_queue</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_group'>group</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="nest-instance_method">
  <h3 class='signature'>
  #<strong>nest</strong>(indent)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Increases left margin after newline with <code>indent</code> for line
breaks added in the block.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


277
278
279
280
281
282
283
284</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 277</span>

<span class='kw'>def</span> <span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='id identifier rubyid_indent'>indent</span><span class='rparen'>)</span>
    <span class='ivar'>@indent</span> <span class='op'>+=</span> <span class='id identifier rubyid_indent'>indent</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@indent</span> <span class='op'>-=</span> <span class='id identifier rubyid_indent'>indent</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="text-instance_method">
  <h3 class='signature'>
  #<strong>text</strong>(obj, width = obj.length)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This adds <code>obj</code> as a text of <code>width</code> columns in
width.</p>

<p>If <code>width</code> is not specified, obj.length is used.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'prettyprint.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_obj'>obj</span>
      <span class='ivar'>@output_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
      <span class='kw'>unless</span> <span class='const'>Text</span> <span class='op'>===</span> <span class='id identifier rubyid_text'>text</span>
        <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='const'>Text</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
        <span class='ivar'>@buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_text'>text</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='rparen'>)</span>
      <span class='ivar'>@buffer_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_break_outmost_groups'>break_outmost_groups</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>