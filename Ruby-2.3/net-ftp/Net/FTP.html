<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Net::FTP &mdash; net/ftp Ruby-2.3.2 p144</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Net::FTP",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.3.2</a> &raquo; 
          <a href='../index.html'>net/ftp</a> &raquo; 
          <a href='../_index.html'>Index (F)</a> &raquo; 
          <a href="../Net.html" title="Net (module)">Net</a> &raquo; 
          <span class='title'>FTP</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Net::FTP</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>Net::FTP</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="FTP/BufferedSocket.html" title="Net::FTP::BufferedSocket (class)">BufferedSocket</a>,
    <a href="FTP/MLSxEntry.html" title="Net::FTP::MLSxEntry (class)">MLSxEntry</a>,
    <a href="FTP/NullSocket.html" title="Net::FTP::NullSocket (class)">NullSocket</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        MonitorMixin
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L76'>lib/net/ftp.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class implements the File Transfer Protocol.  If you have used a
command-line FTP program, and are familiar with the commands, you will be
able to use this class easily.  Some extra features are included to take
advantage of Ruby&#39;s style and strengths.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/ftp</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h4 id="label-Example+1">Example 1</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ftp'>ftp</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>FTP</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::FTP.new (method)">new</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>example.com</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span>
<span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pub/lang/ruby/contrib</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>n*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_getbinaryfile'>getbinaryfile</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nif.rb-0.91.gz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nif.gz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1024</span><span class='rparen'>)</span>
<span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
</code></pre>

<h4 id="label-Example+2">Example 2</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>FTP</span><span class='period'>.</span><span class='id identifier rubyid_open'><a href="#open-class_method" title="Net::FTP.open (method)">open</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>example.com</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ftp'>ftp</span><span class='op'>|</span>
  <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pub/lang/ruby/contrib</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>n*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_getbinaryfile'>getbinaryfile</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nif.rb-0.91.gz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nif.gz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1024</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<h3 id="label-Major+Methods">Major Methods</h3>

<p>The following are the methods most likely to be useful to users:</p>
<ul><li>
<p><a href="#open-class_method" title="Net::FTP.open (method)">FTP.open</a></p>
</li><li>
<p><a href="#getbinaryfile-instance_method" title="Net::FTP#getbinaryfile (method)">#getbinaryfile</a></p>
</li><li>
<p><a href="#gettextfile-instance_method" title="Net::FTP#gettextfile (method)">#gettextfile</a></p>
</li><li>
<p><a href="#putbinaryfile-instance_method" title="Net::FTP#putbinaryfile (method)">#putbinaryfile</a></p>
</li><li>
<p><a href="#puttextfile-instance_method" title="Net::FTP#puttextfile (method)">#puttextfile</a></p>
</li><li>
<p><a href="#chdir-instance_method" title="Net::FTP#chdir (method)">#chdir</a></p>
</li><li>
<p><a href="#nlst-instance_method" title="Net::FTP#nlst (method)">#nlst</a></p>
</li><li>
<p><a href="#size-instance_method" title="Net::FTP#size (method)">#size</a></p>
</li><li>
<p><a href="#rename-instance_method" title="Net::FTP#rename (method)">#rename</a></p>
</li><li>
<p><a href="#delete-instance_method" title="Net::FTP#delete (method)">#delete</a></p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='default_passive-classvariable'>
      @@default_passive =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>true</span></pre>
    </dd>
    <dt id='CASE_DEPENDENT_PARSER-constant'>
      CASE_DEPENDENT_PARSER =
    </dt>
    <dd>
            <pre class='code'><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span></pre>
    </dd>
    <dt id='CASE_INDEPENDENT_PARSER-constant'>
      CASE_INDEPENDENT_PARSER =
    </dt>
    <dd>
            <pre class='code'><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='rbrace'>}</span></pre>
    </dd>
    <dt id='CRLF-constant'>
      CRLF =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='DECIMAL_PARSER-constant'>
      DECIMAL_PARSER =
    </dt>
    <dd>
            <pre class='code'><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='rbrace'>}</span></pre>
    </dd>
    <dt id='DEFAULT_BLOCKSIZE-constant'>
      DEFAULT_BLOCKSIZE =
    </dt>
    <dd>
            <pre class='code'><span class='const'>BufferedIO</span><span class='op'>::</span><span class='const'>BUFSIZE</span></pre>
    </dd>
    <dt id='FACT_PARSERS-constant'>
      FACT_PARSERS =
    </dt>
    <dd>
            <pre class='code'><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><a href="#CASE_DEPENDENT_PARSER-constant" title="Net::FTP::CASE_DEPENDENT_PARSER (constant)">CASE_DEPENDENT_PARSER</a></span><span class='rparen'>)</span></pre>
    </dd>
    <dt id='FTP_PORT-constant'>
      FTP_PORT =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='int'>21</span></pre>
    </dd>
    <dt id='OCTAL_PARSER-constant'>
      OCTAL_PARSER =
    </dt>
    <dd>
            <pre class='code'><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>8</span><span class='rparen'>)</span> <span class='rbrace'>}</span></pre>
    </dd>
    <dt id='TIME_PARSER-constant'>
      TIME_PARSER =
    </dt>
    <dd>
            <pre class='code'><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
  <span class='kw'>unless</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?&lt;year&gt;\d{4})(?&lt;month&gt;\d{2})(?&lt;day&gt;\d{2})
        (?&lt;hour&gt;\d{2})(?&lt;min&gt;\d{2})(?&lt;sec&gt;\d{2})
        (\.(?&lt;fractions&gt;\d+))?</span><span class='regexp_end'>/x</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_value'>value</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid time-val: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='id identifier rubyid_fractions'>fractions</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>*</span> <span class='int'>10</span> <span class='op'>**</span> <span class='lparen'>(</span><span class='int'>6</span> <span class='op'>-</span> <span class='id identifier rubyid_fractions'>fractions</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
  <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span> <span class='op'>?</span> <span class='symbol'>:local</span> <span class='op'>:</span> <span class='symbol'>:utc</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_month'>month</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
<span class='rbrace'>}</span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#binary-instance_method" title="#binary (instance method)">#<strong>binary</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When <code>true</code>, transfers are performed in binary mode.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#binary%3D-instance_method" title="#binary= (instance method)">#<strong>binary=</strong>(newmode)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A setter to toggle transfers in binary mode.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#debug_mode-instance_method" title="#debug_mode (instance method)">#<strong>debug_mode</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When <code>true</code>, all traffic to and from the server is written to
<code>$stdout</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last_response-instance_method" title="#last_response (instance method)">#<strong>last_response</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The server&#39;s last response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last_response_code-instance_method" title="#last_response_code (instance method)">#<strong>last_response_code</strong>  </a>
        (also: #lastresp)
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The server&#39;s last response code.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#lastresp-instance_method" title="#lastresp (instance method)">#<strong>lastresp</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#last_response_code-instance_method" title="Net::FTP#last_response_code (method)">#last_response_code</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#open_timeout-instance_method" title="#open_timeout (instance method)">#<strong>open_timeout</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Number of seconds to wait for the connection to open.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#passive-instance_method" title="#passive (instance method)">#<strong>passive</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When <code>true</code>, the connection is in passive mode.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_timeout-instance_method" title="#read_timeout (instance method)">#<strong>read_timeout</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Number of seconds to wait for one block to be read (via one read(2) call).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_timeout%3D-instance_method" title="#read_timeout= (instance method)">#<strong>read_timeout=</strong>(sec)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Setter for the read_timeout attribute.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#resume-instance_method" title="#resume (instance method)">#<strong>resume</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets or retrieves the <code>resume</code> status, which decides whether
incomplete transfers are resumed or restarted.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#welcome-instance_method" title="#welcome (instance method)">#<strong>welcome</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The server&#39;s welcome message.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#default_passive-class_method" title=".default_passive (class method)">.<strong>default_passive</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When <code>true</code>, connections are in passive mode per default.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_passive%3D-class_method" title=".default_passive= (class method)">.<strong>default_passive=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When <code>true</code>, connections are in passive mode per default.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(host = nil, user = nil, passwd = nil, acct = nil)  &#x21d2; FTP </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates and returns a new <code>FTP</code> object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#open-class_method" title=".open (class method)">.<strong>open</strong>(host, user = nil, passwd = nil, acct = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A synonym for <code>FTP.new</code>, but with a mandatory host parameter.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#abort-instance_method" title="#abort (instance method)">#<strong>abort</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Aborts the previous command (ABOR command).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#acct-instance_method" title="#acct (instance method)">#<strong>acct</strong>(account)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sends the ACCT command.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#chdir-instance_method" title="#chdir (instance method)">#<strong>chdir</strong>(dirname)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Changes the (remote) directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Closes the connection.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#closed%3F-instance_method" title="#closed? (instance method)">#<strong>closed?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> iff the connection is closed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connect-instance_method" title="#connect (instance method)">#<strong>connect</strong>(host, port = FTP_PORT)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Establishes an FTP connection to host, optionally overriding the default
port.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes a file on the server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dir-instance_method" title="#dir (instance method)">#<strong>dir</strong>(*args, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#list-instance_method" title="Net::FTP#list (method)">#list</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#get-instance_method" title="#get (instance method)">#<strong>get</strong>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieves <code>remotefile</code> in whatever mode the session is set (text
or binary).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getbinaryfile-instance_method" title="#getbinaryfile (instance method)">#<strong>getbinaryfile</strong>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieves <code>remotefile</code> in binary mode, storing the result in
<code>localfile</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getdir-instance_method" title="#getdir (instance method)">#<strong>getdir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#pwd-instance_method" title="Net::FTP#pwd (method)">#pwd</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getline-instance_method" title="#getline (instance method)">#<strong>getline</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Reads a line from the sock.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getmultiline-instance_method" title="#getmultiline (instance method)">#<strong>getmultiline</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Receive a section of lines until the response code&#39;s match.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getresp-instance_method" title="#getresp (instance method)">#<strong>getresp</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Receives a response from the destination host.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gettextfile-instance_method" title="#gettextfile (instance method)">#<strong>gettextfile</strong>(remotefile, localfile = File.basename(remotefile), &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieves <code>remotefile</code> in ASCII (text) mode, storing the result
in <code>localfile</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#help-instance_method" title="#help (instance method)">#<strong>help</strong>(arg = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Issues the HELP command.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#list-instance_method" title="#list (instance method)">#<strong>list</strong>(*args, &amp;block)  </a>
        (also: #dir, #ls)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of file information in the directory (the output is like
`ls -l`).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#login-instance_method" title="#login (instance method)">#<strong>login</strong>(user = &quot;anonymous&quot;, passwd = nil, acct = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Logs in to the remote host.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ls-instance_method" title="#ls (instance method)">#<strong>ls</strong>(*args, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#list-instance_method" title="Net::FTP#list (method)">#list</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#makepasv-instance_method" title="#makepasv (instance method)">#<strong>makepasv</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>sends the appropriate command to enable a passive connection</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#makeport-instance_method" title="#makeport (instance method)">#<strong>makeport</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs a TCPServer socket</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mdtm-instance_method" title="#mdtm (instance method)">#<strong>mdtm</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the raw last modification time of the (remote) file in the format
“YYYYMMDDhhmmss” (MDTM command).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mkdir-instance_method" title="#mkdir (instance method)">#<strong>mkdir</strong>(dirname)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a remote directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mlsd-instance_method" title="#mlsd (instance method)">#<strong>mlsd</strong>(pathname = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of the entries of the directory specified by
<code>pathname</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mlst-instance_method" title="#mlst (instance method)">#<strong>mlst</strong>(pathname = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns data (e.g., size, last modification time, entry type, etc.) about
the file or directory specified by <code>pathname</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mtime-instance_method" title="#mtime (instance method)">#<strong>mtime</strong>(filename, local = false)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the last modification time of the (remote) file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#nlst-instance_method" title="#nlst (instance method)">#<strong>nlst</strong>(dir = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of filenames in the remote directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#noop-instance_method" title="#noop (instance method)">#<strong>noop</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Issues a NOOP command.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#open_socket-instance_method" title="#open_socket (instance method)">#<strong>open_socket</strong>(host, port)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs a socket with <code>host</code> and <code>port</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse227-instance_method" title="#parse227 (instance method)">#<strong>parse227</strong>(resp)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>handler for response code 227 (Entering Passive Mode (h1,h2,h3,h4,p1,p2))</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse228-instance_method" title="#parse228 (instance method)">#<strong>parse228</strong>(resp)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>handler for response code 228 (Entering Long Passive Mode)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse229-instance_method" title="#parse229 (instance method)">#<strong>parse229</strong>(resp)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>handler for response code 229 (Extended Passive Mode Entered)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse257-instance_method" title="#parse257 (instance method)">#<strong>parse257</strong>(resp)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>handler for response code 257 (“PATHNAME” created)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_mlsx_entry-instance_method" title="#parse_mlsx_entry (instance method)">#<strong>parse_mlsx_entry</strong>(entry)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_pasv_ipv4_host-instance_method" title="#parse_pasv_ipv4_host (instance method)">#<strong>parse_pasv_ipv4_host</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_pasv_ipv6_host-instance_method" title="#parse_pasv_ipv6_host (instance method)">#<strong>parse_pasv_ipv6_host</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_pasv_port-instance_method" title="#parse_pasv_port (instance method)">#<strong>parse_pasv_port</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#put-instance_method" title="#put (instance method)">#<strong>put</strong>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Transfers <code>localfile</code> to the server in whatever mode the session
is set (text or binary).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#putbinaryfile-instance_method" title="#putbinaryfile (instance method)">#<strong>putbinaryfile</strong>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Transfers <code>localfile</code> to the server in binary mode, storing the
result in <code>remotefile</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#putline-instance_method" title="#putline (instance method)">#<strong>putline</strong>(line)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Ensures that <code>line</code> has a control return / line feed (CRLF) and
writes it to the socket.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#puttextfile-instance_method" title="#puttextfile (instance method)">#<strong>puttextfile</strong>(localfile, remotefile = File.basename(localfile), &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Transfers <code>localfile</code> to the server in ASCII (text) mode,
storing the result in <code>remotefile</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pwd-instance_method" title="#pwd (instance method)">#<strong>pwd</strong>  </a>
        (also: #getdir)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the current remote directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#quit-instance_method" title="#quit (instance method)">#<strong>quit</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Exits the FTP session.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rename-instance_method" title="#rename (instance method)">#<strong>rename</strong>(fromname, toname)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Renames a file on the server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#retrbinary-instance_method" title="#retrbinary (instance method)">#<strong>retrbinary</strong>(cmd, blocksize, rest_offset = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Puts the connection into binary (image) mode, issues the given command, and
fetches the data returned, passing it to the associated block in chunks of
<code>blocksize</code> characters.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#retrlines-instance_method" title="#retrlines (instance method)">#<strong>retrlines</strong>(cmd)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Puts the connection into ASCII (text) mode, issues the given command, and
passes the resulting data, one line at a time, to the associated block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#return_code-instance_method" title="#return_code (instance method)">#<strong>return_code</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Obsolete</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#return_code%3D-instance_method" title="#return_code= (instance method)">#<strong>return_code=</strong>(s)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Obsolete</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rmdir-instance_method" title="#rmdir (instance method)">#<strong>rmdir</strong>(dirname)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes a remote directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sanitize-instance_method" title="#sanitize (instance method)">#<strong>sanitize</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>If string <code>s</code> includes the PASS command (password), then the
contents of the password are cleaned from the string using “*”</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#send_type_command-instance_method" title="#send_type_command (instance method)">#<strong>send_type_command</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sends a command to destination host, with the current binary sendmode type.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sendcmd-instance_method" title="#sendcmd (instance method)">#<strong>sendcmd</strong>(cmd)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sends a command and returns the response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sendport-instance_method" title="#sendport (instance method)">#<strong>sendport</strong>(host, port)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs and send the appropriate PORT (or EPRT) command</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_socket-instance_method" title="#set_socket (instance method)">#<strong>set_socket</strong>(sock, get_greeting = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set the socket used to connect to the FTP server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#site-instance_method" title="#site (instance method)">#<strong>site</strong>(arg)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Issues a SITE command.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the size of the given (remote) filename.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#status-instance_method" title="#status (instance method)">#<strong>status</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the status (STAT command).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#storbinary-instance_method" title="#storbinary (instance method)">#<strong>storbinary</strong>(cmd, file, blocksize, rest_offset = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Puts the connection into binary (image) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#storlines-instance_method" title="#storlines (instance method)">#<strong>storlines</strong>(cmd, file)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Puts the connection into ASCII (text) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server, one line at a time.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#system-instance_method" title="#system (instance method)">#<strong>system</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns system information.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transfercmd-instance_method" title="#transfercmd (instance method)">#<strong>transfercmd</strong>(cmd, rest_offset = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs a connection for transferring data</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#voidcmd-instance_method" title="#voidcmd (instance method)">#<strong>voidcmd</strong>(cmd)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sends a command and expect a response beginning with &#39;2&#39;.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#voidresp-instance_method" title="#voidresp (instance method)">#<strong>voidresp</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Receives a response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with_binary-instance_method" title="#with_binary (instance method)">#<strong>with_binary</strong>(newmode)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Toggles transfers in binary mode and yields to a block.</p>
</div>
      </span>
    </li>
  </ul>



  <h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(host = nil, user = nil, passwd = nil, acct = nil)  &#x21d2; <tt><a href="" title="Net::FTP (class)">FTP</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates and returns a new <code>FTP</code> object. If a <code>host</code>
is given, a connection is made. Additionally, if the <code>user</code> is
given, the given user name, password, and (optionally) account are used to
log in.  See <a href="#login-instance_method" title="Net::FTP#login (method)">#login</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L164'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 164</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@binary</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@passive</span> <span class='op'>=</span> <span class='cvar'>@@default_passive</span>
  <span class='ivar'>@debug_mode</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@resume</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='const'><a href="FTP/NullSocket.html" title="Net::FTP::NullSocket (class)">NullSocket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@logged_in</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@open_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='int'>60</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_host'>host</span>
    <span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span>
      <span class='id identifier rubyid_login'>login</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="binary-instance_method">
  <h3 class='signature first'>
  #<strong>binary</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When <code>true</code>, transfers are performed in binary mode.  Default:
<code>true</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L87'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


87</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 87</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:binary</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="binary=-instance_method">
  <h3 class='signature'>
  #<strong>binary=</strong>(newmode)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A setter to toggle transfers in binary mode. <code>newmode</code> is either
<code>true</code> or <code>false</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L184'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


184
185
186
187
188
189</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 184</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_binary='>binary=</span><span class='lparen'>(</span><span class='id identifier rubyid_newmode'>newmode</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_newmode'>newmode</span> <span class='op'>!=</span> <span class='ivar'>@binary</span>
    <span class='ivar'>@binary</span> <span class='op'>=</span> <span class='id identifier rubyid_newmode'>newmode</span>
    <span class='id identifier rubyid_send_type_command'>send_type_command</span> <span class='kw'>if</span> <span class='ivar'>@logged_in</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="debug_mode-instance_method">
  <h3 class='signature'>
  #<strong>debug_mode</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When <code>true</code>, all traffic to and from the server is written to
<code>$stdout</code>.  Default: <code>false</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L94'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


94</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 94</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:debug_mode</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="last_response-instance_method">
  <h3 class='signature'>
  #<strong>last_response</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The server&#39;s last response.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L126'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


126</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:last_response</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="last_response_code-instance_method">
  <h3 class='signature'>
  #<strong>last_response_code</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
  <span class='aliases'>Also known as: <span class='names'><span>lastresp</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The server&#39;s last response code.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L122'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


122</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:last_response_code</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="lastresp-instance_method">
  <h3 class='signature'>
  #<strong>lastresp</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#last_response_code-instance_method" title="Net::FTP#last_response_code (method)">#last_response_code</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="open_timeout-instance_method">
  <h3 class='signature'>
  #<strong>open_timeout</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Number of seconds to wait for the connection to open. Any number may be
used, including Floats for fractional seconds. If the FTP object cannot
open a connection in this many seconds, it raises a OpenTimeout
exception. The default value is <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L104'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


104</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:open_timeout</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="passive-instance_method">
  <h3 class='signature'>
  #<strong>passive</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When <code>true</code>, the connection is in passive mode.  Default:
<code>true</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L90'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


90</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 90</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:passive</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_timeout-instance_method">
  <h3 class='signature'>
  #<strong>read_timeout</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Number of seconds to wait for one block to be read (via one read(2) call).
Any number may be used, including Floats for fractional seconds. If the FTP
object cannot read data in this many seconds, it raises a <code>Timeout::Error</code>
exception. The default value is 60 seconds.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L110'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


110</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:read_timeout</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_timeout=-instance_method">
  <h3 class='signature'>
  #<strong>read_timeout=</strong>(sec)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Setter for the read_timeout attribute.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L113'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


113
114
115
116</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_timeout='>read_timeout=</span><span class='lparen'>(</span><span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span>
  <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="resume-instance_method">
  <h3 class='signature'>
  #<strong>resume</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets or retrieves the <code>resume</code> status, which decides whether
incomplete transfers are resumed or restarted.  Default:
<code>false</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L98'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


98</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:resume</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="welcome-instance_method">
  <h3 class='signature'>
  #<strong>welcome</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The server&#39;s welcome message.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L119'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


119</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 119</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:welcome</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="default_passive-class_method">
  <h3 class='signature first'>
  .<strong>default_passive</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When <code>true</code>, connections are in passive mode per default.
Default: <code>true</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L136'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


136
137
138</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_passive'>default_passive</span>
  <span class='cvar'>@@default_passive</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_passive=-class_method">
  <h3 class='signature'>
  .<strong>default_passive=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When <code>true</code>, connections are in passive mode per default.
Default: <code>true</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L130'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


130
131
132</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_passive='>default_passive=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='cvar'>@@default_passive</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="open-class_method">
  <h3 class='signature'>
  .<strong>open</strong>(host, user = nil, passwd = nil, acct = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A synonym for <code>FTP.new</code>, but with a mandatory host parameter.</p>

<p>If a block is given, it is passed the <code>FTP</code> object, which will
be closed when the block finishes, or when an exception is raised.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L146'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


146
147
148
149
150
151
152
153
154
155
156
157</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'><a href="" title="Net::FTP (class)">FTP</a></span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_ftp'>ftp</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_ftp'>ftp</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_ftp'>ftp</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="abort-instance_method">
  <h3 class='signature first'>
  #<strong>abort</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Aborts the previous command (ABOR command).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1094'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1094
1095
1096
1097
1098
1099
1100
1101
1102
1103</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1094</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_abort'>abort</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ABOR</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='const'><a href="#CRLF-constant" title="Net::FTP::CRLF (constant)">CRLF</a></span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>put: ABOR\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug_mode</span>
  <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='const'>Socket</span><span class='op'>::</span><span class='const'>MSG_OOB</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_getmultiline'>getmultiline</span>
  <span class='kw'>unless</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>426</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>226</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>225</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_resp'>resp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="acct-instance_method">
  <h3 class='signature'>
  #<strong>acct</strong>(account)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sends the ACCT command.</p>

<p>This is a less common FTP command, to send account information if the
destination host requires it.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L747'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


747
748
749
750</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 747</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_acct'>acct</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ACCT </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_account'>account</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="chdir-instance_method">
  <h3 class='signature'>
  #<strong>chdir</strong>(dirname)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Changes the (remote) directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1015'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1015</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='id identifier rubyid_dirname'>dirname</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dirname'>dirname</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>..</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CDUP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span>
    <span class='kw'>rescue</span> <span class='const'><a href="FTPPermError.html" title="Net::FTPPermError (class)">FTPPermError</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>500</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CWD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dirname'>dirname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="close-instance_method">
  <h3 class='signature'>
  #<strong>close</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Closes the connection.  Further operations are impossible until you open a
new connection with <a href="#connect-instance_method" title="Net::FTP#connect (method)">#connect</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1167'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1167</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_close'>close</span>
  <span class='kw'>if</span> <span class='ivar'>@sock</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_closed?'>closed?</span>
    <span class='kw'>begin</span>
      <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_shutdown'>shutdown</span><span class='lparen'>(</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>SHUT_WR</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_orig'>orig</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span><span class='comma'>,</span> <span class='int'>3</span>
      <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_orig'>orig</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="closed?-instance_method">
  <h3 class='signature'>
  #<strong>closed?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> iff the connection is closed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1183'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1183
1184
1185</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1183</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_closed?'>closed?</span>
  <span class='ivar'>@sock</span> <span class='op'>==</span> <span class='kw'>nil</span> <span class='kw'>or</span> <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_closed?'>closed?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="connect-instance_method">
  <h3 class='signature'>
  #<strong>connect</strong>(host, port = FTP_PORT)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Establishes an FTP connection to host, optionally overriding the default
port. If the environment variable <code>SOCKS_SERVER</code> is set, sets up
the connection through a SOCKS proxy. Raises an exception (typically
<code>Errno::ECONNREFUSED</code>) if the connection cannot be established.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L258'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


258
259
260
261
262
263
264
265
266</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 258</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='const'><a href="#FTP_PORT-constant" title="Net::FTP::FTP_PORT (constant)">FTP_PORT</a></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@debug_mode</span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>connect: </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='id identifier rubyid_open_socket'>open_socket</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_voidresp'>voidresp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete-instance_method">
  <h3 class='signature'>
  #<strong>delete</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes a file on the server.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1001'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1001
1002
1003
1004
1005
1006
1007
1008
1009
1010</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1001</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELE </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>250</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>5</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPPermError.html" title="Net::FTPPermError (class)">FTPPermError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dir-instance_method">
  <h3 class='signature'>
  #<strong>dir</strong>(*args, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#list-instance_method" title="Net::FTP#list (method)">#list</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="get-instance_method">
  <h3 class='signature'>
  #<strong>get</strong>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieves <code>remotefile</code> in whatever mode the session is set (text
or binary).  See <a href="#gettextfile-instance_method" title="Net::FTP#gettextfile (method)">#gettextfile</a> and <a href="#getbinaryfile-instance_method" title="Net::FTP#getbinaryfile (method)">#getbinaryfile</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L676'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


676
677
678
679
680
681
682
683</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 676</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_localfile'>localfile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='id identifier rubyid_blocksize'>blocksize</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_BLOCKSIZE-constant" title="Net::FTP::DEFAULT_BLOCKSIZE (constant)">DEFAULT_BLOCKSIZE</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: data
</span>  <span class='kw'>if</span> <span class='ivar'>@binary</span>
    <span class='id identifier rubyid_getbinaryfile'>getbinaryfile</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_gettextfile'>gettextfile</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getbinaryfile-instance_method">
  <h3 class='signature'>
  #<strong>getbinaryfile</strong>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieves <code>remotefile</code> in binary mode, storing the result in
<code>localfile</code>. If <code>localfile</code> is nil, returns retrieved
data. If a block is supplied, it is passed the retrieved data in
<code>blocksize</code> chunks.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L615'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getbinaryfile'>getbinaryfile</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_localfile'>localfile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='rparen'>)</span><span class='comma'>,</span>
                  <span class='id identifier rubyid_blocksize'>blocksize</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_BLOCKSIZE-constant" title="Net::FTP::DEFAULT_BLOCKSIZE (constant)">DEFAULT_BLOCKSIZE</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: data
</span>  <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_localfile'>localfile</span>
    <span class='kw'>if</span> <span class='ivar'>@resume</span>
      <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_size?'>size?</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_f'>f</span><span class='op'>&amp;.</span><span class='id identifier rubyid_binmode'>binmode</span>
    <span class='id identifier rubyid_retrbinary'>retrbinary</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RETR </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='op'>&amp;.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_block'>block</span><span class='op'>&amp;.</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_result'>result</span><span class='op'>&amp;.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_f'>f</span><span class='op'>&amp;.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getdir-instance_method">
  <h3 class='signature'>
  #<strong>getdir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#pwd-instance_method" title="Net::FTP#pwd (method)">#pwd</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="getline-instance_method">
  <h3 class='signature'>
  #<strong>getline</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reads a line from the sock.  If EOF, then it will raise EOFError</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L304'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


304
305
306
307
308
309
310
311</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 304</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getline'>getline</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_readline'>readline</span> <span class='comment'># if get EOF, raise EOFError
</span>  <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\r\n|\n|\r)\z</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@debug_mode</span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get: </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sanitize'>sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_line'>line</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getmultiline-instance_method">
  <h3 class='signature'>
  #<strong>getmultiline</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Receive a section of lines until the response code&#39;s match.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L315'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


315
316
317
318
319
320
321
322
323
324
325
326</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 315</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getmultiline'>getmultiline</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_getline'>getline</span>
  <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([0-9a-zA-Z]{3})-</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_code'>code</span>
    <span class='id identifier rubyid_delimiter'>delimiter</span> <span class='op'>=</span> <span class='id identifier rubyid_code'>code</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_lines'>lines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_getline'>getline</span>
    <span class='kw'>end</span> <span class='kw'>until</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_delimiter'>delimiter</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getresp-instance_method">
  <h3 class='signature'>
  #<strong>getresp</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Receives a response from the destination host.</p>

<p>Returns the response code or raises FTPTempError, FTPPermError, or
FTPProtoError</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L333'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


333
334
335
336
337
338
339
340
341
342
343
344
345
346</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 333</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getresp'>getresp</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@last_response</span> <span class='op'>=</span> <span class='id identifier rubyid_getmultiline'>getmultiline</span>
  <span class='ivar'>@last_response_code</span> <span class='op'>=</span> <span class='ivar'>@last_response</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
  <span class='kw'>case</span> <span class='ivar'>@last_response_code</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[123]</span><span class='regexp_end'>/</span></span>
    <span class='kw'>return</span> <span class='ivar'>@last_response</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A4</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPTempError.html" title="Net::FTPTempError (class)">FTPTempError</a></span><span class='comma'>,</span> <span class='ivar'>@last_response</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A5</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPPermError.html" title="Net::FTPPermError (class)">FTPPermError</a></span><span class='comma'>,</span> <span class='ivar'>@last_response</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='ivar'>@last_response</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gettextfile-instance_method">
  <h3 class='signature'>
  #<strong>gettextfile</strong>(remotefile, localfile = File.basename(remotefile), &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieves <code>remotefile</code> in ASCII (text) mode, storing the result
in <code>localfile</code>. If <code>localfile</code> is nil, returns
retrieved data. If a block is supplied, it is passed the retrieved data one
line at a time.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L650'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 650</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gettextfile'>gettextfile</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_localfile'>localfile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='rparen'>)</span><span class='comma'>,</span>
                <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: line
</span>  <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_localfile'>localfile</span>
    <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>String</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_retrlines'>retrlines</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RETR </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='op'>|</span>
      <span class='id identifier rubyid_l'>l</span> <span class='op'>=</span> <span class='id identifier rubyid_newline'>newline</span> <span class='op'>?</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_line'>line</span>
      <span class='id identifier rubyid_f'>f</span><span class='op'>&amp;.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_block'>block</span><span class='op'>&amp;.</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_result'>result</span><span class='op'>&amp;.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_f'>f</span><span class='op'>&amp;.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="help-instance_method">
  <h3 class='signature'>
  #<strong>help</strong>(arg = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Issues the HELP command.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1131'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1131
1132
1133
1134
1135
1136
1137</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1131</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_help'>help</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELP</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arg'>arg</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="list-instance_method">
  <h3 class='signature'>
  #<strong>list</strong>(*args, &amp;block)  
  <span class='aliases'>Also known as: <span class='names'><span>dir</span>, <span>ls</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of file information in the directory (the output is like
`ls -l`).  If a block is given, it iterates through the listing.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L771'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


771
772
773
774
775
776
777
778
779
780
781
782
783
784</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 771</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_list'>list</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: line
</span>  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIST</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_retrlines'>retrlines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_lines'>lines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_lines'>lines</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="login-instance_method">
  <h3 class='signature'>
  #<strong>login</strong>(user = &quot;anonymous&quot;, passwd = nil, acct = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Logs in to the remote host.  The session must have been previously
connected.  If <code>user</code> is the string “anonymous” and the
<code>password</code> is <code>nil</code>, “anonymous@” is used as a
password.  If the <code>acct</code> parameter is not <code>nil</code>, an
FTP ACCT command is sent following the successful login.  Raises an
exception on error (typically <code>Net::FTPPermError</code>).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L466'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 466</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_login'>login</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anonymous</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_acct'>acct</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anonymous</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>and</span> <span class='id identifier rubyid_passwd'>passwd</span> <span class='op'>==</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_passwd'>passwd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anonymous@</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>USER </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span> <span class='kw'>if</span> <span class='id identifier rubyid_passwd'>passwd</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_passwd'>passwd</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span> <span class='kw'>if</span> <span class='id identifier rubyid_acct'>acct</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ACCT </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_acct'>acct</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='ivar'>@welcome</span> <span class='op'>=</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='id identifier rubyid_send_type_command'>send_type_command</span>
  <span class='ivar'>@logged_in</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ls-instance_method">
  <h3 class='signature'>
  #<strong>ls</strong>(*args, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#list-instance_method" title="Net::FTP#list (method)">#list</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="makepasv-instance_method">
  <h3 class='signature'>
  #<strong>makepasv</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>sends the appropriate command to enable a passive connection</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L402'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


402
403
404
405
406
407
408
409
410</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_makepasv'>makepasv</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_peeraddr'>peeraddr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AF_INET</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_parse227'>parse227</span><span class='lparen'>(</span><span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASV</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_parse229'>parse229</span><span class='lparen'>(</span><span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EPSV</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='comment'>#     host, port = parse228(sendcmd(&quot;LPSV&quot;))
</span>  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="makeport-instance_method">
  <h3 class='signature'>
  #<strong>makeport</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs a TCPServer socket</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L396'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


396
397
398</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 396</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_makeport'>makeport</span> <span class='comment'># :nodoc:
</span>  <span class='const'>TCPServer</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_addr'>addr</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mdtm-instance_method">
  <h3 class='signature'>
  #<strong>mdtm</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the raw last modification time of the (remote) file in the format
“YYYYMMDDhhmmss” (MDTM command).</p>

<p>Use <code>mtime</code> if you want a parsed Time instance.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1121'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1121
1122
1123
1124
1125
1126</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1121</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mdtm'>mdtm</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MDTM </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>213</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_get_body'>get_body</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mkdir-instance_method">
  <h3 class='signature'>
  #<strong>mkdir</strong>(dirname)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a remote directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1059'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1059
1060
1061
1062</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1059</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mkdir'>mkdir</span><span class='lparen'>(</span><span class='id identifier rubyid_dirname'>dirname</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MKD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dirname'>dirname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_parse257'>parse257</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mlsd-instance_method">
  <h3 class='signature'>
  #<strong>mlsd</strong>(pathname = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of the entries of the directory specified by
<code>pathname</code>. Each entry has the facts (e.g., size, last
modification time, etc.) and the pathname. If a block is given, it iterates
through the listing. If <code>pathname</code> is omitted, the current
directory is assumed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L975'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


975
976
977
978
979
980
981
982
983
984
985</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 975</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mlsd'>mlsd</span><span class='lparen'>(</span><span class='id identifier rubyid_pathname'>pathname</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: entry
</span>  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_pathname'>pathname</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MLSD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pathname'>pathname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MLSD</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_entries'>entries</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_retrlines'>retrlines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_entries'>entries</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_parse_mlsx_entry'>parse_mlsx_entry</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_entries'>entries</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_entries'>entries</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mlst-instance_method">
  <h3 class='signature'>
  #<strong>mlst</strong>(pathname = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns data (e.g., size, last modification time, entry type, etc.) about
the file or directory specified by <code>pathname</code>. If
<code>pathname</code> is omitted, the current directory is assumed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L953'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


953
954
955
956
957
958
959
960
961
962
963
964
965</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 953</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mlst'>mlst</span><span class='lparen'>(</span><span class='id identifier rubyid_pathname'>pathname</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_pathname'>pathname</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MLST </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pathname'>pathname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MLST</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>250</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_line'>line</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_entry'>entry</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(250-| *)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_parse_mlsx_entry'>parse_mlsx_entry</span><span class='lparen'>(</span><span class='id identifier rubyid_entry'>entry</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mtime-instance_method">
  <h3 class='signature'>
  #<strong>mtime</strong>(filename, local = false)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the last modification time of the (remote) file.  If
<code>local</code> is <code>true</code>, it is returned as a local time,
otherwise it&#39;s a UTC time.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1052'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1052
1053
1054</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1052</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mtime'>mtime</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'><a href="#TIME_PARSER-constant" title="Net::FTP::TIME_PARSER (constant)">TIME_PARSER</a></span><span class='period'>.</span><span class='lparen'>(</span><span class='id identifier rubyid_mdtm'>mdtm</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="nlst-instance_method">
  <h3 class='signature'>
  #<strong>nlst</strong>(dir = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of filenames in the remote directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L755'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


755
756
757
758
759
760
761
762
763
764
765</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 755</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_nlst'>nlst</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NLST</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dir'>dir</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_retrlines'>retrlines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_files'>files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="noop-instance_method">
  <h3 class='signature'>
  #<strong>noop</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Issues a NOOP command.</p>

<p>Does nothing except return a response.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1151'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1151
1152
1153</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1151</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_noop'>noop</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOOP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="open_socket-instance_method">
  <h3 class='signature'>
  #<strong>open_socket</strong>(host, port)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs a socket with <code>host</code> and <code>port</code>.</p>

<p>If SOCKSSocket is defined and the environment (ENV) defines SOCKS_SERVER,
then a SOCKSSocket is returned, else a TCPSocket is returned.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L237'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 237</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_open_socket'>open_socket</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='const'>Timeout</span><span class='period'>.</span><span class='id identifier rubyid_timeout'>timeout</span><span class='lparen'>(</span><span class='ivar'>@open_timeout</span><span class='comma'>,</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
    <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>SOCKSSocket</span> <span class='kw'>and</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SOCKS_SERVER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='ivar'>@passive</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='const'>SOCKSSocket</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='const'>TCPSocket</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='const'><a href="FTP/BufferedSocket.html" title="Net::FTP::BufferedSocket (class)">BufferedSocket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::FTP.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_sock'>sock</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='ivar'>@read_timeout</span>
    <span class='id identifier rubyid_io'>io</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse227-instance_method">
  <h3 class='signature'>
  #<strong>parse227</strong>(resp)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>handler for response code 227 (Entering Passive Mode (h1,h2,h3,h4,p1,p2))</p>

<p>Returns host and port.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1191'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1191
1192
1193
1194
1195
1196
1197
1198
1199
1200</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse227'>parse227</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>227</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\((?&lt;host&gt;\d(,\d){3}),(?&lt;port&gt;\d,\d)\)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_parse_pasv_ipv4_host'>parse_pasv_ipv4_host</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_pasv_port'>parse_pasv_port</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse228-instance_method">
  <h3 class='signature'>
  #<strong>parse228</strong>(resp)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>handler for response code 228 (Entering Long Passive Mode)</p>

<p>Returns host and port.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1207'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1207</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse228'>parse228</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>228</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\(4,4,(?&lt;host&gt;\d(,\d){3}),2,(?&lt;port&gt;\d,\d)\)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_parse_pasv_ipv4_host'>parse_pasv_ipv4_host</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_pasv_port'>parse_pasv_port</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\(6,16,(?&lt;host&gt;\d(,(\d)){15}),2,(?&lt;port&gt;\d,\d)\)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_parse_pasv_ipv6_host'>parse_pasv_ipv6_host</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_pasv_port'>parse_pasv_port</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse229-instance_method">
  <h3 class='signature'>
  #<strong>parse229</strong>(resp)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>handler for response code 229 (Extended Passive Mode Entered)</p>

<p>Returns host and port.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1244'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1244
1245
1246
1247
1248
1249
1250
1251
1252
1253</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1244</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse229'>parse229</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>229</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\((?&lt;d&gt;[!-~])\k&lt;d&gt;\k&lt;d&gt;(?&lt;port&gt;\d+)\k&lt;d&gt;\)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_peeraddr'>peeraddr</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse257-instance_method">
  <h3 class='signature'>
  #<strong>parse257</strong>(resp)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>handler for response code 257 (“PATHNAME” created)</p>

<p>Returns host and port.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1260'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1260
1261
1262
1263
1264
1265</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse257'>parse257</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>257</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&quot;(([^&quot;]|&quot;&quot;)*)&quot;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&quot;&quot;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_mlsx_entry-instance_method">
  <h3 class='signature'>
  #<strong>parse_mlsx_entry</strong>(entry)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L933'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


933
934
935
936
937
938
939
940
941
942
943
944
945</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 933</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_mlsx_entry'>parse_mlsx_entry</span><span class='lparen'>(</span><span class='id identifier rubyid_entry'>entry</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_facts'>facts</span><span class='comma'>,</span> <span class='id identifier rubyid_pathname'>pathname</span> <span class='op'>=</span> <span class='id identifier rubyid_entry'>entry</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> </span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_pathname'>pathname</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_entry'>entry</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='const'><a href="FTP/MLSxEntry.html" title="Net::FTP::MLSxEntry (class)">MLSxEntry</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="FTP/MLSxEntry.html#new-class_method" title="Net::FTP::MLSxEntry.new (method)">new</a></span><span class='lparen'>(</span>
    <span class='id identifier rubyid_facts'>facts</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.*?)=(.*?);</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
      <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_factname'>factname</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_factname'>factname</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
      <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><a href="#FACT_PARSERS-constant" title="Net::FTP::FACT_PARSERS (constant)">FACT_PARSERS</a></span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='id identifier rubyid_pathname'>pathname</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_pasv_ipv4_host-instance_method">
  <h3 class='signature'>
  #<strong>parse_pasv_ipv4_host</strong>(s)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1221'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1221
1222
1223</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1221</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_pasv_ipv4_host'>parse_pasv_ipv4_host</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_pasv_ipv6_host-instance_method">
  <h3 class='signature'>
  #<strong>parse_pasv_ipv6_host</strong>(s)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1226'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1226
1227
1228
1229
1230</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1226</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_pasv_ipv6_host'>parse_pasv_ipv6_host</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>,</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%02x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each_slice'>each_slice</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:join</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_pasv_port-instance_method">
  <h3 class='signature'>
  #<strong>parse_pasv_port</strong>(s)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1233'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1233
1234
1235
1236
1237</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1233</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_pasv_port'>parse_pasv_port</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>,</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_i</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;&lt;</span> <span class='int'>8</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="put-instance_method">
  <h3 class='signature'>
  #<strong>put</strong>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Transfers <code>localfile</code> to the server in whatever mode the session
is set (text or binary).  See <a href="#puttextfile-instance_method" title="Net::FTP#puttextfile (method)">#puttextfile</a> and <a href="#putbinaryfile-instance_method" title="Net::FTP#putbinaryfile (method)">#putbinaryfile</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L732'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


732
733
734
735
736
737
738
739</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 732</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_put'>put</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_remotefile'>remotefile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='id identifier rubyid_blocksize'>blocksize</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_BLOCKSIZE-constant" title="Net::FTP::DEFAULT_BLOCKSIZE (constant)">DEFAULT_BLOCKSIZE</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@binary</span>
    <span class='id identifier rubyid_putbinaryfile'>putbinaryfile</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puttextfile'>puttextfile</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_remotefile'>remotefile</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="putbinaryfile-instance_method">
  <h3 class='signature'>
  #<strong>putbinaryfile</strong>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Transfers <code>localfile</code> to the server in binary mode, storing the
result in <code>remotefile</code>. If a block is supplied, calls it,
passing in the transmitted data in <code>blocksize</code> chunks.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L690'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 690</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_putbinaryfile'>putbinaryfile</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_remotefile'>remotefile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span><span class='comma'>,</span>
                  <span class='id identifier rubyid_blocksize'>blocksize</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_BLOCKSIZE-constant" title="Net::FTP::DEFAULT_BLOCKSIZE (constant)">DEFAULT_BLOCKSIZE</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: data
</span>  <span class='kw'>if</span> <span class='ivar'>@resume</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='id identifier rubyid_size'>size</span><span class='lparen'>(</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="FTPPermError.html" title="Net::FTPPermError (class)">FTPPermError</a></span>
      <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_binmode'>binmode</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span>
      <span class='id identifier rubyid_storbinary'>storbinary</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>APPE </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_storbinary'>storbinary</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOR </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="putline-instance_method">
  <h3 class='signature'>
  #<strong>putline</strong>(line)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Ensures that <code>line</code> has a control return / line feed (CRLF) and
writes it to the socket.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L294'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


294
295
296
297
298
299
300</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_putline'>putline</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='ivar'>@debug_mode</span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>put: </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sanitize'>sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>+</span> <span class='const'><a href="#CRLF-constant" title="Net::FTP::CRLF (constant)">CRLF</a></span>
  <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="puttextfile-instance_method">
  <h3 class='signature'>
  #<strong>puttextfile</strong>(localfile, remotefile = File.basename(localfile), &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Transfers <code>localfile</code> to the server in ASCII (text) mode,
storing the result in <code>remotefile</code>. If callback or an associated
block is supplied, calls it, passing in the transmitted data one line at a
time.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L719'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


719
720
721
722
723
724
725
726</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 719</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_puttextfile'>puttextfile</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='comma'>,</span> <span class='id identifier rubyid_remotefile'>remotefile</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yield: line
</span>  <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_localfile'>localfile</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_storlines'>storlines</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOR </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remotefile'>remotefile</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pwd-instance_method">
  <h3 class='signature'>
  #<strong>pwd</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>getdir</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the current remote directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1074'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1074
1075
1076
1077</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1074</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pwd'>pwd</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PWD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_parse257'>parse257</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="quit-instance_method">
  <h3 class='signature'>
  #<strong>quit</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Exits the FTP session.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1142'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1142
1143
1144</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1142</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quit'>quit</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUIT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rename-instance_method">
  <h3 class='signature'>
  #<strong>rename</strong>(fromname, toname)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Renames a file on the server.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L990'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


990
991
992
993
994
995
996</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 990</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rename'>rename</span><span class='lparen'>(</span><span class='id identifier rubyid_fromname'>fromname</span><span class='comma'>,</span> <span class='id identifier rubyid_toname'>toname</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RNFR </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fromname'>fromname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RNTO </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_toname'>toname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="retrbinary-instance_method">
  <h3 class='signature'>
  #<strong>retrbinary</strong>(cmd, blocksize, rest_offset = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Puts the connection into binary (image) mode, issues the given command, and
fetches the data returned, passing it to the associated block in chunks of
<code>blocksize</code> characters. Note that <code>cmd</code> is a server
command (such as “RETR myfile”).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L497'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 497</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_retrbinary'>retrbinary</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :yield: data
</span>  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='id identifier rubyid_transfercmd'>transfercmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_blocksize'>blocksize</span><span class='rparen'>)</span>
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span> <span class='op'>==</span> <span class='kw'>nil</span>
          <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_shutdown'>shutdown</span><span class='lparen'>(</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>SHUT_WR</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
      <span class='kw'>ensure</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='id identifier rubyid_conn'>conn</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_voidresp'>voidresp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="retrlines-instance_method">
  <h3 class='signature'>
  #<strong>retrlines</strong>(cmd)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Puts the connection into ASCII (text) mode, issues the given command, and
passes the resulting data, one line at a time, to the associated block. If
no block is given, prints the lines. Note that <code>cmd</code> is a server
command (such as “RETR myfile”).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L524'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 524</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_retrlines'>retrlines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='comment'># :yield: line
</span>  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='id identifier rubyid_transfercmd'>transfercmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='kw'>nil</span>
          <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r?\n\z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>!</span><span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n\z</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_shutdown'>shutdown</span><span class='lparen'>(</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>SHUT_WR</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
      <span class='kw'>ensure</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='id identifier rubyid_conn'>conn</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_voidresp'>voidresp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="return_code-instance_method">
  <h3 class='signature'>
  #<strong>return_code</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Obsolete</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L222'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


222
223
224
225</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 222</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_return_code'>return_code</span> <span class='comment'># :nodoc:
</span>  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warning: Net::FTP#return_code is obsolete and do nothing</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="return_code=-instance_method">
  <h3 class='signature'>
  #<strong>return_code=</strong>(s)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Obsolete</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L228'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


228
229
230</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_return_code='>return_code=</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warning: Net::FTP#return_code= is obsolete and do nothing</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rmdir-instance_method">
  <h3 class='signature'>
  #<strong>rmdir</strong>(dirname)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes a remote directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1067'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1067
1068
1069</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1067</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rmdir'>rmdir</span><span class='lparen'>(</span><span class='id identifier rubyid_dirname'>dirname</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RMD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dirname'>dirname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sanitize-instance_method">
  <h3 class='signature'>
  #<strong>sanitize</strong>(s)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>If string <code>s</code> includes the PASS command (password), then the
contents of the password are cleaned from the string using “*”</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L283'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


283
284
285
286
287
288
289</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 283</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sanitize'>sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^PASS </span><span class='regexp_end'>/i</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="send_type_command-instance_method">
  <h3 class='signature'>
  #<strong>send_type_command</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sends a command to destination host, with the current binary sendmode type.</p>

<p>If binary mode is <code>true</code>, then “TYPE I” (image) is sent,
otherwise “TYPE A” (ascii) is sent.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L196'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


196
197
198
199
200
201
202</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_type_command'>send_type_command</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='ivar'>@binary</span>
    <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TYPE I</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TYPE A</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sendcmd-instance_method">
  <h3 class='signature'>
  #<strong>sendcmd</strong>(cmd)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sends a command and returns the response.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L364'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


364
365
366
367
368
369</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 364</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_putline'>putline</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_getresp'>getresp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sendport-instance_method">
  <h3 class='signature'>
  #<strong>sendport</strong>(host, port)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs and send the appropriate PORT (or EPRT) command</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L382'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


382
383
384
385
386
387
388
389
390
391
392</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 382</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sendport'>sendport</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_af'>af</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_peeraddr'>peeraddr</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_af'>af</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AF_INET</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PORT </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_af'>af</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AF_INET6</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EPRT |2|%s|%d|</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPProtoError.html" title="Net::FTPProtoError (class)">FTPProtoError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_socket-instance_method">
  <h3 class='signature'>
  #<strong>set_socket</strong>(sock, get_greeting = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the socket used to connect to the FTP server.</p>

<p>May raise FTPReplyError if <code>get_greeting</code> is false.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L272'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


272
273
274
275
276
277
278
279</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 272</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_socket'>set_socket</span><span class='lparen'>(</span><span class='id identifier rubyid_sock'>sock</span><span class='comma'>,</span> <span class='id identifier rubyid_get_greeting'>get_greeting</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='id identifier rubyid_sock'>sock</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_get_greeting'>get_greeting</span>
      <span class='id identifier rubyid_voidresp'>voidresp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="site-instance_method">
  <h3 class='signature'>
  #<strong>site</strong>(arg)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Issues a SITE command.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1158'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1158
1159
1160
1161</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_site'>site</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SITE </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arg'>arg</span>
  <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="size-instance_method">
  <h3 class='signature'>
  #<strong>size</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the size of the given (remote) filename.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1038'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1038
1039
1040
1041
1042
1043
1044
1045
1046</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1038</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SIZE </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>213</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_get_body'>get_body</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="status-instance_method">
  <h3 class='signature'>
  #<strong>status</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the status (STAT command).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1108'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1108
1109
1110
1111
1112
1113</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_status'>status</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STAT</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='const'><a href="#CRLF-constant" title="Net::FTP::CRLF (constant)">CRLF</a></span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>put: STAT\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug_mode</span>
  <span class='ivar'>@sock</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='const'>Socket</span><span class='op'>::</span><span class='const'>MSG_OOB</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_getresp'>getresp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="storbinary-instance_method">
  <h3 class='signature'>
  #<strong>storbinary</strong>(cmd, file, blocksize, rest_offset = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Puts the connection into binary (image) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server. If the optional block is given, it also
passes it the data, in chunks of <code>blocksize</code> characters.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L551'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 551</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_storbinary'>storbinary</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_blocksize'>blocksize</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :yield: data
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_seek'>seek</span><span class='lparen'>(</span><span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='comma'>,</span> <span class='const'>IO</span><span class='op'>::</span><span class='const'>SEEK_SET</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='id identifier rubyid_transfercmd'>transfercmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_blocksize'>blocksize</span><span class='rparen'>)</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
      <span class='id identifier rubyid_voidresp'>voidresp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EPIPE</span>
  <span class='comment'># EPIPE, in this case, means that the data connection was unexpectedly
</span>  <span class='comment'># terminated.  Rather than just raising EPIPE to the caller, check the
</span>  <span class='comment'># response on the control connection.  If getresp doesn&#39;t raise a more
</span>  <span class='comment'># appropriate exception, re-raise the original exception.
</span>  <span class='id identifier rubyid_getresp'>getresp</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="storlines-instance_method">
  <h3 class='signature'>
  #<strong>storlines</strong>(cmd, file)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Puts the connection into ASCII (text) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server, one line at a time. If the optional block
is given, it also passes it the lines.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L583'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_storlines'>storlines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='comment'># :yield: line
</span>  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='id identifier rubyid_transfercmd'>transfercmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_buf'>buf</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='const'><a href="#CRLF-constant" title="Net::FTP::CRLF (constant)">CRLF</a></span>
          <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>+</span> <span class='const'><a href="#CRLF-constant" title="Net::FTP::CRLF (constant)">CRLF</a></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
      <span class='id identifier rubyid_voidresp'>voidresp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EPIPE</span>
  <span class='comment'># EPIPE, in this case, means that the data connection was unexpectedly
</span>  <span class='comment'># terminated.  Rather than just raising EPIPE to the caller, check the
</span>  <span class='comment'># response on the control connection.  If getresp doesn&#39;t raise a more
</span>  <span class='comment'># appropriate exception, re-raise the original exception.
</span>  <span class='id identifier rubyid_getresp'>getresp</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="system-instance_method">
  <h3 class='signature'>
  #<strong>system</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns system information.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L1083'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1083
1084
1085
1086
1087
1088
1089</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 1083</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_system'>system</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SYST</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>215</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_get_body'>get_body</span><span class='lparen'>(</span><span class='id identifier rubyid_resp'>resp</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transfercmd-instance_method">
  <h3 class='signature'>
  #<strong>transfercmd</strong>(cmd, rest_offset = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs a connection for transferring data</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L414'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 414</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_transfercmd'>transfercmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='ivar'>@passive</span>
    <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_makepasv'>makepasv</span>
    <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='id identifier rubyid_open_socket'>open_socket</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='ivar'>@resume</span> <span class='kw'>and</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span>
      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REST </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
    <span class='comment'># skip 2XX for some ftp servers
</span>    <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_getresp'>getresp</span> <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='id identifier rubyid_makeport'>makeport</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_sendport'>sendport</span><span class='lparen'>(</span><span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_addr'>addr</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_addr'>addr</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='ivar'>@resume</span> <span class='kw'>and</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span>
        <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REST </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_rest_offset'>rest_offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_sendcmd'>sendcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
      <span class='comment'># skip 2XX for some ftp servers
</span>      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_getresp'>getresp</span> <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='const'><a href="FTP/BufferedSocket.html" title="Net::FTP::BufferedSocket (class)">BufferedSocket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::FTP.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='ivar'>@read_timeout</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_shutdown'>shutdown</span><span class='lparen'>(</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>SHUT_WR</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_conn'>conn</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="voidcmd-instance_method">
  <h3 class='signature'>
  #<strong>voidcmd</strong>(cmd)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sends a command and expect a response beginning with &#39;2&#39;.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L374'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


374
375
376
377
378
379</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 374</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_putline'>putline</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_voidresp'>voidresp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="voidresp-instance_method">
  <h3 class='signature'>
  #<strong>voidresp</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Receives a response.</p>

<p>Raises FTPReplyError if the first position of the response code is not
equal 2.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L353'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


353
354
355
356
357
358</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 353</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_voidresp'>voidresp</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_getresp'>getresp</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_resp'>resp</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="FTPReplyError.html" title="Net::FTPReplyError (class)">FTPReplyError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with_binary-instance_method">
  <h3 class='signature'>
  #<strong>with_binary</strong>(newmode)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Toggles transfers in binary mode and yields to a block. This preserves your
current binary send mode, but allows a temporary transaction with binary
sendmode of <code>newmode</code>.</p>

<p><code>newmode</code> is either <code>true</code> or <code>false</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_3/lib/net/ftp.rb#L210'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


210
211
212
213
214
215
216
217
218</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/ftp.rb', line 210</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_binary'>with_binary</span><span class='lparen'>(</span><span class='id identifier rubyid_newmode'>newmode</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_oldmode'>oldmode</span> <span class='op'>=</span> <span class='id identifier rubyid_binary'>binary</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_binary'>binary</span> <span class='op'>=</span> <span class='id identifier rubyid_newmode'>newmode</span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_binary'>binary</span> <span class='op'>=</span> <span class='id identifier rubyid_oldmode'>oldmode</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>