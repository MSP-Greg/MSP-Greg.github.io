<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: RubyInstaller::Runtime::Ridk &mdash; RubyInstaller2 master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RubyInstaller::Runtime::Ridk",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>RubyInstaller2 master</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../RubyInstaller.html" title="RubyInstaller (module)">RubyInstaller</a> &raquo; 
        <a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a> &raquo; 
      <span class='title'><a class='nodoc' id='t2_doc_top' href='#'>Ridk&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: RubyInstaller::Runtime::Ridk</h1>
  <div class='note nodoc inline-block'>
    <strong>Do not use.  This module is for internal use only.</strong>
  </div>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Colors
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L4'>lib/ruby_installer/runtime/ridk.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full nodoc'>
  <li>
    <span id='DEFAULT_COMPONENTS-constant' class='summary_signature nodoc'>DEFAULT_COMPONENTS =</span>
    <br/>
    <a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L54-L54'># File 'lib/ruby_installer/runtime/ridk.rb', line 54</a>    <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>1</span><span class='words_sep'> </span><span class='tstring_content'>3</span><span class='tstring_end'>]</span></span></pre>
  </li>
  <li>
    <span id='LOGO-constant' class='summary_signature nodoc'>LOGO =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The ASCII art is thankfully generated by: <a href="http://patorjk.com/software/taag/#p=display&amp;f=Big&amp;t=RubyInstaller2">patorjk.com/software/taag/#p=display&amp;f=Big&amp;t=RubyInstaller2</a> <a href="http://patorjk.com/software/taag/#p=display&amp;f=Bigfig&amp;t=for%20Windows">patorjk.com/software/taag/#p=display&amp;f=Bigfig&amp;t=for%20Windows</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L36-L46'># File 'lib/ruby_installer/runtime/ridk.rb', line 36</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>%q{</span><span class='tstring_content'>
 _____       _          r _____           _        _ _        ry ___  y
|  __ \     | |         r|_   _|         | |      | | |       ry|__ \ y
| |__) |   _| |__  _   _ r | |  _ __  ___| |_ __ _| | | ___ _ __ry ) |y
|  _  / | | | &#39;_ \| | | |r | | | &#39;_ \/ __| __/ _` | | |/ _ \ &#39;__ry/ / y
| | \ \ |_| | |_) | |_| |r_| |_| | | \__ \ || (_| | | |  __/ | ry/ /_ y
|_|  \_\__,_|_.__/ \__, r|_____|_| |_|___/\__\__,_|_|_|\___|_|ry|____|y
                    __/ |   c        _                              c
                   |___/    c      _|_ _  __   | | o __  _| _     _ c
                            c       | (_) |    |^| | | |(_|(_)\^/_&gt; c
</span><span class='tstring_end'>}</span></span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full nodoc'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#args_to_tasks-class_method" title=".args_to_tasks (class method)">.<strong>args_to_tasks</strong>(ci, args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#ignore_err-class_method" title=".ignore_err (class method)">.<strong>ignore_err</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#install-class_method" title=".install (class method)">.<strong>install</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#print_help-class_method" title=".print_help (class method)">.<strong>print_help</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#print_logo-class_method" title=".print_logo (class method)">.<strong>print_logo</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#print_version-class_method" title=".print_version (class method)">.<strong>print_version</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run!-class_method" title=".run! (class method)">.<strong>run!</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#sanitize_hash_encoding-class_method" title=".sanitize_hash_encoding (class method)">.<strong>sanitize_hash_encoding</strong>(hash_or_string)  </a>
    </span>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="args_to_tasks-class_method">
  <h3 class='signature nodoc first'>
    .<strong>args_to_tasks</strong>(ci, args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L103-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='103' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 103</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_args_to_tasks'>args_to_tasks</span>(<span class='id identifier rubyid_ci'>ci</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_idx_or_name'>idx_or_name</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_idx_or_name'>idx_or_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\d+\z</span><span class='regexp_end'>/</span></span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_task'>task</span><span class='op'>=</span><span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_installable_components'>installable_components</span>.<span class='id identifier rubyid_find'>find</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_idx_or_name'>idx_or_name</span>.<span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>==</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_task_index'>task_index</span> })
      <span class='id identifier rubyid_task'>task</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_idx_or_name'>idx_or_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\w+\z</span><span class='regexp_end'>/</span></span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_task'>task</span><span class='op'>=</span><span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_installable_components'>installable_components</span>.<span class='id identifier rubyid_find'>find</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_idx_or_name'>idx_or_name</span> <span class='op'>==</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_name'>name</span> })
      <span class='id identifier rubyid_task'>task</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_red'>red</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can not find component </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_idx_or_name'>idx_or_name</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ignore_err-class_method">
  <h3 class='signature nodoc'>
    .<strong>ignore_err</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L115-L122'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='122'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_ignore_err'>ignore_err</span>
  <span class='id identifier rubyid_orig_verbose'>orig_verbose</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>rescue</span>
  <span class='kw'>end</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_verbose'>orig_verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="install-class_method">
  <h3 class='signature nodoc'>
    .<strong>install</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L56-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='56' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_install'>install</span>(<span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_ci'>ci</span> <span class='op'>=</span> <span class='const'>ComponentsInstaller</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_inst_defaults'>inst_defaults</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_COMPONENTS-constant" title="RubyInstaller::Runtime::Ridk::DEFAULT_COMPONENTS (constant)">DEFAULT_COMPONENTS</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='comment'># Interactive installation
</span>    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_installable_components'>installable_components</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='op'>|</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  % 2d - %s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span>.<span class='id identifier rubyid_task_index'>task_index</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span>.<span class='id identifier rubyid_description'>description</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Which components shall be installed? If unsure press ENTER [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inst_defaults'>inst_defaults</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>] </span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_inp'>inp</span> <span class='op'>=</span> <span class='const'>STDIN</span>.<span class='id identifier rubyid_gets'>gets</span>
      <span class='id identifier rubyid_inp'>inp</span> <span class='op'>=</span> <span class='id identifier rubyid_inp'>inp</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_strip'>strip</span> <span class='kw'>if</span> <span class='id identifier rubyid_inp'>inp</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_inp'>inp</span>
        <span class='kw'>break</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_inp'>inp</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inst_defaults'>inst_defaults</span>.<span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>break</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_inp'>inp</span>.<span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_inst_list'>inst_list</span> <span class='op'>=</span> <span class='id identifier rubyid_inst_defaults'>inst_defaults</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_inp'>inp</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:(\d+|\w+)\s*)+\z</span><span class='regexp_end'>/</span></span>
        <span class='id identifier rubyid_inst_list'>inst_list</span> <span class='op'>=</span> [<span class='id identifier rubyid_inp'>inp</span>]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_red'>red</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please enter a comma separated list of the components to be installed</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_inst_list'>inst_list</span>
        <span class='id identifier rubyid_puts'>puts</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_install'>install</span>(<span class='id identifier rubyid_args_to_tasks'><a href="#args_to_tasks-class_method" title="RubyInstaller::Runtime::Ridk.args_to_tasks (method)">args_to_tasks</a></span>(<span class='id identifier rubyid_ci'>ci</span><span class='comma'>,</span> <span class='id identifier rubyid_inst_list'>inst_list</span>).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>))
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_red'>red</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Installation failed: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
        <span class='kw'>end</span>

        <span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_reload'>reload</span>
        <span class='id identifier rubyid_inst_defaults'>inst_defaults</span> <span class='op'>=</span> []
        <span class='id identifier rubyid_puts'>puts</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

  <span class='kw'>else</span>
    <span class='comment'># Unattended installation
</span>    <span class='id identifier rubyid_ci'>ci</span>.<span class='id identifier rubyid_install'>install</span>(<span class='id identifier rubyid_args_to_tasks'><a href="#args_to_tasks-class_method" title="RubyInstaller::Runtime::Ridk.args_to_tasks (method)">args_to_tasks</a></span>(<span class='id identifier rubyid_ci'>ci</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_help-class_method">
  <h3 class='signature nodoc'>
    .<strong>print_help</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L174-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_print_help'>print_help</span>
  <span class='gvar'>$stdout</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>Usage:
    </span><span class='embexpr_beg'>#{</span><span class='gvar'>$0</span><span class='embexpr_end'>}</span><span class='tstring_content'> [option]

Option:
    install                   Install MSYS2 and MINGW dev tools
    exec &lt;command&gt;            Execute a command within MSYS2 context
    enable                    Set environment variables for MSYS2
    disable                   Unset environment variables for MSYS2
    version                   Print RubyInstaller and MSYS2 versions
    use                       Switch to a different ruby version
    help | --help | -? | /?   Display this help and exit
</span><span class='heredoc_end'>EOT
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_logo-class_method">
  <h3 class='signature nodoc'>
    .<strong>print_logo</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L48-L52'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='48' data-end='52'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 48</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_print_logo'>print_logo</span>
  <span class='id identifier rubyid_puts'>puts</span>  <span class='const'><a href="#LOGO-constant" title="RubyInstaller::Runtime::Ridk::LOGO (constant)">LOGO</a></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>r(.*?)r</span><span class='regexp_end'>/</span></span>){ <span class='id identifier rubyid_magenta'>magenta</span>(<span class='backref'>$1</span>) }
            .<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>y(.*?)y</span><span class='regexp_end'>/</span></span>){ <span class='id identifier rubyid_cyan'>cyan</span>(<span class='backref'>$1</span>) }
            .<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>c(.*?)c</span><span class='regexp_end'>/</span></span>){ <span class='id identifier rubyid_yellow'>yellow</span>(<span class='backref'>$1</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_version-class_method">
  <h3 class='signature nodoc'>
    .<strong>print_version</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L132-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='132' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_print_version'>print_version</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yaml</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rbconfig</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>TOPDIR</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>RUBY_VERSION</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>platform</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>RUBY_PLATFORM</span> }<span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby_installer</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>package_version</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'><a href="../../RubyInstaller.html" title="RubyInstaller (module)">RubyInstaller</a></span><span class='op'>::</span><span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>PACKAGE_VERSION</span><span class='comma'>,</span>
                          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git_commit</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'><a href="../../RubyInstaller.html" title="RubyInstaller (module)">RubyInstaller</a></span><span class='op'>::</span><span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>GIT_COMMIT</span> }<span class='comma'>,</span>
  }

  <span class='id identifier rubyid_ignore_err'><a href="#ignore_err-class_method" title="RubyInstaller::Runtime::Ridk.ignore_err (method)">ignore_err</a></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_msys'>msys</span> <span class='op'>=</span> <span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span>.<span class='id identifier rubyid_msys2_installation'>msys2_installation</span>
    <span class='id identifier rubyid_msys'>msys</span>.<span class='id identifier rubyid_enable_msys_apps'>enable_msys_apps</span>(<span class='label'>if_no_msys:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span>)

    <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>msys2</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_msys'>msys</span>.<span class='id identifier rubyid_msys_path'>msys_path</span> }
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ignore_err'><a href="#ignore_err-class_method" title="RubyInstaller::Runtime::Ridk.ignore_err (method)">ignore_err</a></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_cc'>cc</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC_VERSION</span><span class='tstring_end'>&#39;</span></span>]
    <span class='id identifier rubyid_ver'>ver</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cc'>cc</span><span class='embexpr_end'>}</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cc</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_ver'>ver</span>
  <span class='kw'>end</span>

  <span class='comment'># Add compiler used to build ruby, if different from current gcc
</span>  <span class='id identifier rubyid_ruby_cc'>ruby_cc</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC_VERSION_MESSAGE</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>).<span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span>][<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cc</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_ruby_cc'>ruby_cc</span> <span class='kw'>if</span> <span class='id identifier rubyid_ruby_cc'>ruby_cc</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.exe</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>!=</span> <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cc</span><span class='tstring_end'>&quot;</span></span>]

  <span class='id identifier rubyid_ignore_err'><a href="#ignore_err-class_method" title="RubyInstaller::Runtime::Ridk.ignore_err (method)">ignore_err</a></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_ver'>ver</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>sh --version</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sh</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_ver'>ver</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ignore_err'><a href="#ignore_err-class_method" title="RubyInstaller::Runtime::Ridk.ignore_err (method)">ignore_err</a></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>os</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>ver</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_strip'>strip</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='id identifier rubyid_sanitize_hash_encoding'><a href="#sanitize_hash_encoding-class_method" title="RubyInstaller::Runtime::Ridk.sanitize_hash_encoding (method)">sanitize_hash_encoding</a></span>(<span class='id identifier rubyid_h'>h</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_yaml'>to_yaml</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run!-class_method">
  <h3 class='signature nodoc'>
    .<strong>run!</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L8-L31'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8' data-end='31'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 8</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run!'>run!</span>(<span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_enable_colors'>enable_colors</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>install</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_print_logo'><a href="#print_logo-class_method" title="RubyInstaller::Runtime::Ridk.print_logo (method)">print_logo</a></span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_install'><a href="#install-class_method" title="RubyInstaller::Runtime::Ridk.install (method)">install</a></span>(<span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>])
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>enable</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exec</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>Msys2Installation</span>.<span class='id identifier rubyid_new'>new</span>( <span class='label'>mingwarch:</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span>] ).<span class='id identifier rubyid_enable_msys_apps_per_cmd'>enable_msys_apps_per_cmd</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>disable</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>Msys2Installation</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_disable_msys_apps_per_cmd'>disable_msys_apps_per_cmd</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>enableps1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>execps1</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>Msys2Installation</span>.<span class='id identifier rubyid_new'>new</span>( <span class='label'>mingwarch:</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>2</span>] ).<span class='id identifier rubyid_enable_msys_apps_per_ps1'>enable_msys_apps_per_ps1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>disableps1</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><a href="../Runtime.html" title="RubyInstaller::Runtime (module)">Runtime</a></span><span class='op'>::</span><span class='const'>Msys2Installation</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_disable_msys_apps_per_ps1'>disable_msys_apps_per_ps1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>version</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_print_version'><a href="#print_version-class_method" title="RubyInstaller::Runtime::Ridk.print_version (method)">print_version</a></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>help</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-?</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/?</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_print_logo'><a href="#print_logo-class_method" title="RubyInstaller::Runtime::Ridk.print_logo (method)">print_logo</a></span>
      <span class='id identifier rubyid_print_help'><a href="#print_help-class_method" title="RubyInstaller::Runtime::Ridk.print_help (method)">print_help</a></span>
    <span class='kw'>else</span>
      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid option </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>].<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sanitize_hash_encoding-class_method">
  <h3 class='signature nodoc'>
    .<strong>sanitize_hash_encoding</strong>(hash_or_string)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/oneclick/rubyinstaller2/blob/master/lib/ruby_installer/runtime/ridk.rb#L124-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='124' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_installer/runtime/ridk.rb', line 124</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sanitize_hash_encoding'>sanitize_hash_encoding</span>(<span class='id identifier rubyid_hash_or_string'>hash_or_string</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_hash_or_string'>hash_or_string</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_encode'>encode</span>)
    <span class='id identifier rubyid_hash_or_string'>hash_or_string</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>invalid:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span><span class='comma'>,</span> <span class='label'>undef:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_hash_or_string'>hash_or_string</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_sanitize_hash_encoding'>sanitize_hash_encoding</span>(<span class='id identifier rubyid_v'>v</span>)] }.<span class='id identifier rubyid_to_h'>to_h</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>