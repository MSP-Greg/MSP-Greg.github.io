<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Rails::Generators::Base &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Rails::Generators::Base",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-4.2.7</a> &raquo; 
          <a href='../../_index.html'>Index (B)</a> &raquo; 
          <a href="../../Rails.html" title="Rails (module)">Rails</a> &raquo; 
          <a href="../Generators.html" title="Rails::Generators (module)">Generators</a> &raquo; 
          <span class='title'>Base</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Rails::Generators::Base</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Thor::Group</span>
      <ul class='fullTree'>
        <li><a href="../../Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Thor::Group</li>
        <li class='next'>Rails::Generators::Base</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="Actions.html" title="Rails::Generators::Actions (module)">Actions</a>, Thor::Actions
    </td>
  </tr>

  <tr>
    <td class='box_1'>Direct Subclasses:</td>
    <td>
      <a href="AppBase.html" title="Rails::Generators::AppBase (class)">AppBase</a>, <a href="NamedBase.html" title="Rails::Generators::NamedBase (class)">NamedBase</a>
    </td>
  </tr>


  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
railties/lib/rails/generators/base.rb</div>  </td>
  </tr>
</table>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#base_root-class_method" title=".base_root (class method)">.<strong>base_root</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the base root for a common set of generators.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#class_option-class_method" title=".class_option (class method)">.<strong>class_option</strong>(name, options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Make class option aware of <a href="../Generators.html" title="Rails::Generators (module)">Rails::Generators</a>.options and
<a href="../Generators.html" title="Rails::Generators (module)">Rails::Generators</a>.aliases.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_source_root-class_method" title=".default_source_root (class method)">.<strong>default_source_root</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the default source root for a given generator.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#desc-class_method" title=".desc (class method)">.<strong>desc</strong>(description = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tries to get the description from a USAGE file one folder above the source
root otherwise uses a default description.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hide%21-class_method" title=".hide! (class method)">.<strong>hide!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Convenience method to hide this generator from the available ones when
running rails generator command.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hook_for-class_method" title=".hook_for (class method)">.<strong>hook_for</strong>(*names, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Invoke a generator based on the value supplied by the user to the given
option named “name”.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inherited-class_method" title=".inherited (class method)">.<strong>inherited</strong>(base)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Cache source root and add lib/generators/base/generator/templates to source
paths.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#namespace-class_method" title=".namespace (class method)">.<strong>namespace</strong>(name = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Convenience method to get the namespace from the class name.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_hook_for-class_method" title=".remove_hook_for (class method)">.<strong>remove_hook_for</strong>(*names)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Remove a previously added hook.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#source_root-class_method" title=".source_root (class method)">.<strong>source_root</strong>(path = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the source root for this generator using default_source_root as
default.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Actions.html" title="Rails::Generators::Actions (module)">Actions</a></h3>
  <p class="inherited"><a href="Actions.html#add_source-instance_method" title="Rails::Generators::Actions#add_source (method)">#add_source</a>, <a href="Actions.html#after_bundle-instance_method" title="Rails::Generators::Actions#after_bundle (method)">#after_bundle</a>, <a href="Actions.html#capify%21-instance_method" title="Rails::Generators::Actions#capify! (method)">#capify!</a>, <a href="Actions.html#environment-instance_method" title="Rails::Generators::Actions#environment (method)">#environment</a>, <a href="Actions.html#gem-instance_method" title="Rails::Generators::Actions#gem (method)">#gem</a>, <a href="Actions.html#gem_group-instance_method" title="Rails::Generators::Actions#gem_group (method)">#gem_group</a>, <a href="Actions.html#generate-instance_method" title="Rails::Generators::Actions#generate (method)">#generate</a>, <a href="Actions.html#git-instance_method" title="Rails::Generators::Actions#git (method)">#git</a>, <a href="Actions.html#initialize-instance_method" title="Rails::Generators::Actions#initialize (method)">#initialize</a>, <a href="Actions.html#initializer-instance_method" title="Rails::Generators::Actions#initializer (method)">#initializer</a>, <a href="Actions.html#lib-instance_method" title="Rails::Generators::Actions#lib (method)">#lib</a>, <a href="Actions.html#rake-instance_method" title="Rails::Generators::Actions#rake (method)">#rake</a>, <a href="Actions.html#rakefile-instance_method" title="Rails::Generators::Actions#rakefile (method)">#rakefile</a>, <a href="Actions.html#readme-instance_method" title="Rails::Generators::Actions#readme (method)">#readme</a>, <a href="Actions.html#route-instance_method" title="Rails::Generators::Actions#route (method)">#route</a>, <a href="Actions.html#vendor-instance_method" title="Rails::Generators::Actions#vendor (method)">#vendor</a></p>

  
  <h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="base_root-class_method">
  <h3 class='signature first'>
  .<strong>base_root</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the base root for a common set of generators. This is used to
dynamically guess the default source root.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


217
218
219</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 217</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_root'>base_root</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="class_option-class_method">
  <h3 class='signature'>
  .<strong>class_option</strong>(name, options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Make class option aware of <a href="../Generators.html" title="Rails::Generators (module)">Rails::Generators</a>.options and
<a href="../Generators.html" title="Rails::Generators (module)">Rails::Generators</a>.aliases.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


198
199
200
201
202
203</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 198</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class_option'>class_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:desc</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Indicates when to generate </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_humanize'>humanize</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:desc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:aliases</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_default_aliases_for_option'>default_aliases_for_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:default</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_default_value_for_option'>default_value_for_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_source_root-class_method">
  <h3 class='signature'>
  .<strong>default_source_root</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the default source root for a given generator. This is used
internally by rails to set its generators source root. If you want to
customize your source root, you should use source_root.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


208
209
210
211
212
213</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 208</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_source_root'>default_source_root</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_base_name'>base_name</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_generator_name'>generator_name</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_default_generator_root'>default_generator_root</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_default_generator_root'>default_generator_root</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>templates</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="desc-class_method">
  <h3 class='signature'>
  .<strong>desc</strong>(description = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tries to get the description from a USAGE file one folder above the source
root otherwise uses a default description.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


30
31
32
33
34
35
36
37
38</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 30</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_desc'>desc</span><span class='lparen'>(</span><span class='id identifier rubyid_description'>description</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_description'>description</span>

  <span class='ivar'>@desc</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='id identifier rubyid_usage_path'>usage_path</span>
    <span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_usage_path'>usage_path</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='lparen'>(</span><span class='id identifier rubyid_binding'>binding</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description:\n    Create </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_name'>base_name</span><span class='period'>.</span><span class='id identifier rubyid_humanize'>humanize</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> files for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_generator_name'>generator_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> generator.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hide!-class_method">
  <h3 class='signature'>
  .<strong>hide!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convenience method to hide this generator from the available ones when
running rails generator command.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


50
51
52</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 50</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hide!'>hide!</span>
  <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='period'>.</span><span class='id identifier rubyid_hide_namespace'>hide_namespace</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hook_for-class_method">
  <h3 class='signature'>
  .<strong>hook_for</strong>(*names, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Invoke a generator based on the value supplied by the user to the given
option named “name”. A class option is created when this method is invoked
and you can set a hash to customize it.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span>
  <span class='kw'>class</span> <span class='const'>ControllerGenerator</span> <span class='op'>&lt;</span> <span class='const'>Base</span>
    <span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:test_framework</span><span class='comma'>,</span> <span class='label'>aliases:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>The example above will create a test framework option and will invoke a
generator based on the user supplied value.</p>

<p>For example, if the user invoke the controller generator as:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_controller'>controller</span> <span class='const'>Account</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_test'>test</span><span class='op'>-</span><span class='id identifier rubyid_framework'>framework</span><span class='op'>=</span><span class='id identifier rubyid_test_unit'>test_unit</span>
</code></pre>

<p>The controller generator will then try to invoke the following generators:</p>

<pre class="code ruby"><code class="ruby">&quot;rails:test_unit&quot;, &quot;test_unit:controller&quot;, &quot;test_unit&quot;</code></pre>

<p>Notice that “rails:generators:test_unit” could be loaded as well, what
Rails looks for is the first and last parts of the namespace. This is what
allows any test framework to hook into Rails as long as it provides any of
the hooks above.</p>

<h4 id="label-Options">Options</h4>

<p>The first and last part used to find the generator to be invoked are
guessed based on class invokes hook_for, as noticed in the example above.
This can be customized with two options: :in and :as.</p>

<p>Let&#39;s suppose you are creating a generator that needs to invoke the
controller generator from test unit. Your first attempt is:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>AwesomeGenerator</span> <span class='op'>&lt;</span> <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:test_framework</span>
<span class='kw'>end</span>
</code></pre>

<p>The lookup in this case for test_unit as input is:</p>

<pre class="code ruby"><code class="ruby">&quot;test_unit:awesome&quot;, &quot;test_unit&quot;</code></pre>

<p>Which is not the desired lookup. You can change it by providing the :as
option:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>AwesomeGenerator</span> <span class='op'>&lt;</span> <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:test_framework</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='symbol'>:controller</span>
<span class='kw'>end</span>
</code></pre>

<p>And now it will lookup at:</p>

<pre class="code ruby"><code class="ruby">&quot;test_unit:controller&quot;, &quot;test_unit&quot;</code></pre>

<p>Similarly, if you want it to also lookup in the rails namespace, you just
need to provide the :in value:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>AwesomeGenerator</span> <span class='op'>&lt;</span> <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:test_framework</span><span class='comma'>,</span> <span class='label'>in:</span> <span class='symbol'>:rails</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='symbol'>:controller</span>
<span class='kw'>end</span>
</code></pre>

<p>And the lookup is exactly the same as previously:</p>

<pre class="code ruby"><code class="ruby">&quot;rails:test_unit&quot;, &quot;test_unit:controller&quot;, &quot;test_unit&quot;</code></pre>

<h4 id="label-Switches">Switches</h4>

<p>All hooks come with switches for user interface. If you do not want to use
any test framework, you can do:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_controller'>controller</span> <span class='const'>Account</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_skip'>skip</span><span class='op'>-</span><span class='id identifier rubyid_test'>test</span><span class='op'>-</span><span class='id identifier rubyid_framework'>framework</span>
</code></pre>

<p>Or similarly:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_controller'>controller</span> <span class='const'>Account</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_no'>no</span><span class='op'>-</span><span class='id identifier rubyid_test'>test</span><span class='op'>-</span><span class='id identifier rubyid_framework'>framework</span>
</code></pre>

<h4 id="label-Boolean+hooks">Boolean hooks</h4>

<p>In some cases, you may want to provide a boolean hook. For example, webrat
developers might want to have webrat available on controller generator.
This can be achieved as:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='op'>::</span><span class='const'>ControllerGenerator</span><span class='period'>.</span><span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:webrat</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:boolean</span>
</code></pre>

<p>Then, if you want webrat to be invoked, just supply:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_controller'>controller</span> <span class='const'>Account</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_webrat'>webrat</span>
</code></pre>

<p>The hooks lookup is similar as above:</p>

<pre class="code ruby"><code class="ruby">&quot;rails:generators:webrat&quot;, &quot;webrat:generators:controller&quot;, &quot;webrat&quot;</code></pre>

<h4 id="label-Custom+invocations">Custom invocations</h4>

<p>You can also supply a block to hook_for to customize how the hook is going
to be invoked. The block receives two arguments, an instance of the current
class and the class to be invoked.</p>

<p>For example, in the resource generator, the controller should be invoked
with a pluralized class name. But by default it is invoked with the same
name as the resource generator, which is singular. To change this, we can
give a block to customize how the controller can be invoked.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hook_for'>hook_for</span> <span class='symbol'>:resource_controller</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_instance'>instance</span><span class='comma'>,</span> <span class='id identifier rubyid_controller'>controller</span><span class='op'>|</span>
  <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span> <span class='id identifier rubyid_controller'>controller</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_instance'>instance</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span> <span class='rbracket'>]</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 163</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hook_for'>hook_for</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_in_base'>in_base</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:in</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_base_name'>base_name</span>
  <span class='id identifier rubyid_as_hook'>as_hook</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:as</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_generator_name'>generator_name</span>

  <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_class_options'>class_options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_defaults'>defaults</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:boolean</span>
        <span class='lbrace'>{</span> <span class='rbrace'>}</span>
      <span class='kw'>elsif</span> <span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_default_value_for_option'>default_value_for_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='lbrace'>{</span> <span class='label'>banner:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
      <span class='kw'>else</span>
        <span class='lbrace'>{</span> <span class='label'>desc:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_humanize'>humanize</span><span class='embexpr_end'>}</span><span class='tstring_content'> to be invoked</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>banner:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NAME</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_class_option'>class_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_defaults'>defaults</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_hooks'>hooks</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_in_base'>in_base</span><span class='comma'>,</span> <span class='id identifier rubyid_as_hook'>as_hook</span> <span class='rbracket'>]</span>
    <span class='id identifier rubyid_invoke_from_option'>invoke_from_option</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inherited-class_method">
  <h3 class='signature'>
  .<strong>inherited</strong>(base)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Cache source root and add lib/generators/base/generator/templates to source
paths.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 223</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inherited'>inherited</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>super</span>

  <span class='comment'># Invoke source_root so the default_source_root is set.
</span>  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_source_root'>source_root</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Base$</span><span class='regexp_end'>/</span></span>
    <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='period'>.</span><span class='id identifier rubyid_subclasses'>subclasses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_base'>base</span>

    <span class='const'>Rails</span><span class='op'>::</span><span class='const'>Generators</span><span class='period'>.</span><span class='id identifier rubyid_templates_path'>templates_path</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_source_paths'>source_paths</span> <span class='op'>&lt;&lt;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_base_name'>base_name</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_generator_name'>generator_name</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_source_paths'>source_paths</span> <span class='op'>&lt;&lt;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_generator_name'>generator_name</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="namespace-class_method">
  <h3 class='signature'>
  .<strong>namespace</strong>(name = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convenience method to get the namespace from the class name. It&#39;s the
same as Thor default except that the Generator at the end of the class is
removed.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


43
44
45
46</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 43</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@namespace</span> <span class='op'>||=</span> <span class='kw'>super</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>_generator$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>:generators:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_hook_for-class_method">
  <h3 class='signature'>
  .<strong>remove_hook_for</strong>(*names)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Remove a previously added hook.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_remove_hook_for'>remove_hook_for</span> <span class='symbol'>:orm</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


189
190
191
192
193
194
195</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 189</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_remove_hook_for'>remove_hook_for</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_names'>names</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remove_invocation'>remove_invocation</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_names'>names</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_hooks'>hooks</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="source_root-class_method">
  <h3 class='signature'>
  .<strong>source_root</strong>(path = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the source root for this generator using default_source_root as
default.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


23
24
25
26</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'railties/lib/rails/generators/base.rb', line 23</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_source_root'>source_root</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@_source_root</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@_source_root</span> <span class='op'>||=</span> <span class='id identifier rubyid_default_source_root'>default_source_root</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>