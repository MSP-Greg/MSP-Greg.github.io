<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Inheritance::ClassMethods &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Inheritance::ClassMethods",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-4.2.7</a> &raquo; 
          <a href='../../_index.html'>Index (C)</a> &raquo; 
        #  <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        #  <a href="../Inheritance.html" title="ActiveRecord::Inheritance (module)">Inheritance</a> &raquo; 
          <span class='title'>ClassMethods</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActiveRecord::Inheritance::ClassMethods</h1>

<div class="box_info">



  <dl>
    <dt>Defined in:</dt>
    <dd>activerecord/lib/active_record/inheritance.rb</dd>
  </dl>
</div>



<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#abstract_class-instance_method" title="#abstract_class (instance method)">#<strong>abstract_class</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set this to true if this is an abstract class (see
<code>abstract_class?</code>).</p>
</div>
      </span>
    </li>
  </ul>


<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#abstract_class%3F-instance_method" title="#abstract_class? (instance method)">#<strong>abstract_class?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns whether this class is an abstract class or not.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#base_class-instance_method" title="#base_class (instance method)">#<strong>base_class</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the class descending directly from <a href="../Base.html" title="ActiveRecord::Base (class)">Base</a>, or an
abstract class, if any, in the inheritance hierarchy.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#descends_from_active_record%3F-instance_method" title="#descends_from_active_record? (instance method)">#<strong>descends_from_active_record?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if this does not need STI type condition.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>(*args, &amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Determines if one of the attributes passed in is the inheritance column,
and if the inheritance column is attr accessible, it initializes an
instance of the given subclass instead of the base class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sti_name-instance_method" title="#sti_name (instance method)">#<strong>sti_name</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#symbolized_base_class-instance_method" title="#symbolized_base_class (instance method)">#<strong>symbolized_base_class</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#symbolized_sti_name-instance_method" title="#symbolized_sti_name (instance method)">#<strong>symbolized_sti_name</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>

<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="abstract_class-instance_method">
  <h3 class='signature first'>
  #<strong>abstract_class</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set this to true if this is an abstract class (see
<code>abstract_class?</code>). If you are using inheritance with
ActiveRecord and don&#39;t want child classes to utilize the implied STI
table name of the parent class, this will need to be true. For example,
given the following:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>SuperClass</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_abstract_class'>abstract_class</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>Child</span> <span class='op'>&lt;</span> <span class='const'>SuperClass</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>the_table_i_really_want</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</code></pre>

<p><code>self.abstract_class = true</code> is required to make
<code>Child&lt;.find,.create, or any Arel method&gt;</code> use
<code>the_table_i_really_want</code> instead of a table called
<code>super_classes</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


127</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 127</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:abstract_class</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="abstract_class?-instance_method">
  <h3 class='signature first'>
  #<strong>abstract_class?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns whether this class is an abstract class or not.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


130
131
132</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_abstract_class?'>abstract_class?</span>
  <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@abstract_class</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@abstract_class</span> <span class='op'>==</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="base_class-instance_method">
  <h3 class='signature'>
  #<strong>base_class</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the class descending directly from <a href="../Base.html" title="ActiveRecord::Base (class)">Base</a>, or an
abstract class, if any, in the inheritance hierarchy.</p>

<p>If A extends <code>AR::Base</code>, A.base_class will return A. If B descends from A
through some arbitrarily deep hierarchy, B.base_class will return A.</p>

<p>If B &lt; A and C &lt; B and if A is an abstract_class then both
B.base_class and C.base_class would return B as the answer since A is an
abstract_class.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


100
101
102
103
104
105
106
107
108
109
110</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_base_class'>base_class</span>
  <span class='kw'>unless</span> <span class='kw'>self</span> <span class='op'>&lt;</span> <span class='const'>Base</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecordError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> doesn&#39;t belong in a hierarchy descending from ActiveRecord</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>==</span> <span class='const'>Base</span> <span class='op'>||</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_abstract_class?'>abstract_class?</span>
    <span class='kw'>self</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="descends_from_active_record?-instance_method">
  <h3 class='signature'>
  #<strong>descends_from_active_record?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if this does not need STI type condition. Returns
<code>false</code> if STI type condition needs to be applied.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


67
68
69
70
71
72
73
74
75</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_descends_from_active_record?'>descends_from_active_record?</span>
  <span class='kw'>if</span> <span class='kw'>self</span> <span class='op'>==</span> <span class='const'>Base</span>
    <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_abstract_class?'>abstract_class?</span>
    <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_descends_from_active_record?'>descends_from_active_record?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>==</span> <span class='const'>Base</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_columns_hash'>columns_hash</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_inheritance_column'>inheritance_column</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="new-instance_method">
  <h3 class='signature'>
  #<strong>new</strong>(*args, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Determines if one of the attributes passed in is the inheritance column,
and if the inheritance column is attr accessible, it initializes an
instance of the given subclass instead of the base class.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_abstract_class?'>abstract_class?</span> <span class='op'>||</span> <span class='kw'>self</span> <span class='op'>==</span> <span class='const'>Base</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> is an abstract class and cannot be instantiated.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_subclass_from_attributes?'>subclass_from_attributes?</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_subclass'>subclass</span> <span class='op'>=</span> <span class='id identifier rubyid_subclass_from_attributes'>subclass_from_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_subclass'>subclass</span>
    <span class='id identifier rubyid_subclass'>subclass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sti_name-instance_method">
  <h3 class='signature'>
  #<strong>sti_name</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


134
135
136</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sti_name'>sti_name</span>
  <span class='id identifier rubyid_store_full_sti_class'>store_full_sti_class</span> <span class='op'>?</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>:</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_demodulize'>demodulize</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="symbolized_base_class-instance_method">
  <h3 class='signature'>
  #<strong>symbolized_base_class</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


82
83
84
85</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_symbolized_base_class'>symbolized_base_class</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`ActiveRecord::Base.symbolized_base_class` is deprecated and will be removed without replacement.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@symbolized_base_class</span> <span class='op'>||=</span> <span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="symbolized_sti_name-instance_method">
  <h3 class='signature'>
  #<strong>symbolized_sti_name</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


87
88
89
90</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activerecord/lib/active_record/inheritance.rb', line 87</span>

<span class='kw'>def</span> <span class='id identifier rubyid_symbolized_sti_name'>symbolized_sti_name</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`ActiveRecord::Base.symbolized_sti_name` is deprecated and will be removed without replacement.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@symbolized_sti_name</span> <span class='op'>||=</span> <span class='id identifier rubyid_sti_name'>sti_name</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>?</span> <span class='id identifier rubyid_sti_name'>sti_name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='op'>:</span> <span class='id identifier rubyid_symbolized_base_class'>symbolized_base_class</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>