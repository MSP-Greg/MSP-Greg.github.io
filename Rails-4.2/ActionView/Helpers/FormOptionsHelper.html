<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::FormOptionsHelper &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::FormOptionsHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-4.2.7</a> &raquo; 
          <a href='../../_index.html'>Index (F)</a> &raquo; 
          <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
          <a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
          <span class='title'>FormOptionsHelper</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActionView::Helpers::FormOptionsHelper</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)">TextHelper</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Included in:</td>
    <td><a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a>, <a href="Tags/Base.html" title="ActionView::Helpers::Tags::Base (class)">Tags::Base</a>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L93'>actionview/lib/action_view/helpers/form_options_helper.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Provides a number of methods for turning different kinds of containers into
a set of option tags.</p>

<p>The <code>collection_select</code>, <code>select</code> and
<code>time_zone_select</code> methods take an <code>options</code>
parameter, a hash:</p>
<ul><li>
<p><code>:include_blank</code> - set to true or a prompt string if the first
option element of the select element is a blank. Useful if there is not a
default value required for the select element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>category</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Post</span><span class='op'>::</span><span class='const'>CATEGORIES</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>include_blank:</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>could become:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[category]&quot;&gt;
  &lt;option&gt;&lt;/option&gt;
  &lt;option&gt;joke&lt;/option&gt;
  &lt;option&gt;poem&lt;/option&gt;
&lt;/select&gt;</code></pre>

<p>Another common case is a select tag for a
<code>belongs_to</code>-associated object.</p>

<p>Example with <code>@post.person_id =&gt; 2</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person_id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>include_blank:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>None</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>could become:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[person_id]&quot;&gt;
  &lt;option value=&quot;&quot;&gt;None&lt;/option&gt;
  &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot; selected=&quot;selected&quot;&gt;Sam&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Tobias&lt;/option&gt;
&lt;/select&gt;</code></pre>
</li><li>
<p><code>:prompt</code> - set to true or a prompt string. When the select
element doesn&#39;t have a value yet, this prepends an option with a
generic prompt – “Please select” – or the given prompt string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person_id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>prompt:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Select Person</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>could become:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[person_id]&quot;&gt;
  &lt;option value=&quot;&quot;&gt;Select Person&lt;/option&gt;
  &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot;&gt;Sam&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Tobias&lt;/option&gt;
&lt;/select&gt;</code></pre>
</li><li>
<p><code>:index</code> - like the other form helpers, <code>select</code> can
accept an <code>:index</code> option to manually set the ID used in the
resulting output. Unlike other helpers, <code>select</code> expects this
option to be in the <code>html_options</code> parameter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>album[]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>genre</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>rap</span><span class='words_sep'> </span><span class='tstring_content'>rock</span><span class='words_sep'> </span><span class='tstring_content'>country</span><span class='words_sep'>]</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>index:</span> <span class='kw'>nil</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>becomes:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;album[][genre]&quot; id=&quot;album__genre&quot;&gt;
  &lt;option value=&quot;rap&quot;&gt;rap&lt;/option&gt;
  &lt;option value=&quot;rock&quot;&gt;rock&lt;/option&gt;
  &lt;option value=&quot;country&quot;&gt;country&lt;/option&gt;
&lt;/select&gt;</code></pre>
</li><li>
<p><code>:disabled</code> - can be a single value or an array of values that
will be disabled options in the final output.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>category</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Post</span><span class='op'>::</span><span class='const'>CATEGORIES</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>restricted</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>could become:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[category]&quot;&gt;
  &lt;option&gt;&lt;/option&gt;
  &lt;option&gt;joke&lt;/option&gt;
  &lt;option&gt;poem&lt;/option&gt;
  &lt;option disabled=&quot;disabled&quot;&gt;restricted&lt;/option&gt;
&lt;/select&gt;</code></pre>

<p>When used with the <code>collection_select</code> helper,
<code>:disabled</code> can also be a Proc that identifies those options
that should be disabled.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_select'>collection_select</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:category_id</span><span class='comma'>,</span> <span class='const'>Category</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>disabled:</span> <span class='id identifier rubyid_lambda'>lambda</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_category'>category</span><span class='op'>|</span> <span class='id identifier rubyid_category'>category</span><span class='period'>.</span><span class='id identifier rubyid_archived?'>archived?</span> <span class='rbrace'>}</span><span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>If the categories “2008 stuff” and “Christmas” return true when the method
<code>archived?</code> is called, this would return:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[category_id]&quot;&gt;
  &lt;option value=&quot;1&quot; disabled=&quot;disabled&quot;&gt;2008 stuff&lt;/option&gt;
  &lt;option value=&quot;2&quot; disabled=&quot;disabled&quot;&gt;Christmas&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Jokes&lt;/option&gt;
  &lt;option value=&quot;4&quot;&gt;Poems&lt;/option&gt;
&lt;/select&gt;</code></pre>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">TagHelper::BOOLEAN_ATTRIBUTES</a>, <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">TagHelper::PRE_CONTENT_STRINGS</a>, <a href="TagHelper.html#TAG_PREFIXES-constant" title="ActionView::Helpers::TagHelper::TAG_PREFIXES (constant)">TagHelper::TAG_PREFIXES</a></p>



<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#collection_check_boxes-instance_method" title="#collection_check_boxes (instance method)">#<strong>collection_check_boxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns check box tags for the collection of existing return values of
<code>method</code> for <code>object</code>&#39;s class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collection_radio_buttons-instance_method" title="#collection_radio_buttons (instance method)">#<strong>collection_radio_buttons</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns radio button tags for the collection of existing return values of
<code>method</code> for <code>object</code>&#39;s class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collection_select-instance_method" title="#collection_select (instance method)">#<strong>collection_select</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>&lt;select&gt;</code> and <code>&lt;option&gt;</code> tags
for the collection of existing return values of <code>method</code> for
<code>object</code>&#39;s class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grouped_collection_select-instance_method" title="#grouped_collection_select (instance method)">#<strong>grouped_collection_select</strong>(object, method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code> and
<code>&lt;option&gt;</code> tags for the collection of existing return
values of <code>method</code> for <code>object</code>&#39;s class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grouped_options_for_select-instance_method" title="#grouped_options_for_select (instance method)">#<strong>grouped_options_for_select</strong>(grouped_options, selected_key = nil, options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string of <code>&lt;option&gt;</code> tags, like
<code>options_for_select</code>, but wraps them with
<code>&lt;optgroup&gt;</code> tags:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#option_groups_from_collection_for_select-instance_method" title="#option_groups_from_collection_for_select (instance method)">#<strong>option_groups_from_collection_for_select</strong>(collection, group_method, group_label_method, option_key_method, option_value_method, selected_key = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string of <code>&lt;option&gt;</code> tags, like
<code>options_from_collection_for_select</code>, but groups them by
<code>&lt;optgroup&gt;</code> tags based on the object relationships of the
arguments.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options_for_select-instance_method" title="#options_for_select (instance method)">#<strong>options_for_select</strong>(container, selected = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Accepts a container (hash, array, enumerable, your type) and returns a
string of option tags.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options_from_collection_for_select-instance_method" title="#options_from_collection_for_select (instance method)">#<strong>options_from_collection_for_select</strong>(collection, value_method, text_method, selected = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string of option tags that have been compiled by iterating over
the <code>collection</code> and assigning the result of a call to the
<code>value_method</code> as the option value and the
<code>text_method</code> as the option text.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(object, method, choices = nil, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Create a select tag and a series of contained option tags for the provided
object and method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#time_zone_options_for_select-instance_method" title="#time_zone_options_for_select (instance method)">#<strong>time_zone_options_for_select</strong>(selected = nil, priority_zones = nil, model = ::ActiveSupport::TimeZone)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string of option tags for pretty much any time zone in the world.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#time_zone_select-instance_method" title="#time_zone_select (instance method)">#<strong>time_zone_select</strong>(object, method, priority_zones = nil, options = {}, html_options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns select and option tags for the given object and method, using
<a href="#time_zone_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_options_for_select (method)">#time_zone_options_for_select</a> to generate the list of option tags.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)">TextHelper</a></h3>
  <p class="inherited"><a href="TextHelper.html#concat-instance_method" title="ActionView::Helpers::TextHelper#concat (method)">#concat</a>, <a href="TextHelper.html#current_cycle-instance_method" title="ActionView::Helpers::TextHelper#current_cycle (method)">#current_cycle</a>, <a href="TextHelper.html#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">#cycle</a>, <a href="TextHelper.html#excerpt-instance_method" title="ActionView::Helpers::TextHelper#excerpt (method)">#excerpt</a>, <a href="TextHelper.html#highlight-instance_method" title="ActionView::Helpers::TextHelper#highlight (method)">#highlight</a>, <a href="TextHelper.html#pluralize-instance_method" title="ActionView::Helpers::TextHelper#pluralize (method)">#pluralize</a>, <a href="TextHelper.html#reset_cycle-instance_method" title="ActionView::Helpers::TextHelper#reset_cycle (method)">#reset_cycle</a>, <a href="TextHelper.html#safe_concat-instance_method" title="ActionView::Helpers::TextHelper#safe_concat (method)">#safe_concat</a>, <a href="TextHelper.html#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">#simple_format</a>, <a href="TextHelper.html#truncate-instance_method" title="ActionView::Helpers::TextHelper#truncate (method)">#truncate</a>, <a href="TextHelper.html#word_wrap-instance_method" title="ActionView::Helpers::TextHelper#word_wrap (method)">#word_wrap</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></h3>
  <p class="inherited"><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">#append_features</a>, <a href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">#class_methods</a>, <a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">.extended</a>, <a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">#included</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a></h3>
  <p class="inherited"><a href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a>, <a href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a>, <a href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a>, <a href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a>, <a href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a></h3>
  <p class="inherited"><a href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a>, <a href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a>, <a href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a>, <a href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a>, <a href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)">SanitizeHelper</a></h3>
  <p class="inherited"><a href="SanitizeHelper.html#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">#sanitize</a>, <a href="SanitizeHelper.html#sanitize_css-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize_css (method)">#sanitize_css</a>, <a href="SanitizeHelper.html#strip_links-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_links (method)">#strip_links</a>, <a href="SanitizeHelper.html#strip_tags-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_tags (method)">#strip_tags</a></p>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="collection_check_boxes-instance_method">
  <h3 class='signature first'>
  #<strong>collection_check_boxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns check box tags for the collection of existing return values of
<code>method</code> for <code>object</code>&#39;s class. The value returned
from calling <code>method</code> on the instance <code>object</code> will
be selected. If calling <code>method</code> returns <code>nil</code>, no
selection is made.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are
methods to be called on each member of <code>collection</code>. The return
values are used as the <code>value</code> attribute and contents of each
check box tag, respectively. They can also be any object that responds to
<code>call</code>, such as a <code>proc</code>, that will be called for
each member of the <code>collection</code> to retrieve the value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_and_belongs_to_many'>has_and_belongs_to_many</span> <span class='symbol'>:authors</span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_and_belongs_to_many'>has_and_belongs_to_many</span> <span class='symbol'>:posts</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post,
<code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_ids</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span>
</code></pre>

<p>If <code>@post.author_ids</code> is already <code>[1]</code>, this would
return:</p>

<pre class="code ruby"><code class="ruby">&lt;input id=&quot;post_author_ids_1&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;
&lt;label for=&quot;post_author_ids_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;
&lt;input id=&quot;post_author_ids_2&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;2&quot; /&gt;
&lt;label for=&quot;post_author_ids_2&quot;&gt;D. Thomas&lt;/label&gt;
&lt;input id=&quot;post_author_ids_3&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;3&quot; /&gt;
&lt;label for=&quot;post_author_ids_3&quot;&gt;M. Clark&lt;/label&gt;
&lt;input name=&quot;post[author_ids][]&quot; type=&quot;hidden&quot; value=&quot;&quot; /&gt;</code></pre>

<p>It is also possible to customize the way the elements will be shown by
giving a block to the method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_ids</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_check_box'>check_box</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>The argument passed to the block is a special kind of builder for this
collection, which has the ability to generate the label and check box for
the current item in the collection, with proper text and value. Using it,
you can change the label and check box display order or even use the label
as wrapper, as in the example above.</p>

<p>The builder methods <code>label</code> and <code>check_box</code> also
accept extra HTML options:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_ids</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>check_box</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_check_box'>check_box</span><span class='lparen'>(</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>check_box</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>There are also three special methods available: <code>object</code>,
<code>text</code> and <code>value</code>, which are the current item being
rendered, its text and value methods, respectively. You can use them like
this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_ids</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
   <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='symbol'>:data-value</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_check_box'>check_box</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L710'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


710
711
712</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 710</span>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionCheckBoxes.html" title="ActionView::Helpers::Tags::CollectionCheckBoxes (class)">CollectionCheckBoxes</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/Base.html#new-class_method" title="ActionView::Helpers::Tags::Base.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/Base.html#render-instance_method" title="ActionView::Helpers::Tags::Base#render (method)">render</a></span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collection_radio_buttons-instance_method">
  <h3 class='signature'>
  #<strong>collection_radio_buttons</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns radio button tags for the collection of existing return values of
<code>method</code> for <code>object</code>&#39;s class. The value returned
from calling <code>method</code> on the instance <code>object</code> will
be selected. If calling <code>method</code> returns <code>nil</code>, no
selection is made.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are
methods to be called on each member of <code>collection</code>. The return
values are used as the <code>value</code> attribute and contents of each
radio button tag, respectively. They can also be any object that responds
to <code>call</code>, such as a <code>proc</code>, that will be called for
each member of the <code>collection</code> to retrieve the value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:author</span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:posts</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post,
<code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span>
</code></pre>

<p>If <code>@post.author_id</code> is already <code>1</code>, this would
return:</p>

<pre class="code ruby"><code class="ruby">&lt;input id=&quot;post_author_id_1&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;
&lt;label for=&quot;post_author_id_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;
&lt;input id=&quot;post_author_id_2&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;2&quot; /&gt;
&lt;label for=&quot;post_author_id_2&quot;&gt;D. Thomas&lt;/label&gt;
&lt;input id=&quot;post_author_id_3&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;3&quot; /&gt;
&lt;label for=&quot;post_author_id_3&quot;&gt;M. Clark&lt;/label&gt;</code></pre>

<p>It is also possible to customize the way the elements will be shown by
giving a block to the method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_radio_button'>radio_button</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>The argument passed to the block is a special kind of builder for this
collection, which has the ability to generate the label and radio button
for the current item in the collection, with proper text and value. Using
it, you can change the label and radio button display order or even use the
label as wrapper, as in the example above.</p>

<p>The builder methods <code>label</code> and <code>radio_button</code> also
accept extra HTML options:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio_button</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_radio_button'>radio_button</span><span class='lparen'>(</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio_button</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>There are also three special methods available: <code>object</code>,
<code>text</code> and <code>value</code>, which are the current item being
rendered, its text and value methods, respectively. You can use them like
this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
   <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='symbol'>:data-value</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_radio_button'>radio_button</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L647'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


647
648
649</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 647</span>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionRadioButtons.html" title="ActionView::Helpers::Tags::CollectionRadioButtons (class)">CollectionRadioButtons</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/Base.html#new-class_method" title="ActionView::Helpers::Tags::Base.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/Base.html#render-instance_method" title="ActionView::Helpers::Tags::Base#render (method)">render</a></span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collection_select-instance_method">
  <h3 class='signature'>
  #<strong>collection_select</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>&lt;select&gt;</code> and <code>&lt;option&gt;</code> tags
for the collection of existing return values of <code>method</code> for
<code>object</code>&#39;s class. The value returned from calling
<code>method</code> on the instance <code>object</code> will be selected.
If calling <code>method</code> returns <code>nil</code>, no selection is
made without including <code>:prompt</code> or <code>:include_blank</code>
in the <code>options</code> hash.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are
methods to be called on each member of <code>collection</code>. The return
values are used as the <code>value</code> attribute and contents of each
<code>&lt;option&gt;</code> tag, respectively. They can also be any object
that responds to <code>call</code>, such as a <code>proc</code>, that will
be called for each member of the <code>collection</code> to retrieve the
value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:author</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:posts</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post,
<code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_select'>collection_select</span><span class='lparen'>(</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='const'>Author</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name_with_initial</span><span class='comma'>,</span> <span class='label'>prompt:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>If <code>@post.author_id</code> is already <code>1</code>, this would
return:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[author_id]&quot;&gt;
  &lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;
  &lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;D. Heinemeier Hansson&lt;/option&gt;
  &lt;option value=&quot;2&quot;&gt;D. Thomas&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;M. Clark&lt;/option&gt;
&lt;/select&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L201'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


201
202
203</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 201</span>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_select'>collection_select</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionSelect.html" title="ActionView::Helpers::Tags::CollectionSelect (class)">CollectionSelect</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/CollectionSelect.html#new-class_method" title="ActionView::Helpers::Tags::CollectionSelect.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/CollectionSelect.html#render-instance_method" title="ActionView::Helpers::Tags::CollectionSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grouped_collection_select-instance_method">
  <h3 class='signature'>
  #<strong>grouped_collection_select</strong>(object, method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code> and
<code>&lt;option&gt;</code> tags for the collection of existing return
values of <code>method</code> for <code>object</code>&#39;s class. The
value returned from calling <code>method</code> on the instance
<code>object</code> will be selected. If calling <code>method</code>
returns <code>nil</code>, no selection is made without including
<code>:prompt</code> or <code>:include_blank</code> in the
<code>options</code> hash.</p>

<p>Parameters:</p>
<ul><li>
<p><code>object</code> - The instance of the class to be used for the select
tag</p>
</li><li>
<p><code>method</code> - The attribute of <code>object</code> corresponding to
the select tag</p>
</li><li>
<p><code>collection</code> - An array of objects representing the
<code>&lt;optgroup&gt;</code> tags.</p>
</li><li>
<p><code>group_method</code> - The name of a method which, when called on a
member of <code>collection</code>, returns an array of child objects
representing the <code>&lt;option&gt;</code> tags.</p>
</li><li>
<p><code>group_label_method</code> - The name of a method which, when called
on a member of <code>collection</code>, returns a string to be used as the
<code>label</code> attribute for its <code>&lt;optgroup&gt;</code> tag.</p>
</li><li>
<p><code>option_key_method</code> - The name of a method which, when called on
a child object of a member of <code>collection</code>, returns a value to
be used as the <code>value</code> attribute for its
<code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>option_value_method</code> - The name of a method which, when called
on a child object of a member of <code>collection</code>, returns a value
to be used as the contents of its <code>&lt;option&gt;</code> tag.</p>
</li></ul>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Continent</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:countries</span>
  <span class='comment'># attribs: id, name
</span><span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Country</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:continent</span>
  <span class='comment'># attribs: id, name, continent_id
</span><span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>City</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:country</span>
  <span class='comment'># attribs: id, name, country_id
</span><span class='kw'>end</span>
</code></pre>

<p>Sample usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_collection_select'>grouped_collection_select</span><span class='lparen'>(</span><span class='symbol'>:city</span><span class='comma'>,</span> <span class='symbol'>:country_id</span><span class='comma'>,</span> <span class='ivar'>@continents</span><span class='comma'>,</span> <span class='symbol'>:countries</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='rparen'>)</span>
</code></pre>

<p>Possible output:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;city[country_id]&quot;&gt;
  &lt;optgroup label=&quot;Africa&quot;&gt;
    &lt;option value=&quot;1&quot;&gt;South Africa&lt;/option&gt;
    &lt;option value=&quot;3&quot;&gt;Somalia&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup label=&quot;Europe&quot;&gt;
    &lt;option value=&quot;7&quot; selected=&quot;selected&quot;&gt;Denmark&lt;/option&gt;
    &lt;option value=&quot;2&quot;&gt;Ireland&lt;/option&gt;
  &lt;/optgroup&gt;
&lt;/select&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L257'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


257
258
259</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_grouped_collection_select'>grouped_collection_select</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/GroupedCollectionSelect.html" title="ActionView::Helpers::Tags::GroupedCollectionSelect (class)">GroupedCollectionSelect</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/GroupedCollectionSelect.html#new-class_method" title="ActionView::Helpers::Tags::GroupedCollectionSelect.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/GroupedCollectionSelect.html#render-instance_method" title="ActionView::Helpers::Tags::GroupedCollectionSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grouped_options_for_select-instance_method">
  <h3 class='signature'>
  #<strong>grouped_options_for_select</strong>(grouped_options, selected_key = nil, options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string of <code>&lt;option&gt;</code> tags, like
<code>options_for_select</code>, but wraps them with
<code>&lt;optgroup&gt;</code> tags:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> <span class='lbracket'>[</span>
 <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
   <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='comma'>,</span>
 <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Europe</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
   <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span>
<span class='rbracket'>]</span>
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='rparen'>)</span>

<span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Europe</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='rparen'>)</span>
</code></pre>

<p>Possible output:</p>

<pre class="code ruby"><code class="ruby">&lt;optgroup label=&quot;North America&quot;&gt;
  &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;
  &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;
&lt;/optgroup&gt;
&lt;optgroup label=&quot;Europe&quot;&gt;
  &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
  &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;
  &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;
&lt;/optgroup&gt;</code></pre>

<p>Parameters:</p>
<ul><li>
<p><code>grouped_options</code> - Accepts a nested array or hash of strings.
The first value serves as the <code>&lt;optgroup&gt;</code> label while the
second value must be an array of options. The second value can be a nested
array of text-value pairs. See <code>options_for_select</code> for more
info.</p>

<pre class="code ruby"><code class="ruby">Ex. [&quot;North America&quot;,[[&quot;United States&quot;,&quot;US&quot;],[&quot;Canada&quot;,&quot;CA&quot;]]]</code></pre>
</li><li>
<p><code>selected_key</code> - A value equal to the <code>value</code>
attribute for one of the <code>&lt;option&gt;</code> tags, which will have
the <code>selected</code> attribute set. Note: It is possible for this
value to match multiple options as you might have the same option in
multiple groups. Each will then get
<code>selected=&quot;selected&quot;</code>.</p>
</li></ul>

<p>Options:</p>
<ul><li>
<p><code>:prompt</code> - set to true or a prompt string. When the select
element doesn&#39;t have a value yet, this prepends an option with a
generic prompt - “Please select” - or the given prompt string.</p>
</li><li>
<p><code>:divider</code> - the divider for the options groups.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> <span class='lbracket'>[</span>
  <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='rbracket'>]</span>
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>divider:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>---------</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Possible output:</p>

<pre class="code ruby"><code class="ruby">&lt;optgroup label=&quot;---------&quot;&gt;
  &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;
  &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;
&lt;/optgroup&gt;
&lt;optgroup label=&quot;---------&quot;&gt;
  &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
  &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;
  &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;
&lt;/optgroup&gt;</code></pre>
</li></ul>

<p><strong>Note:</strong> Only the <code>&lt;optgroup&gt;</code> and
<code>&lt;option&gt;</code> tags are returned, so you still have to wrap
the output in an appropriate <code>&lt;select&gt;</code> tag.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L524'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 524</span>

<span class='kw'>def</span> <span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_prompt'>prompt</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prompt</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_divider'>divider</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:divider</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_prompt'>prompt</span>
    <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='symbol'>:option</span><span class='comma'>,</span> <span class='id identifier rubyid_prompt_text'>prompt_text</span><span class='lparen'>(</span><span class='id identifier rubyid_prompt'>prompt</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_option_html_attributes'>option_html_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_container'>container</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_divider'>divider</span>
      <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_divider'>divider</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>label:</span> <span class='id identifier rubyid_label'>label</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='symbol'>:optgroup</span><span class='comma'>,</span> <span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_body'>body</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="option_groups_from_collection_for_select-instance_method">
  <h3 class='signature'>
  #<strong>option_groups_from_collection_for_select</strong>(collection, group_method, group_label_method, option_key_method, option_value_method, selected_key = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string of <code>&lt;option&gt;</code> tags, like
<code>options_from_collection_for_select</code>, but groups them by
<code>&lt;optgroup&gt;</code> tags based on the object relationships of the
arguments.</p>

<p>Parameters:</p>
<ul><li>
<p><code>collection</code> - An array of objects representing the
<code>&lt;optgroup&gt;</code> tags.</p>
</li><li>
<p><code>group_method</code> - The name of a method which, when called on a
member of <code>collection</code>, returns an array of child objects
representing the <code>&lt;option&gt;</code> tags.</p>
</li><li>
<p><code>group_label_method</code> - The name of a method which, when called
on a member of <code>collection</code>, returns a string to be used as the
<code>label</code> attribute for its <code>&lt;optgroup&gt;</code> tag.</p>
</li><li>
<p><code>option_key_method</code> - The name of a method which, when called on
a child object of a member of <code>collection</code>, returns a value to
be used as the <code>value</code> attribute for its
<code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>option_value_method</code> - The name of a method which, when called
on a child object of a member of <code>collection</code>, returns a value
to be used as the contents of its <code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>selected_key</code> - A value equal to the <code>value</code>
attribute for one of the <code>&lt;option&gt;</code> tags, which will have
the <code>selected</code> attribute set. Corresponds to the return value of
one of the calls to <code>option_key_method</code>. If <code>nil</code>, no
selection is made. Can also be a hash if disabled values are to be
specified.</p>
</li></ul>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Continent</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:countries</span>
  <span class='comment'># attribs: id, name
</span><span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Country</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:continent</span>
  <span class='comment'># attribs: id, name, continent_id
</span><span class='kw'>end</span>
</code></pre>

<p>Sample usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_option_groups_from_collection_for_select'>option_groups_from_collection_for_select</span><span class='lparen'>(</span><span class='ivar'>@continents</span><span class='comma'>,</span> <span class='symbol'>:countries</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>
</code></pre>

<p>Possible output:</p>

<pre class="code ruby"><code class="ruby">&lt;optgroup label=&quot;Africa&quot;&gt;
  &lt;option value=&quot;1&quot;&gt;Egypt&lt;/option&gt;
  &lt;option value=&quot;4&quot;&gt;Rwanda&lt;/option&gt;
  #...
&lt;/optgroup&gt;
&lt;optgroup label=&quot;Asia&quot;&gt;
  &lt;option value=&quot;3&quot; selected=&quot;selected&quot;&gt;China&lt;/option&gt;
  &lt;option value=&quot;12&quot;&gt;India&lt;/option&gt;
  &lt;option value=&quot;5&quot;&gt;Japan&lt;/option&gt;
  #...
&lt;/optgroup&gt;</code></pre>

<p><strong>Note:</strong> Only the <code>&lt;optgroup&gt;</code> and
<code>&lt;option&gt;</code> tags are returned, so you still have to wrap
the output in an appropriate <code>&lt;select&gt;</code> tag.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L454'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


454
455
456
457
458
459
460
461</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 454</span>

<span class='kw'>def</span> <span class='id identifier rubyid_option_groups_from_collection_for_select'>option_groups_from_collection_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
    <span class='id identifier rubyid_option_tags'>option_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span>
      <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_group_method'>group_method</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='symbol'>:optgroup</span><span class='comma'>,</span> <span class='id identifier rubyid_option_tags'>option_tags</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options_for_select-instance_method">
  <h3 class='signature'>
  #<strong>options_for_select</strong>(container, selected = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Accepts a container (hash, array, enumerable, your type) and returns a
string of option tags. Given a container where the elements respond to
first and last (such as a two-element array), the “lasts” serve as option
values and the “firsts” as option text. Hashes are turned into this form
automatically, so the keys become “firsts” and values become lasts. If
<code>selected</code> is specified, the matching “last” or element will get
the selected option-tag. <code>selected</code> may also be an array of
values to be selected when using a multiple select.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dollar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Kroner</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DKK</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;$&quot;&gt;Dollar&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;DKK&quot;&gt;Kroner&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option&gt;VISA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option selected=&quot;selected&quot;&gt;MasterCard&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$20</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Plus</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$40</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$40</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;$20&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;$40&quot; selected=&quot;selected&quot;&gt;Plus&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Discover</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Discover</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option selected=&quot;selected&quot;&gt;VISA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option&gt;MasterCard&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option selected=&quot;selected&quot;&gt;Discover&lt;/option&gt;
</span></code></pre>

<p>You can optionally provide HTML attributes as the last element of the
array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bold</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sweden</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sweden</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;USA&quot; class=&quot;bold&quot; selected=&quot;selected&quot;&gt;USA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Sweden&quot; selected=&quot;selected&quot;&gt;Sweden&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dollar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bold</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Kroner</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DKK</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>onclick:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>alert(&#39;HI&#39;);</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;$&quot; class=&quot;bold&quot;&gt;Dollar&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;DKK&quot; onclick=&quot;alert(&#39;HI&#39;);&quot;&gt;Kroner&lt;/option&gt;
</span></code></pre>

<p>If you wish to specify disabled option tags, set <code>selected</code> to
be a hash, with <code>:disabled</code> being either a value or array of
values to be disabled. In this case, you can use <code>:selected</code> to
specify selected option tags.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot; disabled=&quot;disabled&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>selected:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot; selected=&quot;selected&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;
</span></code></pre>

<p>NOTE: Only the option tags are returned, you have to wrap this call in a
regular HTML select tag.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L350'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 350</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>if</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span> <span class='op'>===</span> <span class='id identifier rubyid_container'>container</span>

  <span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_selected_and_disabled'>extract_selected_and_disabled</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_option_html_attributes'>option_html_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_option_text_and_value'>option_text_and_value</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='lbracket'>[</span><span class='symbol'>:selected</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_option_value_selected?'>option_value_selected?</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='lbracket'>[</span><span class='symbol'>:disabled</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_option_value_selected?'>option_value_selected?</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>

    <span class='id identifier rubyid_content_tag_string'>content_tag_string</span><span class='lparen'>(</span><span class='symbol'>:option</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_html_attributes'>html_attributes</span><span class='rparen'>)</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options_from_collection_for_select-instance_method">
  <h3 class='signature'>
  #<strong>options_from_collection_for_select</strong>(collection, value_method, text_method, selected = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string of option tags that have been compiled by iterating over
the <code>collection</code> and assigning the result of a call to the
<code>value_method</code> as the option value and the
<code>text_method</code> as the option text.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span><span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;option value=&quot;#{person.id}&quot;&gt;#{person.name}&lt;/option&gt;
</span></code></pre>

<p>This is more often than not used inside a <a href="FormTagHelper.html#select_tag-instance_method" title="ActionView::Helpers::FormTagHelper#select_tag (method)">ActionView::Helpers::FormTagHelper#select_tag</a> like this example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select_tag'>select_tag</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span><span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>If <code>selected</code> is specified as a value or array of values, the
element(s) returning a match on <code>value_method</code> will be selected
option tag(s).</p>

<p>If <code>selected</code> is specified as a Proc, those members of the
collection that return true for the anonymous function are the selected
values.</p>

<p><code>selected</code> can also be a hash, specifying both
<code>:selected</code> and/or <code>:disabled</code> values as required.</p>

<p>Be sure to specify the same class as the <code>value_method</code> when
specifying selected or disabled options. Failure to do this will produce
undesired results. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span><span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Will not select a person with the id of 1 because 1 (an Integer) is not the
same as &#39;1&#39; (a string)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span><span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
</code></pre>

<p>should produce the desired results.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L393'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


393
394
395
396
397
398
399
400
401
402
403
404</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 393</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_collection'>collection</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_value_for_collection'>value_for_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_value_for_collection'>value_for_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_option_html_attributes'>option_html_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_selected_and_disabled'>extract_selected_and_disabled</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_select_deselect'>select_deselect</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>selected:</span> <span class='id identifier rubyid_extract_values_from_collection'>extract_values_from_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>disabled:</span> <span class='id identifier rubyid_extract_values_from_collection'>extract_values_from_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_select_deselect'>select_deselect</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  #<strong>select</strong>(object, method, choices = nil, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a select tag and a series of contained option tags for the provided
object and method. The option currently held by the object will be
selected, provided that the object is available.</p>

<p>There are two possible formats for the <code>choices</code> parameter,
corresponding to other helpers&#39; output:</p>
<ul><li>
<p>A flat collection (see <code>options_for_select</code>).</p>
</li><li>
<p>A nested collection (see <code>grouped_options_for_select</code>).</p>
</li></ul>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person_id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>include_blank:</span> <span class='kw'>true</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>would become:</p>

<pre class="code ruby"><code class="ruby">&lt;select name=&quot;post[person_id]&quot;&gt;
  &lt;option value=&quot;&quot;&gt;&lt;/option&gt;
  &lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot;&gt;Sam&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Tobias&lt;/option&gt;
&lt;/select&gt;</code></pre>

<p>assuming the associated person has ID 1.</p>

<p>This can be used to provide a default set of options in the standard way:
before rendering the create form, a new model instance is assigned the
default options and bound to @model_name. Usually this model is not saved
to the database. Instead, a second model object is created when the create
request is received. This allows the user to submit a form page more than
once with the expected results of creating multiple records. In addition,
this allows a single partial to be used to generate form inputs for both
edit and create forms.</p>

<p>By default, <code>post.person_id</code> is the selected option. Specify
<code>selected: value</code> to use a different selection or
<code>selected: nil</code> to leave all options unselected. Similarly, you
can specify values to be disabled in the option tags by specifying the
<code>:disabled</code> option. This can either be a single value or an
array of values to be disabled.</p>

<p>A block can be passed to <code>select</code> to customize how the options
tags will be rendered. This is useful when the options tag has complex
attributes.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='id identifier rubyid_report'>report</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>campaign_ids</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_available_campaigns'>available_campaigns</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='symbol'>:option</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='label'>data:</span> <span class='lbrace'>{</span> <span class='label'>tags:</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h4 id="label-Gotcha">Gotcha</h4>

<p>The HTML specification says when <code>multiple</code> parameter passed to
select and all options got deselected web browsers do not send any value to
server. Unfortunately this introduces a gotcha: if an <code>User</code>
model has many <code>roles</code> and have <code>role_ids</code> accessor,
and in the form that edits roles of the user the user deselects all roles
from <code>role_ids</code> multiple select box, no <code>role_ids</code>
parameter is sent. So, any mass-assignment idiom like</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@user</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:user</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>wouldn&#39;t update roles.</p>

<p>To prevent this the helper generates an auxiliary hidden field before every
multiple select. The hidden field has the same name as multiple select and
blank value.</p>

<p><strong>Note:</strong> The client either sends only the hidden field
(representing the deselected multiple select box), or both fields. This
means that the resulting array always contains a blank string.</p>

<p>In case if you don&#39;t want the helper to generate this hidden field you
can specify <code>include_hidden: false</code> option.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L162'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


162
163
164</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_choices'>choices</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/Select.html" title="ActionView::Helpers::Tags::Select (class)">Select</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/Select.html#new-class_method" title="ActionView::Helpers::Tags::Select.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/Select.html#render-instance_method" title="ActionView::Helpers::Tags::Select#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="time_zone_options_for_select-instance_method">
  <h3 class='signature'>
  #<strong>time_zone_options_for_select</strong>(selected = nil, priority_zones = nil, model = ::ActiveSupport::TimeZone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string of option tags for pretty much any time zone in the world.
Supply a <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a> name as <code>selected</code> to have it
marked as the selected option tag. You can also supply an array of
<a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a> objects as <code>priority_zones</code>, so that
they will be listed above the rest of the (long) list. (You can use
<a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a>.us_zones as a convenience for obtaining a list of
the US time zones, or a Regexp to select the zones of your choice)</p>

<p>The <code>selected</code> parameter must be either <code>nil</code>, or a
string that names a <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a>.</p>

<p>By default, <code>model</code> is the <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a> constant
(which can be obtained in Active Record as a value object). The only
requirement is that the <code>model</code> parameter be an object that
responds to <code>all</code>, and returns an array of objects that
represent time zones.</p>

<p>NOTE: Only the option tags are returned, you have to wrap this call in a
regular HTML select tag.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L568'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 568</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_zone_options_for_select'>time_zone_options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_zone_options'>zone_options</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>

  <span class='id identifier rubyid_zones'>zones</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
  <span class='id identifier rubyid_convert_zones'>convert_zones</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span> <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_z'>z</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='id identifier rubyid_zones'>zones</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span> <span class='id identifier rubyid_z'>z</span> <span class='op'>=~</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_zone_options'>zone_options</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_convert_zones'>convert_zones</span><span class='lbracket'>[</span><span class='id identifier rubyid_priority_zones'>priority_zones</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_zone_options'>zone_options</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='symbol'>:option</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-------------</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_zone_options'>zone_options</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_zones'>zones</span> <span class='op'>=</span> <span class='id identifier rubyid_zones'>zones</span> <span class='op'>-</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_zone_options'>zone_options</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_options_for_select'>options_for_select</span><span class='lparen'>(</span><span class='id identifier rubyid_convert_zones'>convert_zones</span><span class='lbracket'>[</span><span class='id identifier rubyid_zones'>zones</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="time_zone_select-instance_method">
  <h3 class='signature'>
  #<strong>time_zone_select</strong>(object, method, priority_zones = nil, options = {}, html_options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns select and option tags for the given object and method, using
<a href="#time_zone_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_options_for_select (method)">#time_zone_options_for_select</a> to generate the list of option tags.</p>

<p>In addition to the <code>:include_blank</code> option documented above,
this method also supports a <code>:model</code> option, which defaults to
<a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a>. This may be used by users to specify a different
time zone model object. (See <code>time_zone_options_for_select</code> for
more information.)</p>

<p>You can also supply an array of <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a> objects as
<code>priority_zones</code>, so that they will be listed above the rest of
the (long) list. (You can use <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a>.us_zones as a
convenience for obtaining a list of the US time zones, or a Regexp to
select the zones of your choice)</p>

<p>Finally, this method supports a <code>:default</code> option, which selects
a default <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">ActiveSupport::TimeZone</a> if the object&#39;s time zone is
<code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>include_blank:</span> <span class='kw'>true</span><span class='rparen'>)</span>

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pacific Time (US &amp; Canada)</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span>

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='period'>.</span><span class='id identifier rubyid_us_zones'><a href="../../ActiveSupport/TimeZone.html#us_zones-class_method" title="ActiveSupport::TimeZone.us_zones (method)">us_zones</a></span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pacific Time (US &amp; Canada)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Alaska</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hawaii</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='rbracket'>]</span><span class='rparen'>)</span>

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Australia</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>time_zone</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='period'>.</span><span class='id identifier rubyid_all'><a href="../../ActiveSupport/TimeZone.html#all-class_method" title="ActiveSupport::TimeZone.all (method)">all</a></span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='label'>model:</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L290'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


290
291
292</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 290</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time_zone_select'>time_zone_select</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/TimeZoneSelect.html" title="ActionView::Helpers::Tags::TimeZoneSelect (class)">TimeZoneSelect</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Tags/TimeZoneSelect.html#new-class_method" title="ActionView::Helpers::Tags::TimeZoneSelect.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_render'><a href="Tags/TimeZoneSelect.html#render-instance_method" title="ActionView::Helpers::Tags::TimeZoneSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>