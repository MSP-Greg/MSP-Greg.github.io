<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::CaptureHelper &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::CaptureHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-4.2.7</a> &raquo; 
          <a href='../../_index.html'>Index (C)</a> &raquo; 
          <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
          <a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
          <span class='title'>CaptureHelper</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActionView::Helpers::CaptureHelper</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>




  <tr>
    <td class='box_1'>Included in:</td>
    <td><a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a>, <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L11'>actionview/lib/action_view/helpers/capture_helper.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>CaptureHelper exposes methods to let you extract generated markup which can
be used in other parts of a template or layout file.</p>

<p>It provides a method to capture blocks into variables through capture and a
way to capture a block of markup for use in a layout through content_for.</p>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#capture-instance_method" title="#capture (instance method)">#<strong>capture</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The capture method allows you to extract part of a template into a
variable.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#content_for-instance_method" title="#content_for (instance method)">#<strong>content_for</strong>(name, content = nil, options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calling content_for stores a block of markup in an identifier for later
use.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#content_for%3F-instance_method" title="#content_for? (instance method)">#<strong>content_for?</strong>(name)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>content_for? checks whether any content has been captured yet using
<code>content_for</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#provide-instance_method" title="#provide (instance method)">#<strong>provide</strong>(name, content = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The same as <code>content_for</code> but when used with streaming flushes
straight back to the layout.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with_output_buffer-instance_method" title="#with_output_buffer (instance method)">#<strong>with_output_buffer</strong>(buf = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Use an alternate output buffer for the duration of the block.</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="capture-instance_method">
  <h3 class='signature first'>
  #<strong>capture</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The capture method allows you to extract part of a template into a
variable. You can then use this variable anywhere in your templates or
layout.</p>

<p>The capture method can be used in ERB templates…</p>

<pre class="code ruby"><code class="ruby">&lt;% @greeting = capture do %&gt;
  Welcome to my shiny new web page!  The date and time is
  &lt;%= Time.now %&gt;
&lt;% end %&gt;</code></pre>

<p>…and Builder (RXML) templates.</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@timestamp</span> <span class='op'>=</span> <span class='id identifier rubyid_capture'>capture</span> <span class='kw'>do</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The current timestamp is </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Time.html" title="Time (class)">Time</a></span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>You can then use that variable anywhere else. For example:</p>

<pre class="code ruby"><code class="ruby">&lt;html&gt;
&lt;head&gt;&lt;title&gt;&lt;%= @greeting %&gt;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;b&gt;&lt;%= @greeting %&gt;&lt;/b&gt;
&lt;/body&gt;&lt;/html&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L36'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


36
37
38
39
40
41
42</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/capture_helper.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>=</span> <span class='id identifier rubyid_with_output_buffer'>with_output_buffer</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>and</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../String.html" title="String (class)">String</a></span><span class='rparen'>)</span>
    <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_html_escape'><a href="../../ERB/Util.html#html_escape-class_method" title="ERB::Util.html_escape (method)">html_escape</a></span> <span class='id identifier rubyid_string'>string</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="content_for-instance_method">
  <h3 class='signature'>
  #<strong>content_for</strong>(name, content = nil, options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calling content_for stores a block of markup in an identifier for later
use. In order to access this stored content in other templates, helper
modules or the layout, you would pass the identifier as an argument to
<code>content_for</code>.</p>

<p>Note: <code>yield</code> can still be used to retrieve the stored content,
but calling <code>yield</code> doesn&#39;t work in helper modules, while
<code>content_for</code> does.</p>

<pre class="code ruby"><code class="ruby">&lt;% content_for :not_authorized do %&gt;
  alert(&#39;You are not authorized to do that!&#39;)
&lt;% end %&gt;</code></pre>

<p>You can then use <code>content_for :not_authorized</code> anywhere in your
templates.</p>

<pre class="code ruby"><code class="ruby">&lt;%= content_for :not_authorized if current_user.nil? %&gt;</code></pre>

<p>This is equivalent to:</p>

<pre class="code ruby"><code class="ruby">&lt;%= yield :not_authorized if current_user.nil? %&gt;</code></pre>

<p><code>content_for</code>, however, can also be used in helper modules.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>StorageHelper</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_stored_content'>stored_content</span>
    <span class='id identifier rubyid_content_for'>content_for</span><span class='lparen'>(</span><span class='symbol'>:storage</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your storage is empty</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>This helper works just like normal helpers.</p>

<pre class="code ruby"><code class="ruby">&lt;%= stored_content %&gt;</code></pre>

<p>You can also use the <code>yield</code> syntax alongside an existing call
to <code>yield</code> in a layout. For example:</p>

<pre class="code ruby"><code class="ruby">&lt;%# This is the layout %&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;title&gt;My Website&lt;/title&gt;
  &lt;%= yield :script %&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;%= yield %&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>And now, we&#39;ll create a view that has a <code>content_for</code> call
that creates the <code>script</code> identifier.</p>

<pre class="code ruby"><code class="ruby">&lt;%# This is our view %&gt;
Please login!

&lt;% content_for :script do %&gt;
  &lt;script&gt;alert(&#39;You are not authorized to view this page!&#39;)&lt;/script&gt;
&lt;% end %&gt;</code></pre>

<p>Then, in another view, you could to do something like this:</p>

<pre class="code ruby"><code class="ruby">&lt;%= link_to &#39;Logout&#39;, action: &#39;logout&#39;, remote: true %&gt;

&lt;% content_for :script do %&gt;
  &lt;%= javascript_include_tag :defaults %&gt;
&lt;% end %&gt;</code></pre>

<p>That will place <code>script</code> tags for your default set of JavaScript
files on the page; this technique is useful if you&#39;ll only be using
these scripts in a few views.</p>

<p>Note that content_for concatenates (default) the blocks it is given for a
particular identifier in order. For example:</p>

<pre class="code ruby"><code class="ruby"> &lt;% content_for :navigation do %&gt;
   &lt;li&gt;&lt;%= link_to &#39;Home&#39;, action: &#39;index&#39; %&gt;&lt;/li&gt;
 &lt;% end %&gt;

And in other place:

 &lt;% content_for :navigation do %&gt;
   &lt;li&gt;&lt;%= link_to &#39;Login&#39;, action: &#39;login&#39; %&gt;&lt;/li&gt;
 &lt;% end %&gt;</code></pre>

<p>Then, in another template or layout, this code would render both links in
order:</p>

<pre class="code ruby"><code class="ruby">&lt;ul&gt;&lt;%= content_for :navigation %&gt;&lt;/ul&gt;</code></pre>

<p>If the flush parameter is true content_for replaces the blocks it is given.
For example:</p>

<pre class="code ruby"><code class="ruby">&lt;% content_for :navigation do %&gt;
  &lt;li&gt;&lt;%= link_to &#39;Home&#39;, action: &#39;index&#39; %&gt;&lt;/li&gt;
&lt;% end %&gt;

&lt;%#  Add some other content, or use a different template: %&gt;

&lt;% content_for :navigation, flush: true do %&gt;
  &lt;li&gt;&lt;%= link_to &#39;Login&#39;, action: &#39;login&#39; %&gt;&lt;/li&gt;
&lt;% end %&gt;</code></pre>

<p>Then, in another template or layout, this code would render only the last
link:</p>

<pre class="code ruby"><code class="ruby">&lt;ul&gt;&lt;%= content_for :navigation %&gt;&lt;/ul&gt;</code></pre>

<p>Lastly, simple content can be passed as a parameter:</p>

<pre class="code ruby"><code class="ruby">&lt;% content_for :script, javascript_include_tag(:defaults) %&gt;</code></pre>

<p>WARNING: content_for is ignored in caches. So you shouldn&#39;t use it for
elements that will be fragment cached.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L148'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/capture_helper.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_content_for'>content_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>||</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span> <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span>
      <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:flush</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='ivar'>@view_flow</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='ivar'>@view_flow</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='ivar'>@view_flow</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="content_for?-instance_method">
  <h3 class='signature'>
  #<strong>content_for?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>content_for? checks whether any content has been captured yet using
<code>content_for</code>. Useful to render parts of your layout differently
based on what is in your views.</p>

<pre class="code ruby"><code class="ruby">&lt;%# This is the layout %&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;title&gt;My Website&lt;/title&gt;
  &lt;%= yield :script %&gt;
&lt;/head&gt;
&lt;body class=&quot;&lt;%= content_for?(:right_col) ? &#39;two-column&#39; : &#39;one-column&#39; %&gt;&quot;&gt;
  &lt;%= yield %&gt;
  &lt;%= yield :right_col %&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L188'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


188
189
190</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/capture_helper.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_content_for?'>content_for?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@view_flow</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="provide-instance_method">
  <h3 class='signature'>
  #<strong>provide</strong>(name, content = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The same as <code>content_for</code> but when used with streaming flushes
straight back to the layout. In other words, if you want to concatenate
several times to the same buffer when rendering a given template, you
should use <code>content_for</code>, if not, use <code>provide</code> to
tell the layout to stop looking for more contents.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L168'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


168
169
170
171
172</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/capture_helper.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_provide'>provide</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='ivar'>@view_flow</span><span class='period'>.</span><span class='id identifier rubyid_append!'>append!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span>
  <span class='id identifier rubyid_result'>result</span> <span class='kw'>unless</span> <span class='id identifier rubyid_content'>content</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with_output_buffer-instance_method">
  <h3 class='signature'>
  #<strong>with_output_buffer</strong>(buf = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Use an alternate output buffer for the duration of the block. Defaults to a
new empty string.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/capture_helper.rb#L194'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


194
195
196
197
198
199
200
201
202
203
204
205
206</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'actionview/lib/action_view/helpers/capture_helper.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_output_buffer'>with_output_buffer</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_buf'>buf</span>
    <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='const'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span><span class='op'>::</span><span class='const'><a href="../OutputBuffer.html" title="ActionView::OutputBuffer (class)">OutputBuffer</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../OutputBuffer.html#new-class_method" title="ActionView::OutputBuffer.new (method)">new</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_output_buffer'>output_buffer</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_output_buffer'>output_buffer</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:encoding</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_buf'>buf</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_output_buffer'>output_buffer</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output_buffer'>output_buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_old_buffer'>old_buffer</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span><span class='comma'>,</span> <span class='id identifier rubyid_output_buffer'>output_buffer</span>
  <span class='kw'>yield</span>
  <span class='id identifier rubyid_output_buffer'>output_buffer</span>
<span class='kw'>ensure</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output_buffer'>output_buffer</span> <span class='op'>=</span> <span class='id identifier rubyid_old_buffer'>old_buffer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>