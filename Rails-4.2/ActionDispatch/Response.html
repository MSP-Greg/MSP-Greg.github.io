<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActionDispatch::Response &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionDispatch::Response",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Rails-4.2.7</a> &raquo; 
          <a href='../_index.html'>Index (R)</a> &raquo; 
        #  <a href="../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a> &raquo; 
          <span class='title'>Response</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: ActionDispatch::Response</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)">Object</a></li>
            <li class='next'>ActionDispatch::Response</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>

  <dl>
      <dt>Includes:</dt>
      <dd><a href="Http/Cache/Response.html" title="ActionDispatch::Http::Cache::Response (module)">Http::Cache::Response</a>, <a href="Http/FilterRedirect.html" title="ActionDispatch::Http::FilterRedirect (module)">Http::FilterRedirect</a>, MonitorMixin, Rack::Response::Helpers</dd>
  </dl>


  <dl>
    <dt>Defined in:</dt>
    <dd>actionpack/lib/action_dispatch/http/response.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Represents an HTTP response generated by a controller action. Use it to
retrieve the current state of the response, or customize the response. It
can either represent a real HTTP response (i.e. one that is meant to be
sent back to the web browser) or a TestResponse (i.e. one that is generated
from integration tests).</p>

<p>Response is mostly a Ruby on Rails framework implementation detail, and
should never be used directly in controllers. Controllers should use the
methods defined in <a href="../ActionController/Base.html" title="ActionController::Base (class)">ActionController::Base</a> instead. For example, if you
want to set the HTTP response&#39;s content MIME type, then use
<code>ActionControllerBase#headers</code> instead of <a href="#headers-instance_method" title="ActionDispatch::Response#headers (method)">#headers</a>.</p>

<p>Nevertheless, integration tests may want to inspect controller responses in
more detail, and that&#39;s when Response can be useful for application
developers. Integration test methods such as
<a href="Integration.html" title="ActionDispatch::Integration (module)">Integration</a>::Session#get and
<a href="Integration.html" title="ActionDispatch::Integration (module)">Integration</a>::Session#post return objects of type
TestResponse (which are of course also of type Response).</p>

<p>For example, the following demo integration test prints the body of the
controller response to the console:</p>

<pre class="code ruby"><code class="ruby">class DemoControllerTest &lt; {ActionDispatch::IntegrationTest}
  def test_print_root_path_to_console
    get(&#39;/&#39;)
    puts response.body
  end
end</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><a href="../ActionController/Live/Response.html" title="ActionController::Live::Response (class)">ActionController::Live::Response</a>, <a href="TestResponse.html" title="ActionDispatch::TestResponse (class)">TestResponse</a></p>
</div>

<h2>Defined Under Namespace</h2>

  <p class='children'><strong class='classes'>Classes:</strong>
    <a href="Response/Buffer.html" title="ActionDispatch::Response::Buffer (class)">Buffer</a>,
    <a href="Response/RackBody.html" title="ActionDispatch::Response::RackBody (class)">RackBody</a>
  </p>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='CONTENT_TYPE-constant'>
      CONTENT_TYPE =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='EMPTY-constant'>
      EMPTY =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='LOCATION-constant'>
      LOCATION =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Location</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='NO_CONTENT_CODES-constant'>
      NO_CONTENT_CODES =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='int'>204</span><span class='comma'>,</span> <span class='int'>304</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='SET_COOKIE-constant'>
      SET_COOKIE =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Set-Cookie</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <a href="Http/FilterRedirect.html" title="ActionDispatch::Http::FilterRedirect (module)">Http::FilterRedirect</a></h3>
  <p class="inherited"><a href="Http/FilterRedirect.html#FILTERED-constant" title="ActionDispatch::Http::FilterRedirect::FILTERED (constant)">Http::FilterRedirect::FILTERED</a></p>

<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#charset-instance_method" title="#charset (instance method)">#<strong>charset</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The charset of the response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#content_type-instance_method" title="#content_type (instance method)">#<strong>content_type</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the HTTP response&#39;s content MIME type.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#header-instance_method" title="#header (instance method)">#<strong>header</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Get and set headers for this response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request-instance_method" title="#request (instance method)">#<strong>request</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The request that the response is responding to.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sending_file%3D-instance_method" title="#sending_file= (instance method)">#<strong>sending_file</strong>  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#status-instance_method" title="#status (instance method)">#<strong>status</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The HTTP status code.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stream-instance_method" title="#stream (instance method)">#<strong>stream</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The underlying body, as a streamable object.</p>
</div>
      </span>
    </li>
  </ul>


  
  
  <h3 class="inherited">Attributes included from <a href="Http/Cache/Response.html" title="ActionDispatch::Http::Cache::Response (module)">Http::Cache::Response</a></h3>
  <p class="inherited"><a href="Http/Cache/Response.html#cache_control-instance_method" title="ActionDispatch::Http::Cache::Response#cache_control (method)">#cache_control</a>, <a href="Http/Cache/Response.html#etag-instance_method" title="ActionDispatch::Http::Cache::Response#etag (method)">#etag</a></p>

<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(status = 200, header = {}, body = [], options = {}) {|_self| ... } &#x21d2; Response </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>A new instance of Response</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#abort-instance_method" title="#abort (instance method)">#<strong>abort</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#await_commit-instance_method" title="#await_commit (instance method)">#<strong>await_commit</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#await_sent-instance_method" title="#await_sent (instance method)">#<strong>await_sent</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#body-instance_method" title="#body (instance method)">#<strong>body</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the content of the response as a string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#body%3D-instance_method" title="#body= (instance method)">#<strong>body=</strong>(body)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Allows you to manually set or override the response body.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#body_parts-instance_method" title="#body_parts (instance method)">#<strong>body_parts</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#code-instance_method" title="#code (instance method)">#<strong>code</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string to ensure compatibility with
<code>Net::HTTPResponse</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#commit%21-instance_method" title="#commit! (instance method)">#<strong>commit!</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#committed%3F-instance_method" title="#committed? (instance method)">#<strong>committed?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cookies-instance_method" title="#cookies (instance method)">#<strong>cookies</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the response cookies, converted to a Hash of (name =&gt; value)
pairs</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete_cookie-instance_method" title="#delete_cookie (instance method)">#<strong>delete_cookie</strong>(key, value = {})  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#headers-instance_method" title="#headers (instance method)">#<strong>headers</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Get and set headers for this response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#headers%3D-instance_method" title="#headers= (instance method)">#<strong>headers=</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Get and set headers for this response.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#location-instance_method" title="#location (instance method)">#<strong>location</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The location header we&#39;ll be responding with.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#location%3D-instance_method" title="#location= (instance method)">#<strong>location=</strong>(url)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the location header we&#39;ll be responding with.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#message-instance_method" title="#message (instance method)">#<strong>message</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the corresponding message for the current HTTP status code:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#prepare%21-instance_method" title="#prepare! (instance method)">#<strong>prepare!</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Turns the Response into a Rack-compatible array of the status, headers, and
body.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#redirect_url-instance_method" title="#redirect_url (instance method)">#<strong>redirect_url</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The location header we&#39;ll be responding with.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#response_code-instance_method" title="#response_code (instance method)">#<strong>response_code</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The response code of the request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sending%21-instance_method" title="#sending! (instance method)">#<strong>sending!</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sending%3F-instance_method" title="#sending? (instance method)">#<strong>sending?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sent%21-instance_method" title="#sent! (instance method)">#<strong>sent!</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sent%3F-instance_method" title="#sent? (instance method)">#<strong>sent?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_cookie-instance_method" title="#set_cookie (instance method)">#<strong>set_cookie</strong>(key, value)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#status_message-instance_method" title="#status_message (instance method)">#<strong>status_message</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the corresponding message for the current HTTP status code:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Turns the Response into a Rack-compatible array of the status, headers, and
body.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_ary-instance_method" title="#to_ary (instance method)">#<strong>to_ary</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Be super clear that a response object is not an Array.</p>
</div>
      </span>
    </li>
  </ul>


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Http/Cache/Response.html" title="ActionDispatch::Http::Cache::Response (module)">Http::Cache::Response</a></h3>
  <p class="inherited"><a href="Http/Cache/Response.html#date-instance_method" title="ActionDispatch::Http::Cache::Response#date (method)">#date</a>, <a href="Http/Cache/Response.html#date%3D-instance_method" title="ActionDispatch::Http::Cache::Response#date= (method)">#date=</a>, <a href="Http/Cache/Response.html#date%3F-instance_method" title="ActionDispatch::Http::Cache::Response#date? (method)">#date?</a>, <a href="Http/Cache/Response.html#last_modified-instance_method" title="ActionDispatch::Http::Cache::Response#last_modified (method)">#last_modified</a>, <a href="Http/Cache/Response.html#last_modified%3D-instance_method" title="ActionDispatch::Http::Cache::Response#last_modified= (method)">#last_modified=</a>, <a href="Http/Cache/Response.html#last_modified%3F-instance_method" title="ActionDispatch::Http::Cache::Response#last_modified? (method)">#last_modified?</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Http/FilterRedirect.html" title="ActionDispatch::Http::FilterRedirect (module)">Http::FilterRedirect</a></h3>
  <p class="inherited"><a href="Http/FilterRedirect.html#filtered_location-instance_method" title="ActionDispatch::Http::FilterRedirect#filtered_location (method)">#filtered_location</a></p>

  <h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(status = 200, header = {}, body = [], options = {}) {|_self| ... } &#x21d2; <tt><a href="" title="ActionDispatch::Response (class)">Response</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>_self</tt>)</span>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>_self</span>
    <span class='type'>(<tt><a href="" title="ActionDispatch::Response (class)">ActionDispatch::Response</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the object that the method was called on</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='int'>200</span><span class='comma'>,</span> <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_default_headers'>default_headers</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:default_headers</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_default_headers'>default_headers</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='id identifier rubyid_merge_default_headers'>merge_default_headers</span><span class='lparen'>(</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_default_headers'>default_headers</span><span class='rparen'>)</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span>

  <span class='ivar'>@sending_file</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@blank</span>        <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@cv</span>           <span class='op'>=</span> <span class='id identifier rubyid_new_cond'>new_cond</span>
  <span class='ivar'>@committed</span>    <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@sending</span>      <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@sent</span>         <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@content_type</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@charset</span>      <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='const'>CONTENT_TYPE</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span> <span class='op'>=</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>;\s*charset=</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='ivar'>@content_type</span> <span class='op'>=</span> <span class='const'>Mime</span><span class='op'>::</span><span class='const'>Type</span><span class='period'>.</span><span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
    <span class='ivar'>@charset</span> <span class='op'>=</span> <span class='id identifier rubyid_charset'>charset</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_default_charset'>default_charset</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_prepare_cache_control!'>prepare_cache_control!</span>

  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="charset-instance_method">
  <h3 class='signature first'>
  #<strong>charset</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The charset of the response. HTML wants to know the encoding of the content
you&#39;re giving them, so we need to send that along.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


66</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 66</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:charset</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="content_type-instance_method">
  <h3 class='signature'>
  #<strong>content_type</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the HTTP response&#39;s content MIME type. For example, in the
controller you could write this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/plain</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>If a character set has been defined for this response (see charset=) then
the character set information will also be included in the content type
information.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


62</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 62</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span>   <span class='symbol'>:content_type</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="header-instance_method">
  <h3 class='signature'>
  #<strong>header</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>headers</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get and set headers for this response.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


46</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 46</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:header</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="request-instance_method">
  <h3 class='signature'>
  #<strong>request</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The request that the response is responding to.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


38</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 38</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:request</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sending_file=-instance_method">
  <h3 class='signature'>
  #<strong>sending_file=</strong>(value)   <span class="extras">(writeonly)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


43</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 43</span>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:sending_file</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="status-instance_method">
  <h3 class='signature'>
  #<strong>status</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The HTTP status code.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


41</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 41</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:status</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="stream-instance_method">
  <h3 class='signature'>
  #<strong>stream</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The underlying body, as a streamable object.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


116</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 116</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:stream</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="abort-instance_method">
  <h3 class='signature first'>
  #<strong>abort</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


268
269
270
271
272
273
274
275
276
277</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_abort'>abort</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:abort</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_abort'>abort</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:close</span><span class='rparen'>)</span>
    <span class='comment'># `stream.close` should really be reserved for a close from the
</span>    <span class='comment'># other direction, but we must fall back to it for
</span>    <span class='comment'># compatibility.
</span>    <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="await_commit-instance_method">
  <h3 class='signature'>
  #<strong>await_commit</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


146
147
148
149
150</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_await_commit'>await_commit</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@cv</span><span class='period'>.</span><span class='id identifier rubyid_wait_until'>wait_until</span> <span class='lbrace'>{</span> <span class='ivar'>@committed</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="await_sent-instance_method">
  <h3 class='signature'>
  #<strong>await_sent</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


152
153
154</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_await_sent'>await_sent</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='ivar'>@cv</span><span class='period'>.</span><span class='id identifier rubyid_wait_until'>wait_until</span> <span class='lbrace'>{</span> <span class='ivar'>@sent</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="body-instance_method">
  <h3 class='signature'>
  #<strong>body</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the content of the response as a string. This contains the contents
of any calls to <code>render</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


218
219
220
221
222</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 218</span>

<span class='kw'>def</span> <span class='id identifier rubyid_body'>body</span>
  <span class='id identifier rubyid_strings'>strings</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span> <span class='id identifier rubyid_strings'>strings</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_strings'>strings</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="body=-instance_method">
  <h3 class='signature'>
  #<strong>body=</strong>(body)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows you to manually set or override the response body.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


227
228
229
230
231
232
233
234
235
236
237</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_body='>body=</span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
  <span class='ivar'>@blank</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>==</span> <span class='const'>EMPTY</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_path</span><span class='rparen'>)</span>
    <span class='ivar'>@stream</span> <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@stream</span> <span class='op'>=</span> <span class='id identifier rubyid_build_buffer'>build_buffer</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_munge_body_object'>munge_body_object</span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="body_parts-instance_method">
  <h3 class='signature'>
  #<strong>body_parts</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


239
240
241
242
243</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 239</span>

<span class='kw'>def</span> <span class='id identifier rubyid_body_parts'>body_parts</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@stream</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_parts'>parts</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_parts'>parts</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="close-instance_method">
  <h3 class='signature'>
  #<strong>close</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


264
265
266</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 264</span>

<span class='kw'>def</span> <span class='id identifier rubyid_close'>close</span>
  <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:close</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="code-instance_method">
  <h3 class='signature'>
  #<strong>code</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string to ensure compatibility with
<code>Net::HTTPResponse</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


199
200
201</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_code'>code</span>
  <span class='ivar'>@status</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="commit!-instance_method">
  <h3 class='signature'>
  #<strong>commit!</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


156
157
158
159
160
161
162</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 156</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commit!'>commit!</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_before_committed'>before_committed</span>
    <span class='ivar'>@committed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@cv</span><span class='period'>.</span><span class='id identifier rubyid_broadcast'>broadcast</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="committed?-instance_method">
  <h3 class='signature'>
  #<strong>committed?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


180</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_committed?'>committed?</span><span class='semicolon'>;</span> <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='ivar'>@committed</span> <span class='rbrace'>}</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="cookies-instance_method">
  <h3 class='signature'>
  #<strong>cookies</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the response cookies, converted to a Hash of (name =&gt; value)
pairs</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_assert_equal'>assert_equal</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AuthorOfNewPage</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_cookies'>cookies</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>author</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cookies'>cookies</span>
  <span class='id identifier rubyid_cookies'>cookies</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='const'>SET_COOKIE</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cookie'>cookie</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pair'>pair</span> <span class='op'>=</span> <span class='id identifier rubyid_cookie'>cookie</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_pair'>pair</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_unescape'>unescape</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_cookies'>cookies</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cookies'>cookies</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="delete_cookie-instance_method">
  <h3 class='signature'>
  #<strong>delete_cookie</strong>(key, value = {})  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


249
250
251</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_cookie'>delete_cookie</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_delete_cookie_header!'>delete_cookie_header!</span><span class='lparen'>(</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="headers-instance_method">
  <h3 class='signature'>
  #<strong>headers</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get and set headers for this response.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


49</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 49</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:header</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="headers=-instance_method">
  <h3 class='signature'>
  #<strong>headers=</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get and set headers for this response.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


48</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 48</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:header</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="location-instance_method">
  <h3 class='signature'>
  #<strong>location</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>redirect_url</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The location header we&#39;ll be responding with.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


254
255
256</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 254</span>

<span class='kw'>def</span> <span class='id identifier rubyid_location'>location</span>
  <span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='const'>LOCATION</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="location=-instance_method">
  <h3 class='signature'>
  #<strong>location=</strong>(url)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the location header we&#39;ll be responding with.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


260
261
262</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_location='>location=</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='const'>LOCATION</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="message-instance_method">
  <h3 class='signature'>
  #<strong>message</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>status_message</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the corresponding message for the current HTTP status code:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='int'>200</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='comment'># =&gt; &quot;OK&quot;
</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='int'>404</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='comment'># =&gt; &quot;Not Found&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


211
212
213</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message'>message</span>
  <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>HTTP_STATUS_CODES</span><span class='lbracket'>[</span><span class='ivar'>@status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="prepare!-instance_method">
  <h3 class='signature'>
  #<strong>prepare!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Turns the Response into a Rack-compatible array of the status, headers, and
body. Allows explict splatting:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_response'>response</span>
</code></pre>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


286
287
288</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_rack_response'>rack_response</span> <span class='ivar'>@status</span><span class='comma'>,</span> <span class='ivar'>@header</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="redirect_url-instance_method">
  <h3 class='signature'>
  #<strong>redirect_url</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The location header we&#39;ll be responding with.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


257
258
259</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_location'>location</span>
  <span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='const'>LOCATION</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="response_code-instance_method">
  <h3 class='signature'>
  #<strong>response_code</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The response code of the request.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


194
195
196</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response_code'>response_code</span>
  <span class='ivar'>@status</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sending!-instance_method">
  <h3 class='signature'>
  #<strong>sending!</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


164
165
166
167
168
169
170</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sending!'>sending!</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_before_sending'>before_sending</span>
    <span class='ivar'>@sending</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@cv</span><span class='period'>.</span><span class='id identifier rubyid_broadcast'>broadcast</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sending?-instance_method">
  <h3 class='signature'>
  #<strong>sending?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


179</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sending?'>sending?</span><span class='semicolon'>;</span>   <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='ivar'>@sending</span> <span class='rbrace'>}</span><span class='semicolon'>;</span>   <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sent!-instance_method">
  <h3 class='signature'>
  #<strong>sent!</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


172
173
174
175
176
177</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sent!'>sent!</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@sent</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@cv</span><span class='period'>.</span><span class='id identifier rubyid_broadcast'>broadcast</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sent?-instance_method">
  <h3 class='signature'>
  #<strong>sent?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


181</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sent?'>sent?</span><span class='semicolon'>;</span>      <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='ivar'>@sent</span> <span class='rbrace'>}</span><span class='semicolon'>;</span>      <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="set_cookie-instance_method">
  <h3 class='signature'>
  #<strong>set_cookie</strong>(key, value)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


245
246
247</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 245</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_cookie'>set_cookie</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_set_cookie_header!'>set_cookie_header!</span><span class='lparen'>(</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="status_message-instance_method">
  <h3 class='signature'>
  #<strong>status_message</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the corresponding message for the current HTTP status code:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='int'>200</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='comment'># =&gt; &quot;OK&quot;
</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='int'>404</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='comment'># =&gt; &quot;Not Found&quot;
</span></code></pre>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


214
215
216</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message'>message</span>
  <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>HTTP_STATUS_CODES</span><span class='lbracket'>[</span><span class='ivar'>@status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_a-instance_method">
  <h3 class='signature'>
  #<strong>to_a</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>prepare!</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Turns the Response into a Rack-compatible array of the status, headers, and
body. Allows explict splatting:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_response'>response</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


283
284
285</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 283</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_rack_response'>rack_response</span> <span class='ivar'>@status</span><span class='comma'>,</span> <span class='ivar'>@header</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_ary-instance_method">
  <h3 class='signature'>
  #<strong>to_ary</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Be super clear that a response object is not an Array. Defining this would
make implicit splatting work, but it also makes adding responses as arrays
work, and “flattening” responses, cascading to the rack body! Not sensible
behavior.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


292
293
294
295
296
297
298
299
300</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_dispatch/http/response.rb', line 292</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_ary'>to_ary</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-MSG</span><span class='period'>.</span><span class='id identifier rubyid_squish'>squish</span><span class='rparen'>)</span>
<span class='tstring_content'>    `ActionDispatch::Response#to_ary` no longer performs implicit conversion
    to an array. Please use `response.to_a` instead, or a splat like `status,
    headers, body = *response`.
</span><span class='heredoc_end'>  MSG
</span>
  <span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>