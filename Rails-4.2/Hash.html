<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Hash &mdash; Rails-4.2.7</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../css/common.css' />

<script type='text/javascript'>
  var pathId = "Hash",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../index.html'>Home</a> &raquo; 
          <a href='index.html'>Rails-4.2.7</a> &raquo; 
          <a href='_index.html'>Index (H)</a> &raquo; 
          <span class='title'>Hash</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Hash</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Hash</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>



  <tr>
    <td class='box_1'>Direct Subclasses:</td>
    <td>
      <a href="ActionController/Live/Response/Header.html" title="ActionController::Live::Response::Header (class)">ActionController::Live::Response::Header</a>, <a href="ActiveSupport/HashWithIndifferentAccess.html" title="ActiveSupport::HashWithIndifferentAccess (class)">ActiveSupport::HashWithIndifferentAccess</a>, <a href="ActiveSupport/OrderedHash.html" title="ActiveSupport::OrderedHash (class)">ActiveSupport::OrderedHash</a>, <a href="ActiveSupport/OrderedOptions.html" title="ActiveSupport::OrderedOptions (class)">ActiveSupport::OrderedOptions</a>
    </td>
  </tr>


  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
activesupport/lib/active_support/core_ext/hash/keys.rb<span class='defines'>,<br />activesupport/lib/active_support/core_ext/array/extract_options.rb,<br /> activesupport/lib/active_support/core_ext/hash/compact.rb,<br /> activesupport/lib/active_support/core_ext/hash/conversions.rb,<br /> activesupport/lib/active_support/core_ext/hash/deep_merge.rb,<br /> activesupport/lib/active_support/core_ext/hash/except.rb,<br /> activesupport/lib/active_support/core_ext/hash/indifferent_access.rb,<br /> activesupport/lib/active_support/core_ext/hash/reverse_merge.rb,<br /> activesupport/lib/active_support/core_ext/hash/slice.rb,<br /> activesupport/lib/active_support/core_ext/hash/transform_values.rb,<br /> activesupport/lib/active_support/core_ext/object/blank.rb,<br /> activesupport/lib/active_support/core_ext/object/deep_dup.rb,<br /> activesupport/lib/active_support/core_ext/object/json.rb,<br /> activesupport/lib/active_support/core_ext/object/to_query.rb</span>
</div>  </td>
  </tr>
</table>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#from_trusted_xml-class_method" title=".from_trusted_xml (class method)">.<strong>from_trusted_xml</strong>(xml)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Builds a Hash from XML just like <code>Hash.from_xml</code>, but also
allows Symbol and YAML.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#from_xml-class_method" title=".from_xml (class method)">.<strong>from_xml</strong>(xml, disallowed_types = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a Hash containing a collection of pairs when the key is the node
name and the value is its content</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#assert_valid_keys-instance_method" title="#assert_valid_keys (instance method)">#<strong>assert_valid_keys</strong>(*valid_keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Validate all keys in a hash match <code>*valid_keys</code>, raising
ArgumentError on a mismatch.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#blank%3F-instance_method" title="#blank? (instance method)">#<strong>blank?</strong>  &#x21d2; true, false </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A hash is blank if it&#39;s empty:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a hash with non <code>nil</code> values.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compact%21-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Replaces current hash with non <code>nil</code> values.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_dup-instance_method" title="#deep_dup (instance method)">#<strong>deep_dup</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a deep copy of hash.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_merge-instance_method" title="#deep_merge (instance method)">#<strong>deep_merge</strong>(other_hash, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with <code>self</code> and <code>other_hash</code>
merged recursively.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_merge%21-instance_method" title="#deep_merge! (instance method)">#<strong>deep_merge!</strong>(other_hash, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <code>deep_merge</code>, but modifies <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_stringify_keys-instance_method" title="#deep_stringify_keys (instance method)">#<strong>deep_stringify_keys</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted to strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_stringify_keys%21-instance_method" title="#deep_stringify_keys! (instance method)">#<strong>deep_stringify_keys!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys to strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_symbolize_keys-instance_method" title="#deep_symbolize_keys (instance method)">#<strong>deep_symbolize_keys</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_symbolize_keys%21-instance_method" title="#deep_symbolize_keys! (instance method)">#<strong>deep_symbolize_keys!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_transform_keys-instance_method" title="#deep_transform_keys (instance method)">#<strong>deep_transform_keys</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted by the block operation.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_transform_keys%21-instance_method" title="#deep_transform_keys! (instance method)">#<strong>deep_transform_keys!</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys by using the block operation.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#except-instance_method" title="#except (instance method)">#<strong>except</strong>(*keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a hash that includes everything but the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#except%21-instance_method" title="#except! (instance method)">#<strong>except!</strong>(*keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Replaces the hash without the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract%21-instance_method" title="#extract! (instance method)">#<strong>extract!</strong>(*keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes and returns the key/value pairs matching the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extractable_options%3F-instance_method" title="#extractable_options? (instance method)">#<strong>extractable_options?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>By default, only instances of Hash itself are extractable.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#nested_under_indifferent_access-instance_method" title="#nested_under_indifferent_access (instance method)">#<strong>nested_under_indifferent_access</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#with_indifferent_access-instance_method" title="Hash#with_indifferent_access (method)">#with_indifferent_access</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse_merge-instance_method" title="#reverse_merge (instance method)">#<strong>reverse_merge</strong>(other_hash)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Merges the caller into <code>other_hash</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse_merge%21-instance_method" title="#reverse_merge! (instance method)">#<strong>reverse_merge!</strong>(other_hash)  </a>
        (also: #reverse_update)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructive <code>reverse_merge</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse_update-instance_method" title="#reverse_update (instance method)">#<strong>reverse_update</strong>(other_hash)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#reverse_merge%21-instance_method" title="Hash#reverse_merge! (method)">#reverse_merge!</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Slice a hash to include only the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice%21-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(*keys)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Replaces the hash with only the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stringify_keys-instance_method" title="#stringify_keys (instance method)">#<strong>stringify_keys</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted to strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stringify_keys%21-instance_method" title="#stringify_keys! (instance method)">#<strong>stringify_keys!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys to strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#symbolize_keys-instance_method" title="#symbolize_keys (instance method)">#<strong>symbolize_keys</strong>  </a>
        (also: #to_options)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#symbolize_keys%21-instance_method" title="#symbolize_keys! (instance method)">#<strong>symbolize_keys!</strong>  </a>
        (also: #to_options!)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_options-instance_method" title="#to_options (instance method)">#<strong>to_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#symbolize_keys-instance_method" title="Hash#symbolize_keys (method)">#symbolize_keys</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_options%21-instance_method" title="#to_options! (instance method)">#<strong>to_options!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#symbolize_keys%21-instance_method" title="Hash#symbolize_keys! (method)">#symbolize_keys!</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_param-instance_method" title="#to_param (instance method)">#<strong>to_param</strong>(namespace = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_query-instance_method" title="Hash#to_query (method)">#to_query</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_query-instance_method" title="#to_query (instance method)">#<strong>to_query</strong>(namespace = nil)  </a>
        (also: #to_param)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string representation of the receiver suitable for use as a URL
query string:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_xml-instance_method" title="#to_xml (instance method)">#<strong>to_xml</strong>(options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string containing an XML representation of its receiver:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_keys-instance_method" title="#transform_keys (instance method)">#<strong>transform_keys</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with all keys converted using the block operation.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_keys%21-instance_method" title="#transform_keys! (instance method)">#<strong>transform_keys!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructively convert all keys using the block operations.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_values-instance_method" title="#transform_values (instance method)">#<strong>transform_values</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new hash with the results of running <code>block</code> once for
every value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_values%21-instance_method" title="#transform_values! (instance method)">#<strong>transform_values!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructive <code>transform_values</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with_indifferent_access-instance_method" title="#with_indifferent_access (instance method)">#<strong>with_indifferent_access</strong>  </a>
        (also: #nested_under_indifferent_access)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an <code>ActiveSupport::HashWithIndifferentAccess</code> out of its
receiver:</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="from_trusted_xml-class_method">
  <h3 class='signature first'>
  .<strong>from_trusted_xml</strong>(xml)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Builds a Hash from XML just like <code>Hash.from_xml</code>, but also
allows Symbol and YAML.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


115
116
117</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/conversions.rb', line 115</span>

<span class='kw'>def</span> <span class='id identifier rubyid_from_trusted_xml'>from_trusted_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_xml'>xml</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_from_xml'>from_xml</span> <span class='id identifier rubyid_xml'>xml</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="from_xml-class_method">
  <h3 class='signature'>
  .<strong>from_xml</strong>(xml, disallowed_types = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a Hash containing a collection of pairs when the key is the node
name and the value is its content</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xml'>xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-XML</span>
<span class='tstring_content'>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
    &lt;hash&gt;
      &lt;foo type=&quot;integer&quot;&gt;1&lt;/foo&gt;
      &lt;bar type=&quot;integer&quot;&gt;2&lt;/bar&gt;
    &lt;/hash&gt;
</span><span class='heredoc_end'>XML
</span>
<span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_from_xml'>from_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_xml'>xml</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {&quot;hash&quot;=&gt;{&quot;foo&quot;=&gt;1, &quot;bar&quot;=&gt;2}}
</span></code></pre>

<p><code>DisallowedType</code> is raised if the XML contains attributes with
<code>type=&quot;yaml&quot;</code> or <code>type=&quot;symbol&quot;</code>.
Use <code>Hash.from_trusted_xml</code> to parse this XML.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


110
111
112</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/conversions.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_from_xml'>from_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_xml'>xml</span><span class='comma'>,</span> <span class='id identifier rubyid_disallowed_types'>disallowed_types</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>XMLConverter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_xml'>xml</span><span class='comma'>,</span> <span class='id identifier rubyid_disallowed_types'>disallowed_types</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="assert_valid_keys-instance_method">
  <h3 class='signature first'>
  #<strong>assert_valid_keys</strong>(*valid_keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Validate all keys in a hash match <code>*valid_keys</code>, raising
ArgumentError on a mismatch.</p>

<p>Note that keys are treated differently than HashWithIndifferentAccess,
meaning that string and symbol keys will not match.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>years:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='rparen'>)</span> <span class='comment'># =&gt; raises &quot;ArgumentError: Unknown key: :years. Valid keys are: :name, :age&quot;
</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>age</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; raises &quot;ArgumentError: Unknown key: :name. Valid keys are: &#39;name&#39;, &#39;age&#39;&quot;
</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='rparen'>)</span>   <span class='comment'># =&gt; passes, raises nothing
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


71
72
73
74
75
76
77
78</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_valid_keys'>valid_keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_valid_keys'>valid_keys</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>
  <span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_valid_keys'>valid_keys</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown key: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Valid keys are: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_keys'>valid_keys</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:inspect</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="blank?-instance_method">
  <h3 class='signature'>
  #<strong>blank?</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A hash is blank if it&#39;s empty:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>                <span class='comment'># =&gt; true
</span><span class='lbrace'>{</span> <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>  <span class='comment'># =&gt; false
</span></code></pre>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


98</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/object/blank.rb', line 98</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:blank?</span><span class='comma'>,</span> <span class='symbol'>:empty?</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="compact-instance_method">
  <h3 class='signature'>
  #<strong>compact</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a hash with non <code>nil</code> values.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span> <span class='comment'># =&gt; { a: true, b: false}
</span><span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; { a: true, b: false, c: nil}
</span><span class='lbrace'>{</span> <span class='label'>c:</span> <span class='kw'>nil</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span> <span class='comment'># =&gt; {}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


8
9
10</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/compact.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="compact!-instance_method">
  <h3 class='signature'>
  #<strong>compact!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Replaces current hash with non <code>nil</code> values.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'># =&gt; { a: true, b: false}
</span><span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; { a: true, b: false}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


17
18
19</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/compact.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compact!'>compact!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_dup-instance_method">
  <h3 class='signature'>
  #<strong>deep_dup</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a deep copy of hash.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='lbrace'>{</span> <span class='label'>b:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_dup'>dup</span>  <span class='op'>=</span> <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
<span class='id identifier rubyid_dup'>dup</span><span class='lbracket'>[</span><span class='symbol'>:a</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:c</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:a</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:c</span><span class='rbracket'>]</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_dup'>dup</span><span class='lbracket'>[</span><span class='symbol'>:a</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:c</span><span class='rbracket'>]</span>  <span class='comment'># =&gt; &quot;c&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


41
42
43
44
45</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/object/deep_dup.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='id identifier rubyid_dup'>dup</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span>
    <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_merge-instance_method">
  <h3 class='signature'>
  #<strong>deep_merge</strong>(other_hash, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with <code>self</code> and <code>other_hash</code>
merged recursively.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='lbrace'>{</span> <span class='label'>c:</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='lbrace'>{</span> <span class='label'>x:</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_h1'>h1</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge'>deep_merge</span><span class='lparen'>(</span><span class='id identifier rubyid_h2'>h2</span><span class='rparen'>)</span> <span class='comment'>#=&gt; { a: false, b: { c: [1, 2, 3], x: [3, 4, 5] } }
</span></code></pre>

<p>Like with #merge in the standard library, a block can be provided to
merge values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>100</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>200</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='lbrace'>{</span> <span class='label'>c1:</span> <span class='int'>100</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>b:</span> <span class='int'>250</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='lbrace'>{</span> <span class='label'>c1:</span> <span class='int'>200</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_h1'>h1</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge'>deep_merge</span><span class='lparen'>(</span><span class='id identifier rubyid_h2'>h2</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_this_val'>this_val</span><span class='comma'>,</span> <span class='id identifier rubyid_other_val'>other_val</span><span class='op'>|</span> <span class='id identifier rubyid_this_val'>this_val</span> <span class='op'>+</span> <span class='id identifier rubyid_other_val'>other_val</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; { a: 100, b: 450, c: { c1: 300 } }
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


16
17
18</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/deep_merge.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_merge'>deep_merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge!'>deep_merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_merge!-instance_method">
  <h3 class='signature'>
  #<strong>deep_merge!</strong>(other_hash, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <code>deep_merge</code>, but modifies <code>self</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/deep_merge.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_merge!'>deep_merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other_hash'>other_hash</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_current_key'>current_key</span><span class='comma'>,</span> <span class='id identifier rubyid_other_value'>other_value</span><span class='op'>|</span>
    <span class='id identifier rubyid_this_value'>this_value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_key'>current_key</span><span class='rbracket'>]</span>

    <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_key'>current_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_this_value'>this_value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_other_value'>other_value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_this_value'>this_value</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge'>deep_merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_value'>other_value</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_current_key'>current_key</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_current_key'>current_key</span><span class='comma'>,</span> <span class='id identifier rubyid_this_value'>this_value</span><span class='comma'>,</span> <span class='id identifier rubyid_other_value'>other_value</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_other_value'>other_value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_stringify_keys-instance_method">
  <h3 class='signature'>
  #<strong>deep_stringify_keys</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted to strings. This includes the
keys from the root hash and from all nested hashes and arrays.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_deep_stringify_keys'>deep_stringify_keys</span>
<span class='comment'># =&gt; {&quot;person&quot;=&gt;{&quot;name&quot;=&gt;&quot;Rob&quot;, &quot;age&quot;=&gt;&quot;28&quot;}}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


107
108
109</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_stringify_keys'>deep_stringify_keys</span>
  <span class='id identifier rubyid_deep_transform_keys'>deep_transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_stringify_keys!-instance_method">
  <h3 class='signature'>
  #<strong>deep_stringify_keys!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to strings. This includes the keys from the
root hash and from all nested hashes and arrays.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


114
115
116</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_stringify_keys!'>deep_stringify_keys!</span>
  <span class='id identifier rubyid_deep_transform_keys!'>deep_transform_keys!</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_symbolize_keys-instance_method">
  <h3 class='signature'>
  #<strong>deep_symbolize_keys</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>. This includes the keys from the root hash
and from all nested hashes and arrays.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>age</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_deep_symbolize_keys'>deep_symbolize_keys</span>
<span class='comment'># =&gt; {:person=&gt;{:name=&gt;&quot;Rob&quot;, :age=&gt;&quot;28&quot;}}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


126
127
128</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_symbolize_keys'>deep_symbolize_keys</span>
  <span class='id identifier rubyid_deep_transform_keys'>deep_transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='id identifier rubyid_key'>key</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_symbolize_keys!-instance_method">
  <h3 class='signature'>
  #<strong>deep_symbolize_keys!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>. This includes the keys from the root hash and from all
nested hashes and arrays.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


133
134
135</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_symbolize_keys!'>deep_symbolize_keys!</span>
  <span class='id identifier rubyid_deep_transform_keys!'>deep_transform_keys!</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='id identifier rubyid_key'>key</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_transform_keys-instance_method">
  <h3 class='signature'>
  #<strong>deep_transform_keys</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted by the block operation. This
includes the keys from the root hash and from all nested hashes and arrays.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_deep_transform_keys'>deep_transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; {&quot;PERSON&quot;=&gt;{&quot;NAME&quot;=&gt;&quot;Rob&quot;, &quot;AGE&quot;=&gt;&quot;28&quot;}}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


88
89
90</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_transform_keys'>deep_transform_keys</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__deep_transform_keys_in_object'>_deep_transform_keys_in_object</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_transform_keys!-instance_method">
  <h3 class='signature'>
  #<strong>deep_transform_keys!</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys by using the block operation. This includes
the keys from the root hash and from all nested hashes and arrays.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


95
96
97</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_transform_keys!'>deep_transform_keys!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__deep_transform_keys_in_object!'>_deep_transform_keys_in_object!</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="except-instance_method">
  <h3 class='signature'>
  #<strong>except</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a hash that includes everything but the given keys.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbol'>:c</span><span class='rparen'>)</span> <span class='comment'># =&gt; { a: true, b: false}
</span><span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; { a: true, b: false, c: nil}
</span></code></pre>

<p>This is useful for limiting a set of parameters to everything but a few
known toggles:</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@person</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbol'>:admin</span><span class='rparen'>)</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


9
10
11</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/except.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_except!'>except!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="except!-instance_method">
  <h3 class='signature'>
  #<strong>except!</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Replaces the hash without the given keys.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>a:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_except!'>except!</span><span class='lparen'>(</span><span class='symbol'>:c</span><span class='rparen'>)</span> <span class='comment'># =&gt; { a: true, b: false}
</span><span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; { a: true, b: false }
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


17
18
19
20</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/except.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_except!'>except!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract!-instance_method">
  <h3 class='signature'>
  #<strong>extract!</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes and returns the key/value pairs matching the given keys.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>4</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span> <span class='comment'># =&gt; {:a=&gt;1, :b=&gt;2}
</span><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:x</span><span class='rparen'>)</span>             <span class='comment'># =&gt; {:a=&gt;1}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


45
46
47</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/slice.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='op'>|</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extractable_options?-instance_method">
  <h3 class='signature'>
  #<strong>extractable_options?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>By default, only instances of Hash itself are extractable. Subclasses of
Hash may implement this method and return true to declare themselves as
extractable. If a Hash is extractable, <a href="Array.html#extract_options%21-instance_method" title="Array#extract_options! (method)">Array#extract_options!</a> pops it
from the Array when it is the last element of the Array.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


7
8
9</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/array/extract_options.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extractable_options?'>extractable_options?</span>
  <span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="nested_under_indifferent_access-instance_method">
  <h3 class='signature'>
  #<strong>nested_under_indifferent_access</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#with_indifferent_access-instance_method" title="Hash#with_indifferent_access (method)">#with_indifferent_access</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="reverse_merge-instance_method">
  <h3 class='signature'>
  #<strong>reverse_merge</strong>(other_hash)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Merges the caller into <code>other_hash</code>. For example,</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge'>reverse_merge</span><span class='lparen'>(</span><span class='label'>size:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>velocity:</span> <span class='int'>10</span><span class='rparen'>)</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>size:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>velocity:</span> <span class='int'>10</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
</code></pre>

<p>This is particularly useful for initializing an options hash with default
values.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


12
13
14</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/reverse_merge.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reverse_merge'>reverse_merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other_hash'>other_hash</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse_merge!-instance_method">
  <h3 class='signature'>
  #<strong>reverse_merge!</strong>(other_hash)  
  <span class='aliases'>Also known as: <span class='names'><span>reverse_update</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructive <code>reverse_merge</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


17
18
19
20</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/reverse_merge.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='rparen'>)</span>
  <span class='comment'># right wins if there is no left
</span>  <span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span> <span class='id identifier rubyid_other_hash'>other_hash</span> <span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_left'>left</span><span class='comma'>,</span><span class='id identifier rubyid_right'>right</span><span class='op'>|</span> <span class='id identifier rubyid_left'>left</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse_update-instance_method">
  <h3 class='signature'>
  #<strong>reverse_update</strong>(other_hash)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#reverse_merge%21-instance_method" title="Hash#reverse_merge! (method)">#reverse_merge!</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="slice-instance_method">
  <h3 class='signature'>
  #<strong>slice</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Slice a hash to include only the given keys. Returns a hash containing  the
given keys.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>4</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {:a=&gt;1, :b=&gt;2}
</span></code></pre>

<p>This is useful for limiting an options hash to valid keys before  passing
to a method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='id identifier rubyid_criteria'>criteria</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span><span class='lparen'>(</span><span class='symbol'>:mass</span><span class='comma'>,</span> <span class='symbol'>:velocity</span><span class='comma'>,</span> <span class='symbol'>:time</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='symbol'>:mass</span><span class='comma'>,</span> <span class='symbol'>:velocity</span><span class='comma'>,</span> <span class='symbol'>:time</span><span class='rparen'>)</span><span class='rparen'>)</span>
</code></pre>

<p>If you have an array of keys you want to limit to, you should splat them:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_valid_keys'>valid_keys</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:mass</span><span class='comma'>,</span> <span class='symbol'>:velocity</span><span class='comma'>,</span> <span class='symbol'>:time</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_search'>search</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_valid_keys'>valid_keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


21
22
23
24</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/slice.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert_key</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice!-instance_method">
  <h3 class='signature'>
  #<strong>slice!</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Replaces the hash with only the given keys. Returns a hash containing the
removed key/value pairs.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>4</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {:c=&gt;3, :d=&gt;4}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


31
32
33
34
35
36
37
38
39</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/slice.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_convert_key'>convert_key</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert_key</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_omit'>omit</span> <span class='op'>=</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>-</span> <span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span>      <span class='op'>=</span> <span class='id identifier rubyid_default'>default</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_default_proc'>default_proc</span> <span class='op'>=</span> <span class='id identifier rubyid_default_proc'>default_proc</span> <span class='kw'>if</span> <span class='id identifier rubyid_default_proc'>default_proc</span>
  <span class='id identifier rubyid_replace'>replace</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_omit'>omit</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="stringify_keys-instance_method">
  <h3 class='signature'>
  #<strong>stringify_keys</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted to strings.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_stringify_keys'>stringify_keys</span>
<span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Rob&quot;, &quot;age&quot;=&gt;&quot;28&quot;}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


33
34
35</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stringify_keys'>stringify_keys</span>
  <span class='id identifier rubyid_transform_keys'>transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="stringify_keys!-instance_method">
  <h3 class='signature'>
  #<strong>stringify_keys!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to strings. Same as
<code>stringify_keys</code>, but modifies <code>self</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


39
40
41</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stringify_keys!'>stringify_keys!</span>
  <span class='id identifier rubyid_transform_keys!'>transform_keys!</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="symbolize_keys-instance_method">
  <h3 class='signature'>
  #<strong>symbolize_keys</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>to_options</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted to symbols, as long as they
respond to <code>to_sym</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>age</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_symbolize_keys'>symbolize_keys</span>
<span class='comment'># =&gt; {:name=&gt;&quot;Rob&quot;, :age=&gt;&quot;28&quot;}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


50
51
52</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_symbolize_keys'>symbolize_keys</span>
  <span class='id identifier rubyid_transform_keys'>transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='id identifier rubyid_key'>key</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="symbolize_keys!-instance_method">
  <h3 class='signature'>
  #<strong>symbolize_keys!</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>to_options!</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to symbols, as long as they respond to
<code>to_sym</code>. Same as <code>symbolize_keys</code>, but modifies
<code>self</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


57
58
59</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_symbolize_keys!'>symbolize_keys!</span>
  <span class='id identifier rubyid_transform_keys!'>transform_keys!</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>rescue</span> <span class='id identifier rubyid_key'>key</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_options-instance_method">
  <h3 class='signature'>
  #<strong>to_options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#symbolize_keys-instance_method" title="Hash#symbolize_keys (method)">#symbolize_keys</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_options!-instance_method">
  <h3 class='signature'>
  #<strong>to_options!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#symbolize_keys%21-instance_method" title="Hash#symbolize_keys! (method)">#symbolize_keys!</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_param-instance_method">
  <h3 class='signature'>
  #<strong>to_param</strong>(namespace = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_query-instance_method" title="Hash#to_query (method)">#to_query</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_query-instance_method">
  <h3 class='signature'>
  #<strong>to_query</strong>(namespace = nil)  
  <span class='aliases'>Also known as: <span class='names'><span>to_param</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string representation of the receiver suitable for use as a URL
query string:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>David</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>nationality:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Danish</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_query'>to_query</span>
<span class='comment'># =&gt; &quot;name=David&amp;nationality=Danish&quot;
</span></code></pre>

<p>An optional namespace can be passed to enclose key names:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>David</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>nationality:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Danish</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_query'>to_query</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;user%5Bname%5D=David&amp;user%5Bnationality%5D=Danish&quot;
</span></code></pre>

<p>The string pairs key=value that conform the query string are sorted
lexicographically in ascending order.</p>

<p>This method is also aliased as <code>to_param</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


75
76
77
78
79
80
81</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/object/to_query.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_query'>to_query</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_query'>to_query</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_xml-instance_method">
  <h3 class='signature'>
  #<strong>to_xml</strong>(options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string containing an XML representation of its receiver:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_xml'>to_xml</span>
<span class='comment'># =&gt;
</span><span class='comment'># &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span class='comment'># &lt;hash&gt;
</span><span class='comment'>#   &lt;foo type=&quot;integer&quot;&gt;1&lt;/foo&gt;
</span><span class='comment'>#   &lt;bar type=&quot;integer&quot;&gt;2&lt;/bar&gt;
</span><span class='comment'># &lt;/hash&gt;
</span></code></pre>

<p>To do so, the method loops over the pairs and builds nodes that depend on
the <em>values</em>. Given a pair <code>key</code>, <code>value</code>:</p>
<ul><li>
<p>If <code>value</code> is a hash there&#39;s a recursive call with
<code>key</code> as <code>:root</code>.</p>
</li><li>
<p>If <code>value</code> is an array there&#39;s a recursive call with
<code>key</code> as <code>:root</code>, and <code>key</code> singularized
as <code>:children</code>.</p>
</li><li>
<p>If <code>value</code> is a callable object it must expect one or two
arguments. Depending on the arity, the callable is invoked with the
<code>options</code> hash as first argument with <code>key</code> as
<code>:root</code>, and <code>key</code> singularized as second argument.
The callable can add nodes by using <code>options[:builder]</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:builder</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_b'>b</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;b&gt;foo&lt;/b&gt;&quot;
</span></code></pre>
</li><li>
<p>If <code>value</code> responds to <code>to_xml</code> the method is invoked
with <code>key</code> as <code>:root</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:builder</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_bar'>bar</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fooing!</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='lbrace'>{</span> <span class='label'>foo:</span> <span class='const'>Foo</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='label'>skip_instruct:</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='comment'># =&gt;
</span><span class='comment'># &lt;hash&gt;
</span><span class='comment'>#   &lt;bar&gt;fooing!&lt;/bar&gt;
</span><span class='comment'># &lt;/hash&gt;
</span></code></pre>
</li><li>
<p>Otherwise, a node with <code>key</code> as tag is created with a string
representation of <code>value</code> as text node. If <code>value</code> is
<code>nil</code> an attribute nil set to true is added. Unless the
option <code>:skip_types</code> exists and is true, an attribute type is
added as well according to the following mapping:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>XML_TYPE_NAMES</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Symbol</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>symbol</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fixnum</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bignum</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BigDecimal</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>decimal</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Float</span><span class='tstring_end'>&quot;</span></span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>float</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TrueClass</span><span class='tstring_end'>&quot;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>boolean</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FalseClass</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>boolean</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>date</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DateTime</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dateTime</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Time</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dateTime</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span>
</code></pre>
</li></ul>

<p>By default the root node is hash, but that&#39;s configurable via the
<code>:root</code> option.</p>

<p>The default XML builder is a fresh instance of
<code>Builder::XmlMarkup</code>. You can configure your own builder with
the <code>:builder</code> option. The method also accepts options like
<code>:dasherize</code> and friends, they are forwarded to the builder.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/conversions.rb', line 74</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>active_support/builder</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>Builder</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span>  <span class='op'>||=</span> <span class='int'>2</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:root</span><span class='rbracket'>]</span>    <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hash</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:builder</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Builder</span><span class='op'>::</span><span class='const'>XmlMarkup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>indent:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:builder</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_instruct!'>instruct!</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:skip_instruct</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_root'>root</span> <span class='op'>=</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>XmlMini</span><span class='period'>.</span><span class='id identifier rubyid_rename_key'>rename_key</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:root</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='id identifier rubyid_root'>root</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>XmlMini</span><span class='period'>.</span><span class='id identifier rubyid_to_tag'>to_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_builder'>builder</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transform_keys-instance_method">
  <h3 class='signature'>
  #<strong>transform_keys</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with all keys converted using the block operation.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rob</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>28</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_transform_keys'>transform_keys</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; {&quot;NAME&quot;=&gt;&quot;Rob&quot;, &quot;AGE&quot;=&gt;&quot;28&quot;}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


8
9
10
11
12
13
14
15</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_keys'>transform_keys</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:transform_keys</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
    <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transform_keys!-instance_method">
  <h3 class='signature'>
  #<strong>transform_keys!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys using the block operations. Same as
transform_keys but modifies <code>self</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


19
20
21
22
23
24
25</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/keys.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_keys!'>transform_keys!</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:transform_keys!</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transform_values-instance_method">
  <h3 class='signature'>
  #<strong>transform_values</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with the results of running <code>block</code> once for
every value. The keys are unchanged.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_transform_values'>transform_values</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>*</span> <span class='int'>2</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; { a: 2, b: 4, c: 6 }
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


7
8
9
10
11
12
13
14</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/transform_values.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_values'>transform_values</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:transform_values</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transform_values!-instance_method">
  <h3 class='signature'>
  #<strong>transform_values!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructive <code>transform_values</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


17
18
19
20
21
22</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/transform_values.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_values!'>transform_values!</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:transform_values!</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with_indifferent_access-instance_method">
  <h3 class='signature'>
  #<strong>with_indifferent_access</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>nested_under_indifferent_access</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an <code>ActiveSupport::HashWithIndifferentAccess</code> out of its
receiver:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='label'>a:</span> <span class='int'>1</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='comment'># =&gt; 1
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


8
9
10</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'activesupport/lib/active_support/core_ext/hash/indifferent_access.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>HashWithIndifferentAccess</span><span class='period'>.</span><span class='id identifier rubyid_new_from_hash_copying_default'>new_from_hash_copying_default</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>