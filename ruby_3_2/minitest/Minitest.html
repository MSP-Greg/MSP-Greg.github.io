<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Minitest &mdash; minitest  Ruby-3.2.3 pp157</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Minitest",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.2.3</a> &raquo; 
      <a href='.'>minitest</a> &raquo; 
      <a href='_index.html#alpha_M'>Index (M)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Minitest&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Minitest</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Minitest/Assertions.html" title="Minitest::Assertions (module)"><code>Assertions</code></a>,
        <a href="Minitest/Expectations.html" title="Minitest::Expectations (module)"><code>Expectations</code></a>,
        <a href="Minitest/Guard.html" title="Minitest::Guard (module)"><code>Guard</code></a>,
        <a class='nodoc' href="Minitest/Parallel.html" title="Minitest::Parallel (module)"><code>Parallel</code></a>,
        <a href="Minitest/Reportable.html" title="Minitest::Reportable (module)"><code>Reportable</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Minitest/AbstractReporter.html" title="Minitest::AbstractReporter (class)"><code>AbstractReporter</code></a>,
        <a href="Minitest/BacktraceFilter.html" title="Minitest::BacktraceFilter (class)"><code>BacktraceFilter</code></a>,
        <a href="Minitest/BenchSpec.html" title="Minitest::BenchSpec (class)"><code>BenchSpec</code></a>,
        <a href="Minitest/Benchmark.html" title="Minitest::Benchmark (class)"><code>Benchmark</code></a>,
        <a href="Minitest/CompositeReporter.html" title="Minitest::CompositeReporter (class)"><code>CompositeReporter</code></a>,
        <a href="Minitest/Mock.html" title="Minitest::Mock (class)"><code>Mock</code></a>,
        <a href="Minitest/PrideIO.html" title="Minitest::PrideIO (class)"><code>PrideIO</code></a>,
        <a href="Minitest/PrideLOL.html" title="Minitest::PrideLOL (class)"><code>PrideLOL</code></a>,
        <a href="Minitest/ProgressReporter.html" title="Minitest::ProgressReporter (class)"><code>ProgressReporter</code></a>,
        <a class='nodoc' href="Minitest/Reporter.html" title="Minitest::Reporter (class)"><code>Reporter</code></a>,
        <a href="Minitest/Result.html" title="Minitest::Result (class)"><code>Result</code></a>,
        <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)"><code>Runnable</code></a>,
        <a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a>,
        <a href="Minitest/StatisticsReporter.html" title="Minitest::StatisticsReporter (class)"><code>StatisticsReporter</code></a>,
        <a href="Minitest/SummaryReporter.html" title="Minitest::SummaryReporter (class)"><code>SummaryReporter</code></a>,
        <a href="Minitest/Test.html" title="Minitest::Test (class)"><code>Test</code></a>,
        <a href="Minitest/TestTask.html" title="Minitest::TestTask (class)"><code>TestTask</code></a>,
        <a class='nodoc' href="Minitest/Unit.html" title="Minitest::Unit (class)"><code>Unit</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="Minitest/Assertion.html" title="Minitest::Assertion (class)"><code>Assertion</code></a>,
        <a href="Minitest/Skip.html" title="Minitest::Skip (class)"><code>Skip</code></a>,
        <a href="Minitest/UnexpectedError.html" title="Minitest::UnexpectedError (class)"><code>UnexpectedError</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L11'>lib/minitest.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/assertions.rb#L7'>lib/minitest/assertions.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/benchmark.rb#L343'>lib/minitest/benchmark.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/benchmark.rb#L4'>lib/minitest/benchmark.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/mock.rb#L3'>lib/minitest/mock.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/parallel.rb#L1'>lib/minitest/parallel.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/pride_plugin.rb#L3'>lib/minitest/pride_plugin.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/test.rb#L3'>lib/minitest/test.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/test_task.rb#L5'>lib/minitest/test_task.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/unit.rb#L19'>lib/minitest/unit.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>
<h3 id="label-minitest-2F-7Btest-2Cspec-2Cmock-2Cbenchmark-7D">minitest/<code>test,spec,mock,benchmark</code></h3>
<dl class="rdoc-list note-list"><dt>home 
<dd>
<p><a href="https://github.com/seattlerb/minitest">github.com/seattlerb/minitest</a></p>
</dd><dt>bugs 
<dd>
<p><a href="https://github.com/seattlerb/minitest/issues">github.com/seattlerb/minitest/issues</a></p>
</dd><dt>rdoc 
<dd>
<p><a href="https://docs.seattlerb.org/minitest">docs.seattlerb.org/minitest</a></p>
</dd><dt>vim  
<dd>
<p><a href="https://github.com/sunaku/vim-ruby-minitest">github.com/sunaku/vim-ruby-minitest</a></p>
</dd><dt>emacs
<dd>
<p><a href="https://github.com/arthurnn/minitest-emacs">github.com/arthurnn/minitest-emacs</a></p>
</dd></dl>

<h4 id="label-DESCRIPTION-3A">DESCRIPTION:</h4>

<p>minitest provides a complete suite of testing facilities supporting TDD, BDD, mocking, and benchmarking.</p>

<pre class="code ruby"><code class="ruby">&quot;I had a class with Jim Weirich on testing last week and we were
 allowed to choose our testing frameworks. Kirk Haines and I were
 paired up and we cracked open the code for a few test
 frameworks...

 I MUST say that minitest is *very* readable / understandable
 compared to the &#39;other two&#39; options we looked at. Nicely done and
 thank you for helping us keep our mental sanity.&quot;

-- Wayne E. Seguin</code></pre>

<p>minitest/test is a small and incredibly fast unit testing framework. It provides a rich set of assertions to make your tests clean and readable.</p>

<p>minitest/spec is a functionally complete spec engine. It hooks onto minitest/test and seamlessly bridges test assertions over to spec expectations.</p>

<p>minitest/benchmark is an awesome way to assert the performance of your algorithms in a repeatable manner. Now you can assert that your newb co-worker doesn’t replace your linear algorithm with an exponential one!</p>

<p>minitest/mock by Steven Baker, is a beautifully tiny mock (and stub) object framework.</p>

<p>minitest/pride shows pride in testing and adds coloring to your test output. I guess it is an example of how to write IO pipes too. <code>:P</code></p>

<p>minitest/test is meant to have a clean implementation for language implementors that need a minimal set of methods to bootstrap a working test suite. For example, there is no magic involved for test-case discovery.</p>

<pre class="code ruby"><code class="ruby">&quot;Again, I can&#39;t praise enough the idea of a testing/specing
 framework that I can actually read in full in one sitting!&quot;

-- Piotr Szotkowski</code></pre>

<p>Comparing to rspec:</p>

<pre class="code ruby"><code class="ruby">rspec is a testing DSL. minitest is ruby.

-- Adam Hawkins, &quot;Bow Before MiniTest&quot;</code></pre>

<p>minitest doesn’t reinvent anything that ruby already provides, like: classes, modules, inheritance, methods. This means you only have to learn ruby to use minitest and all of your regular OO practices like extract-method refactorings still apply.</p>

<h4 id="label-FEATURES-2FPROBLEMS-3A">FEATURES/PROBLEMS:</h4>
<ul><li>
<p>minitest/autorun - the easy and explicit way to run all your tests.</p>
</li><li>
<p>minitest/test - a very fast, simple, and clean test system.</p>
</li><li>
<p>minitest/spec - a very fast, simple, and clean spec system.</p>
</li><li>
<p>minitest/mock - a simple and clean mock/stub system.</p>
</li><li>
<p>minitest/benchmark - an awesome way to assert your algorithm’s performance.</p>
</li><li>
<p>minitest/pride - show your pride in testing!</p>
</li><li>
<p>minitest/test_task - a full-featured and clean rake task generator.</p>
</li><li>
<p>Incredibly small and fast runner, but no bells and whistles.</p>
</li><li>
<p>Written by squishy human beings. Software can never be perfect. We will all eventually die.</p>
</li></ul>

<h4 id="label-RATIONALE-3A">RATIONALE:</h4>

<p>See design_rationale.rb to see how specs and tests work in minitest.</p>

<h4 id="label-SYNOPSIS-3A">SYNOPSIS:</h4>

<p>Given that you’d like to test the following class:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Meme</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_i_can_has_cheezburger?'>i_can_has_cheezburger?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OHAI!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_will_it_blend?'>will_it_blend?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>YES!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h5 id="label-Unit+tests">Unit tests</h5>

<p>Define your tests as methods beginning with <code>test_</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/autorun</span><span class='tstring_end'>&quot;</span></span>

<span class='kw'>class</span> <span class='const'>TestMeme</span> <span class='op'>&lt;</span> <span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Test.html" title="Minitest::Test (class)">Test</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_setup'>setup</span>
    <span class='ivar'>@meme</span> <span class='op'>=</span> <span class='const'>Meme</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_test_that_kitty_can_eat'>test_that_kitty_can_eat</span>
    <span class='id identifier rubyid_assert_equal'>assert_equal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OHAI!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@meme</span>.<span class='id identifier rubyid_i_can_has_cheezburger?'>i_can_has_cheezburger?</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_test_that_it_will_not_blend'>test_that_it_will_not_blend</span>
    <span class='id identifier rubyid_refute_match'>refute_match</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^no</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='ivar'>@meme</span>.<span class='id identifier rubyid_will_it_blend?'>will_it_blend?</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_test_that_will_be_skipped'>test_that_will_be_skipped</span>
    <span class='id identifier rubyid_skip'>skip</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test this later</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h5 id="label-Specs">Specs</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/autorun</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Meme</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_before'>before</span> <span class='kw'>do</span>
    <span class='ivar'>@meme</span> <span class='op'>=</span> <span class='const'>Meme</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_describe'>describe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>when asked about cheeseburgers</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must respond positively</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid__'>_</span>(<span class='ivar'>@meme</span>.<span class='id identifier rubyid_i_can_has_cheezburger?'>i_can_has_cheezburger?</span>).<span class='id identifier rubyid_must_equal'>must_equal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OHAI!</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_describe'>describe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>when asked about blending possibilities</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>won&#39;t say no</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid__'>_</span>(<span class='ivar'>@meme</span>.<span class='id identifier rubyid_will_it_blend?'>will_it_blend?</span>).<span class='id identifier rubyid_wont_match'>wont_match</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^no</span><span class='regexp_end'>/i</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>For matchers support check out:</p>
<ul><li>
<p><a href="https://github.com/wojtekmach/minitest-matchers">github.com/wojtekmach/minitest-matchers</a></p>
</li><li>
<p><a href="https://github.com/rmm5t/minitest-matchers_vaccine">github.com/rmm5t/minitest-matchers_vaccine</a></p>
</li></ul>

<h5 id="label-Benchmarks">Benchmarks</h5>

<p>Add benchmarks to your tests.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># optionally run benchmarks, good for CI-only work!
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/benchmark</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BENCH</span><span class='tstring_end'>&quot;</span></span>]

<span class='kw'>class</span> <span class='const'>TestMeme</span> <span class='op'>&lt;</span> <span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Benchmark.html" title="Minitest::Benchmark (class)">Benchmark</a></span>
  <span class='comment'># Override self.bench_range or default range is [1, 10, 100, 1_000, 10_000]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_bench_my_algorithm'>bench_my_algorithm</span>
    <span class='id identifier rubyid_assert_performance_linear'>assert_performance_linear</span> <span class='float'>0.9999</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='comment'># n is a range value
</span>      <span class='ivar'>@obj</span>.<span class='id identifier rubyid_my_algorithm'>my_algorithm</span>(<span class='id identifier rubyid_n'>n</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Or add them to your specs. If you make benchmarks optional, you’ll need to wrap your benchmarks in a conditional since the methods won’t be defined. In minitest 5, the describe name needs to match <code>/Bench(mark)?$/</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_describe'>describe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Meme Benchmark</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BENCH</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_bench_performance_linear'>bench_performance_linear</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my_algorithm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>0.9999</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
      <span class='int'>100</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
        <span class='ivar'>@obj</span>.<span class='id identifier rubyid_my_algorithm'>my_algorithm</span>(<span class='id identifier rubyid_n'>n</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>outputs something like:</p>

<pre class="code ruby"><code class="ruby"># Running benchmarks:

TestBlah	100	1000	10000
bench_my_algorithm	 0.006167	 0.079279	 0.786993
bench_other_algorithm	 0.061679	 0.792797	 7.869932</code></pre>

<p>Output is tab-delimited to make it easy to paste into a spreadsheet.</p>

<h5 id="label-Mocks">Mocks</h5>

<p>Mocks and stubs defined using terminology by Fowler &amp; Meszaros at <a href="https://www.martinfowler.com/bliki/TestDouble.html">www.martinfowler.com/bliki/TestDouble.html</a>:</p>

<p>“Mocks are pre-programmed with expectations which form a specification of the calls they are expected to receive. They can throw an exception if they receive a call they don’t expect and are checked during verification to ensure they got all the calls they were expecting.”</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MemeAsker</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_meme'>meme</span>)
    <span class='ivar'>@meme</span> <span class='op'>=</span> <span class='id identifier rubyid_meme'>meme</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ask'>ask</span>(<span class='id identifier rubyid_question'>question</span>)
    <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='id identifier rubyid_question'>question</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@meme</span>.<span class='id identifier rubyid___send__'>__send__</span>(<span class='id identifier rubyid_method'>method</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/autorun</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_describe'>describe</span> <span class='const'>MemeAsker</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ask'>ask</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_describe'>describe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>when passed an unpunctuated question</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should invoke the appropriate predicate method on the meme</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='ivar'>@meme</span> <span class='op'>=</span> <span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Mock.html" title="Minitest::Mock (class)">Mock</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/Mock.html#new-class_method" title="Minitest::Mock.new (method)">new</a></span>
      <span class='ivar'>@meme_asker</span> <span class='op'>=</span> <span class='const'>MemeAsker</span>.<span class='id identifier rubyid_new'>new</span> <span class='ivar'>@meme</span>
      <span class='ivar'>@meme</span>.<span class='id identifier rubyid_expect'>expect</span> <span class='symbeg'>:</span><span class='id identifier rubyid_will_it_blend?'>will_it_blend?</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_return_value'>return_value</span>

      <span class='ivar'>@meme_asker</span>.<span class='id identifier rubyid_ask'>ask</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>will it blend</span><span class='tstring_end'>&quot;</span></span>

      <span class='ivar'>@meme</span>.<span class='id identifier rubyid_verify'>verify</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h6 id="label-Multi-threading+and+Mocks">Multi-threading and Mocks</h6>

<p><code>Minitest</code> mocks do not support multi-threading. If it works, fine, if it doesn’t you can use regular ruby patterns and facilities like local variables. Here’s an example of asserting that code inside a thread is run:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_test_called_inside_thread'>test_called_inside_thread</span>
  <span class='id identifier rubyid_called'>called</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span>.<span class='id identifier rubyid_new'>new</span> { <span class='id identifier rubyid_called'>called</span> <span class='op'>=</span> <span class='kw'>true</span> }
  <span class='id identifier rubyid_thread'>thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_new'>new</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_pr'>pr</span>)
  <span class='id identifier rubyid_thread'>thread</span>.<span class='id identifier rubyid_join'>join</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_called'>called</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>proc not called</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<h5 id="label-Stubs">Stubs</h5>

<p>Mocks and stubs are defined using terminology by Fowler &amp; Meszaros at <a href="https://www.martinfowler.com/bliki/TestDouble.html">www.martinfowler.com/bliki/TestDouble.html</a>:</p>

<p>“Stubs provide canned answers to calls made during the test”.</p>

<p>Minitest’s stub method overrides a single method for the duration of the block.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_test_stale_eh'>test_stale_eh</span>
  <span class='id identifier rubyid_obj_under_test'>obj_under_test</span> <span class='op'>=</span> <span class='const'>Something</span>.<span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_refute'>refute</span> <span class='id identifier rubyid_obj_under_test'>obj_under_test</span>.<span class='id identifier rubyid_stale?'>stale?</span>

  <span class='const'>Time</span>.<span class='id identifier rubyid_stub'>stub</span> <span class='symbeg'>:</span><span class='id identifier rubyid_now'>now</span><span class='comma'>,</span> <span class='const'>Time</span>.<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>) <span class='kw'>do</span>   <span class='comment'># stub goes away once the block is done
</span>    <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_obj_under_test'>obj_under_test</span>.<span class='id identifier rubyid_stale?'>stale?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>A note on stubbing: In order to stub a method, the method must actually exist prior to stubbing. Use a singleton method to create a new non-existing method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_obj_under_test'>obj_under_test</span>.<span class='id identifier rubyid_fake_method'>fake_method</span>
  <span class='comment'>#...
</span><span class='kw'>end</span></code></pre>

<h5 id="label-Running+Your+Tests">Running Your Tests</h5>

<p>Ideally, you’ll use a rake task to run your tests (see below), either piecemeal or all at once. BUT! You don’t have to:</p>

<pre class="code ruby"><code class="ruby">% ruby -Ilib:test test/minitest/test_minitest_test.rb
Run options: --seed 37685

# Running:

#...................................................................... (etc)

Finished in 0.107130s, 1446.8403 runs/s, 2959.0217 assertions/s.

155 runs, 317 assertions, 0 failures, 0 errors, 0 skips</code></pre>

<p>There are runtime options available, both from minitest itself, and also provided via plugins. To see them, simply run with <code>--help</code>:</p>

<pre class="code ruby"><code class="ruby">% ruby -Ilib:test test/minitest/test_minitest_test.rb --help
minitest options:
    -h, --help                       Display this help.
    -s, --seed SEED                  Sets random seed. Also via env. Eg: SEED=n rake
    -v, --verbose                    Verbose. Show progress processing files.
    -n, --name PATTERN               Filter run on /regexp/ or string.
    -e, --exclude PATTERN            Exclude /regexp/ or string from run.

Known extensions: pride, autotest
    -p, --pride                      Pride. Show your testing pride!
    -a, --autotest                   Connect to autotest server.</code></pre>

<h5 id="label-Rake+Tasks">Rake Tasks</h5>

<p>You can set up a rake task to run all your tests by adding this to your Rakefile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/test_task</span><span class='tstring_end'>&quot;</span></span>

<span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/TestTask.html" title="Minitest::TestTask (class)">TestTask</a></span>.<span class='id identifier rubyid_create'><a href="Minitest/TestTask.html#create-class_method" title="Minitest::TestTask.create (method)">create</a></span> <span class='comment'># named test, sensible defaults
</span>
<span class='comment'># or more explicitly:
</span>
<span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/TestTask.html" title="Minitest::TestTask (class)">TestTask</a></span>.<span class='id identifier rubyid_create'><a href="Minitest/TestTask.html#create-class_method" title="Minitest::TestTask.create (method)">create</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_libs'>libs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_libs'>libs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_warning'>warning</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_test_globs'>test_globs</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/**/*_test.rb</span><span class='tstring_end'>&quot;</span></span>]
<span class='kw'>end</span>

<span class='id identifier rubyid_task'>task</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span></code></pre>

<p>Each of these will generate 4 tasks:</p>

<pre class="code ruby"><code class="ruby">rake test          :: Run the test suite.
rake test:cmd      :: Print out the test command.
rake test:isolated :: Show which test files fail when run separately.
rake test:slow     :: Show bottom 25 tests sorted by time.</code></pre>

<h5 id="label-Rake+Task+Variables">Rake Task Variables</h5>

<p>There are a bunch of variables you can supply to rake to modify the run.</p>

<pre class="code ruby"><code class="ruby">MT_LIB_EXTRAS :: Extra libs to dynamically override/inject for custom runs.
N             :: -n: Tests to run (string or /regexp/).
X             :: -x: Tests to exclude (string or /regexp/).
A             :: Any extra arguments. Honors shell quoting.
MT_CPU        :: How many threads to use for parallel test runs
SEED          :: -s --seed Sets random seed.
TESTOPTS      :: Deprecated, same as A
FILTER        :: Deprecated, same as A</code></pre>

<h4 id="label-Writing+Extensions">Writing Extensions</h4>

<p>To define a plugin, add a file named minitest/XXX_plugin.rb to your project/gem. That file must be discoverable via ruby’s LOAD_PATH (via rubygems or otherwise). <code>Minitest</code> will find and require that file using <code>Gem.find_files</code>. It will then try to call <code>plugin_XXX_init</code> during startup. The option processor will also try to call <code>plugin_XXX_options</code> passing the OptionParser instance and the current options hash. This lets you register your own command-line options. Here’s a totally bogus example:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># minitest/bogus_plugin.rb:
</span>
<span class='kw'>module</span> <span class='const'>Minitest</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_plugin_bogus_options'>plugin_bogus_options</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--myci</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Report results to my CI</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci'>myci</span>] <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci_addr'>myci_addr</span>] <span class='op'>=</span> <span class='id identifier rubyid_get_myci_addr'>get_myci_addr</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci_port'>myci_port</span>] <span class='op'>=</span> <span class='id identifier rubyid_get_myci_port'>get_myci_port</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_plugin_bogus_init'>plugin_bogus_init</span>(<span class='id identifier rubyid_options'>options</span>)
    <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>&lt;&lt;</span> <span class='const'>MyCI</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_options'>options</span>) <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci'>myci</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h5 id="label-Adding+custom+reporters">Adding custom reporters</h5>

<p><code>Minitest</code> uses composite reporter to output test results using multiple reporter instances. You can add new reporters to the composite during the init_plugins phase. As we saw in <code>plugin_bogus_init</code> above, you simply add your reporter instance to the composite via <code><<</code>.</p>

<p><a href="Minitest/AbstractReporter.html" title="Minitest::AbstractReporter (class)"><code>AbstractReporter</code></a> defines the API for reporters. You may subclass it and override any method you want to achieve your desired behavior.</p>
<dl class="rdoc-list note-list"><dt>start   
<dd>
<p>Called when the run has started.</p>
</dd><dt>record  
<dd>
<p>Called for each result, passed or otherwise.</p>
</dd><dt>report  
<dd>
<p>Called at the end of the run.</p>
</dd><dt>passed? 
<dd>
<p>Called to see if you detected any problems.</p>
</dd></dl>

<p>Using our example above, here is how we might implement MyCI:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># minitest/bogus_plugin.rb
</span>
<span class='kw'>module</span> <span class='const'>Minitest</span>
  <span class='kw'>class</span> <span class='const'>MyCI</span> <span class='op'>&lt;</span> <span class='const'><a href="Minitest/AbstractReporter.html" title="Minitest::AbstractReporter (class)">AbstractReporter</a></span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_results'>results</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_options'>options</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> []
      <span class='kw'>self</span>.<span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci_addr'>myci_addr</span>]
      <span class='kw'>self</span>.<span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_myci_port'>myci_port</span>]
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_record'>record</span> <span class='id identifier rubyid_result'>result</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_results'>results</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_report'>report</span>
      <span class='const'>CI</span>.<span class='id identifier rubyid_connect'>connect</span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span>).<span class='id identifier rubyid_send_results'>send_results</span> <span class='kw'>self</span>.<span class='id identifier rubyid_results'>results</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># code from above...
</span><span class='kw'>end</span></code></pre>

<h4 id="label-FAQ">FAQ</h4>

<h5 id="label-What+versions+are+compatible+with+what-3F+Or+what+versions+are+supported-3F">What versions are compatible with what? Or what versions are supported?</h5>

<p><code>Minitest</code> is a dependency of rails, which until fairly recently had an overzealous backwards compatibility policy. As such, I’m stuck supporting versions of ruby that are long past EOL. Once rails 5.2 is dropped (hopefully April 2021), I get to drop a bunch of versions of ruby that I have to currently test against.</p>

<p>(As of 2021-01-31)</p>

<p>Current versions of rails: (<a href="https://endoflife.date/rails">endoflife.date/rails</a>)</p>

<pre class="code ruby"><code class="ruby">| rails | min ruby | rec ruby | minitest | status   |
|-----------------------------------------------|
|   7.0 | &gt;= 2.7   |      3.0 | &gt;= 5.1   | Future   |
|   6.1 | &gt;= 2.5   |      3.0 | &gt;= 5.1   | Current  |
|   6.0 | &gt;= 2.5   |      2.6 | &gt;= 5.1   | Security |
|   5.2 | &gt;= 2.2.2 |      2.5 | ~&gt; 5.1   | Security | EOL @railsconf 2021?</code></pre>

<p>Current versions of ruby: (<a href="https://endoflife.date/ruby">endoflife.date/ruby</a>)</p>

<pre class="code ruby"><code class="ruby">| ruby | Status  |   EOL Date |
|---------------------------|
|  3.0 | Current | 2024-03-31 |
|  2.7 | Maint   | 2023-03-31 |
|  2.6 | Maint*  | 2022-03-31 |
|  2.5 | EOL     | 2021-03-31 |
|  2.4 | EOL     | 2020-03-31 |
|  2.3 | EOL     | 2019-03-31 |
|  2.2 | EOL     | 2018-03-31 |</code></pre>

<p>See also:</p>
<ul><li>
<p><a href="https://www.fastruby.io/blog/ruby/rails/versions/compatibility-table.html">www.fastruby.io/blog/ruby/rails/versions/compatibility-table.html</a></p>
</li><li>
<p><a href="https://jamesjeffersconsulting.com/ruby-rails-version-matrix">jamesjeffersconsulting.com/ruby-rails-version-matrix</a>/</p>
</li></ul>

<h5 id="label-How+to+test+SimpleDelegates-3F">How to test SimpleDelegates?</h5>

<p>The following implementation and test:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Worker</span> <span class='op'>&lt;</span> <span class='const'>SimpleDelegator</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Worker</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_before'>before</span> <span class='kw'>do</span>
    <span class='ivar'>@worker</span> <span class='op'>=</span> <span class='const'>Worker</span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'><a href="Object.html" title="Object (class)">Object</a></span>.<span class='id identifier rubyid_new'>new</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must respond to work</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid__'>_</span>(<span class='ivar'>@worker</span>).<span class='id identifier rubyid_must_respond_to'>must_respond_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>outputs a failure:</p>

<pre class="code ruby"><code class="ruby">  1) Failure:
Worker#test_0001_must respond to work [bug11.rb:16]:
Expected #&lt;Object:0x007f9e7184f0a0&gt; (Object) to respond to #work.</code></pre>

<p>Worker is a SimpleDelegate which in 1.9+ is a subclass of BasicObject. <a href="Minitest/Expectations.html" title="Minitest::Expectations (module)"><code>Expectations</code></a> are put on <a href="Object.html" title="Object (class)"><code>::Object</code></a> (one level down) so the Worker (SimpleDelegate) hits <code>method_missing</code> and delegates down to the <code>Object.new</code> instance. That object doesn’t respond to work so the test fails.</p>

<p>You can bypass <code>SimpleDelegate#method_missing</code> by extending the worker with <a href="Minitest/Expectations.html" title="Minitest::Expectations (module)"><code>Expectations</code></a>. You can either do that in your setup at the instance level, like:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_before'>before</span> <span class='kw'>do</span>
  <span class='ivar'>@worker</span> <span class='op'>=</span> <span class='const'>Worker</span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'><a href="Object.html" title="Object (class)">Object</a></span>.<span class='id identifier rubyid_new'>new</span>)
  <span class='ivar'>@worker</span>.<span class='id identifier rubyid_extend'>extend</span> <span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Expectations.html" title="Minitest::Expectations (module)">Expectations</a></span>
<span class='kw'>end</span></code></pre>

<p>or you can extend the Worker class (within the test file!), like:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Worker</span>
  <span class='id identifier rubyid_include'>include</span> <span class='op'>::</span><span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Expectations.html" title="Minitest::Expectations (module)">Expectations</a></span>
<span class='kw'>end</span></code></pre>

<h5 id="label-How+to+share+code+across+test+classes-3F">How to share code across test classes?</h5>

<p>Use a module. That’s exactly what they’re for:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>UsefulStuff</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_useful_method'>useful_method</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Blah</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>UsefulStuff</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_test_whatever'>test_whatever</span>
    <span class='comment'># useful_method available here
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Remember, <code>describe</code> simply creates test classes. It’s just ruby at the end of the day and all your normal Good Ruby Rules (tm) apply. If you want to extend your test using setup/teardown via a module, just make sure you ALWAYS call super. before/after automatically call super for you, so make sure you don’t do it twice.</p>

<h5 id="label-How+to+run+code+before+a+group+of+tests-3F">How to run code before a group of tests?</h5>

<p>Use a constant with begin…end like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_describe'>describe</span> <span class='const'>Blah</span> <span class='kw'>do</span>
  <span class='const'>SETUP</span> <span class='op'>=</span> <span class='kw'>begin</span>
     <span class='comment'># ... this runs once when describe Blah starts
</span>  <span class='kw'>end</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>

<p>This can be useful for expensive initializations or sharing state. Remember, this is just ruby code, so you need to make sure this technique and sharing state doesn’t interfere with your tests.</p>

<h5 id="label-Why+am+I+seeing+uninitialized+constant+-7BMiniTest-3A-3ATest-7D+-28NameError-29-3F">Why am I seeing <code>uninitialized constant {MiniTest::Test} (NameError)</code>?</h5>

<p>Are you running the test with Bundler (e.g. via <code>bundle exec</code> )? If so, in order to require minitest, you must first add the <code>gem &#39;minitest&#39;</code> to your Gemfile and run <code>bundle</code>. Once it’s installed, you should be able to require minitest and run your tests.</p>

<h4 id="label-Prominent+Projects+using+Minitest-3A">Prominent Projects using Minitest:</h4>
<ul><li>
<p>arel</p>
</li><li>
<p>journey</p>
</li><li>
<p>mime-types</p>
</li><li>
<p>nokogiri</p>
</li><li>
<p>rails (active_support et al)</p>
</li><li>
<p>rake</p>
</li><li>
<p>rdoc</p>
</li><li>
<p>…and of course, everything from seattle.rb…</p>
</li></ul>

<h4 id="label-Developing+Minitest-3A">Developing Minitest:</h4>

<p><code>Minitest</code> requires <a href="https://rubygems.org/gems/hoe" target="_parent" title="Hoe">Hoe</a>.</p>

<h5 id="label-Minitest-27s+own+tests+require+UTF-8+external+encoding.">Minitest’s own tests require UTF-8 external encoding.</h5>

<p>This is a common problem in Windows, where the default external Encoding is often CP850, but can affect any platform. <code>Minitest</code> can run test suites using any Encoding, but to run Minitest’s own tests you must have a default external Encoding of UTF-8.</p>

<p>If your encoding is wrong, you’ll see errors like:</p>

<pre class="code ruby"><code class="ruby">--- expected
+++ actual
@@ -1,2 +1,3 @@
 # encoding: UTF-8
 -&quot;Expected /\\w+/ to not match \&quot;blah blah blah\&quot;.&quot;
 +&quot;Expected /\\w+/ to not match # encoding: UTF-8
 +\&quot;blah blah blah\&quot;.&quot;</code></pre>

<p>To check your current encoding, run:</p>

<pre class="code ruby"><code class="ruby">ruby -e &#39;puts Encoding.default_external&#39;</code></pre>

<p>If your output is something other than UTF-8, you can set the RUBYOPTS env variable to a value of ‘-Eutf-8’. Something like:</p>

<pre class="code ruby"><code class="ruby">RUBYOPT=&#39;-Eutf-8&#39; ruby -e &#39;puts Encoding.default_external&#39;</code></pre>

<p>Check your OS/shell documentation for the precise syntax (the above will not work on a basic Windows CMD prompt, look for the SET command). Once you’ve got it successfully outputing UTF-8, use the same setting when running rake in <code>Minitest</code>.</p>

<h5 id="label-Minitest-27s+own+tests+require+GNU+-28or+similar-29+diff.">Minitest’s own tests require GNU (or similar) diff.</h5>

<p>This is also a problem primarily affecting Windows developers. PowerShell has a command called diff, but it is not suitable for use with <code>Minitest</code>.</p>

<p>If you see failures like either of these, you are probably missing diff tool:</p>

<pre class="code ruby"><code class="ruby">  4) Failure:
TestMinitestUnitTestCase#test_assert_equal_different_long [D:/ruby/seattlerb/minitest/test/minitest/test_minitest_test.rb:936]:
Expected: &quot;--- expected\n+++ actual\n@@ -1 +1 @@\n-\&quot;hahahahahahahahahahahahahahahahahahahaha\&quot;\n+\&quot;blahblahblahblahblahblahblahblahblahblah\&quot;\n&quot;
  Actual: &quot;Expected: \&quot;hahahahahahahahahahahahahahahahahahahaha\&quot;\n  Actual: \&quot;blahblahblahblahblahblahblahblahblahblah\&quot;&quot;

  5) Failure:
TestMinitestUnitTestCase#test_assert_equal_different_collection_hash_hex_invisible [D:/ruby/seattlerb/minitest/test/minitest/test_minitest_test.rb:845]:
Expected: &quot;No visible difference in the Hash#inspect output.\nYou should look at the implementation of #== on Hash or its members.\n
{1=&gt;#&lt;Object:0xXXXXXX&gt;}&quot;
  Actual: &quot;Expected: {1=&gt;#&lt;Object:0x00000003ba0470&gt;}\n  Actual: {1=&gt;#&lt;Object:0x00000003ba0448&gt;}&quot;</code></pre>

<p>If you use Cygwin or MSYS2 or similar there are packages that include a GNU diff for Windows. If you don’t, you can download GNU diffutils from <a href="http://gnuwin32.sourceforge.net/packages/diffutils.htm">gnuwin32.sourceforge.net/packages/diffutils.htm</a> (make sure to add it to your PATH).</p>

<p>You can make sure it’s installed and path is configured properly with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_diff'>diff</span>.<span class='id identifier rubyid_exe'>exe</span> <span class='op'>-</span><span class='id identifier rubyid_v'>v</span></code></pre>

<p>There are multiple lines of output, the first should be something like:</p>

<pre class="code ruby"><code class="ruby">diff (GNU diffutils) 2.8.1</code></pre>

<p>If you are using PowerShell make sure you run diff.exe, not just diff, which will invoke the PowerShell built in function.</p>

<h4 id="label-Known+Extensions-3A">Known Extensions:</h4>
<dl class="rdoc-list note-list"><dt>capybara_minitest_spec      
<dd>
<p>Bridge between Capybara RSpec matchers and Minitest::Spec expectations (e.g. <code>page.must_have_content(&quot;Title&quot;)</code>).</p>
</dd><dt>color_pound_spec_reporter   
<dd>
<p><a href="Minitest/Test.html" title="Minitest::Test (class)"><code>Test</code></a> names print Ruby Object types in color with your Minitest Spec style tests.</p>
</dd><dt>minispec-metadata           
<dd>
<p>Metadata for describe/it blocks &amp; CLI tag filter. E.g. <code>it &quot;requires JS driver&quot;, js: true do</code> &amp; <code>ruby test.rb --tag js</code> runs tests tagged :js.</p>
</dd><dt>minispec-rails              
<dd>
<p>Minimal support to use <a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a> style in Rails 5+.</p>
</dd><dt>mini-apivore                
<dd>
<p>for swagger based automated API testing.</p>
</dd><dt>minitest-around             
<dd>
<p>Around block for minitest. An alternative to setup/teardown dance.</p>
</dd><dt>minitest-assert_errors      
<dd>
<p>Adds Minitest assertions to test for errors raised or not raised by Minitest itself.</p>
</dd><dt>minitest-autotest           
<dd>
<p>autotest is a continuous testing facility meant to be used during development.</p>
</dd><dt>minitest-bacon              
<dd>
<p>minitest-bacon extends minitest with bacon-like functionality.</p>
</dd><dt>minitest-bang               
<dd>
<p>Adds support for RSpec-style let! to immediately invoke let statements before each test.</p>
</dd><dt>minitest-bisect             
<dd>
<p>Helps you isolate and debug random test failures.</p>
</dd><dt>minitest-blink1_reporter    
<dd>
<p>Display test results with a Blink1.</p>
</dd><dt>minitest-capistrano         
<dd>
<p><a href="Minitest/Assertions.html" title="Minitest::Assertions (module)"><code>Assertions</code></a> and expectations for testing Capistrano recipes.</p>
</dd><dt>minitest-capybara           
<dd>
<p>Capybara matchers support for minitest unit and spec.</p>
</dd><dt>minitest-cc                 
<dd>
<p>It provides minimal information about code coverage.</p>
</dd><dt>minitest-chef-handler       
<dd>
<p>Run Minitest suites as Chef report handlers</p>
</dd><dt>minitest-ci                 
<dd>
<p>CI reporter plugin for <code>Minitest</code>.</p>
</dd><dt>minitest-context            
<dd>
<p>Defines contexts for code reuse in <code>Minitest</code> specs that share common expectations.</p>
</dd><dt>minitest-debugger           
<dd>
<p>Wraps assert so failed assertions drop into the ruby debugger.</p>
</dd><dt>minitest-display            
<dd>
<p>Patches Minitest to allow for an easily configurable output.</p>
</dd><dt>minitest-documentation      
<dd>
<p>Minimal documentation format inspired by rspec’s.</p>
</dd><dt>minitest-doc_reporter       
<dd>
<p>Detailed output inspired by rspec’s documentation format.</p>
</dd><dt>minitest-emoji              
<dd>
<p>Print out emoji for your test passes, fails, and skips.</p>
</dd><dt>minitest-english            
<dd>
<p>Semantically symmetric aliases for assertions and expectations.</p>
</dd><dt>minitest-excludes           
<dd>
<p>Clean API for excluding certain tests you don’t want to run under certain conditions.</p>
</dd><dt>minitest-fail-fast          
<dd>
<p>Reimplements RSpec’s “fail fast” feature</p>
</dd><dt>minitest-filecontent        
<dd>
<p>Support unit tests with expectation results in files. Differing results will be stored again in files.</p>
</dd><dt>minitest-filesystem         
<dd>
<p>Adds assertion and expectation to help testing filesystem contents.</p>
</dd><dt>minitest-firemock           
<dd>
<p>Makes your <code>Minitest</code> mocks more resilient.</p>
</dd><dt>minitest-focus              
<dd>
<p>Focus on one test at a time.</p>
</dd><dt>minitest-gcstats            
<dd>
<p>A minitest plugin that adds a report of the top tests by number of objects allocated.</p>
</dd><dt>minitest-global_expectations
<dd>
<p>Support minitest expectation methods for all objects</p>
</dd><dt>minitest-great_expectations 
<dd>
<p>Generally useful additions to minitest’s assertions and expectations.</p>
</dd><dt>minitest-growl              
<dd>
<p><a href="Minitest/Test.html" title="Minitest::Test (class)"><code>Test</code></a> notifier for minitest via growl.</p>
</dd><dt>minitest-happy              
<dd>
<p>GLOBALLY ACTIVATE MINITEST PRIDE! RAWR!</p>
</dd><dt>minitest-have_tag           
<dd>
<p>Adds Minitest assertions to test for the existence of HTML tags, including contents, within a provided string.</p>
</dd><dt>minitest-heat               
<dd>
<p>Reporting that builds a heat map of failure locations</p>
</dd><dt>minitest-hooks              
<dd>
<p>Around and before_all/after_all/around_all hooks</p>
</dd><dt>minitest-hyper              
<dd>
<p>Pretty, single-page HTML reports for your <code>Minitest</code> runs</p>
</dd><dt>minitest-implicit-subject   
<dd>
<p>Implicit declaration of the test subject.</p>
</dd><dt>minitest-instrument         
<dd>
<p>Instrument <code>ActiveSupport::Notifications</code> when test method is executed.</p>
</dd><dt>minitest-instrument-db      
<dd>
<p>Store information about speed of test execution provided by minitest-instrument in database.</p>
</dd><dt>minitest-junit              
<dd>
<p>JUnit-style XML reporter for minitest.</p>
</dd><dt>minitest-keyword            
<dd>
<p>Use Minitest assertions with keyword arguments.</p>
</dd><dt>minitest-libnotify          
<dd>
<p><a href="Minitest/Test.html" title="Minitest::Test (class)"><code>Test</code></a> notifier for minitest via libnotify.</p>
</dd><dt>minitest-line               
<dd>
<p>Run test at line number.</p>
</dd><dt>minitest-logger             
<dd>
<p>Define assert_log and enable minitest to test log messages. Supports Logger and Log4r::Logger.</p>
</dd><dt>minitest-macruby            
<dd>
<p>Provides extensions to minitest for macruby UI testing.</p>
</dd><dt>minitest-matchers           
<dd>
<p>Adds support for RSpec-style matchers to minitest.</p>
</dd><dt>minitest-matchers_vaccine   
<dd>
<p>Adds assertions that adhere to the matcher spec, but without any expectation infections.</p>
</dd><dt>minitest-metadata           
<dd>
<p>Annotate tests with metadata (key-value).</p>
</dd><dt>minitest-mock_expectations  
<dd>
<p>Provides method call assertions for minitest.</p>
</dd><dt>minitest-mongoid            
<dd>
<p>Mongoid assertion matchers for <code>Minitest</code>.</p>
</dd><dt>minitest-must_not           
<dd>
<p>Provides must_not as an alias for wont in Minitest.</p>
</dd><dt>minitest-optional_retry     
<dd>
<p>Automatically retry failed test to help with flakiness.</p>
</dd><dt>minitest-osx                
<dd>
<p><a href="Minitest/Reporter.html" title="Minitest::Reporter (class)"><code>Reporter</code></a> for the Mac OS X notification center.</p>
</dd><dt>minitest-parallel_fork      
<dd>
<p>Fork-based parallelization</p>
</dd><dt>minitest-parallel-db        
<dd>
<p>Run tests in parallel with a single database.</p>
</dd><dt>minitest-power_assert       
<dd>
<p>PowerAssert for <code>Minitest</code>.</p>
</dd><dt>minitest-predicates         
<dd>
<p>Adds support for <code>.predicate?</code> methods.</p>
</dd><dt>minitest-profile            
<dd>
<p>List the 10 slowest tests in your suite.</p>
</dd><dt>minitest-rails              
<dd>
<p><code>Minitest</code> integration for Rails 3.x.</p>
</dd><dt>minitest-rails-capybara     
<dd>
<p>Capybara integration for <code>Minitest::Rails</code>.</p>
</dd><dt>minitest-reporters          
<dd>
<p>Create customizable <code>Minitest</code> output formats.</p>
</dd><dt>minitest-rg                 
<dd>
<p>Colored red/green output for <code>Minitest</code>.</p>
</dd><dt>minitest-rspec_mocks        
<dd>
<p>Use RSpec Mocks with <code>Minitest</code>.</p>
</dd><dt>minitest-server             
<dd>
<p>minitest-server provides a client/server setup with your minitest process, allowing your test run to send its results directly to a handler.</p>
</dd><dt>minitest-sequel             
<dd>
<p><code>Minitest</code> assertions to speed-up development and testing of Ruby Sequel database setups.</p>
</dd><dt>minitest-shared_description 
<dd>
<p>Support for shared specs and shared spec subclasses</p>
</dd><dt>minitest-should_syntax      
<dd>
<p>RSpec-style <code>x.should == y</code> assertions for Minitest.</p>
</dd><dt>minitest-shouldify          
<dd>
<p>Adding all manner of shoulds to <code>Minitest</code> (bad idea)</p>
</dd><dt>minitest-snail              
<dd>
<p>Print a list of tests that take too long</p>
</dd><dt>minitest-spec-context       
<dd>
<p>Provides rspec-ish context method to Minitest::Spec.</p>
</dd><dt>minitest-spec-expect        
<dd>
<p>Expect syntax for <a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a> (e.g. expect(sequences).to_include :celery_man).</p>
</dd><dt>minitest-spec-magic         
<dd>
<p><a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a> extensions for Rails and beyond.</p>
</dd><dt>minitest-spec-rails         
<dd>
<p>Drop in <a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a> superclass for ActiveSupport::TestCase.</p>
</dd><dt>minitest-sprint             
<dd>
<p>Runs (Get it? It’s fast!) your tests and makes it easier to rerun individual failures.</p>
</dd><dt>minitest-stately            
<dd>
<p>Find leaking state between tests</p>
</dd><dt>minitest-stub_any_instance  
<dd>
<p>Stub any instance of a method on the given class for the duration of a block.</p>
</dd><dt>minitest-stub-const         
<dd>
<p>Stub constants for the duration of a block.</p>
</dd><dt>minitest-tags               
<dd>
<p>Add tags for minitest.</p>
</dd><dt>minitest-unordered          
<dd>
<p>Adds a new assertion to minitest for checking the contents of a collection, ignoring element order.</p>
</dd><dt>minitest-vcr                
<dd>
<p>Automatic cassette management with <a href="Minitest/Spec.html" title="Minitest::Spec (class)"><code>Spec</code></a> and VCR.</p>
</dd><dt>minitest_log                
<dd>
<p>Adds structured logging, data explication, and verdicts.</p>
</dd><dt>minitest_owrapper           
<dd>
<p>Get tests results as a TestResult object.</p>
</dd><dt>minitest_should             
<dd>
<p>Shoulda style syntax for minitest test::unit.</p>
</dd><dt>minitest_tu_shim            
<dd>
<p>Bridges between test/unit and minitest.</p>
</dd><dt>mongoid-minitest            
<dd>
<p><code>Minitest</code> matchers for Mongoid.</p>
</dd><dt>mutant-minitest             
<dd>
<p><code>Minitest</code> integration for mutant.</p>
</dd><dt>pry-rescue                  
<dd>
<p>A pry plugin w/ minitest support. See pry-rescue/minitest.rb.</p>
</dd><dt>rematch                     
<dd>
<p>Declutter your test files from large hardcoded data and update them automatically when your code changes.</p>
</dd><dt>rspec2minitest              
<dd>
<p>Easily translate any RSpec matchers to <code>Minitest</code> assertions and expectations.</p>
</dd><dt>stubberry                   
<dd>
<p>Multiple stubbing ‘berries’, sweet and useful stub helpers and assertions. ( stub_must, assert_method_called, stubbing ORM objects by id )</p>
</dd></dl>

<h4 id="label-Unknown+Extensions-3A">Unknown Extensions:</h4>

<p>Authors… Please send me a pull request with a description of your minitest extension.</p>
<ul><li>
<p>assay-minitest</p>
</li><li>
<p>detroit-minitest</p>
</li><li>
<p>em-minitest-spec</p>
</li><li>
<p>flexmock-minitest</p>
</li><li>
<p>guard-minitest</p>
</li><li>
<p>guard-minitest-decisiv</p>
</li><li>
<p>minitest-activemodel</p>
</li><li>
<p>minitest-ar-assertions</p>
</li><li>
<p>minitest-capybara-unit</p>
</li><li>
<p>minitest-colorer</p>
</li><li>
<p>minitest-deluxe</p>
</li><li>
<p>minitest-extra-assertions</p>
</li><li>
<p>minitest-rails-shoulda</p>
</li><li>
<p>minitest-spec</p>
</li><li>
<p>minitest-spec-should</p>
</li><li>
<p>minitest-sugar</p>
</li><li>
<p>spork-minitest</p>
</li></ul>

<h4 id="label-Minitest+related+goods">Minitest related goods</h4>
<ul><li>
<p>minitest/pride fabric: <a href="https://www.spoonflower.com/fabric/3928730-again-by-katie_allen">www.spoonflower.com/fabric/3928730-again-by-katie_allen</a></p>
</li></ul>

<h4 id="label-REQUIREMENTS-3A">REQUIREMENTS:</h4>
<ul><li>
<p>Ruby 2.3+. No magic is involved. I hope.</p>
</li></ul>

<h4 id="label-INSTALL-3A">INSTALL:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sudo'>sudo</span> <span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_minitest'>minitest</span></code></pre>

<p>On 1.9, you already have it. To get newer candy you can still install the gem, and then requiring “minitest/autorun” should automatically pull it in. If not, you’ll need to do it yourself:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest</span><span class='tstring_end'>&quot;</span></span>     <span class='comment'># ensures you&quot;re using the gem, and not the built-in MT
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/autorun</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># ... usual testing stuffs ...</span></code></pre>

<p>DO NOTE: There is a serious problem with the way that ruby 1.9/2.0 packages their own gems. They install a gem specification file, but don’t install the gem contents in the gem path. This messes up <code>Gem.find_files</code> and many other things (gem which, gem contents, etc).</p>

<p>Just install minitest as a gem for real and you’ll be happier.</p>

<h4 id="label-LICENSE-3A">LICENSE:</h4>

<p>(The MIT License)</p>

<p>Copyright © Ryan Davis, seattle.rb</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ‘Software’), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED ‘AS IS’, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='VERSION-constant' class='summary_signature nodoc'>VERSION =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L12-L12'># File 'lib/minitest.rb', line 12</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>5.16.3</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#__run-class_method" title=".__run (class method)">.<strong>__run</strong>(reporter, options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal run method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_run-class_method" title=".after_run (class method)">.<strong>after_run</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A simple hook allowing you to run a block of code after everything is done running.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#autorun-class_method" title=".autorun (class method)">.<strong>autorun</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers Minitest to run at process exit.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run-class_method" title=".run (class method)">.<strong>run</strong>(args = [])  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is the top-level run method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#cattr_accessor-class_method" title=".cattr_accessor (class method)">.<strong>cattr_accessor</strong>(name)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#clock_time-class_method" title=".clock_time (class method)">.<strong>clock_time</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at line 1067.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#filter_backtrace-class_method" title=".filter_backtrace (class method)">.<strong>filter_backtrace</strong>(bt)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#init_plugins-class_method" title=".init_plugins (class method)">.<strong>init_plugins</strong>(options)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#load_plugins-class_method" title=".load_plugins (class method)">.<strong>load_plugins</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#plugin_pride_init-class_method" title=".plugin_pride_init (class method)">.<strong>plugin_pride_init</strong>(options)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#plugin_pride_options-class_method" title=".plugin_pride_options (class method)">.<strong>plugin_pride_options</strong>(opts, _options)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#process_args-class_method" title=".process_args (class method)">.<strong>process_args</strong>(args = [])  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_one_method-class_method" title=".run_one_method (class method)">.<strong>run_one_method</strong>(klass, method_name)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#backtrace_filter-instance_method" title="#backtrace_filter (instance method)">#<strong>backtrace_filter</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Filter object for backtraces.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extensions-instance_method" title="#extensions (instance method)">#<strong>extensions</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Names of known extension plugins.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#info_signal-instance_method" title="#info_signal (instance method)">#<strong>info_signal</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The signal to use for dumping information to STDERR.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parallel_executor-instance_method" title="#parallel_executor (instance method)">#<strong>parallel_executor</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="Minitest/Parallel.html" title="Minitest::Parallel (module)"><code>Parallel</code></a> test executor.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reporter-instance_method" title="#reporter (instance method)">#<strong>reporter</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="Minitest/Reporter.html" title="Minitest::Reporter (class)"><code>Reporter</code></a> object to be used for all runs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#seed-instance_method" title="#seed (instance method)">#<strong>seed</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The random seed used for this run.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="__run-class_method">
  <h3 class='signature  first'>
    .<strong>__run</strong>(reporter, options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal run method. Responsible for telling all <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)"><code>::Minitest::Runnable</code></a> sub-classes to run.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L173-L184'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='184'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid___run'>__run</span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_suites'>suites</span> <span class='op'>=</span> <span class='const'><a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">Runnable</a></span>.<span class='id identifier rubyid_runnables'><a href="Minitest/Runnable.html#runnables-class_method" title="Minitest::Runnable.runnables (method)">runnables</a></span>.<span class='id identifier rubyid_shuffle'>shuffle</span>
  <span class='id identifier rubyid_parallel'>parallel</span><span class='comma'>,</span> <span class='id identifier rubyid_serial'>serial</span> <span class='op'>=</span> <span class='id identifier rubyid_suites'>suites</span>.<span class='id identifier rubyid_partition'>partition</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_test_order'>test_order</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parallel'>parallel</span> }

  <span class='comment'># If we run the parallel tests before the serial tests, the parallel tests
</span>  <span class='comment'># could run in parallel with the serial tests. This would be bad because
</span>  <span class='comment'># the serial tests won&#39;t lock around Reporter#record. Run the serial tests
</span>  <span class='comment'># first, so that after they complete, the parallel tests will lock when
</span>  <span class='comment'># recording results.
</span>  <span class='id identifier rubyid_serial'>serial</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid_suite'>suite</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> } <span class='op'>+</span>
    <span class='id identifier rubyid_parallel'>parallel</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid_suite'>suite</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_run-class_method">
  <h3 class='signature '>
    .<strong>after_run</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A simple hook allowing you to run a block of code after everything is done running. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Minitest</span>.<span class='id identifier rubyid_after_run'>after_run</span> { <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$debugging_info</span> }</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L94-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='94' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 94</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_after_run'>after_run</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='cvar'>@@after_run</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="autorun-class_method">
  <h3 class='signature '>
    .<strong>autorun</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers Minitest to run at process exit</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L66-L86'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='86'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_autorun'>autorun</span>
  <span class='kw'>if</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>Warning</span>) <span class='op'>&amp;&amp;</span> <span class='const'>Warning</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='op'>[]=</span>)
    <span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_deprecated'>deprecated</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_at_exit'>at_exit</span> {
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='gvar'>$!</span> <span class='kw'>and</span> <span class='kw'>not</span> (<span class='gvar'>$!</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>SystemExit</span> <span class='kw'>and</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_success?'>success?</span>)

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_pid'>pid</span>
    <span class='id identifier rubyid_at_exit'>at_exit</span> {
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>Process</span>.<span class='id identifier rubyid_pid'>pid</span> <span class='op'>!=</span> <span class='id identifier rubyid_pid'>pid</span>
      <span class='cvar'>@@after_run</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>)
      <span class='id identifier rubyid_exit'>exit</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>||</span> <span class='kw'>false</span>
    }

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='const'>Minitest</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='const'>ARGV</span>
  } <span class='kw'>unless</span> <span class='cvar'>@@installed_at_exit</span>
  <span class='cvar'>@@installed_at_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cattr_accessor-class_method">
  <h3 class='signature nodoc'>
    .<strong>cattr_accessor</strong>(name)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L18-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='18' data-end='20'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_cattr_accessor'>cattr_accessor</span> <span class='id identifier rubyid_name'>name</span> <span class='comment'># :nodoc:
</span>  (<span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>end</span>).<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clock_time-class_method">
  <h3 class='signature nodoc'>
    .<strong>clock_time</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at line 1067.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L1071-L1073'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1071' data-end='1073'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 1071</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_clock_time'>clock_time</span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span> <span class='const'>Process</span><span class='op'>::</span><span class='const'>CLOCK_MONOTONIC</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter_backtrace-class_method">
  <h3 class='signature nodoc'>
    .<strong>filter_backtrace</strong>(bt)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L264-L268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='264' data-end='268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 264</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_filter_backtrace'>filter_backtrace</span> <span class='id identifier rubyid_bt'>bt</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_backtrace_filter'><a href="#backtrace_filter-instance_method" title="Minitest#backtrace_filter (method)">backtrace_filter</a></span>.<span class='id identifier rubyid_filter'>filter</span> <span class='id identifier rubyid_bt'>bt</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_bt'>bt</span>.<span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="init_plugins-class_method">
  <h3 class='signature nodoc'>
    .<strong>init_plugins</strong>(options)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L98-L103'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='103'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_init_plugins'>init_plugins</span> <span class='id identifier rubyid_options'>options</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>self</span>.<span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>plugin_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_init</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>if</span> <span class='kw'>self</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_plugins-class_method">
  <h3 class='signature nodoc'>
    .<strong>load_plugins</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L105-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='105' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 105</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_load_plugins'>load_plugins</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_seen'>seen</span> <span class='op'>=</span> {}

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='const'>Gem</span>

  <span class='const'>Gem</span>.<span class='id identifier rubyid_find_files'>find_files</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest/*_plugin.rb</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_plugin_path'>plugin_path</span><span class='op'>|</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span> <span class='id identifier rubyid_plugin_path'>plugin_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_plugin.rb</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_seen'>seen</span>[<span class='id identifier rubyid_name'>name</span>]
    <span class='id identifier rubyid_seen'>seen</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>=</span> <span class='kw'>true</span>

    <span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_plugin_path'>plugin_path</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="plugin_pride_init-class_method">
  <h3 class='signature nodoc'>
    .<strong>plugin_pride_init</strong>(options)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/pride_plugin.rb#L10-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/pride_plugin.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_plugin_pride_init'>plugin_pride_init</span> <span class='id identifier rubyid_options'>options</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='const'><a href="Minitest/PrideIO.html" title="Minitest::PrideIO (class)">PrideIO</a></span>.<span class='id identifier rubyid_pride?'><a href="Minitest/PrideIO.html#pride%3F-class_method" title="Minitest::PrideIO.pride? (method)">pride?</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TERM</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^xterm|-256color$</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='const'><a href="Minitest/PrideLOL.html" title="Minitest::PrideLOL (class)">PrideLOL</a></span> <span class='op'>:</span> <span class='const'><a href="Minitest/PrideIO.html" title="Minitest::PrideIO (class)">PrideIO</a></span>
    <span class='id identifier rubyid_io'>io</span>    <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span>]

    <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span>.<span class='id identifier rubyid_reporters'>reporters</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="Minitest/Reporter.html" title="Minitest::Reporter (class)">Reporter</a></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rep'>rep</span><span class='op'>|</span>
      <span class='id identifier rubyid_rep'>rep</span>.<span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='id identifier rubyid_io'>io</span> <span class='kw'>if</span> <span class='id identifier rubyid_rep'>rep</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_tty?'>tty?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="plugin_pride_options-class_method">
  <h3 class='signature nodoc'>
    .<strong>plugin_pride_options</strong>(opts, _options)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest/pride_plugin.rb#L4-L8'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4' data-end='8'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/pride_plugin.rb', line 4</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_plugin_pride_options'>plugin_pride_options</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid__options'>_options</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-p</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--pride</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pride. Show your testing pride!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='const'><a href="Minitest/PrideIO.html" title="Minitest::PrideIO (class)">PrideIO</a></span>.<span class='id identifier rubyid_pride!'><a href="Minitest/PrideIO.html#pride!-class_method" title="Minitest::PrideIO.pride! (method)">pride!</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_args-class_method">
  <h3 class='signature nodoc'>
    .<strong>process_args</strong>(args = [])  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L186-L262'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='186' data-end='262'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 186</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_process_args'>process_args</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [] <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {
             <span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span> <span class='op'>=&gt;</span> <span class='gvar'>$stdout</span><span class='comma'>,</span>
            }
  <span class='id identifier rubyid_orig_args'>orig_args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>|</span>
    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_banner'>banner</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>minitest options:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='const'>Minitest</span><span class='op'>::</span><span class='const'><a href="#VERSION-constant" title="Minitest::VERSION (constant)">VERSION</a></span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Display this help.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_opts'>opts</span>
      <span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-plugins</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bypass minitest plugin auto-loading (or set $MT_NO_PLUGINS).</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sets random seed. Also via env. Eg: SEED=n rake</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--seed SEED</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Verbose. Show progress processing files.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--show-skips</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show skipped at the end of run.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_skips'>show_skips</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name PATTERN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Filter run on /regexp/ or string.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_filter'>filter</span>] <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--exclude PATTERN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Exclude /regexp/ or string from run.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_exclude'>exclude</span>] <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'>on</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-S</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--skip CODES</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>String</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skip reporting of certain types of results (eg E).</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_skip'>skip</span>] <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_chars'>chars</span>.<span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_separator'>separator</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Known extensions: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_extensions'><a href="#extensions-instance_method" title="Minitest#extensions (method)">extensions</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_meth'>meth</span><span class='op'>|</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>plugin_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>_options</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>if</span> <span class='kw'>self</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_msg'>msg</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_parse!'>parse!</span> <span class='id identifier rubyid_args'>args</span>
    <span class='kw'>rescue</span> <span class='const'>OptionParser</span><span class='op'>::</span><span class='const'>InvalidOption</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_opts'>opts</span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_orig_args'>orig_args</span> <span class='op'>-=</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_srand'>srand</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>] <span class='op'>=</span> (<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEED</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>||</span> <span class='id identifier rubyid_srand'>srand</span>).<span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>%</span> <span class='int'>0xFFFF</span>
    <span class='id identifier rubyid_orig_args'>orig_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--seed</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>].<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_args'>args</span>] <span class='op'>=</span> <span class='id identifier rubyid_orig_args'>orig_args</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\s|&amp;&lt;&gt;$()]</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='op'>:</span> <span class='id identifier rubyid_s'>s</span>
  }.<span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-class_method">
  <h3 class='signature '>
    .<strong>run</strong>(args = [])  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is the top-level run method. Everything starts from here. It tells each <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)"><code>::Minitest::Runnable</code></a> sub-class to run, and each of those are responsible for doing whatever they do.</p>

<p>The overall structure of a run looks like this:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Minitest</span>.<span class='id identifier rubyid_autorun'><a href="#autorun-class_method" title="Minitest.autorun (method)">autorun</a></span>
  <span class='const'>Minitest</span>.<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_args'>args</span>)
    <span class='const'>Minitest</span>.<span class='id identifier rubyid___run'><a href="#__run-class_method" title="Minitest.__run (method)">__run</a></span>(<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
      <span class='const'><a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">Runnable</a></span>.<span class='id identifier rubyid_runnables'><a href="Minitest/Runnable.html#runnables-class_method" title="Minitest::Runnable.runnables (method)">runnables</a></span>.<span class='id identifier rubyid_each'>each</span>
        <span class='id identifier rubyid_runnable'>runnable</span>.<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
          <span class='kw'>self</span>.<span class='id identifier rubyid_runnable_methods'>runnable_methods</span>.<span class='id identifier rubyid_each'>each</span>
            <span class='kw'>self</span>.<span class='id identifier rubyid_run_one_method'><a href="#run_one_method-class_method" title="Minitest.run_one_method (method)">run_one_method</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_runnable_method'>runnable_method</span><span class='comma'>,</span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span>)
              <span class='const'>Minitest</span>.<span class='id identifier rubyid_run_one_method'><a href="#run_one_method-class_method" title="Minitest.run_one_method (method)">run_one_method</a></span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_runnable_method'>runnable_method</span>)
                <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_runnable_method'>runnable_method</span>).<span class='id identifier rubyid_run'>run</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L140-L167'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='167'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_run'>run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []
  <span class='kw'>self</span>.<span class='id identifier rubyid_load_plugins'><a href="#load_plugins-class_method" title="Minitest.load_plugins (method)">load_plugins</a></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-plugins</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MT_NO_PLUGINS</span><span class='tstring_end'>&quot;</span></span>]

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_process_args'><a href="#process_args-class_method" title="Minitest.process_args (method)">process_args</a></span> <span class='id identifier rubyid_args'>args</span>

  <span class='const'>Minitest</span>.<span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>]
  <span class='id identifier rubyid_srand'>srand</span> <span class='const'>Minitest</span>.<span class='id identifier rubyid_seed'><a href="#seed-instance_method" title="Minitest#seed (method)">seed</a></span>

  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>=</span> <span class='const'><a href="Minitest/CompositeReporter.html" title="Minitest::CompositeReporter (class)">CompositeReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/CompositeReporter.html#new-class_method" title="Minitest::CompositeReporter.new (method)">new</a></span>
  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Minitest/SummaryReporter.html" title="Minitest::SummaryReporter (class)">SummaryReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/StatisticsReporter.html#new-class_method" title="Minitest::StatisticsReporter.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span>]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Minitest/ProgressReporter.html" title="Minitest::ProgressReporter (class)">ProgressReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/Reporter.html#new-class_method" title="Minitest::Reporter.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span>]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)

  <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>=</span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='comment'># this makes it available to plugins
</span>  <span class='kw'>self</span>.<span class='id identifier rubyid_init_plugins'><a href="#init_plugins-class_method" title="Minitest.init_plugins (method)">init_plugins</a></span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='comment'># runnables shouldn&#39;t depend on the reporter, ever
</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_parallel_executor'><a href="#parallel_executor-instance_method" title="Minitest#parallel_executor (method)">parallel_executor</a></span>.<span class='id identifier rubyid_start'>start</span> <span class='kw'>if</span> <span class='id identifier rubyid_parallel_executor'><a href="#parallel_executor-instance_method" title="Minitest#parallel_executor (method)">parallel_executor</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_start'>start</span>)
  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span>.<span class='id identifier rubyid_start'>start</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid___run'><a href="#__run-class_method" title="Minitest.__run (method)">__run</a></span> <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
    <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Interrupted. Exiting...</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_parallel_executor'><a href="#parallel_executor-instance_method" title="Minitest#parallel_executor (method)">parallel_executor</a></span>.<span class='id identifier rubyid_shutdown'>shutdown</span>
  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span>.<span class='id identifier rubyid_report'>report</span>

  <span class='id identifier rubyid_reporter'><a href="#reporter-instance_method" title="Minitest#reporter (method)">reporter</a></span>.<span class='id identifier rubyid_passed?'>passed?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_one_method-class_method">
  <h3 class='signature nodoc'>
    .<strong>run_one_method</strong>(klass, method_name)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L1058-L1062'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1058' data-end='1062'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 1058</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_run_one_method'>run_one_method</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_method_name'>method_name</span>).<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>#run _must_ return a Result</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><a href="Minitest/Result.html" title="Minitest::Result (class)">Result</a></span> <span class='op'>===</span> <span class='id identifier rubyid_result'>result</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="backtrace_filter-instance_method">
  <h3 class='signature  first'>
    #<strong>backtrace_filter</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Filter object for backtraces.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L43-L43'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='43'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace_filter'>backtrace_filter</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extensions-instance_method">
  <h3 class='signature '>
    #<strong>extensions</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Names of known extension plugins.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L55-L55'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='55' data-end='55'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_extensions'>extensions</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="info_signal-instance_method">
  <h3 class='signature '>
    #<strong>info_signal</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The signal to use for dumping information to STDERR. Defaults to “INFO”.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_info_signal'>info_signal</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parallel_executor-instance_method">
  <h3 class='signature '>
    #<strong>parallel_executor</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="Minitest/Parallel.html" title="Minitest::Parallel (module)"><code>::Minitest::Parallel</code></a> test executor</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L33-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='33' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_parallel_executor'>parallel_executor</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reporter-instance_method">
  <h3 class='signature '>
    #<strong>reporter</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="Minitest/Reporter.html" title="Minitest::Reporter (class)"><code>::Minitest::Reporter</code></a> object to be used for all runs.</p>

<p>NOTE: This accessor is only available during setup, not during runs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L50-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_reporter'>reporter</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="seed-instance_method">
  <h3 class='signature '>
    #<strong>seed</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The random seed used for this run. This is used to srand at the start of the run and between each <a href="Minitest/Runnable.html#run-class_method" title="Minitest::Runnable.run (method)">Runnable.run</a>.</p>

<p>Set via <a href="#run-class_method" title="Minitest.run (method)">.run</a> after processing args.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.16.3/lib/minitest.rb#L28-L28'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='28' data-end='28'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 28</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_cattr_accessor'><a href="#cattr_accessor-class_method" title="Minitest.cattr_accessor (method)">cattr_accessor</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed'>seed</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>