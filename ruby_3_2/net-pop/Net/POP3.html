<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Net::POP3 &mdash; net-pop  Ruby-3.2.3 pp157</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Net::POP3",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.2.3</a> &raquo; 
      <a href='../'>net-pop</a> &raquo; 
      <a href='../_index.html#alpha_P'>Index (P)</a> &raquo; 
        <a href="../Net.html" title="Net (module)">Net</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>POP3&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Net::POP3</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="APOP.html" title="Net::APOP (class)">APOP</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Protocol</span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'>Protocol</li>
          <li class='next'>Net::POP3</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L196'>lib/net/pop.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-What+is+This+Library-3F">What is This Library?</h3>

<p>This library provides functionality for retrieving email via <code>POP3</code>, the Post Office Protocol version 3. For details of <code>POP3</code>, see [RFC1939] (<a href="http://www.ietf.org/rfc/rfc1939.txt">www.ietf.org/rfc/rfc1939.txt</a>).</p>

<h3 id="label-Examples">Examples</h3>

<h4 id="label-Retrieving+Messages">Retrieving Messages</h4>

<p>This example retrieves messages from the server and deletes them on the server.</p>

<p>Messages are written to files named ‘inbox/1’, ‘inbox/2’, .… Replace ‘pop.example.com’ with your <code>POP3</code> server address, and ‘YourAccount’ and ‘YourPassword’ with the appropriate account details.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_pop'>pop</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'># (1)
</span><span class='kw'>if</span> <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No mail.</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_each_mail'><a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">each_mail</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>   <span class='comment'># or &quot;pop.mails.each ...&quot;   # (2)
</span>    <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_delete'>delete</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> mails popped.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Net::POP3#finish (method)">finish</a></span>                                           <span class='comment'># (3)</span></code></pre>
<ol><li>
<p>Call <a href="#start-instance_method" title="Net::POP3#start (method)">#start</a> and start <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> session.</p>
</li><li>
<p>Access messages by using <a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">#each_mail</a> and/or <a href="#mails-instance_method" title="Net::POP3#mails (method)">#mails</a>.</p>
</li><li>
<p>Close POP session by calling <a href="#finish-instance_method" title="Net::POP3#finish (method)">#finish</a> or use the block form of <a href="#start-instance_method" title="Net::POP3#start (method)">#start</a>.</p>
</li></ol>

<h4 id="label-Shortened+Code">Shortened Code</h4>

<p>The example above is very verbose. You can shorten the code by using some utility methods. First, the block form of <a href="#start-class_method" title="Net::POP3.start (method)">.start</a> can be used instead of <a href="#new-class_method" title="Net::POP3.new (method)">.new</a>, <a href="#start-instance_method" title="Net::POP3#start (method)">#start</a> and <a href="#finish-instance_method" title="Net::POP3#finish (method)">#finish</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No mail.</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_each_mail'><a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">each_mail</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>   <span class='comment'># or &quot;pop.mails.each ...&quot;
</span>      <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_delete'>delete</span>
      <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> mails popped.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p><a href="#delete_all-instance_method" title="Net::POP3#delete_all (method)">#delete_all</a> is an alternative for <a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">#each_mail</a> and <code>#delete</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No mail.</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_delete_all'><a href="#delete_all-class_method" title="Net::POP3.delete_all (method)">delete_all</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>And here is an even shorter example.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_delete_all'><a href="#delete_all-class_method" title="Net::POP3.delete_all (method)">delete_all</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Memory+Space+Issues">Memory Space Issues</h4>

<p>All the examples above get each message as one big string. This example avoids this.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_delete_all'><a href="#delete_all-class_method" title="Net::POP3.delete_all (method)">delete_all</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_chunk'>chunk</span><span class='op'>|</span>    <span class='comment'># get a message little by little.
</span>      <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_chunk'>chunk</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Using+APOP">Using APOP</h4>

<p>The net/pop library supports <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a> authentication. To use <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a>, use the <a href="APOP.html" title="Net::APOP (class)"><code>APOP</code></a> class instead of the <code>POP3</code> class. You can use the utility method, <code>POP3</code>.APOP(). For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/pop</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># Use APOP authentication if $isapop == true
</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='const'><a href="#APOP-class_method" title="Net::POP3.APOP (method)">APOP</a></span>(<span class='gvar'>$isapop</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>apop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span>)
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='comment'># Rest of the code is the same.
</span><span class='kw'>end</span></code></pre>

<h4 id="label-Fetch+Only+Selected+Mail+Using+-27UIDL-27+POP+Command">Fetch Only Selected Mail Using ‘UIDL’ POP Command</h4>

<p>If your <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server provides UIDL functionality, you can grab only selected mails from the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server. e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_need_pop?'>need_pop?</span>( <span class='id identifier rubyid_id'>id</span> )
  <span class='comment'># determine if we need pop this mail...
</span><span class='kw'>end</span>

<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your account</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your password</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_need_pop?'>need_pop?</span>(<span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_unique_id'>unique_id</span>) }.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The <a href="POPMail.html#unique_id-instance_method" title="Net::POPMail#unique_id (method)">POPMail#unique_id</a>() method returns the unique-id of the message as a String. Normally the unique-id is a hash of the message.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>version of this library</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L198-L198'># File 'lib/net/pop.rb', line 198</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.1.2</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#use_ssl%3F-class_method" title=".use_ssl? (class method)">.<strong>use_ssl?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>returns <code>true</code> if <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a> is set.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#APOP-class_method" title=".APOP (class method)"><strong>APOP</strong>(isapop)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a> class if <code>isapop</code> is true; otherwise, returns the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#auth_only-class_method" title=".auth_only (class method)">.<strong>auth_only</strong>(address, port = nil, account = nil, password = nil, isapop = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Opens a <code>POP3</code> session, attempts authentication, and quits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#certs-class_method" title=".certs (class method)">.<strong>certs</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the <code>:ca_file</code> or <code>:ca_path</code> from <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_ssl_params-class_method" title=".create_ssl_params (class method)">.<strong>create_ssl_params</strong>(verify_or_params = {}, certs = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs proper parameters from arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_pop3_port-class_method" title=".default_pop3_port (class method)">.<strong>default_pop3_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default port for <code>POP3</code> connections, port 110.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_pop3s_port-class_method" title=".default_pop3s_port (class method)">.<strong>default_pop3s_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default port for POP3S connections, port 995.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_port-class_method" title=".default_port (class method)">.<strong>default_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the port for <code>POP3</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_all-class_method" title=".delete_all (class method)">.<strong>delete_all</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts a <code>POP3</code> session and deletes all messages on the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disable_ssl-class_method" title=".disable_ssl (class method)">.<strong>disable_ssl</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disable SSL for all new instances.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_ssl-class_method" title="Net::POP.enable_ssl (class method)"><strong>Net::POP.enable_ssl</strong>(params = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enable SSL for all new instances.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#foreach-class_method" title=".foreach (class method)">.<strong>foreach</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts a <code>POP3</code> session and iterates over each <a href="POPMail.html" title="Net::POPMail (class)"><code>POPMail</code></a> object, yielding it to the <code>block</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(addr, port = nil, isapop = false)  &#x21d2; POP3 </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>POP3</code> object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ssl_params-class_method" title=".ssl_params (class method)">.<strong>ssl_params</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the SSL Parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-class_method" title=".start (class method)">.<strong>start</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>POP3</code> object and open the connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#verify-class_method" title=".verify (class method)">.<strong>verify</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns whether verify_mode is enable from <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#socket_type-class_method" title=".socket_type (class method)">.<strong>socket_type</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>obsolete.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#address-instance_method" title="#address (instance method)">#<strong>address</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The address to connect to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#apop%3F-instance_method" title="#apop? (instance method)">#<strong>apop?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Does this instance use <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a> authentication?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#open_timeout-instance_method" title="#open_timeout (instance method)">#<strong>open_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until a connection is opened.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#read_timeout-instance_method" title="#read_timeout (instance method)">#<strong>read_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until reading one block (by one read(1) call).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#read_timeout=-instance_method" title="#read_timeout= (instance method)">#<strong>read_timeout=</strong>(sec)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the read timeout.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#started%3F-instance_method" title="#started? (instance method)">#<strong>started?</strong>  &#x21d2; Boolean </a>
      (also: #active?)
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p><code>true</code> if the <code>POP3</code> session has started.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#use_ssl%3F-instance_method" title="#use_ssl? (instance method)">#<strong>use_ssl?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>does this instance use SSL?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#active%3F-instance_method" title="#active? (instance method)">#<strong>active?</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#started%3F-instance_method" title="Net::POP3#started? (method)">#started?</a>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#auth_only-instance_method" title="#auth_only (instance method)">#<strong>auth_only</strong>(account, password)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts a pop3 session, attempts authentication, and quits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_all-instance_method" title="#delete_all (instance method)">#<strong>delete_all</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes all messages on the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disable_ssl-instance_method" title="#disable_ssl (instance method)">#<strong>disable_ssl</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disable SSL for all new instances.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">#each_mail</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_mail-instance_method" title="#each_mail (instance method)">#<strong>each_mail</strong>(&amp;block)  </a>
      (also: #each)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yields each message to the passed-in block in turn.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_ssl-instance_method" title="#Net::POP (instance method)"><strong>Net::POP</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enables SSL for this instance.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#finish-instance_method" title="#finish (instance method)">#<strong>finish</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finishes a <code>POP3</code> session and closes TCP connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Provide human-readable stringification of class state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#logging-instance_method" title="#logging (instance method)">#<strong>logging</strong>(msg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>debugging output for <code>msg</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mails-instance_method" title="#mails (instance method)">#<strong>mails</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of <a href="POPMail.html" title="Net::POPMail (class)"><code>POPMail</code></a> objects, representing all the messages on the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#n_bytes-instance_method" title="#n_bytes (instance method)">#<strong>n_bytes</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the total size in bytes of all the messages on the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#n_mails-instance_method" title="#n_mails (instance method)">#<strong>n_mails</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of messages on the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The port number to connect to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resets the session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_debug_output-instance_method" title="#set_debug_output (instance method)">#<strong>set_debug_output</strong>(arg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><strong>WARNING</strong>: This method causes a serious security hole.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>(account, password)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts a <code>POP3</code> session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#set_all_uids-instance_method" title="#set_all_uids (instance method)">#<strong>set_all_uids</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>internal use only (called from <a href="POPMail.html#uidl-instance_method" title="Net::POPMail#uidl (method)">POPMail#uidl</a>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#command-instance_method" title="#command (instance method)">#<strong>command</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current command.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#do_finish-instance_method" title="#do_finish (instance method)">#<strong>do_finish</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>nil’s out the: - mails - number counter for mails - number counter for bytes - quits the current command, if any.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#do_start-instance_method" title="#do_start (instance method)">#<strong>do_start</strong>(account, password)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>internal method for <a href="#start-class_method" title="Net::POP3.start (method)">.start</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#on_connect-instance_method" title="#on_connect (instance method)">#<strong>on_connect</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Does nothing.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(addr, port = nil, isapop = false)  &#x21d2; <code>POP3</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>POP3</code> object.</p>

<p><a href="#address-instance_method" title="Net::POP3#address (method)">#address</a> is the hostname or ip address of your <code>POP3</code> server.</p>

<p>The optional <a href="#port-instance_method" title="Net::POP3#port (method)">#port</a> is the port to connect to.</p>

<p>The optional <code>isapop</code> specifies whether this connection is going to use <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a> authentication; it defaults to <code>false</code>.</p>

<p>This method does <strong>not</strong> open the TCP connection.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L417-L433'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='417' data-end='433'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 417</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='ivar'>@address</span> <span class='op'>=</span> <span class='id identifier rubyid_addr'>addr</span>
  <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_ssl_params'><a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">ssl_params</a></span>
  <span class='ivar'>@port</span> <span class='op'>=</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span>
  <span class='ivar'>@apop</span> <span class='op'>=</span> <span class='id identifier rubyid_isapop'>isapop</span>

  <span class='ivar'>@command</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@open_timeout</span> <span class='op'>=</span> <span class='int'>30</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='int'>60</span>
  <span class='ivar'>@debug_output</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@mails</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@n_mails</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@n_bytes</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="use_ssl?-class_method">
  <h3 class='signature ro first'>
    .<strong>use_ssl?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns <code>true</code> if <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a> is set</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L367-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='367' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 367</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_use_ssl?'>use_ssl?</span>
  <span class='kw'>return</span> <span class='op'>!</span><span class='ivar'>@ssl_params</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="APOP-class_method">
  <h3 class='signature  first'>
    <strong>APOP</strong>(isapop)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>APOP</code> class if <code>isapop</code> is true; otherwise, returns the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> class.  For example:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Example 1
</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span><span class='op'>::</span><span class='const'>APOP</span>(<span class='gvar'>$is_apop</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span>)

<span class='comment'># Example 2
</span><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span><span class='op'>::</span><span class='const'>APOP</span>(<span class='gvar'>$is_apop</span>).<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='comment'>#....
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L238-L240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='238' data-end='240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 238</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='const'>APOP</span>(<span class='id identifier rubyid_isapop'>isapop</span>)
  <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>?</span> <span class='const'>APOP</span> <span class='op'>:</span> <span class='const'>POP3</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auth_only-class_method">
  <h3 class='signature '>
    .<strong>auth_only</strong>(address, port = nil, account = nil, password = nil, isapop = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Opens a <code>POP3</code> session, attempts authentication, and quits.</p>

<p>This method raises <a href="POPAuthenticationError.html" title="Net::POPAuthenticationError (class)"><code>POPAuthenticationError</code></a> if authentication fails.</p>

<h4 id="label-Example-3A+normal+POP3">Example: normal POP3</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_auth_only'>auth_only</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<h4 id="label-Example-3A+APOP">Example: APOP</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_auth_only'>auth_only</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L305-L309'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='305' data-end='309'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 305</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_auth_only'>auth_only</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                   <span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                   <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span>).<span class='id identifier rubyid_auth_only'>auth_only</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="certs-class_method">
  <h3 class='signature '>
    .<strong>certs</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the <code>:ca_file</code> or <code>:ca_path</code> from <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L377-L379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='377' data-end='379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 377</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_certs'>certs</span>
  <span class='kw'>return</span> <span class='ivar'>@ssl_params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_file'>ca_file</span>] <span class='op'>||</span> <span class='ivar'>@ssl_params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_path'>ca_path</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_ssl_params-class_method">
  <h3 class='signature '>
    .<strong>create_ssl_params</strong>(verify_or_params = {}, certs = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Constructs proper parameters from arguments</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L337-L352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='337' data-end='352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 337</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_create_ssl_params'>create_ssl_params</span>(<span class='id identifier rubyid_verify_or_params'>verify_or_params</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_verify_or_params'>verify_or_params</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> {}
    <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>] <span class='op'>=</span> <span class='id identifier rubyid_verify_or_params'>verify_or_params</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>
      <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>)
        <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_file'>ca_file</span>] <span class='op'>=</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>
      <span class='kw'>elsif</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span>(<span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>)
        <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_path'>ca_path</span>] <span class='op'>=</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_params'>params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_pop3_port-class_method">
  <h3 class='signature '>
    .<strong>default_pop3_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default port for <code>POP3</code> connections, port 110</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L210-L212'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='210' data-end='212'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 210</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_default_pop3_port'>default_pop3_port</span>
  <span class='int'>110</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_pop3s_port-class_method">
  <h3 class='signature '>
    .<strong>default_pop3s_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default port for POP3S connections, port 995</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L215-L217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='215' data-end='217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 215</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_default_pop3s_port'>default_pop3s_port</span>
  <span class='int'>995</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_port-class_method">
  <h3 class='signature '>
    .<strong>default_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the port for <code>POP3</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L205-L207'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='205' data-end='207'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 205</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_default_port'>default_port</span>
  <span class='id identifier rubyid_default_pop3_port'><a href="#default_pop3_port-class_method" title="Net::POP3.default_pop3_port (method)">default_pop3_port</a></span>()
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_all-class_method">
  <h3 class='signature '>
    .<strong>delete_all</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts a <code>POP3</code> session and deletes all messages on the server. If a block is given, each <a href="POPMail.html" title="Net::POPMail (class)"><code>POPMail</code></a> object is yielded to it before being deleted.</p>

<p>This method raises a <a href="POPAuthenticationError.html" title="Net::POPAuthenticationError (class)"><code>POPAuthenticationError</code></a> if authentication fails.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_delete_all'>delete_all</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L283-L289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='283' data-end='289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 283</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_delete_all'>delete_all</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                    <span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                    <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span>) {<span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
    <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_delete_all'>delete_all</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_ssl-class_method">
  <h3 class='signature '>
    .<strong>disable_ssl</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disable SSL for all new instances.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L355-L357'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='357'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_disable_ssl'>disable_ssl</span>
  <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_ssl-class_method">
  <h3 class='signature '>
    <strong>Net::POP.enable_ssl</strong>(params = {})    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enable SSL for all new instances. <code>params</code> is passed to <code>OpenSSL::SSLContext#set_params</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L332-L334'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='332' data-end='334'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 332</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_enable_ssl'>enable_ssl</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='id identifier rubyid_create_ssl_params'><a href="#create_ssl_params-class_method" title="Net::POP3.create_ssl_params (method)">create_ssl_params</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="foreach-class_method">
  <h3 class='signature '>
    .<strong>foreach</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts a <code>POP3</code> session and iterates over each <a href="POPMail.html" title="Net::POPMail (class)"><code>POPMail</code></a> object, yielding it to the <code>block</code>. This method is equivalent to:</p>

<pre class="code ruby"><code class="ruby">Net::POP3.start(address, port, account, password) do |pop|
  pop.each_mail do |m|
    yield m
  end
end</code></pre>

<p>This method raises a <a href="POPAuthenticationError.html" title="Net::POPAuthenticationError (class)"><code>POPAuthenticationError</code></a> if authentication fails.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_foreach'>foreach</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pop.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>110</span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourAccount</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>YourPassword</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='kw'>if</span> <span class='gvar'>$DELETE</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L262-L268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='262' data-end='268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 262</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_foreach'>foreach</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                 <span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                 <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)  <span class='comment'># :yields: message
</span>  <span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span>) {<span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
    <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_each_mail'><a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">each_mail</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="socket_type-class_method">
  <h3 class='signature nodoc'>
    .<strong>socket_type</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>obsolete</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L219-L221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='219' data-end='221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 219</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_socket_type'>socket_type</span>   <span class='comment'>#:nodoc: obsolete
</span>  <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>InternetMessageIO</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_params-class_method">
  <h3 class='signature '>
    .<strong>ssl_params</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the SSL Parameters</p>

<p>see also <a href="#enable_ssl-class_method" title="Net::POP3.enable_ssl (method)">.enable_ssl</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L362-L364'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='362' data-end='364'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 362</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_ssl_params'>ssl_params</span>
  <span class='kw'>return</span> <span class='ivar'>@ssl_params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-class_method">
  <h3 class='signature '>
    .<strong>start</strong>(address, port = nil, account = nil, password = nil, isapop = false, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>POP3</code> object and open the connection.  Equivalent to</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span>).<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>)</code></pre>

<p>If <code>block</code> is provided, yields the newly-opened <code>POP3</code> object to it, and automatically closes it at the end of the session.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>POP3</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_each_mail'><a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">each_mail</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_delete'>delete</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L401-L405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
               <span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
               <span class='id identifier rubyid_isapop'>isapop</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)   <span class='comment'># :yield: pop
</span>  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::POP3#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_isapop'>isapop</span>).<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify-class_method">
  <h3 class='signature '>
    .<strong>verify</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns whether verify_mode is enable from <a href="#ssl_params-class_method" title="Net::POP3.ssl_params (method)">.ssl_params</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L372-L374'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='372' data-end='374'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 372</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_verify'>verify</span>
  <span class='kw'>return</span> <span class='ivar'>@ssl_params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="active?-instance_method">
  <h3 class='signature ro  nodoc first'>
    #<strong>active?</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#started%3F-instance_method" title="Net::POP3#started? (method)">#started?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L518-L518'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='518' data-end='518'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 518</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_active?'>active?</span> <span class='id identifier rubyid_started?'><a href="#started%3F-instance_method" title="Net::POP3#started? (method)">started?</a></span>   <span class='comment'>#:nodoc: obsolete</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="address-instance_method">
  <h3 class='signature ro'>
    #<strong>address</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The address to connect to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L490-L490'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='490' data-end='490'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 490</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_address'>address</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="apop?-instance_method">
  <h3 class='signature ro'>
    #<strong>apop?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does this instance use <a href="#APOP-class_method" title="Net::POP3.APOP (method)">.APOP</a> authentication?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L436-L438'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='436' data-end='438'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 436</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_apop?'>apop?</span>
  <span class='ivar'>@apop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>open_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until a connection is opened. If the <code>POP3</code> object cannot open a connection within this time, it raises a <code>Net::OpenTimeout</code> exception. The default value is 30 seconds.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L500-L500'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='500' data-end='500'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 500</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_open_timeout'>open_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>read_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until reading one block (by one read(1) call). If the <code>POP3</code> object cannot complete a read() within this time, it raises a <code>Net::ReadTimeout</code> exception. The default value is 60 seconds.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L505-L505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='505' data-end='505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 505</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_read_timeout'>read_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_timeout=-instance_method">
  <h3 class='signature rw'>
    #<strong>read_timeout=</strong>(sec)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the read timeout.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L508-L511'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='508' data-end='511'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_timeout='>read_timeout=</span>(<span class='id identifier rubyid_sec'>sec</span>)
  <span class='ivar'>@command</span>.<span class='id identifier rubyid_socket'>socket</span>.<span class='id identifier rubyid_read_timeout'><a href="#read_timeout-instance_method" title="Net::POP3#read_timeout (method)">read_timeout</a></span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span> <span class='kw'>if</span> <span class='ivar'>@command</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="started?-instance_method">
  <h3 class='signature ro'>
    #<strong>started?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#active?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>true</code> if the <code>POP3</code> session has started.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L514-L516'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='514' data-end='516'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 514</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_started?'>started?</span>
  <span class='ivar'>@started</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="use_ssl?-instance_method">
  <h3 class='signature ro'>
    #<strong>use_ssl?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>does this instance use SSL?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L441-L443'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='441' data-end='443'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 441</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_use_ssl?'>use_ssl?</span>
  <span class='kw'>return</span> <span class='op'>!</span><span class='ivar'>@ssl_params</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="auth_only-instance_method">
  <h3 class='signature  first'>
    #<strong>auth_only</strong>(account, password)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts a pop3 session, attempts authentication, and quits. This method must not be called while <code>POP3</code> session is opened. This method raises <a href="POPAuthenticationError.html" title="Net::POPAuthenticationError (class)"><code>POPAuthenticationError</code></a> if authentication fails.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L314-L319'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='314' data-end='319'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 314</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_only'>auth_only</span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>opening previously opened POP session</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_started?'><a href="#started%3F-instance_method" title="Net::POP3#started? (method)">started?</a></span>
  <span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>) {
    <span class='semicolon'>;</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="command-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>command</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current command.</p>

<p>Raises IOError if there is no active socket</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L615-L619'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='615' data-end='619'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_command'>command</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POP session not opened yet</span><span class='tstring_end'>&#39;</span></span> \
                                  <span class='kw'>if</span> <span class='kw'>not</span> <span class='ivar'>@socket</span> <span class='kw'>or</span> <span class='ivar'>@socket</span>.<span class='id identifier rubyid_closed?'>closed?</span>
  <span class='ivar'>@command</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_all-instance_method">
  <h3 class='signature '>
    #<strong>delete_all</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes all messages on the server.</p>

<p>If called with a block, yields each message in turn before deleting it.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_delete_all'>delete_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>

<p>This method raises a <a href="POPError.html" title="Net::POPError (class)"><code>POPError</code></a> if an error occurs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L690-L695'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='690' data-end='695'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 690</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_all'>delete_all</span> <span class='comment'># :yield: message
</span>  <span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>().<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_m'>m</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='kw'>unless</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_deleted?'>deleted?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_ssl-instance_method">
  <h3 class='signature '>
    #<strong>disable_ssl</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disable SSL for all new instances.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L463-L465'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='463' data-end='465'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 463</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_disable_ssl'>disable_ssl</span>
  <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_finish-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>do_finish</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>nil’s out the:</p>
<ul><li>
<p>mails</p>
</li><li>
<p>number counter for mails</p>
</li><li>
<p>number counter for bytes</p>
</li><li>
<p>quits the current command, if any</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L599-L609'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='599' data-end='609'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 599</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_finish'>do_finish</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@mails</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@n_mails</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@n_bytes</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@command</span>.<span class='id identifier rubyid_quit'>quit</span> <span class='kw'>if</span> <span class='ivar'>@command</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@command</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@socket</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='ivar'>@socket</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_start-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>do_start</strong>(account, password)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>internal method for <a href="#start-class_method" title="Net::POP3.start (method)">.start</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L542-L580'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='542' data-end='580'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 542</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_start'>do_start</span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>begin</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>Socket</span>.<span class='id identifier rubyid_tcp'>tcp</span> <span class='ivar'>@address</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>connect_timeout:</span> <span class='ivar'>@open_timeout</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ETIMEDOUT</span> <span class='comment'>#raise Net:OpenTimeout instead for compatibility with previous versions
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout to open TCP connection to </span><span class='tstring_end'>&quot;</span></span>\
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> (exceeds </span><span class='embexpr_beg'>#{</span><span class='ivar'>@open_timeout</span><span class='embexpr_end'>}</span><span class='tstring_content'> seconds)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_use_ssl?'><a href="#use_ssl%3F-class_method" title="Net::POP3.use_ssl? (method)">use_ssl?</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>openssl library not installed</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span>)
    <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLContext</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>
    <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_set_params'>set_params</span>(<span class='ivar'>@ssl_params</span>)
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLSocket</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>)
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='ivar'>@address</span>
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_sync_close'>sync_close</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_ssl_socket_connect'>ssl_socket_connect</span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='ivar'>@open_timeout</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_verify_mode'>verify_mode</span> <span class='op'>!=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_NONE</span>
      <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_post_connection_check'>post_connection_check</span>(<span class='ivar'>@address</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='const'>InternetMessageIO</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span>
                                  <span class='label'>read_timeout:</span> <span class='ivar'>@read_timeout</span><span class='comma'>,</span>
                                  <span class='label'>debug_output:</span> <span class='ivar'>@debug_output</span>)
  <span class='id identifier rubyid_logging'><a href="#logging-instance_method" title="Net::POP3#logging (method)">logging</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POP session started: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@port</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='ivar'>@apop</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>APOP</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POP</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_on_connect'><a href="#on_connect-instance_method" title="Net::POP3#on_connect (method)">on_connect</a></span>
  <span class='ivar'>@command</span> <span class='op'>=</span> <span class='const'><a href="POP3Command.html" title="Net::POP3Command (class)">POP3Command</a></span>.<span class='id identifier rubyid_new'><a href="POP3Command.html#new-class_method" title="Net::POP3Command.new (method)">new</a></span>(<span class='ivar'>@socket</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_apop?'><a href="#apop%3F-instance_method" title="Net::POP3#apop? (method)">apop?</a></span>
    <span class='ivar'>@command</span>.<span class='id identifier rubyid_apop'>apop</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
  <span class='kw'>else</span>
    <span class='ivar'>@command</span>.<span class='id identifier rubyid_auth'>auth</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
  <span class='kw'>end</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>ensure</span>
  <span class='comment'># Authentication failed, clean up connection.
</span>  <span class='kw'>unless</span> <span class='ivar'>@started</span>
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span>
    <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@command</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">#each_mail</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L672-L672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='672' data-end='672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 672</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_each'>each</span> <span class='id identifier rubyid_each_mail'><a href="#each_mail-instance_method" title="Net::POP3#each_mail (method)">each_mail</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_mail-instance_method">
  <h3 class='signature '>
    #<strong>each_mail</strong>(&amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#each</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yields each message to the passed-in block in turn. Equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pop3'>pop3</span>.<span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_popmail'>popmail</span><span class='op'>|</span>
  <span class='comment'>#....
</span><span class='kw'>end</span></code></pre>

<p>This method raises a <a href="POPError.html" title="Net::POPError (class)"><code>POPError</code></a> if an error occurs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L668-L670'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='668' data-end='670'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 668</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each_mail'>each_mail</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)  <span class='comment'># :yield: message
</span>  <span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>().<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_ssl-instance_method">
  <h3 class='signature '>
    <strong>Net::POP</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enables SSL for this instance.  Must be called before the connection is established to have any effect. <code>params[:port]</code> is port to establish the SSL connection on; Defaults to 995. <code>params</code> (except <code>:port</code>) is passed to <code>OpenSSL::SSLContext#set_params</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L452-L460'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='452' data-end='460'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 452</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enable_ssl'>enable_ssl</span>(<span class='id identifier rubyid_verify_or_params'>verify_or_params</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>begin</span>
    <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='id identifier rubyid_verify_or_params'>verify_or_params</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>.<span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='ivar'>@ssl_params</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span>) <span class='op'>||</span> <span class='ivar'>@port</span>
  <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
    <span class='ivar'>@ssl_params</span> <span class='op'>=</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_create_ssl_params'><a href="#create_ssl_params-class_method" title="Net::POP3.create_ssl_params (method)">create_ssl_params</a></span>(<span class='id identifier rubyid_verify_or_params'>verify_or_params</span><span class='comma'>,</span> <span class='id identifier rubyid_certs'><a href="#certs-class_method" title="Net::POP3.certs (method)">certs</a></span>)
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span> <span class='op'>||</span> <span class='ivar'>@port</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="finish-instance_method">
  <h3 class='signature '>
    #<strong>finish</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finishes a <code>POP3</code> session and closes TCP connection.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L589-L592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='589' data-end='592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 589</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_finish'>finish</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POP session not yet started</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_started?'><a href="#started%3F-instance_method" title="Net::POP3#started? (method)">started?</a></span>
  <span class='id identifier rubyid_do_finish'><a href="#do_finish-instance_method" title="Net::POP3#do_finish (method)">do_finish</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provide human-readable stringification of class state.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L468-L470'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='468' data-end='470'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 468</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@port</span><span class='embexpr_end'>}</span><span class='tstring_content'> open=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@started</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logging-instance_method">
  <h3 class='signature '>
    #<strong>logging</strong>(msg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>debugging output for <code>msg</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L715-L717'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='715' data-end='717'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 715</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logging'>logging</span>(<span class='id identifier rubyid_msg'>msg</span>)
  <span class='ivar'>@debug_output</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_msg'>msg</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug_output</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mails-instance_method">
  <h3 class='signature '>
    #<strong>mails</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of <a href="POPMail.html" title="Net::POPMail (class)"><code>POPMail</code></a> objects, representing all the messages on the server.  This array is renewed when the session restarts; otherwise, it is fetched from the server the first time this method is called (directly or indirectly) and cached.</p>

<p>This method raises a <a href="POPError.html" title="Net::POPError (class)"><code>POPError</code></a> if an error occurs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L646-L658'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='646' data-end='658'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 646</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mails'>mails</span>
  <span class='kw'>return</span> <span class='ivar'>@mails</span>.<span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='ivar'>@mails</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_n_mails'><a href="#n_mails-instance_method" title="Net::POP3#n_mails (method)">n_mails</a></span>() <span class='op'>==</span> <span class='int'>0</span>
    <span class='comment'># some popd raises error for LIST on the empty mailbox.
</span>    <span class='ivar'>@mails</span> <span class='op'>=</span> []
    <span class='kw'>return</span> []
  <span class='kw'>end</span>

  <span class='ivar'>@mails</span> <span class='op'>=</span> <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>().<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='op'>|</span>
    <span class='const'><a href="POPMail.html" title="Net::POPMail (class)">POPMail</a></span>.<span class='id identifier rubyid_new'><a href="POPMail.html#new-class_method" title="Net::POPMail.new (method)">new</a></span>(<span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>())
  }
  <span class='ivar'>@mails</span>.<span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="n_bytes-instance_method">
  <h3 class='signature '>
    #<strong>n_bytes</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the total size in bytes of all the messages on the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L634-L638'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='634' data-end='638'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 634</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_n_bytes'>n_bytes</span>
  <span class='kw'>return</span> <span class='ivar'>@n_bytes</span> <span class='kw'>if</span> <span class='ivar'>@n_bytes</span>
  <span class='ivar'>@n_mails</span><span class='comma'>,</span> <span class='ivar'>@n_bytes</span> <span class='op'>=</span> <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>().<span class='id identifier rubyid_stat'>stat</span>
  <span class='ivar'>@n_bytes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="n_mails-instance_method">
  <h3 class='signature '>
    #<strong>n_mails</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of messages on the <a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a> server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L627-L631'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='627' data-end='631'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 627</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_n_mails'>n_mails</span>
  <span class='kw'>return</span> <span class='ivar'>@n_mails</span> <span class='kw'>if</span> <span class='ivar'>@n_mails</span>
  <span class='ivar'>@n_mails</span><span class='comma'>,</span> <span class='ivar'>@n_bytes</span> <span class='op'>=</span> <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>().<span class='id identifier rubyid_stat'>stat</span>
  <span class='ivar'>@n_mails</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_connect-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>on_connect</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does nothing</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L584-L585'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='584' data-end='585'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 584</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_connect'>on_connect</span> <span class='comment'># :nodoc:
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="port-instance_method">
  <h3 class='signature '>
    #<strong>port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The port number to connect to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L493-L495'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='493' data-end='495'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 493</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>
  <span class='kw'>return</span> <span class='ivar'>@port</span> <span class='op'>||</span> (<span class='id identifier rubyid_use_ssl?'><a href="#use_ssl%3F-class_method" title="Net::POP3.use_ssl? (method)">use_ssl?</a></span> <span class='op'>?</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_default_pop3s_port'><a href="#default_pop3s_port-class_method" title="Net::POP3.default_pop3s_port (method)">default_pop3s_port</a></span> <span class='op'>:</span> <span class='const'>POP3</span>.<span class='id identifier rubyid_default_pop3_port'><a href="#default_pop3_port-class_method" title="Net::POP3.default_pop3_port (method)">default_pop3_port</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset-instance_method">
  <h3 class='signature '>
    #<strong>reset</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resets the session.  This clears all “deleted” marks from messages.</p>

<p>This method raises a <a href="POPError.html" title="Net::POPError (class)"><code>POPError</code></a> if an error occurs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L700-L707'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='700' data-end='707'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 700</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset'>reset</span>
  <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>().<span class='id identifier rubyid_rset'>rset</span>
  <span class='id identifier rubyid_mails'><a href="#mails-instance_method" title="Net::POP3#mails (method)">mails</a></span>().<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_instance_eval'>instance_eval</span> {
      <span class='ivar'>@deleted</span> <span class='op'>=</span> <span class='kw'>false</span>
    }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_all_uids-instance_method">
  <h3 class='signature nodoc'>
    #<strong>set_all_uids</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>internal use only (called from <a href="POPMail.html#uidl-instance_method" title="Net::POPMail#uidl (method)">POPMail#uidl</a>)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L709-L712'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='709' data-end='712'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 709</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_all_uids'>set_all_uids</span>   <span class='comment'>#:nodoc: internal use only (called from POPMail#uidl)
</span>  <span class='id identifier rubyid_uidl'>uidl</span> <span class='op'>=</span> <span class='id identifier rubyid_command'><a href="#command-instance_method" title="Net::POP3#command (method)">command</a></span>().<span class='id identifier rubyid_uidl'>uidl</span>
  <span class='ivar'>@mails</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Net::POP3#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_uid'>uid</span> <span class='op'>=</span> <span class='id identifier rubyid_uidl'>uidl</span>[<span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_number'>number</span>] }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_debug_output-instance_method">
  <h3 class='signature '>
    #<strong>set_debug_output</strong>(arg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><strong>WARNING</strong>: This method causes a serious security hole. Use this method only for debugging.</p>

<p>Set an output stream for debugging.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pop'>pop</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../Net.html#POP-constant" title="Net::POP (constant)">POP</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::POP3.new (method)">new</a></span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::POP3#port (method)">port</a></span>)
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_set_debug_output'>set_debug_output</span> <span class='gvar'>$stderr</span>
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::POP3.start (method)">start</a></span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_passwd'>passwd</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pop'>pop</span><span class='op'>|</span>
  <span class='comment'>#....
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L485-L487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='485' data-end='487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 485</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_debug_output'>set_debug_output</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='ivar'>@debug_output</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-instance_method">
  <h3 class='signature '>
    #<strong>start</strong>(account, password)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts a <code>POP3</code> session.</p>

<p>When called with block, gives a <code>POP3</code> object to the block and closes the session after block call finishes.</p>

<p>This method raises a <a href="POPAuthenticationError.html" title="Net::POPAuthenticationError (class)"><code>POPAuthenticationError</code></a> if authentication fails.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-pop/blob/v0.1.2/lib/net/pop.rb#L526-L539'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='526' data-end='539'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/pop.rb', line 526</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>) <span class='comment'># :yield: pop
</span>  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POP session already started</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='ivar'>@started</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_do_start'><a href="#do_start-instance_method" title="Net::POP3#do_start (method)">do_start</a></span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
      <span class='kw'>return</span> <span class='kw'>yield</span>(<span class='kw'>self</span>)
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_do_finish'><a href="#do_finish-instance_method" title="Net::POP3#do_finish (method)">do_finish</a></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_do_start'><a href="#do_start-instance_method" title="Net::POP3#do_start (method)">do_start</a></span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>