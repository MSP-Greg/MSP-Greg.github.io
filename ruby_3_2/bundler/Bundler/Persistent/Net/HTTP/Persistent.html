<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Bundler::Persistent::Net::HTTP::Persistent &mdash; bundler  Ruby-3.2.9 p265</title>

<link rel='stylesheet'  type='text/css' href='../../../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Bundler::Persistent::Net::HTTP::Persistent",
    relpath = '../../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../../../'>Ruby-3.2.9</a> &raquo; 
      <a href='../../../../'>bundler</a> &raquo; 
      <a href='../../../../_index.html#alpha_P'>Index (P)</a> &raquo; 
        <a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a> &raquo; 
        <a href="../../../Persistent.html" title="Bundler::Persistent (module)">Persistent</a> &raquo; 
        <a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a> &raquo; 
        <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Persistent&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Bundler::Persistent::Net::HTTP::Persistent</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="Persistent/Connection.html" title="Bundler::Persistent::Net::HTTP::Persistent::Connection (class)"><code>Connection</code></a>,
        <a class='nodoc' href="Persistent/Pool.html" title="Bundler::Persistent::Net::HTTP::Persistent::Pool (class)"><code>Pool</code></a>,
        <a class='nodoc' href="Persistent/TimedStackMulti.html" title="Bundler::Persistent::Net::HTTP::Persistent::TimedStackMulti (class)"><code>TimedStackMulti</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)"><code>Error</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L144'>lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Persistent</code> connections for <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a></p>

<p><code>Persistent</code> maintains persistent connections across all the servers you wish to talk to.  For each host:port you communicate with a single persistent connection is created.</p>

<p>Connections will be shared across threads through a connection pool to increase reuse of connections.</p>

<p>You can shut down any remaining <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> connections when done by calling <a href="#shutdown-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#shutdown (method)">#shutdown</a>.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'><a href="../../../../Bundler.html#require-class_method" title="Bundler.require (method)">require</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bundler/vendor/net-http-persistent/lib/net/http/persistent</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://example.com/awesome/web/service</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>http = <a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">.new</a></p>

<pre class="code ruby"><code class="ruby"><span class='comment'># perform a GET
</span><span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_request'><a href="#request-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#request (method)">request</a></span> <span class='id identifier rubyid_uri'>uri</span>

<span class='comment'># or
</span>
<span class='id identifier rubyid_get'>get</span> <span class='op'>=</span> <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Get</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_request_uri'>request_uri</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_request'><a href="#request-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#request (method)">request</a></span> <span class='id identifier rubyid_get'>get</span>

<span class='comment'># create a POST
</span><span class='id identifier rubyid_post_uri'>post_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>create</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Post</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='id identifier rubyid_post_uri'>post_uri</span>.<span class='id identifier rubyid_path'>path</span>
<span class='id identifier rubyid_post'>post</span>.<span class='id identifier rubyid_set_form_data'>set_form_data</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>some</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cool data</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># perform the POST, the Bundler::URI is always required
</span><span class='id identifier rubyid_response'>response</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_request'><a href="#request-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#request (method)">request</a></span> <span class='id identifier rubyid_post_uri'>post_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_post'>post</span></code></pre>

<p>Note that for GET, HEAD and other requests that do not have a body you want to use <code>Bundler::URI#request_uri</code> not <code>Bundler::URI#path</code>.  The request_uri contains the query params which are sent in the body for other requests.</p>

<h3 id="label-TLS-2FSSL">TLS/SSL</h3>

<p>TLS connections are automatically created depending upon the scheme of the <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a>.  TLS connections are automatically verified against the default certificate store for your computer.  You can override this by changing verify_mode or by specifying an alternate cert_store.</p>

<p>Here are the TLS settings, see the individual methods for documentation:</p>
<dl class="rdoc-list note-list"><dt><a href="#certificate-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#certificate (method)">#certificate</a>        </dt>
<dd>
<p>This client’s certificate</p>
</dd><dt><a href="#ca_file-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ca_file (method)">#ca_file</a>            </dt>
<dd>
<p>The certificate-authorities</p>
</dd><dt><a href="#ca_path-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ca_path (method)">#ca_path</a>            </dt>
<dd>
<p>Directory with certificate-authorities</p>
</dd><dt><a href="#cert_store-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#cert_store (method)">#cert_store</a>         </dt>
<dd>
<p>An SSL certificate store</p>
</dd><dt><a href="#ciphers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ciphers (method)">#ciphers</a>            </dt>
<dd>
<p>List of SSl ciphers allowed</p>
</dd><dt><a href="#private_key-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#private_key (method)">#private_key</a>        </dt>
<dd>
<p>The client’s SSL private key</p>
</dd><dt><a href="#reuse_ssl_sessions-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reuse_ssl_sessions (method)">#reuse_ssl_sessions</a> </dt>
<dd>
<p>Reuse a previously opened SSL session for a new</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_connection'>connection</span></code></pre>
<dl class="rdoc-list note-list"><dt><a href="#ssl_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_timeout (method)">#ssl_timeout</a>        </dt>
<dd>
<p>Session lifetime</p>
</dd><dt><a href="#ssl_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_version (method)">#ssl_version</a>        </dt>
<dd>
<p>Which specific SSL version to use</p>
</dd><dt><a href="#verify_callback-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_callback (method)">#verify_callback</a>    </dt>
<dd>
<p>For server certificate verification</p>
</dd><dt><a href="#verify_depth-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_depth (method)">#verify_depth</a>       </dt>
<dd>
<p>Depth of certificate verification</p>
</dd><dt><a href="#verify_mode-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_mode (method)">#verify_mode</a>        </dt>
<dd>
<p>How connections should be verified</p>
</dd></dl>

<h3 id="label-Proxies">Proxies</h3>

<p>A proxy can be set through <a href="#proxy=-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy= (method)">#proxy=</a> or at initialization time by providing a second argument to <a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">.new</a>.  The proxy may be the <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> of the proxy server or <code>:ENV</code> which will consult environment variables.</p>

<p>See <a href="#proxy=-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy= (method)">#proxy=</a> and <a href="#proxy_from_env-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy_from_env (method)">#proxy_from_env</a> for details.</p>

<h3 id="label-Headers">Headers</h3>

<p>Headers may be specified for use in every request.  <a href="#headers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#headers (method)">#headers</a> are appended to any headers on the request.  <a href="#override_headers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#override_headers (method)">#override_headers</a> replace existing headers on the request.</p>

<p>The difference between the two can be seen in setting the User-Agent.  Using <code>http.headers[&#39;User-Agent&#39;] = &#39;MyUserAgent&#39;</code> will send “Ruby, MyUserAgent” while <code>http.override_headers[&#39;User-Agent&#39;] = &#39;MyUserAgent&#39;</code> will send “MyUserAgent”.</p>

<h3 id="label-Tuning">Tuning</h3>

<h4 id="label-Segregation">Segregation</h4>

<p>Each <code>Persistent</code> instance has its own pool of connections.  There is no sharing with other instances (as was true in earlier versions).</p>

<h4 id="label-Idle+Timeout">Idle Timeout</h4>

<p>If a connection hasn’t been used for this number of seconds it will automatically be reset upon the next use to avoid attempting to send to a closed connection.  The default value is 5 seconds. nil means no timeout. Set through <a href="#idle_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#idle_timeout (method)">#idle_timeout</a>.</p>

<p>Reducing this value may help avoid the “too many connection resets” error when sending non-idempotent requests while increasing this value will cause fewer round-trips.</p>

<h4 id="label-Read+Timeout">Read Timeout</h4>

<p>The amount of time allowed between reading two chunks from the socket.  Set through <a href="#read_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#read_timeout (method)">#read_timeout</a></p>

<h4 id="label-Max+Requests">Max Requests</h4>

<p>The number of requests that should be made before opening a new connection. Typically many keep-alive capable servers tune this to 100 or less, so the 101st request will fail with ECONNRESET. If unset (default), this value has no effect, if set, connections will be reset on the request after max_requests.</p>

<h4 id="label-Open+Timeout">Open Timeout</h4>

<p>The amount of time to wait for a connection to be opened.  Set through <a href="#open_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#open_timeout (method)">#open_timeout</a>.</p>

<h4 id="label-Socket+Options">Socket Options</h4>

<p>Socket options may be set on newly-created connections.  See <a href="#socket_options-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#socket_options (method)">#socket_options</a> for details.</p>

<h4 id="label-Connection+Termination">Connection Termination</h4>

<p>If you are done using the <code>Persistent</code> instance you may shut down all the connections in the current thread with <a href="#shutdown-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#shutdown (method)">#shutdown</a>.  This is not recommended for normal use, it should only be used when it will be several minutes before you make another <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> request.</p>

<p>If you are using multiple threads, call <a href="#shutdown-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#shutdown (method)">#shutdown</a> in each thread when the thread is done making requests.  If you don’t call shutdown, that’s OK. Ruby will automatically garbage collect and shutdown your <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> connections when the thread terminates.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_POOL_SIZE-constant' class='summary_signature'>DEFAULT_POOL_SIZE =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L166-L171'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 166</a>    <pre class='code ruby'><span class='int'>256</span></pre>
  </li>
  <li>
    <span id='EPOCH-constant' class='summary_signature nodoc'>EPOCH =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The beginning of Time</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L149-L149'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 149</a>    <pre class='code ruby'><span class='const'>Time</span>.<span class='id identifier rubyid_at'>at</span> <span class='int'>0</span></pre>
  </li>
  <li>
    <span id='HAVE_OPENSSL-constant' class='summary_signature nodoc'>HAVE_OPENSSL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Is OpenSSL available?  This test works with autoload</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L154-L154'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 154</a>    <pre class='code ruby'><span class='kw'>defined?</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span> <span class='comment'># :nodoc:</span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The version of <code>Persistent</code> you are using</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L177-L177'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 177</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>4.0.1</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#detect_idle_timeout-class_method" title=".detect_idle_timeout (class method)">.<strong>detect_idle_timeout</strong>(uri, max = 10)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Use this method to detect the idle timeout of the host at <code>uri</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(name: nil, proxy: nil, pool_size: DEFAULT_POOL_SIZE)  &#x21d2; Persistent </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>Persistent</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_file-instance_method" title="#ca_file (instance method)">#<strong>ca_file</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An SSL certificate authority.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_file=-instance_method" title="#ca_file= (instance method)">#<strong>ca_file=</strong>(file)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the SSL certificate authority file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_path-instance_method" title="#ca_path (instance method)">#<strong>ca_path</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A directory of SSL certificates to be used as certificate authorities.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_path=-instance_method" title="#ca_path= (instance method)">#<strong>ca_path=</strong>(path)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the SSL certificate authority path.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#cert-instance_method" title="#cert (instance method)">#<strong>cert</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>For <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> parity.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#cert_store-instance_method" title="#cert_store (instance method)">#<strong>cert_store</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An SSL certificate store.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#cert_store=-instance_method" title="#cert_store= (instance method)">#<strong>cert_store=</strong>(store)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Overrides the default SSL certificate store used for verifying connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#certificate-instance_method" title="#certificate (instance method)">#<strong>certificate</strong>  </a>
      (also: #cert)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>This client’s <code>OpenSSL::X509::Certificate</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#certificate=-instance_method" title="#certificate= (instance method)">#<strong>certificate=</strong>(certificate)  </a>
      (also: #cert=)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets this client’s <code>OpenSSL::X509::Certificate</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ciphers-instance_method" title="#ciphers (instance method)">#<strong>ciphers</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The ciphers allowed for SSL connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ciphers=-instance_method" title="#ciphers= (instance method)">#<strong>ciphers=</strong>(ciphers)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The ciphers allowed for SSL connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#debug_output-instance_method" title="#debug_output (instance method)">#<strong>debug_output</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends debug_output to this IO via <code>Net::HTTP#set_debug_output</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#headers-instance_method" title="#headers (instance method)">#<strong>headers</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Headers that are added to every request using <code>Net::HTTP#add_field</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#http_versions-instance_method" title="#http_versions (instance method)">#<strong>http_versions</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Maps host:port to an <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> version.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#idle_timeout-instance_method" title="#idle_timeout (instance method)">#<strong>idle_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Maximum time an unused connection can remain idle before being automatically closed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#keep_alive-instance_method" title="#keep_alive (instance method)">#<strong>keep_alive</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The value sent in the Keep-Alive header.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#key-instance_method" title="#key (instance method)">#<strong>key</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>For <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> parity.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_requests-instance_method" title="#max_requests (instance method)">#<strong>max_requests</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Maximum number of requests on a connection before it is considered expired and automatically closed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_retries-instance_method" title="#max_retries (instance method)">#<strong>max_retries</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Number of retries to perform if a request fails.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_retries=-instance_method" title="#max_retries= (instance method)">#<strong>max_retries=</strong>(retries)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the maximum number of retries for a request.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_version-instance_method" title="#max_version (instance method)">#<strong>max_version</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Maximum SSL version to use, e.g. <code>:TLS1_2</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_version=-instance_method" title="#max_version= (instance method)">#<strong>max_version=</strong>(max_version)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>maximum SSL version to use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#min_version-instance_method" title="#min_version (instance method)">#<strong>min_version</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Minimum SSL version to use, e.g. <code>:TLS1_1</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#min_version=-instance_method" title="#min_version= (instance method)">#<strong>min_version=</strong>(min_version)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Minimum SSL version to use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The name for this collection of persistent connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#no_proxy-instance_method" title="#no_proxy (instance method)">#<strong>no_proxy</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>List of host suffixes which will not be proxied.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#open_timeout-instance_method" title="#open_timeout (instance method)">#<strong>open_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until a connection is opened.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#override_headers-instance_method" title="#override_headers (instance method)">#<strong>override_headers</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Headers that are added to every request using <code>Net::HTTP#[]=</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#private_key-instance_method" title="#private_key (instance method)">#<strong>private_key</strong>  </a>
      (also: #key)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>This client’s SSL private key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#private_key=-instance_method" title="#private_key= (instance method)">#<strong>private_key=</strong>(key)  </a>
      (also: #key=)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets this client’s SSL private key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#proxy=-instance_method" title="#proxy= (instance method)">#<strong>proxy=</strong>(proxy)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the proxy server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#proxy_uri-instance_method" title="#proxy_uri (instance method)">#<strong>proxy_uri</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The URL through which requests will be proxied.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#read_timeout-instance_method" title="#read_timeout (instance method)">#<strong>read_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until reading one block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#reuse_ssl_sessions-instance_method" title="#reuse_ssl_sessions (instance method)">#<strong>reuse_ssl_sessions</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>By default SSL sessions are reused to avoid extra SSL handshakes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#socket_options-instance_method" title="#socket_options (instance method)">#<strong>socket_options</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>An array of options for <code>Socket#setsockopt</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_timeout-instance_method" title="#ssl_timeout (instance method)">#<strong>ssl_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL session lifetime.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_timeout=-instance_method" title="#ssl_timeout= (instance method)">#<strong>ssl_timeout=</strong>(ssl_timeout)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL session lifetime.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_version-instance_method" title="#ssl_version (instance method)">#<strong>ssl_version</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL version to use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_version=-instance_method" title="#ssl_version= (instance method)">#<strong>ssl_version=</strong>(ssl_version)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL version to use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_callback-instance_method" title="#verify_callback (instance method)">#<strong>verify_callback</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL verification callback.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_callback=-instance_method" title="#verify_callback= (instance method)">#<strong>verify_callback=</strong>(callback)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>SSL verification callback.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_depth-instance_method" title="#verify_depth (instance method)">#<strong>verify_depth</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the depth of SSL certificate verification.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_depth=-instance_method" title="#verify_depth= (instance method)">#<strong>verify_depth=</strong>(verify_depth)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the depth of SSL certificate verification.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_mode-instance_method" title="#verify_mode (instance method)">#<strong>verify_mode</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>HTTPS verify mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_mode=-instance_method" title="#verify_mode= (instance method)">#<strong>verify_mode=</strong>(verify_mode)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the HTTPS verify mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#write_timeout-instance_method" title="#write_timeout (instance method)">#<strong>write_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until writing one block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#generation-instance_method" title="#generation (instance method)">#<strong>generation</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Current connection generation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#pool-instance_method" title="#pool (instance method)">#<strong>pool</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Test-only accessor for the connection pool.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#ssl_generation-instance_method" title="#ssl_generation (instance method)">#<strong>ssl_generation</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Current SSL connection generation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#timeout_key-instance_method" title="#timeout_key (instance method)">#<strong>timeout_key</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Where this instance’s last-use times live in the thread local variables.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#connection_for-instance_method" title="#connection_for (instance method)">#<strong>connection_for</strong>(uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new connection for <code>uri</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#escape-instance_method" title="#escape (instance method)">#<strong>escape</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>CGI.escape</code> wrapper.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expired%3F-instance_method" title="#expired? (instance method)">#<strong>expired?</strong>(connection)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if the connection should be reset due to an idle timeout, or maximum request count, false otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#finish-instance_method" title="#finish (instance method)">#<strong>finish</strong>(connection)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finishes the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#http_version-instance_method" title="#http_version (instance method)">#<strong>http_version</strong>(uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> protocol version for <code>uri</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#normalize_uri-instance_method" title="#normalize_uri (instance method)">#<strong>normalize_uri</strong>(uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds “http://” to the String <code>uri</code> if it is missing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#proxy_bypass%3F-instance_method" title="#proxy_bypass? (instance method)">#<strong>proxy_bypass?</strong>(host, port)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true when proxy should by bypassed for host.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#proxy_from_env-instance_method" title="#proxy_from_env (instance method)">#<strong>proxy_from_env</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> for an <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> proxy server from ENV variables.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reconnect-instance_method" title="#reconnect (instance method)">#<strong>reconnect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Forces reconnection of all <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> connections, including TLS/SSL connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reconnect_ssl-instance_method" title="#reconnect_ssl (instance method)">#<strong>reconnect_ssl</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Forces reconnection of only TLS/SSL connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#request-instance_method" title="#request (instance method)">#<strong>request</strong>(uri, req = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Makes a request on <code>uri</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>(connection)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finishes then restarts the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shuts down all connections.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ssl-instance_method" title="#ssl (instance method)">#<strong>ssl</strong>(connection)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enables SSL on <code>connection</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>(http)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unescape-instance_method" title="#unescape (instance method)">#<strong>unescape</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>CGI.unescape</code> wrapper.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#request_setup-instance_method" title="#request_setup (instance method)">#<strong>request_setup</strong>(req_or_uri)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a GET request if <code>req_or_uri</code> is a <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> and adds headers to the request.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(name: nil, proxy: nil, pool_size: DEFAULT_POOL_SIZE)  &#x21d2; <code>Persistent</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>Persistent</code>.</p>

<p>Set a <a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">#name</a> for fun.  Your library name should be good enough, but this otherwise has no purpose.</p>

<p><code>proxy</code> may be set to a <a href="../../../URI/HTTP.html" title="Bundler::URI::HTTP (class)"><code>::Bundler::URI::HTTP</code></a> or <code>:ENV</code> to pick up proxy options from the environment.  See proxy_from_env for details.</p>

<p>In order to use a <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> for the proxy you may need to do some extra work beyond <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> parsing if the proxy requires a password:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_proxy'>proxy</span> <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://proxy.example</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_proxy'>proxy</span>.<span class='id identifier rubyid_user'>user</span>     <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AzureDiamond</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_proxy'>proxy</span>.<span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hunter2</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>Set <code>pool_size</code> to limit the maximum number of connections allowed. Defaults to 1/4 the number of allowed file handles or 256 if your OS does not support a limit on allowed file handles.  You can have no more than this many threads with active <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> transactions.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L473-L521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='473' data-end='521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 473</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='label'>name:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>proxy:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>pool_size:</span> <span class='const'><a href="#DEFAULT_POOL_SIZE-constant" title="Bundler::Persistent::Net::HTTP::Persistent::DEFAULT_POOL_SIZE (constant)">DEFAULT_POOL_SIZE</a></span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>

  <span class='ivar'>@debug_output</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@proxy_uri</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@no_proxy</span>         <span class='op'>=</span> []
  <span class='ivar'>@headers</span>          <span class='op'>=</span> {}
  <span class='ivar'>@override_headers</span> <span class='op'>=</span> {}
  <span class='ivar'>@http_versions</span>    <span class='op'>=</span> {}
  <span class='ivar'>@keep_alive</span>       <span class='op'>=</span> <span class='int'>30</span>
  <span class='ivar'>@open_timeout</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@read_timeout</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@write_timeout</span>    <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@idle_timeout</span>     <span class='op'>=</span> <span class='int'>5</span>
  <span class='ivar'>@max_requests</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@max_retries</span>      <span class='op'>=</span> <span class='int'>1</span>
  <span class='ivar'>@socket_options</span>   <span class='op'>=</span> []
  <span class='ivar'>@ssl_generation</span>   <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># incremented when SSL session variables change
</span>
  <span class='ivar'>@socket_options</span> <span class='op'>&lt;&lt;</span> [<span class='const'>Socket</span><span class='op'>::</span><span class='const'>IPPROTO_TCP</span><span class='comma'>,</span> <span class='const'>Socket</span><span class='op'>::</span><span class='const'>TCP_NODELAY</span><span class='comma'>,</span> <span class='int'>1</span>] <span class='kw'>if</span>
    <span class='const'>Socket</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span> <span class='symbeg'>:</span><span class='const'>TCP_NODELAY</span>

  <span class='ivar'>@pool</span> <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../Persistent.html" title="Bundler::Persistent (module)">Persistent</a></span><span class='op'>::</span><span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Persistent</span><span class='op'>::</span><span class='const'><a href="Persistent/Pool.html" title="Bundler::Persistent::Net::HTTP::Persistent::Pool (class)">Pool</a></span>.<span class='id identifier rubyid_new'><a href="Persistent/Pool.html#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent::Pool.new (method)">new</a></span> <span class='label'>size:</span> <span class='id identifier rubyid_pool_size'>pool_size</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_http_args'>http_args</span><span class='op'>|</span>
    <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../Persistent.html" title="Bundler::Persistent (module)">Persistent</a></span><span class='op'>::</span><span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Persistent</span><span class='op'>::</span><span class='const'><a href="Persistent/Connection.html" title="Bundler::Persistent::Net::HTTP::Persistent::Connection (class)">Connection</a></span>.<span class='id identifier rubyid_new'><a href="Persistent/Connection.html#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent::Connection.new (method)">new</a></span> <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='comma'>,</span> <span class='id identifier rubyid_http_args'>http_args</span><span class='comma'>,</span> <span class='ivar'>@ssl_generation</span>
  <span class='kw'>end</span>

  <span class='ivar'>@certificate</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ca_file</span>            <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ca_path</span>            <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ciphers</span>            <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@private_key</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ssl_timeout</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ssl_version</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@min_version</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@max_version</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@verify_callback</span>    <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@verify_depth</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@verify_mode</span>        <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@cert_store</span>         <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@generation</span>         <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># incremented when proxy Bundler::URI changes
</span>
  <span class='kw'>if</span> <span class='const'><a href="#HAVE_OPENSSL-constant" title="Bundler::Persistent::Net::HTTP::Persistent::HAVE_OPENSSL (constant)">HAVE_OPENSSL</a></span> <span class='kw'>then</span>
    <span class='ivar'>@verify_mode</span>        <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_PEER</span>
    <span class='ivar'>@reuse_ssl_sessions</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span> <span class='symbeg'>:</span><span class='const'>Session</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>.<span class='id identifier rubyid_proxy'>proxy</span> <span class='op'>=</span> <span class='id identifier rubyid_proxy'>proxy</span> <span class='kw'>if</span> <span class='id identifier rubyid_proxy'>proxy</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="detect_idle_timeout-class_method">
  <h3 class='signature  first'>
    .<strong>detect_idle_timeout</strong>(uri, max = 10)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Use this method to detect the idle timeout of the host at <code>uri</code>.  The value returned can be used to configure <a href="#idle_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#idle_timeout (method)">#idle_timeout</a>.  <code>max</code> controls the maximum idle timeout to detect.</p>

<p>After</p>

<p>Idle timeout detection is performed by creating a connection then performing a HEAD request in a loop until the connection terminates waiting one additional second per loop.</p>

<p>NOTE:  This may not work on ruby &gt; 1.9.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L199-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='199' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_detect_idle_timeout'>detect_idle_timeout</span> <span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='int'>10</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span> <span class='id identifier rubyid_uri'>uri</span> <span class='kw'>unless</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'><a href="../../../URI/Generic.html" title="Bundler::URI::Generic (class)">Generic</a></span> <span class='op'>===</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Head</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_request_uri'>request_uri</span>

  <span class='id identifier rubyid_http'>http</span> <span class='op'>=</span> <span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net-http-persistent detect_idle_timeout</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_connection_for'><a href="#connection_for-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#connection_for (method)">connection_for</a></span> <span class='id identifier rubyid_uri'>uri</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_connection'>connection</span><span class='op'>|</span>
    <span class='id identifier rubyid_sleep_time'>sleep_time</span> <span class='op'>=</span> <span class='int'>0</span>

    <span class='id identifier rubyid_http'>http</span> <span class='op'>=</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>

    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_request'><a href="#request-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#request (method)">request</a></span> <span class='id identifier rubyid_req'>req</span>

      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='gvar'>$DEBUG</span>

      <span class='kw'>unless</span> <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'>HTTPOK</span> <span class='op'>===</span> <span class='id identifier rubyid_response'>response</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad response code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'> detecting idle timeout</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_sleep_time'>sleep_time</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_max'>max</span>

      <span class='id identifier rubyid_sleep_time'>sleep_time</span> <span class='op'>+=</span> <span class='int'>1</span>

      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sleeping </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sleep_time'>sleep_time</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='gvar'>$DEBUG</span>
      <span class='id identifier rubyid_sleep'>sleep</span> <span class='id identifier rubyid_sleep_time'>sleep_time</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span>
  <span class='comment'># ignore StandardErrors, we&#39;ve probably found the idle timeout.
</span><span class='kw'>ensure</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_sleep_time'>sleep_time</span> <span class='kw'>unless</span> <span class='gvar'>$!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ca_file-instance_method">
  <h3 class='signature rw first'>
    #<strong>ca_file</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An SSL certificate authority.  Setting this will set verify_mode to VERIFY_PEER.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L249-L249'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='249' data-end='249'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ca_file'>ca_file</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ca_file=-instance_method">
  <h3 class='signature rw'>
    #<strong>ca_file=</strong>(file)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the SSL certificate authority file.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L538-L542'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='538' data-end='542'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 538</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ca_file='>ca_file=</span> <span class='id identifier rubyid_file'>file</span>
  <span class='ivar'>@ca_file</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ca_path-instance_method">
  <h3 class='signature rw'>
    #<strong>ca_path</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A directory of SSL certificates to be used as certificate authorities. Setting this will set verify_mode to VERIFY_PEER.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L255-L255'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='255' data-end='255'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 255</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ca_path'>ca_path</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ca_path=-instance_method">
  <h3 class='signature rw'>
    #<strong>ca_path=</strong>(path)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the SSL certificate authority path.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L547-L551'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='547' data-end='551'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 547</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ca_path='>ca_path=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@ca_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cert-instance_method">
  <h3 class='signature rw'>
    #<strong>cert</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> parity</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L243-L243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='243' data-end='243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 243</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_cert'>cert</span> <span class='id identifier rubyid_certificate'><a href="#certificate-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#certificate (method)">certificate</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cert_store-instance_method">
  <h3 class='signature rw'>
    #<strong>cert_store</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An SSL certificate store.  Setting this will override the default certificate store.  See verify_mode for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L261-L261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='261' data-end='261'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cert_store'>cert_store</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cert_store=-instance_method">
  <h3 class='signature rw'>
    #<strong>cert_store=</strong>(store)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Overrides the default SSL certificate store used for verifying connections.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L557-L561'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='557' data-end='561'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 557</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cert_store='>cert_store=</span> <span class='id identifier rubyid_store'>store</span>
  <span class='ivar'>@cert_store</span> <span class='op'>=</span> <span class='id identifier rubyid_store'>store</span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="certificate-instance_method">
  <h3 class='signature rw'>
    #<strong>certificate</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#cert</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This client’s <code>OpenSSL::X509::Certificate</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L238-L238'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='238' data-end='238'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 238</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_certificate'>certificate</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="certificate=-instance_method">
  <h3 class='signature rw'>
    #<strong>certificate=</strong>(certificate)   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#cert=</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets this client’s <code>OpenSSL::X509::Certificate</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L526-L530'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='526' data-end='530'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 526</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_certificate='>certificate=</span> <span class='id identifier rubyid_certificate'><a href="#certificate-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#certificate (method)">certificate</a></span>
  <span class='ivar'>@certificate</span> <span class='op'>=</span> <span class='id identifier rubyid_certificate'><a href="#certificate-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#certificate (method)">certificate</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ciphers-instance_method">
  <h3 class='signature rw'>
    #<strong>ciphers</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The ciphers allowed for SSL connections</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L266-L266'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='266' data-end='266'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 266</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ciphers'>ciphers</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ciphers=-instance_method">
  <h3 class='signature rw'>
    #<strong>ciphers=</strong>(ciphers)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The ciphers allowed for SSL connections</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L566-L570'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='566' data-end='570'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 566</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ciphers='>ciphers=</span> <span class='id identifier rubyid_ciphers'><a href="#ciphers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ciphers (method)">ciphers</a></span>
  <span class='ivar'>@ciphers</span> <span class='op'>=</span> <span class='id identifier rubyid_ciphers'><a href="#ciphers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ciphers (method)">ciphers</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_output-instance_method">
  <h3 class='signature rw'>
    #<strong>debug_output</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends debug_output to this IO via <code>Net::HTTP#set_debug_output</code>.</p>

<p>Never use this method in production code, it causes a serious security hole.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L274-L274'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='274' data-end='274'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 274</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_debug_output'>debug_output</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generation-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>generation</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Current connection generation</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L279-L279'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='279' data-end='279'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 279</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_generation'>generation</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="headers-instance_method">
  <h3 class='signature ro'>
    #<strong>headers</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Headers that are added to every request using <code>Net::HTTP#add_field</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L284-L284'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='284' data-end='284'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 284</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_headers'>headers</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="http_versions-instance_method">
  <h3 class='signature ro'>
    #<strong>http_versions</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Maps host:port to an <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> version.  This allows us to enable version specific features.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L290-L290'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='290' data-end='290'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 290</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_http_versions'>http_versions</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="idle_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>idle_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Maximum time an unused connection can remain idle before being automatically closed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L296-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='296' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 296</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_idle_timeout'>idle_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keep_alive-instance_method">
  <h3 class='signature rw'>
    #<strong>keep_alive</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The value sent in the Keep-Alive header.  Defaults to 30.  Not needed for HTTP/1.1 servers.</p>

<p>This may not work correctly for HTTP/1.0 servers</p>

<p>This method may be removed in a future version as RFC 2616 does not require this header.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L320-L320'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='320' data-end='320'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 320</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_keep_alive'>keep_alive</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key-instance_method">
  <h3 class='signature rw'>
    #<strong>key</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> parity</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L345-L345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_key'>key</span> <span class='id identifier rubyid_private_key'><a href="#private_key-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#private_key (method)">private_key</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_requests-instance_method">
  <h3 class='signature rw'>
    #<strong>max_requests</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Maximum number of requests on a connection before it is considered expired and automatically closed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L302-L302'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='302' data-end='302'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 302</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_max_requests'>max_requests</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_retries-instance_method">
  <h3 class='signature rw'>
    #<strong>max_retries</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Number of retries to perform if a request fails.</p>

<p>See also <a href="#max_retries=-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_retries= (method)">#max_retries=</a>, <code>Net::HTTP#max_retries=</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L309-L309'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='309' data-end='309'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 309</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_max_retries'>max_retries</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_retries=-instance_method">
  <h3 class='signature rw'>
    #<strong>max_retries=</strong>(retries)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the maximum number of retries for a request.</p>

<p>Defaults to one retry.</p>

<p>Set this to 0 to disable retries.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L700-L708'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='700' data-end='708'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 700</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_max_retries='>max_retries=</span> <span class='id identifier rubyid_retries'>retries</span>
  <span class='id identifier rubyid_retries'>retries</span> <span class='op'>=</span> <span class='id identifier rubyid_retries'>retries</span>.<span class='id identifier rubyid_to_int'>to_int</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>max_retries must be positive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_retries'>retries</span> <span class='op'>&lt;</span> <span class='int'>0</span>

  <span class='ivar'>@max_retries</span> <span class='op'>=</span> <span class='id identifier rubyid_retries'>retries</span>

  <span class='id identifier rubyid_reconnect'><a href="#reconnect-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect (method)">reconnect</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_version-instance_method">
  <h3 class='signature rw'>
    #<strong>max_version</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Maximum SSL version to use, e.g. <code>:TLS1_2</code></p>

<p>By default, the version will be negotiated automatically between client and server.  Ruby 2.5 and newer only.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L424-L424'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='424' data-end='424'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 424</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_max_version'>max_version</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_version=-instance_method">
  <h3 class='signature rw'>
    #<strong>max_version=</strong>(max_version)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>maximum SSL version to use</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1033-L1037'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1033' data-end='1037'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1033</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_max_version='>max_version=</span> <span class='id identifier rubyid_max_version'><a href="#max_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_version (method)">max_version</a></span>
  <span class='ivar'>@max_version</span> <span class='op'>=</span> <span class='id identifier rubyid_max_version'><a href="#max_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_version (method)">max_version</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="min_version-instance_method">
  <h3 class='signature rw'>
    #<strong>min_version</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Minimum SSL version to use, e.g. <code>:TLS1_1</code></p>

<p>By default, the version will be negotiated automatically between client and server.  Ruby 2.5 and newer only.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L416-L416'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='416' data-end='416'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 416</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_min_version'>min_version</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="min_version=-instance_method">
  <h3 class='signature rw'>
    #<strong>min_version=</strong>(min_version)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Minimum SSL version to use</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1024-L1028'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1024' data-end='1028'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1024</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_min_version='>min_version=</span> <span class='id identifier rubyid_min_version'><a href="#min_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#min_version (method)">min_version</a></span>
  <span class='ivar'>@min_version</span> <span class='op'>=</span> <span class='id identifier rubyid_min_version'><a href="#min_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#min_version (method)">min_version</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature ro'>
    #<strong>name</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name for this collection of persistent connections.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L325-L325'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='325' data-end='325'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 325</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="no_proxy-instance_method">
  <h3 class='signature ro'>
    #<strong>no_proxy</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>List of host suffixes which will not be proxied</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L355-L355'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='355'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_no_proxy'>no_proxy</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>open_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until a connection is opened.  See <code>Net::HTTP#open_timeout</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L330-L330'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='330' data-end='330'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 330</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_open_timeout'>open_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="override_headers-instance_method">
  <h3 class='signature ro'>
    #<strong>override_headers</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Headers that are added to every request using <code>Net::HTTP#[]=</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L335-L335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='335' data-end='335'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 335</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_override_headers'>override_headers</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pool-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>pool</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Test-only accessor for the connection pool</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L360-L360'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='360' data-end='360'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 360</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_pool'>pool</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="private_key-instance_method">
  <h3 class='signature rw'>
    #<strong>private_key</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#key</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This client’s SSL private key</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L340-L340'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='340' data-end='340'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 340</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_private_key'>private_key</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="private_key=-instance_method">
  <h3 class='signature rw'>
    #<strong>private_key=</strong>(key)   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#key=</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets this client’s SSL private key</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L713-L717'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='713' data-end='717'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 713</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_private_key='>private_key=</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#key (method)">key</a></span>
  <span class='ivar'>@private_key</span> <span class='op'>=</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#key (method)">key</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="proxy=-instance_method">
  <h3 class='signature wo'>
    #<strong>proxy=</strong>(proxy)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the proxy server.  The <code>proxy</code> may be the <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> of the proxy server, the symbol <code>:ENV</code> which will read the proxy from the environment or nil to disable use of a proxy.  See <a href="#proxy_from_env-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy_from_env (method)">#proxy_from_env</a> for details on setting the proxy from the environment.</p>

<p>If the proxy <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> is set after requests have been made, the next request will shut-down and re-open all connections.</p>

<p>The <a href="#no_proxy-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#no_proxy (method)">#no_proxy</a> query parameter can be used to specify hosts which shouldn’t be reached via proxy; if set it should be a comma separated list of hostname suffixes, optionally with <code>:port</code> appended, for example <code>example.com,some.host:8080</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L736-L763'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='736' data-end='763'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 736</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_proxy='>proxy=</span> <span class='id identifier rubyid_proxy'>proxy</span>
  <span class='ivar'>@proxy_uri</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_proxy'>proxy</span>
               <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>ENV</span>      <span class='kw'>then</span> <span class='id identifier rubyid_proxy_from_env'><a href="#proxy_from_env-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy_from_env (method)">proxy_from_env</a></span>
               <span class='kw'>when</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'><a href="../../../URI/HTTP.html" title="Bundler::URI::HTTP (class)">HTTP</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_proxy'>proxy</span>
               <span class='kw'>when</span> <span class='kw'>nil</span>       <span class='kw'>then</span> <span class='comment'># ignore
</span>               <span class='kw'>else</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>proxy must be :ENV or a Bundler::URI::HTTP</span><span class='tstring_end'>&#39;</span></span>
               <span class='kw'>end</span>

  <span class='ivar'>@no_proxy</span>.<span class='id identifier rubyid_clear'>clear</span>

  <span class='kw'>if</span> <span class='ivar'>@proxy_uri</span> <span class='kw'>then</span>
    <span class='ivar'>@proxy_args</span> <span class='op'>=</span> [
      <span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span>
      <span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>
      <span class='id identifier rubyid_unescape'><a href="#unescape-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#unescape (method)">unescape</a></span>(<span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_user'>user</span>)<span class='comma'>,</span>
      <span class='id identifier rubyid_unescape'><a href="#unescape-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#unescape (method)">unescape</a></span>(<span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_password'>password</span>)<span class='comma'>,</span>
    ]

    <span class='ivar'>@proxy_connection_id</span> <span class='op'>=</span> [<span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='ivar'>@proxy_args</span>].<span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>

    <span class='kw'>if</span> <span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_query'>query</span> <span class='kw'>then</span>
      <span class='ivar'>@no_proxy</span> <span class='op'>=</span> <span class='const'>CGI</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='ivar'>@proxy_uri</span>.<span class='id identifier rubyid_query'>query</span>)[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no_proxy</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_downcase'>downcase</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_strip'>strip</span> }.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_empty?'>empty?</span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_reconnect'><a href="#reconnect-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect (method)">reconnect</a></span>
  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="proxy_uri-instance_method">
  <h3 class='signature ro'>
    #<strong>proxy_uri</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The URL through which requests will be proxied</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L350-L350'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='350' data-end='350'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 350</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_proxy_uri'>proxy_uri</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>read_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until reading one block.  See <code>Net::HTTP#read_timeout</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L365-L365'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='365' data-end='365'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 365</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_read_timeout'>read_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reuse_ssl_sessions-instance_method">
  <h3 class='signature rw'>
    #<strong>reuse_ssl_sessions</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>By default SSL sessions are reused to avoid extra SSL handshakes.  Set this to false if you have problems communicating with an HTTPS server like:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SSL_connect</span> [<span class='op'>...</span>] <span class='id identifier rubyid_read'>read</span> <span class='id identifier rubyid_finished'>finished</span> <span class='label'>A:</span> <span class='id identifier rubyid_unexpected'>unexpected</span> <span class='id identifier rubyid_message'>message</span> (<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLError</span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L379-L379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='379' data-end='379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 379</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reuse_ssl_sessions'>reuse_ssl_sessions</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="socket_options-instance_method">
  <h3 class='signature ro'>
    #<strong>socket_options</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An array of options for <code>Socket#setsockopt</code>.</p>

<p>By default the TCP_NODELAY option is set on sockets.</p>

<p>To set additional options append them to this array:</p>

<p>http.socket_options &lt;&lt; [Socket::SOL_SOCKET, <code>Socket::SO_KEEPALIVE</code>, 1]</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L390-L390'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='390' data-end='390'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 390</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_socket_options'>socket_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_generation-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>ssl_generation</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Current SSL connection generation</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L395-L395'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='395' data-end='395'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 395</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl_generation'>ssl_generation</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL session lifetime</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L400-L400'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='400' data-end='400'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 400</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl_timeout'>ssl_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_timeout=-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_timeout=</strong>(ssl_timeout)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL session lifetime</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1006-L1010'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1006' data-end='1010'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1006</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl_timeout='>ssl_timeout=</span> <span class='id identifier rubyid_ssl_timeout'><a href="#ssl_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_timeout (method)">ssl_timeout</a></span>
  <span class='ivar'>@ssl_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_timeout'><a href="#ssl_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_timeout (method)">ssl_timeout</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_version-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_version</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL version to use.</p>

<p>By default, the version will be negotiated automatically between client and server.  Ruby 1.9 and newer only. Deprecated since Ruby 2.5.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L408-L408'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='408' data-end='408'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl_version'>ssl_version</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_version=-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_version=</strong>(ssl_version)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL version to use</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1015-L1019'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1015' data-end='1019'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1015</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl_version='>ssl_version=</span> <span class='id identifier rubyid_ssl_version'><a href="#ssl_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_version (method)">ssl_version</a></span>
  <span class='ivar'>@ssl_version</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_version'><a href="#ssl_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_version (method)">ssl_version</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="timeout_key-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>timeout_key</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Where this instance’s last-use times live in the thread local variables</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L429-L429'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='429' data-end='429'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 429</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_timeout_key'>timeout_key</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_callback-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_callback</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL verification callback.  Used when ca_file or ca_path is set.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L434-L434'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='434' data-end='434'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 434</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verify_callback'>verify_callback</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_callback=-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_callback=</strong>(callback)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>SSL verification callback.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1064-L1068'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1064' data-end='1068'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1064</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_callback='>verify_callback=</span> <span class='id identifier rubyid_callback'>callback</span>
  <span class='ivar'>@verify_callback</span> <span class='op'>=</span> <span class='id identifier rubyid_callback'>callback</span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_depth-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_depth</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the depth of SSL certificate verification</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L439-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='439' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 439</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verify_depth'>verify_depth</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_depth=-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_depth=</strong>(verify_depth)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the depth of SSL certificate verification</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1042-L1046'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1042' data-end='1046'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1042</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_depth='>verify_depth=</span> <span class='id identifier rubyid_verify_depth'><a href="#verify_depth-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_depth (method)">verify_depth</a></span>
  <span class='ivar'>@verify_depth</span> <span class='op'>=</span> <span class='id identifier rubyid_verify_depth'><a href="#verify_depth-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_depth (method)">verify_depth</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_mode-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_mode</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>HTTPS verify mode.  Defaults to <code>OpenSSL::SSL::VERIFY_PEER</code> which verifies the server certificate.</p>

<p>If no ca_file, ca_path or cert_store is set the default system certificate store is used.</p>

<p>You can use <code>verify_mode</code> to override any default values.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L450-L450'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='450' data-end='450'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 450</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_mode=-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_mode=</strong>(verify_mode)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the HTTPS verify mode.  Defaults to <code>OpenSSL::SSL::VERIFY_PEER</code>.</p>

<p>Setting this to VERIFY_NONE is a VERY BAD IDEA and should NEVER be used. Securely transfer the correct certificate and update the default certificate store or set the ca file instead.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L1055-L1059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1055' data-end='1059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 1055</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_mode='>verify_mode=</span> <span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_mode (method)">verify_mode</a></span>
  <span class='ivar'>@verify_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_mode (method)">verify_mode</a></span>

  <span class='id identifier rubyid_reconnect_ssl'><a href="#reconnect_ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reconnect_ssl (method)">reconnect_ssl</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>write_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until writing one block.  See <code>Net::HTTP#write_timeout</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L370-L370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='370' data-end='370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 370</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_write_timeout'>write_timeout</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="connection_for-instance_method">
  <h3 class='signature  first'>
    #<strong>connection_for</strong>(uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new connection for <code>uri</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L575-L621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='575' data-end='621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 575</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connection_for'>connection_for</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_use_ssl'>use_ssl</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_scheme'>scheme</span>.<span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_net_http_args'>net_http_args</span> <span class='op'>=</span> [<span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_port'>port</span>]

  <span class='comment'># I&#39;m unsure if uri.host or uri.hostname should be checked against
</span>  <span class='comment'># the proxy bypass list.
</span>  <span class='kw'>if</span> <span class='ivar'>@proxy_uri</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_proxy_bypass?'><a href="#proxy_bypass%3F-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#proxy_bypass? (method)">proxy_bypass?</a></span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_port'>port</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_net_http_args'>net_http_args</span>.<span class='id identifier rubyid_concat'>concat</span> <span class='ivar'>@proxy_args</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_net_http_args'>net_http_args</span>.<span class='id identifier rubyid_concat'>concat</span> [<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_connection'>connection</span> <span class='op'>=</span> <span class='ivar'>@pool</span>.<span class='id identifier rubyid_checkout'>checkout</span> <span class='id identifier rubyid_net_http_args'>net_http_args</span>

  <span class='id identifier rubyid_http'>http</span> <span class='op'>=</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ressl'>ressl</span> <span class='ivar'>@ssl_generation</span> <span class='kw'>if</span>
    <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ssl_generation'><a href="#ssl_generation-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_generation (method)">ssl_generation</a></span> <span class='op'>!=</span> <span class='ivar'>@ssl_generation</span>

  <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_started?'>started?</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_ssl'><a href="#ssl-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl (method)">ssl</a></span>   <span class='id identifier rubyid_http'>http</span> <span class='kw'>if</span> <span class='id identifier rubyid_use_ssl'>use_ssl</span>
    <span class='id identifier rubyid_start'><a href="#start-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#start (method)">start</a></span> <span class='id identifier rubyid_http'>http</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_expired?'><a href="#expired%3F-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#expired? (method)">expired?</a></span> <span class='id identifier rubyid_connection'>connection</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_reset'><a href="#reset-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#reset (method)">reset</a></span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_keep_alive_timeout'>keep_alive_timeout</span> <span class='op'>=</span> <span class='ivar'>@idle_timeout</span>  <span class='kw'>if</span> <span class='ivar'>@idle_timeout</span>
  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_max_retries'><a href="#max_retries-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_retries (method)">max_retries</a></span>        <span class='op'>=</span> <span class='ivar'>@max_retries</span>   <span class='kw'>if</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_max_retries='><a href="#max_retries=-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_retries= (method)">max_retries=</a></span>)
  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_read_timeout'><a href="#read_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#read_timeout (method)">read_timeout</a></span>       <span class='op'>=</span> <span class='ivar'>@read_timeout</span>  <span class='kw'>if</span> <span class='ivar'>@read_timeout</span>
  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_write_timeout'><a href="#write_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#write_timeout (method)">write_timeout</a></span>      <span class='op'>=</span> <span class='ivar'>@write_timeout</span> <span class='kw'>if</span>
    <span class='ivar'>@write_timeout</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_write_timeout='><a href="#write_timeout=-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#write_timeout= (method)">write_timeout=</a></span>)

  <span class='kw'>return</span> <span class='kw'>yield</span> <span class='id identifier rubyid_connection'>connection</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNREFUSED</span>
  <span class='id identifier rubyid_address'>address</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_proxy_address'>proxy_address</span> <span class='op'>||</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_address'>address</span>
  <span class='id identifier rubyid_port'>port</span>    <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_proxy_port'>proxy_port</span>    <span class='op'>||</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_port'>port</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>connection refused: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_address'>address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EHOSTDOWN</span>
  <span class='id identifier rubyid_address'>address</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_proxy_address'>proxy_address</span> <span class='op'>||</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_address'>address</span>
  <span class='id identifier rubyid_port'>port</span>    <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_proxy_port'>proxy_port</span>    <span class='op'>||</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_port'>port</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host down: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_address'>address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>ensure</span>
  <span class='ivar'>@pool</span>.<span class='id identifier rubyid_checkin'>checkin</span> <span class='id identifier rubyid_net_http_args'>net_http_args</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="escape-instance_method">
  <h3 class='signature '>
    #<strong>escape</strong>(str)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>CGI.escape</code> wrapper</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L626-L628'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='626' data-end='628'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 626</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_escape'>escape</span> <span class='id identifier rubyid_str'>str</span>
  <span class='const'>CGI</span>.<span class='id identifier rubyid_escape'>escape</span> <span class='id identifier rubyid_str'>str</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expired?-instance_method">
  <h3 class='signature '>
    #<strong>expired?</strong>(connection)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if the connection should be reset due to an idle timeout, or maximum request count, false otherwise.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L642-L648'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='642' data-end='648'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 642</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expired?'>expired?</span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='kw'>return</span> <span class='kw'>true</span>  <span class='kw'>if</span>     <span class='ivar'>@max_requests</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_requests'>requests</span> <span class='op'>&gt;=</span> <span class='ivar'>@max_requests</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@idle_timeout</span>
  <span class='kw'>return</span> <span class='kw'>true</span>  <span class='kw'>if</span>     <span class='ivar'>@idle_timeout</span>.<span class='id identifier rubyid_zero?'>zero?</span>

  <span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_last_use'>last_use</span> <span class='op'>&gt;</span> <span class='ivar'>@idle_timeout</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="finish-instance_method">
  <h3 class='signature '>
    #<strong>finish</strong>(connection)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finishes the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L671-L677'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='671' data-end='677'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 671</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_finish'>finish</span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_finish'>finish</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span> <span class='symbeg'>:</span><span class='ivar'>@last_communicated</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span> <span class='symbeg'>:</span><span class='ivar'>@ssl_session</span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='kw'>unless</span>
    <span class='ivar'>@reuse_ssl_sessions</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="http_version-instance_method">
  <h3 class='signature '>
    #<strong>http_version</strong>(uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> protocol version for <code>uri</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L682-L684'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='682' data-end='684'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 682</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_http_version'>http_version</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='ivar'>@http_versions</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_hostname'>hostname</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="normalize_uri-instance_method">
  <h3 class='signature '>
    #<strong>normalize_uri</strong>(uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds “http://” to the String <code>uri</code> if it is missing.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L689-L691'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='689' data-end='691'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 689</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_normalize_uri'>normalize_uri</span> <span class='id identifier rubyid_uri'>uri</span>
  (<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^https?:</span><span class='regexp_end'>/</span></span>) <span class='op'>?</span> <span class='id identifier rubyid_uri'>uri</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="proxy_bypass?-instance_method">
  <h3 class='signature '>
    #<strong>proxy_bypass?</strong>(host, port)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true when proxy should by bypassed for host.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L810-L820'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='810' data-end='820'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 810</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_proxy_bypass?'>proxy_bypass?</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span>
  <span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span>.<span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_host_port'>host_port</span> <span class='op'>=</span> [<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span>].<span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@no_proxy</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_host'>host</span>[<span class='op'>-</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>.<span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>.<span class='id identifier rubyid_length'>length</span>] <span class='op'>==</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span> <span class='kw'>or</span>
       <span class='id identifier rubyid_host_port'>host_port</span>[<span class='op'>-</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>.<span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>.<span class='id identifier rubyid_length'>length</span>] <span class='op'>==</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>
  <span class='kw'>end</span>

  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="proxy_from_env-instance_method">
  <h3 class='signature '>
    #<strong>proxy_from_env</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> for an <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> proxy server from ENV variables.</p>

<p>If <code>HTTP_PROXY</code> is set a proxy will be returned.</p>

<p>If <code>HTTP_PROXY_USER</code> or <code>HTTP_PROXY_PASS</code> are set the <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> is given the indicated user and password unless HTTP_PROXY contains either of these in the <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a>.</p>

<p>The <code>NO_PROXY</code> ENV variable can be used to specify hosts which shouldn’t be reached via proxy; if set it should be a comma separated list of hostname suffixes, optionally with <code>:port</code> appended, for example <code>example.com,some.host:8080</code>. When set to <code>*</code> no proxy will be returned.</p>

<p>For Windows users, lowercase ENV variables are preferred over uppercase ENV variables.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L783-L805'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='783' data-end='805'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 783</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_proxy_from_env'>proxy_from_env</span>
  <span class='id identifier rubyid_env_proxy'>env_proxy</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_PROXY</span><span class='tstring_end'>&#39;</span></span>]

  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_env_proxy'>env_proxy</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_env_proxy'>env_proxy</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span> <span class='id identifier rubyid_normalize_uri'><a href="#normalize_uri-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#normalize_uri (method)">normalize_uri</a></span> <span class='id identifier rubyid_env_proxy'>env_proxy</span>

  <span class='id identifier rubyid_env_no_proxy'>env_no_proxy</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no_proxy</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NO_PROXY</span><span class='tstring_end'>&#39;</span></span>]

  <span class='comment'># &#39;*&#39; is special case for always bypass
</span>  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_env_no_proxy'>env_no_proxy</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_env_no_proxy'>env_no_proxy</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no_proxy=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escape'><a href="#escape-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#escape (method)">escape</a></span>(<span class='id identifier rubyid_env_no_proxy'>env_no_proxy</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_user'>user</span> <span class='kw'>or</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_password'>password</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_user'>user</span>     <span class='op'>=</span> <span class='id identifier rubyid_escape'><a href="#escape-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#escape (method)">escape</a></span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy_user</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_PROXY_USER</span><span class='tstring_end'>&#39;</span></span>]
    <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_escape'><a href="#escape-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#escape (method)">escape</a></span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy_pass</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_PROXY_PASS</span><span class='tstring_end'>&#39;</span></span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_uri'>uri</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reconnect-instance_method">
  <h3 class='signature '>
    #<strong>reconnect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Forces reconnection of all <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> connections, including TLS/SSL connections.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L826-L828'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='826' data-end='828'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 826</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reconnect'>reconnect</span>
  <span class='ivar'>@generation</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reconnect_ssl-instance_method">
  <h3 class='signature '>
    #<strong>reconnect_ssl</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Forces reconnection of only TLS/SSL connections.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L833-L835'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='833' data-end='835'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 833</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reconnect_ssl'>reconnect_ssl</span>
  <span class='ivar'>@ssl_generation</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="request-instance_method">
  <h3 class='signature '>
    #<strong>request</strong>(uri, req = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Makes a request on <code>uri</code>.  If <code>req</code> is nil a <code>Net::HTTP::Get</code> is performed against <code>uri</code>.</p>

<p>If a block is passed <code>#request</code> behaves like <code>Net::HTTP#request</code> (the body of the response will not have been read).</p>

<p><code>req</code> must be a <code>Net::HTTPGenericRequest</code> subclass (see <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> for a list).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L865-L896'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='865' data-end='896'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 865</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_request'>request</span> <span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_uri'>uri</span>      <span class='op'>=</span> <span class='const'><a href="../../../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../../../URI.html" title="Bundler::URI (module)">URI</a></span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_req'>req</span>      <span class='op'>=</span> <span class='id identifier rubyid_request_setup'><a href="#request_setup-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#request_setup (method)">request_setup</a></span> <span class='id identifier rubyid_req'>req</span> <span class='op'>||</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_connection_for'><a href="#connection_for-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#connection_for (method)">connection_for</a></span> <span class='id identifier rubyid_uri'>uri</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_connection'>connection</span><span class='op'>|</span>
    <span class='id identifier rubyid_http'>http</span> <span class='op'>=</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_requests'>requests</span> <span class='op'>+=</span> <span class='int'>1</span>

      <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_request'>request</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_connection_close?'>connection_close?</span> <span class='kw'>or</span>
        (<span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_http_version'><a href="#http_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#http_version (method)">http_version</a></span> <span class='op'>&lt;=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>and</span>
          <span class='kw'>not</span> <span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_connection_keep_alive?'>connection_keep_alive?</span>) <span class='kw'>or</span>
          <span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_connection_close?'>connection_close?</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#finish (method)">finish</a></span> <span class='id identifier rubyid_connection'>connection</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='comment'># make sure to close the connection when it was interrupted
</span>      <span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#finish (method)">finish</a></span> <span class='id identifier rubyid_connection'>connection</span>

      <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_last_use'>last_use</span> <span class='op'>=</span> <span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@http_versions</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_hostname'>hostname</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>||=</span> <span class='id identifier rubyid_response'>response</span>.<span class='id identifier rubyid_http_version'><a href="#http_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#http_version (method)">http_version</a></span>

  <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="request_setup-instance_method">
  <h3 class='signature nodoc'>
    #<strong>request_setup</strong>(req_or_uri)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a GET request if <code>req_or_uri</code> is a <a href="../../../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> and adds headers to the request.</p>

<p>Returns the request.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L904-L925'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='904' data-end='925'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 904</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_request_setup'>request_setup</span> <span class='id identifier rubyid_req_or_uri'>req_or_uri</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_req_or_uri'>req_or_uri</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request_uri</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
          <span class='const'><a href="../../Net.html" title="Bundler::Persistent::Net (module)">Net</a></span><span class='op'>::</span><span class='const'><a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)">HTTP</a></span><span class='op'>::</span><span class='const'>Get</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='id identifier rubyid_req_or_uri'>req_or_uri</span>.<span class='id identifier rubyid_request_uri'>request_uri</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_req_or_uri'>req_or_uri</span>
        <span class='kw'>end</span>

  <span class='ivar'>@headers</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span>
    <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_add_field'>add_field</span>(<span class='op'>*</span><span class='id identifier rubyid_pair'>pair</span>)
  <span class='kw'>end</span>

  <span class='ivar'>@override_headers</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_req'>req</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#name (method)">name</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_req'>req</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Connection</span><span class='tstring_end'>&#39;</span></span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_add_field'>add_field</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Connection</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>keep-alive</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_add_field'>add_field</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Keep-Alive</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@keep_alive</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_req'>req</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset-instance_method">
  <h3 class='signature '>
    #<strong>reset</strong>(connection)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finishes then restarts the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L840-L854'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='840' data-end='854'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 840</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset'>reset</span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='id identifier rubyid_http'>http</span> <span class='op'>=</span> <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_http'>http</span>

  <span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#finish (method)">finish</a></span> <span class='id identifier rubyid_connection'>connection</span>

  <span class='id identifier rubyid_start'><a href="#start-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#start (method)">start</a></span> <span class='id identifier rubyid_http'>http</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNREFUSED</span>
  <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'><a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>connection refused: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_address'>address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='gvar'>$@</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EHOSTDOWN</span>
  <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'><a href="Persistent/Error.html" title="Bundler::Persistent::Net::HTTP::Persistent::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host down: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_address'>address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='gvar'>$@</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown-instance_method">
  <h3 class='signature '>
    #<strong>shutdown</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shuts down all connections</p>

<p><strong>NOTE</strong>: Calling shutdown for can be dangerous!</p>

<p>If any thread is still using a connection it may cause an error!  Call <code>#shutdown</code> when you are completely done making requests!</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L935-L937'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='935' data-end='937'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 935</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shutdown'>shutdown</span>
  <span class='ivar'>@pool</span>.<span class='id identifier rubyid_shutdown'>shutdown</span> { <span class='op'>|</span><span class='id identifier rubyid_http'>http</span><span class='op'>|</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#finish (method)">finish</a></span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl-instance_method">
  <h3 class='signature '>
    #<strong>ssl</strong>(connection)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enables SSL on <code>connection</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L942-L1001'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='942' data-end='1001'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 942</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl'>ssl</span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_use_ssl'>use_ssl</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ciphers'><a href="#ciphers-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ciphers (method)">ciphers</a></span>     <span class='op'>=</span> <span class='ivar'>@ciphers</span>     <span class='kw'>if</span> <span class='ivar'>@ciphers</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ssl_timeout'><a href="#ssl_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_timeout (method)">ssl_timeout</a></span> <span class='op'>=</span> <span class='ivar'>@ssl_timeout</span> <span class='kw'>if</span> <span class='ivar'>@ssl_timeout</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ssl_version'><a href="#ssl_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ssl_version (method)">ssl_version</a></span> <span class='op'>=</span> <span class='ivar'>@ssl_version</span> <span class='kw'>if</span> <span class='ivar'>@ssl_version</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_min_version'><a href="#min_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#min_version (method)">min_version</a></span> <span class='op'>=</span> <span class='ivar'>@min_version</span> <span class='kw'>if</span> <span class='ivar'>@min_version</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_max_version'><a href="#max_version-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#max_version (method)">max_version</a></span> <span class='op'>=</span> <span class='ivar'>@max_version</span> <span class='kw'>if</span> <span class='ivar'>@max_version</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_verify_depth'><a href="#verify_depth-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_depth (method)">verify_depth</a></span> <span class='op'>=</span> <span class='ivar'>@verify_depth</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_mode (method)">verify_mode</a></span>  <span class='op'>=</span> <span class='ivar'>@verify_mode</span>

  <span class='kw'>if</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_PEER</span> <span class='op'>==</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_NONE</span> <span class='kw'>and</span>
     <span class='kw'>not</span> <span class='const'>Object</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>I_KNOW_THAT_OPENSSL_VERIFY_PEER_EQUALS_VERIFY_NONE_IS_WRONG</span>) <span class='kw'>then</span>
    <span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;-WARNING</span>
<span class='tstring_content'>                           !!!SECURITY WARNING!!!

The SSL HTTP connection to:

</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_address'>address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'>

                         !!!MAY NOT BE VERIFIED!!!

On your platform your OpenSSL implementation is broken.

There is no difference between the values of VERIFY_NONE and VERIFY_PEER.

This means that attempting to verify the security of SSL connections may not
work.  This exposes you to man-in-the-middle exploits, snooping on the
contents of your connection and other dangers to the security of your data.

To disable this warning define the following constant at top-level in your
application:

I_KNOW_THAT_OPENSSL_VERIFY_PEER_EQUALS_VERIFY_NONE_IS_WRONG = nil

</span><span class='heredoc_end'>    WARNING
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ca_file'><a href="#ca_file-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ca_file (method)">ca_file</a></span> <span class='op'>=</span> <span class='ivar'>@ca_file</span> <span class='kw'>if</span> <span class='ivar'>@ca_file</span>
  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_ca_path'><a href="#ca_path-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#ca_path (method)">ca_path</a></span> <span class='op'>=</span> <span class='ivar'>@ca_path</span> <span class='kw'>if</span> <span class='ivar'>@ca_path</span>

  <span class='kw'>if</span> <span class='ivar'>@ca_file</span> <span class='kw'>or</span> <span class='ivar'>@ca_path</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_mode (method)">verify_mode</a></span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_PEER</span>
    <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_verify_callback'><a href="#verify_callback-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#verify_callback (method)">verify_callback</a></span> <span class='op'>=</span> <span class='ivar'>@verify_callback</span> <span class='kw'>if</span> <span class='ivar'>@verify_callback</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@certificate</span> <span class='kw'>and</span> <span class='ivar'>@private_key</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_cert'><a href="#cert-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#cert (method)">cert</a></span> <span class='op'>=</span> <span class='ivar'>@certificate</span>
    <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_key'><a href="#key-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#key (method)">key</a></span>  <span class='op'>=</span> <span class='ivar'>@private_key</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_connection'>connection</span>.<span class='id identifier rubyid_cert_store'><a href="#cert_store-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#cert_store (method)">cert_store</a></span> <span class='op'>=</span> <span class='kw'>if</span> <span class='ivar'>@cert_store</span> <span class='kw'>then</span>
                            <span class='ivar'>@cert_store</span>
                          <span class='kw'>else</span>
                            <span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>X509</span><span class='op'>::</span><span class='const'>Store</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::Persistent::Net::HTTP::Persistent.new (method)">new</a></span>
                            <span class='id identifier rubyid_store'>store</span>.<span class='id identifier rubyid_set_default_paths'>set_default_paths</span>
                            <span class='id identifier rubyid_store'>store</span>
                          <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-instance_method">
  <h3 class='signature '>
    #<strong>start</strong>(http)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts the <a href="../HTTP.html" title="Bundler::Persistent::Net::HTTP (module)"><code>::Bundler::Persistent::Net::HTTP</code></a> <code>connection</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L653-L666'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='653' data-end='666'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 653</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span> <span class='id identifier rubyid_http'>http</span>
  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_set_debug_output'>set_debug_output</span> <span class='ivar'>@debug_output</span> <span class='kw'>if</span> <span class='ivar'>@debug_output</span>
  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_open_timeout'><a href="#open_timeout-instance_method" title="Bundler::Persistent::Net::HTTP::Persistent#open_timeout (method)">open_timeout</a></span> <span class='op'>=</span> <span class='ivar'>@open_timeout</span> <span class='kw'>if</span> <span class='ivar'>@open_timeout</span>

  <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_start'>start</span>

  <span class='id identifier rubyid_socket'>socket</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span>.<span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span> <span class='symbeg'>:</span><span class='ivar'>@socket</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_socket'>socket</span> <span class='kw'>then</span> <span class='comment'># for fakeweb
</span>    <span class='ivar'>@socket_options</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
      <span class='id identifier rubyid_socket'>socket</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_setsockopt'>setsockopt</span>(<span class='op'>*</span><span class='id identifier rubyid_option'>option</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unescape-instance_method">
  <h3 class='signature '>
    #<strong>unescape</strong>(str)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>CGI.unescape</code> wrapper</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb#L633-L635'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='633' data-end='635'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/net-http-persistent/lib/net/http/persistent.rb', line 633</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unescape'>unescape</span> <span class='id identifier rubyid_str'>str</span>
  <span class='const'>CGI</span>.<span class='id identifier rubyid_unescape'>unescape</span> <span class='id identifier rubyid_str'>str</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>