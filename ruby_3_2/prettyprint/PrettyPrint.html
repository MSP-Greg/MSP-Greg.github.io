<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: PrettyPrint &mdash; prettyprint  Ruby-3.2.9 p265</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "PrettyPrint",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.2.9</a> &raquo; 
      <a href='.'>prettyprint</a> &raquo; 
      <a href='_index.html#alpha_P'>Index (P)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>PrettyPrint&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: PrettyPrint</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="PrettyPrint/Breakable.html" title="PrettyPrint::Breakable (class)"><code>Breakable</code></a>,
        <a class='nodoc' href="PrettyPrint/Group.html" title="PrettyPrint::Group (class)"><code>Group</code></a>,
        <a class='nodoc' href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)"><code>GroupQueue</code></a>,
        <a href="PrettyPrint/SingleLine.html" title="PrettyPrint::SingleLine (class)"><code>SingleLine</code></a>,
        <a class='nodoc' href="PrettyPrint/Text.html" title="PrettyPrint::Text (class)"><code>Text</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L34'>lib/prettyprint.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This class implements a pretty printing algorithm. It finds line breaks and nice indentations for grouped structure.</p>

<p>By default, the class assumes that primitive elements are strings and each byte in the strings have single column in width. But it can be used for other situations by giving suitable arguments for some methods:</p>
<ul><li>
<p>newline object and space generation block for <a href="#new-class_method" title="PrettyPrint.new (method)">.new</a></p>
</li><li>
<p>optional width argument for <a href="#text-instance_method" title="PrettyPrint#text (method)">#text</a></p>
</li><li>
<p><a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a></p>
</li></ul>

<p>There are several candidate uses:</p>
<ul><li>
<p>text formatting using proportional fonts</p>
</li><li>
<p>multibyte characters which has columns different to number of bytes</p>
</li><li>
<p>non-string formatting</p>
</li></ul>

<h3 id="label-Bugs">Bugs</h3>
<ul><li>
<p>Box based formatting?</p>
</li><li>
<p>Other (better) model/algorithm?</p>
</li></ul>

<p>Report any bugs at <a href="http://bugs.ruby-lang.org">bugs.ruby-lang.org</a></p>

<h3 id="label-References">References</h3>

<p>Christian Lindig, Strictly Pretty, March 2000, <a href="http://www.st.cs.uni-sb.de/~lindig/papers/#pretty">www.st.cs.uni-sb.de/~lindig/papers/#pretty</a></p>

<p>Philip Wadler, A prettier printer, March 1998, <a href="http://homepages.inf.ed.ac.uk/wadler/topics/language-design.html#prettier">homepages.inf.ed.ac.uk/wadler/topics/language-design.html#prettier</a></p>

<h3 id="label-Author">Author</h3>

<p>Tanaka Akira &lt;akr@fsij.org&gt;</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#format-class_method" title=".format (class method)">.<strong>format</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda {|n| &#39; &#39; * n}) {|q| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is a convenience method which is same as follows:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, &amp;genspace)  &#x21d2; PrettyPrint </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a buffer for pretty printing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#singleline_format-class_method" title=".singleline_format (class method)">.<strong>singleline_format</strong>(output = &#39;&#39;.dup, maxwidth = nil, newline = nil, genspace = nil) {|q| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is similar to <a href="#format-class_method" title="PrettyPrint.format (method)">.format</a> but the result has no breaks.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#genspace-instance_method" title="#genspace (instance method)">#<strong>genspace</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A lambda or Proc, that takes one argument, of an Integer, and returns the corresponding number of spaces.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#group_queue-instance_method" title="#group_queue (instance method)">#<strong>group_queue</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)"><code>GroupQueue</code></a> of groups in stack to be pretty printed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#indent-instance_method" title="#indent (instance method)">#<strong>indent</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The number of spaces to be indented.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#maxwidth-instance_method" title="#maxwidth (instance method)">#<strong>maxwidth</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The maximum width of a line, before it is separated in to a newline.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#newline-instance_method" title="#newline (instance method)">#<strong>newline</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The value that is appended to <a href="#output-instance_method" title="PrettyPrint#output (method)">#output</a> to add a new line.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#output-instance_method" title="#output (instance method)">#<strong>output</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The output object.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#break_outmost_groups-instance_method" title="#break_outmost_groups (instance method)">#<strong>break_outmost_groups</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Breaks the buffer into lines that are shorter than <a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#breakable-instance_method" title="#breakable (instance method)">#<strong>breakable</strong>(sep = &#39; &#39;, width = sep.length)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This says “you can break a line here if necessary”, and a <code>width</code>-column text <code>sep</code> is inserted if a line is not broken at the point.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_group-instance_method" title="#current_group (instance method)">#<strong>current_group</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the group most recently added to the stack.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fill_breakable-instance_method" title="#fill_breakable (instance method)">#<strong>fill_breakable</strong>(sep = &#39; &#39;, width = sep.length)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is similar to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> except the decision to break or not is determined individually.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flush-instance_method" title="#flush (instance method)">#<strong>flush</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>outputs buffered data.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group-instance_method" title="#group (instance method)">#<strong>group</strong>(indent = 0, open_obj = &#39;&#39;, close_obj = &#39;&#39;, open_width = open_obj.length, close_width = close_obj.length)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Groups line break hints added in the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group_sub-instance_method" title="#group_sub (instance method)">#<strong>group_sub</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Takes a block and queues a new group that is indented 1 level further.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#nest-instance_method" title="#nest (instance method)">#<strong>nest</strong>(indent)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Increases left margin after newline with <a href="#indent-instance_method" title="PrettyPrint#indent (method)">#indent</a> for line breaks added in the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#text-instance_method" title="#text (instance method)">#<strong>text</strong>(obj, width = obj.length)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This adds <code>obj</code> as a text of <code>width</code> columns in width.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, &amp;genspace)  &#x21d2; <code>PrettyPrint</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a buffer for pretty printing.</p>

<p><a href="#output-instance_method" title="PrettyPrint#output (method)">#output</a> is an output target. If it is not specified, ” is assumed. It should have a &lt;&lt; method which accepts the first argument <code>obj</code> of <a href="#text-instance_method" title="PrettyPrint#text (method)">#text</a>, the first argument <code>sep</code> of <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a>, the first argument <a href="#newline-instance_method" title="PrettyPrint#newline (method)">#newline</a> of <code>new</code>, and the result of a given block for <code>new</code>.</p>

<p><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a> specifies maximum line length. If it is not specified, 79 is assumed. However actual outputs may overflow <a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a> if long non-breakable texts are provided.</p>

<p><a href="#newline-instance_method" title="PrettyPrint#newline (method)">#newline</a> is used for line breaks. “n” is used if it is not specified.</p>

<p>The block is used to generate spaces. {|width| ‘ ’ * width} is used if it is not given.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L82-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='82' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span><span class='op'>=</span><span class='int'>79</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span>)
  <span class='ivar'>@output</span> <span class='op'>=</span> <span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>
  <span class='ivar'>@maxwidth</span> <span class='op'>=</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span>
  <span class='ivar'>@newline</span> <span class='op'>=</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span>
  <span class='ivar'>@genspace</span> <span class='op'>=</span> <span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span> <span class='op'>||</span> <span class='id identifier rubyid_lambda'>lambda</span> {<span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span>}

  <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@buffer</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_root_group'>root_group</span> <span class='op'>=</span> <span class='const'><a href="PrettyPrint/Group.html" title="PrettyPrint::Group (class)">Group</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/Group.html#new-class_method" title="PrettyPrint::Group.new (method)">new</a></span>(<span class='int'>0</span>)
  <span class='ivar'>@group_stack</span> <span class='op'>=</span> [<span class='id identifier rubyid_root_group'>root_group</span>]
  <span class='ivar'>@group_queue</span> <span class='op'>=</span> <span class='const'><a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)">GroupQueue</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/GroupQueue.html#new-class_method" title="PrettyPrint::GroupQueue.new (method)">new</a></span>(<span class='id identifier rubyid_root_group'>root_group</span>)
  <span class='ivar'>@indent</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="format-class_method">
  <h3 class='signature  first'>
    .<strong>format</strong>(output = &#39;&#39;.dup, maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda {|n| &#39; &#39; * n}) {|q| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is a convenience method which is same as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>begin</span>
  <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="PrettyPrint.new (method)">new</a></span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span><span class='comma'>,</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span>)
  <span class='comment'>#...
</span>  <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_flush'><a href="#flush-instance_method" title="PrettyPrint#flush (method)">flush</a></span>
  <span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>q</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L45-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>PrettyPrint</span>.<span class='id identifier rubyid_format'>format</span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span><span class='op'>=</span><span class='int'>79</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span><span class='op'>=</span><span class='id identifier rubyid_lambda'>lambda</span> {<span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span>})
  <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="PrettyPrint.new (method)">new</a></span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span><span class='comma'>,</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span>)
  <span class='kw'>yield</span> <span class='id identifier rubyid_q'>q</span>
  <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_flush'><a href="#flush-instance_method" title="PrettyPrint#flush (method)">flush</a></span>
  <span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="singleline_format-class_method">
  <h3 class='signature '>
    .<strong>singleline_format</strong>(output = &#39;&#39;.dup, maxwidth = nil, newline = nil, genspace = nil) {|q| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is similar to <a href="#format-class_method" title="PrettyPrint.format (method)">.format</a> but the result has no breaks.</p>

<p><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a>, <a href="#newline-instance_method" title="PrettyPrint#newline (method)">#newline</a> and <a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">#genspace</a> are ignored.</p>

<p>The invocation of <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> in the block doesn’t break a line and is treated as just an invocation of <a href="#text-instance_method" title="PrettyPrint#text (method)">#text</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>q</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L59-L63'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='59' data-end='63'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 59</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>PrettyPrint</span>.<span class='id identifier rubyid_singleline_format'>singleline_format</span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'><a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">maxwidth</a></span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_genspace'><a href="#genspace-instance_method" title="PrettyPrint#genspace (method)">genspace</a></span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'><a href="PrettyPrint/SingleLine.html" title="PrettyPrint::SingleLine (class)">SingleLine</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/SingleLine.html#new-class_method" title="PrettyPrint::SingleLine.new (method)">new</a></span>(<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>)
  <span class='kw'>yield</span> <span class='id identifier rubyid_q'>q</span>
  <span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="genspace-instance_method">
  <h3 class='signature ro first'>
    #<strong>genspace</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A lambda or Proc, that takes one argument, of an Integer, and returns the corresponding number of spaces.</p>

<p>By default this is:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lambda'>lambda</span> {<span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span>}</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L118-L118'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='118'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_genspace'>genspace</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group_queue-instance_method">
  <h3 class='signature ro'>
    #<strong>group_queue</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <a href="PrettyPrint/GroupQueue.html" title="PrettyPrint::GroupQueue (class)"><code>::PrettyPrint::GroupQueue</code></a> of groups in stack to be pretty printed</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L124-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='124' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 124</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_group_queue'>group_queue</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="indent-instance_method">
  <h3 class='signature ro'>
    #<strong>indent</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The number of spaces to be indented</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L121-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='121' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 121</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="maxwidth-instance_method">
  <h3 class='signature ro'>
    #<strong>maxwidth</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The maximum width of a line, before it is separated in to a newline</p>

<p>This defaults to 79, and should be an Integer</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L106-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='106' data-end='106'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_maxwidth'>maxwidth</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="newline-instance_method">
  <h3 class='signature ro'>
    #<strong>newline</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The value that is appended to <a href="#output-instance_method" title="PrettyPrint#output (method)">#output</a> to add a new line.</p>

<p>This defaults to “n”, and should be String</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L111-L111'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='111' data-end='111'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_newline'>newline</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="output-instance_method">
  <h3 class='signature ro'>
    #<strong>output</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The output object.</p>

<p>This defaults to ”, and should accept the &lt;&lt; method</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L101-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_output'>output</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="break_outmost_groups-instance_method">
  <h3 class='signature  first'>
    #<strong>break_outmost_groups</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Breaks the buffer into lines that are shorter than <a href="#maxwidth-instance_method" title="PrettyPrint#maxwidth (method)">#maxwidth</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L160-L174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='160' data-end='174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 160</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_break_outmost_groups'>break_outmost_groups</span>
  <span class='kw'>while</span> <span class='ivar'>@maxwidth</span> <span class='op'>&lt;</span> <span class='ivar'>@output_width</span> <span class='op'>+</span> <span class='ivar'>@buffer_width</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span> <span class='op'>=</span> <span class='ivar'>@group_queue</span>.<span class='id identifier rubyid_deq'>deq</span>
    <span class='kw'>until</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>.<span class='id identifier rubyid_breakables'>breakables</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>(<span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span>)
      <span class='ivar'>@buffer_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_width'>width</span>
    <span class='kw'>end</span>
    <span class='kw'>while</span> <span class='op'>!</span><span class='ivar'>@buffer</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="PrettyPrint/Text.html" title="PrettyPrint::Text (class)">Text</a></span> <span class='op'>===</span> <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='op'>=</span> <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span>.<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>(<span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span>)
      <span class='ivar'>@buffer_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span>.<span class='id identifier rubyid_width'>width</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="breakable-instance_method">
  <h3 class='signature '>
    #<strong>breakable</strong>(sep = &#39; &#39;, width = sep.length)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This says “you can break a line here if necessary”, and a <code>width</code>-column text <code>sep</code> is inserted if a line is not broken at the point.</p>

<p>If <code>sep</code> is not specified, “ ” is used.</p>

<p>If <code>width</code> is not specified, <code>sep.length</code> is used. You will have to specify this when <code>sep</code> is a multibyte character, for example.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L224-L237'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='224' data-end='237'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 224</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_breakable'>breakable</span>(<span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_sep'>sep</span>.<span class='id identifier rubyid_length'>length</span>)
  <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span> <span class='op'>=</span> <span class='ivar'>@group_stack</span>.<span class='id identifier rubyid_last'>last</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>.<span class='id identifier rubyid_break?'>break?</span>
    <span class='id identifier rubyid_flush'><a href="#flush-instance_method" title="PrettyPrint#flush (method)">flush</a></span>
    <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@newline</span>
    <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@genspace</span>.<span class='id identifier rubyid_call'>call</span>(<span class='ivar'>@indent</span>)
    <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='ivar'>@indent</span>
    <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>else</span>
    <span class='ivar'>@buffer</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="PrettyPrint/Breakable.html" title="PrettyPrint::Breakable (class)">Breakable</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/Breakable.html#new-class_method" title="PrettyPrint::Breakable.new (method)">new</a></span>(<span class='id identifier rubyid_sep'>sep</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='kw'>self</span>)
    <span class='ivar'>@buffer_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
    <span class='id identifier rubyid_break_outmost_groups'><a href="#break_outmost_groups-instance_method" title="PrettyPrint#break_outmost_groups (method)">break_outmost_groups</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_group-instance_method">
  <h3 class='signature '>
    #<strong>current_group</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the group most recently added to the stack.</p>

<p>Contrived example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#=&gt; &quot;&quot;
</span><span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='const'>PrettyPrint</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="PrettyPrint.new (method)">new</a></span>(<span class='id identifier rubyid_out'>out</span>)
<span class='comment'>#=&gt; #&lt;PrettyPrint:0x82f85c0 @output=&quot;&quot;, @maxwidth=79, @newline=&quot;\n&quot;, @genspace=#&lt;Proc:0x82f8368@/home/vbatts/.rvm/rubies/ruby-head/lib/ruby/2.0.0/prettyprint.rb:82 (lambda)&gt;, @output_width=0, @buffer_width=0, @buffer=[], @group_stack=[#&lt;PrettyPrint::Group:0x82f8138 @depth=0, @breakables=[], @break=false&gt;], @group_queue=#&lt;PrettyPrint::GroupQueue:0x82fb7c0 @queue=[[#&lt;PrettyPrint::Group:0x82f8138 @depth=0, @breakables=[], @break=false&gt;]]&gt;, @indent=0&gt;
</span><span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span> {
  <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span>
  <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>(<span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span>) {
    <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_inspect'>inspect</span>
    <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span>
    <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>(<span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span>) {
      <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_inspect'>inspect</span>
      <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span>
      <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>(<span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span>) {
        <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_current_group'>current_group</span>.<span class='id identifier rubyid_inspect'>inspect</span>
        <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_newline'><a href="#newline-instance_method" title="PrettyPrint#newline (method)">newline</a></span>
      }
    }
  }
}
<span class='comment'>#=&gt; 284
</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_out'>out</span>
<span class='comment'>#&lt;PrettyPrint::Group:0x8354758 @depth=1, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x8354550 @depth=2, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x83541cc @depth=3, @breakables=[], @break=false&gt;
</span><span class='comment'>#&lt;PrettyPrint::Group:0x8347e54 @depth=4, @breakables=[], @break=false&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L155-L157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='155' data-end='157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 155</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_group'>current_group</span>
  <span class='ivar'>@group_stack</span>.<span class='id identifier rubyid_last'>last</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fill_breakable-instance_method">
  <h3 class='signature '>
    #<strong>fill_breakable</strong>(sep = &#39; &#39;, width = sep.length)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is similar to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> except the decision to break or not is determined individually.</p>

<p>Two <code>#fill_breakable</code> under a group may cause 4 results: (break,break), (break,non-break), (non-break,break), (non-break,non-break). This is different to <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> because two <a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">#breakable</a> under a group may cause 2 results: (break,break), (non-break,non-break).</p>

<p>The text <code>sep</code> is inserted if a line is not broken at this point.</p>

<p>If <code>sep</code> is not specified, “ ” is used.</p>

<p>If <code>width</code> is not specified, <code>sep.length</code> is used. You will have to specify this when <code>sep</code> is a multibyte character, for example.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L212-L214'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='212' data-end='214'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fill_breakable'>fill_breakable</span>(<span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_sep'>sep</span>.<span class='id identifier rubyid_length'>length</span>)
  <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span> { <span class='id identifier rubyid_breakable'><a href="#breakable-instance_method" title="PrettyPrint#breakable (method)">breakable</a></span> <span class='id identifier rubyid_sep'>sep</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flush-instance_method">
  <h3 class='signature '>
    #<strong>flush</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>outputs buffered data.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L288-L294'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='288' data-end='294'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 288</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_flush'>flush</span>
  <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
    <span class='ivar'>@output_width</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_output'><a href="#output-instance_method" title="PrettyPrint#output (method)">output</a></span>(<span class='ivar'>@output</span><span class='comma'>,</span> <span class='ivar'>@output_width</span>)
  }
  <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_clear'>clear</span>
  <span class='ivar'>@buffer_width</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group-instance_method">
  <h3 class='signature '>
    #<strong>group</strong>(indent = 0, open_obj = &#39;&#39;, close_obj = &#39;&#39;, open_width = open_obj.length, close_width = close_obj.length)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Groups line break hints added in the block. The line break hints are all to be used or not.</p>

<p>If <a href="#indent-instance_method" title="PrettyPrint#indent (method)">#indent</a> is specified, the method call is regarded as nested by nest(indent) { … }.</p>

<p>If <code>open_obj</code> is specified, <code>text open_obj, open_width</code> is called before grouping. If <code>close_obj</code> is specified, <code>text close_obj, close_width</code> is called after grouping.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L249-L257'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='249' data-end='257'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_group'>group</span>(<span class='id identifier rubyid_indent'><a href="#indent-instance_method" title="PrettyPrint#indent (method)">indent</a></span><span class='op'>=</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_open_obj'>open_obj</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_close_obj'>close_obj</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_open_width'>open_width</span><span class='op'>=</span><span class='id identifier rubyid_open_obj'>open_obj</span>.<span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_close_width'>close_width</span><span class='op'>=</span><span class='id identifier rubyid_close_obj'>close_obj</span>.<span class='id identifier rubyid_length'>length</span>)
  <span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_open_obj'>open_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_open_width'>open_width</span>
  <span class='id identifier rubyid_group_sub'><a href="#group_sub-instance_method" title="PrettyPrint#group_sub (method)">group_sub</a></span> {
    <span class='id identifier rubyid_nest'><a href="#nest-instance_method" title="PrettyPrint#nest (method)">nest</a></span>(<span class='id identifier rubyid_indent'><a href="#indent-instance_method" title="PrettyPrint#indent (method)">indent</a></span>) {
      <span class='kw'>yield</span>
    }
  }
  <span class='id identifier rubyid_text'><a href="#text-instance_method" title="PrettyPrint#text (method)">text</a></span> <span class='id identifier rubyid_close_obj'>close_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_close_width'>close_width</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group_sub-instance_method">
  <h3 class='signature '>
    #<strong>group_sub</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Takes a block and queues a new group that is indented 1 level further.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L260-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='260' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_group_sub'>group_sub</span>
  <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span> <span class='op'>=</span> <span class='const'><a href="PrettyPrint/Group.html" title="PrettyPrint::Group (class)">Group</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/Group.html#new-class_method" title="PrettyPrint::Group.new (method)">new</a></span>(<span class='ivar'>@group_stack</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span>)
  <span class='ivar'>@group_stack</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>
  <span class='ivar'>@group_queue</span>.<span class='id identifier rubyid_enq'>enq</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='ivar'>@group_stack</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>.<span class='id identifier rubyid_breakables'>breakables</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@group_queue</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_group'><a href="#group-instance_method" title="PrettyPrint#group (method)">group</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nest-instance_method">
  <h3 class='signature '>
    #<strong>nest</strong>(indent)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Increases left margin after newline with <a href="#indent-instance_method" title="PrettyPrint#indent (method)">#indent</a> for line breaks added in the block.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L277-L284'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='277' data-end='284'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 277</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_nest'>nest</span>(<span class='id identifier rubyid_indent'><a href="#indent-instance_method" title="PrettyPrint#indent (method)">indent</a></span>)
  <span class='ivar'>@indent</span> <span class='op'>+=</span> <span class='id identifier rubyid_indent'><a href="#indent-instance_method" title="PrettyPrint#indent (method)">indent</a></span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='ivar'>@indent</span> <span class='op'>-=</span> <span class='id identifier rubyid_indent'><a href="#indent-instance_method" title="PrettyPrint#indent (method)">indent</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="text-instance_method">
  <h3 class='signature '>
    #<strong>text</strong>(obj, width = obj.length)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This adds <code>obj</code> as a text of <code>width</code> columns in width.</p>

<p>If <code>width</code> is not specified, obj.length is used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_2_9/lib/prettyprint.rb#L180-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='180' data-end='194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prettyprint.rb', line 180</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_text'>text</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_length'>length</span>)
  <span class='kw'>if</span> <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='ivar'>@output_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='ivar'>@buffer</span>.<span class='id identifier rubyid_last'>last</span>
    <span class='kw'>unless</span> <span class='const'><a href="PrettyPrint/Text.html" title="PrettyPrint::Text (class)">Text</a></span> <span class='op'>===</span> <span class='id identifier rubyid_text'>text</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='const'><a href="PrettyPrint/Text.html" title="PrettyPrint::Text (class)">Text</a></span>.<span class='id identifier rubyid_new'><a href="PrettyPrint/Text.html#new-class_method" title="PrettyPrint::Text.new (method)">new</a></span>
      <span class='ivar'>@buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_text'>text</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_add'>add</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span>)
    <span class='ivar'>@buffer_width</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
    <span class='id identifier rubyid_break_outmost_groups'><a href="#break_outmost_groups-instance_method" title="PrettyPrint#break_outmost_groups (method)">break_outmost_groups</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>