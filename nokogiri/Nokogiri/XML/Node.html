<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Nokogiri::XML::Node &mdash; Nokogiri main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Nokogiri::XML::Node",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Nokogiri main</a> &raquo; 
      <a href='../../_index.html#alpha_N'>Index (N)</a> &raquo; 
        <a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a> &raquo; 
        <a href="../XML.html" title="Nokogiri::XML (module)">XML</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Node&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Nokogiri::XML::Node</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)"><code>SaveOptions</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="../../NokogiriHtml5/Document.html" title="NokogiriHtml5::Document (class)">NokogiriHtml5::Document</a>, <a href="../../NokogiriXml/DTD.html" title="NokogiriXml::DTD (class)">NokogiriXml::DTD</a>, <a href="../HTML4/Document.html" title="Nokogiri::HTML4::Document (class)">HTML4::Document</a>, <a href="../HTML4/DocumentFragment.html" title="Nokogiri::HTML4::DocumentFragment (class)">HTML4::DocumentFragment</a>, <a href="../HTML5/Document.html" title="Nokogiri::HTML5::Document (class)">HTML5::Document</a>, <a href="../HTML5/DocumentFragment.html" title="Nokogiri::HTML5::DocumentFragment (class)">HTML5::DocumentFragment</a>, <a href="../HTML/Document.html" title="Nokogiri::HTML::Document (class)">HTML::Document</a>, <a href="../HTML/DocumentFragment.html" title="Nokogiri::HTML::DocumentFragment (class)">HTML::DocumentFragment</a>, <a href="Attr.html" title="Nokogiri::XML::Attr (class)">Attr</a>, <a href="AttributeDecl.html" title="Nokogiri::XML::AttributeDecl (class)">AttributeDecl</a>, <a href="CDATA.html" title="Nokogiri::XML::CDATA (class)">CDATA</a>, <a href="CharacterData.html" title="Nokogiri::XML::CharacterData (class)">CharacterData</a>, <a href="Comment.html" title="Nokogiri::XML::Comment (class)">Comment</a>, <a href="DTD.html" title="Nokogiri::XML::DTD (class)">DTD</a>, <a href="Document.html" title="Nokogiri::XML::Document (class)">Document</a>, <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)">DocumentFragment</a>, <a href="ElementDecl.html" title="Nokogiri::XML::ElementDecl (class)">ElementDecl</a>, <a href="EntityDecl.html" title="Nokogiri::XML::EntityDecl (class)">EntityDecl</a>, <a href="EntityReference.html" title="Nokogiri::XML::EntityReference (class)">EntityReference</a>, <a href="ProcessingInstruction.html" title="Nokogiri::XML::ProcessingInstruction (class)">ProcessingInstruction</a>, <a href="Text.html" title="Nokogiri::XML::Text (class)">Text</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Enumerable,
          <a href="../ClassResolver.html" title="Nokogiri::ClassResolver (module)"><code>::Nokogiri::ClassResolver</code></a>,
          <a href="Searchable.html" title="Nokogiri::XML::Searchable (module)"><code>Searchable</code></a>,
          <a class='nodoc' href="PP/Node.html" title="Nokogiri::XML::PP::Node (module)"><code>PP::Node</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L56'>lib/nokogiri/xml/node.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2366'>ext/nokogiri/xml_node.c</a>,<br/> <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node/save_options.rb#L5'>lib/nokogiri/xml/node/save_options.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Node</code> is the primary API you’ll use to interact with your <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.</p>

<h3 id="label-Attributes">Attributes</h3>

<p>A <code>Node</code> may be treated similarly to a hash with regard to attributes. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)">DocumentFragment</a></span>.<span class='id identifier rubyid_parse'><a href="DocumentFragment.html#parse-class_method" title="Nokogiri::XML::DocumentFragment.parse (method)">parse</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a href=&#39;#foo&#39; id=&#39;link&#39;&gt;link&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span> <span class='comment'># =&gt; &quot;&lt;a href=\&quot;#foo\&quot; id=\&quot;link\&quot;&gt;link&lt;/a&gt;&quot;
</span><span class='id identifier rubyid_node'>node</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>href</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; &quot;#foo&quot;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Nokogiri::XML::Node#keys (method)">keys</a></span> <span class='comment'># =&gt; [&quot;href&quot;, &quot;id&quot;]
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_values'><a href="#values-instance_method" title="Nokogiri::XML::Node#values (method)">values</a></span> <span class='comment'># =&gt; [&quot;#foo&quot;, &quot;link&quot;]
</span><span class='id identifier rubyid_node'>node</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>class</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>green</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;green&quot;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span> <span class='comment'># =&gt; &quot;&lt;a href=\&quot;#foo\&quot; id=\&quot;link\&quot; class=\&quot;green\&quot;&gt;link&lt;/a&gt;&quot;</span></code></pre>

<p>See the method group entitled Node@Working+With+Node+Attributes for the full set of methods.</p>

<h3 id="label-Navigation">Navigation</h3>

<p><code>Node</code> also has methods that let you move around your tree:</p>
<dl class="rdoc-list label-list"><dt>#parent, <a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a>, <a href="#next-instance_method" title="Nokogiri::XML::Node#next (method)">#next</a>, #previous
<dd>
<p>Navigate up, down, or through siblings.</p>
</dd></dl>

<p>See the method group entitled Node@Traversing+Document+Structure for the full set of methods.</p>

<h3 id="label-Serialization">Serialization</h3>

<p>When printing or otherwise emitting a document or a node (and its subtree), there are a few methods you might want to use:</p>
<dl class="rdoc-list label-list"><dt>#content, <a href="#text-instance_method" title="Nokogiri::XML::Node#text (method)">#text</a>, <a href="#inner_text-instance_method" title="Nokogiri::XML::Node#inner_text (method)">#inner_text</a>, #to_str
<dd>
<p>These methods will all **emit plaintext**, meaning that entities will be replaced (e.g., <tt>&amp;lt;</tt> will be replaced with <tt>&lt;</tt>), meaning that any sanitizing will likely be un-done in the output.</p>
</dd><dt>#to_s, <a href="#to_xml-instance_method" title="Nokogiri::XML::Node#to_xml (method)">#to_xml</a>, <a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">#to_html</a>, #inner_html
<dd>
<p>These methods will all **emit properly-escaped markup**, meaning that it’s suitable for consumption by browsers, parsers, etc.</p>
</dd></dl>

<p>See the method group entitled Node@Serialization+and+Generating+Output for the full set of methods.</p>

<h3 id="label-Searching">Searching</h3>

<p>You may search this node’s subtree using methods like <code>#xpath</code> and <code>#css</code>.</p>

<p>See the method group entitled Node@Searching+via+XPath+or+CSS+Queries for the full set of methods.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ATTRIBUTE_DECL-constant' class='summary_signature'>ATTRIBUTE_DECL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Attribute declaration type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L93-L93'># File 'lib/nokogiri/xml/node.rb', line 93</a>    <pre class='code ruby'><span class='int'>16</span></pre>
  </li>
  <li>
    <span id='ATTRIBUTE_NODE-constant' class='summary_signature'>ATTRIBUTE_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Attribute node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L65-L65'># File 'lib/nokogiri/xml/node.rb', line 65</a>    <pre class='code ruby'><span class='int'>2</span></pre>
  </li>
  <li>
    <span id='CDATA_SECTION_NODE-constant' class='summary_signature'>CDATA_SECTION_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="CDATA.html" title="Nokogiri::XML::CDATA (class)"><code>CDATA</code></a> node type, see <a href="#cdata%3F-instance_method" title="Nokogiri::XML::Node#cdata? (method)">#cdata?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L69-L69'># File 'lib/nokogiri/xml/node.rb', line 69</a>    <pre class='code ruby'><span class='int'>4</span></pre>
  </li>
  <li>
    <span id='COMMENT_NODE-constant' class='summary_signature'>COMMENT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Comment.html" title="Nokogiri::XML::Comment (class)"><code>Comment</code></a> node type, see <a href="#comment%3F-instance_method" title="Nokogiri::XML::Node#comment? (method)">#comment?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L77-L77'># File 'lib/nokogiri/xml/node.rb', line 77</a>    <pre class='code ruby'><span class='int'>8</span></pre>
  </li>
  <li>
    <span id='DECONSTRUCT_KEYS-constant' class='summary_signature nodoc'>DECONSTRUCT_KEYS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1457-L1457'># File 'lib/nokogiri/xml/node.rb', line 1457</a>    <pre class='code ruby'>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attributes'><a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">attributes</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">namespace</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_elements'><a href="#elements-instance_method" title="Nokogiri::XML::Node#elements (method)">elements</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inner_html'><a href="#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">inner_html</a></span>].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='DECONSTRUCT_METHODS-constant' class='summary_signature nodoc'>DECONSTRUCT_METHODS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1458-L1458'># File 'lib/nokogiri/xml/node.rb', line 1458</a>    <pre class='code ruby'>{ <span class='label'>attributes:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span> }.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='DOCB_DOCUMENT_NODE-constant' class='summary_signature'>DOCB_DOCUMENT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>DOCB document node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L103-L103'># File 'lib/nokogiri/xml/node.rb', line 103</a>    <pre class='code ruby'><span class='int'>21</span></pre>
  </li>
  <li>
    <span id='DOCUMENT_FRAG_NODE-constant' class='summary_signature'>DOCUMENT_FRAG_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> fragment node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L83-L83'># File 'lib/nokogiri/xml/node.rb', line 83</a>    <pre class='code ruby'><span class='int'>11</span></pre>
  </li>
  <li>
    <span id='DOCUMENT_NODE-constant' class='summary_signature'>DOCUMENT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> node type, see <a href="#xml%3F-instance_method" title="Nokogiri::XML::Node#xml? (method)">#xml?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L79-L79'># File 'lib/nokogiri/xml/node.rb', line 79</a>    <pre class='code ruby'><span class='int'>9</span></pre>
  </li>
  <li>
    <span id='DOCUMENT_TYPE_NODE-constant' class='summary_signature'>DOCUMENT_TYPE_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> type node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L81-L81'># File 'lib/nokogiri/xml/node.rb', line 81</a>    <pre class='code ruby'><span class='int'>10</span></pre>
  </li>
  <li>
    <span id='DTD_NODE-constant' class='summary_signature'>DTD_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="DTD.html" title="Nokogiri::XML::DTD (class)"><code>DTD</code></a> node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L89-L89'># File 'lib/nokogiri/xml/node.rb', line 89</a>    <pre class='code ruby'><span class='int'>14</span></pre>
  </li>
  <li>
    <span id='ELEMENT_DECL-constant' class='summary_signature'>ELEMENT_DECL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> declaration type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L91-L91'># File 'lib/nokogiri/xml/node.rb', line 91</a>    <pre class='code ruby'><span class='int'>15</span></pre>
  </li>
  <li>
    <span id='ELEMENT_NODE-constant' class='summary_signature'>ELEMENT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> node type, see <a href="#element%3F-instance_method" title="Nokogiri::XML::Node#element? (method)">#element?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L63-L63'># File 'lib/nokogiri/xml/node.rb', line 63</a>    <pre class='code ruby'><span class='int'>1</span></pre>
  </li>
  <li>
    <span id='ENTITY_DECL-constant' class='summary_signature'>ENTITY_DECL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Entity declaration type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L95-L95'># File 'lib/nokogiri/xml/node.rb', line 95</a>    <pre class='code ruby'><span class='int'>17</span></pre>
  </li>
  <li>
    <span id='ENTITY_NODE-constant' class='summary_signature'>ENTITY_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Entity node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L73-L73'># File 'lib/nokogiri/xml/node.rb', line 73</a>    <pre class='code ruby'><span class='int'>6</span></pre>
  </li>
  <li>
    <span id='ENTITY_REF_NODE-constant' class='summary_signature'>ENTITY_REF_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Entity reference node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L71-L71'># File 'lib/nokogiri/xml/node.rb', line 71</a>    <pre class='code ruby'><span class='int'>5</span></pre>
  </li>
  <li>
    <span id='HTML_DOCUMENT_NODE-constant' class='summary_signature'>HTML_DOCUMENT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> document node type, see <a href="#html%3F-instance_method" title="Nokogiri::XML::Node#html? (method)">#html?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L87-L87'># File 'lib/nokogiri/xml/node.rb', line 87</a>    <pre class='code ruby'><span class='int'>13</span></pre>
  </li>
  <li>
    <span id='IMPLIED_XPATH_CONTEXTS-constant' class='summary_signature'>IMPLIED_XPATH_CONTEXTS =</span>
    <br/>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1601-L1601'># File 'lib/nokogiri/xml/node.rb', line 1601</a>    <pre class='code ruby'>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.//</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='NAMESPACE_DECL-constant' class='summary_signature'>NAMESPACE_DECL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Namespace.html" title="Nokogiri::XML::Namespace (class)"><code>Namespace</code></a> declaration type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L97-L97'># File 'lib/nokogiri/xml/node.rb', line 97</a>    <pre class='code ruby'><span class='int'>18</span></pre>
  </li>
  <li>
    <span id='NOTATION_NODE-constant' class='summary_signature'>NOTATION_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Notation.html" title="Nokogiri::XML::Notation (class)"><code>Notation</code></a> node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L85-L85'># File 'lib/nokogiri/xml/node.rb', line 85</a>    <pre class='code ruby'><span class='int'>12</span></pre>
  </li>
  <li>
    <span id='PI_NODE-constant' class='summary_signature'>PI_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>PI node type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L75-L75'># File 'lib/nokogiri/xml/node.rb', line 75</a>    <pre class='code ruby'><span class='int'>7</span></pre>
  </li>
  <li>
    <span id='TEXT_NODE-constant' class='summary_signature'>TEXT_NODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node type, see <a href="#text%3F-instance_method" title="Nokogiri::XML::Node#text? (method)">#text?</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L67-L67'># File 'lib/nokogiri/xml/node.rb', line 67</a>    <pre class='code ruby'><span class='int'>3</span></pre>
  </li>
  <li>
    <span id='USING_LIBXML_WITH_BROKEN_SERIALIZATION-constant' class='summary_signature priv'>USING_LIBXML_WITH_BROKEN_SERIALIZATION =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1580-L1580'># File 'lib/nokogiri/xml/node.rb', line 1580</a>    <pre class='code ruby'><span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>.<span class='id identifier rubyid_uses_libxml?'><a href="../../Nokogiri.html#uses_libxml%3F-class_method" title="Nokogiri.uses_libxml? (method)">uses_libxml?</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~&gt; 2.6.0</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='XINCLUDE_END-constant' class='summary_signature'>XINCLUDE_END =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>XInclude end type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L101-L101'># File 'lib/nokogiri/xml/node.rb', line 101</a>    <pre class='code ruby'><span class='int'>20</span></pre>
  </li>
  <li>
    <span id='XINCLUDE_START-constant' class='summary_signature'>XINCLUDE_START =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>XInclude start type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L99-L99'># File 'lib/nokogiri/xml/node.rb', line 99</a>    <pre class='code ruby'><span class='int'>19</span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="PP/Node.html" title="Nokogiri::XML::PP::Node (module)"><code>PP::Node</code></a> - Included</h3>
  <p  class='inherited'>
    <a class='nodoc' href="PP/Node.html#COLLECTIONS-constant" title="Nokogiri::XML::PP::Node::COLLECTIONS (constant)">COLLECTIONS</a>
  </p>
  <h3 class='inherited'><a href="Searchable.html" title="Nokogiri::XML::Searchable (module)"><code>Searchable</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="Searchable.html#LOOKS_LIKE_XPATH-constant" title="Nokogiri::XML::Searchable::LOOKS_LIKE_XPATH (constant)">LOOKS_LIKE_XPATH</a>
  </p>
  <h3 class='inherited'><a href="../ClassResolver.html" title="Nokogiri::ClassResolver (module)"><code>::Nokogiri::ClassResolver</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="../ClassResolver.html#VALID_NAMESPACES-constant" title="Nokogiri::ClassResolver::VALID_NAMESPACES (constant)">VALID_NAMESPACES</a>
  </p>
</div>

<h2 class='h2_sum'>Manipulating Document Structure</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add <code>node_or_tags</code> as a child of this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_child-instance_method" title="#add_child (instance method)">#<strong>add_child</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add <code>node_or_tags</code> as a child of this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_namespace-instance_method" title="#add_namespace (instance method)">#<strong>add_namespace</strong>(rb_prefix, rb_href)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#add_namespace_definition-instance_method" title="Nokogiri::XML::Node#add_namespace_definition (method)">#add_namespace_definition</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_next_sibling-instance_method" title="#add_next_sibling (instance method)">#<strong>add_next_sibling</strong>(node_or_tags)  </a>
      (also: #next=)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Insert <code>node_or_tags</code> after this <code>Node</code> (as a sibling).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_previous_sibling-instance_method" title="#add_previous_sibling (instance method)">#<strong>add_previous_sibling</strong>(node_or_tags)  </a>
      (also: #previous=)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Insert <code>node_or_tags</code> before this <code>Node</code> (as a sibling).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after-instance_method" title="#after (instance method)">#<strong>after</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Insert <code>node_or_tags</code> after this node (as a sibling).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before-instance_method" title="#before (instance method)">#<strong>before</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Insert <code>node_or_tags</code> before this node (as a sibling).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#children=-instance_method" title="#children= (instance method)">#<strong>children=</strong>(node_or_tags)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the content for this <code>Node</code> <code>node_or_tags</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#content=-instance_method" title="#content= (instance method)">#<strong>content=</strong>(string)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the Node’s content to a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node containing <code>string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#default_namespace=-instance_method" title="#default_namespace= (instance method)">#<strong>default_namespace=</strong>(url)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a default namespace supplied as a string <code>url</code> href, to self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#do_xinclude-instance_method" title="#do_xinclude (instance method)">#<strong>do_xinclude</strong>(options = XML::ParseOptions::DEFAULT_XML) {|options| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Do xinclude substitution on the subtree below node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#inner_html=-instance_method" title="#inner_html= (instance method)">#<strong>inner_html=</strong>(node_or_tags)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the content for this <code>Node</code> to <code>node_or_tags</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#namespace=-instance_method" title="#namespace= (instance method)">#<strong>namespace=</strong>(ns)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default namespace on this node (as would be defined with an “xmlns=” attribute in <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> source), as a <a href="Namespace.html" title="Nokogiri::XML::Namespace (class)"><code>Namespace</code></a> object <code>ns</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next_sibling-instance_method" title="Nokogiri::XML::Node#next_sibling (method)">#next_sibling</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#next=-instance_method" title="#next= (instance method)">#<strong>next=</strong>(node_or_tags)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">#add_next_sibling</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#parent=-instance_method" title="#parent= (instance method)">#<strong>parent=</strong>(parent_node)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the parent <code>Node</code> for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend_child-instance_method" title="#prepend_child (instance method)">#<strong>prepend_child</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add <code>node_or_tags</code> as the first child of this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#previous-instance_method" title="#previous (instance method)">#<strong>previous</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#previous_sibling-instance_method" title="Nokogiri::XML::Node#previous_sibling (method)">#previous_sibling</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#previous=-instance_method" title="#previous= (instance method)">#<strong>previous=</strong>(node_or_tags)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">#add_previous_sibling</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove-instance_method" title="#remove (instance method)">#<strong>remove</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">#unlink</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replace this <code>Node</code> with <code>node_or_tags</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swap-instance_method" title="#swap (instance method)">#<strong>swap</strong>(node_or_tags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Swap this <code>Node</code> for <code>node_or_tags</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wrap-instance_method" title="#wrap (instance method)">#<strong>wrap</strong>(markup)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Wrap this <code>Node</code> with the node parsed from <code>markup</code> or a dup of the <code>node</code>.</p></div>
    </div>
  </li>
</ul>
</div>

<h2 class='h2_sum'>Working With Node Attributes</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(name) → (String, nil)  </a>
      (also: #get_attribute, #attr)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch an attribute from this node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(name, value) → value)  </a>
      (also: #set_attribute)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Update the attribute <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> to <code>value</code>, or create the attribute if it does not exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_class-instance_method" title="#add_class (instance method)">#<strong>add_class</strong>(names) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Ensure HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes are present on <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#append_class-instance_method" title="#append_class (instance method)">#<strong>append_class</strong>(names) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes to <code>self</code>, regardless of duplication.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#attr-instance_method" title="#attr (instance method)">#<strong>attr</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="Nokogiri::XML::Node#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#attributes-instance_method" title="#attributes (instance method)">#<strong>attributes</strong>() → Hash&lt;String ⇒ Nokogiri::XML::Attr&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch this node’s attributes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#classes-instance_method" title="#classes (instance method)">#<strong>classes</strong>() → Array&lt;String&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch CSS class names of a <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#remove_attribute-instance_method" title="Nokogiri::XML::Node#remove_attribute (method)">#remove_attribute</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Iterate over each attribute name and value pair for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_attribute-instance_method" title="#get_attribute (instance method)">#<strong>get_attribute</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="Nokogiri::XML::Node#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#has_attribute%3F-instance_method" title="#has_attribute? (instance method)">#<strong>has_attribute?</strong>(attribute)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Nokogiri::XML::Node#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keys-instance_method" title="#keys (instance method)">#<strong>keys</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the attribute names for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kwattr_add-instance_method" title="#kwattr_add (instance method)">#<strong>kwattr_add</strong>(attribute_name, keywords) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Ensure that values are present in a keyword attribute.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kwattr_append-instance_method" title="#kwattr_append (instance method)">#<strong>kwattr_append</strong>(attribute_name, keywords) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add keywords to a Node’s keyword attribute, regardless of duplication.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kwattr_remove-instance_method" title="#kwattr_remove (instance method)">#<strong>kwattr_remove</strong>(attribute_name, keywords) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove keywords from a keyword attribute.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kwattr_values-instance_method" title="#kwattr_values (instance method)">#<strong>kwattr_values</strong>(attribute_name) → Array&lt;String&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch values from a keyword attribute of a <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_attribute-instance_method" title="#remove_attribute (instance method)">#<strong>remove_attribute</strong>(name)  </a>
      (also: #delete)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove the attribute named <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_class-instance_method" title="#remove_class (instance method)">#<strong>remove_class</strong>(css_classes) → self)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes from this node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_attribute-instance_method" title="#set_attribute (instance method)">#<strong>set_attribute</strong>(name, value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]=-instance_method" title="Nokogiri::XML::Node#[]= (method)">#[]=</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#value%3F-instance_method" title="#value? (instance method)">#<strong>value?</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does this Node’s attributes include &lt;value&gt;.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values-instance_method" title="#values (instance method)">#<strong>values</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the attribute values for this <code>Node</code>.</p></div>
    </div>
  </li>
</ul>
</div>

<h2 class='h2_sum'>Serialization and Generating Output</h2>
<div>
<ul class='summary full'>
  <li>
    <span class='summary_signature priv'>
      <a href="#add_child_node_and_reparent_attrs-instance_method" title="#add_child_node_and_reparent_attrs (instance method)">#<strong>add_child_node_and_reparent_attrs</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#add_sibling-instance_method" title="#add_sibling (instance method)">#<strong>add_sibling</strong>(next_or_previous, node_or_tags)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#canonicalize-instance_method" title="#canonicalize (instance method)">#<strong>canonicalize</strong>(mode = XML::XML_C14N_1_0, inclusive_namespaces = nil, with_comments = false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#deconstruct_keys-instance_method" title="#deconstruct_keys (instance method)">#<strong>deconstruct_keys</strong>(array_of_names) → Hash)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a hash describing the <code>Node</code>, to use in pattern matching.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#inspect_attributes-instance_method" title="#inspect_attributes (instance method)">#<strong>inspect_attributes</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#keywordify-instance_method" title="#keywordify (instance method)">#<strong>keywordify</strong>(keywords)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#serialize-instance_method" title="#serialize (instance method)">#<strong>serialize</strong>(*args, &amp;block)  </a>
      (also: #to_xml)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Serialize Node using <code>options</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#to_format-instance_method" title="#to_format (instance method)">#<strong>to_format</strong>(save_option, options)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_html-instance_method" title="#to_html (instance method)">#<strong>to_html</strong>(options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Serialize this <code>Node</code> to <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_xhtml-instance_method" title="#to_xhtml (instance method)">#<strong>to_xhtml</strong>(options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Serialize this <code>Node</code> to XHTML using <code>options</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_xml-instance_method" title="#to_xml (instance method)">#<strong>to_xml</strong>(options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Serialize this <code>Node</code> to <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> using <code>options</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#write_format_to-instance_method" title="#write_format_to (instance method)">#<strong>write_format_to</strong>(save_option, io, options)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_html_to-instance_method" title="#write_html_to (instance method)">#<strong>write_html_to</strong>(io, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Write Node as <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> to <code>io</code> with <code>options</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_to-instance_method" title="#write_to (instance method)">#<strong>write_to</strong>(io, *options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Serialize this node or document to <code>io</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_xhtml_to-instance_method" title="#write_xhtml_to (instance method)">#<strong>write_xhtml_to</strong>(io, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Write Node as XHTML to <code>io</code> with <code>options</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_xml_to-instance_method" title="#write_xml_to (instance method)">#<strong>write_xml_to</strong>(io, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Write Node as <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> to <code>io</code> with <code>options</code></p></div>
    </div>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(*args)  </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>documented in lib/nokogiri/xml/node.rb.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#blank%3F-instance_method" title="#blank? (instance method)">#<strong>blank?</strong>(→ Boolean)  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p><code>true</code> if the node is an empty or whitespace-only text or cdata node, else <code>false</code>.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#cdata%3F-instance_method" title="#cdata? (instance method)">#<strong>cdata?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="CDATA.html" title="Nokogiri::XML::CDATA (class)"><code>CDATA</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#children-instance_method" title="#children (instance method)">#<strong>children</strong>() → Nokogiri::XML::NodeSet)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Traversing Document Structure.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#comment%3F-instance_method" title="#comment? (instance method)">#<strong>comment?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="Comment.html" title="Nokogiri::XML::Comment (class)"><code>Comment</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#content-instance_method" title="#content (instance method)">#<strong>content</strong>() → String)  </a>
      (also: #value, #to_s, #inner_text, #text, #to_str)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>[Returns].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#document-instance_method" title="#document (instance method)">#<strong>document</strong>() → Nokogiri::XML::Document)  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Traversing Document Structure.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#document%3F-instance_method" title="#document? (instance method)">#<strong>document?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#elem%3F-instance_method" title="#elem? (instance method)">#<strong>elem?</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#element%3F-instance_method" title="Nokogiri::XML::Node#element? (method)">#element?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#element%3F-instance_method" title="#element? (instance method)">#<strong>element?</strong>  &#x21d2; Boolean </a>
      (also: #elem?)
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is an <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#fragment%3F-instance_method" title="#fragment? (instance method)">#<strong>fragment?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#html%3F-instance_method" title="#html? (instance method)">#<strong>html?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is an <a href="../HTML4/Document.html" title="Nokogiri::HTML4::Document (class)"><code>::Nokogiri::HTML4::Document</code></a> or <a href="../HTML5/Document.html" title="Nokogiri::HTML5::Document (class)"><code>::Nokogiri::HTML5::Document</code></a> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#inner_html-instance_method" title="#inner_html (instance method)">#<strong>inner_html</strong>(*args)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the inner_html for this node’s <a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#inner_text-instance_method" title="#inner_text (instance method)">#<strong>inner_text</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#lang-instance_method" title="#lang (instance method)">#<strong>lang</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches the language of a node, i.e.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#lang=-instance_method" title="#lang= (instance method)">#<strong>lang=</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the language of a node, i.e.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#line-instance_method" title="#line (instance method)">#<strong>line</strong>() → Integer)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p>The line number of this <code>Node</code>.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#line=-instance_method" title="#line= (instance method)">#<strong>line=</strong>(num)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the line for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">#node_name</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#namespace-instance_method" title="#namespace (instance method)">#<strong>namespace</strong>() → Namespace)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p>The Namespace of the element or attribute node, or <code>nil</code> if there is no namespace.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#native_content=-instance_method" title="#content= (instance method)">#<strong>content=</strong>  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the content for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#node_name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
      (also: #name)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the name for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#node_name=-instance_method" title="#name= (instance method)">#<strong>name=</strong>(new_name)  </a>
      (also: #name=)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the name for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#parent-instance_method" title="#parent (instance method)">#<strong>parent</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the parent <code>Node</code> for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#processing_instruction%3F-instance_method" title="#processing_instruction? (instance method)">#<strong>processing_instruction?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="ProcessingInstruction.html" title="Nokogiri::XML::ProcessingInstruction (class)"><code>ProcessingInstruction</code></a> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#read_only%3F-instance_method" title="#read_only? (instance method)">#<strong>read_only?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this a read only node?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#text-instance_method" title="#text (instance method)">#<strong>text</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#text%3F-instance_method" title="#text? (instance method)">#<strong>text?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#to_str-instance_method" title="#to_str (instance method)">#<strong>to_str</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#xml%3F-instance_method" title="#xml? (instance method)">#<strong>xml?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this is an <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#prepend_newline%3F-instance_method" title="#prepend_newline? (instance method)">#<strong>prepend_newline?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#data_ptr%3F-instance_method" title="#data_ptr? (instance method)">#<strong>data_ptr?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compare two <code>Node</code> objects with respect to their <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="../Test.html" title="Nokogiri::Test (module)"><code>::Nokogiri::Test</code></a> to see if this <code>Node</code> is equal to <code>other</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>(visitor)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Accept a visitor.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_namespace_definition-instance_method" title="#add_namespace_definition (instance method)">#<strong>add_namespace_definition</strong>(prefix, href) → Nokogiri::XML::Namespace)  </a>
      (also: #add_namespace)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Manipulating Document Structure.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ancestors-instance_method" title="#ancestors (instance method)">#<strong>ancestors</strong>(selector = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get a list of ancestor <code>Node</code> for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#attribute-instance_method" title="#attribute (instance method)">#<strong>attribute</strong>(name) → Nokogiri::XML::Attr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Working With <code>Node</code> Attributes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#attribute_nodes-instance_method" title="#attribute_nodes (instance method)">#<strong>attribute_nodes</strong>() → Array&lt;Nokogiri::XML::Attr&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Working With <code>Node</code> Attributes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#attribute_with_ns-instance_method" title="#attribute_with_ns (instance method)">#<strong>attribute_with_ns</strong>(name, namespace) → Nokogiri::XML::Attr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Working With <code>Node</code> Attributes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#child-instance_method" title="#child (instance method)">#<strong>child</strong>() → Nokogiri::XML::Node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>:category: Traversing Document Structure.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clone-instance_method" title="#clone (instance method)">#<strong>clone</strong>(→ Nokogiri::XML::Node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Clone this node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_external_subset-instance_method" title="#create_external_subset (instance method)">#<strong>create_external_subset</strong>(name, external_id, system_id)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create an external subset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_internal_subset-instance_method" title="#create_internal_subset (instance method)">#<strong>create_internal_subset</strong>(name, external_id, system_id)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create the internal subset of a document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#css_path-instance_method" title="#css_path (instance method)">#<strong>css_path</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the path to this node as a <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> expression.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#decorate!-instance_method" title="#decorate! (instance method)">#<strong>decorate!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decorate this node with the decorators set up in this node’s <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#description-instance_method" title="#description (instance method)">#<strong>description</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch the <a href="../HTML4/ElementDescription.html" title="Nokogiri::HTML4::ElementDescription (class)"><code>::Nokogiri::HTML4::ElementDescription</code></a> for this node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>(→ Nokogiri::XML::Node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Duplicate this node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#element_children-instance_method" title="#element_children (instance method)">#<strong>element_children</strong>() → NodeSet)  </a>
      (also: #elements)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>[Returns].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#elements-instance_method" title="#elements (instance method)">#<strong>elements</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#element_children-instance_method" title="Nokogiri::XML::Node#element_children (method)">#element_children</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode_special_chars-instance_method" title="#encode_special_chars (instance method)">#<strong>encode_special_chars</strong>(string) → String)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Encode any special characters in <code>string</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#external_subset-instance_method" title="#external_subset (instance method)">#<strong>external_subset</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the external subset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#first_element_child-instance_method" title="#first_element_child (instance method)">#<strong>first_element_child</strong>() → Node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p>The first child <code>Node</code> that is an element.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#fragment-instance_method" title="#fragment (instance method)">#<strong>fragment</strong>(tags)  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a> containing <code>tags</code> that is relative to <em>this</em> context node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize-instance_method" title="#new (instance method)">#<strong>new</strong>(name, document)  &#x21d2; Node </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a new node with <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> that belongs to <a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">#document</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#internal_subset-instance_method" title="#internal_subset (instance method)">#<strong>internal_subset</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the internal subset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key%3F-instance_method" title="#key? (instance method)">#<strong>key?</strong>(attribute)  </a>
      (also: #has_attribute?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a> is set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#last_element_child-instance_method" title="#last_element_child (instance method)">#<strong>last_element_child</strong>() → Node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p>The last child <code>Node</code> that is an element.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#matches%3F-instance_method" title="#matches? (instance method)">#<strong>matches?</strong>(selector)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if this <code>Node</code> matches <code>selector</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespace_definitions-instance_method" title="#namespace_definitions (instance method)">#<strong>namespace_definitions</strong>() → Array&lt;Nokogiri::XML::Namespace&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>[Returns].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespace_scopes-instance_method" title="#namespace_scopes (instance method)">#<strong>namespace_scopes</strong>() → Array&lt;Nokogiri::XML::Namespace&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list label-list"><dt>Returns
<dd><p>Array of all the Namespaces on this node and its ancestors.</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespaced_key%3F-instance_method" title="#namespaced_key? (instance method)">#<strong>namespaced_key?</strong>(attribute, namespace)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a> is set with <a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespaces-instance_method" title="#namespaces (instance method)">#<strong>namespaces</strong>() → Hash&lt;String(Namespace#prefix) ⇒ String(Namespace#href)&gt;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fetch all the namespaces on this node and its ancestors.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next_element-instance_method" title="#next_element (instance method)">#<strong>next_element</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the next <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> type sibling node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next_sibling-instance_method" title="#next_sibling (instance method)">#<strong>next_sibling</strong>  </a>
      (also: #next)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the next sibling node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#node_type-instance_method" title="#node_type (instance method)">#<strong>node_type</strong>  </a>
      (also: #type)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the type for this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(string_or_io, options = nil) {|options| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse <code>string_or_io</code> as a document fragment within the context of <strong>this</strong> node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the path associated with this <code>Node</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pointer_id-instance_method" title="#pointer_id (instance method)">#<strong>pointer_id</strong>() → Integer)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>[Returns].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#previous_element-instance_method" title="#previous_element (instance method)">#<strong>previous_element</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the previous <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> type sibling node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#previous_sibling-instance_method" title="#previous_sibling (instance method)">#<strong>previous_sibling</strong>  </a>
      (also: #previous)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the previous sibling node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Turn this node in to a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#traverse-instance_method" title="#traverse (instance method)">#<strong>traverse</strong> {|_self| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yields self and all children to <code>block</code> recursively.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#node_type-instance_method" title="Nokogiri::XML::Node#node_type (method)">#node_type</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unlink-instance_method" title="#unlink (instance method)">#<strong>unlink</strong>() → self)  </a>
      (also: #remove)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Unlink this node from its current context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compare-instance_method" title="#compare (instance method)">#<strong>compare</strong>(other)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Compare this <code>Node</code> to <code>other</code> with respect to their <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#dump_html-instance_method" title="#dump_html (instance method)">#<strong>dump_html</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>Node</code> as html.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get-instance_method" title="#get (instance method)">#<strong>get</strong>(attribute)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the value for <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#html_standard_serialize-instance_method" title="#html_standard_serialize (instance method)">#<strong>html_standard_serialize</strong>(preserve_newline)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#in_context-instance_method" title="#in_context (instance method)">#<strong>in_context</strong>(_str, _options)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>TODO: DOCUMENT ME.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#native_write_to-instance_method" title="#native_write_to (instance method)">#<strong>native_write_to</strong>(io, encoding, options)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Write this <code>Node</code> to <code>io</code> with <code>encoding</code> and <code>options</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#process_xincludes-instance_method" title="#process_xincludes (instance method)">#<strong>process_xincludes</strong>(options)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads and substitutes all xinclude elements below the node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(property, value)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the <code>property</code> to <code>value</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set_namespace-instance_method" title="#set_namespace (instance method)">#<strong>set_namespace</strong>(namespace)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the namespace to <a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#add_child_node-instance_method" title="#add_child_node (instance method)">#<strong>add_child_node</strong>(new_child)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#add_next_sibling_node-instance_method" title="#add_next_sibling_node (instance method)">#<strong>add_next_sibling_node</strong>(new_sibling)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#add_previous_sibling_node-instance_method" title="#add_previous_sibling_node (instance method)">#<strong>add_previous_sibling_node</strong>(new_sibling)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#replace_node-instance_method" title="#replace_node (instance method)">#<strong>replace_node</strong>(new_node)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="../ClassResolver.html" title="Nokogiri::ClassResolver (module)"><code>::Nokogiri::ClassResolver</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ClassResolver.html#related_class-instance_method" title="Nokogiri::ClassResolver#related_class (method)">#related_class</a></td>
      <td><div class='inline'><p>Find a class constant within the.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Searchable.html" title="Nokogiri::XML::Searchable (module)"><code>Searchable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#%25-instance_method" title="Nokogiri::XML::Searchable#% (method)">#%</a></td>
      <td><div class='inline'><p>Alias for <a href="Searchable.html#at-instance_method" title="Nokogiri::XML::Searchable#at (method)">Searchable#at</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#%2F-instance_method" title="Nokogiri::XML::Searchable#/ (method)">#/</a></td>
      <td><div class='inline'><p>Alias for <a href="Searchable.html#search-instance_method" title="Nokogiri::XML::Searchable#search (method)">Searchable#search</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#>-instance_method" title="Nokogiri::XML::Searchable#&gt; (method)">#></a></td>
      <td><div class='inline'><p>Search this node’s immediate children using <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> selector <code>selector</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#at-instance_method" title="Nokogiri::XML::Searchable#at (method)">#at</a></td>
      <td><div class='inline'><p>Search this object for <code>paths</code>, and return only the first result.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#at_css-instance_method" title="Nokogiri::XML::Searchable#at_css (method)">#at_css</a></td>
      <td><div class='inline'><p>Search this object for <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> <code>rules</code>, and return only the first match.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#at_xpath-instance_method" title="Nokogiri::XML::Searchable#at_xpath (method)">#at_xpath</a></td>
      <td><div class='inline'><p>Search this node for <a href="XPath.html" title="Nokogiri::XML::XPath (module)"><code>XPath</code></a> <code>paths</code>, and return only the first match.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#css-instance_method" title="Nokogiri::XML::Searchable#css (method)">#css</a></td>
      <td><div class='inline'><p>Search this object for <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> <code>rules</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#search-instance_method" title="Nokogiri::XML::Searchable#search (method)">#search</a></td>
      <td><div class='inline'><p>Search this object for <code>paths</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Searchable.html#xpath-instance_method" title="Nokogiri::XML::Searchable#xpath (method)">#xpath</a></td>
      <td><div class='inline'><p>Search this node for <a href="XPath.html" title="Nokogiri::XML::XPath (module)"><code>XPath</code></a> <code>paths</code>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="Searchable.html#css_internal-instance_method" title="Nokogiri::XML::Searchable#css_internal (method)">#css_internal</a>,
        <a class='i_m priv' href="Searchable.html#css_rules_to_xpath-instance_method" title="Nokogiri::XML::Searchable#css_rules_to_xpath (method)">#css_rules_to_xpath</a>,
        <a class='i_m priv' href="Searchable.html#xpath_impl-instance_method" title="Nokogiri::XML::Searchable#xpath_impl (method)">#xpath_impl</a>,
        <a class='i_m priv' href="Searchable.html#xpath_internal-instance_method" title="Nokogiri::XML::Searchable#xpath_internal (method)">#xpath_internal</a>,
        <a class='i_m priv' href="Searchable.html#xpath_query_from_css_rule-instance_method" title="Nokogiri::XML::Searchable#xpath_query_from_css_rule (method)">#xpath_query_from_css_rule</a>,
        <a class='i_m priv nodoc' href="Searchable.html#extract_params-instance_method" title="Nokogiri::XML::Searchable#extract_params (method)">#extract_params</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited nodoc'><a href="PP/Node.html" title="Nokogiri::XML::PP::Node (module)"><code>PP::Node</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="PP/Node.html#inspect-instance_method" title="Nokogiri::XML::PP::Node#inspect (method)">#inspect</a>,
        <a class='i_m nodoc' href="PP/Node.html#pretty_print-instance_method" title="Nokogiri::XML::PP::Node#pretty_print (method)">#pretty_print</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature nodoc first'>
    .<strong>new</strong>(*args)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>documented in lib/nokogiri/xml/node.rb</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2039-L2072'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2039' data-end='2072'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2039</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_new(int argc, VALUE *argv, VALUE klass)
{
  xmlNodePtr c_document_node;
  xmlNodePtr c_node;
  VALUE rb_name;
  VALUE rb_document_node;
  VALUE rest;
  VALUE rb_node;

  rb_scan_args(argc, argv, &quot;2*&quot;, &amp;rb_name, &amp;rb_document_node, &amp;rest);

  if (!rb_obj_is_kind_of(rb_document_node, cNokogiriXmlNode)) {
    rb_raise(rb_eArgError, &quot;document must be a Nokogiri::XML::Node&quot;);
  }
  if (!rb_obj_is_kind_of(rb_document_node, cNokogiriXmlDocument)) {
    NOKO_WARN_DEPRECATION(&quot;Passing a Node as the second parameter to Node.new is deprecated. Please pass a Document instead, or prefer an alternative constructor like Node#add_child. This will become an error in Nokogiri v1.17.0.&quot;); // TODO: deprecated in v1.13.0, remove in v1.17.0
  }
  Noko_Node_Get_Struct(rb_document_node, xmlNode, c_document_node);

  c_node = xmlNewNode(NULL, (xmlChar *)StringValueCStr(rb_name));
  c_node-&gt;doc = c_document_node-&gt;doc;
  noko_xml_document_pin_node(c_node);

  rb_node = noko_xml_node_wrap(
              klass == cNokogiriXmlNode ? (VALUE)NULL : klass,
              c_node
            );
  rb_obj_call_init(rb_node, argc, argv);

  if (rb_block_given_p()) { rb_yield(rb_node); }

  return rb_node;
}
</pre>
  </div>
</div>
</section>

  <section class='method_details' id="initialize-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>new</strong>(name, document)  &#x21d2; <code>Node</code> </span>
      <span class='overload'>#<strong>new</strong>(name, document) {|node| ... } &#x21d2; <code>Node</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a new node with <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> that belongs to <a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">#document</a>.</p>

<p>If you intend to add a node to a document tree, it’s likely that you will prefer one of the <code>Node</code> methods like <a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">#add_child</a>, <a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">#add_next_sibling</a>, <a href="#replace-instance_method" title="Nokogiri::XML::Node#replace (method)">#replace</a>, etc. which will both create an element (or subtree) and place it in the document tree.</p>

<p>Another alternative, if you are concerned about performance, is <a href="Document.html#create_element-instance_method" title="Nokogiri::XML::Document#create_element (method)">Document#create_element</a> which accepts additional arguments for contents or attributes but (like this method) avoids parsing markup.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> (String)</p>
</li><li>
<p><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">#document</a> (Nokogiri::XML::Document) The document to which the the returned node will belong.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Yields
<dd>
<p><code>Node</code></p>
</dd><dt>Returns
<dd>
<p><code>Node</code></p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L126-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='126' data-end='128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>)
  <span class='comment'># This is intentionally empty, and sets the method signature for subclasses.
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="blank?-instance_method">
  <h3 class='signature ro first'>
    #<strong>blank?</strong>(→ Boolean)   <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>true</code> if the node is an empty or whitespace-only text or cdata node, else <code>false</code>.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;child/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='comment'># =&gt; false
</span><span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;\t \n&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='comment'># =&gt; true
</span><span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;![CDATA[\t \n]]&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='comment'># =&gt; true
</span><span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;not-blank&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>
  .<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> }.<span class='id identifier rubyid_blank'>blank</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L666-L672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='666' data-end='672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 666</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_blank_eh(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  return (1 == xmlIsBlankNode(node)) ? Qtrue : Qfalse ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cdata?-instance_method">
  <h3 class='signature ro'>
    #<strong>cdata?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="CDATA.html" title="Nokogiri::XML::CDATA (class)"><code>CDATA</code></a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1171-L1173'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1171' data-end='1173'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1171</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cdata?'>cdata?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#CDATA_SECTION_NODE-constant" title="Nokogiri::XML::Node::CDATA_SECTION_NODE (constant)">CDATA_SECTION_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="children-instance_method">
  <h3 class='signature rw'>
    #<strong>children</strong>() → Nokogiri::XML::NodeSet)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Traversing Document Structure</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> containing this node’s children.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L708-L735'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='708' data-end='735'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 708</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_children(VALUE self)
{
  xmlNodePtr node;
  xmlNodePtr child;
  xmlNodeSetPtr set;
  VALUE document;
  VALUE node_set;

  Noko_Node_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  set = xmlXPathNodeSetCreate(child);

  document = DOC_RUBY_OBJECT(node-&gt;doc);

  if (!child) { return noko_xml_node_set_wrap(set, document); }

  child = child-&gt;next;
  while (NULL != child) {
    xmlXPathNodeSetAddUnique(set, child);
    child = child-&gt;next;
  }

  node_set = noko_xml_node_set_wrap(set, document);

  return node_set;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="children=-instance_method">
  <h3 class='signature rw'>
    #<strong>children=</strong>(node_or_tags)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the content for this <code>Node</code> <code>node_or_tags</code></p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, or a String containing markup.</p>

<p>Also see related method <a href="#inner_html=-instance_method" title="Nokogiri::XML::Node#inner_html= (method)">#inner_html=</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L385-L393'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='385' data-end='393'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 385</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_children='>children=</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_coerce'>coerce</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>.<span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>)
    <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_add_child_node_and_reparent_attrs'><a href="#add_child_node_and_reparent_attrs-instance_method" title="Nokogiri::XML::Node#add_child_node_and_reparent_attrs (method)">add_child_node_and_reparent_attrs</a></span>(<span class='id identifier rubyid_n'>n</span>) }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_add_child_node_and_reparent_attrs'><a href="#add_child_node_and_reparent_attrs-instance_method" title="Nokogiri::XML::Node#add_child_node_and_reparent_attrs (method)">add_child_node_and_reparent_attrs</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="comment?-instance_method">
  <h3 class='signature ro'>
    #<strong>comment?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="Comment.html" title="Nokogiri::XML::Comment (class)"><code>Comment</code></a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1166-L1168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1166' data-end='1168'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_comment?'>comment?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#COMMENT_NODE-constant" title="Nokogiri::XML::Node::COMMENT_NODE (constant)">COMMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content-instance_method">
  <h3 class='signature rw'>
    <div class='inline-block'>
      <span class='overload'>#<strong>content</strong>() → String)   <span class="extras">(<span class='rw'>rw</span>)</span></span>
      <span class='overload'>#<strong>inner_text</strong>() → String)  </span>
      <span class='overload'>#<strong>text</strong>() → String)  </span>
      <span class='overload'>#<strong>to_str</strong>() → String)  &#x21d2; ? </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#value, #to_s, #inner_text, #text, #to_str</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Contents of all the text nodes in this node’s subtree, concatenated together into a single String.</p>
</dd></dl>

<p>⚠ Note that entities will <em>always</em> be expanded in the returned String.</p>

<p>See related: <a href="#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">#inner_html</a></p>

<p><strong>Example</strong> of how entities are handled:</p>

<p>Note that <code>&amp;lt;</code> becomes <code>&lt;</code> in the returned String.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>.<span class='id identifier rubyid_fragment'><a href="../XML.html#fragment-class_method" title="Nokogiri::XML.fragment (method)">fragment</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;child&gt;a &amp;lt; b&lt;/child&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_content'>content</span>
<span class='comment'># =&gt; &quot;a &lt; b&quot;</span></code></pre>

<p><strong>Example</strong> of how a subtree is handled:</p>

<p>Note that the <code>&lt;span&gt;</code> tags are omitted and only the text node contents are returned, concatenated into a single string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>.<span class='id identifier rubyid_fragment'><a href="../XML.html#fragment-class_method" title="Nokogiri::XML.fragment (method)">fragment</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;child&gt;&lt;span&gt;first&lt;/span&gt; &lt;span&gt;second&lt;/span&gt;&lt;/child&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_content'>content</span>
<span class='comment'># =&gt; &quot;first second&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L770-L785'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='770' data-end='785'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 770</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_content(VALUE self)
{
  xmlNodePtr node;
  xmlChar *content;

  Noko_Node_Get_Struct(self, xmlNode, node);

  content = xmlNodeGetContent(node);
  if (content) {
    VALUE rval = NOKOGIRI_STR_NEW2(content);
    xmlFree(content);
    return rval;
  }
  return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content=-instance_method">
  <h3 class='signature rw'>
    #<strong>content=</strong>(string)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the Node’s content to a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node containing <code>string</code>. The string gets <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> escaped, not interpreted as markup.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L447-L449'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='447' data-end='449'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 447</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content='>content=</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_native_content'>native_content</span> <span class='op'>=</span> <span class='id identifier rubyid_encode_special_chars'><a href="#encode_special_chars-instance_method" title="Nokogiri::XML::Node#encode_special_chars (method)">encode_special_chars</a></span>(<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">to_s</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="data_ptr?-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>data_ptr?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2258-L2264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2258' data-end='2264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2258</span></pre>
<pre class='code cpp'>

VALUE
rb_xml_node_data_ptr_eh(VALUE self)
{
  xmlNodePtr c_node;
  Noko_Node_Get_Struct(self, xmlNode, c_node);
  return c_node ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_namespace=-instance_method">
  <h3 class='signature wo'>
    #<strong>default_namespace=</strong>(url)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds a default namespace supplied as a string <code>url</code> href, to self. The consequence is as an xmlns attribute with supplied argument were present in parsed <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a>.  A default namespace set with this method will now show up in <a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">#attributes</a>, but when this node is serialized to <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> an “xmlns” attribute will appear. See also <a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a> and <a href="#namespace=-instance_method" title="Nokogiri::XML::Node#namespace= (method)">#namespace=</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L463-L465'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='463' data-end='465'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 463</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_namespace='>default_namespace=</span>(<span class='id identifier rubyid_url'>url</span>)
  <span class='id identifier rubyid_add_namespace_definition'><a href="#add_namespace_definition-instance_method" title="Nokogiri::XML::Node#add_namespace_definition (method)">add_namespace_definition</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="document-instance_method">
  <h3 class='signature ro'>
    #<strong>document</strong>() → Nokogiri::XML::Document)   <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Traversing Document Structure</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Parent <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> for this node</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L795-L801'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='795' data-end='801'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 795</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_document(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  return DOC_RUBY_OBJECT(node-&gt;doc);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="document?-instance_method">
  <h3 class='signature ro'>
    #<strong>document?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1186-L1188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1186' data-end='1188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1186</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_document?'>document?</span>
  <span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Document.html" title="Nokogiri::XML::Document (class)">Document</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="elem?-instance_method">
  <h3 class='signature ro'>
    #<strong>elem?</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#element%3F-instance_method" title="Nokogiri::XML::Node#element? (method)">#element?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1226-L1226'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1226' data-end='1226'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1226</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_elem?'>elem?</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element?'><a href="#element%3F-instance_method" title="Nokogiri::XML::Node#element? (method)">element?</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="element?-instance_method">
  <h3 class='signature ro'>
    #<strong>element?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#elem?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is an <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1222-L1224'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1222' data-end='1224'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1222</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_element?'>element?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#ELEMENT_NODE-constant" title="Nokogiri::XML::Node::ELEMENT_NODE (constant)">ELEMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fragment?-instance_method">
  <h3 class='signature ro'>
    #<strong>fragment?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1201-L1203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1201' data-end='1203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1201</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fragment?'>fragment?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#DOCUMENT_FRAG_NODE-constant" title="Nokogiri::XML::Node::DOCUMENT_FRAG_NODE (constant)">DOCUMENT_FRAG_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html?-instance_method">
  <h3 class='signature ro'>
    #<strong>html?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is an <a href="../HTML4/Document.html" title="Nokogiri::HTML4::Document (class)"><code>::Nokogiri::HTML4::Document</code></a> or <a href="../HTML5/Document.html" title="Nokogiri::HTML5::Document (class)"><code>::Nokogiri::HTML5::Document</code></a> node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1181-L1183'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1181' data-end='1183'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1181</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_html?'>html?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#HTML_DOCUMENT_NODE-constant" title="Nokogiri::XML::Node::HTML_DOCUMENT_NODE (constant)">HTML_DOCUMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inner_html-instance_method">
  <h3 class='signature rw'>
    #<strong>inner_html</strong>(*args)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the inner_html for this node’s <a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1236-L1238'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1236' data-end='1238'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1236</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inner_html'>inner_html</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>) }.<span class='id identifier rubyid_join'>join</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inner_html=-instance_method">
  <h3 class='signature rw'>
    #<strong>inner_html=</strong>(node_or_tags)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the content for this <code>Node</code> to <code>node_or_tags</code>.</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, or a String containing markup.</p>

<p>⚠ Please note that despite the name, this method will <strong>not</strong> always parse a String argument as <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a>. A String argument will be parsed with the <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a> parser related to this node’s document.</p>

<p>For example, if the document is an <a href="../HTML4/Document.html" title="Nokogiri::HTML4::Document (class)"><code>::Nokogiri::HTML4::Document</code></a> then the string will be parsed as <a href="../HTML4.html" title="Nokogiri::HTML4 (module)"><code>::Nokogiri::HTML4</code></a> using HTML4::DocumentFragment; but if the document is an <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> then it will parse the string as <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> using <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>.</p>

<p>Also see related method <a href="#children=-instance_method" title="Nokogiri::XML::Node#children= (method)">#children=</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L374-L376'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='374' data-end='376'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 374</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inner_html='>inner_html=</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span> <span class='op'>=</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inner_text-instance_method">
  <h3 class='signature ro'>
    #<strong>inner_text</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L508-L508'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='508' data-end='508'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 508</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inner_text'>inner_text</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lang-instance_method">
  <h3 class='signature rw'>
    #<strong>lang</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches the language of a node, i.e. the values of the xml:lang attribute or the one carried by the nearest ancestor.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1544-L1561'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1544' data-end='1561'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1544</span></pre>
<pre class='code cpp'>

static VALUE
get_lang(VALUE self_rb)
{
  xmlNodePtr self ;
  xmlChar *lang ;
  VALUE lang_rb ;

  Noko_Node_Get_Struct(self_rb, xmlNode, self);

  lang = xmlNodeGetLang(self);
  if (lang) {
    lang_rb = NOKOGIRI_STR_NEW2(lang);
    xmlFree(lang);
    return lang_rb ;
  }

  return Qnil ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lang=-instance_method">
  <h3 class='signature rw'>
    #<strong>lang=</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the language of a node, i.e. the values of the xml:lang attribute.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1523-L1535'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1523' data-end='1535'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1523</span></pre>
<pre class='code cpp'>

static VALUE
set_lang(VALUE self_rb, VALUE lang_rb)
{
  xmlNodePtr self ;
  xmlChar *lang ;

  Noko_Node_Get_Struct(self_rb, xmlNode, self);
  lang = (xmlChar *)StringValueCStr(lang_rb);

  xmlNodeSetLang(self, lang);

  return Qnil ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="line-instance_method">
  <h3 class='signature rw'>
    #<strong>line</strong>() → Integer)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The line number of this <code>Node</code>.</p>
</dd></dl>
<hr>

<p><strong> ⚠ The CRuby and JRuby implementations differ in important ways! </strong></p>

<p>Semantic differences:</p>
<ul><li>
<p>The CRuby method reflects the node’s line number <em>in the parsed string</em></p>
</li><li>
<p>The JRuby method reflects the node’s line number <em>in the final DOM structure</em> after corrections have been applied</p>
</li></ul>

<p>Performance differences:</p>
<ul><li>
<p>The CRuby method is <a href="https://en.wikipedia.org/wiki/Time_complexity#Constant_time" target="_parent" title="O(1)">O(1)</a> (constant time)</p>
</li><li>
<p>The JRuby method is <a href="https://en.wikipedia.org/wiki/Time_complexity#Linear_time" target="_parent" title="O(n)">O(n)</a> (linear time, where n is the number of nodes before/above the element in the DOM)</p>
</li></ul>

<p>If you’d like to help improve the JRuby implementation, please review these issues and reach out to the maintainers:</p>
<ul><li>
<p><a href="https://github.com/sparklemotion/nokogiri/issues/1223">github.com/sparklemotion/nokogiri/issues/1223</a></p>
</li><li>
<p><a href="https://github.com/sparklemotion/nokogiri/pull/2177">github.com/sparklemotion/nokogiri/pull/2177</a></p>
</li><li>
<p><a href="https://github.com/sparklemotion/nokogiri/issues/2380">github.com/sparklemotion/nokogiri/issues/2380</a></p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2001-L2008'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2001' data-end='2008'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2001</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_line(VALUE rb_node)
{
  xmlNodePtr c_node;
  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  return LONG2NUM(xmlGetLineNo(c_node));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="line=-instance_method">
  <h3 class='signature rw'>
    #<strong>line=</strong>(num)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the line for this <code>Node</code>. num must be less than 65535.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2016-L2036'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2016' data-end='2036'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2016</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_line_set(VALUE rb_node, VALUE rb_line_number)
{
  xmlNodePtr c_node;
  int line_number = NUM2INT(rb_line_number);

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  // libxml2 optionally uses xmlNode.psvi to store longer line numbers, but only for text nodes.
  // search for &quot;psvi&quot; in SAX2.c and tree.c to learn more.
  if (line_number &lt; 65535) {
    c_node-&gt;line = (short) line_number;
  } else {
    c_node-&gt;line = 65535;
    if (c_node-&gt;type == XML_TEXT_NODE) {
      c_node-&gt;psvi = (void *)(ptrdiff_t) line_number;
    }
  }

  return rb_line_number;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature rw'>
    #<strong>name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">#node_name</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L511-L511'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='511' data-end='511'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 511</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node_name'><a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">node_name</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace-instance_method">
  <h3 class='signature rw'>
    #<strong>namespace</strong>() → Namespace)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The Namespace of the element or attribute node, or <code>nil</code> if there is no namespace.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;first/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;second xmlns=&quot;http://example.com/child&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;foo:third xmlns:foo=&quot;http://example.com/foo&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//first</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace'>namespace</span>
<span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//xmlns:second</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace'>namespace</span>
<span class='comment'># =&gt; #(Namespace:0x3c { href = &quot;http://example.com/child&quot; })
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//foo:third</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/foo</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace'>namespace</span>
<span class='comment'># =&gt; #(Namespace:0x50 { prefix = &quot;foo&quot;, href = &quot;http://example.com/foo&quot; })</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1364-L1375'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1364' data-end='1375'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1364</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_namespace(VALUE rb_node)
{
  xmlNodePtr c_node ;
  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  if (c_node-&gt;ns) {
    return noko_xml_namespace_wrap(c_node-&gt;ns, c_node-&gt;doc);
  }

  return Qnil ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace=-instance_method">
  <h3 class='signature rw'>
    #<strong>namespace=</strong>(ns)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default namespace on this node (as would be defined with an “xmlns=” attribute in <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> source), as a <a href="Namespace.html" title="Nokogiri::XML::Namespace (class)"><code>Namespace</code></a> object <code>ns</code>. Note that a <a href="Namespace.html" title="Nokogiri::XML::Namespace (class)"><code>Namespace</code></a> added this way will NOT be serialized as an xmlns attribute for this node. You probably want <a href="#default_namespace=-instance_method" title="Nokogiri::XML::Node#default_namespace= (method)">#default_namespace=</a> instead, or perhaps <a href="#add_namespace_definition-instance_method" title="Nokogiri::XML::Node#add_namespace_definition (method)">#add_namespace_definition</a> with a nil prefix argument.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L473-L484'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='473' data-end='484'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 473</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_namespace='>namespace=</span>(<span class='id identifier rubyid_ns'>ns</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_set_namespace'><a href="#set_namespace-instance_method" title="Nokogiri::XML::Node#set_namespace (method)">set_namespace</a></span>(<span class='id identifier rubyid_ns'>ns</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_ns'>ns</span>

  <span class='kw'>unless</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Namespace.html" title="Nokogiri::XML::Namespace (class)">Namespace</a></span> <span class='op'>===</span> <span class='id identifier rubyid_ns'>ns</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> can&#39;t be coerced into Nokogiri::XML::Namespace</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span> <span class='op'>!=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>namespace must be declared on the same document</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_set_namespace'><a href="#set_namespace-instance_method" title="Nokogiri::XML::Node#set_namespace (method)">set_namespace</a></span>(<span class='id identifier rubyid_ns'>ns</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="native_content=-instance_method">
  <h3 class='signature wo'>
    #<strong>content=</strong>   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the content for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1499-L1515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1499' data-end='1515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1499</span></pre>
<pre class='code cpp'>

static VALUE
set_native_content(VALUE self, VALUE content)
{
  xmlNodePtr node, child, next ;
  Noko_Node_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  while (NULL != child) {
    next = child-&gt;next ;
    xmlUnlinkNode(child) ;
    noko_xml_document_pin_node(child);
    child = next ;
  }

  xmlNodeSetContent(node, (xmlChar *)StringValueCStr(content));
  return content;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next-instance_method">
  <h3 class='signature rw'>
    #<strong>next</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next_sibling-instance_method" title="Nokogiri::XML::Node#next_sibling (method)">#next_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L498-L498'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='498' data-end='498'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 498</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='kw'>next</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_next_sibling'><a href="#next_sibling-instance_method" title="Nokogiri::XML::Node#next_sibling (method)">next_sibling</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next=-instance_method">
  <h3 class='signature rw'>
    #<strong>next=</strong>(node_or_tags)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">#add_next_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L500-L500'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='500' data-end='500'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 500</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_next='>next=</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_next_sibling'><a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">add_next_sibling</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="node_name-instance_method">
  <h3 class='signature rw'>
    #<strong>name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>    <span class='aliases'>Also known as: <span class='names'>#name</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the name for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1609-L1618'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1609' data-end='1618'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1609</span></pre>
<pre class='code cpp'>

static VALUE
get_name(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  if (node-&gt;name) {
    return NOKOGIRI_STR_NEW2(node-&gt;name);
  }
  return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="node_name=-instance_method">
  <h3 class='signature rw'>
    #<strong>name=</strong>(new_name)   <span class="extras">(<span class='rw'>rw</span>)</span>    <span class='aliases'>Also known as: <span class='names'>#name=</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the name for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1594-L1601'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1594' data-end='1601'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1594</span></pre>
<pre class='code cpp'>

static VALUE
set_name(VALUE self, VALUE new_name)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  xmlNodeSetName(node, (xmlChar *)StringValueCStr(new_name));
  return new_name;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent-instance_method">
  <h3 class='signature rw'>
    #<strong>parent</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the parent <code>Node</code> for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1576-L1586'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1576' data-end='1586'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1576</span></pre>
<pre class='code cpp'>

static VALUE
get_parent(VALUE self)
{
  xmlNodePtr node, parent;
  Noko_Node_Get_Struct(self, xmlNode, node);

  parent = node-&gt;parent;
  if (!parent) { return Qnil; }

  return noko_xml_node_wrap(Qnil, parent) ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent=-instance_method">
  <h3 class='signature rw'>
    #<strong>parent=</strong>(parent_node)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the parent <code>Node</code> for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L453-L455'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='453' data-end='455'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 453</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parent='>parent=</span>(<span class='id identifier rubyid_parent_node'>parent_node</span>)
  <span class='id identifier rubyid_parent_node'>parent_node</span>.<span class='id identifier rubyid_add_child'><a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">add_child</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend_newline?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>prepend_newline?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1829-L1835'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1829' data-end='1835'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1829</span></pre>
<pre class='code cpp'>

static VALUE
rb_prepend_newline(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  return should_prepend_newline(node) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="previous-instance_method">
  <h3 class='signature rw'>
    #<strong>previous</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#previous_sibling-instance_method" title="Nokogiri::XML::Node#previous_sibling (method)">#previous_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L499-L499'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='499' data-end='499'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 499</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_previous'>previous</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_previous_sibling'><a href="#previous_sibling-instance_method" title="Nokogiri::XML::Node#previous_sibling (method)">previous_sibling</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="previous=-instance_method">
  <h3 class='signature rw'>
    #<strong>previous=</strong>(node_or_tags)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">#add_previous_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L501-L501'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='501' data-end='501'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 501</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_previous='>previous=</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_previous_sibling'><a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">add_previous_sibling</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="processing_instruction?-instance_method">
  <h3 class='signature ro'>
    #<strong>processing_instruction?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="ProcessingInstruction.html" title="Nokogiri::XML::ProcessingInstruction (class)"><code>ProcessingInstruction</code></a> node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1191-L1193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1191' data-end='1193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_processing_instruction?'>processing_instruction?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#PI_NODE-constant" title="Nokogiri::XML::Node::PI_NODE (constant)">PI_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_only?-instance_method">
  <h3 class='signature ro'>
    #<strong>read_only?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this a read only node?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1216-L1219'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1216' data-end='1219'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1216</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_only?'>read_only?</span>
  <span class='comment'># According to gdome2, these are read-only node types
</span>  [<span class='const'><a href="#NOTATION_NODE-constant" title="Nokogiri::XML::Node::NOTATION_NODE (constant)">NOTATION_NODE</a></span><span class='comma'>,</span> <span class='const'><a href="#ENTITY_NODE-constant" title="Nokogiri::XML::Node::ENTITY_NODE (constant)">ENTITY_NODE</a></span><span class='comma'>,</span> <span class='const'><a href="#ENTITY_DECL-constant" title="Nokogiri::XML::Node::ENTITY_DECL (constant)">ENTITY_DECL</a></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="text-instance_method">
  <h3 class='signature ro'>
    #<strong>text</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L509-L509'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='509' data-end='509'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 509</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="text?-instance_method">
  <h3 class='signature ro'>
    #<strong>text?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1196-L1198'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1196' data-end='1198'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_text?'>text?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#TEXT_NODE-constant" title="Nokogiri::XML::Node::TEXT_NODE (constant)">TEXT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_str-instance_method">
  <h3 class='signature ro'>
    #<strong>to_str</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L510-L510'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='510' data-end='510'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 510</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xml?-instance_method">
  <h3 class='signature ro'>
    #<strong>xml?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this is an <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a> node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1176-L1178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1176' data-end='1178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1176</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_xml?'>xml?</span>
  <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Nokogiri::XML::Node#type (method)">type</a></span> <span class='op'>==</span> <span class='const'><a href="#DOCUMENT_NODE-constant" title="Nokogiri::XML::Node::DOCUMENT_NODE (constant)">DOCUMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add <code>node_or_tags</code> as a child of this <code>Node</code>.</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns <code>self</code>, to support chaining of calls (e.g., root &lt;&lt; child1 &lt;&lt; child2)</p>

<p>Also see related method <a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">#add_child</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L292-L295'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='292' data-end='295'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 292</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_add_child'><a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">add_child</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(other)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compare two <code>Node</code> objects with respect to their <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>.  Nodes from different documents cannot be compared.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1297-L1302'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1297' data-end='1302'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1297</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Node</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>

  <span class='id identifier rubyid_compare'><a href="#compare-instance_method" title="Nokogiri::XML::Node#compare (method)">compare</a></span>(<span class='id identifier rubyid_other'>other</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(other)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="../Test.html" title="Nokogiri::Test (module)"><code>::Nokogiri::Test</code></a> to see if this <code>Node</code> is equal to <code>other</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1287-L1292'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1287' data-end='1292'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_pointer_id'><a href="#pointer_id-instance_method" title="Nokogiri::XML::Node#pointer_id (method)">pointer_id</a></span>)

  <span class='id identifier rubyid_pointer_id'><a href="#pointer_id-instance_method" title="Nokogiri::XML::Node#pointer_id (method)">pointer_id</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_pointer_id'><a href="#pointer_id-instance_method" title="Nokogiri::XML::Node#pointer_id (method)">pointer_id</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    #<strong>[]</strong>(name) → (String, nil)      <span class='aliases'>Also known as: <span class='names'>#get_attribute, #attr</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch an attribute from this node.</p>

<p>⚠ Note that attributes with namespaces cannot be accessed with this method. To access namespaced attributes, use <a href="#attribute_with_ns-instance_method" title="Nokogiri::XML::Node#attribute_with_ns (method)">#attribute_with_ns</a>.</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>(String, nil) value of the attribute <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a>, or <code>nil</code> if no matching attribute exists</p>
</dd></dl>

<p><strong>Example</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;child size=&#39;large&#39; class=&#39;big wide tall&#39;/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; &quot;large&quot;
</span><span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; &quot;big wide tall&quot;</span></code></pre>

<p><strong>Example:</strong> Namespaced attributes will not be returned.</p>

<p>⚠ Note namespaced attributes may be accessed with <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a> or <a href="#attribute_with_ns-instance_method" title="Nokogiri::XML::Node#attribute_with_ns (method)">#attribute_with_ns</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child width:size=&#39;broad&#39;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>)[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute'><a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">attribute</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_value'>value</span> <span class='comment'># =&gt; &quot;broad&quot;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute_with_ns'><a href="#attribute_with_ns-instance_method" title="Nokogiri::XML::Node#attribute_with_ns (method)">attribute_with_ns</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/widths</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_value'>value</span>
<span class='comment'># =&gt; &quot;broad&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L547-L549'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='547' data-end='549'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 547</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>)
  <span class='id identifier rubyid_get'><a href="#get-instance_method" title="Nokogiri::XML::Node#get (method)">get</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">to_s</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    #<strong>[]=</strong>(name, value) → value)      <span class='aliases'>Also known as: <span class='names'>#set_attribute</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Update the attribute <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> to <code>value</code>, or create the attribute if it does not exist.</p>

<p>⚠ Note that attributes with namespaces cannot be accessed with this method. To access namespaced attributes for update, use <a href="#attribute_with_ns-instance_method" title="Nokogiri::XML::Node#attribute_with_ns (method)">#attribute_with_ns</a>. To add a namespaced attribute, see the example below.</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>value</code></p>
</dd></dl>

<p><strong>Example</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;child/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>broad</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>
<span class='comment'># =&gt; &quot;&lt;child size=\&quot;broad\&quot;&gt;&lt;/child&gt;&quot;</span></code></pre>

<p><strong>Example:</strong> Add a namespaced attribute.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>broad</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_namespace_definitions'><a href="#namespace_definitions-instance_method" title="Nokogiri::XML::Node#namespace_definitions (method)">namespace_definitions</a></span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_ns'>ns</span><span class='op'>|</span> <span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>width</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_attribute'><a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">attribute</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace'><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">namespace</a></span> <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>
<span class='comment'># =&gt; &quot;&lt;root xmlns:width=\&quot;http://example.com/widths\&quot;&gt;\n&quot; +
</span><span class='comment'>#    &quot;  &lt;child width:size=\&quot;broad\&quot;&gt;&lt;/child&gt;\n&quot; +
</span><span class='comment'>#    &quot;&lt;/root&gt;\n&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L585-L587'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='585' data-end='587'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 585</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]=</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_set'><a href="#set-instance_method" title="Nokogiri::XML::Node#set (method)">set</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">to_s</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept-instance_method">
  <h3 class='signature '>
    #<strong>accept</strong>(visitor)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Accept a visitor.  This method calls “visit” on <code>visitor</code> with self.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1281-L1283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1281' data-end='1283'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1281</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept'>accept</span>(<span class='id identifier rubyid_visitor'>visitor</span>)
  <span class='id identifier rubyid_visitor'>visitor</span>.<span class='id identifier rubyid_visit'>visit</span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_child-instance_method">
  <h3 class='signature '>
    #<strong>add_child</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add <code>node_or_tags</code> as a child of this <code>Node</code>.</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns the reparented node (if <code>node_or_tags</code> is a <code>Node</code>), or <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> (if <code>node_or_tags</code> is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a>, or String).</p>

<p>Also see related method <a href="#<<-instance_method" title="Nokogiri::XML::Node#&lt;&lt; (method)">#&lt;&lt;</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L184-L192'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='184' data-end='192'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 184</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_child'>add_child</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_coerce'>coerce</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>)
    <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_add_child_node_and_reparent_attrs'><a href="#add_child_node_and_reparent_attrs-instance_method" title="Nokogiri::XML::Node#add_child_node_and_reparent_attrs (method)">add_child_node_and_reparent_attrs</a></span>(<span class='id identifier rubyid_n'>n</span>) }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_add_child_node_and_reparent_attrs'><a href="#add_child_node_and_reparent_attrs-instance_method" title="Nokogiri::XML::Node#add_child_node_and_reparent_attrs (method)">add_child_node_and_reparent_attrs</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_child_node-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>add_child_node</strong>(new_child)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1564-L1568'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1564' data-end='1568'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1564</span></pre>
<pre class='code cpp'>

static VALUE
add_child(VALUE self, VALUE new_child)
{
  return reparent_node_with(self, new_child, xmlAddChild);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_child_node_and_reparent_attrs-instance_method">
  <h3 class='signature priv'>
    #<strong>add_child_node_and_reparent_attrs</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1603-L1609'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1603' data-end='1609'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1603</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_child_node_and_reparent_attrs'>add_child_node_and_reparent_attrs</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_add_child_node'><a href="#add_child_node-instance_method" title="Nokogiri::XML::Node#add_child_node (method)">add_child_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span>.<span class='id identifier rubyid_find_all'>find_all</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>) }.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attr_node'>attr_node</span><span class='op'>|</span>
    <span class='id identifier rubyid_attr_node'>attr_node</span>.<span class='id identifier rubyid_remove'><a href="#remove-instance_method" title="Nokogiri::XML::Node#remove (method)">remove</a></span>
    <span class='id identifier rubyid_node'>node</span>[<span class='id identifier rubyid_attr_node'>attr_node</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_attr_node'>attr_node</span>.<span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_class-instance_method">
  <h3 class='signature '>
    #<strong>add_class</strong>(names) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Ensure HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes are present on <code>self</code>. Any CSS classes in <code>names</code> that already exist in the “class” attribute are <em>not</em> added. Note that any existing duplicates in the “class” attribute are not removed. Compare with <a href="#append_class-instance_method" title="Nokogiri::XML::Node#append_class (method)">#append_class</a>.</p>

<p>This is a convenience function and is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_add'><a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">kwattr_add</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span>)</code></pre>

<p>See related: <a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">#kwattr_add</a>, <a href="#classes-instance_method" title="Nokogiri::XML::Node#classes (method)">#classes</a>, <a href="#append_class-instance_method" title="Nokogiri::XML::Node#append_class (method)">#append_class</a>, <a href="#remove_class-instance_method" title="Nokogiri::XML::Node#remove_class (method)">#remove_class</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>names</code> (String, Array&lt;String&gt;)</p>

<p>CSS class names to be added to the Node’s “class” attribute. May be a string containing whitespace-delimited names, or an Array of String names. Any class names already present will not be added. Any class names not present will be added. If no “class” attribute exists, one is created.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example:</strong> Ensure that the node has <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class “section”</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                      <span class='comment'># =&gt; &lt;div&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_add_class'>add_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_add_class'>add_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section&quot;&gt;&lt;/div&gt; # duplicate not added</span></code></pre>

<p><strong>Example:</strong> Ensure that the node has <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes “section” and “header”, via a String argument</p>

<p>Note that the <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class “section” is not added because it is already present. Note also that the pre-existing duplicate <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class “section” is not removed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                             <span class='comment'># =&gt; &lt;div class=&quot;section section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_add_class'>add_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section header</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section section header&quot;&gt;&lt;/div&gt;</span></code></pre>

<p><strong>Example:</strong> Ensure that the node has <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes “section” and “header”, via an Array argument</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                  <span class='comment'># =&gt; &lt;div&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_add_class'>add_class</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>header</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;div class=&quot;section header&quot;&gt;&lt;/div&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L750-L752'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='750' data-end='752'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 750</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_class'>add_class</span>(<span class='id identifier rubyid_names'>names</span>)
  <span class='id identifier rubyid_kwattr_add'><a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">kwattr_add</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_namespace-instance_method">
  <h3 class='signature '>
    #<strong>add_namespace</strong>(rb_prefix, rb_href)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#add_namespace_definition-instance_method" title="Nokogiri::XML::Node#add_namespace_definition (method)">#add_namespace_definition</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L504-L504'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='504' data-end='504'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 504</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_namespace'>add_namespace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_namespace_definition'><a href="#add_namespace_definition-instance_method" title="Nokogiri::XML::Node#add_namespace_definition (method)">add_namespace_definition</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_namespace_definition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>add_namespace_definition</strong>(prefix, href) → Nokogiri::XML::Namespace)  </span>
      <span class='overload'>#<strong>add_namespace</strong>(prefix, href) → Nokogiri::XML::Namespace)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#add_namespace</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Manipulating Document Structure</p>

<p>Adds a namespace definition to this node with <code>prefix</code> using <code>href</code> value, as if this node had included an attribute “xmlns:prefix=href”.</p>

<p>A default namespace definition for this node can be added by passing <code>nil</code> for <code>prefix</code>.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>prefix</code> (String, <code>nil</code>) An <a href="https://www.w3.org/TR/xml-names/#ns-decl" target="_parent" title="{Nokogiri::XML">{Nokogiri::XML</a> Name}</p>
</li><li>
<p><code>href</code> (String) The <a href="https://www.w3.org/TR/xml-names/#sec-namespaces" target="_parent" title="URI reference">URI reference</a></p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The new <a href="Namespace.html" title="Nokogiri::XML::Namespace (class)"><code>Namespace</code></a></p>
</dd></dl>

<p><strong>Example:</strong> adding a non-default namespace definition</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;store&gt;&lt;inventory&gt;&lt;/inventory&gt;&lt;/store&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_inventory'>inventory</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inventory</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_inventory'>inventory</span>.<span class='id identifier rubyid_add_namespace_definition'>add_namespace_definition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>automobile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://alices-autos.com/</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_inventory'>inventory</span>.<span class='id identifier rubyid_add_namespace_definition'>add_namespace_definition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bicycle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://bobs-bikes.com/</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_inventory'>inventory</span>.<span class='id identifier rubyid_add_child'><a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">add_child</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;automobile:tire&gt;Michelin model XGV, size 75R&lt;/automobile:tire&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_xml'><a href="#to_xml-instance_method" title="Nokogiri::XML::Node#to_xml (method)">to_xml</a></span>
<span class='comment'># =&gt; &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;\n&quot; +
</span><span class='comment'>#    &quot;&lt;store&gt;\n&quot; +
</span><span class='comment'>#    &quot;  &lt;inventory xmlns:automobile=\&quot;http://alices-autos.com/\&quot; xmlns:bicycle=\&quot;http://bobs-bikes.com/\&quot;&gt;\n&quot; +
</span><span class='comment'>#    &quot;    &lt;automobile:tire&gt;Michelin model XGV, size 75R&lt;/automobile:tire&gt;\n&quot; +
</span><span class='comment'>#    &quot;  &lt;/inventory&gt;\n&quot; +
</span><span class='comment'>#    &quot;&lt;/store&gt;\n&quot;</span></code></pre>

<p><strong>Example:</strong> adding a default namespace definition</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;store&gt;&lt;inventory&gt;&lt;tire&gt;Michelin model XGV, size 75R&lt;/tire&gt;&lt;/inventory&gt;&lt;/store&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tire</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_add_namespace_definition'>add_namespace_definition</span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://bobs-bikes.com/</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_xml'><a href="#to_xml-instance_method" title="Nokogiri::XML::Node#to_xml (method)">to_xml</a></span>
<span class='comment'># =&gt; &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;\n&quot; +
</span><span class='comment'>#    &quot;&lt;store&gt;\n&quot; +
</span><span class='comment'>#    &quot;  &lt;inventory&gt;\n&quot; +
</span><span class='comment'>#    &quot;    &lt;tire xmlns=\&quot;http://bobs-bikes.com/\&quot;&gt;Michelin model XGV, size 75R&lt;/tire&gt;\n&quot; +
</span><span class='comment'>#    &quot;  &lt;/inventory&gt;\n&quot; +
</span><span class='comment'>#    &quot;&lt;/store&gt;\n&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L466-L494'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='466' data-end='494'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 466</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_add_namespace_definition(VALUE rb_node, VALUE rb_prefix, VALUE rb_href)
{
  xmlNodePtr c_node, element;
  xmlNsPtr c_namespace;
  const xmlChar *c_prefix = (const xmlChar *)(NIL_P(rb_prefix) ? NULL : StringValueCStr(rb_prefix));

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);
  element = c_node ;

  c_namespace = xmlSearchNs(c_node-&gt;doc, c_node, c_prefix);

  if (!c_namespace) {
    if (c_node-&gt;type != XML_ELEMENT_NODE) {
      element = c_node-&gt;parent;
    }
    c_namespace = xmlNewNs(element, (const xmlChar *)StringValueCStr(rb_href), c_prefix);
  }

  if (!c_namespace) {
    return Qnil ;
  }

  if (NIL_P(rb_prefix) || c_node != element) {
    xmlSetNs(c_node, c_namespace);
  }

  return noko_xml_namespace_wrap(c_namespace, c_node-&gt;doc);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_next_sibling-instance_method">
  <h3 class='signature '>
    #<strong>add_next_sibling</strong>(node_or_tags)  
    <span class='aliases'>Also known as: <span class='names'>#next=</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Insert <code>node_or_tags</code> after this <code>Node</code> (as a sibling).</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns the reparented node (if <code>node_or_tags</code> is a <code>Node</code>), or <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> (if <code>node_or_tags</code> is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a>, or String).</p>

<p>Also see related method <a href="#after-instance_method" title="Nokogiri::XML::Node#after (method)">#after</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L324-L329'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='324' data-end='329'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 324</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_next_sibling'>add_next_sibling</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A document may not have multiple root nodes.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_document?'><a href="#document%3F-instance_method" title="Nokogiri::XML::Node#document? (method)">document?</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_comment?'><a href="#comment%3F-instance_method" title="Nokogiri::XML::Node#comment? (method)">comment?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_processing_instruction?'><a href="#processing_instruction%3F-instance_method" title="Nokogiri::XML::Node#processing_instruction? (method)">processing_instruction?</a></span>)

  <span class='id identifier rubyid_add_sibling'><a href="#add_sibling-instance_method" title="Nokogiri::XML::Node#add_sibling (method)">add_sibling</a></span>(<span class='symbeg'>:</span><span class='kw'>next</span><span class='comma'>,</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_next_sibling_node-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>add_next_sibling_node</strong>(new_sibling)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1650-L1654'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1650' data-end='1654'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1650</span></pre>
<pre class='code cpp'>

static VALUE
add_next_sibling(VALUE self, VALUE new_sibling)
{
  return reparent_node_with(self, new_sibling, xmlAddNextSibling) ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_previous_sibling-instance_method">
  <h3 class='signature '>
    #<strong>add_previous_sibling</strong>(node_or_tags)  
    <span class='aliases'>Also known as: <span class='names'>#previous=</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Insert <code>node_or_tags</code> before this <code>Node</code> (as a sibling).</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns the reparented node (if <code>node_or_tags</code> is a <code>Node</code>), or <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> (if <code>node_or_tags</code> is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a>, or String).</p>

<p>Also see related method <a href="#before-instance_method" title="Nokogiri::XML::Node#before (method)">#before</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L307-L312'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='307' data-end='312'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 307</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_previous_sibling'>add_previous_sibling</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A document may not have multiple root nodes.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_document?'><a href="#document%3F-instance_method" title="Nokogiri::XML::Node#document? (method)">document?</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_comment?'><a href="#comment%3F-instance_method" title="Nokogiri::XML::Node#comment? (method)">comment?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_processing_instruction?'><a href="#processing_instruction%3F-instance_method" title="Nokogiri::XML::Node#processing_instruction? (method)">processing_instruction?</a></span>)

  <span class='id identifier rubyid_add_sibling'><a href="#add_sibling-instance_method" title="Nokogiri::XML::Node#add_sibling (method)">add_sibling</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_previous'><a href="#previous-instance_method" title="Nokogiri::XML::Node#previous (method)">previous</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_previous_sibling_node-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>add_previous_sibling_node</strong>(new_sibling)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1657-L1661'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1657' data-end='1661'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1657</span></pre>
<pre class='code cpp'>

static VALUE
add_previous_sibling(VALUE self, VALUE new_sibling)
{
  return reparent_node_with(self, new_sibling, xmlAddPrevSibling) ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_sibling-instance_method">
  <h3 class='signature priv'>
    #<strong>add_sibling</strong>(next_or_previous, node_or_tags)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1558-L1578'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1558' data-end='1578'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1558</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_sibling'>add_sibling</span>(<span class='id identifier rubyid_next_or_previous'>next_or_previous</span><span class='comma'>,</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot add sibling to a node with no parent</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>

  <span class='id identifier rubyid_impl'>impl</span> <span class='op'>=</span> <span class='id identifier rubyid_next_or_previous'>next_or_previous</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='kw'>next</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_next_sibling_node'><a href="#add_next_sibling_node-instance_method" title="Nokogiri::XML::Node#add_next_sibling_node (method)">add_next_sibling_node</a></span> <span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_add_previous_sibling_node'><a href="#add_previous_sibling_node-instance_method" title="Nokogiri::XML::Node#add_previous_sibling_node (method)">add_previous_sibling_node</a></span>
  <span class='id identifier rubyid_iter'>iter</span> <span class='op'>=</span> <span class='id identifier rubyid_next_or_previous'>next_or_previous</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='kw'>next</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span>

  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>.<span class='id identifier rubyid_coerce'>coerce</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_text?'><a href="#text%3F-instance_method" title="Nokogiri::XML::Node#text? (method)">text?</a></span>
      <span class='id identifier rubyid_pivot'>pivot</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Node</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dummy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>)
      <span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_impl'>impl</span><span class='comma'>,</span> <span class='id identifier rubyid_pivot'>pivot</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pivot'>pivot</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_iter'>iter</span>) { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_pivot'>pivot</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_impl'>impl</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>) }
    <span class='id identifier rubyid_pivot'>pivot</span>.<span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_text?'><a href="#text%3F-instance_method" title="Nokogiri::XML::Node#text? (method)">text?</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_impl'>impl</span><span class='comma'>,</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after-instance_method">
  <h3 class='signature '>
    #<strong>after</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Insert <code>node_or_tags</code> after this node (as a sibling).</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, or a String containing markup.</p>

<p>Returns <code>self</code>, to support chaining of calls.</p>

<p>Also see related method <a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">#add_next_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L354-L357'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='354' data-end='357'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 354</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_after'>after</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_add_next_sibling'><a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">add_next_sibling</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ancestors-instance_method">
  <h3 class='signature '>
    #<strong>ancestors</strong>(selector = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get a list of ancestor <code>Node</code> for this <code>Node</code>.  If <code>selector</code> is given, the ancestors must match <code>selector</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1250-L1270'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1250' data-end='1270'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1250</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ancestors'>ancestors</span>(<span class='id identifier rubyid_selector'>selector</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>.<span class='id identifier rubyid_new'><a href="NodeSet.html#new-class_method" title="Nokogiri::XML::NodeSet.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>)
  <span class='kw'>return</span> <span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>.<span class='id identifier rubyid_new'><a href="NodeSet.html#new-class_method" title="Nokogiri::XML::NodeSet.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>

  <span class='id identifier rubyid_parents'>parents</span> <span class='op'>=</span> [<span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>]

  <span class='kw'>while</span> <span class='id identifier rubyid_parents'>parents</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>)
    <span class='kw'>break</span> <span class='kw'>unless</span> (<span class='id identifier rubyid_ctx_parent'>ctx_parent</span> <span class='op'>=</span> <span class='id identifier rubyid_parents'>parents</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>)

    <span class='id identifier rubyid_parents'>parents</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_ctx_parent'>ctx_parent</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>.<span class='id identifier rubyid_new'><a href="NodeSet.html#new-class_method" title="Nokogiri::XML::NodeSet.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span><span class='comma'>,</span> <span class='id identifier rubyid_parents'>parents</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_selector'>selector</span>

  <span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='op'>=</span> <span class='id identifier rubyid_parents'>parents</span>.<span class='id identifier rubyid_last'>last</span>
  <span class='id identifier rubyid_search_results'>search_results</span> <span class='op'>=</span> <span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_search'>search</span>(<span class='id identifier rubyid_selector'>selector</span>)

  <span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>.<span class='id identifier rubyid_new'><a href="NodeSet.html#new-class_method" title="Nokogiri::XML::NodeSet.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span><span class='comma'>,</span> <span class='id identifier rubyid_parents'>parents</span>.<span class='id identifier rubyid_find_all'>find_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_search_results'>search_results</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>)
  <span class='kw'>end</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append_class-instance_method">
  <h3 class='signature '>
    #<strong>append_class</strong>(names) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes to <code>self</code>, regardless of duplication. Compare with <a href="#add_class-instance_method" title="Nokogiri::XML::Node#add_class (method)">#add_class</a>.</p>

<p>This is a convenience function and is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_append'><a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">kwattr_append</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span>)</code></pre>

<p>See related: <a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">#kwattr_append</a>, <a href="#classes-instance_method" title="Nokogiri::XML::Node#classes (method)">#classes</a>, <a href="#add_class-instance_method" title="Nokogiri::XML::Node#add_class (method)">#add_class</a>, <a href="#remove_class-instance_method" title="Nokogiri::XML::Node#remove_class (method)">#remove_class</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>names</code> (String, Array&lt;String&gt;)</p>

<p>CSS class names to be appended to the Node’s “class” attribute. May be a string containing whitespace-delimited names, or an Array of String names. All class names passed in will be appended to the “class” attribute even if they are already present in the attribute value. If no “class” attribute exists, one is created.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example:</strong> Append “section” to the node’s <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> “class” attribute</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                         <span class='comment'># =&gt; &lt;div&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_append_class'>append_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_append_class'>append_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section section&quot;&gt;&lt;/div&gt; # duplicate added!</span></code></pre>

<p><strong>Example:</strong> Append “section” and “header” to the noded’s <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> “class” attribute, via a String argument</p>

<p>Note that the <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class “section” is appended even though it is already present</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                <span class='comment'># =&gt; &lt;div class=&quot;section section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_append_class'>append_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section header</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;section section section header&quot;&gt;&lt;/div&gt;</span></code></pre>

<p><strong>Example:</strong> Append “section” and “header” to the node’s <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> “class” attribute, via an Array argument</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                     <span class='comment'># =&gt; &lt;div&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_append_class'>append_class</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>header</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;div class=&quot;section header&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_append_class'>append_class</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>header</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;div class=&quot;section header section header&quot;&gt;&lt;/div&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L794-L796'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='794' data-end='796'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 794</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_append_class'>append_class</span>(<span class='id identifier rubyid_names'>names</span>)
  <span class='id identifier rubyid_kwattr_append'><a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">kwattr_append</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="attr-instance_method">
  <h3 class='signature '>
    #<strong>attr</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="Nokogiri::XML::Node#[] (method)">#[]</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1042-L1042'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1042' data-end='1042'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1042</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='op'>[]</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="attribute-instance_method">
  <h3 class='signature '>
    #<strong>attribute</strong>(name) → Nokogiri::XML::Attr)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Working With <code>Node</code> Attributes</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Attribute (Nokogiri::XML::Attr) belonging to this node with name <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a>.</p>
</dd></dl>

<p>⚠ Note that attribute namespaces are ignored and only the simple (non-namespace-prefixed) name is used to find a matching attribute. In case of a simple name collision, only one of the matching attributes will be returned. In this case, you will need to use <a href="#attribute_with_ns-instance_method" title="Nokogiri::XML::Node#attribute_with_ns (method)">#attribute_with_ns</a>.</p>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;child size=&#39;large&#39; class=&#39;big wide tall&#39;/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_attribute'>attribute</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; #&lt;Nokogiri::XML::Attr:0x550 name=&quot;size&quot; value=&quot;large&quot;&gt;
</span><span class='id identifier rubyid_child'><a href="#child-instance_method" title="Nokogiri::XML::Node#child (method)">child</a></span>.<span class='id identifier rubyid_attribute'>attribute</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; #&lt;Nokogiri::XML::Attr:0x564 name=&quot;class&quot; value=&quot;big wide tall&quot;&gt;</span></code></pre>

<p><strong>Example</strong> showing that namespaced attributes will not be returned:</p>

<p>⚠ Note that only one of the two matching attributes is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>      xmlns:height=&#39;http://example.com/heights&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child width:size=&#39;broad&#39; height:size=&#39;tall&#39;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute'>attribute</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; #(Attr:0x550 {
</span><span class='comment'>#      name = &quot;size&quot;,
</span><span class='comment'>#      namespace = #(Namespace:0x564 {
</span><span class='comment'>#        prefix = &quot;width&quot;,
</span><span class='comment'>#        href = &quot;http://example.com/widths&quot;
</span><span class='comment'>#        }),
</span><span class='comment'>#      value = &quot;broad&quot;
</span><span class='comment'>#      })</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L535-L545'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='535' data-end='545'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 535</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_attribute(VALUE self, VALUE name)
{
  xmlNodePtr node;
  xmlAttrPtr prop;
  Noko_Node_Get_Struct(self, xmlNode, node);
  prop = xmlHasProp(node, (xmlChar *)StringValueCStr(name));

  if (! prop) { return Qnil; }
  return noko_xml_node_wrap(Qnil, (xmlNodePtr)prop);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="attribute_nodes-instance_method">
  <h3 class='signature '>
    #<strong>attribute_nodes</strong>() → Array&lt;Nokogiri::XML::Attr&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Working With <code>Node</code> Attributes</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Attributes (an Array of <a href="Attr.html" title="Nokogiri::XML::Attr (class)"><code>Attr</code></a>) belonging to this node.</p>
</dd></dl>

<p>Note that this is the preferred alternative to <a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">#attributes</a> when the simple (non-namespace-prefixed) attribute names may collide.</p>

<p><strong>Example:</strong></p>

<p>Contrast this with the colliding-name example from <a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">#attributes</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>      xmlns:height=&#39;http://example.com/heights&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child width:size=&#39;broad&#39; height:size=&#39;tall&#39;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute_nodes'>attribute_nodes</span>
<span class='comment'># =&gt; [#(Attr:0x550 {
</span><span class='comment'>#       name = &quot;size&quot;,
</span><span class='comment'>#       namespace = #(Namespace:0x564 {
</span><span class='comment'>#         prefix = &quot;width&quot;,
</span><span class='comment'>#         href = &quot;http://example.com/widths&quot;
</span><span class='comment'>#         }),
</span><span class='comment'>#       value = &quot;broad&quot;
</span><span class='comment'>#       }),
</span><span class='comment'>#     #(Attr:0x578 {
</span><span class='comment'>#       name = &quot;size&quot;,
</span><span class='comment'>#       namespace = #(Namespace:0x58c {
</span><span class='comment'>#         prefix = &quot;height&quot;,
</span><span class='comment'>#         href = &quot;http://example.com/heights&quot;
</span><span class='comment'>#         }),
</span><span class='comment'>#       value = &quot;tall&quot;
</span><span class='comment'>#       })]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L586-L594'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='586' data-end='594'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 586</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_attribute_nodes(VALUE rb_node)
{
  xmlNodePtr c_node;

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  return noko_xml_node_attrs(c_node);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="attribute_with_ns-instance_method">
  <h3 class='signature '>
    #<strong>attribute_with_ns</strong>(name, namespace) → Nokogiri::XML::Attr)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Working With <code>Node</code> Attributes</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Attribute (Nokogiri::XML::Attr) belonging to this node with matching <code>name</code> and <code>namespace</code>.</p>
</dd></dl>
<ul><li>
<p><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> (String): the simple (non-namespace-prefixed) name of the attribute</p>
</li><li>
<p><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a> (String): the URI of the attribute’s namespace</p>
</li></ul>

<p>See related: <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a></p>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>      xmlns:height=&#39;http://example.com/heights&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child width:size=&#39;broad&#39; height:size=&#39;tall&#39;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute_with_ns'>attribute_with_ns</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/widths</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; #(Attr:0x550 {
</span><span class='comment'>#      name = &quot;size&quot;,
</span><span class='comment'>#      namespace = #(Namespace:0x564 {
</span><span class='comment'>#        prefix = &quot;width&quot;,
</span><span class='comment'>#        href = &quot;http://example.com/widths&quot;
</span><span class='comment'>#        }),
</span><span class='comment'>#      value = &quot;broad&quot;
</span><span class='comment'>#      })
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attribute_with_ns'>attribute_with_ns</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>size</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/heights</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; #(Attr:0x578 {
</span><span class='comment'>#      name = &quot;size&quot;,
</span><span class='comment'>#      namespace = #(Namespace:0x58c {
</span><span class='comment'>#        prefix = &quot;height&quot;,
</span><span class='comment'>#        href = &quot;http://example.com/heights&quot;
</span><span class='comment'>#        }),
</span><span class='comment'>#      value = &quot;tall&quot;
</span><span class='comment'>#      })</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L638-L649'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='638' data-end='649'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 638</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_attribute_with_ns(VALUE self, VALUE name, VALUE namespace)
{
  xmlNodePtr node;
  xmlAttrPtr prop;
  Noko_Node_Get_Struct(self, xmlNode, node);
  prop = xmlHasNsProp(node, (xmlChar *)StringValueCStr(name),
                      NIL_P(namespace) ? NULL : (xmlChar *)StringValueCStr(namespace));

  if (! prop) { return Qnil; }
  return noko_xml_node_wrap(Qnil, (xmlNodePtr)prop);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="attributes-instance_method">
  <h3 class='signature '>
    #<strong>attributes</strong>() → Hash&lt;String ⇒ Nokogiri::XML::Attr&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch this node’s attributes.</p>

<p>⚠ Because the keys do not include any namespace information for the attribute, in case of a simple name collision, not all attributes will be returned. In this case, you will need to use <a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">#attribute_nodes</a>.</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Hash containing attributes belonging to <code>self</code>. The hash keys are String attribute names (without the namespace), and the hash values are Nokogiri::XML::Attr.</p>
</dd></dl>

<p><strong>Example</strong> with no namespaces:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root&gt;&lt;child size=&#39;large&#39; class=&#39;big wide tall&#39;/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attributes'>attributes</span>
<span class='comment'># =&gt; {&quot;size&quot;=&gt;#(Attr:0x550 { name = &quot;size&quot;, value = &quot;large&quot; }),
</span><span class='comment'>#     &quot;class&quot;=&gt;#(Attr:0x564 { name = &quot;class&quot;, value = &quot;big wide tall&quot; })}</span></code></pre>

<p><strong>Example</strong> with a namespace:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root xmlns:desc=&#39;http://example.com/sizes&#39;&gt;&lt;child desc:size=&#39;large&#39;/&gt;&lt;/root&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attributes'>attributes</span>
<span class='comment'># =&gt; {&quot;size&quot;=&gt;
</span><span class='comment'>#      #(Attr:0x550 {
</span><span class='comment'>#        name = &quot;size&quot;,
</span><span class='comment'>#        namespace = #(Namespace:0x564 {
</span><span class='comment'>#          prefix = &quot;desc&quot;,
</span><span class='comment'>#          href = &quot;http://example.com/sizes&quot;
</span><span class='comment'>#          }),
</span><span class='comment'>#        value = &quot;large&quot;
</span><span class='comment'>#        })}</span></code></pre>

<p><strong>Example</strong> with an attribute name collision:</p>

<p>⚠ Note that only one of the attributes is returned in the Hash.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns:width=&#39;http://example.com/widths&#39;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>      xmlns:height=&#39;http://example.com/heights&#39;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child width:size=&#39;broad&#39; height:size=&#39;tall&#39;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_attributes'>attributes</span>
<span class='comment'># =&gt; {&quot;size&quot;=&gt;
</span><span class='comment'>#      #(Attr:0x550 {
</span><span class='comment'>#        name = &quot;size&quot;,
</span><span class='comment'>#        namespace = #(Namespace:0x564 {
</span><span class='comment'>#          prefix = &quot;height&quot;,
</span><span class='comment'>#          href = &quot;http://example.com/heights&quot;
</span><span class='comment'>#          }),
</span><span class='comment'>#        value = &quot;tall&quot;
</span><span class='comment'>#        })}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L644-L648'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='644' data-end='648'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 644</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_attributes'>attributes</span>
  <span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span>.<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span>
    <span class='id identifier rubyid_hash'>hash</span>[<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_node_name'><a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">node_name</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before-instance_method">
  <h3 class='signature '>
    #<strong>before</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Insert <code>node_or_tags</code> before this node (as a sibling).</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns <code>self</code>, to support chaining of calls.</p>

<p>Also see related method <a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">#add_previous_sibling</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L340-L343'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='340' data-end='343'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 340</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_before'>before</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_add_previous_sibling'><a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">add_previous_sibling</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="canonicalize-instance_method">
  <h3 class='signature '>
    #<strong>canonicalize</strong>(mode = XML::XML_C14N_1_0, inclusive_namespaces = nil, with_comments = false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1449-L1455'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1449' data-end='1455'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1449</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_canonicalize'>canonicalize</span>(<span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="../XML.html#XML_C14N_1_0-constant" title="Nokogiri::XML::XML_C14N_1_0 (constant)">XML_C14N_1_0</a></span><span class='comma'>,</span> <span class='id identifier rubyid_inclusive_namespaces'>inclusive_namespaces</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_with_comments'>with_comments</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_c14n_root'>c14n_root</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_canonicalize'>canonicalize</span>(<span class='id identifier rubyid_mode'>mode</span><span class='comma'>,</span> <span class='id identifier rubyid_inclusive_namespaces'>inclusive_namespaces</span><span class='comma'>,</span> <span class='id identifier rubyid_with_comments'>with_comments</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_tn'>tn</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Node</span>) <span class='op'>?</span> <span class='id identifier rubyid_node'>node</span> <span class='op'>:</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>
    <span class='id identifier rubyid_tn'>tn</span> <span class='op'>==</span> <span class='id identifier rubyid_c14n_root'>c14n_root</span> <span class='op'>||</span> <span class='id identifier rubyid_tn'>tn</span>.<span class='id identifier rubyid_ancestors'><a href="#ancestors-instance_method" title="Nokogiri::XML::Node#ancestors (method)">ancestors</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_c14n_root'>c14n_root</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="child-instance_method">
  <h3 class='signature '>
    #<strong>child</strong>() → Nokogiri::XML::Node)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>:category: Traversing Document Structure</p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>First of this node’s children, or <code>nil</code> if there are no children</p>
</dd></dl>

<p>This is a convenience method and is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>.<span class='id identifier rubyid_first'>first</span></code></pre>

<p>See related: <a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L688-L698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='688' data-end='698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 688</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_child(VALUE self)
{
  xmlNodePtr node, child;
  Noko_Node_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  if (!child) { return Qnil; }

  return noko_xml_node_wrap(Qnil, child);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="classes-instance_method">
  <h3 class='signature '>
    #<strong>classes</strong>() → Array&lt;String&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch CSS class names of a <code>Node</code>.</p>

<p>This is a convenience function and is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_values'><a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">kwattr_values</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p>See related: <a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">#kwattr_values</a>, <a href="#add_class-instance_method" title="Nokogiri::XML::Node#add_class (method)">#add_class</a>, <a href="#append_class-instance_method" title="Nokogiri::XML::Node#append_class (method)">#append_class</a>, <a href="#remove_class-instance_method" title="Nokogiri::XML::Node#remove_class (method)">#remove_class</a></p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The CSS classes (Array of String) present in the Node’s “class” attribute. If the attribute is empty or non-existent, the return value is an empty array.</p>
</dd></dl>

<p><strong>Example</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>         <span class='comment'># =&gt; &lt;div class=&quot;section title header&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_classes'>classes</span> <span class='comment'># =&gt; [&quot;section&quot;, &quot;title&quot;, &quot;header&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L704-L706'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='704' data-end='706'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 704</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_classes'>classes</span>
  <span class='id identifier rubyid_kwattr_values'><a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">kwattr_values</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clone-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>clone</strong>(→ Nokogiri::XML::Node)  </span>
      <span class='overload'>#<strong>clone</strong>(level) → Nokogiri::XML::Node)  </span>
      <span class='overload'>#<strong>clone</strong>(level, new_parent_doc) → Nokogiri::XML::Node)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Clone this node.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>level</code> (optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy.</p>
</li><li>
<p><code>new_parent_doc</code> The new node’s parent Document. Defaults to the the Document of the current node.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The new <code>Node</code></p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L162-L164'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='162' data-end='164'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 162</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clone'>clone</span>(<span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_new_parent_doc'>new_parent_doc</span> <span class='op'>=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>)
  <span class='kw'>super</span>().<span class='id identifier rubyid_initialize_copy_with_args'>initialize_copy_with_args</span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='id identifier rubyid_new_parent_doc'>new_parent_doc</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare-instance_method">
  <h3 class='signature priv'>
    #<strong>compare</strong>(other)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compare this <code>Node</code> to <code>other</code> with respect to their <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2102-L2110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2102' data-end='2110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2102</span></pre>
<pre class='code cpp'>

static VALUE
compare(VALUE self, VALUE _other)
{
  xmlNodePtr node, other;
  Noko_Node_Get_Struct(self, xmlNode, node);
  Noko_Node_Get_Struct(_other, xmlNode, other);

  return INT2NUM(xmlXPathCmpNodes(other, node));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_external_subset-instance_method">
  <h3 class='signature '>
    #<strong>create_external_subset</strong>(name, external_id, system_id)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create an external subset</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L888-L913'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='888' data-end='913'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 888</span></pre>
<pre class='code cpp'>

static VALUE
create_external_subset(VALUE self, VALUE name, VALUE external_id, VALUE system_id)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Noko_Node_Get_Struct(self, xmlNode, node);

  doc = node-&gt;doc;

  if (doc-&gt;extSubset) {
    rb_raise(rb_eRuntimeError, &quot;Document already has an external subset&quot;);
  }

  dtd = xmlNewDtd(
          doc,
          NIL_P(name)        ? NULL : (const xmlChar *)StringValueCStr(name),
          NIL_P(external_id) ? NULL : (const xmlChar *)StringValueCStr(external_id),
          NIL_P(system_id)   ? NULL : (const xmlChar *)StringValueCStr(system_id)
        );

  if (!dtd) { return Qnil; }

  return noko_xml_node_wrap(Qnil, (xmlNodePtr)dtd);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_internal_subset-instance_method">
  <h3 class='signature '>
    #<strong>create_internal_subset</strong>(name, external_id, system_id)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create the internal subset of a document.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_create_internal_subset'>create_internal_subset</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>chapter</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-//OASIS//DTD DocBook XML//EN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>chapter.dtd</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;!DOCTYPE chapter PUBLIC &quot;-//OASIS//DTD DocBook XML//EN&quot; &quot;chapter.dtd&quot;&gt;
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_create_internal_subset'>create_internal_subset</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>chapter</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>chapter.dtd</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;!DOCTYPE chapter SYSTEM &quot;chapter.dtd&quot;&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L855-L880'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='855' data-end='880'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 855</span></pre>
<pre class='code cpp'>

static VALUE
create_internal_subset(VALUE self, VALUE name, VALUE external_id, VALUE system_id)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Noko_Node_Get_Struct(self, xmlNode, node);

  doc = node-&gt;doc;

  if (xmlGetIntSubset(doc)) {
    rb_raise(rb_eRuntimeError, &quot;Document already has an internal subset&quot;);
  }

  dtd = xmlCreateIntSubset(
          doc,
          NIL_P(name)        ? NULL : (const xmlChar *)StringValueCStr(name),
          NIL_P(external_id) ? NULL : (const xmlChar *)StringValueCStr(external_id),
          NIL_P(system_id)   ? NULL : (const xmlChar *)StringValueCStr(system_id)
        );

  if (!dtd) { return Qnil; }

  return noko_xml_node_wrap(Qnil, (xmlNodePtr)dtd);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="css_path-instance_method">
  <h3 class='signature '>
    #<strong>css_path</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the path to this node as a <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> expression</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1241-L1245'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1241' data-end='1245'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1241</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_css_path'>css_path</span>
  <span class='id identifier rubyid_path'><a href="#path-instance_method" title="Nokogiri::XML::Node#path (method)">path</a></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/</span><span class='regexp_end'>}</span></span>).<span class='id identifier rubyid_filter_map'>filter_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
    <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[(\d+)\]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:nth-of-type(\1)</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> &gt; </span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deconstruct_keys-instance_method">
  <h3 class='signature '>
    #<strong>deconstruct_keys</strong>(array_of_names) → Hash)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a hash describing the <code>Node</code>, to use in pattern matching.</p>

<p>Valid keys and their values:</p>
<ul><li>
<p><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a> → (String) The name of this node, or “text” if it is a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node.</p>
</li><li>
<p><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a> → (Namespace, nil) The namespace of this node, or nil if there is no namespace.</p>
</li><li>
<p><a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">#attributes</a> → (Array&lt;Attr&gt;) The attributes of this node.</p>
</li><li>
<p><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a> → (Array&lt;Node&gt;) The children of this node. 💡 Note this includes text nodes.</p>
</li><li>
<p><a href="#elements-instance_method" title="Nokogiri::XML::Node#elements (method)">#elements</a> → (Array&lt;Node&gt;) The child elements of this node. 💡 Note this does not include text nodes.</p>
</li><li>
<p><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a> → (String) The contents of all the text nodes in this node’s subtree. See <a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">#content</a>.</p>
</li><li>
<p><a href="#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">#inner_html</a> → (String) The inner markup for the children of this node. See <a href="#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">#inner_html</a>.</p>
</li></ul>

<p><strong>Example</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>.<span class='id identifier rubyid_parse'><a href="../XML.html#parse-class_method" title="Nokogiri::XML.parse (method)">parse</a></span>(<span class='heredoc_beg'>&lt;&lt;~XML</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;?xml version=&quot;1.0&quot;?&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;parent xmlns=&quot;http://nokogiri.org/ns/default&quot; xmlns:noko=&quot;http://nokogiri.org/ns/noko&quot;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;child1 foo=&quot;abc&quot; noko:bar=&quot;def&quot;&gt;First&lt;/child1&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;noko:child2 foo=&quot;qwe&quot; noko:bar=&quot;rty&quot;&gt;Second&lt;/noko:child2&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/parent&gt;
</span><span class='heredoc_end'>XML
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_deconstruct_keys'>deconstruct_keys</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">namespace</a></span>])
<span class='comment'># =&gt; {:name=&gt;&quot;parent&quot;,
</span><span class='comment'>#     :namespace=&gt;
</span><span class='comment'>#      #(Namespace:0x35c { href = &quot;http://nokogiri.org/ns/default&quot; })}
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_deconstruct_keys'>deconstruct_keys</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_inner_html'><a href="#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">inner_html</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_content'><a href="#content-instance_method" title="Nokogiri::XML::Node#content (method)">content</a></span>])
<span class='comment'># =&gt; {:content=&gt;&quot;\n&quot; + &quot;  First\n&quot; + &quot;  Second\n&quot;,
</span><span class='comment'>#     :inner_html=&gt;
</span><span class='comment'>#      &quot;\n&quot; +
</span><span class='comment'>#      &quot;  &lt;child1 foo=\&quot;abc\&quot; noko:bar=\&quot;def\&quot;&gt;First&lt;/child1&gt;\n&quot; +
</span><span class='comment'>#      &quot;  &lt;noko:child2 foo=\&quot;qwe\&quot; noko:bar=\&quot;rty\&quot;&gt;Second&lt;/noko:child2&gt;\n&quot;}
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>.<span class='id identifier rubyid_elements'><a href="#elements-instance_method" title="Nokogiri::XML::Node#elements (method)">elements</a></span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_deconstruct_keys'>deconstruct_keys</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_attributes'><a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">attributes</a></span>])
<span class='comment'># =&gt; {:attributes=&gt;
</span><span class='comment'>#      [#(Attr:0x370 { name = &quot;foo&quot;, value = &quot;abc&quot; }),
</span><span class='comment'>#       #(Attr:0x384 {
</span><span class='comment'>#         name = &quot;bar&quot;,
</span><span class='comment'>#         namespace = #(Namespace:0x398 {
</span><span class='comment'>#           prefix = &quot;noko&quot;,
</span><span class='comment'>#           href = &quot;http://nokogiri.org/ns/noko&quot;
</span><span class='comment'>#           }),
</span><span class='comment'>#         value = &quot;def&quot;
</span><span class='comment'>#         })]}</span></code></pre>

<p>Since v1.14.0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1510-L1518'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1510' data-end='1518'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1510</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deconstruct_keys'>deconstruct_keys</span>(<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Nokogiri::XML::Node#keys (method)">keys</a></span>)
  <span class='id identifier rubyid_requested_keys'>requested_keys</span> <span class='op'>=</span> <span class='const'><a href="#DECONSTRUCT_KEYS-constant" title="Nokogiri::XML::Node::DECONSTRUCT_KEYS (constant)">DECONSTRUCT_KEYS</a></span> <span class='op'>&amp;</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Nokogiri::XML::Node#keys (method)">keys</a></span>
  {}.<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_values'><a href="#values-instance_method" title="Nokogiri::XML::Node#values (method)">values</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_requested_keys'>requested_keys</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
      <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='const'><a href="#DECONSTRUCT_METHODS-constant" title="Nokogiri::XML::Node::DECONSTRUCT_METHODS (constant)">DECONSTRUCT_METHODS</a></span>[<span class='id identifier rubyid_key'>key</span>] <span class='op'>||</span> <span class='id identifier rubyid_key'>key</span>
      <span class='id identifier rubyid_values'><a href="#values-instance_method" title="Nokogiri::XML::Node#values (method)">values</a></span>[<span class='id identifier rubyid_key'>key</span>] <span class='op'>=</span> <span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_method'>method</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="decorate!-instance_method">
  <h3 class='signature '>
    #<strong>decorate!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decorate this node with the decorators set up in this node’s <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L168-L170'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='168' data-end='170'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 168</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_decorate!'>decorate!</span>
  <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_decorate'>decorate</span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#remove_attribute-instance_method" title="Nokogiri::XML::Node#remove_attribute (method)">#remove_attribute</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1040-L1040'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1040' data-end='1040'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1040</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete'>delete</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_remove_attribute'><a href="#remove_attribute-instance_method" title="Nokogiri::XML::Node#remove_attribute (method)">remove_attribute</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="description-instance_method">
  <h3 class='signature '>
    #<strong>description</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch the <a href="../HTML4/ElementDescription.html" title="Nokogiri::HTML4::ElementDescription (class)"><code>::Nokogiri::HTML4::ElementDescription</code></a> for this node.  Returns nil on <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> documents and on unknown tags.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1208-L1212'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1208' data-end='1212'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1208</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_description'>description</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_xml?'><a href="#xml%3F-instance_method" title="Nokogiri::XML::Node#xml? (method)">xml?</a></span>

  <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML4.html" title="Nokogiri::HTML4 (module)">HTML4</a></span><span class='op'>::</span><span class='const'><a href="../HTML4/ElementDescription.html" title="Nokogiri::HTML4::ElementDescription (class)">ElementDescription</a></span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_xinclude-instance_method">
  <h3 class='signature '>
    #<strong>do_xinclude</strong>(options = XML::ParseOptions::DEFAULT_XML) {|options| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Do xinclude substitution on the subtree below node. If given a block, a <a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)"><code>ParseOptions</code></a> object initialized from <code>options</code>, will be passed to it, allowing more convenient modification of the parser options.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>options</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L490-L496'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='490' data-end='496'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 490</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_xinclude'>do_xinclude</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html#DEFAULT_XML-constant" title="Nokogiri::XML::ParseOptions::DEFAULT_XML (constant)">DEFAULT_XML</a></span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span>.<span class='id identifier rubyid_new'><a href="ParseOptions.html#new-class_method" title="Nokogiri::XML::ParseOptions.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>) <span class='kw'>if</span> <span class='const'>Integer</span> <span class='op'>===</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='comment'># call c extension
</span>  <span class='id identifier rubyid_process_xincludes'><a href="#process_xincludes-instance_method" title="Nokogiri::XML::Node#process_xincludes (method)">process_xincludes</a></span>(<span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_to_i'>to_i</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump_html-instance_method">
  <h3 class='signature priv'>
    #<strong>dump_html</strong>   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>Node</code> as html.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2080-L2094'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2080' data-end='2094'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2080</span></pre>
<pre class='code cpp'>

static VALUE
dump_html(VALUE self)
{
  xmlBufferPtr buf ;
  xmlNodePtr node ;
  VALUE html;

  Noko_Node_Get_Struct(self, xmlNode, node);

  buf = xmlBufferCreate() ;
  htmlNodeDump(buf, node-&gt;doc, node);
  html = NOKOGIRI_STR_NEW2(buf-&gt;content);
  xmlBufferFree(buf);
  return html ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dup-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>dup</strong>(→ Nokogiri::XML::Node)  </span>
      <span class='overload'>#<strong>dup</strong>(level) → Nokogiri::XML::Node)  </span>
      <span class='overload'>#<strong>dup</strong>(level, new_parent_doc) → Nokogiri::XML::Node)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Duplicate this node.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>level</code> (optional Integer). 0 is a shallow copy, 1 (the default) is a deep copy.</p>
</li><li>
<p><code>new_parent_doc</code> (optional <a href="Document.html" title="Nokogiri::XML::Document (class)"><code>Document</code></a>) The new node’s parent Document. Defaults to the the Document of the current node.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The new <code>Node</code></p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L144-L146'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='144' data-end='146'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 144</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dup'>dup</span>(<span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_new_parent_doc'>new_parent_doc</span> <span class='op'>=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>)
  <span class='kw'>super</span>().<span class='id identifier rubyid_initialize_copy_with_args'>initialize_copy_with_args</span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='id identifier rubyid_new_parent_doc'>new_parent_doc</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Iterate over each attribute name and value pair for this <code>Node</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L670-L674'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='670' data-end='674'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 670</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
    <span class='kw'>yield</span> [<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_node_name'><a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">node_name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_value'>value</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="element_children-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>element_children</strong>() → NodeSet)  </span>
      <span class='overload'>#<strong>elements</strong>() → NodeSet)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#elements</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The node’s child elements as a NodeSet. Only children that are elements will be returned, which notably excludes Text nodes.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<p>Note that <a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">#children</a> returns the <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node “hello” while <code>#element_children</code> does not.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_div'>div</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML5.html" title="Nokogiri::HTML5 (module)">HTML5</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;div&gt;hello&lt;span&gt;world&lt;/span&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_div'>div</span>.<span class='id identifier rubyid_element_children'>element_children</span>
<span class='comment'># =&gt; [#&lt;Nokogiri::XML::Element:0x50 name=&quot;span&quot; children=[#&lt;Nokogiri::XML::Text:0x3c &quot;world&quot;&gt;]&gt;]
</span><span class='id identifier rubyid_div'>div</span>.<span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>
<span class='comment'># =&gt; [#&lt;Nokogiri::XML::Text:0x64 &quot;hello&quot;&gt;,
</span><span class='comment'>#     #&lt;Nokogiri::XML::Element:0x50 name=&quot;span&quot; children=[#&lt;Nokogiri::XML::Text:0x3c &quot;world&quot;&gt;]&gt;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1115-L1142'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1115' data-end='1142'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1115</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_element_children(VALUE self)
{
  xmlNodePtr node;
  xmlNodePtr child;
  xmlNodeSetPtr set;
  VALUE document;
  VALUE node_set;

  Noko_Node_Get_Struct(self, xmlNode, node);

  child = xmlFirstElementChild(node);
  set = xmlXPathNodeSetCreate(child);

  document = DOC_RUBY_OBJECT(node-&gt;doc);

  if (!child) { return noko_xml_node_set_wrap(set, document); }

  child = xmlNextElementSibling(child);
  while (NULL != child) {
    xmlXPathNodeSetAddUnique(set, child);
    child = xmlNextElementSibling(child);
  }

  node_set = noko_xml_node_set_wrap(set, document);

  return node_set;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="elements-instance_method">
  <h3 class='signature '>
    #<strong>elements</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#element_children-instance_method" title="Nokogiri::XML::Node#element_children (method)">#element_children</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L513-L513'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='513' data-end='513'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 513</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_elements'>elements</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element_children'><a href="#element_children-instance_method" title="Nokogiri::XML::Node#element_children (method)">element_children</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode_special_chars-instance_method">
  <h3 class='signature '>
    #<strong>encode_special_chars</strong>(string) → String)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Encode any special characters in <code>string</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L824-L841'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='824' data-end='841'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 824</span></pre>
<pre class='code cpp'>

static VALUE
encode_special_chars(VALUE self, VALUE string)
{
  xmlNodePtr node;
  xmlChar *encoded;
  VALUE encoded_str;

  Noko_Node_Get_Struct(self, xmlNode, node);
  encoded = xmlEncodeSpecialChars(
              node-&gt;doc,
              (const xmlChar *)StringValueCStr(string)
            );

  encoded_str = NOKOGIRI_STR_NEW2(encoded);
  xmlFree(encoded);

  return encoded_str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="external_subset-instance_method">
  <h3 class='signature '>
    #<strong>external_subset</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the external subset</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L921-L938'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='921' data-end='938'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 921</span></pre>
<pre class='code cpp'>

static VALUE
external_subset(VALUE self)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Noko_Node_Get_Struct(self, xmlNode, node);

  if (!node-&gt;doc) { return Qnil; }

  doc = node-&gt;doc;
  dtd = doc-&gt;extSubset;

  if (!dtd) { return Qnil; }

  return noko_xml_node_wrap(Qnil, (xmlNodePtr)dtd);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="first_element_child-instance_method">
  <h3 class='signature '>
    #<strong>first_element_child</strong>() → Node)    </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The first child <code>Node</code> that is an element.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<p>Note that the “hello” child, which is a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node, is skipped and the <code>&lt;span&gt;</code> element is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_div'>div</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML5.html" title="Nokogiri::HTML5 (module)">HTML5</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;div&gt;hello&lt;span&gt;world&lt;/span&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_div'>div</span>.<span class='id identifier rubyid_first_element_child'>first_element_child</span>
<span class='comment'># =&gt; #(Element:0x3c { name = &quot;span&quot;, children = [ #(Text &quot;world&quot;)] })</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1159-L1169'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1159' data-end='1169'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1159</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_first_element_child(VALUE self)
{
  xmlNodePtr node, child;
  Noko_Node_Get_Struct(self, xmlNode, node);

  child = xmlFirstElementChild(node);
  if (!child) { return Qnil; }

  return noko_xml_node_wrap(Qnil, child);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fragment-instance_method">
  <h3 class='signature ro'>
    #<strong>fragment</strong>(tags)   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a> containing <code>tags</code> that is relative to <em>this</em> context node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1057-L1059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1057' data-end='1059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1057</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fragment'>fragment</span>(<span class='id identifier rubyid_tags'>tags</span>)
  <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_related_class'>related_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DocumentFragment</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='comma'>,</span> <span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get-instance_method">
  <h3 class='signature priv'>
    #<strong>get</strong>(attribute)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the value for <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1277-L1317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1277' data-end='1317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1277</span></pre>
<pre class='code cpp'>

static VALUE
get(VALUE self, VALUE rattribute)
{
  xmlNodePtr node;
  xmlChar *value = 0;
  VALUE rvalue;
  xmlChar *colon;
  xmlChar *attribute, *attr_name, *prefix;
  xmlNsPtr ns;

  if (NIL_P(rattribute)) { return Qnil; }

  Noko_Node_Get_Struct(self, xmlNode, node);
  attribute = xmlCharStrdup(StringValueCStr(rattribute));

  colon = DISCARD_CONST_QUAL_XMLCHAR(xmlStrchr(attribute, (const xmlChar)&#39;:&#39;));
  if (colon) {
    /* split the attribute string into separate prefix and name by
     * null-terminating the prefix at the colon */
    prefix = attribute;
    attr_name = colon + 1;
    (*colon) = 0;

    ns = xmlSearchNs(node-&gt;doc, node, prefix);
    if (ns) {
      value = xmlGetNsProp(node, attr_name, ns-&gt;href);
    } else {
      value = xmlGetProp(node, (xmlChar *)StringValueCStr(rattribute));
    }
  } else {
    value = xmlGetNoNsProp(node, attribute);
  }

  xmlFree((void *)attribute);
  if (!value) { return Qnil; }

  rvalue = NOKOGIRI_STR_NEW2(value);
  xmlFree((void *)value);

  return rvalue ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_attribute-instance_method">
  <h3 class='signature '>
    #<strong>get_attribute</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="Nokogiri::XML::Node#[] (method)">#[]</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1041-L1041'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1041' data-end='1041'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1041</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_get_attribute'>get_attribute</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='op'>[]</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="has_attribute?-instance_method">
  <h3 class='signature '>
    #<strong>has_attribute?</strong>(attribute)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Nokogiri::XML::Node#key? (method)">#key?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1044-L1044'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1044' data-end='1044'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1044</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_has_attribute?'>has_attribute?</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_key?'><a href="#key%3F-instance_method" title="Nokogiri::XML::Node#key? (method)">key?</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html_standard_serialize-instance_method">
  <h3 class='signature priv'>
    #<strong>html_standard_serialize</strong>(preserve_newline)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1961-L1972'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1961' data-end='1972'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1961</span></pre>
<pre class='code cpp'>

static VALUE
html_standard_serialize(
  VALUE self,
  VALUE preserve_newline
)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  VALUE output = rb_str_buf_new(4096);
  output_node(output, node, RTEST(preserve_newline));
  return output;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="in_context-instance_method">
  <h3 class='signature priv'>
    #<strong>in_context</strong>(_str, _options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>TODO: DOCUMENT ME</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2149-L2255'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2149' data-end='2255'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2149</span></pre>
<pre class='code cpp'>

static VALUE
in_context(VALUE self, VALUE _str, VALUE _options)
{
  xmlNodePtr node, list = 0, tmp, child_iter, node_children, doc_children;
  xmlNodeSetPtr set;
  xmlParserErrors error;
  VALUE doc, err;
  int doc_is_empty;

  Noko_Node_Get_Struct(self, xmlNode, node);

  doc = DOC_RUBY_OBJECT(node-&gt;doc);
  err = rb_iv_get(doc, &quot;@errors&quot;);
  doc_is_empty = (node-&gt;doc-&gt;children == NULL) ? 1 : 0;
  node_children = node-&gt;children;
  doc_children  = node-&gt;doc-&gt;children;

  xmlSetStructuredErrorFunc((void *)err, Nokogiri_error_array_pusher);

  /* Twiddle global variable because of a bug in libxml2.
   * http://git.gnome.org/browse/libxml2/commit/?id=e20fb5a72c83cbfc8e4a8aa3943c6be8febadab7
   *
   * TODO: this is fixed, and HTML_PARSE_NOIMPLIED is defined, in libxml2 2.7.7
   */
#ifndef HTML_PARSE_NOIMPLIED
  htmlHandleOmittedElem(0);
#endif

  /* This function adds a fake node to the child of node.  If the parser
   * does not exit cleanly with XML_ERR_OK, the list is freed.  This can
   * leave the child pointers in a bad state if they were originally empty.
   *
   * http://git.gnome.org/browse/libxml2/tree/parser.c#n13177
   * */
  error = xmlParseInNodeContext(node, StringValuePtr(_str),
                                (int)RSTRING_LEN(_str),
                                (int)NUM2INT(_options), &amp;list);

  /* xmlParseInNodeContext should not mutate the original document or node,
   * so reassigning these pointers should be OK.  The reason we&#39;re reassigning
   * is because if there were errors, it&#39;s possible for the child pointers
   * to be manipulated. */
  if (error != XML_ERR_OK) {
    node-&gt;doc-&gt;children = doc_children;
    node-&gt;children = node_children;
  }

  /* make sure parent/child pointers are coherent so an unlink will work
   * properly (#331)
   */
  child_iter = node-&gt;doc-&gt;children ;
  while (child_iter) {
    child_iter-&gt;parent = (xmlNodePtr)node-&gt;doc;
    child_iter = child_iter-&gt;next;
  }

#ifndef HTML_PARSE_NOIMPLIED
  htmlHandleOmittedElem(1);
#endif

  xmlSetStructuredErrorFunc(NULL, NULL);

  /*
   * Workaround for a libxml2 bug where a parsing error may leave a broken
   * node reference in node-&gt;doc-&gt;children.
   *
   * https://bugzilla.gnome.org/show_bug.cgi?id=668155
   *
   * This workaround is limited to when a parse error occurs, the document
   * went from having no children to having children, and the context node is
   * part of a document fragment.
   *
   * TODO: This was fixed in libxml 2.8.0 by 71a243d
   */
  if (error != XML_ERR_OK &amp;&amp; doc_is_empty &amp;&amp; node-&gt;doc-&gt;children != NULL) {
    child_iter = node;
    while (child_iter-&gt;parent) {
      child_iter = child_iter-&gt;parent;
    }

    if (child_iter-&gt;type == XML_DOCUMENT_FRAG_NODE) {
      node-&gt;doc-&gt;children = NULL;
    }
  }

  /* FIXME: This probably needs to handle more constants... */
  switch (error) {
    case XML_ERR_INTERNAL_ERROR:
    case XML_ERR_NO_MEMORY:
      rb_raise(rb_eRuntimeError, &quot;error parsing fragment (%d)&quot;, error);
      break;
    default:
      break;
  }

  set = xmlXPathNodeSetCreate(NULL);

  while (list) {
    tmp = list-&gt;next;
    list-&gt;next = NULL;
    xmlXPathNodeSetAddUnique(set, list);
    noko_xml_document_pin_node(list);
    list = tmp;
  }

  return noko_xml_node_set_wrap(set, doc);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect_attributes-instance_method">
  <h3 class='signature priv'>
    #<strong>inspect_attributes</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1597-L1599'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1597' data-end='1599'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1597</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect_attributes'>inspect_attributes</span>
  [<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'><a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">namespace</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="internal_subset-instance_method">
  <h3 class='signature '>
    #<strong>internal_subset</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the internal subset</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L946-L963'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='946' data-end='963'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 946</span></pre>
<pre class='code cpp'>

static VALUE
internal_subset(VALUE self)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Noko_Node_Get_Struct(self, xmlNode, node);

  if (!node-&gt;doc) { return Qnil; }

  doc = node-&gt;doc;
  dtd = xmlGetIntSubset(doc);

  if (!dtd) { return Qnil; }

  return noko_xml_node_wrap(Qnil, (xmlNodePtr)dtd);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key?-instance_method">
  <h3 class='signature '>
    #<strong>key?</strong>(attribute)      <span class='aliases'>Also known as: <span class='names'>#has_attribute?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a> is set</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1204-L1213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1204' data-end='1213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1204</span></pre>
<pre class='code cpp'>

static VALUE
key_eh(VALUE self, VALUE attribute)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  if (xmlHasProp(node, (xmlChar *)StringValueCStr(attribute))) {
    return Qtrue;
  }
  return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keys-instance_method">
  <h3 class='signature '>
    #<strong>keys</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the attribute names for this <code>Node</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L664-L666'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='664' data-end='666'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 664</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_keys'>keys</span>
  <span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_node_name'><a href="#node_name-instance_method" title="Nokogiri::XML::Node#node_name (method)">node_name</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keywordify-instance_method">
  <h3 class='signature priv'>
    #<strong>keywordify</strong>(keywords)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1546-L1556'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1546' data-end='1556'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1546</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_keywordify'>keywordify</span>(<span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_keywords'>keywords</span>
  <span class='kw'>when</span> <span class='const'>Enumerable</span>
    <span class='id identifier rubyid_keywords'>keywords</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id identifier rubyid_keywords'>keywords</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\S+</span><span class='regexp_end'>/</span></span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Keyword attributes must be passed as either a String or an Enumerable, but received </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keywords'>keywords</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kwattr_add-instance_method">
  <h3 class='signature '>
    #<strong>kwattr_add</strong>(attribute_name, keywords) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Ensure that values are present in a keyword attribute.</p>

<p>Any values in <code>keywords</code> that already exist in the Node’s attribute values are <em>not</em> added. Note that any existing duplicates in the attribute values are not removed. Compare with <a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">#kwattr_append</a>.</p>

<p>A “keyword attribute” is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is the <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> “class” attribute used to contain <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes. But other keyword attributes exist, for instance <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel" target="_parent" title="the “rel” attribute">the “rel” attribute</a>.</p>

<p>See also <a href="#add_class-instance_method" title="Nokogiri::XML::Node#add_class (method)">#add_class</a>, <a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">#kwattr_values</a>, <a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">#kwattr_append</a>, <a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">#kwattr_remove</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>attribute_name</code> (String) The name of the keyword attribute to be modified.</p>
</li><li>
<p><code>keywords</code> (String, Array&lt;String&gt;) Keywords to be added to the attribute named <code>attribute_name</code>. May be a string containing whitespace-delimited values, or an Array of String values. Any values already present will not be added. Any values not present will be added. If the named attribute does not exist, it is created.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Nokogiri::XML::Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example:</strong> Ensure that a <code>Node</code> has “nofollow” in its <code>rel</code> attribute.</p>

<p>Note that duplicates are not added.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                               <span class='comment'># =&gt; &lt;a&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_add'>kwattr_add</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow&quot;&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_add'>kwattr_add</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow&quot;&gt;&lt;/a&gt;</span></code></pre>

<p><strong>Example:</strong> Ensure that a <code>Node</code> has “nofollow” and “noreferrer” in its <code>rel</code> attribute, via a String argument.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Note</span> <span class='id identifier rubyid_that'>that</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='kw'>not</span> <span class='id identifier rubyid_added'>added</span> <span class='id identifier rubyid_because'>because</span> <span class='id identifier rubyid_it'>it</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_already'>already</span> <span class='id identifier rubyid_present'>present</span>. <span class='const'>Note</span> <span class='id identifier rubyid_also'>also</span> <span class='id identifier rubyid_that'>that</span> <span class='id identifier rubyid_the'>the</span>
<span class='id identifier rubyid_pre'>pre</span><span class='op'>-</span><span class='id identifier rubyid_existing'>existing</span> <span class='id identifier rubyid_duplicate'>duplicate</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='kw'>not</span> <span class='id identifier rubyid_removed'>removed</span>.

 <span class='id identifier rubyid_node'>node</span>                                          <span class='comment'># =&gt; &lt;a rel=&quot;nofollow nofollow&quot;&gt;&lt;/a&gt;
</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_add'>kwattr_add</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow noreferrer</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow nofollow noreferrer&quot;&gt;&lt;/a&gt;</span></code></pre>

<p><strong>Example:</strong> Ensure that a <code>Node</code> has “nofollow” and “noreferrer” in its <code>rel</code> attribute, via an Array argument.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                               <span class='comment'># =&gt; &lt;a&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_add'>kwattr_add</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>noreferrer</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow noreferrer&quot;&gt;&lt;/a&gt;</span></code></pre>

<p>Since v1.11.0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L927-L933'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='927' data-end='933'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 927</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_kwattr_add'>kwattr_add</span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='id identifier rubyid_keywords'>keywords</span> <span class='op'>=</span> <span class='id identifier rubyid_keywordify'><a href="#keywordify-instance_method" title="Nokogiri::XML::Node#keywordify (method)">keywordify</a></span>(<span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>=</span> <span class='id identifier rubyid_kwattr_values'><a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">kwattr_values</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
  <span class='id identifier rubyid_new_kws'>new_kws</span> <span class='op'>=</span> (<span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>+</span> (<span class='id identifier rubyid_keywords'>keywords</span> <span class='op'>-</span> <span class='id identifier rubyid_current_kws'>current_kws</span>)).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_set_attribute'><a href="#set_attribute-instance_method" title="Nokogiri::XML::Node#set_attribute (method)">set_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_kws'>new_kws</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kwattr_append-instance_method">
  <h3 class='signature '>
    #<strong>kwattr_append</strong>(attribute_name, keywords) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add keywords to a Node’s keyword attribute, regardless of duplication. Compare with <a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">#kwattr_add</a>.</p>

<p>A “keyword attribute” is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is the <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> “class” attribute used to contain <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes. But other keyword attributes exist, for instance <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel" target="_parent" title="the “rel” attribute">the “rel” attribute</a>.</p>

<p>See also <a href="#append_class-instance_method" title="Nokogiri::XML::Node#append_class (method)">#append_class</a>, <a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">#kwattr_values</a>, <a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">#kwattr_add</a>, <a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">#kwattr_remove</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>attribute_name</code> (String) The name of the keyword attribute to be modified.</p>
</li><li>
<p><code>keywords</code> (String, Array&lt;String&gt;) Keywords to be added to the attribute named <code>attribute_name</code>. May be a string containing whitespace-delimited values, or an Array of String values. All values passed in will be appended to the named attribute even if they are already present in the attribute. If the named attribute does not exist, it is created.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example:</strong> Append “nofollow” to the <code>rel</code> attribute.</p>

<p>Note that duplicates are added.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                  <span class='comment'># =&gt; &lt;a&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_append'>kwattr_append</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow&quot;&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_append'>kwattr_append</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow nofollow&quot;&gt;&lt;/a&gt;</span></code></pre>

<p><strong>Example:</strong> Append “nofollow” and “noreferrer” to the <code>rel</code> attribute, via a String argument.</p>

<p>Note that “nofollow” is appended even though it is already present.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                             <span class='comment'># =&gt; &lt;a rel=&quot;nofollow&quot;&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_append'>kwattr_append</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow noreferrer</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow nofollow noreferrer&quot;&gt;&lt;/a&gt;</span></code></pre>

<p><strong>Example:</strong> Append “nofollow” and “noreferrer” to the <code>rel</code> attribute, via an Array argument.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                                  <span class='comment'># =&gt; &lt;a&gt;&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_append'>kwattr_append</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>noreferrer</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;a rel=&quot;nofollow noreferrer&quot;&gt;&lt;/a&gt;</span></code></pre>

<p>Since v1.11.0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L980-L986'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='980' data-end='986'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 980</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_kwattr_append'>kwattr_append</span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='id identifier rubyid_keywords'>keywords</span> <span class='op'>=</span> <span class='id identifier rubyid_keywordify'><a href="#keywordify-instance_method" title="Nokogiri::XML::Node#keywordify (method)">keywordify</a></span>(<span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>=</span> <span class='id identifier rubyid_kwattr_values'><a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">kwattr_values</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
  <span class='id identifier rubyid_new_kws'>new_kws</span> <span class='op'>=</span> (<span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>+</span> <span class='id identifier rubyid_keywords'>keywords</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_set_attribute'><a href="#set_attribute-instance_method" title="Nokogiri::XML::Node#set_attribute (method)">set_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_kws'>new_kws</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kwattr_remove-instance_method">
  <h3 class='signature '>
    #<strong>kwattr_remove</strong>(attribute_name, keywords) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Remove keywords from a keyword attribute. Any matching keywords that exist in the named attribute are removed, including any multiple entries.</p>

<p>If no keywords remain after this operation, or if <code>keywords</code> is <code>nil</code>, the attribute is deleted from the node.</p>

<p>A “keyword attribute” is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is the <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> “class” attribute used to contain <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes. But other keyword attributes exist, for instance <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel" target="_parent" title="the “rel” attribute">the “rel” attribute</a>.</p>

<p>See also <a href="#remove_class-instance_method" title="Nokogiri::XML::Node#remove_class (method)">#remove_class</a>, <a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">#kwattr_values</a>, <a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">#kwattr_add</a>, <a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">#kwattr_append</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>attribute_name</code> (String) The name of the keyword attribute to be modified.</p>
</li><li>
<p><code>keywords</code> (String, Array&lt;String&gt;) Keywords to be removed from the attribute named <code>attribute_name</code>. May be a string containing whitespace-delimited values, or an Array of String values. Any keywords present in the named attribute will be removed. If no keywords remain, or if <code>keywords</code> is nil, the attribute is deleted.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<p>Note that the <code>rel</code> attribute is deleted when empty.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                    <span class='comment'># =&gt; &lt;a rel=&quot;nofollow noreferrer&quot;&gt;link&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_remove'>kwattr_remove</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'># =&gt; &lt;a rel=&quot;noreferrer&quot;&gt;link&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_remove'>kwattr_remove</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>noreferrer</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;a&gt;link&lt;/a&gt;</span></code></pre>

<p>Since v1.11.0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1023-L1038'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1023' data-end='1038'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1023</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_kwattr_remove'>kwattr_remove</span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_keywords'>keywords</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_remove_attribute'><a href="#remove_attribute-instance_method" title="Nokogiri::XML::Node#remove_attribute (method)">remove_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_keywords'>keywords</span> <span class='op'>=</span> <span class='id identifier rubyid_keywordify'><a href="#keywordify-instance_method" title="Nokogiri::XML::Node#keywordify (method)">keywordify</a></span>(<span class='id identifier rubyid_keywords'>keywords</span>)
  <span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>=</span> <span class='id identifier rubyid_kwattr_values'><a href="#kwattr_values-instance_method" title="Nokogiri::XML::Node#kwattr_values (method)">kwattr_values</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
  <span class='id identifier rubyid_new_kws'>new_kws</span> <span class='op'>=</span> <span class='id identifier rubyid_current_kws'>current_kws</span> <span class='op'>-</span> <span class='id identifier rubyid_keywords'>keywords</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_new_kws'>new_kws</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_remove_attribute'><a href="#remove_attribute-instance_method" title="Nokogiri::XML::Node#remove_attribute (method)">remove_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_set_attribute'><a href="#set_attribute-instance_method" title="Nokogiri::XML::Node#set_attribute (method)">set_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_kws'>new_kws</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>))
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kwattr_values-instance_method">
  <h3 class='signature '>
    #<strong>kwattr_values</strong>(attribute_name) → Array&lt;String&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch values from a keyword attribute of a <code>Node</code>.</p>

<p>A “keyword attribute” is a node attribute that contains a set of space-delimited values. Perhaps the most familiar example of this is the <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> “class” attribute used to contain <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes. But other keyword attributes exist, for instance <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel" target="_parent" title="the “rel” attribute">the “rel” attribute</a>.</p>

<p>See also <a href="#classes-instance_method" title="Nokogiri::XML::Node#classes (method)">#classes</a>, <a href="#kwattr_add-instance_method" title="Nokogiri::XML::Node#kwattr_add (method)">#kwattr_add</a>, <a href="#kwattr_append-instance_method" title="Nokogiri::XML::Node#kwattr_append (method)">#kwattr_append</a>, <a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">#kwattr_remove</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>attribute_name</code> (String) The name of the keyword attribute to be inspected.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>(Array&lt;String&gt;) The values present in the Node’s <code>attribute_name</code> attribute. If the attribute is empty or non-existent, the return value is an empty array.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                      <span class='comment'># =&gt; &lt;a rel=&quot;nofollow noopener external&quot;&gt;link&lt;/a&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_values'>kwattr_values</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;nofollow&quot;, &quot;noopener&quot;, &quot;external&quot;]</span></code></pre>

<p>Since v1.11.0</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L873-L875'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='873' data-end='875'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 873</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_kwattr_values'>kwattr_values</span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>)
  <span class='id identifier rubyid_keywordify'><a href="#keywordify-instance_method" title="Nokogiri::XML::Node#keywordify (method)">keywordify</a></span>(<span class='id identifier rubyid_get_attribute'><a href="#get_attribute-instance_method" title="Nokogiri::XML::Node#get_attribute (method)">get_attribute</a></span>(<span class='id identifier rubyid_attribute_name'>attribute_name</span>) <span class='op'>||</span> [])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last_element_child-instance_method">
  <h3 class='signature '>
    #<strong>last_element_child</strong>() → Node)    </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>The last child <code>Node</code> that is an element.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<p>Note that the “hello” child, which is a <a href="Text.html" title="Nokogiri::XML::Text (class)"><code>Text</code></a> node, is skipped and the <code>&lt;span&gt;yes&lt;/span&gt;</code> element is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_div'>div</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML5.html" title="Nokogiri::HTML5 (module)">HTML5</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;div&gt;&lt;span&gt;no&lt;/span&gt;&lt;span&gt;yes&lt;/span&gt;skip&lt;/div&gt;</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_div'>div</span>.<span class='id identifier rubyid_last_element_child'>last_element_child</span>
<span class='comment'># =&gt; #(Element:0x3c { name = &quot;span&quot;, children = [ #(Text &quot;yes&quot;)] })</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1186-L1196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1186' data-end='1196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1186</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_last_element_child(VALUE self)
{
  xmlNodePtr node, child;
  Noko_Node_Get_Struct(self, xmlNode, node);

  child = xmlLastElementChild(node);
  if (!child) { return Qnil; }

  return noko_xml_node_wrap(Qnil, child);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="matches?-instance_method">
  <h3 class='signature '>
    #<strong>matches?</strong>(selector)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if this <code>Node</code> matches <code>selector</code></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1050-L1052'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1050' data-end='1052'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1050</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_matches?'>matches?</span>(<span class='id identifier rubyid_selector'>selector</span>)
  <span class='id identifier rubyid_ancestors'><a href="#ancestors-instance_method" title="Nokogiri::XML::Node#ancestors (method)">ancestors</a></span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_search'>search</span>(<span class='id identifier rubyid_selector'>selector</span>).<span class='id identifier rubyid_include?'>include?</span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_definitions-instance_method">
  <h3 class='signature '>
    #<strong>namespace_definitions</strong>() → Array&lt;Nokogiri::XML::Namespace&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Namespaces that are defined directly on this node, as an Array of Namespace objects. The array will be empty if no namespaces are defined on this node.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns=&quot;http://example.com/root&quot;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;first/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;second xmlns=&quot;http://example.com/child&quot; xmlns:unused=&quot;http://example.com/unused&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;foo:third xmlns:foo=&quot;http://example.com/foo&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//root:first</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/root</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_definitions'>namespace_definitions</span>
<span class='comment'># =&gt; []
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//xmlns:second</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_definitions'>namespace_definitions</span>
<span class='comment'># =&gt; [#(Namespace:0x3c { href = &quot;http://example.com/child&quot; }),
</span><span class='comment'>#     #(Namespace:0x50 {
</span><span class='comment'>#       prefix = &quot;unused&quot;,
</span><span class='comment'>#       href = &quot;http://example.com/unused&quot;
</span><span class='comment'>#       })]
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//foo:third</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/foo</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_definitions'>namespace_definitions</span>
<span class='comment'># =&gt; [#(Namespace:0x64 { prefix = &quot;foo&quot;, href = &quot;http://example.com/foo&quot; })]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1405-L1426'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1405' data-end='1426'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1405</span></pre>
<pre class='code cpp'>

static VALUE
namespace_definitions(VALUE rb_node)
{
  /* this code in the mode of xmlHasProp() */
  xmlNodePtr c_node ;
  xmlNsPtr c_namespace;
  VALUE definitions = rb_ary_new();

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  c_namespace = c_node-&gt;nsDef;
  if (!c_namespace) {
    return definitions;
  }

  while (c_namespace != NULL) {
    rb_ary_push(definitions, noko_xml_namespace_wrap(c_namespace, c_node-&gt;doc));
    c_namespace = c_namespace-&gt;next;
  }

  return definitions;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_scopes-instance_method">
  <h3 class='signature '>
    #<strong>namespace_scopes</strong>() → Array&lt;Nokogiri::XML::Namespace&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Array of all the Namespaces on this node and its ancestors.</p>
</dd></dl>

<p>See also <a href="#namespaces-instance_method" title="Nokogiri::XML::Node#namespaces (method)">#namespaces</a></p>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns=&quot;http://example.com/root&quot; xmlns:bar=&quot;http://example.com/bar&quot;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;first/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;second xmlns=&quot;http://example.com/child&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;third xmlns:foo=&quot;http://example.com/foo&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//root:first</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/root</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_scopes'>namespace_scopes</span>
<span class='comment'># =&gt; [#(Namespace:0x3c { href = &quot;http://example.com/root&quot; }),
</span><span class='comment'>#     #(Namespace:0x50 { prefix = &quot;bar&quot;, href = &quot;http://example.com/bar&quot; })]
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//child:second</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_scopes'>namespace_scopes</span>
<span class='comment'># =&gt; [#(Namespace:0x64 { href = &quot;http://example.com/child&quot; }),
</span><span class='comment'>#     #(Namespace:0x50 { prefix = &quot;bar&quot;, href = &quot;http://example.com/bar&quot; })]
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//root:third</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/root</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespace_scopes'>namespace_scopes</span>
<span class='comment'># =&gt; [#(Namespace:0x78 { prefix = &quot;foo&quot;, href = &quot;http://example.com/foo&quot; }),
</span><span class='comment'>#     #(Namespace:0x3c { href = &quot;http://example.com/root&quot; }),
</span><span class='comment'>#     #(Namespace:0x50 { prefix = &quot;bar&quot;, href = &quot;http://example.com/bar&quot; })]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1456-L1477'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1456' data-end='1477'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1456</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_namespace_scopes(VALUE rb_node)
{
  xmlNodePtr c_node ;
  xmlNsPtr *namespaces;
  VALUE scopes = rb_ary_new();
  int j;

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  namespaces = xmlGetNsList(c_node-&gt;doc, c_node);
  if (!namespaces) {
    return scopes;
  }

  for (j = 0 ; namespaces[j] != NULL ; ++j) {
    rb_ary_push(scopes, noko_xml_namespace_wrap(namespaces[j], c_node-&gt;doc));
  }

  xmlFree(namespaces);
  return scopes;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespaced_key?-instance_method">
  <h3 class='signature '>
    #<strong>namespaced_key?</strong>(attribute, namespace)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <a href="#attribute-instance_method" title="Nokogiri::XML::Node#attribute (method)">#attribute</a> is set with <a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1221-L1231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1221' data-end='1231'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1221</span></pre>
<pre class='code cpp'>

static VALUE
namespaced_key_eh(VALUE self, VALUE attribute, VALUE namespace)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  if (xmlHasNsProp(node, (xmlChar *)StringValueCStr(attribute),
                   NIL_P(namespace) ? NULL : (xmlChar *)StringValueCStr(namespace))) {
    return Qtrue;
  }
  return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespaces-instance_method">
  <h3 class='signature '>
    #<strong>namespaces</strong>() → Hash&lt;String(Namespace#prefix) ⇒ String(Namespace#href)&gt;)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fetch all the namespaces on this node and its ancestors.</p>

<p>Note that the keys in this hash <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> attributes that would be used to define this namespace, such as “xmlns:prefix”, not just the prefix.</p>

<p>The default namespace for this node will be included with key “xmlns”.</p>

<p>See also <a href="#namespace_scopes-instance_method" title="Nokogiri::XML::Node#namespace_scopes (method)">#namespace_scopes</a></p>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>Hash containing all the namespaces on this node and its ancestors. The hash keys are the namespace prefix, and the hash value for each key is the namespace URI.</p>
</dd></dl>

<p><strong>Example:</strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span>(<span class='heredoc_beg'>&lt;&lt;~EOF</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;root xmlns=&quot;http://example.com/root&quot; xmlns:in_scope=&quot;http://example.com/in_scope&quot;&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;first/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;second xmlns=&quot;http://example.com/child&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;third xmlns:foo=&quot;http://example.com/foo&quot;/&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/root&gt;
</span><span class='heredoc_end'>EOF
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//root:first</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/root</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespaces'>namespaces</span>
<span class='comment'># =&gt; {&quot;xmlns&quot;=&gt;&quot;http://example.com/root&quot;,
</span><span class='comment'>#     &quot;xmlns:in_scope&quot;=&gt;&quot;http://example.com/in_scope&quot;}
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//child:second</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/child</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespaces'>namespaces</span>
<span class='comment'># =&gt; {&quot;xmlns&quot;=&gt;&quot;http://example.com/child&quot;,
</span><span class='comment'>#     &quot;xmlns:in_scope&quot;=&gt;&quot;http://example.com/in_scope&quot;}
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_xpath'>at_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//root:third</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/root</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_namespaces'>namespaces</span>
<span class='comment'># =&gt; {&quot;xmlns:foo&quot;=&gt;&quot;http://example.com/foo&quot;,
</span><span class='comment'>#     &quot;xmlns&quot;=&gt;&quot;http://example.com/root&quot;,
</span><span class='comment'>#     &quot;xmlns:in_scope&quot;=&gt;&quot;http://example.com/in_scope&quot;}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1157-L1163'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1157' data-end='1163'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1157</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_namespaces'>namespaces</span>
  <span class='id identifier rubyid_namespace_scopes'><a href="#namespace_scopes-instance_method" title="Nokogiri::XML::Node#namespace_scopes (method)">namespace_scopes</a></span>.<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_prefix'>prefix</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_hash'>hash</span>[<span class='id identifier rubyid_key'>key</span>] <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_href'>href</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="native_write_to-instance_method">
  <h3 class='signature priv'>
    #<strong>native_write_to</strong>(io, encoding, options)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Write this <code>Node</code> to <code>io</code> with <code>encoding</code> and <code>options</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1669-L1703'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1669' data-end='1703'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1669</span></pre>
<pre class='code cpp'>

static VALUE
native_write_to(
  VALUE self,
  VALUE io,
  VALUE encoding,
  VALUE indent_string,
  VALUE options
)
{
  xmlNodePtr node;
  const char *before_indent;
  xmlSaveCtxtPtr savectx;

  Noko_Node_Get_Struct(self, xmlNode, node);

  xmlIndentTreeOutput = 1;

  before_indent = xmlTreeIndentString;

  xmlTreeIndentString = StringValueCStr(indent_string);

  savectx = xmlSaveToIO(
              (xmlOutputWriteCallback)noko_io_write,
              (xmlOutputCloseCallback)noko_io_close,
              (void *)io,
              RTEST(encoding) ? StringValueCStr(encoding) : NULL,
              (int)NUM2INT(options)
            );

  xmlSaveTree(savectx, node);
  xmlSaveClose(savectx);

  xmlTreeIndentString = before_indent;
  return io;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next_element-instance_method">
  <h3 class='signature '>
    #<strong>next_element</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the next <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> type sibling node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1045-L1055'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1045' data-end='1055'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1045</span></pre>
<pre class='code cpp'>

static VALUE
next_element(VALUE self)
{
  xmlNodePtr node, sibling;
  Noko_Node_Get_Struct(self, xmlNode, node);

  sibling = xmlNextElementSibling(node);
  if (!sibling) { return Qnil; }

  return noko_xml_node_wrap(Qnil, sibling);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next_sibling-instance_method">
  <h3 class='signature '>
    #<strong>next_sibling</strong>      <span class='aliases'>Also known as: <span class='names'>#next</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the next sibling node</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1009-L1019'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1009' data-end='1019'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1009</span></pre>
<pre class='code cpp'>

static VALUE
next_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Noko_Node_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;next;
  if (!sibling) { return Qnil; }

  return noko_xml_node_wrap(Qnil, sibling) ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="node_type-instance_method">
  <h3 class='signature '>
    #<strong>node_type</strong>      <span class='aliases'>Also known as: <span class='names'>#type</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the type for this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1485-L1491'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1485' data-end='1491'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1485</span></pre>
<pre class='code cpp'>

static VALUE
node_type(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  return INT2NUM(node-&gt;type);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse-instance_method">
  <h3 class='signature '>
    #<strong>parse</strong>(string_or_io, options = nil) {|options| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse <code>string_or_io</code> as a document fragment within the context of <strong>this</strong> node.  Returns a <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> containing the nodes parsed from <code>string_or_io</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>options</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1065-L1119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1065' data-end='1119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1065</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_string_or_io'>string_or_io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='comment'>##
</span>  <span class='comment'># When the current node is unparented and not an element node, use the
</span>  <span class='comment'># document as the parsing context instead. Otherwise, the in-context
</span>  <span class='comment'># parser cannot find an element or a document node.
</span>  <span class='comment'># Document Fragments are also not usable by the in-context parser.
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_element?'><a href="#element%3F-instance_method" title="Nokogiri::XML::Node#element? (method)">element?</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_document?'><a href="#document%3F-instance_method" title="Nokogiri::XML::Node#document? (method)">document?</a></span> <span class='op'>&amp;&amp;</span> (<span class='op'>!</span><span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span> <span class='op'>||</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>.<span class='id identifier rubyid_fragment?'><a href="#fragment%3F-instance_method" title="Nokogiri::XML::Node#fragment? (method)">fragment?</a></span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_string_or_io'>string_or_io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>||=</span> (<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_html?'><a href="#html%3F-instance_method" title="Nokogiri::XML::Node#html? (method)">html?</a></span> <span class='op'>?</span> <span class='const'><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html#DEFAULT_HTML-constant" title="Nokogiri::XML::ParseOptions::DEFAULT_HTML (constant)">DEFAULT_HTML</a></span> <span class='op'>:</span> <span class='const'><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html#DEFAULT_XML-constant" title="Nokogiri::XML::ParseOptions::DEFAULT_XML (constant)">DEFAULT_XML</a></span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span>.<span class='id identifier rubyid_new'><a href="ParseOptions.html#new-class_method" title="Nokogiri::XML::ParseOptions.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>) <span class='kw'>if</span> <span class='const'>Integer</span> <span class='op'>===</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_string_or_io'>string_or_io</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_read'>read</span>)
    <span class='id identifier rubyid_string_or_io'>string_or_io</span>.<span class='id identifier rubyid_read'>read</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string_or_io'>string_or_io</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>.<span class='id identifier rubyid_new'><a href="NodeSet.html#new-class_method" title="Nokogiri::XML::NodeSet.new (method)">new</a></span>(<span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_contents'>contents</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_error_count'>error_count</span> <span class='op'>=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_errors'>errors</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_node_set'>node_set</span> <span class='op'>=</span> <span class='id identifier rubyid_in_context'><a href="#in_context-instance_method" title="Nokogiri::XML::Node#in_context (method)">in_context</a></span>(<span class='id identifier rubyid_contents'>contents</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_to_i'>to_i</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_errors'>errors</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_error_count'>error_count</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_errors'>errors</span>[<span class='id identifier rubyid_error_count'>error_count</span>] <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_recover?'>recover?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_node_set'>node_set</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='comment'># libxml2 &lt; 2.13 does not obey the recover option after encountering errors during
</span>      <span class='comment'># in_context parsing, and so this horrible hack is here to try to emulate recovery
</span>      <span class='comment'># behavior.
</span>      <span class='comment'>#
</span>      <span class='comment'># (Note that HTML4 fragment parsing seems to have been fixed in abd74186, and XML
</span>      <span class='comment'># fragment parsing is fixed in 1c106edf. Both are in 2.13.)
</span>      <span class='comment'>#
</span>      <span class='comment'># Unfortunately, this means we&#39;re no longer parsing &quot;in context&quot; and so namespaces that
</span>      <span class='comment'># would have been inherited from the context node won&#39;t be handled correctly. This hack
</span>      <span class='comment'># was written in 2010, and I regret it, because it&#39;s silently degrading functionality in
</span>      <span class='comment'># a way that&#39;s not easily prevented (or even detected).
</span>      <span class='comment'>#
</span>      <span class='comment'># I think preferable behavior would be to either:
</span>      <span class='comment'>#
</span>      <span class='comment'># a. add an error noting that we &quot;fell back&quot; and pointing the user to turning off the
</span>      <span class='comment'>#    recover option
</span>      <span class='comment'># b. don&#39;t recover, but raise a sensible exception
</span>      <span class='comment'>#
</span>      <span class='comment'># For context and background:
</span>      <span class='comment'># - https://github.com/sparklemotion/nokogiri/issues/313
</span>      <span class='comment'># - https://github.com/sparklemotion/nokogiri/issues/2092
</span>      <span class='id identifier rubyid_fragment'><a href="#fragment-instance_method" title="Nokogiri::XML::Node#fragment (method)">fragment</a></span> <span class='op'>=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_related_class'>related_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DocumentFragment</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_contents'>contents</span>)
      <span class='id identifier rubyid_node_set'>node_set</span> <span class='op'>=</span> <span class='id identifier rubyid_fragment'><a href="#fragment-instance_method" title="Nokogiri::XML::Node#fragment (method)">fragment</a></span>.<span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_node_set'>node_set</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path-instance_method">
  <h3 class='signature '>
    #<strong>path</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the path associated with this <code>Node</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1626-L1647'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1626' data-end='1647'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1626</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_path(VALUE rb_node)
{
  xmlNodePtr c_node;
  xmlChar *c_path ;
  VALUE rval;

  Noko_Node_Get_Struct(rb_node, xmlNode, c_node);

  c_path = xmlGetNodePath(c_node);
  if (c_path == NULL) {
    // see https://github.com/sparklemotion/nokogiri/issues/2250
    // this behavior is clearly undesirable, but is what libxml &lt;= 2.9.10 returned, and so we
    // do this for now to preserve the behavior across libxml2 versions.
    rval = NOKOGIRI_STR_NEW2(&quot;?&quot;);
  } else {
    rval = NOKOGIRI_STR_NEW2(c_path);
    xmlFree(c_path);
  }

  return rval ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pointer_id-instance_method">
  <h3 class='signature '>
    #<strong>pointer_id</strong>() → Integer)    </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list label-list"><dt>Returns
<dd>
<p>A unique id for this node based on the internal memory structures. This method is used by #== to determine node identity.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L810-L817'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='810' data-end='817'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 810</span></pre>
<pre class='code cpp'>

static VALUE
rb_xml_node_pointer_id(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);

  return rb_uint2inum((uintptr_t)(node));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend_child-instance_method">
  <h3 class='signature '>
    #<strong>prepend_child</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add <code>node_or_tags</code> as the first child of this <code>Node</code>.</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns the reparented node (if <code>node_or_tags</code> is a <code>Node</code>), or <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> (if <code>node_or_tags</code> is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a>, or String).</p>

<p>Also see related method <a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">#add_child</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L204-L213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepend_child'>prepend_child</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>if</span> (<span class='id identifier rubyid_first'>first</span> <span class='op'>=</span> <span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>.<span class='id identifier rubyid_first'>first</span>)
    <span class='comment'># Mimic the error add_child would raise.
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Document already has a root node</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_document?'><a href="#document%3F-instance_method" title="Nokogiri::XML::Node#document? (method)">document?</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_comment?'><a href="#comment%3F-instance_method" title="Nokogiri::XML::Node#comment? (method)">comment?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_processing_instruction?'><a href="#processing_instruction%3F-instance_method" title="Nokogiri::XML::Node#processing_instruction? (method)">processing_instruction?</a></span>)

    <span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid___send__'>__send__</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_add_sibling'><a href="#add_sibling-instance_method" title="Nokogiri::XML::Node#add_sibling (method)">add_sibling</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_previous'><a href="#previous-instance_method" title="Nokogiri::XML::Node#previous (method)">previous</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_add_child'><a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">add_child</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="previous_element-instance_method">
  <h3 class='signature '>
    #<strong>previous_element</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the previous <a href="Element.html" title="Nokogiri::XML::Element (class)"><code>Element</code></a> type sibling node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1063-L1080'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1063' data-end='1080'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1063</span></pre>
<pre class='code cpp'>

static VALUE
previous_element(VALUE self)
{
  xmlNodePtr node, sibling;
  Noko_Node_Get_Struct(self, xmlNode, node);

  /*
   *  note that we don&#39;t use xmlPreviousElementSibling here because it&#39;s buggy pre-2.7.7.
   */
  sibling = node-&gt;prev;
  if (!sibling) { return Qnil; }

  while (sibling &amp;&amp; sibling-&gt;type != XML_ELEMENT_NODE) {
    sibling = sibling-&gt;prev;
  }

  return sibling ? noko_xml_node_wrap(Qnil, sibling) : Qnil ;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="previous_sibling-instance_method">
  <h3 class='signature '>
    #<strong>previous_sibling</strong>      <span class='aliases'>Also known as: <span class='names'>#previous</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the previous sibling node</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1027-L1037'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1027' data-end='1037'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1027</span></pre>
<pre class='code cpp'>

static VALUE
previous_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Noko_Node_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;prev;
  if (!sibling) { return Qnil; }

  return noko_xml_node_wrap(Qnil, sibling);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_xincludes-instance_method">
  <h3 class='signature priv'>
    #<strong>process_xincludes</strong>(options)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads and substitutes all xinclude elements below the node. The parser context will be initialized with <code>options</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L2120-L2145'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2120' data-end='2145'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 2120</span></pre>
<pre class='code cpp'>

static VALUE
process_xincludes(VALUE self, VALUE options)
{
  int rcode ;
  xmlNodePtr node;
  VALUE error_list = rb_ary_new();

  Noko_Node_Get_Struct(self, xmlNode, node);

  xmlSetStructuredErrorFunc((void *)error_list, Nokogiri_error_array_pusher);
  rcode = xmlXIncludeProcessTreeFlags(node, (int)NUM2INT(options));
  xmlSetStructuredErrorFunc(NULL, NULL);

  if (rcode &lt; 0) {
    xmlErrorConstPtr error;

    error = xmlGetLastError();
    if (error) {
      rb_exc_raise(Nokogiri_wrap_xml_syntax_error(error));
    } else {
      rb_raise(rb_eRuntimeError, &quot;Could not perform xinclude substitution&quot;);
    }
  }

  return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove-instance_method">
  <h3 class='signature '>
    #<strong>remove</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">#unlink</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L502-L502'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='502' data-end='502'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 502</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_remove'>remove</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_attribute-instance_method">
  <h3 class='signature '>
    #<strong>remove_attribute</strong>(name)  
    <span class='aliases'>Also known as: <span class='names'>#delete</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Remove the attribute named <a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">#name</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L678-L682'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='678' data-end='682'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 678</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_attribute'>remove_attribute</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>)
  <span class='id identifier rubyid_attr'><a href="#attr-instance_method" title="Nokogiri::XML::Node#attr (method)">attr</a></span> <span class='op'>=</span> <span class='id identifier rubyid_attributes'><a href="#attributes-instance_method" title="Nokogiri::XML::Node#attributes (method)">attributes</a></span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>].<span class='id identifier rubyid_remove'><a href="#remove-instance_method" title="Nokogiri::XML::Node#remove (method)">remove</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_key?'><a href="#key%3F-instance_method" title="Nokogiri::XML::Node#key? (method)">key?</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span>)
  <span class='id identifier rubyid_clear_xpath_context'>clear_xpath_context</span> <span class='kw'>if</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>.<span class='id identifier rubyid_jruby?'><a href="../../Nokogiri.html#jruby%3F-class_method" title="Nokogiri.jruby? (method)">jruby?</a></span>
  <span class='id identifier rubyid_attr'><a href="#attr-instance_method" title="Nokogiri::XML::Node#attr (method)">attr</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_class-instance_method">
  <h3 class='signature '>
    #<strong>remove_class</strong>(css_classes) → self)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Remove HTML <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes from this node. Any CSS class names in <code>css_classes</code> that exist in this node’s “class” attribute are removed, including any multiple entries.</p>

<p>If no <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes remain after this operation, or if <code>css_classes</code> is <code>nil</code>, the “class” attribute is deleted from the node.</p>

<p>This is a convenience function and is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_kwattr_remove'><a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">kwattr_remove</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_css_classes'>css_classes</span>)</code></pre>

<p>Also see <a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">#kwattr_remove</a>, <a href="#classes-instance_method" title="Nokogiri::XML::Node#classes (method)">#classes</a>, <a href="#add_class-instance_method" title="Nokogiri::XML::Node#add_class (method)">#add_class</a>, <a href="#append_class-instance_method" title="Nokogiri::XML::Node#append_class (method)">#append_class</a></p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>css_classes</code> (String, Array&lt;String&gt;)</p>

<p>CSS class names to be removed from the Node’s “class” attribute. May be a string containing whitespace-delimited names, or an Array of String names. Any class names already present will be removed. If no CSS classes remain, the “class” attribute is deleted.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code> (Nokogiri::XML::Node) for ease of chaining method calls.</p>
</dd></dl>

<p><strong>Example</strong>: Deleting a <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class</p>

<p>Note that all instances of the class “section” are removed from the “class” attribute.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                         <span class='comment'># =&gt; &lt;div class=&quot;section header section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_remove_class'>remove_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span></code></pre>

<p><strong>Example</strong>: Deleting the only remaining <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> class</p>

<p>Note that the attribute is removed once there are no remaining classes.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                         <span class='comment'># =&gt; &lt;div class=&quot;section&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_remove_class'>remove_class</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &lt;div&gt;&lt;/div&gt;</span></code></pre>

<p><strong>Example</strong>: Deleting multiple <a href="../CSS.html" title="Nokogiri::CSS (module)"><code>::Nokogiri::CSS</code></a> classes</p>

<p>Note that the “class” attribute is deleted once it’s empty.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>                                    <span class='comment'># =&gt; &lt;div class=&quot;section header float&quot;&gt;&lt;/div&gt;
</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_remove_class'>remove_class</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>float</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'># =&gt; &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L844-L846'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='844' data-end='846'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 844</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_class'>remove_class</span>(<span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_kwattr_remove'><a href="#kwattr_remove-instance_method" title="Nokogiri::XML::Node#kwattr_remove (method)">kwattr_remove</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replace this <code>Node</code> with <code>node_or_tags</code>.</p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String containing markup.</p>

<p>Returns the reparented node (if <code>node_or_tags</code> is a <code>Node</code>), or <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a> (if <code>node_or_tags</code> is a <a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)"><code>DocumentFragment</code></a>, <a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)"><code>NodeSet</code></a>, or String).</p>

<p>Also see related method <a href="#swap-instance_method" title="Nokogiri::XML::Node#swap (method)">#swap</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L405-L428'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='405' data-end='428'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 405</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot replace a node with no parent</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>

  <span class='comment'># We cannot replace a text node directly, otherwise libxml will return
</span>  <span class='comment'># an internal error at parser.c:13031, I don&#39;t know exactly why
</span>  <span class='comment'># libxml is trying to find a parent node that is an element or document
</span>  <span class='comment'># so I can&#39;t tell if this is bug in libxml or not. issue #775.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_text?'><a href="#text%3F-instance_method" title="Nokogiri::XML::Node#text? (method)">text?</a></span>
    <span class='id identifier rubyid_replacee'>replacee</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Node</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dummy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>)
    <span class='id identifier rubyid_add_previous_sibling_node'><a href="#add_previous_sibling_node-instance_method" title="Nokogiri::XML::Node#add_previous_sibling_node (method)">add_previous_sibling_node</a></span>(<span class='id identifier rubyid_replacee'>replacee</span>)
    <span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_replacee'>replacee</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>.<span class='id identifier rubyid_coerce'>coerce</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span>)
    <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_add_previous_sibling'><a href="#add_previous_sibling-instance_method" title="Nokogiri::XML::Node#add_previous_sibling (method)">add_previous_sibling</a></span>(<span class='id identifier rubyid_n'>n</span>) }
    <span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_replace_node'><a href="#replace_node-instance_method" title="Nokogiri::XML::Node#replace_node (method)">replace_node</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace_node-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>replace_node</strong>(new_node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1083-L1093'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1083' data-end='1093'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1083</span></pre>
<pre class='code cpp'>

static VALUE
replace(VALUE self, VALUE new_node)
{
  VALUE reparent = reparent_node_with(self, new_node, xmlReplaceNodeWrapper);

  xmlNodePtr pivot;
  Noko_Node_Get_Struct(self, xmlNode, pivot);
  noko_xml_document_pin_node(pivot);

  return reparent;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="serialize-instance_method">
  <h3 class='signature '>
    #<strong>serialize</strong>(*args, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#to_xml</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Serialize Node using <code>options</code>. Save options can also be set using a block.</p>

<p>See also <a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)"><code>Node::SaveOptions</code></a> and Node@Serialization+and+Generating+Output.</p>

<p>These two statements are equivalent:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_serialize'>serialize</span>(<span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>save_with:</span> <span class='const'>FORMAT</span> <span class='op'>|</span> <span class='const'>AS_XML</span>)</code></pre>

<p>or</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_serialize'>serialize</span>(<span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_format'>format</span>.<span class='id identifier rubyid_as_xml'>as_xml</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1321-L1339'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1321' data-end='1339'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1321</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_serialize'>serialize</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='comment'># TODO: deprecate non-hash options, see 46c68ed 2009-06-20 for context
</span>  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Hash</span>)
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>else</span>
    {
      <span class='label'>encoding:</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]<span class='comma'>,</span>
      <span class='label'>save_with:</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span>]<span class='comma'>,</span>
    }
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_encoding'>encoding</span>] <span class='op'>||=</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_encoding'>encoding</span>
  <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='const'>Encoding</span>.<span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_encoding'>encoding</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>)

  <span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='const'>StringIO</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span>(<span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span>(<span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'>encoding</span>))

  <span class='id identifier rubyid_write_to'><a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">write_to</a></span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set-instance_method">
  <h3 class='signature priv'>
    #<strong>[]=</strong>(property, value)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the <code>property</code> to <code>value</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1239-L1269'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1239' data-end='1269'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1239</span></pre>
<pre class='code cpp'>

static VALUE
set(VALUE self, VALUE property, VALUE value)
{
  xmlNodePtr node, cur;
  xmlAttrPtr prop;
  Noko_Node_Get_Struct(self, xmlNode, node);

  /* If a matching attribute node already exists, then xmlSetProp will destroy
   * the existing node&#39;s children. However, if Nokogiri has a node object
   * pointing to one of those children, we are left with a broken reference.
   *
   * We can avoid this by unlinking these nodes first.
   */
  if (node-&gt;type != XML_ELEMENT_NODE) {
    return (Qnil);
  }
  prop = xmlHasProp(node, (xmlChar *)StringValueCStr(property));
  if (prop &amp;&amp; prop-&gt;children) {
    for (cur = prop-&gt;children; cur; cur = cur-&gt;next) {
      if (cur-&gt;_private) {
        noko_xml_document_pin_node(cur);
        xmlUnlinkNode(cur);
      }
    }
  }

  xmlSetProp(node, (xmlChar *)StringValueCStr(property),
             (xmlChar *)StringValueCStr(value));

  return value;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_attribute-instance_method">
  <h3 class='signature '>
    #<strong>set_attribute</strong>(name, value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]=-instance_method" title="Nokogiri::XML::Node#[]= (method)">#[]=</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1043-L1043'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1043' data-end='1043'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1043</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_set_attribute'>set_attribute</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='op'>[]=</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_namespace-instance_method">
  <h3 class='signature priv'>
    #<strong>set_namespace</strong>(namespace)   <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the namespace to <a href="#namespace-instance_method" title="Nokogiri::XML::Node#namespace (method)">#namespace</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L1325-L1340'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1325' data-end='1340'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 1325</span></pre>
<pre class='code cpp'>

static VALUE
set_namespace(VALUE self, VALUE namespace)
{
  xmlNodePtr node;
  xmlNsPtr ns = NULL;

  Noko_Node_Get_Struct(self, xmlNode, node);

  if (!NIL_P(namespace)) {
    Noko_Namespace_Get_Struct(namespace, xmlNs, ns);
  }

  xmlSetNs(node, ns);

  return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swap-instance_method">
  <h3 class='signature '>
    #<strong>swap</strong>(node_or_tags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Swap this <code>Node</code> for <code>node_or_tags</code></p>

<p><code>node_or_tags</code> can be a <code>Node</code>, a <code>::DocumentFragment</code>, a <code>::NodeSet</code>, or a String Containing markup.</p>

<p>Returns self, to support chaining of calls.</p>

<p>Also see related method <a href="#replace-instance_method" title="Nokogiri::XML::Node#replace (method)">#replace</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L439-L442'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='439' data-end='442'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 439</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_swap'>swap</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='id identifier rubyid_replace'><a href="#replace-instance_method" title="Nokogiri::XML::Node#replace (method)">replace</a></span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_format-instance_method">
  <h3 class='signature priv'>
    #<strong>to_format</strong>(save_option, options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1583-L1588'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1583' data-end='1588'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_format'>to_format</span>(<span class='id identifier rubyid_save_option'>save_option</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_dump_html'><a href="#dump_html-instance_method" title="Nokogiri::XML::Node#dump_html (method)">dump_html</a></span> <span class='kw'>if</span> <span class='const'><a href="#USING_LIBXML_WITH_BROKEN_SERIALIZATION-constant" title="Nokogiri::XML::Node::USING_LIBXML_WITH_BROKEN_SERIALIZATION (constant)">USING_LIBXML_WITH_BROKEN_SERIALIZATION</a></span>

  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>=</span> <span class='id identifier rubyid_save_option'>save_option</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>]
  <span class='id identifier rubyid_serialize'><a href="#serialize-instance_method" title="Nokogiri::XML::Node#serialize (method)">serialize</a></span>(<span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_html-instance_method">
  <h3 class='signature '>
    #<strong>to_html</strong>(options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Serialize this <code>Node</code> to <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_html'>to_html</span></code></pre>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of <code>options</code>.  For formatted output, use <a href="#to_xhtml-instance_method" title="Nokogiri::XML::Node#to_xhtml (method)">#to_xhtml</a> instead.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1348-L1350'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1348' data-end='1350'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1348</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_html'>to_html</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_to_format'><a href="#to_format-instance_method" title="Nokogiri::XML::Node#to_format (method)">to_format</a></span>(<span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_HTML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_HTML (constant)">DEFAULT_HTML</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Turn this node in to a string.  If the document is <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a>, this method returns html.  If the document is <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a>, this method returns <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1231-L1233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1231' data-end='1233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_xml?'><a href="#xml%3F-instance_method" title="Nokogiri::XML::Node#xml? (method)">xml?</a></span> <span class='op'>?</span> <span class='id identifier rubyid_to_xml'><a href="#to_xml-instance_method" title="Nokogiri::XML::Node#to_xml (method)">to_xml</a></span> <span class='op'>:</span> <span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_xhtml-instance_method">
  <h3 class='signature '>
    #<strong>to_xhtml</strong>(options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Serialize this <code>Node</code> to XHTML using <code>options</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_xhtml'>to_xhtml</span>(<span class='label'>indent:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of <code>options</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1369-L1371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1369' data-end='1371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1369</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_xhtml'>to_xhtml</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_to_format'><a href="#to_format-instance_method" title="Nokogiri::XML::Node#to_format (method)">to_format</a></span>(<span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_XHTML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_XHTML (constant)">DEFAULT_XHTML</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_xml-instance_method">
  <h3 class='signature '>
    #<strong>to_xml</strong>(options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Serialize this <code>Node</code> to <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> using <code>options</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_xml'>to_xml</span>(<span class='label'>indent:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of <code>options</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1358-L1361'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1358' data-end='1361'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1358</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>||=</span> <span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_XML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_XML (constant)">DEFAULT_XML</a></span>
  <span class='id identifier rubyid_serialize'><a href="#serialize-instance_method" title="Nokogiri::XML::Node#serialize (method)">serialize</a></span>(<span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="traverse-instance_method">
  <h3 class='signature '>
    #<strong>traverse</strong> {|_self| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yields self and all children to <code>block</code> recursively.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>_self</code>)</span>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>_self</span>
    <span class='type'>(<code>Node</code>)</span>
&mdash;    <div class='inline'>
<p>the object that the method was called on</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1274-L1277'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1274' data-end='1277'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1274</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_traverse'>traverse</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_children'><a href="#children-instance_method" title="Nokogiri::XML::Node#children (method)">children</a></span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Nokogiri::XML::Node#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_j'>j</span>.<span class='id identifier rubyid_traverse'>traverse</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) }
  <span class='kw'>yield</span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type-instance_method">
  <h3 class='signature '>
    #<strong>type</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#node_type-instance_method" title="Nokogiri::XML::Node#node_type (method)">#node_type</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L512-L512'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='512' data-end='512'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 512</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="Nokogiri::XML::Node#node_type (method)">node_type</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unlink-instance_method">
  <h3 class='signature '>
    #<strong>unlink</strong>() → self)      <span class='aliases'>Also known as: <span class='names'>#remove</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Unlink this node from its current context.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/ext/nokogiri/xml_node.c#L992-L1000'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='992' data-end='1000'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nokogiri/xml_node.c', line 992</span></pre>
<pre class='code cpp'>

static VALUE
unlink_node(VALUE self)
{
  xmlNodePtr node;
  Noko_Node_Get_Struct(self, xmlNode, node);
  xmlUnlinkNode(node);
  noko_xml_document_pin_node(node);
  return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="value?-instance_method">
  <h3 class='signature '>
    #<strong>value?</strong>(value)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does this Node’s attributes include &lt;value&gt;</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L658-L660'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='658' data-end='660'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 658</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_value?'>value?</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_values'><a href="#values-instance_method" title="Nokogiri::XML::Node#values (method)">values</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_value'>value</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values-instance_method">
  <h3 class='signature '>
    #<strong>values</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the attribute values for this <code>Node</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L652-L654'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='652' data-end='654'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 652</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_values'>values</span>
  <span class='id identifier rubyid_attribute_nodes'><a href="#attribute_nodes-instance_method" title="Nokogiri::XML::Node#attribute_nodes (method)">attribute_nodes</a></span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wrap-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>wrap</strong>(markup)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>wrap</strong>(node)  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Wrap this <code>Node</code> with the node parsed from <code>markup</code> or a dup of the <code>node</code>.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><strong>markup</strong> (String) Markup that is parsed and used as the wrapper. This node’s parent, if it exists, is used as the context node for parsing; otherwise the associated document is used. If the parsed fragment has multiple roots, the first root node is used as the wrapper.</p>
</li><li>
<p><strong>node</strong> (Nokogiri::XML::Node) An element that is ‘#dup`ed and used as the wrapper.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Returns
<dd>
<p><code>self</code>, to support chaining.</p>
</dd></dl>

<p>Also see <a href="NodeSet.html#wrap-instance_method" title="Nokogiri::XML::NodeSet#wrap (method)">NodeSet#wrap</a></p>

<p><strong>Example</strong> with a <code>String</code> argument:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML5.html" title="Nokogiri::HTML5 (module)">HTML5</a></span>(<span class='heredoc_beg'>&lt;&lt;~HTML</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;html&gt;&lt;body&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;a&gt;asdf&lt;/a&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/body&gt;&lt;/html&gt;
</span><span class='heredoc_end'>HTML
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_wrap'>wrap</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;div&gt;&lt;/div&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>
<span class='comment'># =&gt; &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;
</span><span class='comment'>#      &lt;div&gt;&lt;a&gt;asdf&lt;/a&gt;&lt;/div&gt;
</span><span class='comment'>#    &lt;/body&gt;&lt;/html&gt;</span></code></pre>

<p><strong>Example</strong> with a <code>Node</code> argument:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span><span class='op'>::</span><span class='const'><a href="../HTML5.html" title="Nokogiri::HTML5 (module)">HTML5</a></span>(<span class='heredoc_beg'>&lt;&lt;~HTML</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>&lt;html&gt;&lt;body&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  &lt;a&gt;asdf&lt;/a&gt;
</span><span class='ignored_sp'>  </span><span class='tstring_content'>&lt;/body&gt;&lt;/html&gt;
</span><span class='heredoc_end'>HTML
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_at_css'>at_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_wrap'>wrap</span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_create_element'>create_element</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span>))
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_html'><a href="#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">to_html</a></span>
<span class='comment'># &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;
</span><span class='comment'>#   &lt;div&gt;&lt;a&gt;asdf&lt;/a&gt;&lt;/div&gt;
</span><span class='comment'># &lt;/body&gt;&lt;/html&gt;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L259-L281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='259' data-end='281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 259</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wrap'>wrap</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id identifier rubyid_context_node'>context_node</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span> <span class='op'>||</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>
    <span class='id identifier rubyid_new_parent'>new_parent</span> <span class='op'>=</span> <span class='id identifier rubyid_context_node'>context_node</span>.<span class='id identifier rubyid_coerce'>coerce</span>(<span class='id identifier rubyid_node_or_tags'>node_or_tags</span>).<span class='id identifier rubyid_first'>first</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_parent'>new_parent</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to parse &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_node_or_tags'>node_or_tags</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in the context of a &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_context_node'>context_node</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; element</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Node</span>
    <span class='id identifier rubyid_new_parent'>new_parent</span> <span class='op'>=</span> <span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_dup'><a href="#dup-instance_method" title="Nokogiri::XML::Node#dup (method)">dup</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Requires a String or Node argument, and cannot accept a </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_node_or_tags'>node_or_tags</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_parent'><a href="#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span>
    <span class='id identifier rubyid_add_next_sibling'><a href="#add_next_sibling-instance_method" title="Nokogiri::XML::Node#add_next_sibling (method)">add_next_sibling</a></span>(<span class='id identifier rubyid_new_parent'>new_parent</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new_parent'>new_parent</span>.<span class='id identifier rubyid_unlink'><a href="#unlink-instance_method" title="Nokogiri::XML::Node#unlink (method)">unlink</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_parent'>new_parent</span>.<span class='id identifier rubyid_add_child'><a href="#add_child-instance_method" title="Nokogiri::XML::Node#add_child (method)">add_child</a></span>(<span class='kw'>self</span>)

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_format_to-instance_method">
  <h3 class='signature priv'>
    #<strong>write_format_to</strong>(save_option, io, options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1590-L1595'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1590' data-end='1595'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_format_to'>write_format_to</span>(<span class='id identifier rubyid_save_option'>save_option</span><span class='comma'>,</span> <span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>return</span> (<span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_dump_html'><a href="#dump_html-instance_method" title="Nokogiri::XML::Node#dump_html (method)">dump_html</a></span>) <span class='kw'>if</span> <span class='const'><a href="#USING_LIBXML_WITH_BROKEN_SERIALIZATION-constant" title="Nokogiri::XML::Node::USING_LIBXML_WITH_BROKEN_SERIALIZATION (constant)">USING_LIBXML_WITH_BROKEN_SERIALIZATION</a></span>

  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>||=</span> <span class='id identifier rubyid_save_option'>save_option</span>
  <span class='id identifier rubyid_write_to'><a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">write_to</a></span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_html_to-instance_method">
  <h3 class='signature '>
    #<strong>write_html_to</strong>(io, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Write Node as <a href="../HTML.html" title="Nokogiri::HTML (module)"><code>::Nokogiri::HTML</code></a> to <code>io</code> with <code>options</code></p>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of <code>options</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1426-L1428'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1426' data-end='1428'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1426</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_html_to'>write_html_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_write_format_to'><a href="#write_format_to-instance_method" title="Nokogiri::XML::Node#write_format_to (method)">write_format_to</a></span>(<span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_HTML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_HTML (constant)">DEFAULT_HTML</a></span><span class='comma'>,</span> <span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_to-instance_method">
  <h3 class='signature '>
    #<strong>write_to</strong>(io, *options)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Serialize this node or document to <code>io</code>.</p>
<dl class="rdoc-list label-list"><dt>Parameters
<dd></dd></dl>
<ul><li>
<p><code>io</code> (IO) An IO-like object to which the serialized content will be written.</p>
</li><li>
<p><code>options</code> (Hash) See below</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Options
<dd></dd></dl>
<ul><li>
<p><code>:encoding</code> (String or Encoding) specify the encoding of the output (defaults to document encoding)</p>
</li><li>
<p><code>:indent_text</code> (String) the indentation text (defaults to <code>&quot; &quot;</code>)</p>
</li><li>
<p><code>:indent</code> (Integer) the number of <code>:indent_text</code> to use (defaults to <code>2</code>)</p>
</li><li>
<p><code>:save_with</code> (Integer) a combination of <a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)"><code>Node::SaveOptions</code></a> constants</p>
</li></ul>

<p>To save with UTF-8 indented twice:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_write_to'>write_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>indent:</span> <span class='int'>2</span>)</code></pre>

<p>To save indented with two dashes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_write_to'>write_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='label'>indent_text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>indent:</span> <span class='int'>2</span>)</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>config</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1397-L1420'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1397' data-end='1420'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1397</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_to'>write_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Hash</span>) <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_shift'>shift</span> <span class='op'>:</span> {}
  <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_encoding'>encoding</span>] <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span>[<span class='int'>0</span>] <span class='op'>||</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Nokogiri::XML::Node#document (method)">document</a></span>.<span class='id identifier rubyid_encoding'>encoding</span>
  <span class='kw'>if</span> <span class='const'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>.<span class='id identifier rubyid_jruby?'><a href="../../Nokogiri.html#jruby%3F-class_method" title="Nokogiri.jruby? (method)">jruby?</a></span>
    <span class='id identifier rubyid_save_options'>save_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span>[<span class='int'>1</span>]
    <span class='id identifier rubyid_indent_times'>indent_times</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span>] <span class='op'>||</span> <span class='int'>0</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_save_options'>save_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span>[<span class='int'>1</span>] <span class='op'>||</span> <span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#FORMAT-constant" title="Nokogiri::XML::Node::SaveOptions::FORMAT (constant)">FORMAT</a></span>
    <span class='id identifier rubyid_indent_times'>indent_times</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span>] <span class='op'>||</span> <span class='int'>2</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_indent_text'>indent_text</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_indent_text'>indent_text</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># Any string times 0 returns an empty string. Therefore, use the same
</span>  <span class='comment'># string instead of generating a new empty string for every node with
</span>  <span class='comment'># zero indentation.
</span>  <span class='id identifier rubyid_indentation'>indentation</span> <span class='op'>=</span> <span class='id identifier rubyid_indent_times'>indent_times</span>.<span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> (<span class='id identifier rubyid_indent_text'>indent_text</span> <span class='op'>*</span> <span class='id identifier rubyid_indent_times'>indent_times</span>)

  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span>.<span class='id identifier rubyid_new'><a href="Node/SaveOptions.html#new-class_method" title="Nokogiri::XML::Node::SaveOptions.new (method)">new</a></span>(<span class='id identifier rubyid_save_options'>save_options</span>.<span class='id identifier rubyid_to_i'>to_i</span>)
  <span class='kw'>yield</span> <span class='id identifier rubyid_config'>config</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_encoding'>encoding</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Encoding</span>) <span class='op'>?</span> <span class='id identifier rubyid_encoding'>encoding</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Nokogiri::XML::Node#name (method)">name</a></span> <span class='op'>:</span> <span class='id identifier rubyid_encoding'>encoding</span>

  <span class='id identifier rubyid_native_write_to'><a href="#native_write_to-instance_method" title="Nokogiri::XML::Node#native_write_to (method)">native_write_to</a></span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_indentation'>indentation</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_xhtml_to-instance_method">
  <h3 class='signature '>
    #<strong>write_xhtml_to</strong>(io, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Write Node as XHTML to <code>io</code> with <code>options</code></p>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of <code>options</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1434-L1436'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1434' data-end='1436'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1434</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_xhtml_to'>write_xhtml_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_write_format_to'><a href="#write_format_to-instance_method" title="Nokogiri::XML::Node#write_format_to (method)">write_format_to</a></span>(<span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_XHTML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_XHTML (constant)">DEFAULT_XHTML</a></span><span class='comma'>,</span> <span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_xml_to-instance_method">
  <h3 class='signature '>
    #<strong>write_xml_to</strong>(io, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Write Node as <a href="../XML.html" title="Nokogiri::XML (module)"><code>::Nokogiri::XML</code></a> to <code>io</code> with <code>options</code></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_write_xml_to'>write_xml_to</span> <span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>See <a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">#write_to</a> for a list of options</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/sparklemotion/nokogiri/blob/main/lib/nokogiri/xml/node.rb#L1444-L1447'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1444' data-end='1447'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/nokogiri/xml/node.rb', line 1444</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_xml_to'>write_xml_to</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_save_with'>save_with</span>] <span class='op'>||=</span> <span class='const'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span><span class='op'>::</span><span class='const'><a href="Node/SaveOptions.html#DEFAULT_XML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_XML (constant)">DEFAULT_XML</a></span>
  <span class='id identifier rubyid_write_to'><a href="#write_to-instance_method" title="Nokogiri::XML::Node#write_to (method)">write_to</a></span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>