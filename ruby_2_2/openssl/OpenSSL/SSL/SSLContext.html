<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: OpenSSL::SSL::SSLContext &mdash; openssl</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "OpenSSL::SSL::SSLContext",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a href='../../../../index.html'>Home</a> &raquo; 
      <a href='../../../index.html'>Ruby-2.2.10</a> &raquo; 
      <a href='../../index.html'>openssl</a> &raquo; 
      <a href='../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a> &raquo; 
        <a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SSLContext&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: OpenSSL::SSL::SSLContext</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L1965'>ext/openssl/ossl_ssl.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/lib/openssl/ssl.rb#L22'>ext/openssl/lib/openssl/ssl.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>An SSLContext is used to set various options regarding certificates, algorithms, verification, session caching, etc.  The SSLContext is used to create an <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a>.</p>

<p>All attributes must be set before creating an <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> as the <code>SSLContext</code> will be frozen afterward.</p>

<p>The following attributes are available but don&#39;t show up in rdoc:</p>
<ul><li>
<p>ssl_version, cert, key, client_ca, ca_file, ca_path, timeout,</p>
</li><li>
<p>verify_mode, verify_depth client_cert_cb, tmp_dh_callback,</p>
</li><li>
<p>session_id_context, session_add_cb, session_new_cb, session_remove_cb</p>
</li></ul>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_CERT_STORE-constant' class='summary_signature'>DEFAULT_CERT_STORE =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/lib/openssl/ssl.rb#L71-L71'># File 'ext/openssl/lib/openssl/ssl.rb', line 71</a>    <pre class='code ruby'><span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../X509.html" title="OpenSSL::X509 (module)">X509</a></span><span class='op'>::</span><span class='const'><a href="../X509/Store.html" title="OpenSSL::X509::Store (class)">Store</a></span>.<span class='id identifier rubyid_new'><a href="../X509/Store.html#new-class_method" title="OpenSSL::X509::Store.new (method)">new</a></span></pre>
  </li>
  <li>
    <span id='DEFAULT_PARAMS-constant' class='summary_signature'>DEFAULT_PARAMS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/lib/openssl/ssl.rb#L23-L69'># File 'ext/openssl/lib/openssl/ssl.rb', line 23</a>    <pre class='code ruby'>{
  <span class='symbeg'>:</span><span class='id identifier rubyid_ssl_version'>ssl_version</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSLv23</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="OpenSSL::SSL::SSLContext#verify_mode (method)">verify_mode</a></span> <span class='op'>=&gt;</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>VERIFY_PEER</span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_ciphers'><a href="#ciphers-instance_method" title="OpenSSL::SSL::SSLContext#ciphers (method)">ciphers</a></span> <span class='op'>=&gt;</span> <span class='qwords'><span class='qwords_beg'>%w{</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES128-GCM-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES128-GCM-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES256-GCM-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES256-GCM-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES128-GCM-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES128-GCM-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES256-GCM-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES256-GCM-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES128-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES128-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES128-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES128-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES256-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES256-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-AES256-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-AES256-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES128-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES256-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES128-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-RSA-AES256-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES128-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES256-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES128-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>DHE-DSS-AES256-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>AES128-GCM-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>AES256-GCM-SHA384</span><span class='words_sep'>
    </span><span class='tstring_content'>AES128-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>AES256-SHA256</span><span class='words_sep'>
    </span><span class='tstring_content'>AES128-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>AES256-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-ECDSA-RC4-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>ECDHE-RSA-RC4-SHA</span><span class='words_sep'>
    </span><span class='tstring_content'>RC4-SHA</span><span class='words_sep'>
  </span><span class='tstring_end'>}</span></span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="OpenSSL::SSL::SSLContext#options (method)">options</a></span> <span class='op'>=&gt;</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_ALL</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>&amp;=</span> <span class='op'>~</span><span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_DONT_INSERT_EMPTY_FRAGMENTS</span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_DONT_INSERT_EMPTY_FRAGMENTS</span>)
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>|=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_COMPRESSION</span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_COMPRESSION</span>)
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>|=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_SSLv2</span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_SSLv2</span>)
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>|=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_SSLv3</span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>OP_NO_SSLv3</span>)
    <span class='id identifier rubyid_opts'>opts</span>
  }.<span class='id identifier rubyid_call'>call</span>
}</pre>
  </li>
  <li>
    <span id='METHODS-constant' class='summary_signature'>METHODS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The list of available SSL/TLS methods</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2230'># File 'ext/openssl/ossl_ssl.c', line 2230</a>    <pre class='code c'><span class='id identifier rubyid_ary'>ary</span></pre>
  </li>
  <li>
    <span id='SESSION_CACHE_BOTH-constant' class='summary_signature'>SESSION_CACHE_BOTH =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>no different than CACHE_SERVER in 0.9.8e</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2186'># File 'ext/openssl/ossl_ssl.c', line 2186</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_BOTH</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_CLIENT-constant' class='summary_signature'>SESSION_CACHE_CLIENT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>doesn&#39;t actually do anything in 0.9.8e</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2176'># File 'ext/openssl/ossl_ssl.c', line 2176</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_CLIENT</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_NO_AUTO_CLEAR-constant' class='summary_signature'>SESSION_CACHE_NO_AUTO_CLEAR =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Normally the session cache is checked for expired sessions every 255 connections.  Since this may lead to a delay that cannot be controlled, the automatic flushing may be disabled and <a href="#flush_sessions-instance_method" title="OpenSSL::SSL::SSLContext#flush_sessions (method)">#flush_sessions</a> can be called explicitly.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2194'># File 'ext/openssl/ossl_ssl.c', line 2194</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_NO_AUTO_CLEAR</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_NO_INTERNAL-constant' class='summary_signature'>SESSION_CACHE_NO_INTERNAL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Enables both <a href="#SESSION_CACHE_NO_INTERNAL_LOOKUP-constant" title="OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_LOOKUP (constant)">SESSION_CACHE_NO_INTERNAL_LOOKUP</a> and <a href="#SESSION_CACHE_NO_INTERNAL_STORE-constant" title="OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_STORE (constant)">SESSION_CACHE_NO_INTERNAL_STORE</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2213'># File 'ext/openssl/ossl_ssl.c', line 2213</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_NO_INTERNAL</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_NO_INTERNAL_LOOKUP-constant' class='summary_signature'>SESSION_CACHE_NO_INTERNAL_LOOKUP =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Always perform external lookups of sessions even if they are in the internal cache.</p>

<p>This flag has no effect on clients</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2202'># File 'ext/openssl/ossl_ssl.c', line 2202</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_NO_INTERNAL_LOOKUP</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_NO_INTERNAL_STORE-constant' class='summary_signature'>SESSION_CACHE_NO_INTERNAL_STORE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Never automatically store sessions in the internal store.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2207'># File 'ext/openssl/ossl_ssl.c', line 2207</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_NO_INTERNAL_STORE</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_OFF-constant' class='summary_signature'>SESSION_CACHE_OFF =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>No session caching for client or server</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2171'># File 'ext/openssl/ossl_ssl.c', line 2171</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_OFF</span>)</pre>
  </li>
  <li>
    <span id='SESSION_CACHE_SERVER-constant' class='summary_signature'>SESSION_CACHE_SERVER =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Server sessions are added to the session cache</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/ossl_ssl.c#L2181'># File 'ext/openssl/ossl_ssl.c', line 2181</a>    <pre class='code c'><span class='const'>LONG2FIX</span>(<span class='const'>SSL_SESS_CACHE_SERVER</span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>  &#x21d2; ctx </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>You can get a list of valid methods with <a href="#METHODS-constant" title="OpenSSL::SSL::SSLContext::METHODS (constant)">METHODS</a></p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_file-instance_method" title="#ca_file (instance method)">#<strong>ca_file</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The path to a file containing a PEM-format CA certificate.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ca_path-instance_method" title="#ca_path (instance method)">#<strong>ca_path</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The path to a directory containing CA certificates in PEM format.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#cert-instance_method" title="#cert (instance method)">#<strong>cert</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Context certificate.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#cert_store-instance_method" title="#cert_store (instance method)">#<strong>cert_store</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An <a href="../X509/Store.html" title="OpenSSL::X509::Store (class)">::OpenSSL::X509::Store</a> used for certificate verification.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ciphers-instance_method" title="#ciphers (instance method)">#<strong>ciphers</strong>  &#x21d2; Array, ... </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The list of ciphers configured for this context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ciphers=-instance_method" title="#ciphers= (instance method)">#<strong>ciphers=</strong>(&quot;cipher1:cipher2:...&quot;)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the list of available ciphers for this context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#client_ca-instance_method" title="#client_ca (instance method)">#<strong>client_ca</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A certificate or Array of certificates that will be sent to the client.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#client_cert_cb-instance_method" title="#client_cert_cb (instance method)">#<strong>client_cert_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked when a client certificate is requested by a server and no certificate has been set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#extra_chain_cert-instance_method" title="#extra_chain_cert (instance method)">#<strong>extra_chain_cert</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An Array of extra <a href="../X509.html" title="OpenSSL::X509 (module)">::OpenSSL::X509</a> certificates to be added to the certificate chain.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#key-instance_method" title="#key (instance method)">#<strong>key</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Context private key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#npn_protocols-instance_method" title="#npn_protocols (instance method)">#<strong>npn_protocols</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An Enumerable of Strings.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#npn_select_cb-instance_method" title="#npn_select_cb (instance method)">#<strong>npn_select_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked on the client side when the client needs to select a protocol from the list sent by the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets various <a href="../../OpenSSL.html" title="OpenSSL (module)">::OpenSSL</a> options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#renegotiation_cb-instance_method" title="#renegotiation_cb (instance method)">#<strong>renegotiation_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked whenever a new handshake is initiated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#servername_cb-instance_method" title="#servername_cb (instance method)">#<strong>servername_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked at connect time to distinguish between multiple server names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_cache_mode-instance_method" title="#session_cache_mode (instance method)">#<strong>session_cache_mode</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The current session cache mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_cache_mode=-instance_method" title="#session_cache_mode= (instance method)">#<strong>session_cache_mode=</strong>(integer)  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the <a href="../SSL.html" title="OpenSSL::SSL (module)">::OpenSSL::SSL</a> session cache mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_cache_size-instance_method" title="#session_cache_size (instance method)">#<strong>session_cache_size</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current session cache size.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_cache_size=-instance_method" title="#session_cache_size= (instance method)">#<strong>session_cache_size=</strong>(integer)  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the session cache size.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_get_cb-instance_method" title="#session_get_cb (instance method)">#<strong>session_get_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked on a server when a session is proposed by the client but the session could not be found in the server&#39;s internal cache.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_id_context-instance_method" title="#session_id_context (instance method)">#<strong>session_id_context</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the context in which a session can be reused.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_new_cb-instance_method" title="#session_new_cb (instance method)">#<strong>session_new_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked when a new session was negotiated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_remove_cb-instance_method" title="#session_remove_cb (instance method)">#<strong>session_remove_cb</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked when a session is removed from the internal cache.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_timeout-instance_method" title="#ssl_timeout (instance method)">#<strong>ssl_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#timeout-instance_method" title="OpenSSL::SSL::SSLContext#timeout (method)">#timeout</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#timeout-instance_method" title="#timeout (instance method)">#<strong>timeout</strong>  </a>
      (also: #ssl_timeout)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Maximum session lifetime.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#tmp_dh_callback-instance_method" title="#tmp_dh_callback (instance method)">#<strong>tmp_dh_callback</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback invoked when DH parameters are required.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_callback-instance_method" title="#verify_callback (instance method)">#<strong>verify_callback</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>A callback for additional certificate verification.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_depth-instance_method" title="#verify_depth (instance method)">#<strong>verify_depth</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Number of CA certificates to walk when verifying a certificate chain.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#verify_mode-instance_method" title="#verify_mode (instance method)">#<strong>verify_mode</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a> verification mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#ssl_version=-instance_method" title="#ssl_version= (instance method)">#<strong>ssl_version=</strong>(:TLSv1)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>You can get a list of valid versions with <a href="#METHODS-constant" title="OpenSSL::SSL::SSLContext::METHODS (constant)">METHODS</a></p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#flush_sessions-instance_method" title="#flush_sessions (instance method)">#<strong>flush_sessions</strong>(time | nil)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes sessions in the internal cache that have expired at <code>time</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#session_add-instance_method" title="#session_add (instance method)">#<strong>session_add</strong>(session)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds <code>session</code> to the session cache.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#session_cache_stats-instance_method" title="#session_cache_stats (instance method)">#<strong>session_cache_stats</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a Hash containing the following keys:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#session_remove-instance_method" title="#session_remove (instance method)">#<strong>session_remove</strong>(session)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes <code>session</code> from the session cache.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_params-instance_method" title="#set_params (instance method)">#<strong>set_params</strong>(params = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the parameters for this <a href="../SSL.html" title="OpenSSL::SSL (module)">::OpenSSL::SSL</a> context to the values in <code>params</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>  &#x21d2; Qtrue #firstt time </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This method is called automatically when a new <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> is created.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>  &#x21d2; <code>ctx</code> </span>
      <span class='overload'>.<strong>new</strong>(:TLSv1)  &#x21d2; <code>ctx</code> </span>
      <span class='overload'>.<strong>new</strong>(&quot;SSLv23_client&quot;)  &#x21d2; <code>ctx</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>You can get a list of valid methods with <a href="#METHODS-constant" title="OpenSSL::SSL::SSLContext::METHODS (constant)">METHODS</a></p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ca_file-instance_method">
  <h3 class='signature rw first'>
    #<strong>ca_file</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The path to a file containing a PEM-format CA certificate</p>

  </div>
</div>

</section>

<section class='method_details' id="ca_path-instance_method">
  <h3 class='signature rw'>
    #<strong>ca_path</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The path to a directory containing CA certificates in PEM format.</p>

<p>Files are looked up by subject&#39;s <a href="../X509.html" title="OpenSSL::X509 (module)">::OpenSSL::X509</a> name&#39;s hash value.</p>

  </div>
</div>

</section>

<section class='method_details' id="cert-instance_method">
  <h3 class='signature rw'>
    #<strong>cert</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Context certificate</p>

  </div>
</div>

</section>

<section class='method_details' id="cert_store-instance_method">
  <h3 class='signature rw'>
    #<strong>cert_store</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An <a href="../X509/Store.html" title="OpenSSL::X509::Store (class)">::OpenSSL::X509::Store</a> used for certificate verification</p>

  </div>
</div>

</section>

<section class='method_details' id="ciphers-instance_method">
  <h3 class='signature rw'>
    #<strong>ciphers</strong>  &#x21d2; <code>Array</code>, ...  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The list of ciphers configured for this context.</p>

  </div>
</div>

</section>

<section class='method_details' id="ciphers=-instance_method">
  <h3 class='signature rw'>
    <div class='inline-block'>
      <span class='overload'>#<strong>ciphers=</strong>(&quot;cipher1:cipher2:...&quot;)   <span class="extras">(<span class='rw'>rw</span>)</span></span>
      <span class='overload'>#<strong>ciphers=</strong>([name, ...])  </span>
      <span class='overload'>#<strong>ciphers=</strong>([[name, version, bits, alg_bits], ...])  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the list of available ciphers for this context.  Note in a server context some ciphers require the appropriate certificates.  For example, an RSA cipher can only be chosen when an RSA certificate is available.</p>

<p>See also <a href="../Cipher.html" title="OpenSSL::Cipher (class)">::OpenSSL::Cipher</a> and <a href="../Cipher.html#ciphers-class_method" title="OpenSSL::Cipher.ciphers (method)">Cipher.ciphers</a></p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="client_ca-instance_method">
  <h3 class='signature rw'>
    #<strong>client_ca</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A certificate or Array of certificates that will be sent to the client.</p>

  </div>
</div>

</section>

<section class='method_details' id="client_cert_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>client_cert_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked when a client certificate is requested by a server and no certificate has been set.</p>

<p>The callback is invoked with a <a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a> and must return an Array containing an <a href="../X509/Certificate.html" title="OpenSSL::X509::Certificate (class)">::OpenSSL::X509::Certificate</a> and an <a href="../PKey.html" title="OpenSSL::PKey (module)">::OpenSSL::PKey</a>.  If any other value is returned the handshake is suspended.</p>

  </div>
</div>

</section>

<section class='method_details' id="extra_chain_cert-instance_method">
  <h3 class='signature rw'>
    #<strong>extra_chain_cert</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An Array of extra <a href="../X509.html" title="OpenSSL::X509 (module)">::OpenSSL::X509</a> certificates to be added to the certificate chain.</p>

  </div>
</div>

</section>

<section class='method_details' id="key-instance_method">
  <h3 class='signature rw'>
    #<strong>key</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Context private key</p>

  </div>
</div>

</section>

<section class='method_details' id="npn_protocols-instance_method">
  <h3 class='signature rw'>
    #<strong>npn_protocols</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An Enumerable of Strings. Each String represents a protocol to be advertised as the list of supported protocols for Next Protocol Negotiation. Supported in <a href="../../OpenSSL.html" title="OpenSSL (module)">::OpenSSL</a> 1.0.1 and higher. Has no effect on the client side. If not set explicitly, the NPN extension will not be sent by the server in the handshake.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ctx'>ctx</span>.<span class='id identifier rubyid_npn_protocols'>npn_protocols</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http/1.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>spdy/2</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

  </div>
</div>

</section>

<section class='method_details' id="npn_select_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>npn_select_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked on the client side when the client needs to select a protocol from the list sent by the server. Supported in <a href="../../OpenSSL.html" title="OpenSSL (module)">::OpenSSL</a> 1.0.1 and higher. The client MUST select a protocol of those advertised by the server. If none is acceptable, raising an error in the callback will cause the handshake to fail. Not setting this callback explicitly means not supporting the NPN extension on the client - any protocols advertised by the server will be ignored.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ctx'>ctx</span>.<span class='id identifier rubyid_npn_select_cb'>npn_select_cb</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_protocols'>protocols</span><span class='op'>|</span>
  <span class='comment'>#inspect the protocols and select one
</span>  <span class='id identifier rubyid_protocols'>protocols</span>.<span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>

</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature rw'>
    #<strong>options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets various <a href="../../OpenSSL.html" title="OpenSSL (module)">::OpenSSL</a> options.</p>

  </div>
</div>

</section>

<section class='method_details' id="renegotiation_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>renegotiation_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked whenever a new handshake is initiated. May be used to disable renegotiation entirely.</p>

<p>The callback is invoked with the active <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a>. The callback&#39;s return value is irrelevant, normal return indicates “approval” of the renegotiation and will continue the process. To forbid renegotiation and to cancel the process, an Error may be raised within the callback.</p>

<h4 id="label-Disable+client+renegotiation">Disable client renegotiation</h4>

<p>When running a server, it is often desirable to disable client renegotiation entirely. You may use a callback as follows to implement this feature:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_num_handshakes'>num_handshakes</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_ctx'>ctx</span>.<span class='id identifier rubyid_renegotiation_cb'>renegotiation_cb</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ssl'>ssl</span><span class='op'>|</span>
  <span class='id identifier rubyid_num_handshakes'>num_handshakes</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OpenSSL::SSL::SSLContext.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Client renegotiation disabled</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_num_handshakes'>num_handshakes</span> <span class='op'>&gt;</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>

</section>

<section class='method_details' id="servername_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>servername_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked at connect time to distinguish between multiple server names.</p>

<p>The callback is invoked with an <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> and a server name.  The callback must return an <code>SSLContext</code> for the server name or nil.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_cache_mode-instance_method">
  <h3 class='signature rw'>
    #<strong>session_cache_mode</strong>  &#x21d2; <a href="../../Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current session cache mode.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_cache_mode=-instance_method">
  <h3 class='signature rw'>
    #<strong>session_cache_mode=</strong>(integer)  &#x21d2; <a href="../../Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the <a href="../SSL.html" title="OpenSSL::SSL (module)">::OpenSSL::SSL</a> session cache mode.  Bitwise-or together the desired SESSION_CACHE_* constants to set.  See SSL_CTX_set_session_cache_mode(3) for details.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_cache_size-instance_method">
  <h3 class='signature rw'>
    #<strong>session_cache_size</strong>  &#x21d2; <a href="../../Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current session cache size.  Zero is used to represent an unlimited cache size.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_cache_size=-instance_method">
  <h3 class='signature rw'>
    #<strong>session_cache_size=</strong>(integer)  &#x21d2; <a href="../../Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the session cache size.  Returns the previously valid session cache size.  Zero is used to represent an unlimited session cache size.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_get_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>session_get_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked on a server when a session is proposed by the client but the session could not be found in the server&#39;s internal cache.</p>

<p>The callback is invoked with the <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> and session id.  The callback may return a <a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a> from an external cache.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_id_context-instance_method">
  <h3 class='signature rw'>
    #<strong>session_id_context</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the context in which a session can be reused.  This allows sessions for multiple applications to be distinguished, for example, by name.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_new_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>session_new_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked when a new session was negotiated.</p>

<p>The callback is invoked with an <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a>.  If false is returned the session will be removed from the internal cache.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_remove_cb-instance_method">
  <h3 class='signature rw'>
    #<strong>session_remove_cb</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked when a session is removed from the internal cache.</p>

<p>The callback is invoked with an <code>SSLContext</code> and a <a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="ssl_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#timeout-instance_method" title="OpenSSL::SSL::SSLContext#timeout (method)">#timeout</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="ssl_version=-instance_method">
  <h3 class='signature wo'>
    <div class='inline-block'>
      <span class='overload'>#<strong>ssl_version=</strong>(:TLSv1)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span></span>
      <span class='overload'>#<strong>ssl_version=</strong>(&quot;SSLv23_client&quot;)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>You can get a list of valid versions with <a href="#METHODS-constant" title="OpenSSL::SSL::SSLContext::METHODS (constant)">METHODS</a></p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#ssl_timeout</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Maximum session lifetime.</p>

  </div>
</div>

</section>

<section class='method_details' id="tmp_dh_callback-instance_method">
  <h3 class='signature rw'>
    #<strong>tmp_dh_callback</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback invoked when DH parameters are required.</p>

<p>The callback is invoked with the <a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a> for the key exchange, an flag indicating the use of an export cipher and the keylength required.</p>

<p>The callback must return an <a href="../PKey/DH.html" title="OpenSSL::PKey::DH (class)">::OpenSSL::PKey::DH</a> instance of the correct key length.</p>

  </div>
</div>

</section>

<section class='method_details' id="verify_callback-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_callback</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A callback for additional certificate verification.  The callback is invoked for each certificate in the chain.</p>

<p>The callback is invoked with two values.  <code>preverify_ok</code> indicates indicates if the verification was passed (true) or not (false). <code>store_context</code> is an <a href="../X509/StoreContext.html" title="OpenSSL::X509::StoreContext (class)">::OpenSSL::X509::StoreContext</a> containing the context used for certificate verification.</p>

<p>If the callback returns false verification is stopped.</p>

  </div>
</div>

</section>

<section class='method_details' id="verify_depth-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_depth</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Number of CA certificates to walk when verifying a certificate chain.</p>

  </div>
</div>

</section>

<section class='method_details' id="verify_mode-instance_method">
  <h3 class='signature rw'>
    #<strong>verify_mode</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="Session.html" title="OpenSSL::SSL::Session (class)">Session</a> verification mode.</p>

<p>Valid modes are VERIFY_NONE, VERIFY_PEER, VERIFY_CLIENT_ONCE, VERIFY_FAIL_IF_NO_PEER_CERT and defined on <a href="../SSL.html" title="OpenSSL::SSL (module)">::OpenSSL::SSL</a></p>

  </div>
</div>

</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="flush_sessions-instance_method">
  <h3 class='signature  first'>
    #<strong>flush_sessions</strong>(time | nil)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes sessions in the internal cache that have expired at <code>time</code>.</p>

  </div>
</div>

</section>

<section class='method_details' id="session_add-instance_method">
  <h3 class='signature '>
    #<strong>session_add</strong>(session)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds <code>session</code> to the session cache</p>

  </div>
</div>

</section>

<section class='method_details' id="session_cache_stats-instance_method">
  <h3 class='signature '>
    #<strong>session_cache_stats</strong>  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a Hash containing the following keys:</p>
<dl class="rdoc-list note-list"><dt>:accept
<dd>
<p>Number of started SSL/TLS handshakes in server mode</p>
</dd><dt>:accept_good
<dd>
<p>Number of established SSL/TLS sessions in server mode</p>
</dd><dt>:accept_renegotiate
<dd>
<p>Number of start renegotiations in server mode</p>
</dd><dt>:cache_full
<dd>
<p>Number of sessions that were removed due to cache overflow</p>
</dd><dt>:cache_hits
<dd>
<p>Number of successfully reused connections</p>
</dd><dt>:cache_misses
<dd>
<p>Number of sessions proposed by clients that were not found in the cache</p>
</dd><dt>:cache_num
<dd>
<p>Number of sessions in the internal session cache</p>
</dd><dt>:cb_hits
<dd>
<p>Number of sessions retrieved from the external cache in server mode</p>
</dd><dt>:connect
<dd>
<p>Number of started SSL/TLS handshakes in client mode</p>
</dd><dt>:connect_good
<dd>
<p>Number of established SSL/TLS sessions in client mode</p>
</dd><dt>:connect_renegotiate
<dd>
<p>Number of start renegotiations in client mode</p>
</dd><dt>:timeouts
<dd>
<p>Number of sessions proposed by clients that were found in the cache but had expired due to timeouts</p>
</dd></dl>

  </div>
</div>

</section>

<section class='method_details' id="session_remove-instance_method">
  <h3 class='signature '>
    #<strong>session_remove</strong>(session)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes <code>session</code> from the session cache</p>

  </div>
</div>

</section>

<section class='method_details' id="set_params-instance_method">
  <h3 class='signature '>
    #<strong>set_params</strong>(params = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the parameters for this <a href="../SSL.html" title="OpenSSL::SSL (module)">::OpenSSL::SSL</a> context to the values in <code>params</code>. The keys in <code>params</code> must be assignment methods on <code>SSLContext</code>.</p>

<p>If the verify_mode is not VERIFY_NONE and ca_file, ca_path and cert_store are not set then the system default certificate store is used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_2_10/ext/openssl/lib/openssl/ssl.rb#L85-L94'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='85' data-end='94'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/lib/openssl/ssl.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_params'>set_params</span>(<span class='id identifier rubyid_params'>params</span><span class='op'>=</span>{})
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_PARAMS-constant" title="OpenSSL::SSL::SSLContext::DEFAULT_PARAMS (constant)">DEFAULT_PARAMS</a></span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_params'>params</span>)
  <span class='id identifier rubyid_params'>params</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='kw'>self</span>.<span class='id identifier rubyid___send__'>__send__</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>) }
  <span class='kw'>if</span> <span class='kw'>self</span>.<span class='id identifier rubyid_verify_mode'><a href="#verify_mode-instance_method" title="OpenSSL::SSL::SSLContext#verify_mode (method)">verify_mode</a></span> <span class='op'>!=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../SSL.html" title="OpenSSL::SSL (module)">SSL</a></span><span class='op'>::</span><span class='const'>VERIFY_NONE</span>
    <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_ca_file'><a href="#ca_file-instance_method" title="OpenSSL::SSL::SSLContext#ca_file (method)">ca_file</a></span> <span class='kw'>or</span> <span class='kw'>self</span>.<span class='id identifier rubyid_ca_path'><a href="#ca_path-instance_method" title="OpenSSL::SSL::SSLContext#ca_path (method)">ca_path</a></span> <span class='kw'>or</span> <span class='kw'>self</span>.<span class='id identifier rubyid_cert_store'><a href="#cert_store-instance_method" title="OpenSSL::SSL::SSLContext#cert_store (method)">cert_store</a></span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_cert_store'><a href="#cert_store-instance_method" title="OpenSSL::SSL::SSLContext#cert_store (method)">cert_store</a></span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_CERT_STORE-constant" title="OpenSSL::SSL::SSLContext::DEFAULT_CERT_STORE (constant)">DEFAULT_CERT_STORE</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_params'>params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>setup</strong>  &#x21d2; <code>Qtrue</code> #<code>firstt</code> <code>time</code> </span>
      <span class='overload'>#<strong>setup</strong>  &#x21d2; <code>nil</code> #<code>thereafterr</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method is called automatically when a new <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> is created. However, it is not thread-safe and must be called before creating <a href="SSLSocket.html" title="OpenSSL::SSL::SSLSocket (class)">SSLSocket</a> objects in a multi-threaded program.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>