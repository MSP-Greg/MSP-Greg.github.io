<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Minitest &mdash; minitest  Ruby-2.2.10 p489</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Minitest",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a href='../../index.html'>Home</a> &raquo; 
      <a href='../index.html'>Ruby-2.2.10</a> &raquo; 
      <a href='index.html'>minitest</a> &raquo; 
      <a href='_index.html#alpha_M'>Index (M)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Minitest&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Minitest</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Minitest/Assertions.html" title="Minitest::Assertions (module)">Assertions</a>,
        <a href="Minitest/Expectations.html" title="Minitest::Expectations (module)">Expectations</a>,
        <a href="Minitest/Guard.html" title="Minitest::Guard (module)">Guard</a>,
        <a href="Minitest/Parallel.html" title="Minitest::Parallel (module)">Parallel</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Minitest/AbstractReporter.html" title="Minitest::AbstractReporter (class)">AbstractReporter</a>,
        <a href="Minitest/BenchSpec.html" title="Minitest::BenchSpec (class)">BenchSpec</a>,
        <a href="Minitest/Benchmark.html" title="Minitest::Benchmark (class)">Benchmark</a>,
        <a href="Minitest/CompositeReporter.html" title="Minitest::CompositeReporter (class)">CompositeReporter</a>,
        <a href="Minitest/Mock.html" title="Minitest::Mock (class)">Mock</a>,
        <a href="Minitest/PrideIO.html" title="Minitest::PrideIO (class)">PrideIO</a>,
        <a href="Minitest/PrideLOL.html" title="Minitest::PrideLOL (class)">PrideLOL</a>,
        <a href="Minitest/ProgressReporter.html" title="Minitest::ProgressReporter (class)">ProgressReporter</a>,
        <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">Runnable</a>,
        <a href="Minitest/Spec.html" title="Minitest::Spec (class)">Spec</a>,
        <a href="Minitest/SummaryReporter.html" title="Minitest::SummaryReporter (class)">SummaryReporter</a>,
        <a href="Minitest/Test.html" title="Minitest::Test (class)">Test</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="Minitest/Assertion.html" title="Minitest::Assertion (class)">Assertion</a>,
        <a href="Minitest/Skip.html" title="Minitest::Skip (class)">Skip</a>,
        <a href="Minitest/UnexpectedError.html" title="Minitest::UnexpectedError (class)">UnexpectedError</a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L9'>lib/minitest.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/assertions.rb#L5'>lib/minitest/assertions.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/benchmark.rb#L345'>lib/minitest/benchmark.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/benchmark.rb#L4'>lib/minitest/benchmark.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/mock.rb#L3'>lib/minitest/mock.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/parallel.rb#L1'>lib/minitest/parallel.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/pride_plugin.rb#L3'>lib/minitest/pride_plugin.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/test.rb#L3'>lib/minitest/test.rb</a>,<br/> <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest/unit.rb#L20'>lib/minitest/unit.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>=== minitest/<code>unit,spec,mock,benchmark</code><br/><br/>home :: https://github.com/seattlerb/minitest<br/>bugs :: https://github.com/seattlerb/minitest/issues<br/>rdoc :: http://docs.seattlerb.org/minitest<br/>vim  :: https://github.com/sunaku/vim-ruby-minitest<br/>emacs:: https://github.com/arthurnn/minitest-emacs<br/><br/>==== DESCRIPTION:<br/><br/>minitest provides a complete suite of testing facilities supporting<br/>TDD, BDD, mocking, and benchmarking.<br/><br/>    &quot;I had a class with Jim Weirich on testing last week and we were<br/>     allowed to choose our testing frameworks. Kirk Haines and I were<br/>     paired up and we cracked open the code for a few test<br/>     frameworks...<br/><br/>     I MUST say that minitest is *very* readable / understandable<br/>     compared to the &#39;other two&#39; options we looked at. Nicely done and<br/>     thank you for helping us keep our mental sanity.&quot;<br/><br/>    -- Wayne E. Seguin<br/><br/>minitest/unit is a small and incredibly fast unit testing framework.<br/>It provides a rich set of assertions to make your tests clean and<br/>readable.<br/><br/>minitest/spec is a functionally complete spec engine. It hooks onto<br/>minitest/unit and seamlessly bridges test assertions over to spec<br/>expectations.<br/><br/>minitest/benchmark is an awesome way to assert the performance of your<br/>algorithms in a repeatable manner. Now you can assert that your newb<br/>co-worker doesn&#39;t replace your linear algorithm with an exponential<br/>one!<br/><br/>minitest/mock by Steven Baker, is a beautifully tiny mock (and stub)<br/>object framework.<br/><br/>minitest/pride shows pride in testing and adds coloring to your test<br/>output. I guess it is an example of how to write IO pipes too. :P<br/><br/>minitest/unit is meant to have a clean implementation for language<br/>implementors that need a minimal set of methods to bootstrap a working<br/>test suite. For example, there is no magic involved for test-case<br/>discovery.<br/><br/>    &quot;Again, I can&#39;t praise enough the idea of a testing/specing<br/>     framework that I can actually read in full in one sitting!&quot;<br/><br/>    -- Piotr Szotkowski<br/><br/>Comparing to rspec:<br/><br/>    rspec is a testing DSL. minitest is ruby.<br/><br/>    -- Adam Hawkins, &quot;Bow Before MiniTest&quot;<br/><br/>minitest doesn&#39;t reinvent anything that ruby already provides, like:<br/>classes, modules, inheritance, methods. This means you only have to<br/>learn ruby to use minitest and all of your regular OO practices like<br/>extract-method refactorings still apply.<br/><br/>==== FEATURES/PROBLEMS:<br/><br/>* minitest/autorun - the easy and explicit way to run all your tests.<br/>* minitest/unit - a very fast, simple, and clean test system.<br/>* minitest/spec - a very fast, simple, and clean spec system.<br/>* minitest/mock - a simple and clean mock/stub system.<br/>* minitest/benchmark - an awesome way to assert your algorithm&#39;s performance.<br/>* minitest/pride - show your pride in testing!<br/>* Incredibly small and fast runner, but no bells and whistles.<br/><br/>==== RATIONALE:<br/><br/>See design_rationale.rb to see how specs and tests work in minitest.<br/><br/>==== SYNOPSIS:<br/><br/>Given that you&#39;d like to test the following class:<br/><br/>  class Meme<br/>    def i_can_has_cheezburger?<br/>      &quot;OHAI!&quot;<br/>    end<br/><br/>    def will_it_blend?<br/>      &quot;YES!&quot;<br/>    end<br/>  end<br/><br/>===== Unit tests<br/><br/>Define your tests as methods beginning with <code>test_</code>.<br/><br/>  require &quot;minitest/autorun&quot;<br/><br/>  class TestMeme &lt; Minitest::Test<br/>    def setup<br/>      @meme = Meme.new<br/>    end<br/><br/>    def test_that_kitty_can_eat<br/>      assert_equal &quot;OHAI!&quot;, @meme.i_can_has_cheezburger?<br/>    end<br/><br/>    def test_that_it_will_not_blend<br/>      refute_match /^no/i, @meme.will_it_blend?<br/>    end<br/><br/>    def test_that_will_be_skipped<br/>      skip &quot;test this later&quot;<br/>    end<br/>  end<br/><br/>===== Specs<br/><br/>  require &quot;minitest/autorun&quot;<br/><br/>  describe Meme do<br/>    before do<br/>      @meme = Meme.new<br/>    end<br/><br/>    describe &quot;when asked about cheeseburgers&quot; do<br/>      it &quot;must respond positively&quot; do<br/>        @meme.i_can_has_cheezburger?.must_equal &quot;OHAI!&quot;<br/>      end<br/>    end<br/><br/>    describe &quot;when asked about blending possibilities&quot; do<br/>      it &quot;won&#39;t say no&quot; do<br/>        @meme.will_it_blend?.wont_match /^no/i<br/>      end<br/>    end<br/>  end<br/><br/>For matchers support check out:<br/><br/>https://github.com/zenspider/minitest-matchers<br/><br/>===== Benchmarks<br/><br/>Add benchmarks to your tests.<br/><br/>  # optionally run benchmarks, good for CI-only work!<br/>  require &quot;minitest/benchmark&quot; if ENV[&quot;BENCH&quot;]<br/><br/>  class TestMeme &lt; Minitest::Benchmark<br/>    # Override self.bench_range or default range is [1, 10, 100, 1_000, 10_000]<br/>    def bench_my_algorithm<br/>      assert_performance_linear 0.9999 do |n| # n is a range value<br/>        @obj.my_algorithm(n)<br/>      end<br/>    end<br/>  end<br/><br/>Or add them to your specs. If you make benchmarks optional, you&#39;ll<br/>need to wrap your benchmarks in a conditional since the methods won&#39;t<br/>be defined. In minitest 5, the describe name needs to match<br/>/Bench(mark)?$/.<br/><br/>  describe &quot;Meme Benchmark&quot; do<br/>    if ENV[&quot;BENCH&quot;] then<br/>      bench_performance_linear &quot;my_algorithm&quot;, 0.9999 do |n|<br/>        100.times do<br/>          @obj.my_algorithm(n)<br/>        end<br/>      end<br/>    end<br/>  end<br/><br/>outputs something like:<br/><br/>  # Running benchmarks:<br/><br/>  TestBlah	100	1000	10000<br/>  bench_my_algorithm	 0.006167	 0.079279	 0.786993<br/>  bench_other_algorithm	 0.061679	 0.792797	 7.869932<br/><br/>Output is tab-delimited to make it easy to paste into a spreadsheet.<br/><br/>===== Mocks<br/><br/>  class MemeAsker<br/>    def initialize(meme)<br/>      @meme = meme<br/>    end<br/><br/>    def ask(question)<br/>      method = question.tr(&quot; &quot;,&quot;_&quot;) + &quot;?&quot;<br/>      @meme.__send__(method)<br/>    end<br/>  end<br/><br/>  require &quot;minitest/autorun&quot;<br/><br/>  describe MemeAsker do<br/>    before do<br/>      @meme = Minitest::Mock.new<br/>      @meme_asker = MemeAsker.new @meme<br/>    end<br/><br/>    describe &quot;#ask&quot; do<br/>      describe &quot;when passed an unpunctuated question&quot; do<br/>        it &quot;should invoke the appropriate predicate method on the meme&quot; do<br/>          @meme.expect :will_it_blend?, :return_value<br/>          @meme_asker.ask &quot;will it blend&quot;<br/>          @meme.verify<br/>        end<br/>      end<br/>    end<br/>  end<br/><br/>===== Stubs<br/><br/>  def test_stale_eh<br/>    obj_under_test = Something.new<br/><br/>    refute obj_under_test.stale?<br/><br/>    Time.stub :now, Time.at(0) do   # stub goes away once the block is done<br/>      assert obj_under_test.stale?<br/>    end<br/>  end<br/><br/>A note on stubbing: In order to stub a method, the method must<br/>actually exist prior to stubbing. Use a singleton method to create a<br/>new non-existing method:<br/><br/>  def obj_under_test.fake_method<br/>    ...<br/>  end<br/><br/>===== Running Your Tests<br/><br/>Ideally, you&#39;ll use a rake task to run your tests, either piecemeal or<br/>all at once. Both rake and rails ship with rake tasks for running your<br/>tests. BUT! You don&#39;t have to:<br/><br/>    % ruby -Ilib:test test/minitest/test_minitest_unit.rb <br/>    Run options: --seed 37685<br/><br/>    # Running:<br/><br/>    ...................................................................... (etc)<br/><br/>    Finished in 0.107130s, 1446.8403 runs/s, 2959.0217 assertions/s.<br/><br/>    155 runs, 317 assertions, 0 failures, 0 errors, 0 skips<br/><br/>There are runtime options available, both from minitest itself, and also<br/>provided via plugins. To see them, simply run with <code>--help</code>:<br/><br/>    % ruby -Ilib:test test/minitest/test_minitest_unit.rb --help<br/>    minitest options:<br/>        -h, --help                       Display this help.<br/>        -s, --seed SEED                  Sets random seed<br/>        -v, --verbose                    Verbose. Show progress processing files.<br/>        -n, --name PATTERN               Filter run on /pattern/ or string.<br/><br/>    Known extensions: pride, autotest<br/>        -p, --pride                      Pride. Show your testing pride!<br/>        -a, --autotest                   Connect to autotest server.<br/><br/>==== Writing Extensions<br/><br/>To define a plugin, add a file named minitest/XXX_plugin.rb to your<br/>project/gem. Minitest will find and require that file using<br/><code>Gem.find_files</code>. It will then try to call plugin_XXX_init during<br/>startup. The option processor will also try to call plugin_XXX_options<br/>passing the OptionParser instance and the current options hash. This<br/>lets you register your own command-line options. Here&#39;s a totally<br/>bogus example:<br/><br/>    # minitest/bogus_plugin.rb:<br/><br/>    module Minitest<br/>      def self.plugin_bogus_options(opts, options)<br/>        opts.on &quot;--myci&quot;, &quot;Report results to my CI&quot; do<br/>          options[:myci] = true<br/>          options[:myci_addr] = get_myci_addr<br/>          options[:myci_port] = get_myci_port<br/>        end<br/>      end<br/><br/>      def self.plugin_bogus_init(options)<br/>        self.reporter &lt;&lt; MyCI.new(options) if options[:myci]<br/>      end<br/>    end<br/><br/>===== Adding custom reporters<br/><br/>Minitest uses composite reporter to output test results using multiple<br/>reporter instances. You can add new reporters to the composite during<br/>the init_plugins phase. As we saw in <code>plugin_bonus_init</code> above, you<br/>simply add your reporter instance to the composite via <code><<</code>.<br/><br/><a href="Minitest/AbstractReporter.html" title="Minitest::AbstractReporter (class)">AbstractReporter</a> defines the API for reporters. You may subclass it<br/>and override any method you want to achieve your desired behavior.<br/><br/>start   :: Called when the run has started.<br/>record  :: Called for each result, passed or otherwise.<br/>report  :: Called at the end of the run.<br/>passed? :: Called to see if you detected any problems.<br/><br/>Using our example above, here is how we might implement MyCI:<br/><br/>    # minitest/bogus_plugin.rb<br/><br/>    module Minitest<br/>      class MyCI &lt; AbstractReporter<br/>        attr_accessor :results, :addr, :port<br/><br/>        def initialize options<br/>          self.results = []<br/>          self.addr = options[:myci_addr]<br/>          self.port = options[:myci_port]<br/>        end<br/><br/>        def record result<br/>          self.results &lt;&lt; result<br/>        end<br/><br/>        def report<br/>          CI.connect(addr, port).send_results self.results<br/>        end<br/>      end<br/>    end<br/><br/>==== FAQ<br/><br/>===== How to test SimpleDelegates?<br/><br/>The following implementation and test:<br/><br/>    class Worker &lt; SimpleDelegator<br/>      def work<br/>      end<br/>    end<br/><br/>    describe Worker do<br/>      before do<br/>        @worker = Worker.new(Object.new)<br/>      end<br/><br/>      it &quot;must respond to work&quot; do<br/>        @worker.must_respond_to :work<br/>      end<br/>    end<br/><br/>outputs a failure:<br/><br/>      1) Failure:<br/>    Worker#test_0001_must respond to work [bug11.rb:16]:<br/>    Expected #&lt;Object:0x007f9e7184f0a0&gt; (Object) to respond to #work.<br/><br/>Worker is a SimpleDelegate which in 1.9+ is a subclass of BasicObject.<br/>Expectations are put on Object (one level down) so the Worker<br/>(SimpleDelegate) hits <code>method_missing</code> and delegates down to the<br/><code>Object.new</code> instance. That object doesn&#39;t respond to work so the test<br/>fails.<br/><br/>You can bypass <code>SimpleDelegate#method_missing</code> by extending the worker<br/>with <a href="Minitest/Expectations.html" title="Minitest::Expectations (module)">Expectations</a>. You can either do that in your setup at<br/>the instance level, like:<br/><br/>    before do<br/>      @worker = Worker.new(Object.new)<br/>      @worker.extend Minitest::Expectations<br/>    end<br/><br/>or you can extend the Worker class (within the test file!), like:<br/><br/>    class Worker<br/>      include ::Minitest::Expectations<br/>    end<br/><br/>===== How to share code across test classes?<br/><br/>Use a module. That&#39;s exactly what they&#39;re for:<br/><br/>    module UsefulStuff<br/>      def useful_method<br/>        # ...<br/>      end<br/>    end<br/><br/>    describe Blah do<br/>      include UsefulStuff<br/><br/>      def test_whatever<br/>        # useful_method available here<br/>      end<br/>    end<br/><br/>Remember, <code>describe</code> simply creates test classes. It&#39;s just ruby at<br/>the end of the day and all your normal Good Ruby Rules (tm) apply. If<br/>you want to extend your test using setup/teardown via a module, just<br/>make sure you ALWAYS call super. before/after automatically call super<br/>for you, so make sure you don&#39;t do it twice.<br/><br/>==== Prominent Projects using Minitest:<br/><br/>* arel<br/>* journey<br/>* mime-types<br/>* nokogiri<br/>* rails (active_support et al)<br/>* rake<br/>* rdoc<br/>* ...and of course, everything from seattle.rb...<br/><br/>==== Known Extensions:<br/><br/>capybara_minitest_spec      :: Bridge between Capybara RSpec matchers and<br/>                               Minitest::Spec expectations (e.g.<br/>                               page.must_have_content(&quot;Title&quot;)).<br/>minispec-metadata           :: Metadata for describe/it blocks<br/>                               (e.g. `it &quot;requires JS driver&quot;, js: true do`)<br/>minitest-ansi               :: Colorize minitest output with ANSI colors.<br/>minitest-around             :: Around block for minitest. An alternative to<br/>                               setup/teardown dance.<br/>minitest-bang               :: Adds support for RSpec-style let! to immediately<br/>                               invoke let statements before each test.<br/>minitest-bisect             :: Helps you isolate and debug random test failures.<br/>minitest-capistrano         :: Assertions and expectations for testing<br/>                               Capistrano recipes.<br/>minitest-capybara           :: Capybara matchers support for minitest unit and<br/>                               spec.<br/>minitest-chef-handler       :: Run Minitest suites as Chef report handlers<br/>minitest-ci                 :: CI reporter plugin for Minitest.<br/>minitest-colorize           :: Colorize Minitest output and show failing tests<br/>                               instantly.<br/>minitest-context            :: Defines contexts for code reuse in Minitest<br/>                               specs that share common expectations.<br/>minitest-debugger           :: Wraps assert so failed assertions drop into<br/>                               the ruby debugger.<br/>minitest-display            :: Patches Minitest to allow for an easily<br/>                               configurable output.<br/>minitest-documentation      :: Minimal documentation format inspired by rspec&#39;s.<br/>minitest-doc_reporter       :: Detailed output inspired by rspec&#39;s documentation<br/>                               format.<br/>minitest-emoji              :: Print out emoji for your test passes, fails, and<br/>                               skips.<br/>minitest-english            :: Semantically symmetric aliases for assertions and<br/>                               expectations.<br/>minitest-excludes           :: Clean API for excluding certain tests you<br/>                               don&#39;t want to run under certain conditions.<br/>minitest-filesystem         :: Adds assertion and expectation to help testing<br/>                               filesystem contents.<br/>minitest-firemock           :: Makes your Minitest mocks more resilient.<br/>minitest-great_expectations :: Generally useful additions to minitest&#39;s<br/>                               assertions and expectations.<br/>minitest-growl              :: Test notifier for minitest via growl.<br/>minitest-implicit-subject   :: Implicit declaration of the test subject.<br/>minitest-instrument         :: Instrument <code>ActiveSupport::Notifications</code> when<br/>                               test method is executed.<br/>minitest-instrument-db      :: Store information about speed of test execution<br/>                               provided by minitest-instrument in database.<br/>minitest-libnotify          :: Test notifier for minitest via libnotify.<br/>minitest-line               :: Run test at line number.<br/>minitest-macruby            :: Provides extensions to minitest for macruby UI<br/>                               testing.<br/>minitest-matchers           :: Adds support for RSpec-style matchers to<br/>                               minitest.<br/>minitest-metadata           :: Annotate tests with metadata (key-value).<br/>minitest-mongoid            :: Mongoid assertion matchers for Minitest.<br/>minitest-must_not           :: Provides must_not as an alias for wont in<br/>                               Minitest.<br/>minitest-nc                 :: Test notifier for minitest via Mountain Lion&#39;s<br/>                               Notification Center.<br/>minitest-parallel-db        :: Run tests in parallel with a single database.<br/>minitest-power_assert       :: PowerAssert for Minitest.<br/>minitest-predicates         :: Adds support for <code>.predicate?</code> methods.<br/>minitest-rails              :: Minitest integration for Rails 3.x.<br/>minitest-rails-capybara     :: Capybara integration for <code>Minitest::Rails</code>.<br/>minitest-reporters          :: Create customizable Minitest output formats.<br/>minitest-rg                 :: Colored red/green output for Minitest.<br/>minitest-rspec_mocks        :: Use RSpec Mocks with Minitest.<br/>minitest-should_syntax      :: RSpec-style +x.should == y+ assertions for<br/>                               Minitest.<br/>minitest-shouldify          :: Adding all manner of shoulds to Minitest (bad<br/>                               idea)<br/>minitest-spec-context       :: Provides rspec-ish context method to<br/>                               Minitest::Spec.<br/>minitest-spec-expect        :: Expect syntax for <a href="Minitest/Spec.html" title="Minitest::Spec (class)">Spec</a> (e.g.<br/>                               expect(sequences).to_include :celery_man).<br/>minitest-spec-magic         :: <a href="Minitest/Spec.html" title="Minitest::Spec (class)">Spec</a> extensions for Rails and beyond.<br/>minitest-spec-rails         :: Drop in <a href="Minitest/Spec.html" title="Minitest::Spec (class)">Spec</a> superclass for<br/>                               ActiveSupport::TestCase.<br/>minitest-stately            :: Find leaking state between tests<br/>minitest-stub_any_instance  :: Stub any instance of a method on the given class<br/>                               for the duration of a block.<br/>minitest-stub-const         :: Stub constants for the duration of a block.<br/>minitest-tags               :: Add tags for minitest.<br/>minitest-vcr                :: Automatic cassette managment with <a href="Minitest/Spec.html" title="Minitest::Spec (class)">Spec</a><br/>                               and VCR.<br/>minitest-wscolor            :: Yet another test colorizer.<br/>minitest_owrapper           :: Get tests results as a TestResult object.<br/>minitest_should             :: Shoulda style syntax for minitest test::unit.<br/>minitest_tu_shim            :: Bridges between test/unit and minitest.<br/>mongoid-minitest            :: Minitest matchers for Mongoid.<br/>pry-rescue                  :: A pry plugin w/ minitest support. See<br/>                               pry-rescue/minitest.rb.<br/>rspec2minitest              :: Easily translate any RSpec matchers to Minitest<br/>                               assertions and expectations.<br/><br/>==== Unknown Extensions:<br/><br/>Authors... Please send me a pull request with a description of your minitest extension.<br/><br/>* assay-minitest<br/>* detroit-minitest<br/>* em-minitest-spec<br/>* flexmock-minitest<br/>* guard-minitest<br/>* guard-minitest-decisiv<br/>* minitest-activemodel<br/>* minitest-ar-assertions<br/>* minitest-capybara-unit<br/>* minitest-colorer<br/>* minitest-deluxe<br/>* minitest-extra-assertions<br/>* minitest-rails-shoulda<br/>* minitest-spec<br/>* minitest-spec-should<br/>* minitest-sugar<br/>* minitest_should<br/>* mongoid-minitest<br/>* spork-minitest<br/><br/>==== REQUIREMENTS:<br/><br/>* Ruby 1.8.7+. No magic is involved. I hope.<br/><br/>==== INSTALL:<br/><br/>  sudo gem install minitest<br/><br/>On 1.9, you already have it. To get newer candy you can still install<br/>the gem, and then requiring &quot;minitest/autorun&quot; should automatically<br/>pull it in. If not, you&#39;ll need to do it yourself:<br/><br/>  gem &quot;minitest&quot;     # ensures you&quot;re using the gem, and not the built-in MT<br/>  require &quot;minitest/autorun&quot;<br/><br/>  # ... usual testing stuffs ...<br/><br/>DO NOTE: There is a serious problem with the way that ruby 1.9/2.0<br/>packages their own gems. They install a gem specification file, but<br/>don&#39;t install the gem contents in the gem path. This messes up<br/><code>Gem.find_files</code> and many other things (gem which, gem contents, etc).<br/><br/>Just install minitest as a gem for real and you&#39;ll be happier.<br/><br/>==== LICENSE:<br/><br/>(The MIT License)<br/><br/>Copyright (c) Ryan Davis, seattle.rb<br/><br/>Permission is hereby granted, free of charge, to any person obtaining<br/>a copy of this software and associated documentation files (the<br/>&#39;Software&#39;), to deal in the Software without restriction, including<br/>without limitation the rights to use, copy, modify, merge, publish,<br/>distribute, sublicense, and/or sell copies of the Software, and to<br/>permit persons to whom the Software is furnished to do so, subject to<br/>the following conditions:<br/><br/>The above copyright notice and this permission notice shall be<br/>included in all copies or substantial portions of the Software.<br/><br/>THE SOFTWARE IS PROVIDED &#39;AS IS&#39;, WITHOUT WARRANTY OF ANY KIND,<br/>EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF<br/>MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.<br/>IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY<br/>CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,<br/>TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE<br/>SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#__run-class_method" title=".__run (class method)">.<strong>__run</strong>(reporter, options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal run method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_run-class_method" title=".after_run (class method)">.<strong>after_run</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A simple hook allowing you to run a block of code after everything is done running.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#autorun-class_method" title=".autorun (class method)">.<strong>autorun</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers Minitest to run at process exit.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run-class_method" title=".run (class method)">.<strong>run</strong>(args = [])  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is the top-level run method.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#attr_accessor-instance_method" title="#attr_accessor (instance method)">#<strong>attr_accessor</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="Minitest/Parallel.html" title="Minitest::Parallel (module)">Parallel</a> test executor.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="__run-class_method">
  <h3 class='signature  first'>
    .<strong>__run</strong>(reporter, options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal run method. Responsible for telling all <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">::Minitest::Runnable</a> sub-classes to run.</p>

<p>NOTE: this method is redefined in parallel_each.rb, which is loaded if a <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">::Minitest::Runnable</a> calls parallelize_me!.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L141-L152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='152'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid___run'>__run</span> <span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_suites'>suites</span> <span class='op'>=</span> <span class='const'><a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">Runnable</a></span>.<span class='id identifier rubyid_runnables'><a href="Minitest/Runnable.html#runnables-class_method" title="Minitest::Runnable.runnables (method)">runnables</a></span>.<span class='id identifier rubyid_shuffle'>shuffle</span>
  <span class='id identifier rubyid_parallel'>parallel</span><span class='comma'>,</span> <span class='id identifier rubyid_serial'>serial</span> <span class='op'>=</span> <span class='id identifier rubyid_suites'>suites</span>.<span class='id identifier rubyid_partition'>partition</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_test_order'>test_order</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parallel'>parallel</span> }

  <span class='comment'># If we run the parallel tests before the serial tests, the parallel tests
</span>  <span class='comment'># could run in parallel with the serial tests. This would be bad because
</span>  <span class='comment'># the serial tests won&#39;t lock around Reporter#record. Run the serial tests
</span>  <span class='comment'># first, so that after they complete, the parallel tests will lock when
</span>  <span class='comment'># recording results.
</span>  <span class='id identifier rubyid_serial'>serial</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid_suite'>suite</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> } <span class='op'>+</span>
    <span class='id identifier rubyid_parallel'>parallel</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid_suite'>suite</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_run-class_method">
  <h3 class='signature '>
    .<strong>after_run</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A simple hook allowing you to run a block of code after everything is done running. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Minitest</span>.<span class='id identifier rubyid_after_run'>after_run</span> { <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$debugging_info</span> }</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L67-L69'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='69'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_after_run'>after_run</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='cvar'>@@after_run</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="autorun-class_method">
  <h3 class='signature '>
    .<strong>autorun</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers Minitest to run at process exit</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L45-L59'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='59'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_autorun'>autorun</span>
  <span class='id identifier rubyid_at_exit'>at_exit</span> {
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='gvar'>$!</span> <span class='kw'>and</span> <span class='kw'>not</span> (<span class='gvar'>$!</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>SystemExit</span> <span class='kw'>and</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_success?'>success?</span>)

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_at_exit'>at_exit</span> {
      <span class='cvar'>@@after_run</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>)
      <span class='id identifier rubyid_exit'>exit</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>||</span> <span class='kw'>false</span>
    }

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='const'>Minitest</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="Minitest.run (method)">run</a></span> <span class='const'>ARGV</span>
  } <span class='kw'>unless</span> <span class='cvar'>@@installed_at_exit</span>
  <span class='cvar'>@@installed_at_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-class_method">
  <h3 class='signature '>
    .<strong>run</strong>(args = [])  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is the top-level run method. Everything starts from here. It tells each <a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">::Minitest::Runnable</a> sub-class to run, and each of those are responsible for doing whatever they do.</p>

<p>The overall structure of a run looks like this:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Minitest</span>.<span class='id identifier rubyid_autorun'><a href="#autorun-class_method" title="Minitest.autorun (method)">autorun</a></span>
  <span class='const'>Minitest</span>.<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_args'>args</span>)
    <span class='const'>Minitest</span>.<span class='id identifier rubyid___run'><a href="#__run-class_method" title="Minitest.__run (method)">__run</a></span>(<span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
      <span class='const'><a href="Minitest/Runnable.html" title="Minitest::Runnable (class)">Runnable</a></span>.<span class='id identifier rubyid_runnables'><a href="Minitest/Runnable.html#runnables-class_method" title="Minitest::Runnable.runnables (method)">runnables</a></span>.<span class='id identifier rubyid_each'>each</span>
        <span class='id identifier rubyid_runnable'>runnable</span>.<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
          <span class='kw'>self</span>.<span class='id identifier rubyid_runnable_methods'>runnable_methods</span>.<span class='id identifier rubyid_each'>each</span>
            <span class='kw'>self</span>.<span class='id identifier rubyid_run_one_method'><a href="#run_one_method-class_method" title="Minitest.run_one_method (method)">run_one_method</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_runnable_method'>runnable_method</span><span class='comma'>,</span> <span class='id identifier rubyid_reporter'>reporter</span>)
              <span class='const'>Minitest</span>.<span class='id identifier rubyid_run_one_method'><a href="#run_one_method-class_method" title="Minitest.run_one_method (method)">run_one_method</a></span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_runnable_method'>runnable_method</span><span class='comma'>,</span> <span class='id identifier rubyid_reporter'>reporter</span>)
                <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_runnable_method'>runnable_method</span>).<span class='id identifier rubyid_run'>run</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L113-L132'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='113' data-end='132'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_run'>run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []
  <span class='kw'>self</span>.<span class='id identifier rubyid_load_plugins'><a href="#load_plugins-class_method" title="Minitest.load_plugins (method)">load_plugins</a></span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_process_args'><a href="#process_args-class_method" title="Minitest.process_args (method)">process_args</a></span> <span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>=</span> <span class='const'><a href="Minitest/CompositeReporter.html" title="Minitest::CompositeReporter (class)">CompositeReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/CompositeReporter.html#new-class_method" title="Minitest::CompositeReporter.new (method)">new</a></span>
  <span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Minitest/SummaryReporter.html" title="Minitest::SummaryReporter (class)">SummaryReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/StatisticsReporter.html#new-class_method" title="Minitest::StatisticsReporter.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span>]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Minitest/ProgressReporter.html" title="Minitest::ProgressReporter (class)">ProgressReporter</a></span>.<span class='id identifier rubyid_new'><a href="Minitest/Reporter.html#new-class_method" title="Minitest::Reporter.new (method)">new</a></span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_io'>io</span>]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)

  <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>=</span> <span class='id identifier rubyid_reporter'>reporter</span> <span class='comment'># this makes it available to plugins
</span>  <span class='kw'>self</span>.<span class='id identifier rubyid_init_plugins'><a href="#init_plugins-class_method" title="Minitest.init_plugins (method)">init_plugins</a></span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='comment'># runnables shouldn&#39;t depend on the reporter, ever
</span>
  <span class='id identifier rubyid_reporter'>reporter</span>.<span class='id identifier rubyid_start'>start</span>
  <span class='id identifier rubyid___run'><a href="#__run-class_method" title="Minitest.__run (method)">__run</a></span> <span class='id identifier rubyid_reporter'>reporter</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_parallel_executor'>parallel_executor</span>.<span class='id identifier rubyid_shutdown'>shutdown</span>
  <span class='id identifier rubyid_reporter'>reporter</span>.<span class='id identifier rubyid_report'>report</span>

  <span class='id identifier rubyid_reporter'>reporter</span>.<span class='id identifier rubyid_passed?'>passed?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="attr_accessor-instance_method">
  <h3 class='signature  first'>
    #<strong>attr_accessor</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="Minitest/Parallel.html" title="Minitest::Parallel (module)">::Minitest::Parallel</a> test executor</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.4.3/lib/minitest.rb#L22-L22'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='22' data-end='22'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest.rb', line 22</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mc'>mc</span>.<span class='id identifier rubyid_send'>send</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attr_accessor'>attr_accessor</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parallel_executor'>parallel_executor</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>