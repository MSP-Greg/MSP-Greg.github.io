<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Action View Helpers &mdash; Rails 8-0-stable</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "action_view_helpers",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Rails 8-0-stable</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Action View Helpers&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1>Action View Helpers</h1>

<p>After reading this guide, you will know:</p>

<ul>
<li>How to format dates, strings, and numbers.</li>
<li>How to work with text and tags.</li>
<li>How to link to images, videos, stylesheets, etc.</li>
<li>How to work with Atom feeds and JavaScript in the views.</li>
<li>How to cache, capture, debug and sanitize content.</li>
</ul>

<hr>

<p>The following outlines <strong>some of the most commonly used helpers</strong> available in
Action View. It serves as a good starting point, but reviewing the full <a href="https://api.rubyonrails.org/classes/ActionView/Helpers.html">API
Documentation</a> is
also recommended, as it covers all of the helpers in more detail.</p>

<h2>Formatting</h2>

<h3>Dates</h3>

<p>These helpers facilitate the display of date and/or time elements as contextual
human readable forms.</p>

<h4>distance_of_time_in_words</h4>

<p>Reports the approximate distance in time between two <a href="Time.html" title="Time (class)"><code>Time</code></a> or <a href="Date.html" title="Date (class)"><code>Date</code></a> objects or
integers as seconds. Set <code>include_seconds</code> to true if you want more detailed
approximations.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_distance_of_time_in_words'>distance_of_time_in_words</span>(<span class='const'><a href="Time.html" title="Time (class)">Time</a></span>.<span class='id identifier rubyid_current'><a href="Time.html#current-class_method" title="Time.current (method)">current</a></span><span class='comma'>,</span> <span class='int'>15</span>.<span class='id identifier rubyid_seconds'>seconds</span>.<span class='id identifier rubyid_from_now'>from_now</span>)
<span class='comment'># =&gt; less than a minute
</span><span class='id identifier rubyid_distance_of_time_in_words'>distance_of_time_in_words</span>(<span class='const'><a href="Time.html" title="Time (class)">Time</a></span>.<span class='id identifier rubyid_current'><a href="Time.html#current-class_method" title="Time.current (method)">current</a></span><span class='comma'>,</span> <span class='int'>15</span>.<span class='id identifier rubyid_seconds'>seconds</span>.<span class='id identifier rubyid_from_now'>from_now</span><span class='comma'>,</span> <span class='label'>include_seconds:</span> <span class='kw'>true</span>)
<span class='comment'># =&gt; less than 20 seconds</span></code></pre>

<p>NOTE: We use <a href="Time.html#current-class_method" title="Time.current (method)">Time.current</a> instead of <code>Time.now</code> because it returns the current
time based on the timezone set in Rails, whereas <code>Time.now</code> returns a Time
object based on the server&#39;s timezone.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#method-i-distance_of_time_in_words"><code>distance_of_time_in_words</code> API
Documentation</a>
for more information.</p>

<h4>time_ago_in_words</h4>

<p>Reports the approximate distance in time between a <a href="Time.html" title="Time (class)"><code>Time</code></a> or <a href="Date.html" title="Date (class)"><code>Date</code></a> object, or
integer as seconds,  and <a href="Time.html#current-class_method" title="Time.current (method)">Time.current</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span>(<span class='int'>3</span>.<span class='id identifier rubyid_minutes'>minutes</span>.<span class='id identifier rubyid_from_now'>from_now</span>) <span class='comment'># =&gt; 3 minutes</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/DateHelper.html#method-i-time_ago_in_words"><code>time_ago_in_words</code> API
Documentation</a>
for more information.</p>

<h3>Numbers</h3>

<p>A set of methods for converting numbers into formatted strings. Methods are
provided for phone numbers, currency, percentage, precision, positional
notation, and file size.</p>

<h4>number_to_currency</h4>

<p>Formats a number into a currency string (e.g., $13.65).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_to_currency'>number_to_currency</span>(<span class='float'>1234567890.50</span>) <span class='comment'># =&gt; $1,234,567,890.50</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_currency"><code>number_to_currency</code> API
Documentation</a>
for more information.</p>

<h4>number_to_human</h4>

<p>Pretty prints (formats and approximates) a number so it is more readable by
users; useful for numbers that can get very large.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_to_human'>number_to_human</span>(<span class='int'>1234</span>)    <span class='comment'># =&gt; 1.23 Thousand
</span><span class='id identifier rubyid_number_to_human'>number_to_human</span>(<span class='int'>1234567</span>) <span class='comment'># =&gt; 1.23 Million</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_human"><code>number_to_human</code> API
Documentation</a>
for more information.</p>

<h4>number_to_human_size</h4>

<p>Formats the bytes in size into a more understandable representation; useful for
reporting file sizes to users.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_to_human_size'>number_to_human_size</span>(<span class='int'>1234</span>)    <span class='comment'># =&gt; 1.21 KB
</span><span class='id identifier rubyid_number_to_human_size'>number_to_human_size</span>(<span class='int'>1234567</span>) <span class='comment'># =&gt; 1.18 MB</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_human_size"><code>number_to_human_size</code> API
Documentation</a>
for more information.</p>

<h4>number_to_percentage</h4>

<p>Formats a number as a percentage string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_to_percentage'>number_to_percentage</span>(<span class='int'>100</span><span class='comma'>,</span> <span class='label'>precision:</span> <span class='int'>0</span>) <span class='comment'># =&gt; 100%</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_percentage"><code>number_to_percentage</code> API
Documentation</a>
for more information.</p>

<h4>number_to_phone</h4>

<p>Formats a number into a phone number (US by default).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_to_phone'>number_to_phone</span>(<span class='int'>1235551234</span>) <span class='comment'># =&gt; 123-555-1234</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_to_phone"><code>number_to_phone</code> API
Documentation</a>
for more information.</p>

<h4>number_with_delimiter</h4>

<p>Formats a number with grouped thousands using a delimiter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_with_delimiter'>number_with_delimiter</span>(<span class='int'>12345678</span>) <span class='comment'># =&gt; 12,345,678</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_with_delimiter"><code>number_with_delimiter</code> API
Documentation</a>
for more information.</p>

<h4>number_with_precision</h4>

<p>Formats a number with the specified level of <code>precision</code>, which defaults to 3.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number_with_precision'>number_with_precision</span>(<span class='float'>111.2345</span>)               <span class='comment'># =&gt; 111.235
</span><span class='id identifier rubyid_number_with_precision'>number_with_precision</span>(<span class='float'>111.2345</span><span class='comma'>,</span> <span class='label'>precision:</span> <span class='int'>2</span>) <span class='comment'># =&gt; 111.23</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_with_precision"><code>number_with_precision</code> API
Documentation</a>
for more information.</p>

<h3>Text</h3>

<p>A set of methods for filtering, formatting and transforming strings.</p>

<h4>excerpt</h4>

<p>Given a <code>text</code> and a <code>phrase</code>, <code>excerpt</code> searches for and extracts the first
occurrence of the <code>phrase</code>, plus the requested surrounding text determined by a
<code>radius</code>. An omission marker is prepended/appended if the start/end of the
result does not coincide with the start/end of the text.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is a very beautiful morning</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>very</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>1</span>)
<span class='comment'># =&gt; ...a very beautiful...
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is also an example</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>an</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>8</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;chop&gt; </span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; &lt;chop&gt; is also an example</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-excerpt"><code>excerpt</code> API
Documentation</a>
for more information.</p>

<h4>pluralize</h4>

<p>Returns the singular or plural form of a word based on the value of a number.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; 1 person
</span><span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; 2 people
</span><span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>plural:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>users</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; 3 users</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-pluralize"><code>pluralize</code> API
Documentation</a>
for more information.</p>

<h4>truncate</h4>

<p>Truncates a given <code>text</code> to a given <code>length</code>. If the text is truncated, an
omission marker will be appended to the result for a total length not exceeding
<code>length</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;Once upon a time in a world...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>17</span>)
<span class='comment'># =&gt; &quot;Once upon a ti...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>one-two-three-four-five</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>20</span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;one-two-three...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>And they found that many people were sleeping better.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>... (continued)</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;And they f... (continued)&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>escape:</span> <span class='kw'>false</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;Once upon a time in a wo...&quot;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-truncate"><code>truncate</code> API
Documentation</a>
for more information.</p>

<h4>word_wrap</h4>

<p>Wraps the text into lines no longer than <code>line_width</code> width.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>8</span>)
<span class='comment'># =&gt; &quot;Once\nupon a\ntime&quot;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-word_wrap"><code>word_wrap</code> API
Documentation</a>
for more information.</p>

<h2>Forms</h2>

<p>Form helpers simplify working with models compared to using standard HTML
elements alone. They offer a range of methods tailored to generating forms based
on your models. Some methods correspond to a specific type of input, such as
text fields, password fields, select dropdowns, and more. When a form is
submitted, the inputs within the form are grouped into the params object and
sent back to the controller.</p>

<p>You can learn more about form helpers in the <a href="form_helpers.html">Action View Form Helpers
Guide</a>.</p>

<h2>Navigation</h2>

<p>A set of methods to build links and URLs that depend on the routing subsystem.</p>

<h3>button_to</h3>

<p>Generates a form that submits to the passed URL. The form has a submit button
with the value of the <code>name</code>.</p>

<pre class="code xml"><code class="xml">&lt;%= button_to &quot;Sign in&quot;, sign_in_path %&gt;
</code></pre>

<p>would output the following HTML:</p>

<pre class="code xml"><code class="xml">&lt;form method=&quot;post&quot; action=&quot;/sessions&quot; class=&quot;button_to&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Sign in&quot; /&gt;
&lt;/form&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-button_to"><code>button_to</code> API
Documentation</a>
for more information.</p>

<h3>current_page?</h3>

<p>Returns true if the current request URL matches the given <code>options</code>.</p>

<pre class="code xml"><code class="xml">&lt;% if current_page?(controller: &#39;profiles&#39;, action: &#39;show&#39;) %&gt;
  &lt;strong&gt;Currently on the profile page&lt;/strong&gt;
&lt;% end %&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-current_page-3F"><code>current_page?</code> API
Documentation</a>
for more information.</p>

<h3>link_to</h3>

<p>Links to a URL derived from <code>url_for</code> under the hood. It&#39;s commonly used to
create links for RESTful resources, especially when passing models as arguments
to <code>link_to</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@profile</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Book</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@book</span> <span class='comment'># given a composite primary key [:author_id, :id]
</span><span class='comment'># =&gt; &lt;a href=&quot;/books/2_1&quot;&gt;Book&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_profiles_path'>profiles_path</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://example.com</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;https://example.com&quot;&gt;https://example.com&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_articles_path'>articles_path</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article__container</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article__container&quot; id=&quot;articles&quot;&gt;Articles&lt;/a&gt;</span></code></pre>

<p>You can use a block if your link target can&#39;t fit in the name parameter.</p>

<pre class="code xml"><code class="xml">&lt;%= link_to @profile do %&gt;
  &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;% end %&gt;
</code></pre>

<p>It would output the following HTML:</p>

<pre class="code xml"><code class="xml">&lt;a href=&quot;/profiles/1&quot;&gt;
  &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;/a&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to"><code>link_to</code> API
Documentation</a>
for more information.</p>

<h3>mail_to</h3>

<p>Generates a <code>mailto</code> link tag to the specified email address. You can also
specify the link text, additional HTML options, and whether to encode the email
address.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>john_doe@gmail.com</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;mailto:john_doe@gmail.com&quot;&gt;john_doe@gmail.com&lt;/a&gt;
</span>
<span class='id identifier rubyid_mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@john_doe.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>cc:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@jane_doe.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>subject:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is an example email</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;mailto:&quot;me@john_doe.com?cc=me@jane_doe.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;&quot;me@john_doe.com&lt;/a&gt;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-mail_to"><code>mail_to</code> API
Documentation</a>
for more information.</p>

<h3>url_for</h3>

<p>Returns the URL for the set of <code>options</code> provided.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_url_for'>url_for</span> <span class='ivar'>@profile</span>
<span class='comment'># =&gt; /profiles/1
</span>
<span class='id identifier rubyid_url_for'>url_for</span> [ <span class='ivar'>@hotel</span><span class='comma'>,</span> <span class='ivar'>@booking</span><span class='comma'>,</span> <span class='label'>page:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>line:</span> <span class='int'>3</span> ]
<span class='comment'># =&gt; /hotels/1/bookings/1?line=3&amp;page=2
</span>
<span class='id identifier rubyid_url_for'>url_for</span> <span class='ivar'>@post</span> <span class='comment'># given a composite primary key [:blog_id, :id]
</span><span class='comment'># =&gt; /posts/1_2</span></code></pre>

<h2>Sanitization</h2>

<p>A set of methods for scrubbing text of undesired HTML elements. The helpers are
particularly useful for helping to ensure that only safe and valid HTML/CSS is
rendered. It can also be useful to prevent XSS attacks by escaping or removing
potentially malicious content from user input before rendering it in your views.</p>

<p>This functionality is powered internally by the
<a href="https://github.com/rails/rails-html-sanitizer">rails-html-sanitizer</a> gem.</p>

<h3>sanitize</h3>

<p>The <code>sanitize</code> method will HTML encode all tags and strip all attributes that
aren&#39;t specifically allowed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sanitize'>sanitize</span> <span class='ivar'>@article</span>.<span class='id identifier rubyid_body'>body</span></code></pre>

<p>If either the <code>:attributes</code> or <code>:tags</code> options are passed, only the mentioned
attributes and tags are allowed and nothing else.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sanitize'>sanitize</span> <span class='ivar'>@article</span>.<span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='label'>tags:</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>table</span><span class='words_sep'> </span><span class='tstring_content'>tr</span><span class='words_sep'> </span><span class='tstring_content'>td</span><span class='tstring_end'>)</span></span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>id</span><span class='words_sep'> </span><span class='tstring_content'>class</span><span class='words_sep'> </span><span class='tstring_content'>style</span><span class='tstring_end'>)</span></span></code></pre>

<p>To change defaults for multiple uses, for example, adding table tags to the
default:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># config/application.rb
</span><span class='kw'>class</span> <span class='const'>Application</span> <span class='op'>&lt;</span> <span class='const'><a href="Rails.html" title="Rails (module)">Rails</a></span><span class='op'>::</span><span class='const'><a href="Rails/Application.html" title="Rails::Application (class)">Application</a></span>
  <span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_action_view'>action_view</span>.<span class='id identifier rubyid_sanitized_allowed_tags'>sanitized_allowed_tags</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>table</span><span class='words_sep'> </span><span class='tstring_content'>tr</span><span class='words_sep'> </span><span class='tstring_content'>td</span><span class='tstring_end'>)</span></span>
<span class='kw'>end</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#method-i-sanitize"><code>sanitize</code> API
Documentation</a>
for more information.</p>

<h3>sanitize_css</h3>

<p>Sanitizes a block of CSS code, particularly when it comes across a style
attribute in HTML content. <code>sanitize_css</code> is particularly useful when dealing
with user-generated content or dynamic content that includes style attributes.</p>

<p>The <code>sanitize_css</code> method below will remove the styles that are not allowed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sanitize_css'>sanitize_css</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>background-color: red; color: white; font-size: 16px;</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#method-i-sanitize_css"><code>sanitize_css</code> API
Documentation</a>
for more information.</p>

<h3>strip_links</h3>

<p>Strips all link tags from text leaving just the link text.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a href=&#39;https://rubyonrails.org&#39;&gt;Ruby on Rails&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Ruby on Rails
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>emails to &lt;a href=&#39;mailto:me@email.com&#39;&gt;me@email.com&lt;/a&gt;.</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; emails to me@email.com.
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Blog: &lt;a href=&#39;http://myblog.com/&#39;&gt;Visit&lt;/a&gt;.</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Blog: Visit.</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#method-i-strip_links"><code>strip_links</code> API
Documentation</a>
for more information.</p>

<h3>strip_tags</h3>

<p>Strips all HTML tags from the HTML, including comments and special characters.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Strip &lt;i&gt;these&lt;/i&gt; tags!</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Strip these tags!
</span>
<span class='id identifier rubyid_strip_tags'>strip_tags</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;b&gt;Bold&lt;/b&gt; no more! &lt;a href=&#39;more.html&#39;&gt;See more&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; Bold no more! See more
</span>
<span class='id identifier rubyid_strip_links'>strip_links</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;a href=&quot;https://example.org&quot;&gt;malformed &amp; link&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &amp;lt;malformed &amp;amp; link</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#method-i-strip_tags"><code>strip_tags</code> API
Documentation</a>
for more information.</p>

<h2>Assets</h2>

<p>A set of methods for generating HTML that links views to assets such as images,
JavaScript files, stylesheets, and feeds.</p>

<p>By default, Rails links to these assets on the current host in the public
folder, but you can direct Rails to link to assets from a dedicated assets
server by setting <a href="configuring.html#config-asset-host"><code>config.asset_host</code></a> in the application configuration,
typically in <code>config/environments/production.rb</code>.</p>

<p>For example, let&#39;s say your asset host is <code>assets.example.com</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_asset_host'>asset_host</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>assets.example.com</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>then the corresponding URL for an <code>image_tag</code> would be:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_image_tag'>image_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rails.png</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;img src=&quot;//assets.example.com/images/rails.png&quot; /&gt;</span></code></pre>

<h3>audio_tag</h3>

<p>Generates an HTML audio tag with source(s), either as a single tag for a string
source or nested source tags within an array for multiple sources. The <code>sources</code>
can be full paths, files in your public audios directory, or <a href="active_storage_overview.html">Active Storage
attachments</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_audio_tag'>audio_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sound</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;audio src=&quot;/audios/sound&quot;&gt;&lt;/audio&gt;
</span>
<span class='id identifier rubyid_audio_tag'>audio_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sound.wav</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sound.mid</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;audio&gt;&lt;source src=&quot;/audios/sound.wav&quot; /&gt;&lt;source src=&quot;/audios/sound.mid&quot; /&gt;&lt;/audio&gt;
</span>
<span class='id identifier rubyid_audio_tag'>audio_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sound</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controls:</span> <span class='kw'>true</span>)
<span class='comment'># =&gt; &lt;audio controls=&quot;controls&quot; src=&quot;/audios/sound&quot;&gt;&lt;/audio&gt;</span></code></pre>

<p>INFO: Internally, <code>audio_tag</code> uses <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html#method-i-audio_path"><code>audio_path</code> from the
AssetUrlHelpers</a>
to build the audio path.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-audio_tag"><code>audio_tag</code> API
Documentation</a>
for more information.</p>

<h3>auto_discovery_link_tag</h3>

<p>Returns a link tag that browsers and feed readers can use to auto-detect an RSS,
Atom, or JSON feed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_auto_discovery_link_tag'>auto_discovery_link_tag</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_rss'>rss</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.example.com/feed.rss</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> { <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RSS Feed</span><span class='tstring_end'>&quot;</span></span> })
<span class='comment'># =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS Feed&quot; href=&quot;http://www.example.com/feed.rss&quot; /&gt;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-auto_discovery_link_tag"><code>auto_discovery_link_tag</code> API
Documentation</a>
for more information.</p>

<h3>favicon_link_tag</h3>

<p>Returns a link tag for a favicon managed by the asset pipeline. The <code>source</code> can
be a full path or a file that exists in your assets directory.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_favicon_link_tag'>favicon_link_tag</span>
<span class='comment'># =&gt; &lt;link href=&quot;/assets/favicon.ico&quot; rel=&quot;icon&quot; type=&quot;image/x-icon&quot; /&gt;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-favicon_link_tag"><code>favicon_link_tag</code> API
Documentation</a>
for more information.</p>

<h3>image_tag</h3>

<p>Returns an HTML image tag for the source. The <code>source</code> can be a full path or a
file that exists in your <code>app/assets/images</code> directory.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_image_tag'>image_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon.png</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;img src=&quot;/assets/icon.png&quot; /&gt;
</span>
<span class='id identifier rubyid_image_tag'>image_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>size:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>16x10</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>alt:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Edit Article</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;img src=&quot;/assets/icon.png&quot; width=&quot;16&quot; height=&quot;10&quot; alt=&quot;Edit Article&quot; /&gt;</span></code></pre>

<p>INFO: Internally, <code>image_tag</code> uses <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html#method-i-image_path"><code>image_path</code> from the
AssetUrlHelpers</a>
to build the image path.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-image_tag"><code>image_tag</code> API
Documentation</a>
for more information.</p>

<h3>javascript_include_tag</h3>

<p>Returns an HTML script tag for each of the sources provided. You can pass in the
filename (<code>.js</code> extension is optional) of JavaScript files that exist in your
<code>app/assets/javascripts</code> directory for inclusion into the current page, or you
can pass the full path relative to your document root.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_javascript_include_tag'>javascript_include_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>common</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;script src=&quot;/assets/common.js&quot;&gt;&lt;/script&gt;
</span>
<span class='id identifier rubyid_javascript_include_tag'>javascript_include_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>common</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>async:</span> <span class='kw'>true</span>)
<span class='comment'># =&gt; &lt;script src=&quot;/assets/common.js&quot; async=&quot;async&quot;&gt;&lt;/script&gt;</span></code></pre>

<p>Some of the most common attributes are <code>async</code> and <code>defer</code>, where <code>async</code> will
allow the script to be loaded in parallel to be parsed and evaluated as soon as
possible, and <code>defer</code> will indicate that the script is meant to be executed
after the document has been parsed.</p>

<p>INFO: Internally, <code>javascript_include_tag</code> uses <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html#method-i-javascript_path"><code>javascript_path</code> from the
AssetUrlHelpers</a>
to build the script path.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-javascript_include_tag"><code>javascript_include_tag</code> API
Documentation</a>
for more information.</p>

<h3>picture_tag</h3>

<p>Returns an HTML picture tag for the source. It supports passing a String, an
Array, or a Block.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_picture_tag'>picture_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon.webp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon.png</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p>This generates the following HTML:</p>

<pre class="code xml"><code class="xml">&lt;picture&gt;
  &lt;source srcset=&quot;/assets/icon.webp&quot; type=&quot;image/webp&quot; /&gt;
  &lt;source srcset=&quot;/assets/icon.png&quot; type=&quot;image/png&quot; /&gt;
  &lt;img src=&quot;/assets/icon.png&quot; /&gt;
&lt;/picture&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-picture_tag"><code>picture_tag</code> API
Documentation</a>
for more information.</p>

<h3>preload_link_tag</h3>

<p>Returns a link tag that browsers can use to preload the source. The source can
be the path of a resource managed by the asset pipeline, a full path, or a URI.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_preload_link_tag'>preload_link_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application.css</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/assets/application.css&quot; as=&quot;style&quot; type=&quot;text/css&quot; /&gt;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-preload_link_tag"><code>preload_link_tag</code> API
Documentation</a>
for more information.</p>

<h3>stylesheet_link_tag</h3>

<p>Returns a stylesheet link tag for the sources specified as arguments. If you
don&#39;t specify an extension, <code>.css</code> will be appended automatically.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_stylesheet_link_tag'>stylesheet_link_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;link href=&quot;/assets/application.css&quot; rel=&quot;stylesheet&quot; /&gt;
</span>
<span class='id identifier rubyid_stylesheet_link_tag'>stylesheet_link_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>media:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;link href=&quot;/assets/application.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; /&gt;</span></code></pre>

<p><code>media</code> is used to specify the media type for the link. The most common media
types are <code>all</code>, <code>screen</code>, <code>print</code>, and <code>speech</code>.</p>

<p>INFO: Internally, <code>stylesheet_link_tag</code> uses <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html#method-i-stylesheet_path"><code>stylesheet_path</code> from the
AssetUrlHelpers</a>
to build the stylesheet path.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-stylesheet_link_tag"><code>stylesheet_link_tag</code> API
Documentation</a>
for more information.</p>

<h3>video_tag</h3>

<p>Generate an HTML video tag with source(s), either as a single tag for a string
source or nested source tags within an array for multiple sources. The <code>sources</code>
can be full paths, files in your public videos directory, or Active Storage
attachments.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_video_tag'>video_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trailer</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;video src=&quot;/videos/trailer&quot;&gt;&lt;/video&gt;
</span>
<span class='id identifier rubyid_video_tag'>video_tag</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trailer.ogg</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trailer.flv</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'># =&gt; &lt;video&gt;&lt;source src=&quot;/videos/trailer.ogg&quot; /&gt;&lt;source src=&quot;/videos/trailer.flv&quot; /&gt;&lt;/video&gt;
</span>
<span class='id identifier rubyid_video_tag'>video_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trailer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controls:</span> <span class='kw'>true</span>)
<span class='comment'># =&gt; &lt;video controls=&quot;controls&quot; src=&quot;/videos/trailer&quot;&gt;&lt;/video&gt;</span></code></pre>

<p>INFO: Internally, <code>video_tag</code> uses <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html#method-i-video_path"><code>video_path</code> from the
AssetUrlHelpers</a>
to build the video path.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-video_tag"><code>video_tag</code> API
Documentation</a>
for more information.</p>

<h2>JavaScript</h2>

<p>A set of methods for working with JavaScript in your views.</p>

<h3>escape_javascript</h3>

<p>Escapes carriage returns and single and double quotes for JavaScript segments.
You would use this method to take a string of text and make sure that it doesn’t
contain any invalid characters when the browser tries to parse it.</p>

<p>For example, if you have a partial with a greeting that contains double quotes,
you can escape the greeting to use in a JavaScript alert.</p>

<pre class="code html+erb"><code class="html+erb">&lt;%# app/views/users/greeting.html.erb %&gt;
My name is &lt;%= current_user.name %&gt;, and I&#39;m here to say &quot;Welcome to our website!&quot;
</code></pre>

<pre class="code xml"><code class="xml">&lt;script&gt;
  var greeting = &quot;&lt;%= escape_javascript render(&#39;users/greeting&#39;) %&gt;&quot;;
  alert(`Hello, ${greeting}`);
&lt;/script&gt;
</code></pre>

<p>This will escape the quotes correctly and display the greeting in an alert box.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/JavaScriptHelper.html#method-i-escape_javascript"><code>escape_javascript</code> API
Documentation</a>
for more information.</p>

<h3>javascript_tag</h3>

<p>Returns a JavaScript tag wrapping the provided code. You can pass a hash of
options to control the behavior of the <code>&lt;script&gt;</code> tag.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_javascript_tag'>javascript_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>alert(&#39;All is good&#39;)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/javascript</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<pre class="code xml"><code class="xml">&lt;script type=&quot;application/javascript&quot;&gt;
//&lt;![CDATA[
alert(&#39;All is good&#39;)
//]]&gt;
&lt;/script&gt;
</code></pre>

<p>Instead of passing the content as an argument, you can also use a block.</p>

<pre class="code xml"><code class="xml">&lt;%= javascript_tag type: &quot;application/javascript&quot; do %&gt;
  alert(&quot;Welcome to my app!&quot;)
&lt;% end %&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/JavaScriptHelper.html#method-i-javascript_tag"><code>javascript_tag</code> API
Documentation</a>
for more information.</p>

<h2>Alternative Tags</h2>

<p>A set of methods to generate HTML tags programmatically.</p>

<h3>tag</h3>

<p>Generates a standalone HTML tag with the given <code>name</code> and <code>options</code>.</p>

<p>Every tag can be built with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_some_tag_name'>some_tag_name</span>(<span class='id identifier rubyid_optional'>optional</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)</code></pre>

<p>where tag name can be e.g. <code>br</code>, <code>div</code>, <code>section</code>, <code>article</code>, or any tag really.</p>

<p>For example, here are some common uses:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_h1'>h1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>All titles fit to print</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;h1&gt;All titles fit to print&lt;/h1&gt;
</span>
<span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_div'>div</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;div&gt;Hello, world!&lt;/div&gt;</span></code></pre>

<p>Additionally, you can pass options to add attributes to the generated tag.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_section'>section</span> <span class='label'>class:</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='words_sep'> </span><span class='tstring_content'>kitties</span><span class='words_sep'> </span><span class='tstring_content'>puppies</span><span class='words_sep'> </span><span class='tstring_end'>)</span></span>
<span class='comment'># =&gt; &lt;section class=&quot;kitties puppies&quot;&gt;&lt;/section&gt;</span></code></pre>

<p>In addition, HTML <code>data-*</code> attributes can be passed to the <code>tag</code> helper using
the <code>data</code> option, with a hash containing key-value pairs of sub-attributes. The
sub-attributes are then converted to <code>data-*</code> attributes that are dasherized in
order to work well with JavaScript.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_div'>div</span> <span class='label'>data:</span> { <span class='label'>user_id:</span> <span class='int'>123</span> }
<span class='comment'># =&gt; &lt;div data-user-id=&quot;123&quot;&gt;&lt;/div&gt;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag"><code>tag</code> API
Documentation</a>
for more information.</p>

<h3>token_list</h3>

<p>Returns a string of tokens built from the arguments provided. This method is
also aliased as <code>class_names</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_token_list'>token_list</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cats</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dogs</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;cats dogs&quot;
</span>
<span class='id identifier rubyid_token_list'>token_list</span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> { <span class='label'>bar:</span> <span class='kw'>true</span> })
<span class='comment'># =&gt; &quot;123 foo bar&quot;
</span>
<span class='id identifier rubyid_mobile'>mobile</span><span class='comma'>,</span> <span class='id identifier rubyid_alignment'>alignment</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>center</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_token_list'>token_list</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flex items-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alignment'>alignment</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flex-col</span><span class='label_end'>&quot;:</span> <span class='id identifier rubyid_mobile'>mobile</span>)
<span class='comment'># =&gt; &quot;flex items-center flex-col&quot;
</span><span class='id identifier rubyid_class_names'>class_names</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flex items-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alignment'>alignment</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flex-col</span><span class='label_end'>&quot;:</span> <span class='id identifier rubyid_mobile'>mobile</span>) <span class='comment'># using the alias
</span><span class='comment'># =&gt; &quot;flex items-center flex-col&quot;</span></code></pre>

<h2>Capture Blocks</h2>

<p>A set of methods to let you extract generated markup which can be used in other
parts of a template or layout file.</p>

<p>It provides a method to capture blocks into variables through <code>capture</code>, and a
way to capture a block of markup for use in a layout through <code>content_for</code>.</p>

<h3>capture</h3>

<p>The <code>capture</code> method allows you to extract part of a template into a variable.</p>

<pre class="code xml"><code class="xml">&lt;% @greeting = capture do %&gt;
  &lt;p&gt;Welcome! The date and time is &lt;%= Time.current %&gt;&lt;/p&gt;
&lt;% end %&gt;
</code></pre>

<p>You can then use this variable anywhere in your templates, layouts, or helpers.</p>

<pre class="code xml"><code class="xml">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Welcome!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= @greeting %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>The return of capture is the string generated by the block.</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@greeting</span>
<span class='comment'># =&gt; &quot;Welcome! The date and time is 2018-09-06 11:09:16 -0500&quot;</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/CaptureHelper.html#method-i-capture"><code>capture</code> API
Documentation</a>
for more information.</p>

<h3>content_for</h3>

<p>Calling <code>content_for</code> stores a block of markup in an identifier for later use.
You can make subsequent calls to the stored content in other templates, helper
modules or the layout by passing the identifier as an argument to <code>yield</code>.</p>

<p>A common use case is to set the title of a page in a <code>content_for</code> block.</p>

<p>You define a <code>content_for</code> block in the special page&#39;s view, and then you
<code>yield</code> it within the layout. For other pages, where the <code>content_for</code> block
isn&#39;t utilized, it remains empty, resulting in nothing being yielded.</p>

<pre class="code xml"><code class="xml">&lt;%# app/views/users/special_page.html.erb %&gt;
&lt;% content_for(:html_title) { &quot;Special Page Title&quot; } %&gt;
</code></pre>

<pre class="code xml"><code class="xml">&lt;%# app/views/layouts/application.html.erb %&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;%= content_for?(:html_title) ? yield(:html_title) : &quot;Default Title&quot; %&gt;&lt;/title&gt;
  &lt;/head&gt;
&lt;/html&gt;
</code></pre>

<p>You&#39;ll notice that in the above example, we use the <code>content_for?</code> predicate
method to conditionally render a title. This method checks whether any content
has been captured yet using <code>content_for</code>, enabling you to adjust parts of your
layout based on the content within your views.</p>

<p>Additionally, you can employ <code>content_for</code> within a helper module.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># app/helpers/title_helper.rb
</span><span class='kw'>module</span> <span class='const'>TitleHelper</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_html_title'>html_title</span>
    <span class='id identifier rubyid_content_for'>content_for</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_html_title'>html_title</span>) <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default Title</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Now, you can call <code>html_title</code> in your layout to retrieve the content stored in
the <code>content_for</code> block. If a <code>content_for</code> block is set on the page being
rendered, such as in the case of the <code>special_page</code>, it will display the title.
Otherwise, it will display the default text &quot;Default Title&quot;.</p>

<p>WARNING: <code>content_for</code> is ignored in caches. So you shouldn’t use it for
elements that will be fragment cached.</p>

<p>NOTE: You may be thinking what&#39;s the difference between <code>capture</code> and
<code>content_for</code>? <br><br>
<code>capture</code> is used to capture a block of markup in a variable, while
<code>content_for</code> is used to store a block of markup in an identifier for later use.
Internally <code>content_for</code> actually calls <code>capture</code>. However, the key difference
lies in their behavior when invoked multiple times.<br><br>
<code>content_for</code> can be called repeatedly, concatenating the blocks it receives for
a specific identifier in the order they are provided. Each subsequent call
simply adds to what&#39;s already stored. In contrast, <code>capture</code> only returns the
content of the block, without keeping track of any previous invocations.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/CaptureHelper.html#method-i-content_for"><code>content_for</code> API
Documentation</a>
for more information.</p>

<h2>Performance</h2>

<h3>benchmark</h3>

<p>Wrap a <code>benchmark</code> block around expensive operations or possible bottlenecks to
get a time reading for the operation.</p>

<pre class="code xml"><code class="xml">&lt;% benchmark &quot;Process data files&quot; do %&gt;
  &lt;%= expensive_files_operation %&gt;
&lt;% end %&gt;
</code></pre>

<p>This would add something like <code>Process data files (0.34523)</code> to the log, which
you can then use to compare timings when optimizing your code.</p>

<p>NOTE: This helper is a part of Active Support, and it is also available on
controllers, helpers, models, etc.</p>

<p>See the <a href="https://api.rubyonrails.org/classes/ActiveSupport/Benchmarkable.html#method-i-benchmark"><code>benchmark</code> API
Documentation</a>
for more information.</p>

<h3>cache</h3>

<p>You can cache fragments of a view rather than an entire action or page. This
technique is useful for caching pieces like menus, lists of news topics, static
HTML fragments, and so on. It allows a fragment of view logic to be wrapped in a
cache block and served out of the cache store when the next request comes in.</p>

<p>The <code>cache</code> method takes a block that contains the content you wish to cache.</p>

<p>For example, you could cache the footer of your application layout by wrapping
it in a <code>cache</code> block.</p>

<pre class="code xml"><code class="xml">&lt;% cache do %&gt;
  &lt;%= render &quot;application/footer&quot; %&gt;
&lt;% end %&gt;
</code></pre>

<p>You could also cache based on model instances, for example, you can cache each
article on a page by passing the <code>article</code> object to the <code>cache</code> method. This
would cache each article separately.</p>

<pre class="code xml"><code class="xml">&lt;% @articles.each do |article| %&gt;
  &lt;% cache article do %&gt;
    &lt;%= render article %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<p>When your application receives its first request to this page, Rails will write
a new cache entry with a unique key. A key looks something like this:</p>

<pre class="code irb"><code class="irb">views/articles/index:bea67108094918eeba32cd4a6f786301/articles/1
</code></pre>

<p>See <a href="caching_with_rails.html#fragment-caching"><code>Fragment Caching</code></a> and the
<a href="https://api.rubyonrails.org/classes/ActionView/Helpers/CacheHelper.html#method-i-cache"><code>cache</code> API
Documentation</a>
for more information.</p>

<h2>Miscellaneous</h2>

<h3>atom_feed</h3>

<p>Atom Feeds are XML-based file formats used to syndicate content and can be used
by users in feed readers to browse content or by search engines to help discover
additional information about your site.</p>

<p>This helper makes building an Atom feed easy, and is mostly used in Builder
templates for creating XML. Here&#39;s a full usage example:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># config/routes.rb
</span><span class='id identifier rubyid_resources'>resources</span> <span class='symbeg'>:</span><span class='id identifier rubyid_articles'>articles</span></code></pre>

<pre class="code ruby"><code class="ruby"><span class='comment'># app/controllers/articles_controller.rb
</span><span class='kw'>def</span> <span class='id identifier rubyid_index'>index</span>
  <span class='ivar'>@articles</span> <span class='op'>=</span> <span class='const'>Article</span>.<span class='id identifier rubyid_all'>all</span>

  <span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
    <span class='id identifier rubyid_format'>format</span>.<span class='id identifier rubyid_html'>html</span>
    <span class='id identifier rubyid_format'>format</span>.<span class='id identifier rubyid_atom'>atom</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<pre class="code ruby"><code class="ruby"><span class='comment'># app/views/articles/index.atom.builder
</span><span class='id identifier rubyid_atom_feed'>atom_feed</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_feed'>feed</span><span class='op'>|</span>
  <span class='id identifier rubyid_feed'>feed</span>.<span class='id identifier rubyid_title'>title</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles Index</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_feed'>feed</span>.<span class='id identifier rubyid_updated'>updated</span>(<span class='ivar'>@articles</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_created_at'>created_at</span>)

  <span class='ivar'>@articles</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_article'>article</span><span class='op'>|</span>
    <span class='id identifier rubyid_feed'>feed</span>.<span class='id identifier rubyid_entry'>entry</span>(<span class='id identifier rubyid_article'>article</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
      <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_title'>title</span>(<span class='id identifier rubyid_article'>article</span>.<span class='id identifier rubyid_title'>title</span>)
      <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_content'>content</span>(<span class='id identifier rubyid_article'>article</span>.<span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html</span><span class='tstring_end'>&quot;</span></span>)

      <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_author'>author</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_author'>author</span><span class='op'>|</span>
        <span class='id identifier rubyid_author'>author</span>.<span class='id identifier rubyid_name'>name</span>(<span class='id identifier rubyid_article'>article</span>.<span class='id identifier rubyid_author_name'>author_name</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/AtomFeedHelper.html#method-i-atom_feed"><code>atom_feed</code> API
Documentation</a>
for more information.</p>

<h3>debug</h3>

<p>Returns a YAML representation of an object wrapped with a <code>pre</code> tag. This
creates a very readable way to inspect an object.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_hash'>my_hash</span> <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>first</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>second</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>third</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>] }
<span class='id identifier rubyid_debug'>debug</span>(<span class='id identifier rubyid_my_hash'>my_hash</span>)</code></pre>

<pre class="code xml"><code class="xml">&lt;pre class=&quot;debug_dump&quot;&gt;---
first: 1
second: two
third:
- 1
- 2
- 3
&lt;/pre&gt;
</code></pre>

<p>See the <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/DebugHelper.html#method-i-debug"><code>debug</code> API
Documentation</a>
for more information.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>