<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper &mdash; Rails 8-0-stable</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Rails 8-0-stable</a> &raquo; 
      <a href='../../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a> &raquo; 
        <a href="../../SystemTesting.html" title="ActionDispatch::SystemTesting (module)">SystemTesting</a> &raquo; 
        <a href="../TestHelpers.html" title="ActionDispatch::SystemTesting::TestHelpers (module)">TestHelpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>ScreenshotHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../../SystemTestCase.html" title="ActionDispatch::SystemTestCase (class)"><code>::ActionDispatch::SystemTestCase</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L9'>actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Screenshot helper for system testing.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw priv'>
      <a href="#_screenshot_counter-instance_method" title="#_screenshot_counter (instance method)">#<strong>_screenshot_counter</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#failed%3F-instance_method" title="#failed? (instance method)">#<strong>failed?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#html_from_env%3F-instance_method" title="#html_from_env? (instance method)">#<strong>html_from_env?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#supports_screenshot%3F-instance_method" title="#supports_screenshot? (instance method)">#<strong>supports_screenshot?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#take_failed_screenshot-instance_method" title="#take_failed_screenshot (instance method)">#<strong>take_failed_screenshot</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Takes a screenshot of the current page in the browser if the test failed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#take_screenshot-instance_method" title="#take_screenshot (instance method)">#<strong>take_screenshot</strong>(html: false, screenshot: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Takes a screenshot of the current page in the browser.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#absolute_html_path-instance_method" title="#absolute_html_path (instance method)">#<strong>absolute_html_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#absolute_image_path-instance_method" title="#absolute_image_path (instance method)">#<strong>absolute_image_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#absolute_path-instance_method" title="#absolute_path (instance method)">#<strong>absolute_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#display_image-instance_method" title="#display_image (instance method)">#<strong>display_image</strong>(html:, screenshot_output:)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#html_path-instance_method" title="#html_path (instance method)">#<strong>html_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#image_name-instance_method" title="#image_name (instance method)">#<strong>image_name</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#image_path-instance_method" title="#image_path (instance method)">#<strong>image_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#increment_unique-instance_method" title="#increment_unique (instance method)">#<strong>increment_unique</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#inline_base64-instance_method" title="#inline_base64 (instance method)">#<strong>inline_base64</strong>(path)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#output_type-instance_method" title="#output_type (instance method)">#<strong>output_type</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#relative_image_path-instance_method" title="#relative_image_path (instance method)">#<strong>relative_image_path</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#save_html-instance_method" title="#save_html (instance method)">#<strong>save_html</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#save_image-instance_method" title="#save_image (instance method)">#<strong>save_image</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#screenshots_dir-instance_method" title="#screenshots_dir (instance method)">#<strong>screenshots_dir</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#show-instance_method" title="#show (instance method)">#<strong>show</strong>(img)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#unique-instance_method" title="#unique (instance method)">#<strong>unique</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="_screenshot_counter-instance_method">
  <h3 class='signature rw priv first'>
    #<strong>_screenshot_counter</strong>   <span class="extras">(<span class='rw'>rw</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L61-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='61' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__screenshot_counter'>_screenshot_counter</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="failed?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>failed?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L154-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='154' data-end='156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 154</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_failed?'>failed?</span>
  <span class='op'>!</span><span class='id identifier rubyid_passed?'>passed?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_skipped?'>skipped?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html_from_env?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>html_from_env?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L63-L65'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='65'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_html_from_env?'>html_from_env?</span>
  <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RAILS_SYSTEM_TESTING_SCREENSHOT_HTML</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="supports_screenshot?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>supports_screenshot?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L158-L160'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='158' data-end='160'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_supports_screenshot?'>supports_screenshot?</span>
  <span class='const'>Capybara</span>.<span class='id identifier rubyid_current_driver'>current_driver</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_rack_test'>rack_test</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="absolute_html_path-instance_method">
  <h3 class='signature priv first'>
    #<strong>absolute_html_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L106-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='106' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_absolute_html_path'>absolute_html_path</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_absolute_path'><a href="#absolute_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_path (method)">absolute_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.html</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="absolute_image_path-instance_method">
  <h3 class='signature priv'>
    #<strong>absolute_image_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L98-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_absolute_image_path'>absolute_image_path</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_absolute_path'><a href="#absolute_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_path (method)">absolute_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.png</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="absolute_path-instance_method">
  <h3 class='signature priv'>
    #<strong>absolute_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L90-L92'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='90' data-end='92'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 90</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_absolute_path'>absolute_path</span>
  <span class='const'><a href="../../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_root'><a href="../../../Rails.html#root-class_method" title="Rails.root (method)">root</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_screenshots_dir'><a href="#screenshots_dir-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#screenshots_dir (method)">screenshots_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_image_name'><a href="#image_name-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#image_name (method)">image_name</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="display_image-instance_method">
  <h3 class='signature priv'>
    #<strong>display_image</strong>(html:, screenshot_output:)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L134-L148'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='134' data-end='148'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 134</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_display_image'>display_image</span>(<span class='label'>html:</span><span class='comma'>,</span> <span class='label'>screenshot_output:</span>)
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[Screenshot Image]: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_image_path'><a href="#image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#image_path (method)">image_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[Screenshot HTML]: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_html_path'><a href="#html_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#html_path (method)">html_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_html'>html</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_screenshot_output'>screenshot_output</span> <span class='op'>||</span> <span class='id identifier rubyid_output_type'><a href="#output_type-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#output_type (method)">output_type</a></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>artifact</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e]1338;url=artifact://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_absolute_image_path'><a href="#absolute_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_image_path (method)">absolute_image_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\a\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inline</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_inline_base64'><a href="#inline_base64-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#inline_base64 (method)">inline_base64</a></span>(<span class='const'><a href="../../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_absolute_image_path'><a href="#absolute_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_image_path (method)">absolute_image_path</a></span>))
    <span class='id identifier rubyid_image'>image</span> <span class='op'>=</span> <span class='id identifier rubyid_inline_base64'><a href="#inline_base64-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#inline_base64 (method)">inline_base64</a></span>(<span class='const'><a href="../../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_absolute_image_path'><a href="#absolute_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_image_path (method)">absolute_image_path</a></span>))
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e]1337;File=name=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>;height=400px;inline=1:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_image'>image</span><span class='embexpr_end'>}</span><span class='tstring_content'>\a\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html_path-instance_method">
  <h3 class='signature priv'>
    #<strong>html_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L86-L88'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='86' data-end='88'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 86</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_html_path'>html_path</span>
  <span class='id identifier rubyid_absolute_html_path'><a href="#absolute_html_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_html_path (method)">absolute_html_path</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="image_name-instance_method">
  <h3 class='signature priv'>
    #<strong>image_name</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L76-L80'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='80'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_image_name'>image_name</span>
  <span class='id identifier rubyid_sanitized_method_name'>sanitized_method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_method_name'>method_name</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[^\w]+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unique'><a href="#unique-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#unique (method)">unique</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sanitized_method_name'>sanitized_method_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_name'>name</span>[<span class='int'>0</span><span class='op'>...</span><span class='int'>225</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="image_path-instance_method">
  <h3 class='signature priv'>
    #<strong>image_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L82-L84'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='82' data-end='84'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_image_path'>image_path</span>
  <span class='id identifier rubyid_absolute_image_path'><a href="#absolute_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_image_path (method)">absolute_image_path</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="increment_unique-instance_method">
  <h3 class='signature priv'>
    #<strong>increment_unique</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L67-L70'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='70'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_increment_unique'>increment_unique</span>
  <span class='ivar'>@_screenshot_counter</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='ivar'>@_screenshot_counter</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inline_base64-instance_method">
  <h3 class='signature priv'>
    #<strong>inline_base64</strong>(path)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L150-L152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='150' data-end='152'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 150</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inline_base64'>inline_base64</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='const'>Base64</span>.<span class='id identifier rubyid_strict_encode64'>strict_encode64</span>(<span class='id identifier rubyid_path'>path</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="output_type-instance_method">
  <h3 class='signature priv'>
    #<strong>output_type</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L120-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='120' data-end='128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 120</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_output_type'>output_type</span>
  <span class='comment'># Environment variables have priority
</span>  <span class='id identifier rubyid_output_type'>output_type</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RAILS_SYSTEM_TESTING_SCREENSHOT</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CAPYBARA_INLINE_SCREENSHOT</span><span class='tstring_end'>&quot;</span></span>]

  <span class='comment'># Default to outputting a path to the screenshot
</span>  <span class='id identifier rubyid_output_type'>output_type</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>simple</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_output_type'>output_type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="relative_image_path-instance_method">
  <h3 class='signature priv'>
    #<strong>relative_image_path</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L102-L104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_relative_image_path'>relative_image_path</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_absolute_path'><a href="#absolute_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_path (method)">absolute_path</a></span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span>(<span class='const'><a href="../../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_root'><a href="../../../Rails.html#root-class_method" title="Rails.root (method)">root</a></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>.png</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_html-instance_method">
  <h3 class='signature priv'>
    #<strong>save_html</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L111-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='111' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_html'>save_html</span>
  <span class='id identifier rubyid_page'>page</span>.<span class='id identifier rubyid_save_page'>save_page</span>(<span class='id identifier rubyid_absolute_html_path'><a href="#absolute_html_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_html_path (method)">absolute_html_path</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_image-instance_method">
  <h3 class='signature priv'>
    #<strong>save_image</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L115-L117'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='117'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_image'>save_image</span>
  <span class='id identifier rubyid_page'>page</span>.<span class='id identifier rubyid_save_screenshot'>save_screenshot</span>(<span class='id identifier rubyid_absolute_image_path'><a href="#absolute_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#absolute_image_path (method)">absolute_image_path</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="screenshots_dir-instance_method">
  <h3 class='signature priv'>
    #<strong>screenshots_dir</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L94-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='94' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 94</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_screenshots_dir'>screenshots_dir</span>
  <span class='const'>Capybara</span>.<span class='id identifier rubyid_save_path'>save_path</span>.<span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tmp/screenshots</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show-instance_method">
  <h3 class='signature priv'>
    #<strong>show</strong>(img)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L130-L132'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='130' data-end='132'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show'>show</span>(<span class='id identifier rubyid_img'>img</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_img'>img</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take_failed_screenshot-instance_method">
  <h3 class='signature '>
    #<strong>take_failed_screenshot</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Takes a screenshot of the current page in the browser if the test failed.</p>

<p><code>take_failed_screenshot</code> is called during system test teardown.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L53-L58'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='53' data-end='58'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 53</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_take_failed_screenshot'>take_failed_screenshot</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_failed?'><a href="#failed%3F-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#failed? (method)">failed?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_supports_screenshot?'><a href="#supports_screenshot%3F-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#supports_screenshot? (method)">supports_screenshot?</a></span> <span class='op'>&amp;&amp;</span> <span class='const'>Capybara</span><span class='op'>::</span><span class='const'><a href="../../Session.html" title="ActionDispatch::Session (module)">Session</a></span>.<span class='id identifier rubyid_instance_created?'>instance_created?</span>

  <span class='id identifier rubyid_take_screenshot'><a href="#take_screenshot-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#take_screenshot (method)">take_screenshot</a></span>
  <span class='id identifier rubyid_metadata'>metadata</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_failure_screenshot_path'>failure_screenshot_path</span>] <span class='op'>=</span> <span class='id identifier rubyid_relative_image_path'><a href="#relative_image_path-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#relative_image_path (method)">relative_image_path</a></span> <span class='kw'>if</span> <span class='const'><a href="../../../Minitest.html" title="Minitest (module)">Minitest</a></span><span class='op'>::</span><span class='const'>Runnable</span>.<span class='id identifier rubyid_method_defined?'>method_defined?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_metadata'>metadata</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take_screenshot-instance_method">
  <h3 class='signature '>
    #<strong>take_screenshot</strong>(html: false, screenshot: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Takes a screenshot of the current page in the browser.</p>

<p><code>take_screenshot</code> can be used at any point in your system tests to take a screenshot of the current state. This can be useful for debugging or automating visual testing. You can take multiple screenshots per test to investigate changes at different points during your test. These will be named with a sequential prefix (or ‘failed’ for failing tests)</p>

<p>The default screenshots directory is <code>tmp/screenshots</code> but you can set a different one with <code>Capybara.save_path</code></p>

<p>You can use the <code>html</code> argument or set the <code>RAILS_SYSTEM_TESTING_SCREENSHOT_HTML</code> environment variable to save the HTML from the page that is being screenshotted so you can investigate the elements on the page at the time of the screenshot</p>

<p>You can use the <code>screenshot</code> argument or set the <code>RAILS_SYSTEM_TESTING_SCREENSHOT</code> environment variable to control the output. Possible values are:</p>

<pre class="code ruby"><code class="ruby">{<span class='id identifier rubyid_simple'>simple</span>} (<span class='id identifier rubyid_default'>default</span>)</code></pre>

<p>:       Only displays the screenshot path. This is the default value.</p>

<pre class="code ruby"><code class="ruby">{<span class='id identifier rubyid_inline'>inline</span>}</code></pre>

<p>:       Display the screenshot in the terminal using the iTerm image protocol</p>

<pre class="code ruby"><code class="ruby">    (<span class='label'>https:</span><span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/iterm</span></span><span class='int'>2</span>.<span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='id identifier rubyid_documentation'>documentation</span><span class='op'>-</span><span class='id identifier rubyid_images'>images</span>.<span class='id identifier rubyid_html'>html</span>).

{<span class='id identifier rubyid_artifact'>artifact</span>}</code></pre>

<p>:       Display the screenshot in the terminal, using the terminal artifact</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_format'>format</span> (<span class='label'>https:</span><span class='op'>/</span><span class='op'>/</span><span class='id identifier rubyid_buildkite'>buildkite</span>.<span class='id identifier rubyid_github'>github</span>.<span class='id identifier rubyid_io'>io</span><span class='op'>/</span><span class='id identifier rubyid_terminal'>terminal</span><span class='op'>-</span><span class='id identifier rubyid_to'>to</span><span class='op'>-</span><span class='id identifier rubyid_html'>html</span><span class='op'>/</span><span class='id identifier rubyid_inline'>inline</span><span class='op'>-</span><span class='id identifier rubyid_images'>images</span><span class='op'>/</span>).</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L41-L48'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='41' data-end='48'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 41</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_take_screenshot'>take_screenshot</span>(<span class='label'>html:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>screenshot:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_showing_html'>showing_html</span> <span class='op'>=</span> <span class='id identifier rubyid_html'>html</span> <span class='op'>||</span> <span class='id identifier rubyid_html_from_env?'><a href="#html_from_env%3F-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#html_from_env? (method)">html_from_env?</a></span>

  <span class='id identifier rubyid_increment_unique'><a href="#increment_unique-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#increment_unique (method)">increment_unique</a></span>
  <span class='id identifier rubyid_save_html'><a href="#save_html-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#save_html (method)">save_html</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_showing_html'>showing_html</span>
  <span class='id identifier rubyid_save_image'><a href="#save_image-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#save_image (method)">save_image</a></span>
  <span class='id identifier rubyid_show'><a href="#show-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#show (method)">show</a></span> <span class='id identifier rubyid_display_image'><a href="#display_image-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#display_image (method)">display_image</a></span>(<span class='label'>html:</span> <span class='id identifier rubyid_showing_html'>showing_html</span><span class='comma'>,</span> <span class='label'>screenshot_output:</span> <span class='id identifier rubyid_screenshot'>screenshot</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unique-instance_method">
  <h3 class='signature priv'>
    #<strong>unique</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L72-L74'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='72' data-end='74'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb', line 72</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unique'>unique</span>
  <span class='id identifier rubyid_failed?'><a href="#failed%3F-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#failed? (method)">failed?</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failures</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> (<span class='id identifier rubyid__screenshot_counter'><a href="#_screenshot_counter-instance_method" title="ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper#_screenshot_counter (method)">_screenshot_counter</a></span> <span class='op'>||</span> <span class='int'>0</span>).<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>