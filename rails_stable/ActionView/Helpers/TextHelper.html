<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::TextHelper &mdash; Rails 8-0-stable</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::TextHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 8-0-stable</a> &raquo; 
      <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>TextHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::TextHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)"><code>Cycle</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a class='nodoc' href="../../ActionDispatch/DebugView.html" title="ActionDispatch::DebugView (class)"><code>::ActionDispatch::DebugView</code></a>,
          <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)"><code>::ActionView::Helpers</code></a>,
          <a href="FormHelper.html" title="ActionView::Helpers::FormHelper (module)"><code>FormHelper</code></a>,
          <a href="FormOptionsHelper.html" title="ActionView::Helpers::FormOptionsHelper (module)"><code>FormOptionsHelper</code></a>,
          <a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)"><code>FormTagHelper</code></a>,
          <a class='nodoc' href="Tags/Base.html" title="ActionView::Helpers::Tags::Base (class)"><code>Tags::Base</code></a>,
          <a class='nodoc' href="Tags/CheckBox.html" title="ActionView::Helpers::Tags::CheckBox (class)"><code>Tags::CheckBox</code></a>,
          <a class='nodoc' href="Tags/CollectionCheckBoxes.html" title="ActionView::Helpers::Tags::CollectionCheckBoxes (class)"><code>Tags::CollectionCheckBoxes</code></a>,
          <a class='nodoc' href="Tags/CollectionRadioButtons.html" title="ActionView::Helpers::Tags::CollectionRadioButtons (class)"><code>Tags::CollectionRadioButtons</code></a>,
          <a class='nodoc' href="Tags/CollectionSelect.html" title="ActionView::Helpers::Tags::CollectionSelect (class)"><code>Tags::CollectionSelect</code></a>,
          <a class='nodoc' href="Tags/ColorField.html" title="ActionView::Helpers::Tags::ColorField (class)"><code>Tags::ColorField</code></a>,
          <a class='nodoc' href="Tags/DateField.html" title="ActionView::Helpers::Tags::DateField (class)"><code>Tags::DateField</code></a>,
          <a class='nodoc' href="Tags/DateSelect.html" title="ActionView::Helpers::Tags::DateSelect (class)"><code>Tags::DateSelect</code></a>,
          <a class='nodoc' href="Tags/DatetimeField.html" title="ActionView::Helpers::Tags::DatetimeField (class)"><code>Tags::DatetimeField</code></a>,
          <a class='nodoc' href="Tags/DatetimeLocalField.html" title="ActionView::Helpers::Tags::DatetimeLocalField (class)"><code>Tags::DatetimeLocalField</code></a>,
          <a class='nodoc' href="Tags/DatetimeSelect.html" title="ActionView::Helpers::Tags::DatetimeSelect (class)"><code>Tags::DatetimeSelect</code></a>,
          <a class='nodoc' href="Tags/EmailField.html" title="ActionView::Helpers::Tags::EmailField (class)"><code>Tags::EmailField</code></a>,
          <a class='nodoc' href="Tags/FileField.html" title="ActionView::Helpers::Tags::FileField (class)"><code>Tags::FileField</code></a>,
          <a class='nodoc' href="Tags/GroupedCollectionSelect.html" title="ActionView::Helpers::Tags::GroupedCollectionSelect (class)"><code>Tags::GroupedCollectionSelect</code></a>,
          <a class='nodoc' href="Tags/HiddenField.html" title="ActionView::Helpers::Tags::HiddenField (class)"><code>Tags::HiddenField</code></a>,
          <a class='nodoc' href="Tags/Label.html" title="ActionView::Helpers::Tags::Label (class)"><code>Tags::Label</code></a>,
          <a class='nodoc' href="Tags/MonthField.html" title="ActionView::Helpers::Tags::MonthField (class)"><code>Tags::MonthField</code></a>,
          <a class='nodoc' href="Tags/NumberField.html" title="ActionView::Helpers::Tags::NumberField (class)"><code>Tags::NumberField</code></a>,
          <a class='nodoc' href="Tags/PasswordField.html" title="ActionView::Helpers::Tags::PasswordField (class)"><code>Tags::PasswordField</code></a>,
          <a class='nodoc' href="Tags/RadioButton.html" title="ActionView::Helpers::Tags::RadioButton (class)"><code>Tags::RadioButton</code></a>,
          <a class='nodoc' href="Tags/RangeField.html" title="ActionView::Helpers::Tags::RangeField (class)"><code>Tags::RangeField</code></a>,
          <a class='nodoc' href="Tags/SearchField.html" title="ActionView::Helpers::Tags::SearchField (class)"><code>Tags::SearchField</code></a>,
          <a class='nodoc' href="Tags/Select.html" title="ActionView::Helpers::Tags::Select (class)"><code>Tags::Select</code></a>,
          <a class='nodoc' href="Tags/TelField.html" title="ActionView::Helpers::Tags::TelField (class)"><code>Tags::TelField</code></a>,
          <a class='nodoc' href="Tags/TextArea.html" title="ActionView::Helpers::Tags::TextArea (class)"><code>Tags::TextArea</code></a>,
          <a class='nodoc' href="Tags/TextField.html" title="ActionView::Helpers::Tags::TextField (class)"><code>Tags::TextField</code></a>,
          <a class='nodoc' href="Tags/TimeField.html" title="ActionView::Helpers::Tags::TimeField (class)"><code>Tags::TimeField</code></a>,
          <a class='nodoc' href="Tags/TimeSelect.html" title="ActionView::Helpers::Tags::TimeSelect (class)"><code>Tags::TimeSelect</code></a>,
          <a class='nodoc' href="Tags/TimeZoneSelect.html" title="ActionView::Helpers::Tags::TimeZoneSelect (class)"><code>Tags::TimeZoneSelect</code></a>,
          <a class='nodoc' href="Tags/UrlField.html" title="ActionView::Helpers::Tags::UrlField (class)"><code>Tags::UrlField</code></a>,
          <a class='nodoc' href="Tags/WeekField.html" title="ActionView::Helpers::Tags::WeekField (class)"><code>Tags::WeekField</code></a>,
          <a class='nodoc' href="Tags/WeekdaySelect.html" title="ActionView::Helpers::Tags::WeekdaySelect (class)"><code>Tags::WeekdaySelect</code></a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)"><code>::ActionView::TestCase</code></a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)"><code>::ActionView::TestCase::Behavior</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a>,
          <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a>,
          <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a>,
          <a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L36'>actionview/lib/action_view/helpers/text_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Action+View+Text+Helpers">Action View Text Helpers</h3>

<p>The TextHelper module provides a set of methods for filtering, formatting and transforming strings, which can reduce the amount of inline Ruby code in your views. These helper methods extend Action View making them callable within your template files.</p>

<h6 id="label-Sanitization">Sanitization</h6>

<p>Most text helpers that generate HTML output sanitize the given input by default, but do not escape it. This means HTML tags will appear in the page but all malicious code will be removed. Let’s look at some examples using the <a href="#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">#simple_format</a> method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_simple_format'><a href="#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">simple_format</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;a href=\&quot;http://example.com/\&quot;&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'><a href="#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">simple_format</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;a&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;</span></code></pre>

<p>If you want to escape all content, you should invoke the <code>h</code> method before calling the text helper.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_simple_format'><a href="#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">simple_format</a></span> <span class='id identifier rubyid_h'>h</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;&amp;lt;a href=\&quot;http://example.com/\&quot;&amp;gt;Example&amp;lt;/a&amp;gt;&lt;/p&gt;&quot;</span></code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="TagHelper.html#ARIA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::ARIA_PREFIXES (constant)">ARIA_PREFIXES</a>, 
    <a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">BOOLEAN_ATTRIBUTES</a>, 
    <a href="TagHelper.html#DATA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::DATA_PREFIXES (constant)">DATA_PREFIXES</a>, 
    <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">PRE_CONTENT_STRINGS</a>, 
    <a href="TagHelper.html#TAG_TYPES-constant" title="ActionView::Helpers::TagHelper::TAG_TYPES (constant)">TAG_TYPES</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a></td>
      <td><div class='inline'><p>Define class methods from given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#prepended-instance_method" title="ActiveSupport::Concern#prepended (method)">prepended</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>,
        <a class='i_m nodoc' href="../../ActiveSupport/Concern.html#prepend_features-instance_method" title="ActiveSupport::Concern#prepend_features (method)">prepend_features</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m rw' href="SanitizeHelper.html#sanitizer_vendor-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitizer_vendor (method)">#sanitizer_vendor</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The preferred method of outputting text in your views is to use the <code>&lt;%= &quot;text&quot; %&gt;</code> eRuby syntax.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_cycle-instance_method" title="#current_cycle (instance method)">#<strong>current_cycle</strong>(name = &quot;default&quot;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current cycle string after a cycle has been started.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(first_value, *values)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a <a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)"><code>Cycle</code></a> object whose <code>to_s</code> method cycles through elements of an array every time it is called.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#excerpt-instance_method" title="#excerpt (instance method)">#<strong>excerpt</strong>(text, phrase, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts the first occurrence of <code>phrase</code> plus surrounding text from <code>text</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#highlight-instance_method" title="#highlight (instance method)">#<strong>highlight</strong>(text, phrases, options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Highlights occurrences of <code>phrases</code> in <code>text</code> by formatting them with a highlighter string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pluralize-instance_method" title="#pluralize (instance method)">#<strong>pluralize</strong>(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Attempts to pluralize the <code>singular</code> word unless <code>count</code> is 1.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset_cycle-instance_method" title="#reset_cycle (instance method)">#<strong>reset_cycle</strong>(name = &quot;default&quot;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resets a cycle so that it starts from the first element the next time it is called.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#safe_concat-instance_method" title="#safe_concat (instance method)">#<strong>safe_concat</strong>(string)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#simple_format-instance_method" title="#simple_format (instance method)">#<strong>simple_format</strong>(text, html_options = {}, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>text</code> transformed into HTML using simple formatting rules.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#truncate-instance_method" title="#truncate (instance method)">#<strong>truncate</strong>(text, options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Truncates <code>text</code> if it is longer than a specified <code>:length</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#word_wrap-instance_method" title="#word_wrap (instance method)">#<strong>word_wrap</strong>(text, line_width: 80, break_sequence: &quot;\n&quot;)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Wraps the <code>text</code> into lines no longer than <code>line_width</code> width.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#cut_excerpt_part-instance_method" title="#cut_excerpt_part (instance method)">#<strong>cut_excerpt_part</strong>(part_position, part, separator, options)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_cycle-instance_method" title="#get_cycle (instance method)">#<strong>get_cycle</strong>(name)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>The cycle helpers need to store the cycles in a place that is guaranteed to be reset every time a page is rendered, so it uses an instance variable of <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set_cycle-instance_method" title="#set_cycle (instance method)">#<strong>set_cycle</strong>(name, cycle_object)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#split_paragraphs-instance_method" title="#split_paragraphs (instance method)">#<strong>split_paragraphs</strong>(text)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a></td>
      <td><div class='inline'><p>Returns a CDATA section with the given <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#class_names-instance_method" title="ActionView::Helpers::TagHelper#class_names (method)">#class_names</a></td>
      <td><div class='inline'><p>Alias for <a href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">TagHelper#token_list</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a></td>
      <td><div class='inline'><p>Returns an HTML block tag of type <code>name</code> surrounding the <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a></td>
      <td><div class='inline'><p>Returns an escaped version of <code>html</code> without affecting existing escaped entities.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></td>
      <td><div class='inline'><p>Returns an HTML tag.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">#token_list</a></td>
      <td><div class='inline'><p>Returns a string of tokens built from <code>args</code>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="TagHelper.html#build_tag_values-instance_method" title="ActionView::Helpers::TagHelper#build_tag_values (method)">#build_tag_values</a>,
        <a class='i_m priv' href="TagHelper.html#ensure_valid_html5_tag_name-instance_method" title="ActionView::Helpers::TagHelper#ensure_valid_html5_tag_name (method)">#ensure_valid_html5_tag_name</a>,
        <a class='i_m priv' href="TagHelper.html#tag_builder-instance_method" title="ActionView::Helpers::TagHelper#tag_builder (method)">#tag_builder</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a></td>
      <td><div class='inline'><p>This method outputs without escaping a string.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a></td>
      <td><div class='inline'><p>This method returns an HTML safe string similar to what <code>Array#join</code> would return.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></td>
      <td><div class='inline'><p>Converts the array to a comma-separated sentence where the last element is joined by the connector word.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a></td>
      <td><div class='inline'><p>The capture method extracts part of a template as a string object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a></td>
      <td><div class='inline'><p>Calling <code>content_for</code> stores a block of markup in an identifier for later use.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a></td>
      <td><div class='inline'><p><code>content_for?</code> checks whether any content has been captured yet using <code>content_for</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a></td>
      <td><div class='inline'><p>The same as <code>content_for</code> but when used with streaming flushes straight back to the layout.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m nodoc' href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></td>
      <td><div class='inline'><p>Use an alternate output buffer for the duration of the block.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">#sanitize</a></td>
      <td><div class='inline'><p>Sanitizes HTML input, stripping all but known-safe tags and attributes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#sanitize_css-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize_css (method)">#sanitize_css</a></td>
      <td><div class='inline'><p>Sanitizes a block of CSS code.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#strip_links-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_links (method)">#strip_links</a></td>
      <td><div class='inline'><p>Strips all link tags from <code>html</code> leaving just the link text.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#strip_tags-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_tags (method)">#strip_tags</a></td>
      <td><div class='inline'><p>Strips all HTML tags from <code>html</code>, including comments and special characters.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="concat-instance_method">
  <h3 class='signature  first'>
    #<strong>concat</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The preferred method of outputting text in your views is to use the <code>&lt;%= &quot;text&quot; %&gt;</code> eRuby syntax. The regular <code>puts</code> and <code>print</code> methods do not operate as expected in an eRuby code block. If you absolutely must output text within a non-output code block (i.e., <code>&lt;% %&gt;</code>), you can use the <code>concat</code> method.</p>

<pre class="code xml"><code class="xml">&lt;% concat &quot;hello&quot; %&gt; is equivalent to &lt;%= &quot;hello&quot; %&gt;

&lt;%
   unless signed_in?
     concat link_to(&quot;Sign In&quot;, action: :sign_in)
   end
%&gt;

is equivalent to

&lt;% unless signed_in? %&gt;
  &lt;%= link_to &quot;Sign In&quot;, action: :sign_in %&gt;
&lt;% end %&gt;
</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L63-L65'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='65'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_output_buffer'>output_buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_cycle-instance_method">
  <h3 class='signature '>
    #<strong>current_cycle</strong>(name = &quot;default&quot;)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current cycle string after a cycle has been started. Useful for complex table highlighting or any other design need which requires the current cycle string in more than one place.</p>

<pre class="code xml"><code class="xml">&lt;%# Alternate background colors %&gt;
&lt;% @items = [1,2,3,4] %&gt;
&lt;% @items.each do |item| %&gt;
  &lt;div style=&quot;background-color:&lt;%= cycle(&quot;red&quot;,&quot;white&quot;,&quot;blue&quot;) %&gt;&quot;&gt;
    &lt;span style=&quot;background-color:&lt;%= current_cycle %&gt;&quot;&gt;&lt;%= item %&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;% end %&gt;
</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L461-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='461' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_cycle'>current_cycle</span>(<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'><a href="#get_cycle-instance_method" title="ActionView::Helpers::TextHelper#get_cycle (method)">get_cycle</a></span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span>.<span class='id identifier rubyid_current_value'>current_value</span> <span class='kw'>if</span> <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cut_excerpt_part-instance_method">
  <h3 class='signature priv'>
    #<strong>cut_excerpt_part</strong>(part_position, part, separator, options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L547-L572'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='547' data-end='572'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 547</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cut_excerpt_part'>cut_excerpt_part</span>(<span class='id identifier rubyid_part_position'>part_position</span><span class='comma'>,</span> <span class='id identifier rubyid_part'>part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_part'>part</span>

  <span class='id identifier rubyid_radius'>radius</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_radius'>radius</span><span class='comma'>,</span> <span class='int'>100</span>)
  <span class='id identifier rubyid_omission'>omission</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_omission'>omission</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_separator'>separator</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_part'>part</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_separator'>separator</span>)
    <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_affix'>affix</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_radius'>radius</span> <span class='op'>?</span> <span class='id identifier rubyid_omission'>omission</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_part'>part</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_part_position'>part_position</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_last'>last</span>(<span class='id identifier rubyid_radius'>radius</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_first'>first</span>(<span class='id identifier rubyid_radius'>radius</span>)
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_separator'>separator</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_part'>part</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_separator'>separator</span>)
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_affix'>affix</span><span class='comma'>,</span> <span class='id identifier rubyid_part'>part</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cycle-instance_method">
  <h3 class='signature '>
    #<strong>cycle</strong>(first_value, *values)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a <a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)"><code>TextHelper::Cycle</code></a> object whose <code>to_s</code> method cycles through elements of an array every time it is called. This can be used for example, to alternate classes for table rows. You can use named cycles to allow nesting in loops. Passing a <a href="../../Hash.html" title="Hash (class)"><code>::Hash</code></a> as the last parameter with a <code>:name</code> key will create a named cycle. The default name for a cycle without a <code>:name</code> key is <code>&quot;default&quot;</code>. You can manually reset a cycle by calling reset_cycle and passing the name of the cycle. The current cycle string can be obtained anytime using the current_cycle method.</p>

<pre class="code ruby"><code class="ruby"> <span class='op'>&lt;</span><span class='tstring'><span class='tstring_beg'>%#</span><span class='tstring_content'> Alternate CSS classes for even and odd numbers... %&gt;
 &lt;% @items = [1,2,3,4] %&gt;
 &lt;table&gt;
 &lt;% @items.each do |item| %&gt;
   &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;) -%&gt;&quot;&gt;
     &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
   &lt;/tr&gt;
 &lt;% end %&gt;
 &lt;/table&gt;

 &lt;%</span><span class='tstring_end'>#</span></span> <span class='const'><a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)">Cycle</a></span> <span class='const'>CSS</span> <span class='id identifier rubyid_classes'>classes</span> <span class='kw'>for</span> <span class='id identifier rubyid_rows'>rows</span><span class='comma'>,</span> <span class='kw'>and</span> <span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_colors'>colors</span> <span class='kw'>for</span> <span class='id identifier rubyid_values'>values</span> <span class='id identifier rubyid_within'>within</span> <span class='id identifier rubyid_each'>each</span> <span class='id identifier rubyid_row'>row</span> <span class='tstring'><span class='tstring_beg'>%&gt;</span><span class='tstring_content'>
 &lt;% @items = [
   { first: &quot;Robert&quot;, middle: &quot;Daniel&quot;, last: &quot;James&quot; },
   { first: &quot;Emily&quot;, middle: &quot;Shannon&quot;, maiden: &quot;Pike&quot;, last: &quot;Hicks&quot; },
   { first: &quot;June&quot;, middle: &quot;Dae&quot;, last: &quot;Jones&quot; },
 ] %</span><span class='tstring_end'>&gt;</span></span>
 <span class='op'>&lt;</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_content'>@items.each</span><span class='tstring_end'> </span></span><span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>%&gt;</span><span class='tstring_content'>
   &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;, name: &quot;row_class&quot;) -%</span><span class='tstring_end'>&gt;</span></span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;
     &lt;td&gt;
       &lt;% item.values.each do |value| %&gt;
         &lt;%# Create a named cycle </span><span class='tstring_end'>&quot;</span></span><span class='id identifier rubyid_colors'>colors</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> %&gt;
         &lt;span style=</span><span class='tstring_end'>&quot;</span></span><span class='id identifier rubyid_color'>color</span><span class='symbeg'>:</span><span class='op'>&lt;</span><span class='op'>%=</span> <span class='id identifier rubyid_cycle'>cycle</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>red</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>green</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>blue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>colors</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>-</span><span class='tstring'><span class='tstring_beg'>%&gt;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&gt;</span></span>
           <span class='op'>&lt;</span><span class='tstring'><span class='tstring_beg'>%=</span><span class='tstring_content'> value %&gt;
         &lt;/span&gt;
       &lt;% end %&gt;
       &lt;% reset_cycle(&quot;colors&quot;) %&gt;
     &lt;/td&gt;
  &lt;/tr&gt;
&lt;% end %&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L437-L448'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='437' data-end='448'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 437</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cycle'>cycle</span>(<span class='id identifier rubyid_first_value'>first_value</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_values'>values</span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span>)

  <span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='op'>*</span><span class='id identifier rubyid_first_value'>first_value</span>)

  <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'><a href="#get_cycle-instance_method" title="ActionView::Helpers::TextHelper#get_cycle (method)">get_cycle</a></span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cycle'>cycle</span>.<span class='id identifier rubyid_values'>values</span> <span class='op'>==</span> <span class='id identifier rubyid_values'>values</span>
    <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_set_cycle'><a href="#set_cycle-instance_method" title="ActionView::Helpers::TextHelper#set_cycle (method)">set_cycle</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='const'><a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)">Cycle</a></span>.<span class='id identifier rubyid_new'><a href="TextHelper/Cycle.html#new-class_method" title="ActionView::Helpers::TextHelper::Cycle.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_values'>values</span>))
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cycle'>cycle</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="excerpt-instance_method">
  <h3 class='signature '>
    #<strong>excerpt</strong>(text, phrase, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts the first occurrence of <code>phrase</code> plus surrounding text from <code>text</code>. An omission marker is prepended / appended if the start / end of the result does not coincide with the start / end of <code>text</code>. The result is always stripped in any case. Returns <code>nil</code> if <code>phrase</code> isn’t found.</p>

<h4 id="label-Options">Options</h4>
<dl class="rdoc-list label-list"><dt><code>:radius</code></dt>
<dd>
<p>The number of characters (or tokens — see <code>:separator</code> option) around <code>phrase</code> to include in the result. Defaults to 100.</p>
</dd><dt><code>:omission</code></dt>
<dd>
<p>The marker to prepend / append when the start / end of the excerpt does not coincide with the start / end of <code>text</code>. Defaults to <code>&quot;...&quot;</code>.</p>
</dd><dt><code>:separator</code></dt>
<dd>
<p>The separator between tokens to count for <code>:radius</code>. Defaults to <code>&quot;&quot;</code>, which treats each character as a token.</p>
</dd></dl>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>an</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>5</span>)
<span class='comment'># =&gt; &quot;...s is an exam...&quot;
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>is</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>5</span>)
<span class='comment'># =&gt; &quot;This is a...&quot;
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>is</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;This is an example&quot;
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This next thing is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>2</span>)
<span class='comment'># =&gt; &quot;...next...&quot;
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is also an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>an</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>8</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;chop&gt; </span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;&lt;chop&gt; is also an example&quot;
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is a very beautiful morning</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>very</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>1</span>)
<span class='comment'># =&gt; &quot;...a very beautiful...&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L235-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='235' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 235</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_text'>text</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_phrase'>phrase</span>

  <span class='id identifier rubyid_separator'>separator</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='kw'>nil</span>) <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_phrase'>phrase</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='id identifier rubyid_phrase'>phrase</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_escape'>escape</span>(<span class='id identifier rubyid_phrase'>phrase</span>)<span class='embexpr_end'>}</span><span class='regexp_end'>/i</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_match'>match</span>(<span class='id identifier rubyid_regex'>regex</span>)
  <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>=</span> <span class='id identifier rubyid_matches'>matches</span>[<span class='int'>0</span>]

  <span class='kw'>unless</span> <span class='id identifier rubyid_separator'>separator</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_separator'>separator</span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_regex'>regex</span>)
        <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span> <span class='int'>2</span>)

  <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_first_part'>first_part</span>   <span class='op'>=</span> <span class='id identifier rubyid_cut_excerpt_part'><a href="#cut_excerpt_part-instance_method" title="ActionView::Helpers::TextHelper#cut_excerpt_part (method)">cut_excerpt_part</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_postfix'>postfix</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span> <span class='op'>=</span> <span class='id identifier rubyid_cut_excerpt_part'><a href="#cut_excerpt_part-instance_method" title="ActionView::Helpers::TextHelper#cut_excerpt_part (method)">cut_excerpt_part</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_second'>second</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)

  <span class='id identifier rubyid_affix'>affix</span> <span class='op'>=</span> [
    <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span>
    <span class='op'>!</span><span class='id identifier rubyid_first_part'>first_part</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_separator'>separator</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span>
    <span class='op'>!</span><span class='id identifier rubyid_second_part'>second_part</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_separator'>separator</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_second_part'>second_part</span>
  ].<span class='id identifier rubyid_join'>join</span>.<span class='id identifier rubyid_strip'>strip</span>

  [<span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_affix'>affix</span><span class='comma'>,</span> <span class='id identifier rubyid_postfix'>postfix</span>].<span class='id identifier rubyid_join'>join</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_cycle-instance_method">
  <h3 class='signature priv'>
    #<strong>get_cycle</strong>(name)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The cycle helpers need to store the cycles in a place that is guaranteed to be reset every time a page is rendered, so it uses an instance variable of <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L529-L532'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='529' data-end='532'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 529</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_cycle'>get_cycle</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='ivar'>@_cycles</span> <span class='op'>=</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='ivar'>@_cycles</span>)
  <span class='ivar'>@_cycles</span>[<span class='id identifier rubyid_name'>name</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="highlight-instance_method">
  <h3 class='signature '>
    #<strong>highlight</strong>(text, phrases, options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Highlights occurrences of <code>phrases</code> in <code>text</code> by formatting them with a highlighter string. <code>phrases</code> can be one or more strings or regular expressions. The result will be marked HTML safe. By default, <code>text</code> is sanitized before highlighting to prevent possible XSS attacks.</p>

<p>If a block is specified, it will be used instead of the highlighter string. Each occurrence of a phrase will be passed to the block, and its return value will be inserted into the final result.</p>

<h4 id="label-Options">Options</h4>
<dl class="rdoc-list label-list"><dt><code>:highlighter</code></dt>
<dd>
<p>The highlighter string. Uses <code>\1</code> as the placeholder for a phrase, similar to <code>String#sub</code>. Defaults to <code>&quot;&lt;mark&gt;\1&lt;/mark&gt;&quot;</code>. This option is ignored if a block is specified.</p>
</dd><dt><code>:sanitize</code></dt>
<dd>
<p>Whether to sanitize <code>text</code> before highlighting. Defaults to true.</p>
</dd></dl>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;You searched for: &lt;mark&gt;rails&lt;/mark&gt;&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>for|rails</span><span class='regexp_end'>/</span></span>)
<span class='comment'># =&gt; &quot;You searched &lt;mark&gt;for&lt;/mark&gt;: &lt;mark&gt;rails&lt;/mark&gt;&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: ruby, rails, dhh</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>actionpack</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;You searched for: ruby, rails, dhh&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>for</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='label'>highlighter:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;em&gt;\1&lt;/em&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;You searched &lt;em&gt;for&lt;/em&gt;: &lt;em&gt;rails&lt;/em&gt;&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>highlighter:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;search?q=\1&quot;&gt;\1&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;You searched for: &lt;a href=\&quot;search?q=rails\&quot;&gt;rails&lt;/a&gt;&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You searched for: rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_match'>match</span><span class='op'>|</span> <span class='id identifier rubyid_link_to'>link_to</span>(<span class='id identifier rubyid_search_path'>search_path</span>(<span class='label'>q:</span> <span class='id identifier rubyid_match'>match</span>)) }
<span class='comment'># =&gt; &quot;You searched for: &lt;a href=\&quot;search?q=rails\&quot;&gt;rails&lt;/a&gt;&quot;
</span>
<span class='id identifier rubyid_highlight'>highlight</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;ruby&lt;/a&gt; on rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>sanitize:</span> <span class='kw'>false</span>)
<span class='comment'># =&gt; &quot;&lt;a href=\&quot;javascript:alert(&#39;no!&#39;)\&quot;&gt;ruby&lt;/a&gt; on &lt;mark&gt;rails&lt;/mark&gt;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L174-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_highlight'>highlight</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_sanitize'>sanitize</span>(<span class='id identifier rubyid_text'>text</span>) <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sanitize'>sanitize</span><span class='comma'>,</span> <span class='kw'>true</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='id identifier rubyid_phrases'>phrases</span>.<span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_patterns'>patterns</span> <span class='op'>=</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>(<span class='id identifier rubyid_phrases'>phrases</span>).<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_phrase'>phrase</span><span class='op'>|</span> <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span> <span class='op'>===</span> <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>?</span> <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>:</span> <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_escape'>escape</span>(<span class='id identifier rubyid_phrase'>phrase</span>) }
    <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_patterns'>patterns</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='regexp_end'>/i</span></span>
    <span class='id identifier rubyid_highlighter'>highlighter</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_highlighter'>highlighter</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;mark&gt;\1&lt;/mark&gt;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_block'>block</span>

    <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;[^&gt;]*|[^&lt;]+</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_segment'>segment</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_segment'>segment</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&quot;</span></span>)
        <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
          <span class='id identifier rubyid_segment'>segment</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
        <span class='kw'>else</span>
          <span class='id identifier rubyid_segment'>segment</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_highlighter'>highlighter</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pluralize-instance_method">
  <h3 class='signature '>
    #<strong>pluralize</strong>(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Attempts to pluralize the <code>singular</code> word unless <code>count</code> is 1. If <code>plural</code> is supplied, it will use that when count is &gt; 1, otherwise it will use the Inflector to determine the plural form for the given locale, which defaults to <code>I18n.locale</code>.</p>

<p>The word will be pluralized using rules defined for the locale (you must define your own inflection rules for languages other than English). See <code>ActiveSupport::Inflector.pluralize</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;1 person&quot;
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;2 people&quot;
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>plural:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;3 users&quot;
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;0 people&quot;
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>locale:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_de'>de</span>)
<span class='comment'># =&gt; &quot;2 Personen&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L297-L305'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='297' data-end='305'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 297</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='id identifier rubyid_singular'>singular</span><span class='comma'>,</span> <span class='id identifier rubyid_plural_arg'>plural_arg</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>plural:</span> <span class='id identifier rubyid_plural_arg'>plural_arg</span><span class='comma'>,</span> <span class='label'>locale:</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_locale'>locale</span>)
  <span class='id identifier rubyid_word'>word</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_count'>count</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_count'>count</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^1(\.0+)?$</span><span class='regexp_end'>/</span></span>)
    <span class='id identifier rubyid_singular'>singular</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_plural'>plural</span> <span class='op'>||</span> <span class='id identifier rubyid_singular'>singular</span>.<span class='id identifier rubyid_pluralize'>pluralize</span>(<span class='id identifier rubyid_locale'>locale</span>)
  <span class='kw'>end</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count'>count</span> <span class='op'>||</span> <span class='int'>0</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_word'>word</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset_cycle-instance_method">
  <h3 class='signature '>
    #<strong>reset_cycle</strong>(name = &quot;default&quot;)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resets a cycle so that it starts from the first element the next time it is called. Pass in <code>name</code> to reset a named cycle.</p>

<pre class="code xml"><code class="xml">&lt;%# Alternate CSS classes for even and odd numbers... %&gt;
&lt;% @items = [[1,2,3,4], [5,6,3], [3,4,5,6,7,4]] %&gt;
&lt;table&gt;
&lt;% @items.each do |item| %&gt;
  &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;) -%&gt;&quot;&gt;
      &lt;% item.each do |value| %&gt;
        &lt;span style=&quot;color:&lt;%= cycle(&quot;#333&quot;, &quot;#666&quot;, &quot;#999&quot;, name: &quot;colors&quot;) -%&gt;&quot;&gt;
          &lt;%= value %&gt;
        &lt;/span&gt;
      &lt;% end %&gt;

      &lt;% reset_cycle(&quot;colors&quot;) %&gt;
  &lt;/tr&gt;
&lt;% end %&gt;
&lt;/table&gt;
</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L484-L487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='484' data-end='487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 484</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_cycle'>reset_cycle</span>(<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'><a href="#get_cycle-instance_method" title="ActionView::Helpers::TextHelper#get_cycle (method)">get_cycle</a></span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span>.<span class='id identifier rubyid_reset'>reset</span> <span class='kw'>if</span> <span class='id identifier rubyid_cycle'><a href="#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">cycle</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="safe_concat-instance_method">
  <h3 class='signature '>
    #<strong>safe_concat</strong>(string)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L67-L69'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='69'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_safe_concat'>safe_concat</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_output_buffer'>output_buffer</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_safe_concat'>safe_concat</span>) <span class='op'>?</span> <span class='id identifier rubyid_output_buffer'>output_buffer</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span>(<span class='id identifier rubyid_string'>string</span>) <span class='op'>:</span> <span class='id identifier rubyid_concat'><a href="#concat-instance_method" title="ActionView::Helpers::TextHelper#concat (method)">concat</a></span>(<span class='id identifier rubyid_string'>string</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_cycle-instance_method">
  <h3 class='signature priv'>
    #<strong>set_cycle</strong>(name, cycle_object)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L534-L537'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='534' data-end='537'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 534</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_cycle'>set_cycle</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_cycle_object'>cycle_object</span>)
  <span class='ivar'>@_cycles</span> <span class='op'>=</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='ivar'>@_cycles</span>)
  <span class='ivar'>@_cycles</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>=</span> <span class='id identifier rubyid_cycle_object'>cycle_object</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="simple_format-instance_method">
  <h3 class='signature '>
    #<strong>simple_format</strong>(text, html_options = {}, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>text</code> transformed into HTML using simple formatting rules. Two or more consecutive newlines (<code>\n\n</code> or <code>\r\n\r\n</code>) are considered a paragraph and wrapped in <code>&lt;p&gt;</code> tags. One newline (<code>\n</code> or <code>\r\n</code>) is considered a linebreak and a <code>&lt;br /&gt;</code> tag is appended. This method does not remove the newlines from the <code>text</code>.</p>

<p>You can pass any HTML attributes into <code>html_options</code>. These will be added to all created paragraphs.</p>

<h4 id="label-Options">Options</h4>
<ul><li>
<p><code>:sanitize</code> - If <code>false</code>, does not sanitize <code>text</code>.</p>
</li><li>
<p><code>:sanitize_options</code> - Any extra options you want appended to the sanitize.</p>
</li><li>
<p><code>:wrapper_tag</code> - <a href="../../String.html" title="String (class)"><code>::String</code></a> representing the wrapper tag, defaults to <code>&quot;p&quot;</code>.</p>
</li></ul>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_text'>my_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Here is some basic text...\n...with a line break.</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='id identifier rubyid_my_text'>my_text</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='id identifier rubyid_my_text'>my_text</span><span class='comma'>,</span> {}<span class='comma'>,</span> <span class='label'>wrapper_tag:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;&lt;div&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/div&gt;&quot;
</span>
<span class='id identifier rubyid_more_text'>more_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>We want to put a paragraph...\n\n...right there.</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='id identifier rubyid_more_text'>more_text</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;We want to put a paragraph...&lt;/p&gt;\n\n&lt;p&gt;...right there.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Look ma! A class!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>description</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p class=&#39;description&#39;&gt;Look ma! A class!&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;blink&gt;Unblinkable.&lt;/blink&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;Unblinkable.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> {}<span class='comma'>,</span> <span class='label'>sanitize:</span> <span class='kw'>false</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a target=\&quot;_blank\&quot; href=\&quot;http://example.com\&quot;&gt;Continue&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> {}<span class='comma'>,</span> { <span class='label'>sanitize_options:</span> { <span class='label'>attributes:</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>target</span><span class='words_sep'> </span><span class='tstring_content'>href</span><span class='tstring_end'>]</span></span> } })
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;a target=\&quot;_blank\&quot; href=\&quot;http://example.com\&quot;&gt;Continue&lt;/a&gt;&lt;/p&gt;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L383-L396'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='383' data-end='396'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 383</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_simple_format'>simple_format</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_sanitize'>sanitize</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sanitize_options'>sanitize_options</span><span class='comma'>,</span> {})) <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sanitize'>sanitize</span><span class='comma'>,</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_paragraphs'>paragraphs</span> <span class='op'>=</span> <span class='id identifier rubyid_split_paragraphs'><a href="#split_paragraphs-instance_method" title="ActionView::Helpers::TextHelper#split_paragraphs (method)">split_paragraphs</a></span>(<span class='id identifier rubyid_text'>text</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_paragraphs'>paragraphs</span>.<span class='id identifier rubyid_map!'>map!</span> { <span class='op'>|</span><span class='id identifier rubyid_paragraph'>paragraph</span><span class='op'>|</span>
      <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_raw'>raw</span>(<span class='id identifier rubyid_paragraph'>paragraph</span>)<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>)
    }.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_html_safe'>html_safe</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split_paragraphs-instance_method">
  <h3 class='signature priv'>
    #<strong>split_paragraphs</strong>(text)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L539-L545'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='539' data-end='545'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 539</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split_paragraphs'>split_paragraphs</span>(<span class='id identifier rubyid_text'>text</span>)
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_to_str'>to_str</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r\n?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n\n+</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^\n]\n)(?=[^\n])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1&lt;br /&gt;</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>||</span> <span class='id identifier rubyid_t'>t</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="truncate-instance_method">
  <h3 class='signature '>
    #<strong>truncate</strong>(text, options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Truncates <code>text</code> if it is longer than a specified <code>:length</code>. If <code>text</code> is truncated, an omission marker will be appended to the result for a total length not exceeding <code>:length</code>.</p>

<p>You can also pass a block to render and append extra content after the omission marker when <code>text</code> is truncated. However, this content <em>can</em> cause the total length to exceed <code>:length</code> characters.</p>

<p>The result will be escaped unless <code>escape: false</code> is specified. In any case, the result will be marked HTML-safe. Care should be taken if <code>text</code> might contain HTML tags or entities, because truncation could produce invalid HTML, such as unbalanced or incomplete tags.</p>

<h4 id="label-Options">Options</h4>
<dl class="rdoc-list label-list"><dt><code>:length</code></dt>
<dd>
<p>The maximum number of characters that should be returned, excluding any extra content from the block. Defaults to 30.</p>
</dd><dt><code>:omission</code></dt>
<dd>
<p>The string to append after truncating. Defaults to  <code>&quot;...&quot;</code>.</p>
</dd><dt><code>:separator</code></dt>
<dd>
<p>A string or regexp used to find a breaking point at which to truncate. By default, truncation can occur at any character in <code>text</code>.</p>
</dd><dt><code>:escape</code></dt>
<dd>
<p>Whether to escape the result. Defaults to true.</p>
</dd></dl>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;Once upon a time in a world...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>17</span>)
<span class='comment'># =&gt; &quot;Once upon a ti...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>17</span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;Once upon a...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>And they found that many people were sleeping better.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>... (continued)</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;And they f... (continued)&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;&amp;lt;p&amp;gt;Once upon a time in a wo...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>escape:</span> <span class='kw'>false</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;Once upon a time in a wo...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span>) { <span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Continue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='tstring_end'>&quot;</span></span> }
<span class='comment'># =&gt; &quot;Once upon a time in a world...&lt;a href=\&quot;#\&quot;&gt;Continue&lt;/a&gt;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L122-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='131'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_truncate'>truncate</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>
    <span class='id identifier rubyid_length'>length</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='int'>30</span>)

    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_truncate'>truncate</span>(<span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_escape'>escape</span>] <span class='op'>==</span> <span class='kw'>false</span> <span class='op'>?</span> <span class='id identifier rubyid_content'>content</span>.<span class='id identifier rubyid_html_safe'>html_safe</span> <span class='op'>:</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span>.<span class='id identifier rubyid_html_escape'><a href="../../ActiveSupport/CoreExt/ERBUtil.html#html_escape-instance_method" title="ActiveSupport::CoreExt::ERBUtil#html_escape (method)">html_escape</a></span>(<span class='id identifier rubyid_content'>content</span>)
    <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_capture'>capture</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="word_wrap-instance_method">
  <h3 class='signature '>
    #<strong>word_wrap</strong>(text, line_width: 80, break_sequence: &quot;\n&quot;)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Wraps the <code>text</code> into lines no longer than <code>line_width</code> width. This method breaks on the first whitespace character that does not exceed <code>line_width</code> (which is 80 by default).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Once upon a time</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;Once upon a time&quot;
</span>
<span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding a successor to the throne turned out to be more trouble than anyone could have imagined...</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding\na successor to the throne turned out to be more trouble than anyone could have\nimagined...&quot;
</span>
<span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Once upon a time</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>8</span>)
<span class='comment'># =&gt; &quot;Once\nupon a\ntime&quot;
</span>
<span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Once upon a time</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>1</span>)
<span class='comment'># =&gt; &quot;Once\nupon\na\ntime&quot;</span></code></pre>

<p>You can also specify a custom <code>break_sequence</code> (“n” by default):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Once upon a time</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>break_sequence:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;Once\r\nupon\r\na\r\ntime&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/text_helper.rb#L327-L341'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='327' data-end='341'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 327</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_word_wrap'>word_wrap</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>80</span><span class='comma'>,</span> <span class='label'>break_sequence:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>return</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Match up to `line_width` characters, followed by one of
</span>  <span class='comment'>#   (1) non-newline whitespace plus an optional newline
</span>  <span class='comment'>#   (2) the end of the string, ignoring any trailing newlines
</span>  <span class='comment'>#   (3) a newline
</span>  <span class='comment'>#
</span>  <span class='comment'># -OR-
</span>  <span class='comment'>#
</span>  <span class='comment'># Match an empty line
</span>  <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_width'>line_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>})(?:[^\S\n]+\n?|\n*\Z|\n)|\n</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_break_sequence'>break_sequence</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='id identifier rubyid_break_sequence'>break_sequence</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>