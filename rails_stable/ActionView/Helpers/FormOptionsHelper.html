<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::FormOptionsHelper &mdash; Rails 8-0-stable</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::FormOptionsHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 8-0-stable</a> &raquo; 
      <a href='../../_index.html#alpha_F'>Index (F)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>FormOptionsHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::FormOptionsHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a class='nodoc' href="../../ActionDispatch/DebugView.html" title="ActionDispatch::DebugView (class)"><code>::ActionDispatch::DebugView</code></a>,
          <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)"><code>::ActionView::Helpers</code></a>,
          <a class='nodoc' href="Tags/CollectionCheckBoxes.html" title="ActionView::Helpers::Tags::CollectionCheckBoxes (class)"><code>Tags::CollectionCheckBoxes</code></a>,
          <a class='nodoc' href="Tags/CollectionRadioButtons.html" title="ActionView::Helpers::Tags::CollectionRadioButtons (class)"><code>Tags::CollectionRadioButtons</code></a>,
          <a class='nodoc' href="Tags/CollectionSelect.html" title="ActionView::Helpers::Tags::CollectionSelect (class)"><code>Tags::CollectionSelect</code></a>,
          <a class='nodoc' href="Tags/GroupedCollectionSelect.html" title="ActionView::Helpers::Tags::GroupedCollectionSelect (class)"><code>Tags::GroupedCollectionSelect</code></a>,
          <a class='nodoc' href="Tags/Select.html" title="ActionView::Helpers::Tags::Select (class)"><code>Tags::Select</code></a>,
          <a class='nodoc' href="Tags/TimeZoneSelect.html" title="ActionView::Helpers::Tags::TimeZoneSelect (class)"><code>Tags::TimeZoneSelect</code></a>,
          <a class='nodoc' href="Tags/WeekdaySelect.html" title="ActionView::Helpers::Tags::WeekdaySelect (class)"><code>Tags::WeekdaySelect</code></a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)"><code>::ActionView::TestCase</code></a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)"><code>::ActionView::TestCase::Behavior</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)"><code>TextHelper</code></a>,
          <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a>,
          <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a>,
          <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a>,
          <a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L95'>actionview/lib/action_view/helpers/form_options_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Action+View+Form+Option+Helpers">Action View Form Option Helpers</h3>

<p>Provides a number of methods for turning different kinds of containers into a set of option tags.</p>

<p>The <a href="#collection_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_select (method)">#collection_select</a>, <a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">#select</a> and <a href="#time_zone_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_select (method)">#time_zone_select</a> methods take an <code>options</code> parameter, a hash:</p>
<ul><li>
<p><code>:include_blank</code> - set to true or a prompt string if the first option element of the select element is a blank. Useful if there is not a default value required for the select element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='const'>Post</span><span class='op'>::</span><span class='const'>CATEGORIES</span><span class='comma'>,</span> { <span class='label'>include_blank:</span> <span class='kw'>true</span> })</code></pre>

<p>could become:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[category]&quot; id=&quot;post_category&quot;&gt;
  &lt;option value=&quot;&quot; label=&quot; &quot;&gt;&lt;/option&gt;
  &lt;option value=&quot;joke&quot;&gt;joke&lt;/option&gt;
  &lt;option value=&quot;poem&quot;&gt;poem&lt;/option&gt;
&lt;/select&gt;
</code></pre>

<p>Another common case is a select tag for a <code>belongs_to</code>-associated object.</p>

<p>Example with <code>@post.person_id =&gt; 2</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_person_id'>person_id</span><span class='comma'>,</span> <span class='const'>Person</span>.<span class='id identifier rubyid_all'>all</span>.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> [ <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_id'>id</span> ] }<span class='comma'>,</span> { <span class='label'>include_blank:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>None</span><span class='tstring_end'>&quot;</span></span> })</code></pre>

<p>could become:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;
  &lt;option value=&quot;&quot;&gt;None&lt;/option&gt;
  &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot; selected=&quot;selected&quot;&gt;Eileen&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;
&lt;/select&gt;
</code></pre>
</li><li>
<p><code>:prompt</code> - set to true or a prompt string. When the select element doesn’t have a value yet, this prepends an option with a generic prompt – “Please select” – or the given prompt string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_person_id'>person_id</span><span class='comma'>,</span> <span class='const'>Person</span>.<span class='id identifier rubyid_all'>all</span>.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> [ <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_id'>id</span> ] }<span class='comma'>,</span> { <span class='label'>prompt:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select Person</span><span class='tstring_end'>&quot;</span></span> })</code></pre>

<p>could become:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;
  &lt;option value=&quot;&quot;&gt;Select Person&lt;/option&gt;
  &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot;&gt;Eileen&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;
&lt;/select&gt;
</code></pre>
</li><li>
<p><code>:index</code> - like the other form helpers, <a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">#select</a> can accept an <code>:index</code> option to manually set the ID used in the resulting output. Unlike other helpers, <a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">#select</a> expects this option to be in the <code>html_options</code> parameter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>album[]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_genre'>genre</span><span class='comma'>,</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='words_sep'> </span><span class='tstring_content'>rap</span><span class='words_sep'> </span><span class='tstring_content'>rock</span><span class='words_sep'> </span><span class='tstring_content'>country</span><span class='words_sep'> </span><span class='tstring_end'>]</span></span><span class='comma'>,</span> {}<span class='comma'>,</span> { <span class='label'>index:</span> <span class='kw'>nil</span> })</code></pre>

<p>becomes:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;album[][genre]&quot; id=&quot;album__genre&quot;&gt;
  &lt;option value=&quot;rap&quot;&gt;rap&lt;/option&gt;
  &lt;option value=&quot;rock&quot;&gt;rock&lt;/option&gt;
  &lt;option value=&quot;country&quot;&gt;country&lt;/option&gt;
&lt;/select&gt;
</code></pre>
</li><li>
<p><code>:disabled</code> - can be a single value or an array of values that will be disabled options in the final output.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='const'>Post</span><span class='op'>::</span><span class='const'>CATEGORIES</span><span class='comma'>,</span> { <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restricted</span><span class='tstring_end'>&quot;</span></span> })</code></pre>

<p>could become:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[category]&quot; id=&quot;post_category&quot;&gt;
  &lt;option value=&quot;joke&quot;&gt;joke&lt;/option&gt;
  &lt;option value=&quot;poem&quot;&gt;poem&lt;/option&gt;
  &lt;option disabled=&quot;disabled&quot; value=&quot;restricted&quot;&gt;restricted&lt;/option&gt;
&lt;/select&gt;
</code></pre>

<p>When used with the <a href="#collection_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_select (method)">#collection_select</a> helper, <code>:disabled</code> can also be a Proc that identifies those options that should be disabled.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_select'><a href="#collection_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_select (method)">collection_select</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_category_id'>category_id</span><span class='comma'>,</span> <span class='const'>Category</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> { <span class='label'>disabled:</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_category'>category</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_category'>category</span>.<span class='id identifier rubyid_archived?'>archived?</span> } })</code></pre>

<p>If the categories “2008 stuff” and “Christmas” return true when the method <code>archived?</code> is called, this would return:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[category_id]&quot; id=&quot;post_category_id&quot;&gt;
  &lt;option value=&quot;1&quot; disabled=&quot;disabled&quot;&gt;2008 stuff&lt;/option&gt;
  &lt;option value=&quot;2&quot; disabled=&quot;disabled&quot;&gt;Christmas&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Jokes&lt;/option&gt;
  &lt;option value=&quot;4&quot;&gt;Poems&lt;/option&gt;
&lt;/select&gt;
</code></pre>
</li></ul>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="TagHelper.html#ARIA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::ARIA_PREFIXES (constant)">ARIA_PREFIXES</a>, 
    <a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">BOOLEAN_ATTRIBUTES</a>, 
    <a href="TagHelper.html#DATA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::DATA_PREFIXES (constant)">DATA_PREFIXES</a>, 
    <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">PRE_CONTENT_STRINGS</a>, 
    <a href="TagHelper.html#TAG_TYPES-constant" title="ActionView::Helpers::TagHelper::TAG_TYPES (constant)">TAG_TYPES</a>
  </p>
</div>

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m rw' href="SanitizeHelper.html#sanitizer_vendor-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitizer_vendor (method)">#sanitizer_vendor</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#collection_check_boxes-instance_method" title="#collection_check_boxes (instance method)">#<strong>collection_check_boxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#collection_checkboxes-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_checkboxes (method)">#collection_checkboxes</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collection_checkboxes-instance_method" title="#collection_checkboxes (instance method)">#<strong>collection_checkboxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  </a>
      (also: #collection_check_boxes)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns check box tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collection_radio_buttons-instance_method" title="#collection_radio_buttons (instance method)">#<strong>collection_radio_buttons</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns radio button tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collection_select-instance_method" title="#collection_select (instance method)">#<strong>collection_select</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>&lt;select&gt;</code> and <code>&lt;option&gt;</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grouped_collection_select-instance_method" title="#grouped_collection_select (instance method)">#<strong>grouped_collection_select</strong>(object, method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code> and <code>&lt;option&gt;</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grouped_options_for_select-instance_method" title="#grouped_options_for_select (instance method)">#<strong>grouped_options_for_select</strong>(grouped_options, selected_key = nil, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string of <code>&lt;option&gt;</code> tags, like <a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">#options_for_select</a>, but wraps them with <code>&lt;optgroup&gt;</code> tags:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#option_groups_from_collection_for_select-instance_method" title="#option_groups_from_collection_for_select (instance method)">#<strong>option_groups_from_collection_for_select</strong>(collection, group_method, group_label_method, option_key_method, option_value_method, selected_key = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string of <code>&lt;option&gt;</code> tags, like <a href="#options_from_collection_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_from_collection_for_select (method)">#options_from_collection_for_select</a>, but groups them by <code>&lt;optgroup&gt;</code> tags based on the object relationships of the arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#options_for_select-instance_method" title="#options_for_select (instance method)">#<strong>options_for_select</strong>(container, selected = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Accepts a container (hash, array, enumerable, your type) and returns a string of option tags.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#options_from_collection_for_select-instance_method" title="#options_from_collection_for_select (instance method)">#<strong>options_from_collection_for_select</strong>(collection, value_method, text_method, selected = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string of option tags that have been compiled by iterating over the <code>collection</code> and assigning the result of a call to the <code>value_method</code> as the option value and the <code>text_method</code> as the option text.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(object, method, choices = nil, options = {}, html_options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a select tag and a series of contained option tags for the provided object and method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#time_zone_options_for_select-instance_method" title="#time_zone_options_for_select (instance method)">#<strong>time_zone_options_for_select</strong>(selected = nil, priority_zones = nil, model = ::ActiveSupport::TimeZone)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string of option tags for pretty much any time zone in the world.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#time_zone_select-instance_method" title="#time_zone_select (instance method)">#<strong>time_zone_select</strong>(object, method, priority_zones = nil, options = {}, html_options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns select and option tags for the given object and method, using <a href="#time_zone_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_options_for_select (method)">#time_zone_options_for_select</a> to generate the list of option tags.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#weekday_options_for_select-instance_method" title="#weekday_options_for_select (instance method)">#<strong>weekday_options_for_select</strong>(selected = nil, index_as_value: false, day_format: :day_names, beginning_of_week: Date.beginning_of_week)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string of option tags for the days of the week.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#weekday_select-instance_method" title="#weekday_select (instance method)">#<strong>weekday_select</strong>(object, method, options = {}, html_options = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns select and option tags for the given object and method, using <a href="#weekday_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#weekday_options_for_select (method)">#weekday_options_for_select</a> to generate the list of option tags.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#extract_selected_and_disabled-instance_method" title="#extract_selected_and_disabled (instance method)">#<strong>extract_selected_and_disabled</strong>(selected)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#extract_values_from_collection-instance_method" title="#extract_values_from_collection (instance method)">#<strong>extract_values_from_collection</strong>(collection, value_method, selected)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#option_html_attributes-instance_method" title="#option_html_attributes (instance method)">#<strong>option_html_attributes</strong>(element)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#option_text_and_value-instance_method" title="#option_text_and_value (instance method)">#<strong>option_text_and_value</strong>(option)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#option_value_selected%3F-instance_method" title="#option_value_selected? (instance method)">#<strong>option_value_selected?</strong>(value, selected)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#prompt_text-instance_method" title="#prompt_text (instance method)">#<strong>prompt_text</strong>(prompt)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#value_for_collection-instance_method" title="#value_for_collection (instance method)">#<strong>value_for_collection</strong>(item, value)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)"><code>TextHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#concat-instance_method" title="ActionView::Helpers::TextHelper#concat (method)">#concat</a></td>
      <td><div class='inline'><p>The preferred method of outputting text in your views is to use the <code>&lt;%= &quot;text&quot; %&gt;</code> eRuby syntax.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#current_cycle-instance_method" title="ActionView::Helpers::TextHelper#current_cycle (method)">#current_cycle</a></td>
      <td><div class='inline'><p>Returns the current cycle string after a cycle has been started.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#cycle-instance_method" title="ActionView::Helpers::TextHelper#cycle (method)">#cycle</a></td>
      <td><div class='inline'><p>Creates a Cycle object whose <code>to_s</code> method cycles through elements of an array every time it is called.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#excerpt-instance_method" title="ActionView::Helpers::TextHelper#excerpt (method)">#excerpt</a></td>
      <td><div class='inline'><p>Extracts the first occurrence of <code>phrase</code> plus surrounding text from <code>text</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#highlight-instance_method" title="ActionView::Helpers::TextHelper#highlight (method)">#highlight</a></td>
      <td><div class='inline'><p>Highlights occurrences of <code>phrases</code> in <code>text</code> by formatting them with a highlighter string.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#pluralize-instance_method" title="ActionView::Helpers::TextHelper#pluralize (method)">#pluralize</a></td>
      <td><div class='inline'><p>Attempts to pluralize the <code>singular</code> word unless <code>count</code> is 1.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#reset_cycle-instance_method" title="ActionView::Helpers::TextHelper#reset_cycle (method)">#reset_cycle</a></td>
      <td><div class='inline'><p>Resets a cycle so that it starts from the first element the next time it is called.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="TextHelper.html#safe_concat-instance_method" title="ActionView::Helpers::TextHelper#safe_concat (method)">#safe_concat</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#simple_format-instance_method" title="ActionView::Helpers::TextHelper#simple_format (method)">#simple_format</a></td>
      <td><div class='inline'><p>Returns <code>text</code> transformed into HTML using simple formatting rules.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#truncate-instance_method" title="ActionView::Helpers::TextHelper#truncate (method)">#truncate</a></td>
      <td><div class='inline'><p>Truncates <code>text</code> if it is longer than a specified <code>:length</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TextHelper.html#word_wrap-instance_method" title="ActionView::Helpers::TextHelper#word_wrap (method)">#word_wrap</a></td>
      <td><div class='inline'><p>Wraps the <code>text</code> into lines no longer than <code>line_width</code> width.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="TextHelper.html#cut_excerpt_part-instance_method" title="ActionView::Helpers::TextHelper#cut_excerpt_part (method)">#cut_excerpt_part</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="TextHelper.html#get_cycle-instance_method" title="ActionView::Helpers::TextHelper#get_cycle (method)">#get_cycle</a></td>
      <td><div class='inline'><p>The cycle helpers need to store the cycles in a place that is guaranteed to be reset every time a page is rendered, so it uses an instance variable of <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="TextHelper.html#set_cycle-instance_method" title="ActionView::Helpers::TextHelper#set_cycle (method)">#set_cycle</a>,
        <a class='i_m priv' href="TextHelper.html#split_paragraphs-instance_method" title="ActionView::Helpers::TextHelper#split_paragraphs (method)">#split_paragraphs</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a></td>
      <td><div class='inline'><p>Returns a CDATA section with the given <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#class_names-instance_method" title="ActionView::Helpers::TagHelper#class_names (method)">#class_names</a></td>
      <td><div class='inline'><p>Alias for <a href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">TagHelper#token_list</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a></td>
      <td><div class='inline'><p>Returns an HTML block tag of type <code>name</code> surrounding the <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a></td>
      <td><div class='inline'><p>Returns an escaped version of <code>html</code> without affecting existing escaped entities.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></td>
      <td><div class='inline'><p>Returns an HTML tag.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">#token_list</a></td>
      <td><div class='inline'><p>Returns a string of tokens built from <code>args</code>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="TagHelper.html#build_tag_values-instance_method" title="ActionView::Helpers::TagHelper#build_tag_values (method)">#build_tag_values</a>,
        <a class='i_m priv' href="TagHelper.html#ensure_valid_html5_tag_name-instance_method" title="ActionView::Helpers::TagHelper#ensure_valid_html5_tag_name (method)">#ensure_valid_html5_tag_name</a>,
        <a class='i_m priv' href="TagHelper.html#tag_builder-instance_method" title="ActionView::Helpers::TagHelper#tag_builder (method)">#tag_builder</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a></td>
      <td><div class='inline'><p>This method outputs without escaping a string.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a></td>
      <td><div class='inline'><p>This method returns an HTML safe string similar to what <code>Array#join</code> would return.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></td>
      <td><div class='inline'><p>Converts the array to a comma-separated sentence where the last element is joined by the connector word.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a></td>
      <td><div class='inline'><p>The capture method extracts part of a template as a string object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a></td>
      <td><div class='inline'><p>Calling <code>content_for</code> stores a block of markup in an identifier for later use.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a></td>
      <td><div class='inline'><p><code>content_for?</code> checks whether any content has been captured yet using <code>content_for</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a></td>
      <td><div class='inline'><p>The same as <code>content_for</code> but when used with streaming flushes straight back to the layout.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m nodoc' href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></td>
      <td><div class='inline'><p>Use an alternate output buffer for the duration of the block.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)"><code>SanitizeHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">#sanitize</a></td>
      <td><div class='inline'><p>Sanitizes HTML input, stripping all but known-safe tags and attributes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#sanitize_css-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize_css (method)">#sanitize_css</a></td>
      <td><div class='inline'><p>Sanitizes a block of CSS code.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#strip_links-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_links (method)">#strip_links</a></td>
      <td><div class='inline'><p>Strips all link tags from <code>html</code> leaving just the link text.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SanitizeHelper.html#strip_tags-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_tags (method)">#strip_tags</a></td>
      <td><div class='inline'><p>Strips all HTML tags from <code>html</code>, including comments and special characters.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="collection_check_boxes-instance_method">
  <h3 class='signature  first'>
    #<strong>collection_check_boxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#collection_checkboxes-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_checkboxes (method)">#collection_checkboxes</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L789-L789'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='789' data-end='789'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 789</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_collection_check_boxes'>collection_check_boxes</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_collection_checkboxes'><a href="#collection_checkboxes-instance_method" title="ActionView::Helpers::FormOptionsHelper#collection_checkboxes (method)">collection_checkboxes</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collection_checkboxes-instance_method">
  <h3 class='signature '>
    #<strong>collection_checkboxes</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#collection_check_boxes</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns check box tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class. The value returned from calling <code>method</code> on the instance <code>object</code> will be selected. If calling <code>method</code> returns <code>nil</code>, no selection is made.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are methods to be called on each member of <code>collection</code>. The return values are used as the <code>value</code> attribute and contents of each check box tag, respectively. They can also be any object that responds to <code>call</code>, such as a <code>proc</code>, that will be called for each member of the <code>collection</code> to retrieve the value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_and_belongs_to_many'>has_and_belongs_to_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_authors'>authors</span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_and_belongs_to_many'>has_and_belongs_to_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post, <code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_checkboxes'>collection_checkboxes</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_ids'>author_ids</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>)</code></pre>

<p>If <code>@post.author_ids</code> is already <code>[1]</code>, this would return:</p>

<pre class="code xml"><code class="xml">&lt;input id=&quot;post_author_ids_1&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;
&lt;label for=&quot;post_author_ids_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;
&lt;input id=&quot;post_author_ids_2&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;2&quot; /&gt;
&lt;label for=&quot;post_author_ids_2&quot;&gt;D. Thomas&lt;/label&gt;
&lt;input id=&quot;post_author_ids_3&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;3&quot; /&gt;
&lt;label for=&quot;post_author_ids_3&quot;&gt;M. Clark&lt;/label&gt;
&lt;input name=&quot;post[author_ids][]&quot; type=&quot;hidden&quot; value=&quot;&quot; /&gt;
</code></pre>

<p>It is also possible to customize the way the elements will be shown by giving a block to the method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_checkboxes'>collection_checkboxes</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_ids'>author_ids</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span> { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_checkbox'>checkbox</span> }
<span class='kw'>end</span></code></pre>

<p>The argument passed to the block is a special kind of builder for this collection, which has the ability to generate the label and check box for the current item in the collection, with proper text and value. Using it, you can change the label and check box display order or even use the label as wrapper, as in the example above.</p>

<p>The builder methods <code>label</code> and <code>checkbox</code> also accept extra HTML options:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_checkboxes'>collection_checkboxes</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_ids'>author_ids</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span>(<span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>&quot;</span></span>) { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_checkbox'>checkbox</span>(<span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>&quot;</span></span>) }
<span class='kw'>end</span></code></pre>

<p>There are also three special methods available: <code>object</code>, <code>text</code> and <code>value</code>, which are the current item being rendered, its text and value methods, respectively. You can use them like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_checkboxes'>collection_checkboxes</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_ids'>author_ids</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
   <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span>(<span class='symbeg'>:&quot;</span><span class='tstring_content'>data-value</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_value'>value</span>) { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_checkbox'>checkbox</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_text'>text</span> }
<span class='kw'>end</span></code></pre>

<h4 id="label-Gotcha">Gotcha</h4>

<p>When no selection is made for a collection of checkboxes most web browsers will not send any value.</p>

<p>For example, if we have a <code>User</code> model with <code>category_ids</code> field and we have the following code in our update action:</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@user</span>.<span class='id identifier rubyid_update'>update</span>(<span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span>])</code></pre>

<p>If no <code>category_ids</code> are selected then we can safely assume this field will not be updated.</p>

<p>This is possible thanks to a hidden field generated by the helper method for every collection of checkboxes. This hidden field is given the same field name as the checkboxes with a blank value.</p>

<p>In the rare case you don’t want this hidden field, you can pass the <code>include_hidden: false</code> option to the helper method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L786-L788'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='786' data-end='788'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 786</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_checkboxes'>collection_checkboxes</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionCheckBoxes.html" title="ActionView::Helpers::Tags::CollectionCheckBoxes (class)">CollectionCheckBoxes</a></span>.<span class='id identifier rubyid_new'><a href="Tags/Base.html#new-class_method" title="ActionView::Helpers::Tags::Base.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>).<span class='id identifier rubyid_render'><a href="Tags/Base.html#render-instance_method" title="ActionView::Helpers::Tags::Base#render (method)">render</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collection_radio_buttons-instance_method">
  <h3 class='signature '>
    #<strong>collection_radio_buttons</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns radio button tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class. The value returned from calling <code>method</code> on the instance <code>object</code> will be selected. If calling <code>method</code> returns <code>nil</code>, no selection is made.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are methods to be called on each member of <code>collection</code>. The return values are used as the <code>value</code> attribute and contents of each radio button tag, respectively. They can also be any object that responds to <code>call</code>, such as a <code>proc</code>, that will be called for each member of the <code>collection</code> to retrieve the value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author'>author</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post, <code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_id'>author_id</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>)</code></pre>

<p>If <code>@post.author_id</code> is already <code>1</code>, this would return:</p>

<pre class="code xml"><code class="xml">&lt;input id=&quot;post_author_id_1&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;
&lt;label for=&quot;post_author_id_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;
&lt;input id=&quot;post_author_id_2&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;2&quot; /&gt;
&lt;label for=&quot;post_author_id_2&quot;&gt;D. Thomas&lt;/label&gt;
&lt;input id=&quot;post_author_id_3&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;3&quot; /&gt;
&lt;label for=&quot;post_author_id_3&quot;&gt;M. Clark&lt;/label&gt;
</code></pre>

<p>It is also possible to customize the way the elements will be shown by giving a block to the method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_id'>author_id</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span> { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_radio_button'>radio_button</span> }
<span class='kw'>end</span></code></pre>

<p>The argument passed to the block is a special kind of builder for this collection, which has the ability to generate the label and radio button for the current item in the collection, with proper text and value. Using it, you can change the label and radio button display order or even use the label as wrapper, as in the example above.</p>

<p>The builder methods <code>label</code> and <code>radio_button</code> also accept extra HTML options:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_id'>author_id</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span>(<span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio_button</span><span class='tstring_end'>&quot;</span></span>) { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_radio_button'>radio_button</span>(<span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio_button</span><span class='tstring_end'>&quot;</span></span>) }
<span class='kw'>end</span></code></pre>

<p>There are also three special methods available: <code>object</code>, <code>text</code> and <code>value</code>, which are the current item being rendered, its text and value methods, respectively. You can use them like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_id'>author_id</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
   <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_label'>label</span>(<span class='symbeg'>:&quot;</span><span class='tstring_content'>data-value</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_value'>value</span>) { <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_radio_button'>radio_button</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_text'>text</span> }
<span class='kw'>end</span></code></pre>

<h4 id="label-Gotcha">Gotcha</h4>

<p>The HTML specification says when nothing is selected on a collection of radio buttons web browsers do not send any value to server. Unfortunately this introduces a gotcha: if a <code>User</code> model has a <code>category_id</code> field and in the form no category is selected, no <code>category_id</code> parameter is sent. So, any strong parameters idiom like:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span>.<span class='id identifier rubyid_expect'>expect</span>(<span class='label'>user:</span> [<span class='op'>...</span>])</code></pre>

<p>will raise an error since no <code>{user: ...}</code> will be present.</p>

<p>To prevent this the helper generates an auxiliary hidden field before every collection of radio buttons. The hidden field has the same name as collection radio button and blank value.</p>

<p>In case if you don’t want the helper to generate this hidden field you can specify <code>include_hidden: false</code> option.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L702-L704'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='702' data-end='704'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 702</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_radio_buttons'>collection_radio_buttons</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionRadioButtons.html" title="ActionView::Helpers::Tags::CollectionRadioButtons (class)">CollectionRadioButtons</a></span>.<span class='id identifier rubyid_new'><a href="Tags/Base.html#new-class_method" title="ActionView::Helpers::Tags::Base.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>).<span class='id identifier rubyid_render'><a href="Tags/Base.html#render-instance_method" title="ActionView::Helpers::Tags::Base#render (method)">render</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collection_select-instance_method">
  <h3 class='signature '>
    #<strong>collection_select</strong>(object, method, collection, value_method, text_method, options = {}, html_options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>&lt;select&gt;</code> and <code>&lt;option&gt;</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class. The value returned from calling <code>method</code> on the instance <code>object</code> will be selected. If calling <code>method</code> returns <code>nil</code>, no selection is made without including <code>:prompt</code> or <code>:include_blank</code> in the <code>options</code> hash.</p>

<p>The <code>:value_method</code> and <code>:text_method</code> parameters are methods to be called on each member of <code>collection</code>. The return values are used as the <code>value</code> attribute and contents of each <code>&lt;option&gt;</code> tag, respectively. They can also be any object that responds to <code>call</code>, such as a <code>proc</code>, that will be called for each member of the <code>collection</code> to retrieve the value/text.</p>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author'>author</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Author</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_posts'>posts</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_name_with_initial'>name_with_initial</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_name'>first_name</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_last_name'>last_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Sample usage (selecting the associated Author for an instance of Post, <code>@post</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_collection_select'>collection_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author_id'>author_id</span><span class='comma'>,</span> <span class='const'>Author</span>.<span class='id identifier rubyid_all'>all</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name_with_initial'>name_with_initial</span><span class='comma'>,</span> <span class='label'>prompt:</span> <span class='kw'>true</span>)</code></pre>

<p>If <code>@post.author_id</code> is already <code>1</code>, this would return:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[author_id]&quot; id=&quot;post_author_id&quot;&gt;
  &lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;
  &lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;D. Heinemeier Hansson&lt;/option&gt;
  &lt;option value=&quot;2&quot;&gt;D. Thomas&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;M. Clark&lt;/option&gt;
&lt;/select&gt;
</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L200-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='200' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 200</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collection_select'>collection_select</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {})
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/CollectionSelect.html" title="ActionView::Helpers::Tags::CollectionSelect (class)">CollectionSelect</a></span>.<span class='id identifier rubyid_new'><a href="Tags/CollectionSelect.html#new-class_method" title="ActionView::Helpers::Tags::CollectionSelect.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>).<span class='id identifier rubyid_render'><a href="Tags/CollectionSelect.html#render-instance_method" title="ActionView::Helpers::Tags::CollectionSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_selected_and_disabled-instance_method">
  <h3 class='signature priv'>
    #<strong>extract_selected_and_disabled</strong>(selected)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L814-L823'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='814' data-end='823'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 814</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_selected_and_disabled'>extract_selected_and_disabled</span>(<span class='id identifier rubyid_selected'>selected</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Proc</span>)
    [<span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='kw'>nil</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>.<span class='id identifier rubyid_wrap'><a href="../../Array.html#wrap-class_method" title="Array.wrap (method)">wrap</a></span>(<span class='id identifier rubyid_selected'>selected</span>)
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span>.<span class='id identifier rubyid_extract_options!'>extract_options!</span>.<span class='id identifier rubyid_symbolize_keys'>symbolize_keys</span>
    <span class='id identifier rubyid_selected_items'>selected_items</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
    [<span class='id identifier rubyid_selected_items'>selected_items</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_disabled'>disabled</span>]]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_values_from_collection-instance_method">
  <h3 class='signature priv'>
    #<strong>extract_values_from_collection</strong>(collection, value_method, selected)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L825-L833'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='825' data-end='833'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 825</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_values_from_collection'>extract_values_from_collection</span>(<span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Proc</span>)
    <span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_filter_map'>filter_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
      <span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_public_send'>public_send</span>(<span class='id identifier rubyid_value_method'>value_method</span>) <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_element'>element</span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_selected'>selected</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grouped_collection_select-instance_method">
  <h3 class='signature '>
    #<strong>grouped_collection_select</strong>(object, method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code> and <code>&lt;option&gt;</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>‘s class. The value returned from calling <code>method</code> on the instance <code>object</code> will be selected. If calling <code>method</code> returns <code>nil</code>, no selection is made without including <code>:prompt</code> or <code>:include_blank</code> in the <code>options</code> hash.</p>

<p>Parameters:</p>
<ul><li>
<p><code>object</code> - The instance of the class to be used for the select tag</p>
</li><li>
<p><code>method</code> - The attribute of <code>object</code> corresponding to the select tag</p>
</li><li>
<p><code>collection</code> - An array of objects representing the <code>&lt;optgroup&gt;</code> tags.</p>
</li><li>
<p><code>group_method</code> - The name of a method which, when called on a member of <code>collection</code>, returns an array of child objects representing the <code>&lt;option&gt;</code> tags. It can also be any object that responds to <code>call</code>, such as a <code>proc</code>, that will be called for each member of the <code>collection</code> to retrieve the value.</p>
</li><li>
<p><code>group_label_method</code> - The name of a method which, when called on a member of <code>collection</code>, returns a string to be used as the <code>label</code> attribute for its <code>&lt;optgroup&gt;</code> tag. It can also be any object that responds to <code>call</code>, such as a <code>proc</code>, that will be called for each member of the <code>collection</code> to retrieve the label.</p>
</li><li>
<p><code>option_key_method</code> - The name of a method which, when called on a child object of a member of <code>collection</code>, returns a value to be used as the <code>value</code> attribute for its <code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>option_value_method</code> - The name of a method which, when called on a child object of a member of <code>collection</code>, returns a value to be used as the contents of its <code>&lt;option&gt;</code> tag.</p>
</li></ul>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># attributes: id, name
</span><span class='kw'>class</span> <span class='const'>Continent</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_countries'>countries</span>
<span class='kw'>end</span>

<span class='comment'># attributes: id, name, continent_id
</span><span class='kw'>class</span> <span class='const'>Country</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_continent'>continent</span>
<span class='kw'>end</span>

<span class='comment'># attributes: id, name, country_id
</span><span class='kw'>class</span> <span class='const'>City</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_country'>country</span>
<span class='kw'>end</span></code></pre>

<p>Sample usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_collection_select'>grouped_collection_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_city'>city</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_country_id'>country_id</span><span class='comma'>,</span> <span class='ivar'>@continents</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_countries'>countries</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>)</code></pre>

<p>Possible output:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;city[country_id]&quot; id=&quot;city_country_id&quot;&gt;
  &lt;optgroup label=&quot;Africa&quot;&gt;
    &lt;option value=&quot;1&quot;&gt;South Africa&lt;/option&gt;
    &lt;option value=&quot;3&quot;&gt;Somalia&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup label=&quot;Europe&quot;&gt;
    &lt;option value=&quot;7&quot; selected=&quot;selected&quot;&gt;Denmark&lt;/option&gt;
    &lt;option value=&quot;2&quot;&gt;Ireland&lt;/option&gt;
  &lt;/optgroup&gt;
&lt;/select&gt;
</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L259-L261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='259' data-end='261'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 259</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_grouped_collection_select'>grouped_collection_select</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {})
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/GroupedCollectionSelect.html" title="ActionView::Helpers::Tags::GroupedCollectionSelect (class)">GroupedCollectionSelect</a></span>.<span class='id identifier rubyid_new'><a href="Tags/GroupedCollectionSelect.html#new-class_method" title="ActionView::Helpers::Tags::GroupedCollectionSelect.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>).<span class='id identifier rubyid_render'><a href="Tags/GroupedCollectionSelect.html#render-instance_method" title="ActionView::Helpers::Tags::GroupedCollectionSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grouped_options_for_select-instance_method">
  <h3 class='signature '>
    #<strong>grouped_options_for_select</strong>(grouped_options, selected_key = nil, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string of <code>&lt;option&gt;</code> tags, like <a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">#options_for_select</a>, but wraps them with <code>&lt;optgroup&gt;</code> tags:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> [
 [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
   [[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span>]]<span class='comma'>,</span>
 [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Europe</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
   [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span>]]
]
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span>(<span class='id identifier rubyid_grouped_options'>grouped_options</span>)

<span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> {
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> [[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Europe</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span>]
}
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span>(<span class='id identifier rubyid_grouped_options'>grouped_options</span>)</code></pre>

<p>Possible output:</p>

<pre class="code xml"><code class="xml">&lt;optgroup label=&quot;North America&quot;&gt;
  &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;
  &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;
&lt;/optgroup&gt;
&lt;optgroup label=&quot;Europe&quot;&gt;
  &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
  &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;
  &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;
&lt;/optgroup&gt;
</code></pre>

<h4 id="label-Parameters">Parameters</h4>
<ul><li>
<p><code>grouped_options</code> - Accepts a nested array or hash of strings. The first value serves as the <code>&lt;optgroup&gt;</code> label while the second value must be an array of options. The second value can be a nested array of text-value pairs. See <a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">#options_for_select</a> for more info.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Ex</span>. [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>[[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CA</span><span class='tstring_end'>&quot;</span></span>]]]</code></pre>

<p>An optional third value can be provided as HTML attributes for the <code>optgroup</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Ex</span>. [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>North America</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>[[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CA</span><span class='tstring_end'>&quot;</span></span>]]<span class='comma'>,</span> { <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span> }]</code></pre>
</li><li>
<p><code>selected_key</code> - A value equal to the <code>value</code> attribute for one of the <code>&lt;option&gt;</code> tags, which will have the <code>selected</code> attribute set. Note: It is possible for this value to match multiple options as you might have the same option in multiple groups. Each will then get <code>selected=&quot;selected&quot;</code>.</p>
</li></ul>

<h4 id="label-Options">Options</h4>
<ul><li>
<p><code>:prompt</code> - set to true or a prompt string. When the select element doesn’t have a value yet, this prepends an option with a generic prompt - “Please select” - or the given prompt string.</p>
</li><li>
<p><code>:divider</code> - the divider for the options groups.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_grouped_options'>grouped_options</span> <span class='op'>=</span> [
  [[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>United States</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Canada</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Germany</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>France</span><span class='tstring_end'>&#39;</span></span>]
]
<span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span>(<span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>divider:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>---------</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>Possible output:</p>

<pre class="code xml"><code class="xml">&lt;optgroup label=&quot;---------&quot;&gt;
  &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;
  &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;
&lt;/optgroup&gt;
&lt;optgroup label=&quot;---------&quot;&gt;
  &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
  &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;
  &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;
&lt;/optgroup&gt;
</code></pre>
</li></ul>

<p><strong>Note:</strong> Only the <code>&lt;optgroup&gt;</code> and <code>&lt;option&gt;</code> tags are returned, so you still have to wrap the output in an appropriate <code>&lt;select&gt;</code> tag.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L537-L561'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='537' data-end='561'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 537</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_grouped_options_for_select'>grouped_options_for_select</span>(<span class='id identifier rubyid_grouped_options'>grouped_options</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_prompt'>prompt</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_prompt'>prompt</span>]
  <span class='id identifier rubyid_divider'>divider</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_divider'>divider</span>]

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_html_safe'>html_safe</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_prompt'>prompt</span>
    <span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>option</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_prompt_text'><a href="#prompt_text-instance_method" title="ActionView::Helpers::FormOptionsHelper#prompt_text (method)">prompt_text</a></span>(<span class='id identifier rubyid_prompt'>prompt</span>)<span class='comma'>,</span> <span class='label'>value:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_grouped_options'>grouped_options</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_option_html_attributes'><a href="#option_html_attributes-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_html_attributes (method)">option_html_attributes</a></span>(<span class='id identifier rubyid_container'>container</span>)

    <span class='kw'>if</span> <span class='id identifier rubyid_divider'>divider</span>
      <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_divider'>divider</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> { <span class='label'>label:</span> <span class='id identifier rubyid_label'>label</span> }.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_html_attributes'>html_attributes</span>)
    <span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>optgroup</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options_for_select'><a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">options_for_select</a></span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span>)<span class='comma'>,</span> <span class='id identifier rubyid_html_attributes'>html_attributes</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_body'>body</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="option_groups_from_collection_for_select-instance_method">
  <h3 class='signature '>
    #<strong>option_groups_from_collection_for_select</strong>(collection, group_method, group_label_method, option_key_method, option_value_method, selected_key = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string of <code>&lt;option&gt;</code> tags, like <a href="#options_from_collection_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_from_collection_for_select (method)">#options_from_collection_for_select</a>, but groups them by <code>&lt;optgroup&gt;</code> tags based on the object relationships of the arguments.</p>

<p>Parameters:</p>
<ul><li>
<p><code>collection</code> - An array of objects representing the <code>&lt;optgroup&gt;</code> tags.</p>
</li><li>
<p><code>group_method</code> - The name of a method which, when called on a member of <code>collection</code>, returns an array of child objects representing the <code>&lt;option&gt;</code> tags.</p>
</li><li>
<p><code>group_label_method</code> - The name of a method which, when called on a member of <code>collection</code>, returns a string to be used as the <code>label</code> attribute for its <code>&lt;optgroup&gt;</code> tag.</p>
</li><li>
<p><code>option_key_method</code> - The name of a method which, when called on a child object of a member of <code>collection</code>, returns a value to be used as the <code>value</code> attribute for its <code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>option_value_method</code> - The name of a method which, when called on a child object of a member of <code>collection</code>, returns a value to be used as the contents of its <code>&lt;option&gt;</code> tag.</p>
</li><li>
<p><code>selected_key</code> - A value equal to the <code>value</code> attribute for one of the <code>&lt;option&gt;</code> tags, which will have the <code>selected</code> attribute set. Corresponds to the return value of one of the calls to <code>option_key_method</code>. If <code>nil</code>, no selection is made. Can also be a hash if disabled values are to be specified.</p>
</li></ul>

<p>Example object structure for use with this method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Continent</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_countries'>countries</span>
  <span class='comment'># attribs: id, name
</span><span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Country</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_continent'>continent</span>
  <span class='comment'># attribs: id, name, continent_id
</span><span class='kw'>end</span></code></pre>

<p>Sample usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_option_groups_from_collection_for_select'>option_groups_from_collection_for_select</span>(<span class='ivar'>@continents</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_countries'>countries</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='int'>3</span>)</code></pre>

<p>Possible output:</p>

<pre class="code xml"><code class="xml">&lt;optgroup label=&quot;Africa&quot;&gt;
  &lt;option value=&quot;1&quot;&gt;Egypt&lt;/option&gt;
  &lt;option value=&quot;4&quot;&gt;Rwanda&lt;/option&gt;
  ...
&lt;/optgroup&gt;
&lt;optgroup label=&quot;Asia&quot;&gt;
  &lt;option value=&quot;3&quot; selected=&quot;selected&quot;&gt;China&lt;/option&gt;
  &lt;option value=&quot;12&quot;&gt;India&lt;/option&gt;
  &lt;option value=&quot;5&quot;&gt;Japan&lt;/option&gt;
  ...
&lt;/optgroup&gt;
</code></pre>

<p><strong>Note:</strong> Only the <code>&lt;optgroup&gt;</code> and <code>&lt;option&gt;</code> tags are returned, so you still have to wrap the output in an appropriate <code>&lt;select&gt;</code> tag.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L463-L470'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='463' data-end='470'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 463</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_option_groups_from_collection_for_select'>option_groups_from_collection_for_select</span>(<span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
    <span class='id identifier rubyid_option_tags'>option_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_options_from_collection_for_select'><a href="#options_from_collection_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_from_collection_for_select (method)">options_from_collection_for_select</a></span>(
      <span class='id identifier rubyid_value_for_collection'><a href="#value_for_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#value_for_collection (method)">value_for_collection</a></span>(<span class='id identifier rubyid_group'>group</span><span class='comma'>,</span> <span class='id identifier rubyid_group_method'>group_method</span>)<span class='comma'>,</span> <span class='id identifier rubyid_option_key_method'>option_key_method</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value_method'>option_value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_key'>selected_key</span>)

    <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>optgroup</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_option_tags'>option_tags</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='id identifier rubyid_value_for_collection'><a href="#value_for_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#value_for_collection (method)">value_for_collection</a></span>(<span class='id identifier rubyid_group'>group</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label_method'>group_label_method</span>))
  <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>.<span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="option_html_attributes-instance_method">
  <h3 class='signature priv'>
    #<strong>option_html_attributes</strong>(element)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L792-L798'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='792' data-end='798'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 792</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_option_html_attributes'>option_html_attributes</span>(<span class='id identifier rubyid_element'>element</span>)
  <span class='kw'>if</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span> <span class='op'>===</span> <span class='id identifier rubyid_element'>element</span>
    <span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_e'>e</span> }.<span class='id identifier rubyid_reduce'>reduce</span>({}<span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_merge!'>merge!</span>)
  <span class='kw'>else</span>
    {}
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="option_text_and_value-instance_method">
  <h3 class='signature priv'>
    #<strong>option_text_and_value</strong>(option)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L800-L808'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='800' data-end='808'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 800</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_option_text_and_value'>option_text_and_value</span>(<span class='id identifier rubyid_option'>option</span>)
  <span class='comment'># Options are [text, value] pairs or strings used for both.
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../String.html" title="String (class)">String</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_last'>last</span>)
    <span class='id identifier rubyid_option'>option</span> <span class='op'>=</span> <span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_e'>e</span> } <span class='kw'>if</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span> <span class='op'>===</span> <span class='id identifier rubyid_option'>option</span>
    [<span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_option'>option</span>.<span class='id identifier rubyid_last'>last</span>]
  <span class='kw'>else</span>
    [<span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_option'>option</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="option_value_selected?-instance_method">
  <h3 class='signature priv'>
    #<strong>option_value_selected?</strong>(value, selected)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L810-L812'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='810' data-end='812'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 810</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_option_value_selected?'>option_value_selected?</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
  <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>(<span class='id identifier rubyid_selected'>selected</span>).<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options_for_select-instance_method">
  <h3 class='signature '>
    #<strong>options_for_select</strong>(container, selected = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Accepts a container (hash, array, enumerable, your type) and returns a string of option tags. Given a container where the elements respond to first and last (such as a two-element array), the “lasts” serve as option values and the “firsts” as option text. Hashes are turned into this form automatically, so the keys become “firsts” and values become lasts. If <code>selected</code> is specified, the matching “last” or element will get the selected option-tag. <code>selected</code> may also be an array of values to be selected when using a multiple select.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span>([[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dollar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Kroner</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DKK</span><span class='tstring_end'>&quot;</span></span>]])
<span class='comment'># =&gt; &lt;option value=&quot;$&quot;&gt;Dollar&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;DKK&quot;&gt;Kroner&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>([ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span> ]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;option value=&quot;VISA&quot;&gt;VISA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option selected=&quot;selected&quot; value=&quot;MasterCard&quot;&gt;MasterCard&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>({ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$20</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Plus</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$40</span><span class='tstring_end'>&quot;</span></span> }<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$40</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;option value=&quot;$20&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;$40&quot; selected=&quot;selected&quot;&gt;Plus&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>([ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterCard</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Discover</span><span class='tstring_end'>&quot;</span></span> ]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VISA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Discover</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'># =&gt; &lt;option selected=&quot;selected&quot; value=&quot;VISA&quot;&gt;VISA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;MasterCard&quot;&gt;MasterCard&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option selected=&quot;selected&quot; value=&quot;Discover&quot;&gt;Discover&lt;/option&gt;</span></code></pre>

<p>You can optionally provide HTML attributes as the last element of the array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span>([ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> { <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bold</span><span class='tstring_end'>&#39;</span></span> }]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sweden</span><span class='tstring_end'>&quot;</span></span> ]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sweden</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'># =&gt; &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;USA&quot; class=&quot;bold&quot; selected=&quot;selected&quot;&gt;USA&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Sweden&quot; selected=&quot;selected&quot;&gt;Sweden&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>([[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dollar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> { <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bold</span><span class='tstring_end'>&quot;</span></span> }]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Kroner</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DKK</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> { <span class='label'>onclick:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>alert(&#39;HI&#39;);</span><span class='tstring_end'>&quot;</span></span> }]])
<span class='comment'># =&gt; &lt;option value=&quot;$&quot; class=&quot;bold&quot;&gt;Dollar&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;DKK&quot; onclick=&quot;alert(&#39;HI&#39;);&quot;&gt;Kroner&lt;/option&gt;</span></code></pre>

<p>If you wish to specify disabled option tags, set <code>selected</code> to be a hash, with <code>:disabled</code> being either a value or array of values to be disabled. In this case, you can use <code>:selected</code> to specify selected option tags.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_for_select'>options_for_select</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='label'>disabled:</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot; disabled=&quot;disabled&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;
</span>
<span class='id identifier rubyid_options_for_select'>options_for_select</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Basic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Advanced</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='label'>selected:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Free</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Super Platinum</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &lt;option value=&quot;Free&quot; selected=&quot;selected&quot;&gt;Free&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;
</span><span class='comment'># =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;</span></code></pre>

<p>NOTE: Only the option tags are returned, you have to wrap this call in a regular HTML select tag.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L359-L376'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='359' data-end='376'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_options_for_select'>options_for_select</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>if</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span> <span class='op'>===</span> <span class='id identifier rubyid_container'>container</span>

  <span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_selected_and_disabled'><a href="#extract_selected_and_disabled-instance_method" title="ActionView::Helpers::FormOptionsHelper#extract_selected_and_disabled (method)">extract_selected_and_disabled</a></span>(<span class='id identifier rubyid_selected'>selected</span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>(<span class='id identifier rubyid_r'>r</span>).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='id identifier rubyid_html_attributes'>html_attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_option_html_attributes'><a href="#option_html_attributes-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_html_attributes (method)">option_html_attributes</a></span>(<span class='id identifier rubyid_element'>element</span>)
    <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_option_text_and_value'><a href="#option_text_and_value-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_text_and_value (method)">option_text_and_value</a></span>(<span class='id identifier rubyid_element'>element</span>).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span>)

    <span class='id identifier rubyid_html_attributes'>html_attributes</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_selected'>selected</span>] <span class='op'>||=</span> <span class='id identifier rubyid_option_value_selected?'><a href="#option_value_selected%3F-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_value_selected? (method)">option_value_selected?</a></span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
    <span class='id identifier rubyid_html_attributes'>html_attributes</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_disabled'>disabled</span>] <span class='op'>||=</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_option_value_selected?'><a href="#option_value_selected%3F-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_value_selected? (method)">option_value_selected?</a></span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span>)
    <span class='id identifier rubyid_html_attributes'>html_attributes</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>

    <span class='id identifier rubyid_tag_builder'>tag_builder</span>.<span class='id identifier rubyid_content_tag_string'>content_tag_string</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_html_attributes'>html_attributes</span>)
  <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options_from_collection_for_select-instance_method">
  <h3 class='signature '>
    #<strong>options_from_collection_for_select</strong>(collection, value_method, text_method, selected = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string of option tags that have been compiled by iterating over the <code>collection</code> and assigning the result of a call to the <code>value_method</code> as the option value and the <code>text_method</code> as the option text.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span>(<span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &lt;option value=&quot;#{person.id}&quot;&gt;#{person.name}&lt;/option&gt;</span></code></pre>

<p>This is more often than not used inside a <code>#select_tag</code> like this example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select_tag'>select_tag</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span>(<span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>If <code>selected</code> is specified as a value or array of values, the element(s) returning a match on <code>value_method</code> will be selected option tag(s).</p>

<p>If <code>selected</code> is specified as a Proc, those members of the collection that return true for the anonymous function are the selected values.</p>

<p><code>selected</code> can also be a hash, specifying both <code>:selected</code> and/or <code>:disabled</code> values as required.</p>

<p>Be sure to specify the same class as the <code>value_method</code> when specifying selected or disabled options. Failure to do this will produce undesired results. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span>(<span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>Will not select a person with the id of 1 because 1 (an <a href="../../Integer.html" title="Integer (class)"><code>::Integer</code></a>) is not the same as ‘1’ (a string)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span>(<span class='ivar'>@people</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>)</code></pre>

<p>should produce the desired results.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L402-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='402' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_options_from_collection_for_select'>options_from_collection_for_select</span>(<span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    [<span class='id identifier rubyid_value_for_collection'><a href="#value_for_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#value_for_collection (method)">value_for_collection</a></span>(<span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_text_method'>text_method</span>)<span class='comma'>,</span> <span class='id identifier rubyid_value_for_collection'><a href="#value_for_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#value_for_collection (method)">value_for_collection</a></span>(<span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span>)<span class='comma'>,</span> <span class='id identifier rubyid_option_html_attributes'><a href="#option_html_attributes-instance_method" title="ActionView::Helpers::FormOptionsHelper#option_html_attributes (method)">option_html_attributes</a></span>(<span class='id identifier rubyid_element'>element</span>)]
  <span class='kw'>end</span>
  <span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_selected_and_disabled'><a href="#extract_selected_and_disabled-instance_method" title="ActionView::Helpers::FormOptionsHelper#extract_selected_and_disabled (method)">extract_selected_and_disabled</a></span>(<span class='id identifier rubyid_selected'>selected</span>)
  <span class='id identifier rubyid_select_deselect'>select_deselect</span> <span class='op'>=</span> {
    <span class='label'>selected:</span> <span class='id identifier rubyid_extract_values_from_collection'><a href="#extract_values_from_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#extract_values_from_collection (method)">extract_values_from_collection</a></span>(<span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)<span class='comma'>,</span>
    <span class='label'>disabled:</span> <span class='id identifier rubyid_extract_values_from_collection'><a href="#extract_values_from_collection-instance_method" title="ActionView::Helpers::FormOptionsHelper#extract_values_from_collection (method)">extract_values_from_collection</a></span>(<span class='id identifier rubyid_collection'>collection</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method'>value_method</span><span class='comma'>,</span> <span class='id identifier rubyid_disabled'>disabled</span>)
  }

  <span class='id identifier rubyid_options_for_select'><a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">options_for_select</a></span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_select_deselect'>select_deselect</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prompt_text-instance_method">
  <h3 class='signature priv'>
    #<strong>prompt_text</strong>(prompt)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L839-L841'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='839' data-end='841'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 839</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prompt_text'>prompt_text</span>(<span class='id identifier rubyid_prompt'>prompt</span>)
  <span class='id identifier rubyid_prompt'>prompt</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="../../String.html" title="String (class)">String</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_prompt'>prompt</span> <span class='op'>:</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_translate'>translate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>helpers.select.prompt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please select</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    #<strong>select</strong>(object, method, choices = nil, options = {}, html_options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a select tag and a series of contained option tags for the provided object and method. The option currently held by the object will be selected, provided that the object is available.</p>

<p>There are two possible formats for the <code>choices</code> parameter, corresponding to other helpers’ output:</p>
<ul><li>
<p>A flat collection (see <a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">#options_for_select</a>).</p>
</li><li>
<p>A nested collection (see <a href="#grouped_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#grouped_options_for_select (method)">#grouped_options_for_select</a>).</p>
</li></ul>

<p>Example with <code>@post.person_id =&gt; 2</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span> <span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_person_id'>person_id</span><span class='comma'>,</span> <span class='const'>Person</span>.<span class='id identifier rubyid_all'>all</span>.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> [ <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_id'>id</span> ] }<span class='comma'>,</span> { <span class='label'>include_blank:</span> <span class='kw'>true</span> })</code></pre>

<p>would become:</p>

<pre class="code xml"><code class="xml">&lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;
  &lt;option value=&quot;&quot; label=&quot; &quot;&gt;&lt;/option&gt;
  &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;
  &lt;option value=&quot;2&quot; selected=&quot;selected&quot;&gt;Eileen&lt;/option&gt;
  &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;
&lt;/select&gt;
</code></pre>

<p>This can be used to provide a default set of options in the standard way: before rendering the create form, a new model instance is assigned the default options and bound to @model_name. Usually this model is not saved to the database. Instead, a second model object is created when the create request is received. This allows the user to submit a form page more than once with the expected results of creating multiple records. In addition, this allows a single partial to be used to generate form inputs for both edit and create forms.</p>

<p>By default, <code>post.person_id</code> is the selected option. Specify <code>selected: value</code> to use a different selection or <code>selected: nil</code> to leave all options unselected. Similarly, you can specify values to be disabled in the option tags by specifying the <code>:disabled</code> option. This can either be a single value or an array of values to be disabled.</p>

<p>A block can be passed to <code>select</code> to customize how the options tags will be rendered. This is useful when the options tag has complex attributes.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_select'>select</span>(<span class='id identifier rubyid_report'>report</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_campaign_ids'>campaign_ids</span>) <span class='kw'>do</span>
  <span class='id identifier rubyid_available_campaigns'>available_campaigns</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_option'>option</span>(<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='label'>data:</span> { <span class='label'>tags:</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_tags'>tags</span>.<span class='id identifier rubyid_to_json'>to_json</span> })
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Gotcha">Gotcha</h4>

<p>The HTML specification says when <code>multiple</code> parameter passed to select and all options got deselected web browsers do not send any value to server. Unfortunately this introduces a gotcha: if a <code>User</code> model has many <code>roles</code> and have <code>role_ids</code> accessor, and in the form that edits roles of the user the user deselects all roles from <code>role_ids</code> multiple select box, no <code>role_ids</code> parameter is sent. So, any mass-assignment idiom like</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@user</span>.<span class='id identifier rubyid_update'>update</span>(<span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span>])</code></pre>

<p>wouldn’t update roles.</p>

<p>To prevent this the helper generates an auxiliary hidden field before every multiple select. The hidden field has the same name as multiple select and blank value.</p>

<p><strong>Note:</strong> The client either sends only the hidden field (representing the deselected multiple select box), or both fields. This means that the resulting array always contains a blank string.</p>

<p>In case if you don’t want the helper to generate this hidden field you can specify <code>include_hidden: false</code> option.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L160-L162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='160' data-end='162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 160</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_choices'>choices</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/Select.html" title="ActionView::Helpers::Tags::Select (class)">Select</a></span>.<span class='id identifier rubyid_new'><a href="Tags/Select.html#new-class_method" title="ActionView::Helpers::Tags::Select.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>).<span class='id identifier rubyid_render'><a href="Tags/Select.html#render-instance_method" title="ActionView::Helpers::Tags::Select#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="time_zone_options_for_select-instance_method">
  <h3 class='signature '>
    #<strong>time_zone_options_for_select</strong>(selected = nil, priority_zones = nil, model = ::ActiveSupport::TimeZone)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string of option tags for pretty much any time zone in the world. Supply an <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a> name as <code>selected</code> to have it marked as the selected option tag. You can also supply an array of <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a> objects as <code>priority_zones</code>, so that they will be listed above the rest of the (long) list. (You can use <a href="../../ActiveSupport/TimeZone.html#us_zones-class_method" title="ActiveSupport::TimeZone.us_zones (method)">ActiveSupport::TimeZone.us_zones</a> as a convenience for obtaining a list of the US time zones, or a <a href="../../Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> to select the zones of your choice)</p>

<p>The <code>selected</code> parameter must be either <code>nil</code>, or a string that names an <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a>.</p>

<p>By default, <code>model</code> is the <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a> constant (which can be obtained in Active Record as a value object). The <code>model</code> parameter must respond to <code>all</code> and return an array of objects that represent time zones; each object must respond to <code>name</code>. If a <a href="../../Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> is given it will attempt to match the zones using <code>match?</code> method.</p>

<p>NOTE: Only the option tags are returned, you have to wrap this call in a regular HTML select tag.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L582-L601'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='582' data-end='601'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 582</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_time_zone_options_for_select'>time_zone_options_for_select</span>(<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>)
  <span class='id identifier rubyid_zone_options'>zone_options</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_html_safe'>html_safe</span>

  <span class='id identifier rubyid_zones'>zones</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_all'>all</span>
  <span class='id identifier rubyid_convert_zones'>convert_zones</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span> <span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span> [ <span class='id identifier rubyid_z'>z</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span>.<span class='id identifier rubyid_name'>name</span> ] } }

  <span class='kw'>if</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span>)
      <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='id identifier rubyid_zones'>zones</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="ActionView::Helpers::FormOptionsHelper#select (method)">select</a></span> { <span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span> <span class='id identifier rubyid_z'>z</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_priority_zones'>priority_zones</span>) }
    <span class='kw'>end</span>

    <span class='id identifier rubyid_zone_options'>zone_options</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_options_for_select'><a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">options_for_select</a></span>(<span class='id identifier rubyid_convert_zones'>convert_zones</span>[<span class='id identifier rubyid_priority_zones'>priority_zones</span>]<span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
    <span class='id identifier rubyid_zone_options'>zone_options</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_content_tag'>content_tag</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>option</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-------------</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>disabled:</span> <span class='kw'>true</span>)
    <span class='id identifier rubyid_zone_options'>zone_options</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_zones'>zones</span> <span class='op'>=</span> <span class='id identifier rubyid_zones'>zones</span> <span class='op'>-</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_zone_options'>zone_options</span>.<span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_options_for_select'><a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">options_for_select</a></span>(<span class='id identifier rubyid_convert_zones'>convert_zones</span>[<span class='id identifier rubyid_zones'>zones</span>]<span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="time_zone_select-instance_method">
  <h3 class='signature '>
    #<strong>time_zone_select</strong>(object, method, priority_zones = nil, options = {}, html_options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns select and option tags for the given object and method, using <a href="#time_zone_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_options_for_select (method)">#time_zone_options_for_select</a> to generate the list of option tags.</p>

<p>In addition to the <code>:include_blank</code> option documented above, this method also supports a <code>:model</code> option, which defaults to <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a>. This may be used by users to specify a different time zone model object. (See <a href="#time_zone_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#time_zone_options_for_select (method)">#time_zone_options_for_select</a> for more information.)</p>

<p>You can also supply an array of <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a> objects as <code>priority_zones</code> so that they will be listed above the rest of the (long) list. You can use <a href="../../ActiveSupport/TimeZone.html#us_zones-class_method" title="ActiveSupport::TimeZone.us_zones (method)">ActiveSupport::TimeZone.us_zones</a> for a list of US time zones, <a href="../../ActiveSupport/TimeZone.html#country_zones-class_method" title="ActiveSupport::TimeZone.country_zones (method)">ActiveSupport::TimeZone.country_zones</a>(country_code) for another country’s time zones, or a <a href="../../Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> to select the zones of your choice.</p>

<p>Finally, this method supports a <code>:default</code> option, which selects a default <a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)"><code>::ActiveSupport::TimeZone</code></a> if the object’s time zone is <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>include_blank:</span> <span class='kw'>true</span>)

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pacific Time (US &amp; Canada)</span><span class='tstring_end'>&quot;</span></span>)

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>.<span class='id identifier rubyid_us_zones'><a href="../../ActiveSupport/TimeZone.html#us_zones-class_method" title="ActiveSupport::TimeZone.us_zones (method)">us_zones</a></span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pacific Time (US &amp; Canada)</span><span class='tstring_end'>&quot;</span></span>)

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> [ <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Alaska</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hawaii</span><span class='tstring_end'>&quot;</span></span>] ])

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Australia</span><span class='regexp_end'>/</span></span>)

<span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>.<span class='id identifier rubyid_all'><a href="../../ActiveSupport/TimeZone.html#all-class_method" title="ActiveSupport::TimeZone.all (method)">all</a></span>.<span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='label'>model:</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L293-L295'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='293' data-end='295'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 293</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_time_zone_select'>time_zone_select</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {})
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/TimeZoneSelect.html" title="ActionView::Helpers::Tags::TimeZoneSelect (class)">TimeZoneSelect</a></span>.<span class='id identifier rubyid_new'><a href="Tags/TimeZoneSelect.html#new-class_method" title="ActionView::Helpers::Tags::TimeZoneSelect.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_priority_zones'>priority_zones</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span>).<span class='id identifier rubyid_render'><a href="Tags/TimeZoneSelect.html#render-instance_method" title="ActionView::Helpers::Tags::TimeZoneSelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="value_for_collection-instance_method">
  <h3 class='signature priv'>
    #<strong>value_for_collection</strong>(item, value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L835-L837'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='835' data-end='837'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 835</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_value_for_collection'>value_for_collection</span>(<span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>) <span class='op'>?</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_item'>item</span>) <span class='op'>:</span> <span class='id identifier rubyid_item'>item</span>.<span class='id identifier rubyid_public_send'>public_send</span>(<span class='id identifier rubyid_value'>value</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="weekday_options_for_select-instance_method">
  <h3 class='signature '>
    #<strong>weekday_options_for_select</strong>(selected = nil, index_as_value: false, day_format: :day_names, beginning_of_week: Date.beginning_of_week)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string of option tags for the days of the week.</p>

<h4 id="label-Options">Options</h4>
<ul><li>
<p><code>:index_as_value</code> - Defaults to false, set to true to use the indexes from <code>I18n.translate(&quot;date.day_names&quot;)</code> as the values. By default, Sunday is always 0.</p>
</li><li>
<p><code>:day_format</code> - The I18n key of the array to use for the weekday options. Defaults to <code>:day_names</code>, set to <code>:abbr_day_names</code> for abbreviations.</p>
</li><li>
<p><code>:beginning_of_week</code> - Defaults to <a href="../../Date.html#beginning_of_week-class_method" title="Date.beginning_of_week (method)">Date.beginning_of_week</a>.</p>
</li></ul>

<p>NOTE: Only the option tags are returned, you have to wrap this call in a regular HTML select tag.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L615-L621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='615' data-end='621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_weekday_options_for_select'>weekday_options_for_select</span>(<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>index_as_value:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>day_format:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_day_names'>day_names</span><span class='comma'>,</span> <span class='label'>beginning_of_week:</span> <span class='const'><a href="../../Date.html" title="Date (class)">Date</a></span>.<span class='id identifier rubyid_beginning_of_week'><a href="../../Date.html#beginning_of_week-class_method" title="Date.beginning_of_week (method)">beginning_of_week</a></span>)
  <span class='id identifier rubyid_day_names'>day_names</span> <span class='op'>=</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_translate'>translate</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>date.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_day_format'>day_format</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_day_names'>day_names</span> <span class='op'>=</span> <span class='id identifier rubyid_day_names'>day_names</span>.<span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_with_index'>with_index</span>.<span class='id identifier rubyid_to_a'>to_a</span> <span class='kw'>if</span> <span class='id identifier rubyid_index_as_value'>index_as_value</span>
  <span class='id identifier rubyid_day_names'>day_names</span> <span class='op'>=</span> <span class='id identifier rubyid_day_names'>day_names</span>.<span class='id identifier rubyid_rotate'>rotate</span>(<span class='const'><a href="../../Date.html" title="Date (class)">Date</a></span><span class='op'>::</span><span class='const'><a href="../../DateAndTime/Calculations.html#DAYS_INTO_WEEK-constant" title="DateAndTime::Calculations::DAYS_INTO_WEEK (constant)">DAYS_INTO_WEEK</a></span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_beginning_of_week'>beginning_of_week</span>))

  <span class='id identifier rubyid_options_for_select'><a href="#options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#options_for_select (method)">options_for_select</a></span>(<span class='id identifier rubyid_day_names'>day_names</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="weekday_select-instance_method">
  <h3 class='signature '>
    #<strong>weekday_select</strong>(object, method, options = {}, html_options = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns select and option tags for the given object and method, using <a href="#weekday_options_for_select-instance_method" title="ActionView::Helpers::FormOptionsHelper#weekday_options_for_select (method)">#weekday_options_for_select</a> to generate the list of option tags.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/8-0-stable/actionview/lib/action_view/helpers/form_options_helper.rb#L299-L301'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='301'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/form_options_helper.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_weekday_select'>weekday_select</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="Tags.html" title="ActionView::Helpers::Tags (module)">Tags</a></span><span class='op'>::</span><span class='const'><a href="Tags/WeekdaySelect.html" title="ActionView::Helpers::Tags::WeekdaySelect (class)">WeekdaySelect</a></span>.<span class='id identifier rubyid_new'><a href="Tags/WeekdaySelect.html#new-class_method" title="ActionView::Helpers::Tags::WeekdaySelect.new (method)">new</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>).<span class='id identifier rubyid_render'><a href="Tags/WeekdaySelect.html#render-instance_method" title="ActionView::Helpers::Tags::WeekdaySelect#render (method)">render</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>