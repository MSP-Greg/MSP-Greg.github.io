<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::ConnectionAdapters::Quoting &mdash; Rails 7-1-stable</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::ConnectionAdapters::Quoting",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 7-1-stable</a> &raquo; 
      <a href='../../_index.html#alpha_Q'>Index (Q)</a> &raquo; 
        <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        <a class='nodoc' href="../ConnectionAdapters.html" title="ActiveRecord::ConnectionAdapters (module)">ConnectionAdapters</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Quoting&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveRecord::ConnectionAdapters::Quoting</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="AbstractAdapter.html" title="ActiveRecord::ConnectionAdapters::AbstractAdapter (class)"><code>AbstractAdapter</code></a>,
          <a href="AbstractMysqlAdapter.html" title="ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter (class)"><code>AbstractMysqlAdapter</code></a>,
          <a href="Mysql2Adapter.html" title="ActiveRecord::ConnectionAdapters::Mysql2Adapter (class)"><code>Mysql2Adapter</code></a>,
          <a href="PostgreSQLAdapter.html" title="ActiveRecord::ConnectionAdapters::PostgreSQLAdapter (class)"><code>PostgreSQLAdapter</code></a>,
          <a href="SQLite3Adapter.html" title="ActiveRecord::ConnectionAdapters::SQLite3Adapter (class)"><code>SQLite3Adapter</code></a>,
          <a href="TrilogyAdapter.html" title="ActiveRecord::ConnectionAdapters::TrilogyAdapter (class)"><code>TrilogyAdapter</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L9'>activerecord/lib/active_record/connection_adapters/abstract/quoting.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='COLUMN_NAME-constant' class='summary_signature priv'>COLUMN_NAME =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../../Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> for column names (with or without a table name prefix). Matches the following:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L193-L204'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 193</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  \A
  (
    (?:
      # table_name.column_name | function(one or no argument)
      ((?:\w\.)?\w | \w+\((?:|\g&lt;2&gt;)\))
    )
    (?:(?:\sAS)?\s\w+)?
  )
  (?:\s*,\s*\g&lt;1&gt;)*
  \z
</span><span class='regexp_end'>/ix</span></span></pre>
  </li>
  <li>
    <span id='COLUMN_NAME_WITH_ORDER-constant' class='summary_signature priv'>COLUMN_NAME_WITH_ORDER =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../../Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> for column names with order (with or without a table name prefix, with or without various order modifiers). Matches the following:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_direction'>direction</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_direction'>direction</span><span class='embexpr_end'>}</span><span class='tstring_content'> NULLS FIRST</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> NULLS LAST</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_direction'>direction</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_direction'>direction</span><span class='embexpr_end'>}</span><span class='tstring_content'> NULLS FIRST</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column_name'>column_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> NULLS LAST</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L217-L229'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 217</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  \A
  (
    (?:
      # table_name.column_name | function(one or no argument)
      ((?:\w\.)?\w | \w+\((?:|\g&lt;2&gt;)\))
    )
    (?:\sASC|\sDESC)?
    (?:\sNULLS\s(?:FIRST|LAST))?
  )
  (?:\s*,\s*\g&lt;1&gt;)*
  \z
</span><span class='regexp_end'>/ix</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#quote-instance_method" title="#quote (instance method)">#<strong>quote</strong>(value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quotes the column value to help prevent <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_parent" title="SQL injection attacks">SQL injection attacks</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quote_bound_value-instance_method" title="#quote_bound_value (instance method)">#<strong>quote_bound_value</strong>(value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quote a value to be used as a bound parameter of unknown type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quote_column_name-instance_method" title="#quote_column_name (instance method)">#<strong>quote_column_name</strong>(column_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quotes the column name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quote_string-instance_method" title="#quote_string (instance method)">#<strong>quote_string</strong>(s)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quotes a string, escaping any ‘ (single quote) and \ (backslash) characters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quote_table_name-instance_method" title="#quote_table_name (instance method)">#<strong>quote_table_name</strong>(table_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quotes the table name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quote_table_name_for_assignment-instance_method" title="#quote_table_name_for_assignment (instance method)">#<strong>quote_table_name_for_assignment</strong>(table, attr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Override to return the quoted table name for assignment.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quoted_date-instance_method" title="#quoted_date (instance method)">#<strong>quoted_date</strong>(value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quote date/time values for use in SQL input.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quoted_false-instance_method" title="#quoted_false (instance method)">#<strong>quoted_false</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quoted_true-instance_method" title="#quoted_true (instance method)">#<strong>quoted_true</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#type_cast-instance_method" title="#type_cast (instance method)">#<strong>type_cast</strong>(value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Cast a <code>value</code> to a type that the database understands.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unquoted_false-instance_method" title="#unquoted_false (instance method)">#<strong>unquoted_false</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unquoted_true-instance_method" title="#unquoted_true (instance method)">#<strong>unquoted_true</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#lookup_cast_type-instance_method" title="#lookup_cast_type (instance method)">#<strong>lookup_cast_type</strong>(sql_type)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#type_casted_binds-instance_method" title="#type_casted_binds (instance method)">#<strong>type_casted_binds</strong>(binds)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#warn_quote_duration_deprecated-instance_method" title="#warn_quote_duration_deprecated (instance method)">#<strong>warn_quote_duration_deprecated</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#cast_bound_value-instance_method" title="#cast_bound_value (instance method)">#<strong>cast_bound_value</strong>(value)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Cast a value to be used as a bound parameter of unknown type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#column_name_matcher-instance_method" title="#column_name_matcher (instance method)">#<strong>column_name_matcher</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#column_name_with_order_matcher-instance_method" title="#column_name_with_order_matcher (instance method)">#<strong>column_name_with_order_matcher</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#lookup_cast_type_from_column-instance_method" title="#lookup_cast_type_from_column (instance method)">#<strong>lookup_cast_type_from_column</strong>(column)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>If you are having to call this function, you are likely doing something wrong.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#quote_default_expression-instance_method" title="#quote_default_expression (instance method)">#<strong>quote_default_expression</strong>(value, column)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#quoted_binary-instance_method" title="#quoted_binary (instance method)">#<strong>quoted_binary</strong>(value)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#quoted_time-instance_method" title="#quoted_time (instance method)">#<strong>quoted_time</strong>(value)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#sanitize_as_sql_comment-instance_method" title="#sanitize_as_sql_comment (instance method)">#<strong>sanitize_as_sql_comment</strong>(value)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="cast_bound_value-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>cast_bound_value</strong>(value)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Cast a value to be used as a bound parameter of unknown type. For example, <a href="MySQL.html" title="ActiveRecord::ConnectionAdapters::MySQL (module)"><code>MySQL</code></a> might perform dangerous castings when comparing a string to a number, so this method will cast numbers to string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L69-L71'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='69' data-end='71'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 69</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cast_bound_value'>cast_bound_value</span>(<span class='id identifier rubyid_value'>value</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="column_name_matcher-instance_method">
  <h3 class='signature nodoc'>
    #<strong>column_name_matcher</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L180-L182'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='180' data-end='182'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 180</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_column_name_matcher'>column_name_matcher</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="#COLUMN_NAME-constant" title="ActiveRecord::ConnectionAdapters::Quoting::COLUMN_NAME (constant)">COLUMN_NAME</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="column_name_with_order_matcher-instance_method">
  <h3 class='signature nodoc'>
    #<strong>column_name_with_order_matcher</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L184-L186'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='184' data-end='186'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 184</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_column_name_with_order_matcher'>column_name_with_order_matcher</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="#COLUMN_NAME_WITH_ORDER-constant" title="ActiveRecord::ConnectionAdapters::Quoting::COLUMN_NAME_WITH_ORDER (constant)">COLUMN_NAME_WITH_ORDER</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lookup_cast_type-instance_method">
  <h3 class='signature priv'>
    #<strong>lookup_cast_type</strong>(sql_type)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L244-L246'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='244' data-end='246'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 244</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cast_type'>lookup_cast_type</span>(<span class='id identifier rubyid_sql_type'>sql_type</span>)
  <span class='id identifier rubyid_type_map'>type_map</span>.<span class='id identifier rubyid_lookup'>lookup</span>(<span class='id identifier rubyid_sql_type'>sql_type</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lookup_cast_type_from_column-instance_method">
  <h3 class='signature nodoc'>
    #<strong>lookup_cast_type_from_column</strong>(column)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>If you are having to call this function, you are likely doing something wrong. The column does not have sufficient type information if the user provided a custom type on the class level either explicitly (via <a href="../Attributes/ClassMethods.html#attribute-instance_method" title="ActiveRecord::Attributes::ClassMethods#attribute (method)">Attributes::ClassMethods#attribute</a>) or implicitly (via <a href="../AttributeMethods/Serialization/ClassMethods.html#serialize-instance_method" title="ActiveRecord::AttributeMethods::Serialization::ClassMethods#serialize (method)">AttributeMethods::Serialization::ClassMethods#serialize</a>, <code>time_zone_aware_attributes</code>). In almost all cases, the sql type should only be used to change quoting behavior, when the primitive to represent the type doesn’t sufficiently reflect the differences (varchar vs binary) for example. The type used to get this primitive should have been provided before reaching the connection adapter.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L82-L84'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='82' data-end='84'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cast_type_from_column'>lookup_cast_type_from_column</span>(<span class='id identifier rubyid_column'>column</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_lookup_cast_type'><a href="#lookup_cast_type-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#lookup_cast_type (method)">lookup_cast_type</a></span>(<span class='id identifier rubyid_column'>column</span>.<span class='id identifier rubyid_sql_type'>sql_type</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote-instance_method">
  <h3 class='signature '>
    #<strong>quote</strong>(value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quotes the column value to help prevent <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_parent" title="SQL injection attacks">SQL injection attacks</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L12-L31'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='12' data-end='31'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 12</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote'>quote</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span><span class='comma'>,</span> <span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Multibyte.html" title="ActiveSupport::Multibyte (module)">Multibyte</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Multibyte/Chars.html" title="ActiveSupport::Multibyte::Chars (class)">Chars</a></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote_string'><a href="#quote_string-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote_string (method)">quote_string</a></span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='kw'>true</span>       <span class='kw'>then</span> <span class='id identifier rubyid_quoted_true'><a href="#quoted_true-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_true (method)">quoted_true</a></span>
  <span class='kw'>when</span> <span class='kw'>false</span>      <span class='kw'>then</span> <span class='id identifier rubyid_quoted_false'><a href="#quoted_false-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_false (method)">quoted_false</a></span>
  <span class='kw'>when</span> <span class='kw'>nil</span>        <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NULL</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># BigDecimals need to be put in a non-normalized form and quoted.
</span>  <span class='kw'>when</span> <span class='const'><a href="../../BigDecimal.html" title="BigDecimal (class)">BigDecimal</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>F</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>when</span> <span class='const'><a href="../../Numeric.html" title="Numeric (class)">Numeric</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>when</span> <span class='const'><a href="../Type.html" title="ActiveRecord::Type (module)">Type</a></span><span class='op'>::</span><span class='const'><a href="../Type.html#Binary-constant" title="ActiveRecord::Type::Binary (constant)">Binary</a></span><span class='op'>::</span><span class='const'><a href="../../Data.html" title="Data (class)">Data</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_quoted_binary'><a href="#quoted_binary-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_binary (method)">quoted_binary</a></span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>when</span> <span class='const'><a href="../Type.html" title="ActiveRecord::Type (module)">Type</a></span><span class='op'>::</span><span class='const'><a href="../Type/Time.html" title="ActiveRecord::Type::Time (class)">Time</a></span><span class='op'>::</span><span class='const'><a href="../Type/Time/Value.html" title="ActiveRecord::Type::Time::Value (class)">Value</a></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quoted_time'><a href="#quoted_time-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_time (method)">quoted_time</a></span>(<span class='id identifier rubyid_value'>value</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../../Date.html" title="Date (class)">Date</a></span><span class='comma'>,</span> <span class='const'><a href="../../Time.html" title="Time (class)">Time</a></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quoted_date'><a href="#quoted_date-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_date (method)">quoted_date</a></span>(<span class='id identifier rubyid_value'>value</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../../Class.html" title="Class (class)">Class</a></span>      <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Duration.html" title="ActiveSupport::Duration (class)">Duration</a></span>
    <span class='id identifier rubyid_warn_quote_duration_deprecated'><a href="#warn_quote_duration_deprecated-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#warn_quote_duration_deprecated (method)">warn_quote_duration_deprecated</a></span>
    <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>else</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t quote </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_bound_value-instance_method">
  <h3 class='signature '>
    #<strong>quote_bound_value</strong>(value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quote a value to be used as a bound parameter of unknown type. For example, <a href="MySQL.html" title="ActiveRecord::ConnectionAdapters::MySQL (module)"><code>MySQL</code></a> might perform dangerous castings when comparing a string to a number, so this method will cast numbers to string.</p>

<p>Deprecated: Consider <code>Arel.sql(&quot;... ? ...&quot;, value)</code> or <code>sanitize_sql</code> instead.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L57-L64'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='57' data-end='64'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_bound_value'>quote_bound_value</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_deprecator'><a href="../../ActiveRecord.html#deprecator-class_method" title="ActiveRecord.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='heredoc_beg'>&lt;&lt;~MSG</span>.<span class='id identifier rubyid_squish'>squish</span>)
<span class='ignored_sp'>    </span><span class='tstring_content'>#quote_bound_value is deprecated and will be removed in Rails 7.2.
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Consider Arel.sql(&quot;.. ? ..&quot;, value) or #sanitize_sql instead.
</span><span class='heredoc_end'>  MSG
</span>
  <span class='id identifier rubyid_quote'><a href="#quote-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote (method)">quote</a></span>(<span class='id identifier rubyid_cast_bound_value'><a href="#cast_bound_value-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#cast_bound_value (method)">cast_bound_value</a></span>(<span class='id identifier rubyid_value'>value</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_column_name-instance_method">
  <h3 class='signature '>
    #<strong>quote_column_name</strong>(column_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quotes the column name. Defaults to no quoting.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L93-L95'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='93' data-end='95'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_column_name'>quote_column_name</span>(<span class='id identifier rubyid_column_name'>column_name</span>)
  <span class='id identifier rubyid_column_name'>column_name</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_default_expression-instance_method">
  <h3 class='signature nodoc'>
    #<strong>quote_default_expression</strong>(value, column)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L114-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='114' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_default_expression'>quote_default_expression</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_column'>column</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Proc</span>)
    <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_call'>call</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cast_type'><a href="#lookup_cast_type-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#lookup_cast_type (method)">lookup_cast_type</a></span>(<span class='id identifier rubyid_column'>column</span>.<span class='id identifier rubyid_sql_type'>sql_type</span>).<span class='id identifier rubyid_serialize'>serialize</span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_quote'><a href="#quote-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote (method)">quote</a></span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_string-instance_method">
  <h3 class='signature '>
    #<strong>quote_string</strong>(s)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quotes a string, escaping any ‘ (single quote) and \ (backslash) characters.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L88-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='88' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 88</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_string'>quote_string</span>(<span class='id identifier rubyid_s'>s</span>)
  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\&amp;\&amp;</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;&#39;</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># &#39; (for ruby-mode)
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_table_name-instance_method">
  <h3 class='signature '>
    #<strong>quote_table_name</strong>(table_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quotes the table name. Defaults to column name quoting.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L98-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_table_name'>quote_table_name</span>(<span class='id identifier rubyid_table_name'>table_name</span>)
  <span class='id identifier rubyid_quote_column_name'><a href="#quote_column_name-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote_column_name (method)">quote_column_name</a></span>(<span class='id identifier rubyid_table_name'>table_name</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quote_table_name_for_assignment-instance_method">
  <h3 class='signature '>
    #<strong>quote_table_name_for_assignment</strong>(table, attr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Override to return the quoted table name for assignment. Defaults to table quoting.</p>

<p>This works for <a href="MySQL.html" title="ActiveRecord::ConnectionAdapters::MySQL (module)"><code>MySQL</code></a> where table.column can be used to resolve ambiguity.</p>

<p>We override this in the sqlite3 and postgresql adapters to use only the column name (as per syntax requirements).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L110-L112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quote_table_name_for_assignment'>quote_table_name_for_assignment</span>(<span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span>)
  <span class='id identifier rubyid_quote_table_name'><a href="#quote_table_name-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote_table_name (method)">quote_table_name</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_table'>table</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attr'>attr</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_binary-instance_method">
  <h3 class='signature nodoc'>
    #<strong>quoted_binary</strong>(value)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L163-L165'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='163' data-end='165'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 163</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_binary'>quoted_binary</span>(<span class='id identifier rubyid_value'>value</span>) <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote_string'><a href="#quote_string-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quote_string (method)">quote_string</a></span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_date-instance_method">
  <h3 class='signature '>
    #<strong>quoted_date</strong>(value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quote date/time values for use in SQL input. Includes microseconds if the value is a <a href="../../Time.html" title="Time (class)"><code>::Time</code></a> responding to usec.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L141-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_date'>quoted_date</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_acts_like?'>acts_like?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_time'>time</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_default_timezone'><a href="../../ActiveRecord.html#default_timezone-instance_method" title="ActiveRecord#default_timezone (method)">default_timezone</a></span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'>utc</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_getutc'>getutc</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_utc?'>utc?</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_getlocal'>getlocal</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_fs'>to_fs</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_db'>db</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_usec'>usec</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_usec'>usec</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_sprintf'>sprintf</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%06d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_usec'>usec</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_false-instance_method">
  <h3 class='signature '>
    #<strong>quoted_false</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L131-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='131' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 131</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_false'>quoted_false</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FALSE</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_time-instance_method">
  <h3 class='signature nodoc'>
    #<strong>quoted_time</strong>(value)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L158-L161'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='158' data-end='161'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_time'>quoted_time</span>(<span class='id identifier rubyid_value'>value</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_change'>change</span>(<span class='label'>year:</span> <span class='int'>2000</span><span class='comma'>,</span> <span class='label'>month:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>day:</span> <span class='int'>1</span>)
  <span class='id identifier rubyid_quoted_date'><a href="#quoted_date-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_date (method)">quoted_date</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\d\d\d\d-\d\d-\d\d </span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quoted_true-instance_method">
  <h3 class='signature '>
    #<strong>quoted_true</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L123-L125'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='125'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quoted_true'>quoted_true</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TRUE</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sanitize_as_sql_comment-instance_method">
  <h3 class='signature nodoc'>
    #<strong>sanitize_as_sql_comment</strong>(value)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L167-L178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='167' data-end='178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 167</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sanitize_as_sql_comment'>sanitize_as_sql_comment</span>(<span class='id identifier rubyid_value'>value</span>) <span class='comment'># :nodoc:
</span>  <span class='comment'># Sanitize a string to appear within a SQL comment
</span>  <span class='comment'># For compatibility, this also surrounding &quot;/*+&quot;, &quot;/*&quot;, and &quot;*/&quot;
</span>  <span class='comment'># charcacters, possibly with single surrounding space.
</span>  <span class='comment'># Then follows that by replacing any internal &quot;*/&quot; or &quot;/ *&quot; with
</span>  <span class='comment'># &quot;* /&quot; or &quot;/ *&quot;
</span>  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\A\s*/\*\+?\s?|\s?\*/\s*\Z</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* /</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/*</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/ *</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_cast-instance_method">
  <h3 class='signature '>
    #<strong>type_cast</strong>(value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Cast a <code>value</code> to a type that the database understands. For example, SQLite does not understand dates, so this method will convert a <a href="../../Date.html" title="Date (class)"><code>::Date</code></a> to a <a href="../../String.html" title="String (class)"><code>::String</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L36-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_type_cast'>type_cast</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span><span class='comma'>,</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Multibyte.html" title="ActiveSupport::Multibyte (module)">Multibyte</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Multibyte/Chars.html" title="ActiveSupport::Multibyte::Chars (class)">Chars</a></span><span class='comma'>,</span> <span class='const'><a href="../Type.html" title="ActiveRecord::Type (module)">Type</a></span><span class='op'>::</span><span class='const'><a href="../Type.html#Binary-constant" title="ActiveRecord::Type::Binary (constant)">Binary</a></span><span class='op'>::</span><span class='const'><a href="../../Data.html" title="Data (class)">Data</a></span>
    <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>when</span> <span class='kw'>true</span>       <span class='kw'>then</span> <span class='id identifier rubyid_unquoted_true'><a href="#unquoted_true-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#unquoted_true (method)">unquoted_true</a></span>
  <span class='kw'>when</span> <span class='kw'>false</span>      <span class='kw'>then</span> <span class='id identifier rubyid_unquoted_false'><a href="#unquoted_false-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#unquoted_false (method)">unquoted_false</a></span>
  <span class='comment'># BigDecimals need to be put in a non-normalized form and quoted.
</span>  <span class='kw'>when</span> <span class='const'><a href="../../BigDecimal.html" title="BigDecimal (class)">BigDecimal</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>F</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='const'><a href="../../Numeric.html" title="Numeric (class)">Numeric</a></span><span class='comma'>,</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'><a href="../Type.html" title="ActiveRecord::Type (module)">Type</a></span><span class='op'>::</span><span class='const'><a href="../Type/Time.html" title="ActiveRecord::Type::Time (class)">Time</a></span><span class='op'>::</span><span class='const'><a href="../Type/Time/Value.html" title="ActiveRecord::Type::Time::Value (class)">Value</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_quoted_time'><a href="#quoted_time-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_time (method)">quoted_time</a></span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>when</span> <span class='const'><a href="../../Date.html" title="Date (class)">Date</a></span><span class='comma'>,</span> <span class='const'><a href="../../Time.html" title="Time (class)">Time</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_quoted_date'><a href="#quoted_date-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#quoted_date (method)">quoted_date</a></span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>else</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t cast </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_casted_binds-instance_method">
  <h3 class='signature priv'>
    #<strong>type_casted_binds</strong>(binds)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L234-L242'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='234' data-end='242'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 234</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_type_casted_binds'>type_casted_binds</span>(<span class='id identifier rubyid_binds'>binds</span>)
  <span class='id identifier rubyid_binds'>binds</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='const'><a href="../../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveModel/Attribute.html" title="ActiveModel::Attribute (class)">Attribute</a></span> <span class='op'>===</span> <span class='id identifier rubyid_value'>value</span>
      <span class='id identifier rubyid_type_cast'><a href="#type_cast-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#type_cast (method)">type_cast</a></span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_value_for_database'>value_for_database</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_type_cast'><a href="#type_cast-instance_method" title="ActiveRecord::ConnectionAdapters::Quoting#type_cast (method)">type_cast</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unquoted_false-instance_method">
  <h3 class='signature '>
    #<strong>unquoted_false</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L135-L137'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='135' data-end='137'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 135</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unquoted_false'>unquoted_false</span>
  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unquoted_true-instance_method">
  <h3 class='signature '>
    #<strong>unquoted_true</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L127-L129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='127' data-end='129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 127</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unquoted_true'>unquoted_true</span>
  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warn_quote_duration_deprecated-instance_method">
  <h3 class='signature priv'>
    #<strong>warn_quote_duration_deprecated</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L248-L262'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='248' data-end='262'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/quoting.rb', line 248</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn_quote_duration_deprecated'>warn_quote_duration_deprecated</span>
  <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_deprecator'><a href="../../ActiveRecord.html#deprecator-class_method" title="ActiveRecord.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='heredoc_beg'>&lt;&lt;~MSG</span>)
<span class='ignored_sp'>    </span><span class='tstring_content'>Using ActiveSupport::Duration as an interpolated bind parameter in a SQL
</span><span class='ignored_sp'>    </span><span class='tstring_content'>string template is deprecated. To avoid this warning, you should explicitly
</span><span class='ignored_sp'>    </span><span class='tstring_content'>convert the duration to a more specific database type. For example, if you
</span><span class='ignored_sp'>    </span><span class='tstring_content'>want to use a duration as an integer number of seconds:
</span><span class='ignored_sp'>    </span><span class='tstring_content'>```
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Record.where(&quot;duration = ?&quot;, 1.hour.to_i)
</span><span class='ignored_sp'>    </span><span class='tstring_content'>```
</span><span class='ignored_sp'>    </span><span class='tstring_content'>If you want to use a duration as an ISO 8601 string:
</span><span class='ignored_sp'>    </span><span class='tstring_content'>```
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Record.where(&quot;duration = ?&quot;, 1.hour.iso8601)
</span><span class='ignored_sp'>    </span><span class='tstring_content'>```
</span><span class='heredoc_end'>  MSG
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>