<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActiveSupport::LogSubscriber &mdash; Rails 7-1-stable</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveSupport::LogSubscriber",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails 7-1-stable</a> &raquo; 
      <a href='../_index.html#alpha_L'>Index (L)</a> &raquo; 
        <a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>LogSubscriber&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: ActiveSupport::LogSubscriber</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="LogSubscriber/TestHelper.html" title="ActiveSupport::LogSubscriber::TestHelper (module)"><code>TestHelper</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="../ActionController/LogSubscriber.html" title="ActionController::LogSubscriber (class)">ActionController::LogSubscriber</a>, <a href="../ActionDispatch/LogSubscriber.html" title="ActionDispatch::LogSubscriber (class)">ActionDispatch::LogSubscriber</a>, <a href="../ActionMailer/LogSubscriber.html" title="ActionMailer::LogSubscriber (class)">ActionMailer::LogSubscriber</a>, <a href="../ActionView/LogSubscriber.html" title="ActionView::LogSubscriber (class)">ActionView::LogSubscriber</a>, <a class='nodoc' href="../ActiveJob/LogSubscriber.html" title="ActiveJob::LogSubscriber (class)">ActiveJob::LogSubscriber</a>, <a href="../ActiveRecord/LogSubscriber.html" title="ActiveRecord::LogSubscriber (class)">ActiveRecord::LogSubscriber</a>, <a href="../ActiveStorage/LogSubscriber.html" title="ActiveStorage::LogSubscriber (class)">ActiveStorage::LogSubscriber</a>, <a href="../Rails/Rack/Logger.html" title="Rails::Rack::Logger (class)">Rails::Rack::Logger</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)">ActiveSupport::Subscriber</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)">ActiveSupport::Subscriber</a></li>
          <li class='next'>ActiveSupport::LogSubscriber</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L63'>activesupport/lib/active_support/log_subscriber.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber/test_helper.rb#L8'>activesupport/lib/active_support/log_subscriber/test_helper.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>LogSubscriber</code> is an object set to consume <a href="Notifications.html" title="ActiveSupport::Notifications (module)"><code>Notifications</code></a> with the sole purpose of logging them. The log subscriber dispatches notifications to a registered object based on its given namespace.</p>

<p>An example would be Active Record log subscriber responsible for logging queries:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>
  <span class='kw'>class</span> <span class='const'>LogSubscriber</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'>LogSubscriber</span>
    <span class='id identifier rubyid_attach_to'><a href="#attach_to-class_method" title="ActiveSupport::LogSubscriber.attach_to (method)">attach_to</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_active_record'>active_record</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_sql'>sql</span>(<span class='id identifier rubyid_event'>event</span>)
      <span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_payload'>payload</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_duration'>duration</span><span class='embexpr_end'>}</span><span class='tstring_content'>) </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_payload'>payload</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sql'>sql</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p><code>ActiveRecord::LogSubscriber.logger</code> must be set as well, but it is assigned automatically in a Rails environment.</p>

<p>After configured, whenever a <code>&quot;sql.active_record&quot;</code> notification is published, it will properly dispatch the event (ActiveSupport::Notifications::Event) to the <code>sql</code> method.</p>

<p>Being an <a href="Notifications.html" title="ActiveSupport::Notifications (module)"><code>Notifications</code></a> consumer, <code>LogSubscriber</code> exposes a simple interface to check if instrumented code raises an exception. It is common to log a different message in case of an error, and this can be achieved by extending the previous example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>
  <span class='kw'>class</span> <span class='const'>LogSubscriber</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'>LogSubscriber</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_sql'>sql</span>(<span class='id identifier rubyid_event'>event</span>)
      <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_payload'>payload</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_exception'>exception</span>]

      <span class='kw'>if</span> <span class='id identifier rubyid_exception'>exception</span>
        <span class='id identifier rubyid_exception_object'>exception_object</span> <span class='op'>=</span> <span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_payload'>payload</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_exception_object'>exception_object</span>]

        <span class='id identifier rubyid_error'>error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ERROR] </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_payload'>payload</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exception'>exception</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> \
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exception_object'>exception_object</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='comment'># standard logger code
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p><code>LogSubscriber</code> also has some helpers to deal with logging. For example, <a href="#flush_all!-class_method" title="ActiveSupport::LogSubscriber.flush_all! (method)">.flush_all!</a> will ensure that all logs are flushed, and it is called in <a href="../Rails/Rack/Logger.html" title="Rails::Rack::Logger (class)"><code>::Rails::Rack::Logger</code></a> after a request finishes.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='BLACK-constant' class='summary_signature'>BLACK =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>ANSI sequence colors</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L77-L77'># File 'activesupport/lib/active_support/log_subscriber.rb', line 77</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[30m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='BLUE-constant' class='summary_signature'>BLUE =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L81-L81'># File 'activesupport/lib/active_support/log_subscriber.rb', line 81</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[34m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='BOLD-constant' class='summary_signature'>BOLD =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L66-L66'># File 'activesupport/lib/active_support/log_subscriber.rb', line 66</a>    <pre class='code ruby'><span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span><span class='op'>::</span><span class='const'><a href="Deprecation/DeprecatedObjectProxy.html" title="ActiveSupport::Deprecation::DeprecatedObjectProxy (class)">DeprecatedObjectProxy</a></span>.<span class='id identifier rubyid_new'><a href="Deprecation/DeprecatedObjectProxy.html#new-class_method" title="ActiveSupport::Deprecation::DeprecatedObjectProxy.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[1m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BOLD is deprecated! Use MODES[:bold] instead.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span>.<span class='id identifier rubyid_deprecator'><a href="../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>)</pre>
  </li>
  <li>
    <span id='CLEAR-constant' class='summary_signature'>CLEAR =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Embed in a <a href="../String.html" title="String (class)"><code>::String</code></a> to clear all previous ANSI sequences.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L65-L65'># File 'activesupport/lib/active_support/log_subscriber.rb', line 65</a>    <pre class='code ruby'><span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span><span class='op'>::</span><span class='const'><a href="Deprecation/DeprecatedObjectProxy.html" title="ActiveSupport::Deprecation::DeprecatedObjectProxy (class)">DeprecatedObjectProxy</a></span>.<span class='id identifier rubyid_new'><a href="Deprecation/DeprecatedObjectProxy.html#new-class_method" title="ActiveSupport::Deprecation::DeprecatedObjectProxy.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[0m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLEAR is deprecated! Use MODES[:clear] instead.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span>.<span class='id identifier rubyid_deprecator'><a href="../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>)</pre>
  </li>
  <li>
    <span id='CYAN-constant' class='summary_signature'>CYAN =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L83-L83'># File 'activesupport/lib/active_support/log_subscriber.rb', line 83</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[36m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='GREEN-constant' class='summary_signature'>GREEN =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L79-L79'># File 'activesupport/lib/active_support/log_subscriber.rb', line 79</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[32m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='LEVEL_CHECKS-constant' class='summary_signature nodoc'>LEVEL_CHECKS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L89-L93'># File 'activesupport/lib/active_support/log_subscriber.rb', line 89</a>    <pre class='code ruby'>{
  <span class='label'>debug:</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>) <span class='tlambeg'>{</span> <span class='op'>!</span><span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_debug?'>debug?</span> }<span class='comma'>,</span>
  <span class='label'>info:</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>) <span class='tlambeg'>{</span> <span class='op'>!</span><span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_info?'>info?</span> }<span class='comma'>,</span>
  <span class='label'>error:</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>) <span class='tlambeg'>{</span> <span class='op'>!</span><span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_error?'>error?</span> }<span class='comma'>,</span>
}</pre>
  </li>
  <li>
    <span id='MAGENTA-constant' class='summary_signature'>MAGENTA =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L82-L82'># File 'activesupport/lib/active_support/log_subscriber.rb', line 82</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[35m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='MODES-constant' class='summary_signature'>MODES =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>ANSI sequence modes</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L69-L74'># File 'activesupport/lib/active_support/log_subscriber.rb', line 69</a>    <pre class='code ruby'>{
  <span class='label'>clear:</span>     <span class='int'>0</span><span class='comma'>,</span>
  <span class='label'>bold:</span>      <span class='int'>1</span><span class='comma'>,</span>
  <span class='label'>italic:</span>    <span class='int'>3</span><span class='comma'>,</span>
  <span class='label'>underline:</span> <span class='int'>4</span><span class='comma'>,</span>
}</pre>
  </li>
  <li>
    <span id='RED-constant' class='summary_signature'>RED =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L78-L78'># File 'activesupport/lib/active_support/log_subscriber.rb', line 78</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[31m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='WHITE-constant' class='summary_signature'>WHITE =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L84-L84'># File 'activesupport/lib/active_support/log_subscriber.rb', line 84</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[37m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='YELLOW-constant' class='summary_signature'>YELLOW =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L80-L80'># File 'activesupport/lib/active_support/log_subscriber.rb', line 80</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[33m</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#colorize_logging-class_method" title=".colorize_logging (class method)">.<strong>colorize_logging</strong>  </a>
      (also: #colorize_logging)
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#log_levels-class_method" title=".log_levels (class method)">.<strong>log_levels</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#log_levels%3F-class_method" title=".log_levels? (class method)">.<strong>log_levels?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#logger-class_method" title=".logger (class method)">.<strong>logger</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#logger=-class_method" title=".logger= (class method)">.<strong>logger=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro priv' href="Subscriber.html#namespace-class_method" title="ActiveSupport::Subscriber.namespace (method)">.namespace</a>,
        <a class='i_m ro priv' href="Subscriber.html#notifier-class_method" title="ActiveSupport::Subscriber.notifier (method)">.notifier</a>,
        <a class='i_m ro priv' href="Subscriber.html#subscriber-class_method" title="ActiveSupport::Subscriber.subscriber (method)">.subscriber</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#attach_to-class_method" title=".attach_to (class method)">.<strong>attach_to</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#flush_all!-class_method" title=".flush_all! (class method)">.<strong>flush_all!</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Flush all log_subscribers’ logger.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#log_subscribers-class_method" title=".log_subscribers (class method)">.<strong>log_subscribers</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>  &#x21d2; LogSubscriber </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#fetch_public_methods-class_method" title=".fetch_public_methods (class method)">.<strong>fetch_public_methods</strong>(subscriber, inherit_all)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#set_event_levels-class_method" title=".set_event_levels (class method)">.<strong>set_event_levels</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#subscribe_log_level-class_method" title=".subscribe_log_level (class method)">.<strong>subscribe_log_level</strong>(method, level)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Subscriber.html#attach_to-class_method" title="ActiveSupport::Subscriber.attach_to (method)">.attach_to</a></td>
      <td><div class='inline'><p>Attach the subscriber to a namespace.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Subscriber.html#detach_from-class_method" title="ActiveSupport::Subscriber.detach_from (method)">.detach_from</a></td>
      <td><div class='inline'><p>Detach the subscriber from a namespace.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Subscriber.html#method_added-class_method" title="ActiveSupport::Subscriber.method_added (method)">.method_added</a></td>
      <td><div class='inline'><p>Adds event subscribers for all new methods added to the class.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Subscriber.html#new-class_method" title="ActiveSupport::Subscriber.new (method)">.new</a>,
        <a class='i_m ' href="Subscriber.html#subscribers-class_method" title="ActiveSupport::Subscriber.subscribers (method)">.subscribers</a>,
        <a class='i_m priv' href="Subscriber.html#add_event_subscriber-class_method" title="ActiveSupport::Subscriber.add_event_subscriber (method)">.add_event_subscriber</a>,
        <a class='i_m priv' href="Subscriber.html#fetch_public_methods-class_method" title="ActiveSupport::Subscriber.fetch_public_methods (method)">.fetch_public_methods</a>,
        <a class='i_m priv' href="Subscriber.html#find_attached_subscriber-class_method" title="ActiveSupport::Subscriber.find_attached_subscriber (method)">.find_attached_subscriber</a>,
        <a class='i_m priv' href="Subscriber.html#invalid_event%3F-class_method" title="ActiveSupport::Subscriber.invalid_event? (method)">.invalid_event?</a>,
        <a class='i_m priv' href="Subscriber.html#pattern_subscribed%3F-class_method" title="ActiveSupport::Subscriber.pattern_subscribed? (method)">.pattern_subscribed?</a>,
        <a class='i_m priv' href="Subscriber.html#prepare_pattern-class_method" title="ActiveSupport::Subscriber.prepare_pattern (method)">.prepare_pattern</a>,
        <a class='i_m priv' href="Subscriber.html#remove_event_subscriber-class_method" title="ActiveSupport::Subscriber.remove_event_subscriber (method)">.remove_event_subscriber</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#colorize_logging-instance_method" title="#colorize_logging (instance method)">#<strong>colorize_logging</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature wo nodoc'>
      <a href="#event_levels=-instance_method" title="#event_levels= (instance method)">#<strong>event_levels=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro nodoc' href="Subscriber.html#patterns-instance_method" title="ActiveSupport::Subscriber#patterns (method)">#patterns</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>(event)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#logger-instance_method" title="#logger (instance method)">#<strong>logger</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#publish_event-instance_method" title="#publish_event (instance method)">#<strong>publish_event</strong>(event)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#silenced%3F-instance_method" title="#silenced? (instance method)">#<strong>silenced?</strong>(event)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#color-instance_method" title="#color (instance method)">#<strong>color</strong>(text, color, mode_options = {})  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set color by using a symbol or one of the defined constants.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#log_exception-instance_method" title="#log_exception (instance method)">#<strong>log_exception</strong>(name, e)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#mode_from-instance_method" title="#mode_from (instance method)">#<strong>mode_from</strong>(options)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Subscriber.html" title="ActiveSupport::Subscriber (class)"><code>Subscriber</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Subscriber.html#call-instance_method" title="ActiveSupport::Subscriber#call (method)">#call</a>,
        <a class='i_m nodoc' href="Subscriber.html#publish_event-instance_method" title="ActiveSupport::Subscriber#publish_event (method)">#publish_event</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature nodoc first'>
    .<strong>new</strong>  &#x21d2; <code>LogSubscriber</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L136-L139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='136' data-end='139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='kw'>super</span>
  <span class='ivar'>@event_levels</span> <span class='op'>=</span> {}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="colorize_logging-class_method">
  <h3 class='signature rw first'>
    .<strong>colorize_logging</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#colorize_logging</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L86-L86'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='86' data-end='86'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 86</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_colorize_logging'>colorize_logging</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>true</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_levels-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>log_levels</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L87-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='87' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 87</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_log_levels'>log_levels</span><span class='comma'>,</span> <span class='label'>instance_accessor:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> {} <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_levels?-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>log_levels?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L87-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='87' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 87</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_log_levels'><a href="#log_levels-class_method" title="ActiveSupport::LogSubscriber.log_levels (method)">log_levels</a></span><span class='comma'>,</span> <span class='label'>instance_accessor:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> {} <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logger-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>logger</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L96-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='96' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='ivar'>@logger</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../Rails.html" title="Rails (module)">Rails</a></span>) <span class='op'>&amp;&amp;</span> <span class='const'><a href="../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_logger'>logger</span>)
    <span class='const'><a href="../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_logger'><a href="../Rails.html#logger-class_method" title="Rails.logger (method)">logger</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logger=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>logger=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L108-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='108' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 108</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="attach_to-class_method">
  <h3 class='signature nodoc first'>
    .<strong>attach_to</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L102-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='106'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_attach_to'>attach_to</span>(<span class='op'>...</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>super</span>
  <span class='id identifier rubyid_set_event_levels'><a href="#set_event_levels-class_method" title="ActiveSupport::LogSubscriber.set_event_levels (method)">set_event_levels</a></span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch_public_methods-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>fetch_public_methods</strong>(subscriber, inherit_all)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L120-L122'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='120' data-end='122'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 120</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_public_methods'>fetch_public_methods</span>(<span class='id identifier rubyid_subscriber'>subscriber</span><span class='comma'>,</span> <span class='id identifier rubyid_inherit_all'>inherit_all</span>)
  <span class='id identifier rubyid_subscriber'>subscriber</span>.<span class='id identifier rubyid_public_methods'>public_methods</span>(<span class='id identifier rubyid_inherit_all'>inherit_all</span>) <span class='op'>-</span> <span class='const'>LogSubscriber</span>.<span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span>(<span class='kw'>true</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flush_all!-class_method">
  <h3 class='signature nodoc'>
    .<strong>flush_all!</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Flush all log_subscribers’ logger.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L115-L117'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='117'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_flush_all!'>flush_all!</span>
  <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_flush'>flush</span> <span class='kw'>if</span> <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_flush'>flush</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_subscribers-class_method">
  <h3 class='signature nodoc'>
    .<strong>log_subscribers</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L110-L112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_log_subscribers'>log_subscribers</span>
  <span class='id identifier rubyid_subscribers'>subscribers</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_event_levels-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>set_event_levels</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L124-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='124' data-end='128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 124</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_event_levels'>set_event_levels</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_subscriber'>subscriber</span>
    <span class='id identifier rubyid_subscriber'>subscriber</span>.<span class='id identifier rubyid_event_levels'>event_levels</span> <span class='op'>=</span> <span class='id identifier rubyid_log_levels'><a href="#log_levels-class_method" title="ActiveSupport::LogSubscriber.log_levels (method)">log_levels</a></span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="subscribe_log_level-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>subscribe_log_level</strong>(method, level)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L130-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='130' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_subscribe_log_level'>subscribe_log_level</span>(<span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_log_levels'><a href="#log_levels-class_method" title="ActiveSupport::LogSubscriber.log_levels (method)">log_levels</a></span> <span class='op'>=</span> <span class='id identifier rubyid_log_levels'><a href="#log_levels-class_method" title="ActiveSupport::LogSubscriber.log_levels (method)">log_levels</a></span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_method'>method</span> <span class='op'>=&gt;</span> <span class='const'><a href="#LEVEL_CHECKS-constant" title="ActiveSupport::LogSubscriber::LEVEL_CHECKS (constant)">LEVEL_CHECKS</a></span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_level'>level</span>))
  <span class='id identifier rubyid_set_event_levels'><a href="#set_event_levels-class_method" title="ActiveSupport::LogSubscriber.set_event_levels (method)">set_event_levels</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="colorize_logging-instance_method">
  <h3 class='signature rw first'>
    #<strong>colorize_logging</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L86-L86'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='86' data-end='86'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 86</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_colorize_logging'>colorize_logging</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>true</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="event_levels=-instance_method">
  <h3 class='signature wo  nodoc'>
    #<strong>event_levels=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L161-L161'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='161' data-end='161'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 161</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_event_levels'>event_levels</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="call-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>call</strong>(event)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L149-L153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='149' data-end='153'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 149</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_event'>event</span>)
  <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log_exception'><a href="#log_exception-instance_method" title="ActiveSupport::LogSubscriber#log_exception (method)">log_exception</a></span>(<span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="color-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>color</strong>(text, color, mode_options = {})   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set color by using a symbol or one of the defined constants. Set modes by specifying bold, italic, or underline options. Inspired by Highline, this method will automatically clear formatting at the end of the returned <a href="../String.html" title="String (class)"><code>::String</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L175-L181'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='175' data-end='181'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 175</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_color'>color</span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_color'>color</span><span class='comma'>,</span> <span class='id identifier rubyid_mode_options'>mode_options</span> <span class='op'>=</span> {}) <span class='comment'># :doc:
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_text'>text</span> <span class='kw'>unless</span> <span class='id identifier rubyid_colorize_logging'><a href="#colorize_logging-class_method" title="ActiveSupport::LogSubscriber.colorize_logging (method)">colorize_logging</a></span>
  <span class='id identifier rubyid_color'>color</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_color'>color</span>.<span class='id identifier rubyid_upcase'>upcase</span>) <span class='kw'>if</span> <span class='id identifier rubyid_color'>color</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span>)
  <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='id identifier rubyid_mode_from'><a href="#mode_from-instance_method" title="ActiveSupport::LogSubscriber#mode_from (method)">mode_from</a></span>(<span class='id identifier rubyid_mode_options'>mode_options</span>)
  <span class='id identifier rubyid_clear'>clear</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#MODES-constant" title="ActiveSupport::LogSubscriber::MODES (constant)">MODES</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_clear'>clear</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>m</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mode'>mode</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_text'>text</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_clear'>clear</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_exception-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>log_exception</strong>(name, e)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L197-L201'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='201'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_log_exception'>log_exception</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>
    <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_error'>error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not log </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> event. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logger-instance_method">
  <h3 class='signature nodoc'>
    #<strong>logger</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L141-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='const'>LogSubscriber</span>.<span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mode_from-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>mode_from</strong>(options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L183-L195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='183' data-end='195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 183</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mode_from'>mode_from</span>(<span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../TrueClass.html" title="TrueClass (class)">TrueClass</a></span>) <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../FalseClass.html" title="FalseClass (class)">FalseClass</a></span>)
    <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span>.<span class='id identifier rubyid_deprecator'><a href="../ActiveSupport.html#deprecator-class_method" title="ActiveSupport.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='heredoc_beg'>&lt;&lt;~MSG</span>.<span class='id identifier rubyid_squish'>squish</span>)
<span class='ignored_sp'>      </span><span class='tstring_content'>Bolding log text with a positional boolean is deprecated and will be removed
</span><span class='ignored_sp'>      </span><span class='tstring_content'>in Rails 7.2. Use an option hash instead (eg. `color(&quot;my text&quot;, :red, bold: true)`).
</span><span class='heredoc_end'>    MSG
</span>    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> { <span class='label'>bold:</span> <span class='id identifier rubyid_options'>options</span> }
  <span class='kw'>end</span>

  <span class='id identifier rubyid_modes'>modes</span> <span class='op'>=</span> <span class='const'><a href="#MODES-constant" title="ActiveSupport::LogSubscriber::MODES (constant)">MODES</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_compact_blank'>compact_blank</span>.<span class='id identifier rubyid_keys'>keys</span>)

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_modes'>modes</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>m</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_modes'>modes</span>.<span class='id identifier rubyid_any?'>any?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="publish_event-instance_method">
  <h3 class='signature nodoc'>
    #<strong>publish_event</strong>(event)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L155-L159'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='155' data-end='159'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 155</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_publish_event'>publish_event</span>(<span class='id identifier rubyid_event'>event</span>)
  <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log_exception'><a href="#log_exception-instance_method" title="ActiveSupport::LogSubscriber#log_exception (method)">log_exception</a></span>(<span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="silenced?-instance_method">
  <h3 class='signature nodoc'>
    #<strong>silenced?</strong>(event)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/7-1-stable/activesupport/lib/active_support/log_subscriber.rb#L145-L147'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='145' data-end='147'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/log_subscriber.rb', line 145</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_silenced?'>silenced?</span>(<span class='id identifier rubyid_event'>event</span>)
  <span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='ivar'>@event_levels</span>[<span class='id identifier rubyid_event'>event</span>]<span class='op'>&amp;.</span><span class='id identifier rubyid_call'><a href="#call-instance_method" title="ActiveSupport::LogSubscriber#call (method)">call</a></span>(<span class='id identifier rubyid_logger'><a href="#logger-class_method" title="ActiveSupport::LogSubscriber.logger (method)">logger</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>