<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Active Model CHANGELOG &mdash; Rails 8-1-stable</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "active_model_CHANGELOG",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Rails 8-1-stable</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Active Model CHANGELOG&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<ul>
<li><p>Fix <code>NoMethodError</code> when deserialising <code>Type::Integer</code> objects marshalled under <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 8.0.</p>

<p>The performance optimisation that replaced <code>@range</code> with <code>@max</code>/<code>@min</code>
broke Marshal compatibility. Objects serialised under 8.0 (with <code>@range</code>)
and deserialised under 8.1 (expecting <code>@max</code>/<code>@min</code>) would crash with
<code>undefined method &#39;&lt;=&#39; for nil</code> because <code>Marshal.load</code> restores instance
variables without calling <code>initialize</code>.</p>

<p><em>Edward Woodcock</em></p></li>
</ul>

<h2>Rails 8.1.2 (January 08, 2026)</h2>

<ul>
<li>  No changes.</li>
</ul>

<h2>Rails 8.1.1 (October 28, 2025)</h2>

<ul>
<li>  No changes.</li>
</ul>

<h2>Rails 8.1.0 (October 22, 2025)</h2>

<ul>
<li><p>Add <code>reset_token: { expires_in: ... }</code> option to <code>has_secure_password</code>.</p>

<p>Allows configuring the expiry duration of password reset tokens (default remains 15 minutes for backwards compatibility).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_has_secure_password'>has_secure_password</span> <span class='label'>reset_token:</span> { <span class='label'>expires_in:</span> <span class='int'>1</span>.<span class='id identifier rubyid_hour'>hour</span> }</code></pre>

<p><em>Jevin Sew</em>, <em>Abeid Ahmed</em></p></li>
<li><p>Add <code>except_on:</code> option for validation callbacks.</p>

<p><em>Ben Sheldon</em></p></li>
<li><p>Backport <code>ActiveRecord::Normalization</code> to <a href="ActiveModel/Attributes/Normalization.html" title="ActiveModel::Attributes::Normalization (module)"><code>::ActiveModel::Attributes::Normalization</code></a></p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>User</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="ActiveModel/Attributes.html" title="ActiveModel::Attributes (module)">Attributes</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="ActiveModel/Attributes.html" title="ActiveModel::Attributes (module)">Attributes</a></span><span class='op'>::</span><span class='const'><a href="ActiveModel/Attributes/Normalization.html" title="ActiveModel::Attributes::Normalization (module)">Normalization</a></span>

  <span class='id identifier rubyid_attribute'>attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid_email'>email</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span>

  <span class='id identifier rubyid_normalizes'>normalizes</span> <span class='symbeg'>:</span><span class='id identifier rubyid_email'>email</span><span class='comma'>,</span> <span class='label'>with:</span> <span class='tlambda'>-&gt;</span> <span class='id identifier rubyid_email'>email</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_email'>email</span>.<span class='id identifier rubyid_strip'>strip</span>.<span class='id identifier rubyid_downcase'>downcase</span> }
<span class='kw'>end</span>

<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='const'>User</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_email'>email</span> <span class='op'>=</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> CRUISE-CONTROL@EXAMPLE.COM\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_email'>email</span> <span class='comment'># =&gt; &quot;cruise-control@example.com&quot;</span></code></pre>

<p><em>Sean Doyle</em></p></li>
</ul>

<p>Please check [8-0-stable]) for previous changes.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>