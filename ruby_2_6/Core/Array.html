<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Array &mdash; Core Ruby-2.6.10 p210</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Array",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-2.6.10</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_A'>Index (A)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Array&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Array</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6778'>array.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/pack.c#L302'>pack.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Arrays are ordered, integer-indexed collections of any object.</p>

<p><code>Array</code> indexing starts at 0, as in C or Java.  A negative index is assumed to be relative to the end of the array—that is, an index of -1 indicates the last element of the array, -2 is the next to last element in the array, and so on.</p>

<h3 id="label-Creating+Arrays">Creating Arrays</h3>

<p>A new array can be created by using the literal constructor <a href="#[]-class_method" title="Array.[] (method)">.[]</a>.  Arrays can contain different types of objects.  For example, the array below contains an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, a <a href="String.html" title="String (class)"><code>::String</code></a> and a <a href="Float.html" title="Float (class)"><code>::Float</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>3.0</span>] <span class='comment'>#=&gt; [1, &quot;two&quot;, 3.0]</span></code></pre>

<p>An array can also be created by explicitly calling <a href="#new-class_method" title="Array.new (method)">.new</a> with zero, one (the initial size of the <code>Array</code>) or two arguments (the initial size and a default object).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>    <span class='comment'>#=&gt; []
</span><span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>3</span>)       <span class='comment'>#=&gt; [nil, nil, nil]
</span><span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>3</span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='comment'>#=&gt; [true, true, true]</span></code></pre>

<p>Note that the second argument populates the array with references to the same object.  Therefore, it is only recommended in cases when you need to instantiate arrays with natively immutable objects such as Symbols, numbers, true or false.</p>

<p>To create an array with separate objects a block can be passed instead. This method is safe to use with mutable objects such as hashes, strings or other arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>4</span>) {<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span>}    <span class='comment'>#=&gt; [{}, {}, {}, {}]
</span><span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>4</span>) {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Array#to_s (method)">to_s</a></span> } <span class='comment'>#=&gt; [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></code></pre>

<p>This is also a quick way to build up multi-dimensional arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_empty_table'>empty_table</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>3</span>) {<span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>(<span class='int'>3</span>)}
<span class='comment'>#=&gt; [[nil, nil, nil], [nil, nil, nil], [nil, nil, nil]]</span></code></pre>

<p>An array can also be created by using the Array() method, provided by <a href="Kernel.html" title="Kernel (module)"><code>::Kernel</code></a>, which tries to call <a href="#to_ary-instance_method" title="Array#to_ary (method)">#to_ary</a>, then <a href="#to_a-instance_method" title="Array#to_a (method)">#to_a</a> on its argument.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span>({<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>}) <span class='comment'>#=&gt; [[:a, &quot;a&quot;], [:b, &quot;b&quot;]]</span></code></pre>

<h3 id="label-Example+Usage">Example Usage</h3>

<p>In addition to the methods it mixes in through the <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> module, the <code>Array</code> class has proprietary methods for accessing, searching and otherwise manipulating arrays.</p>

<p>Some of the more common ones are illustrated below.</p>

<h3 id="label-Accessing+Elements">Accessing Elements</h3>

<p>Elements in an array can be retrieved using the <a href="#[]-instance_method" title="Array#[] (method)">#[]</a> method.  It can take a single integer argument (a numeric index), a pair of arguments (start and length) or a range. Negative indices start counting from the end, with -1 being the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span>]
<span class='id identifier rubyid_arr'>arr</span>[<span class='int'>2</span>]    <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='int'>100</span>]  <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='op'>-</span><span class='int'>3</span>]   <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>] <span class='comment'>#=&gt; [3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'>#=&gt; [2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>3</span>] <span class='comment'>#=&gt; [2, 3, 4]</span></code></pre>

<p>Another way to access a particular array element is by using the <a href="#at-instance_method" title="Array#at (method)">#at</a> method</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_at'><a href="#at-instance_method" title="Array#at (method)">at</a></span>(<span class='int'>0</span>) <span class='comment'>#=&gt; 1</span></code></pre>

<p>The <a href="#slice-instance_method" title="Array#slice (method)">#slice</a> method works in an identical manner to <a href="#[]-instance_method" title="Array#[] (method)">#[]</a>.</p>

<p>To raise an error for indices outside of the array bounds or else to provide a default value when that happens, you can use <a href="#fetch-instance_method" title="Array#fetch (method)">#fetch</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_fetch'><a href="#fetch-instance_method" title="Array#fetch (method)">fetch</a></span>(<span class='int'>100</span>) <span class='comment'>#=&gt; IndexError: index 100 outside of array bounds: -6...6
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_fetch'><a href="#fetch-instance_method" title="Array#fetch (method)">fetch</a></span>(<span class='int'>100</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oops</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;oops&quot;</span></code></pre>

<p>The special methods <a href="#first-instance_method" title="Array#first (method)">#first</a> and <a href="#last-instance_method" title="Array#last (method)">#last</a> will return the first and last elements of an array, respectively.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Array#first (method)">first</a></span> <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_last'><a href="#last-instance_method" title="Array#last (method)">last</a></span>  <span class='comment'>#=&gt; 6</span></code></pre>

<p>To return the first <code>n</code> elements of an array, use <a href="#take-instance_method" title="Array#take (method)">#take</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_take'><a href="#take-instance_method" title="Array#take (method)">take</a></span>(<span class='int'>3</span>) <span class='comment'>#=&gt; [1, 2, 3]</span></code></pre>

<p><a href="#drop-instance_method" title="Array#drop (method)">#drop</a> does the opposite of <a href="#take-instance_method" title="Array#take (method)">#take</a>, by returning the elements after <code>n</code> elements have been dropped:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_drop'><a href="#drop-instance_method" title="Array#drop (method)">drop</a></span>(<span class='int'>3</span>) <span class='comment'>#=&gt; [4, 5, 6]</span></code></pre>

<h3 id="label-Obtaining+Information+about+an+Array">Obtaining Information about an Array</h3>

<p>Arrays keep track of their own length at all times.  To query an array about the number of elements it contains, use <a href="#length-instance_method" title="Array#length (method)">#length</a>, <a href="#count-instance_method" title="Array#count (method)">#count</a> or <a href="#size-instance_method" title="Array#size (method)">#size</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Chrome</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Firefox</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Safari</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Opera</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>IE</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_browsers'>browsers</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> <span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_browsers'>browsers</span>.<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Array#count (method)">count</a></span> <span class='comment'>#=&gt; 5</span></code></pre>

<p>To check whether an array contains any elements at all</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span>.<span class='id identifier rubyid_empty?'><a href="#empty%3F-instance_method" title="Array#empty? (method)">empty?</a></span> <span class='comment'>#=&gt; false</span></code></pre>

<p>To check whether a particular item is included in the array</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Array#include? (method)">include?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Konqueror</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'>#=&gt; false</span></code></pre>

<h3 id="label-Adding+Items+to+Arrays">Adding Items to Arrays</h3>

<p>Items can be added to the end of an array by using either <a href="#push-instance_method" title="Array#push (method)">#push</a> or <a href="#<<-instance_method" title="Array#&lt;&lt; (method)">#&lt;&lt;</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="Array#push (method)">push</a></span>(<span class='int'>5</span>) <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span> <span class='op'>&lt;&lt;</span> <span class='int'>6</span>    <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6]</span></code></pre>

<p><a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a> will add a new item to the beginning of an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_unshift'><a href="#unshift-instance_method" title="Array#unshift (method)">unshift</a></span>(<span class='int'>0</span>) <span class='comment'>#=&gt; [0, 1, 2, 3, 4, 5, 6]</span></code></pre>

<p>With <a href="#insert-instance_method" title="Array#insert (method)">#insert</a> you can add a new element to an array at any position.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_insert'><a href="#insert-instance_method" title="Array#insert (method)">insert</a></span>(<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>apple</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; [0, 1, 2, &#39;apple&#39;, 3, 4, 5, 6]</span></code></pre>

<p>Using the <a href="#insert-instance_method" title="Array#insert (method)">#insert</a> method, you can also insert multiple values at once:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_insert'><a href="#insert-instance_method" title="Array#insert (method)">insert</a></span>(<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>orange</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pear</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grapefruit</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'>#=&gt; [0, 1, 2, &quot;orange&quot;, &quot;pear&quot;, &quot;grapefruit&quot;, &quot;apple&quot;, 3, 4, 5, 6]</span></code></pre>

<h3 id="label-Removing+Items+from+an+Array">Removing Items from an Array</h3>

<p>The method <a href="#pop-instance_method" title="Array#pop (method)">#pop</a> removes the last element in an array and returns it:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span>  [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_pop'><a href="#pop-instance_method" title="Array#pop (method)">pop</a></span> <span class='comment'>#=&gt; 6
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [1, 2, 3, 4, 5]</span></code></pre>

<p>To retrieve and at the same time remove the first item, use <a href="#shift-instance_method" title="Array#shift (method)">#shift</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_shift'><a href="#shift-instance_method" title="Array#shift (method)">shift</a></span> <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [2, 3, 4, 5]</span></code></pre>

<p>To delete an element at a particular index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_delete_at'><a href="#delete_at-instance_method" title="Array#delete_at (method)">delete_at</a></span>(<span class='int'>2</span>) <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [2, 3, 5]</span></code></pre>

<p>To delete a particular element anywhere in an array, use <a href="#delete-instance_method" title="Array#delete (method)">#delete</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Array#delete (method)">delete</a></span>(<span class='int'>2</span>) <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [1,3]</span></code></pre>

<p>A useful method if you need to remove <code>nil</code> values from an array is <a href="#compact-instance_method" title="Array#compact (method)">#compact</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_compact'><a href="#compact-instance_method" title="Array#compact (method)">compact</a></span>  <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]
</span><span class='id identifier rubyid_arr'>arr</span>          <span class='comment'>#=&gt; [&#39;foo&#39;, 0, nil, &#39;bar&#39;, 7, &#39;baz&#39;, nil]
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_compact!'><a href="#compact!-instance_method" title="Array#compact! (method)">compact!</a></span> <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]
</span><span class='id identifier rubyid_arr'>arr</span>          <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]</span></code></pre>

<p>Another common need is to remove duplicate elements from an array.</p>

<p>It has the non-destructive <a href="#uniq-instance_method" title="Array#uniq (method)">#uniq</a>, and destructive method <a href="#uniq!-instance_method" title="Array#uniq! (method)">#uniq!</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>2</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>556</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>556</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_uniq'><a href="#uniq-instance_method" title="Array#uniq (method)">uniq</a></span> <span class='comment'>#=&gt; [2, 5, 6, 556, 8, 9, 0, 123]</span></code></pre>

<h3 id="label-Iterating+over+Arrays">Iterating over Arrays</h3>

<p>Like all classes that include the <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> module, <code>Array</code> has an each method, which defines what elements should be iterated over and how.  In case of Array’s <a href="#each-instance_method" title="Array#each (method)">#each</a>, all elements in the <code>Array</code> instance are yielded to the supplied block in sequence.</p>

<p>Note that this operation leaves the array unchanged.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Array#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>-=</span> <span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>}
<span class='comment'># prints: -9 -8 -7 -6 -5
</span><span class='comment'>#=&gt; [1, 2, 3, 4, 5]</span></code></pre>

<p>Another sometimes useful iterator is <a href="#reverse_each-instance_method" title="Array#reverse_each (method)">#reverse_each</a> which will iterate over the elements in the array in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_words'>words</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>first</span><span class='words_sep'> </span><span class='tstring_content'>second</span><span class='words_sep'> </span><span class='tstring_content'>third</span><span class='words_sep'> </span><span class='tstring_content'>fourth</span><span class='words_sep'> </span><span class='tstring_content'>fifth</span><span class='words_sep'> </span><span class='tstring_content'>sixth</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_reverse_each'><a href="#reverse_each-instance_method" title="Array#reverse_each (method)">reverse_each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_word'>word</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>}
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_str'>str</span> <span class='comment'>#=&gt; &quot;sixth fifth fourth third second first &quot;</span></code></pre>

<p>The <a href="#map-instance_method" title="Array#map (method)">#map</a> method can be used to create a new array based on the original array, but with the values modified by the supplied block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Array#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='int'>2</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span>}     <span class='comment'>#=&gt; [2, 4, 6, 8, 10]
</span><span class='id identifier rubyid_arr'>arr</span>                   <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_map!'><a href="#map!-instance_method" title="Array#map! (method)">map!</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='op'>**</span><span class='int'>2</span>}   <span class='comment'>#=&gt; [1, 4, 9, 16, 25]
</span><span class='id identifier rubyid_arr'>arr</span>                   <span class='comment'>#=&gt; [1, 4, 9, 16, 25]</span></code></pre>

<h3 id="label-Selecting+Items+from+an+Array">Selecting Items from an Array</h3>

<p>Elements can be selected from an array according to criteria defined in a block.  The selection can happen in a destructive or a non-destructive manner.  While the destructive operations will modify the array they were called on, the non-destructive methods usually return a new array with the selected elements, but leave the original array unchanged.</p>

<h4 id="label-Non-destructive+Selection">Non-destructive Selection</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Array#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&gt;</span> <span class='int'>3</span>}       <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_reject'><a href="#reject-instance_method" title="Array#reject (method)">reject</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>3</span>}       <span class='comment'>#=&gt; [3, 4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_drop_while'><a href="#drop_while-instance_method" title="Array#drop_while (method)">drop_while</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span>}   <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>                          <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6]</span></code></pre>

<h4 id="label-Destructive+Selection">Destructive Selection</h4>

<p><a href="#select!-instance_method" title="Array#select! (method)">#select!</a> and <a href="#reject!-instance_method" title="Array#reject! (method)">#reject!</a> are the corresponding destructive methods to <a href="#select-instance_method" title="Array#select (method)">#select</a> and <a href="#reject-instance_method" title="Array#reject (method)">#reject</a></p>

<p>Similar to <a href="#select-instance_method" title="Array#select (method)">#select</a> vs. <a href="#reject-instance_method" title="Array#reject (method)">#reject</a>, <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a> and <a href="#keep_if-instance_method" title="Array#keep_if (method)">#keep_if</a> have the exact opposite result when supplied with the same block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_delete_if'><a href="#delete_if-instance_method" title="Array#delete_if (method)">delete_if</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span>}   <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>                         <span class='comment'>#=&gt; [4, 5, 6]
</span>
<span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_keep_if'><a href="#keep_if-instance_method" title="Array#keep_if (method)">keep_if</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span>}   <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_arr'>arr</span>                       <span class='comment'>#=&gt; [1, 2, 3]</span></code></pre>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-class_method" title=".[] (class method)">.<strong>[]</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array populated with the given objects.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(size = 0, default = nil)  </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(obj)  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Tries to convert <code>obj</code> into an array, using <a href="#to_ary-instance_method" title="Array#to_ary (method)">#to_ary</a> method.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> contains no elements.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#&-instance_method" title="#&amp; (instance method)">#<strong>&amp;</strong>(other_ary)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set Intersection — Returns a new array containing unique elements common to the two arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(int)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Repetition — With a <a href="String.html" title="String (class)"><code>::String</code></a> argument, equivalent to <code>ary.join(str)</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_ary)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenation — Returns a new array built by concatenating the two arrays together to produce a third array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(other_ary)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>Array</code> Difference.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Append—Pushes the given object on to the end of this array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_ary)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Comparison — Returns an integer (<code>-1</code>, <code>0</code>, or <code>+1</code>) if this array is less than, equal to, or greater than <code>other_ary</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other_ary)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equality — Two arrays are equal if they contain the same number of elements and if each element is equal to (according to <code>Object#==</code>) the corresponding element in <code>other_ary</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
      (also: #slice)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Element Reference — Returns the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>, or returns a subarray starting at the <code>start</code> index and continuing for <a href="#length-instance_method" title="Array#length (method)">#length</a> elements, or returns a subarray specified by <code>range</code> of indices.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(index, obj)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Element Assignment — Sets the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>, or replaces a subarray from the <code>start</code> index for <a href="#length-instance_method" title="Array#length (method)">#length</a> elements, or replaces a subarray specified by the <code>range</code> of indices.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#all%3F-instance_method" title="#all? (instance method)">#<strong>all?</strong> {|obj| ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See also <a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">Enumerable#all?</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong> {|obj| ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See also <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">Enumerable#any?</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#append-instance_method" title="#append (instance method)">#<strong>append</strong>(obj, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#push-instance_method" title="Array#push (method)">#push</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assoc-instance_method" title="#assoc (instance method)">#<strong>assoc</strong>(obj)  &#x21d2; element_ary<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches through an array whose elements are also arrays comparing <code>obj</code> with the first element of each contained array using <code>obj.==</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#at-instance_method" title="#at (instance method)">#<strong>at</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bsearch-instance_method" title="#bsearch (instance method)">#<strong>bsearch</strong> {|x| ... } &#x21d2; elem </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>By using binary search, finds a value from this array which meets the given condition in O(log n) where n is the size of the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bsearch_index-instance_method" title="#bsearch_index (instance method)">#<strong>bsearch_index</strong> {|x| ... } &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>By using binary search, finds an index of a value from this array which meets the given condition in O(log n) where n is the size of the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes all elements from <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collect-instance_method" title="#collect (instance method)">#<strong>collect</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#map-instance_method" title="Array#map (method)">#map</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collect!-instance_method" title="#collect! (instance method)">#<strong>collect!</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#map!-instance_method" title="Array#map! (method)">#map!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#combination-instance_method" title="#combination (instance method)">#<strong>combination</strong>(n) {|c| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When invoked with a block, yields all combinations of length <code>n</code> of elements from the array and then returns the array itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with all <code>nil</code> elements removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact!-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes <code>nil</code> elements from the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(other_ary1, other_ary2, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends the elements of <code>other_ary</code>s to <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block for each element <code>n</code> times or forever if <code>nil</code> is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(obj)  &#x21d2; item<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes all items from <code>self</code> that are equal to <code>obj</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_at-instance_method" title="#delete_at (instance method)">#<strong>delete_at</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes the element at the specified <a href="#index-instance_method" title="Array#index (method)">#index</a>, returning that element, or <code>nil</code> if the <a href="#index-instance_method" title="Array#index (method)">#index</a> is out of range.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes every element of <code>self</code> for which block evaluates to <code>true</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#difference-instance_method" title="#difference (instance method)">#<strong>difference</strong>(other_ary1, other_ary2, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>Array</code> Difference.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(idx, ...)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts the nested value specified by the sequence of <em>idx</em> objects by calling <code>dig</code> at each step, returning <code>nil</code> if any intermediate step is <code>nil</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Drops first <code>n</code> elements from <code>ary</code> and returns the rest of the elements in an array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop_while-instance_method" title="#drop_while (instance method)">#<strong>drop_while</strong> {|obj| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Drops elements up to, but not including, the first element for which the block returns <code>nil</code> or <code>false</code> and returns an array containing the remaining elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block once for each element in <code>self</code>, passing that element as a parameter.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_index-instance_method" title="#each_index (instance method)">#<strong>each_index</strong> {|index| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but passes the <a href="#index-instance_method" title="Array#index (method)">#index</a> of the element instead of the element itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> and <code>other</code> are the same object, or are both arrays with the same content (according to <a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(index)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Tries to return the element at position <a href="#index-instance_method" title="Array#index (method)">#index</a>, but throws an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> exception if the referenced <a href="#index-instance_method" title="Array#index (method)">#index</a> lies outside of the array bounds.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fill-instance_method" title="#fill (instance method)">#<strong>fill</strong>(obj)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The first three forms set the selected elements of <code>self</code> (which may be the entire array) to <code>obj</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter-instance_method" title="#filter (instance method)">#<strong>filter</strong> {|item| ... } &#x21d2; Array </a>
      (also: #select)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing all elements of <code>ary</code> for which the given <code>block</code> returns a true value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter!-instance_method" title="#filter! (instance method)">#<strong>filter!</strong> {|item| ... } &#x21d2; Array<sup>?</sup> </a>
      (also: #select!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes the given block passing in successive elements from <code>self</code>, deleting elements for which the block returns a <code>false</code> value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_index-instance_method" title="#find_index (instance method)">#<strong>find_index</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the first element, or the first <code>n</code> elements, of the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flatten-instance_method" title="#flatten (instance method)">#<strong>flatten</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array that is a one-dimensional flattening of <code>self</code> (recursively).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flatten!-instance_method" title="#flatten! (instance method)">#<strong>flatten!</strong>  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Flattens <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compute a hash-code for this array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the given <code>object</code> is present in <code>self</code> (that is, if any element <a href="#==-instance_method" title="Array#== (method)">#==</a> <code>object</code>), otherwise returns <code>false</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
      (also: #find_index)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <em>index</em> of the first object in <code>ary</code> such that the object is <a href="#==-instance_method" title="Array#== (method)">#==</a> to <code>obj</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_ary)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="Array#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(index, obj...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Inserts the given values before the element with the given <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="Array#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#join-instance_method" title="#join (instance method)">#<strong>join</strong>(separator = $,)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string created by converting each element of the array to a string, separated by the given <code>separator</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes every element of <code>self</code> for which the given block evaluates to <code>false</code>, and returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the last element(s) of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of elements in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong> {|item| ... } &#x21d2; Array </a>
      (also: #collect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes the given block once for each element of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#map!-instance_method" title="#map! (instance method)">#<strong>map!</strong> {|item| ... } &#x21d2; Array </a>
      (also: #collect!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes the given block once for each element of <code>self</code>, replacing the element with the value returned by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#max-instance_method" title="#max (instance method)">#<strong>max</strong>  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the object in <em>ary</em> with the maximum value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#min-instance_method" title="#min (instance method)">#<strong>min</strong>  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the object in <em>ary</em> with the minimum value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#none%3F-instance_method" title="#none? (instance method)">#<strong>none?</strong> {|obj| ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See also <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">Enumerable#none?</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#one%3F-instance_method" title="#one? (instance method)">#<strong>one?</strong> {|obj| ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See also <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">Enumerable#one?</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pack-instance_method" title="#pack (instance method)">#<strong>pack</strong>(aTemplateString)  &#x21d2; aBinaryString </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Packs the contents of <em>arr</em> into a binary sequence according to the directives in <em>aTemplateString</em> (see the table below) Directives “A,” “a,” and “Z” may be followed by a count, which gives the width of the resulting field.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#permutation-instance_method" title="#permutation (instance method)">#<strong>permutation</strong> {|p| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When invoked with a block, yield all permutations of length <code>n</code> of the elements of the array, then return the array itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the last element from <code>self</code> and returns it, or <code>nil</code> if the array is empty.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend-instance_method" title="#prepend (instance method)">#<strong>prepend</strong>(obj, ...)  &#x21d2; Array </a>
      (also: #unshift)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepends objects to the front of <code>self</code>, moving other elements upwards.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#product-instance_method" title="#product (instance method)">#<strong>product</strong>(other_ary, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of all combinations of elements from all arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(obj, ...)  &#x21d2; Array </a>
      (also: #append)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Append — Pushes the given object(s) on to the end of this array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rassoc-instance_method" title="#rassoc (instance method)">#<strong>rassoc</strong>(obj)  &#x21d2; element_ary<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches through the array whose elements are also arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing the items in <code>self</code> for which the given block is not <code>true</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject!-instance_method" title="#reject! (instance method)">#<strong>reject!</strong> {|item| ... } &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes every element of <code>self</code> for which the block evaluates to <code>true</code>, if no changes were made returns <code>nil</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#repeated_combination-instance_method" title="#repeated_combination (instance method)">#<strong>repeated_combination</strong>(n) {|c| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When invoked with a block, yields all repeated combinations of length <code>n</code> of elements from the array and then returns the array itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#repeated_permutation-instance_method" title="#repeated_permutation (instance method)">#<strong>repeated_permutation</strong>(n) {|p| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When invoked with a block, yield all repeated permutations of length <code>n</code> of the elements of the array, then return the array itself.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_ary)  &#x21d2; Array </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the contents of <code>self</code> with the contents of <code>other_ary</code>, truncating or expanding if necessary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing <code>self</code>‘s elements in reverse order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reverses <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse_each-instance_method" title="#reverse_each (instance method)">#<strong>reverse_each</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but traverses <code>self</code> in reverse order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <em>index</em> of the last object in <code>self</code> <a href="#==-instance_method" title="Array#== (method)">#==</a> to <code>obj</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rotate-instance_method" title="#rotate (instance method)">#<strong>rotate</strong>(count = 1)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array by rotating <code>self</code> so that the element at <a href="#count-instance_method" title="Array#count (method)">#count</a> is the first element of the new array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rotate!-instance_method" title="#rotate! (instance method)">#<strong>rotate!</strong>(count = 1)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Rotates <code>self</code> in place so that the element at <a href="#count-instance_method" title="Array#count (method)">#count</a> comes first, and returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sample-instance_method" title="#sample (instance method)">#<strong>sample</strong>  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Choose a random element or <code>n</code> random elements from the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|item| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter-instance_method" title="Array#filter (method)">#filter</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select!-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|item| ... } &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter!-instance_method" title="Array#filter! (method)">#filter!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the first element of <code>self</code> and returns it (shifting all other elements down by one).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shuffle-instance_method" title="#shuffle (instance method)">#<strong>shuffle</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array with elements of <code>self</code> shuffled.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shuffle!-instance_method" title="#shuffle! (instance method)">#<strong>shuffle!</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shuffles elements in <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="Array#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="Array#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes the element(s) given by an <a href="#index-instance_method" title="Array#index (method)">#index</a> (optionally up to <a href="#length-instance_method" title="Array#length (method)">#length</a> elements) or by a <code>range</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array created by sorting <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort!-instance_method" title="#sort! (instance method)">#<strong>sort!</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sorts <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort_by!-instance_method" title="#sort_by! (instance method)">#<strong>sort_by!</strong> {|obj| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sorts <code>self</code> in place using a set of keys generated by mapping the values in <code>self</code> through the given block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(init = 0)  &#x21d2; Numeric </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the sum of elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns first <code>n</code> elements from the array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#take_while-instance_method" title="#take_while (instance method)">#<strong>take_while</strong> {|obj| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes elements to the block until the block returns <code>nil</code> or <code>false</code>, then stops iterating and returns an array of all prior elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_ary-instance_method" title="#to_ary (instance method)">#<strong>to_ary</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting <em>ary</em> as an array of <code>[key, value]</code> pairs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #inspect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a string representation of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transpose-instance_method" title="#transpose (instance method)">#<strong>transpose</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Assumes that <code>self</code> is an array of arrays and transposes the rows and columns.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#union-instance_method" title="#union (instance method)">#<strong>union</strong>(other_ary1, other_ary2, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set Union — Returns a new array by joining <code>other_ary</code>s with <code>self</code>, excluding any duplicates and preserving the order from the given arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array by removing duplicate values in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uniq!-instance_method" title="#uniq! (instance method)">#<strong>uniq!</strong>  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes duplicate elements from <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unshift-instance_method" title="#unshift (instance method)">#<strong>unshift</strong>(obj, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#prepend-instance_method" title="Array#prepend (method)">#prepend</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(selector, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array containing the elements in <code>self</code> corresponding to the given <code>selector</code>(s).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#zip-instance_method" title="#zip (instance method)">#<strong>zip</strong>(arg, ...)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts any arguments to arrays, then merges elements of <code>self</code> with corresponding elements from each argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%7C-instance_method" title="#| (instance method)">#<strong>|</strong>(other_ary)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set Union — Returns a new array by joining <code>ary</code> with <code>other_ary</code>, excluding any duplicates and preserving the order from the given arrays.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chain-instance_method" title="Enumerable#chain (method)">#chain</a></td>
      <td><div class='inline'><p>Returns an enumerator object generated from this enumerator and given enumerables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a></td>
      <td><div class='inline'><p>Enumerates over the items, chunking them together based on the return value of the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">Enumerable#map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">Enumerable#flat_map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></td>
      <td><div class='inline'><p>Returns the number of items in <code>enum</code> through enumeration.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></td>
      <td><div class='inline'><p>Calls <em>block</em> for each element of <em>enum</em> repeatedly <em>n</em> times or forever if none or <code>nil</code> is given.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">Enumerable#find</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></td>
      <td><div class='inline'><p>Drops first n elements from <em>enum</em>, and returns rest elements in an array.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></td>
      <td><div class='inline'><p>Drops elements up to, but not including, the first element for which the block returns <code>nil</code> or <code>false</code> and returns an array containing the remaining elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></td>
      <td><div class='inline'><p>Iterates the given block for each array of consecutive &lt;n&gt; elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a></td>
      <td><div class='inline'><p>Calls <em>block</em> once for each element in <code>self</code>, passing that element as a parameter, converting multiple values from yield to an array.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></td>
      <td><div class='inline'><p>Iterates the given block for each slice of &lt;n&gt; elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></td>
      <td><div class='inline'><p>Calls <em>block</em> with two arguments, the item and its index, for each item in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></td>
      <td><div class='inline'><p>Iterates the given block for each element with an arbitrary object given, and returns the initially given object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">Enumerable#to_a</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">#filter</a></td>
      <td><div class='inline'><p>Returns an array containing all elements of <code>enum</code> for which the given <code>block</code> returns a true value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a></td>
      <td><div class='inline'><p>Passes each entry in <em>enum</em> to <em>block</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></td>
      <td><div class='inline'><p>Compares each entry in <em>enum</em> with <em>value</em> or passes to <em>block</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></td>
      <td><div class='inline'><p>Returns the first element, or the first <code>n</code> elements, of the enumerable.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></td>
      <td><div class='inline'><p>Returns a new array with the concatenated results of running <em>block</em> once for every element in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></td>
      <td><div class='inline'><p>Returns an array of every element in <em>enum</em> for which <code>Pattern === element</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a></td>
      <td><div class='inline'><p>Inverted version of <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">Enumerable#grep</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></td>
      <td><div class='inline'><p>Groups the collection by result of the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">Enumerable#member?</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></td>
      <td><div class='inline'><p>Combines all elements of <em>enum</em> by applying a binary operation, specified by a block or a symbol that names a method or operator.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></td>
      <td><div class='inline'><p>Returns a lazy enumerator, whose methods map/collect, flat_map/collect_concat, select/find_all, reject, grep, grep_v, zip, take, take_while, drop, and drop_while enumerate values only on an as-needed basis.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a></td>
      <td><div class='inline'><p>Returns a new array with the results of running <em>block</em> once for every element in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> with the maximum value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> that gives the maximum value from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a></td>
      <td><div class='inline'><p>Returns <code>true</code> if any member of <em>enum</em> equals <em>obj</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> with the minimum value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> that gives the minimum value from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></td>
      <td><div class='inline'><p>Returns a two element array which contains the minimum and the maximum value in the enumerable.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></td>
      <td><div class='inline'><p>Returns a two element array containing the objects in <em>enum</em> that correspond to the minimum and maximum values respectively from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></td>
      <td><div class='inline'><p>Returns two arrays, the first containing the elements of <em>enum</em> for which the block evaluates to true, the second containing the rest.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">Enumerable#inject</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></td>
      <td><div class='inline'><p>Returns an array for all elements of <code>enum</code> for which the given <code>block</code> returns <code>false</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></td>
      <td><div class='inline'><p>Builds a temporary array and traverses that array in reverse order.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></td>
      <td><div class='inline'><p>Returns an array containing the items in <em>enum</em> sorted.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></td>
      <td><div class='inline'><p>Sorts <em>enum</em> using a set of keys generated by mapping the values in <em>enum</em> through the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a></td>
      <td><div class='inline'><p>Returns the sum of elements in an <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></td>
      <td><div class='inline'><p>Returns first n elements from <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></td>
      <td><div class='inline'><p>Passes elements to the block until the block returns <code>nil</code> or <code>false</code>, then stops iterating and returns an array of all prior elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a></td>
      <td><div class='inline'><p>Returns an array containing the items in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a></td>
      <td><div class='inline'><p>Returns the result of interpreting <em>enum</em> as a list of <code>[key, value]</code> pairs.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#uniq-instance_method" title="Enumerable#uniq (method)">#uniq</a></td>
      <td><div class='inline'><p>Returns a new array by removing duplicate values in <code>self</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></td>
      <td><div class='inline'><p>Takes one element from <em>enum</em> and merges corresponding elements from each <em>args</em>.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>(size = 0, default = nil)  </span>
      <span class='overload'>.<strong>new</strong>(array)  </span>
      <span class='overload'>.<strong>new</strong>(size) {|index| ... } </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array.</p>

<p>In the first form, if no arguments are sent, the new array will be empty. When a <a href="#size-instance_method" title="Array#size (method)">#size</a> and an optional <code>default</code> are sent, an array is created with <a href="#size-instance_method" title="Array#size (method)">#size</a> copies of <code>default</code>.  Take notice that all elements will reference the same object <code>default</code>.</p>

<p>The second form creates a copy of the array passed as a parameter (the array is generated by calling to_ary on the parameter).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_first_array'>first_array</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Guido</span><span class='tstring_end'>&quot;</span></span>]

<span class='id identifier rubyid_second_array'>second_array</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_first_array'>first_array</span>) <span class='comment'>#=&gt; [&quot;Matz&quot;, &quot;Guido&quot;]
</span>
<span class='id identifier rubyid_first_array'>first_array</span>.<span class='id identifier rubyid_equal?'>equal?</span> <span class='id identifier rubyid_second_array'>second_array</span>       <span class='comment'>#=&gt; false</span></code></pre>

<p>In the last form, an array of the given size is created.  Each element in this array is created by passing the element’s index to the given block and storing the return value.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>3</span>) {<span class='op'>|</span><span class='id identifier rubyid_index'><a href="#index-instance_method" title="Array#index (method)">index</a></span><span class='op'>|</span> <span class='id identifier rubyid_index'><a href="#index-instance_method" title="Array#index (method)">index</a></span> <span class='op'>**</span> <span class='int'>2</span>}
<span class='comment'># =&gt; [0, 1, 4]</span></code></pre>

<h4 id="label-Common+gotchas">Common gotchas</h4>

<p>When sending the second parameter, the same object will be used as the value for all the array elements:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span>)
<span class='comment'># =&gt; [{}, {}]
</span>
<span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>feline</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;feline&quot;}, {&quot;cat&quot;=&gt;&quot;feline&quot;}]
</span>
<span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Felix</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;Felix&quot;}, {&quot;cat&quot;=&gt;&quot;Felix&quot;}]</span></code></pre>

<p>Since all the <code>Array</code> elements store the same hash, changes to one of them will affect them all.</p>

<p>If multiple copies are what you want, you should use the block version which uses the result of that block each time an element of the array needs to be initialized:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>2</span>) {<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span>}
<span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>feline</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;feline&quot;}, {}]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L958-L1013'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='958' data-end='1013'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 958</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_initialize(int argc, VALUE *argv, VALUE ary)
{
    long len;
    VALUE size, val;

    rb_ary_modify(ary);
    if (argc == 0) {
        if (ARY_OWNS_HEAP_P(ary) &amp;&amp; ARY_HEAP_PTR(ary) != NULL) {
            ary_heap_free(ary);
	}
        rb_ary_unshare_safe(ary);
        FL_SET_EMBED(ary);
	ARY_SET_EMBED_LEN(ary, 0);
	if (rb_block_given_p()) {
	    rb_warning(&quot;given block not used&quot;);
	}
	return ary;
    }
    rb_scan_args(argc, argv, &quot;02&quot;, &amp;size, &amp;val);
    if (argc == 1 &amp;&amp; !FIXNUM_P(size)) {
	val = rb_check_array_type(size);
	if (!NIL_P(val)) {
	    rb_ary_replace(ary, val);
	    return ary;
	}
    }

    len = NUM2LONG(size);
    /* NUM2LONG() may call size.to_int, ary can be frozen, modified, etc */
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative array size&quot;);
    }
    if (len &gt; ARY_MAX_SIZE) {
	rb_raise(rb_eArgError, &quot;array size too big&quot;);
    }
    /* recheck after argument conversion */
    rb_ary_modify(ary);
    ary_resize_capa(ary, len);
    if (rb_block_given_p()) {
	long i;

	if (argc == 2) {
	    rb_warn(&quot;block supersedes default value argument&quot;);
	}
	for (i=0; i&lt;len; i++) {
	    rb_ary_store(ary, i, rb_yield(LONG2NUM(i)));
	    ARY_SET_LEN(ary, i + 1);
	}
    }
    else {
	ary_memfill(ary, 0, len, val);
	ARY_SET_LEN(ary, len);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="[]-class_method">
  <h3 class='signature  first'>
    .<strong>[]</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array populated with the given objects.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span>.<span class='op'>[]</span>( <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span>)  <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]
</span><span class='const'>Array</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span> ]    <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]
</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span> ]         <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1023-L1033'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1023' data-end='1033'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1023</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE ary = ary_new(klass, argc);
    if (argc &gt; 0 &amp;&amp; argv) {
        ary_memcpy(ary, 0, argc, argv);
        ARY_SET_LEN(ary, argc);
    }

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="try_convert-class_method">
  <h3 class='signature '>
    .<strong>try_convert</strong>(obj)  &#x21d2; <code>Array</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Tries to convert <code>obj</code> into an array, using <a href="#to_ary-instance_method" title="Array#to_ary (method)">#to_ary</a> method.  Returns the converted array or <code>nil</code> if <code>obj</code> cannot be converted for any reason. This method can be used to check if an argument is an array.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span>.<span class='id identifier rubyid_try_convert'>try_convert</span>([<span class='int'>1</span>])   <span class='comment'>#=&gt; [1]
</span><span class='const'>Array</span>.<span class='id identifier rubyid_try_convert'>try_convert</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; nil
</span>
<span class='kw'>if</span> <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_try_convert'>try_convert</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='comment'># the argument is an array
</span><span class='kw'>elsif</span> <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="String.html" title="String (class)">String</a></span>.<span class='id identifier rubyid_try_convert'><a href="String.html#try_convert-class_method" title="String.try_convert (method)">try_convert</a></span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='comment'># the argument is a string
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L896-L900'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='896' data-end='900'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 896</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_s_try_convert(VALUE dummy, VALUE ary)
{
    return rb_check_array_type(ary);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="empty?-instance_method">
  <h3 class='signature ro first'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> contains no elements.</p>

<pre class="code ruby"><code class="ruby">[].<span class='id identifier rubyid_empty?'>empty?</span>   <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2181-L2187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2181' data-end='2187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2181</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_empty_p(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0)
	return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="&-instance_method">
  <h3 class='signature  first'>
    #<strong>&amp;</strong>(other_ary)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set Intersection — Returns a new array containing unique elements common to the two arrays. The order is preserved from the original array.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span> ] <span class='op'>&amp;</span> [ <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span> ]                 <span class='comment'>#=&gt; [ 1, 3 ]
</span>[ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>z</span><span class='tstring_end'>&#39;</span></span> ] <span class='op'>&amp;</span> [ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> ]   <span class='comment'>#=&gt; [ &#39;a&#39;, &#39;b&#39; ]</span></code></pre>

<p>See also <a href="#uniq-instance_method" title="Array#uniq (method)">#uniq</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4569-L4602'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4569' data-end='4602'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4569</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_and(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3, v;
    st_data_t vv;
    long i;

    ary2 = to_ary(ary2);
    ary3 = rb_ary_new();
    if (RARRAY_LEN(ary1) == 0 || RARRAY_LEN(ary2) == 0) return ary3;

    if (RARRAY_LEN(ary1) &lt;= SMALL_ARRAY_LEN &amp;&amp; RARRAY_LEN(ary2) &lt;= SMALL_ARRAY_LEN) {
	for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
	    v = RARRAY_AREF(ary1, i);
	    if (!rb_ary_includes_by_eql(ary2, v)) continue;
	    if (rb_ary_includes_by_eql(ary3, v)) continue;
	    rb_ary_push(ary3, v);
	}
	return ary3;
    }

    hash = ary_make_hash(ary2);

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
	v = RARRAY_AREF(ary1, i);
	vv = (st_data_t)v;
        if (rb_hash_stlike_delete(hash, &amp;vv, 0)) {
	    rb_ary_push(ary3, v);
	}
    }
    ary_recycle_hash(hash);

    return ary3;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="*-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>*</strong>(int)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>*</strong>(str)  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Repetition — With a <a href="String.html" title="String (class)"><code>::String</code></a> argument, equivalent to <code>ary.join(str)</code>.</p>

<p>Otherwise, returns a new array built by concatenating the <code>int</code> copies of <code>self</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ] <span class='op'>*</span> <span class='int'>3</span>    <span class='comment'>#=&gt; [ 1, 2, 3, 1, 2, 3, 1, 2, 3 ]
</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ] <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>  <span class='comment'>#=&gt; &quot;1,2,3&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4043-L4087'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4043' data-end='4087'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4043</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_times(VALUE ary, VALUE times)
{
    VALUE ary2, tmp;
    const VALUE *ptr;
    long t, len;

    tmp = rb_check_string_type(times);
    if (!NIL_P(tmp)) {
	return rb_ary_join(ary, tmp);
    }

    len = NUM2LONG(times);
    if (len == 0) {
	ary2 = ary_new(rb_obj_class(ary), 0);
	goto out;
    }
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (ARY_MAX_SIZE/len &lt; RARRAY_LEN(ary)) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    len *= RARRAY_LEN(ary);

    ary2 = ary_new(rb_obj_class(ary), len);
    ARY_SET_LEN(ary2, len);

    ptr = RARRAY_CONST_PTR_TRANSIENT(ary);
    t = RARRAY_LEN(ary);
    if (0 &lt; t) {
	ary_memcpy(ary2, 0, t, ptr);
	while (t &lt;= len/2) {
            ary_memcpy(ary2, t, t, RARRAY_CONST_PTR_TRANSIENT(ary2));
            t *= 2;
        }
        if (t &lt; len) {
            ary_memcpy(ary2, t, len-t, RARRAY_CONST_PTR_TRANSIENT(ary2));
        }
    }
  out:
    OBJ_INFECT(ary2, ary);

    return ary2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>(other_ary)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenation — Returns a new array built by concatenating the two arrays together to produce a third array.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ] <span class='op'>+</span> [ <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> ]    <span class='comment'>#=&gt; [ 1, 2, 3, 4, 5 ]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_c'>c</span>                         <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot; ]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span></code></pre>

<p>Note that</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='id identifier rubyid_y'>y</span></code></pre>

<p>is the same as</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span></code></pre>

<p>This means that it produces a new array. As a consequence, repeated use of <code>+=</code> on arrays can be quite inefficient.</p>

<p>See also <a href="#concat-instance_method" title="Array#concat (method)">#concat</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3951-L3967'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3951' data-end='3967'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3951</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_plus(VALUE x, VALUE y)
{
    VALUE z;
    long len, xlen, ylen;

    y = to_ary(y);
    xlen = RARRAY_LEN(x);
    ylen = RARRAY_LEN(y);
    len = xlen + ylen;
    z = rb_ary_new2(len);

    ary_memcpy(z, 0, xlen, RARRAY_CONST_PTR_TRANSIENT(x));
    ary_memcpy(z, xlen, ylen, RARRAY_CONST_PTR_TRANSIENT(y));
    ARY_SET_LEN(z, len);
    return z;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="--instance_method">
  <h3 class='signature '>
    #<strong>-</strong>(other_ary)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Array</code> Difference</p>

<p>Returns a new array that is a copy of the original array, removing any items that also appear in <code>other_ary</code>. The order is preserved from the original array.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> ] <span class='op'>-</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span> ]  <span class='comment'>#=&gt;  [ 3, 3, 5 ]</span></code></pre>

<p>If you need set-like behavior, see the library class Set.</p>

<p>See also <a href="#difference-instance_method" title="Array#difference (method)">#difference</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4468-L4494'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4468' data-end='4494'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4468</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_diff(VALUE ary1, VALUE ary2)
{
    VALUE ary3;
    VALUE hash;
    long i;

    ary2 = to_ary(ary2);
    ary3 = rb_ary_new();

    if (RARRAY_LEN(ary1) &lt;= SMALL_ARRAY_LEN || RARRAY_LEN(ary2) &lt;= SMALL_ARRAY_LEN) {
	for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
	    VALUE elt = rb_ary_elt(ary1, i);
	    if (rb_ary_includes_by_eql(ary2, elt)) continue;
	    rb_ary_push(ary3, elt);
	}
	return ary3;
    }

    hash = ary_make_hash(ary2);
    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
        if (rb_hash_stlike_lookup(hash, RARRAY_AREF(ary1, i), NULL)) continue;
	rb_ary_push(ary3, rb_ary_elt(ary1, i));
    }
    ary_recycle_hash(hash);
    return ary3;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<<-instance_method">
  <h3 class='signature '>
    #<strong>&lt;&lt;</strong>(obj)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Append—Pushes the given object on to the end of this array. This expression returns the array itself, so several appends may be chained together.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]
<span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> [ <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span> ]
        <span class='comment'>#=&gt;  [ 1, 2, &quot;c&quot;, &quot;d&quot;, [ 3, 4 ] ]
</span><span class='id identifier rubyid_a'>a</span>
        <span class='comment'>#=&gt;  [ 1, 2, &quot;c&quot;, &quot;d&quot;, [ 3, 4 ] ]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1151-L1162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1151' data-end='1162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1151</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_push(VALUE ary, VALUE item)
{
    long idx = RARRAY_LEN((ary_verify(ary), ary));
    VALUE target_ary = ary_ensure_room_for_push(ary, 1);
    RARRAY_PTR_USE_TRANSIENT(ary, ptr, {
	RB_OBJ_WRITE(target_ary, &amp;ptr[idx], item);
    });
    ARY_SET_LEN(ary, idx + 1);
    ary_verify(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(other_ary)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Comparison — Returns an integer (<code>-1</code>, <code>0</code>, or <code>+1</code>) if this array is less than, equal to, or greater than <code>other_ary</code>.</p>

<p>Each object in each array is compared (using the &lt;=&gt; operator).</p>

<p>Arrays are compared in an “element-wise” manner; the first element of <code>ary</code> is compared with the first one of <code>other_ary</code> using the &lt;=&gt; operator, then each of the second elements, etc… As soon as the result of any such comparison is non zero (i.e. the two corresponding elements are not equal), that result is returned for the whole array comparison.</p>

<p>If all the elements are equal, then the result is based on a comparison of the array lengths. Thus, two arrays are “equal” according to <code>&lt;=&gt;</code> if, and only if, they have the same length and the value of each element is equal to the value of the corresponding element in the other array.</p>

<p><code>nil</code> is returned if the <code>other_ary</code> is not an array or if the comparison of two elements returned <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]    <span class='op'>&lt;=&gt;</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]   <span class='comment'>#=&gt; -1
</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span> ] <span class='op'>&lt;=&gt;</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]            <span class='comment'>#=&gt; +1
</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]             <span class='op'>&lt;=&gt;</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_two'>two</span> ]         <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4373-L4388'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4373' data-end='4388'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4373</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_cmp(VALUE ary1, VALUE ary2)
{
    long len;
    VALUE v;

    ary2 = rb_check_array_type(ary2);
    if (NIL_P(ary2)) return Qnil;
    if (ary1 == ary2) return INT2FIX(0);
    v = rb_exec_recursive_paired(recursive_cmp, ary1, ary2, ary2);
    if (v != Qundef) return v;
    len = RARRAY_LEN(ary1) - RARRAY_LEN(ary2);
    if (len == 0) return INT2FIX(0);
    if (len &gt; 0) return INT2FIX(1);
    return INT2FIX(-1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(other_ary)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equality — Two arrays are equal if they contain the same number of elements and if each element is equal to (according to <code>Object#==</code>) the corresponding element in <code>other_ary</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]    <span class='op'>==</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> ]     <span class='comment'>#=&gt; false
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> ] <span class='op'>==</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> ]     <span class='comment'>#=&gt; true
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> ] <span class='op'>==</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span> ]   <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4206-L4219'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4206' data-end='4219'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4206</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_equal(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (!RB_TYPE_P(ary2, T_ARRAY)) {
	if (!rb_respond_to(ary2, idTo_ary)) {
	    return Qfalse;
	}
	return rb_equal(ary2, ary1);
    }
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    if (RARRAY_CONST_PTR_TRANSIENT(ary1) == RARRAY_CONST_PTR_TRANSIENT(ary2)) return Qtrue;
    return rb_exec_recursive_paired(recursive_equal, ary1, ary2, ary2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <code>Array</code><sup>?</sup> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#slice</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Element Reference — Returns the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>, or returns a subarray starting at the <code>start</code> index and continuing for <a href="#length-instance_method" title="Array#length (method)">#length</a> elements, or returns a subarray specified by <code>range</code> of indices.</p>

<p>Negative indices count backward from the end of the array (-1 is the last element).  For <code>start</code> and <code>range</code> cases the starting index is just before an element.  Additionally, an empty array is returned when the starting index for an element range is at the end of the array.</p>

<p>Returns <code>nil</code> if the index (or starting index) are out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>[<span class='int'>2</span>] <span class='op'>+</span>  <span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span>] <span class='op'>+</span> <span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span>]    <span class='comment'>#=&gt; &quot;cab&quot;
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>6</span>]                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]                <span class='comment'>#=&gt; [ &quot;b&quot;, &quot;c&quot; ]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>3</span>]                <span class='comment'>#=&gt; [ &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>4</span><span class='op'>..</span><span class='int'>7</span>]                <span class='comment'>#=&gt; [ &quot;e&quot; ]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>6</span><span class='op'>..</span><span class='int'>10</span>]               <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>[<span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span>]               <span class='comment'>#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
</span><span class='comment'># special cases
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>5</span>]                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>6</span><span class='comma'>,</span> <span class='int'>1</span>]                <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>5</span><span class='comma'>,</span> <span class='int'>1</span>]                <span class='comment'>#=&gt; []
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>5</span><span class='op'>..</span><span class='int'>10</span>]               <span class='comment'>#=&gt; []</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1528-L1536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1528' data-end='1536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1528</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_aref(int argc, const VALUE *argv, VALUE ary)
{
    rb_check_arity(argc, 1, 2);
    if (argc == 2) {
	return rb_ary_aref2(ary, argv[0], argv[1]);
    }
    return rb_ary_aref1(ary, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(index, obj)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>[]=</strong>(start, length, obj or other_ary or nil)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ... </span>
      <span class='overload'>#<strong>[]=</strong>(range, obj or other_ary or nil)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Element Assignment — Sets the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>, or replaces a subarray from the <code>start</code> index for <a href="#length-instance_method" title="Array#length (method)">#length</a> elements, or replaces a subarray specified by the <code>range</code> of indices.</p>

<p>If indices are greater than the current capacity of the array, the array grows automatically.  Elements are inserted into the array at <code>start</code> if <a href="#length-instance_method" title="Array#length (method)">#length</a> is zero.</p>

<p>Negative indices will count backward from the end of the array.  For <code>start</code> and <code>range</code> cases the starting index is just before an element.</p>

<p>An IndexError is raised if a negative index points past the beginning of the array.</p>

<p>See also <a href="#push-instance_method" title="Array#push (method)">#push</a>, and <a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>
<span class='id identifier rubyid_a'>a</span>[<span class='int'>4</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4</span><span class='tstring_end'>&quot;</span></span><span class='semicolon'>;</span>                 <span class='comment'>#=&gt; [nil, nil, nil, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>3</span>] <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> ] <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]          <span class='comment'>#=&gt; [&quot;a&quot;, 1, 2, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;?&quot;, 2, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>2</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;A&quot;, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='op'>-</span><span class='int'>1</span>]   <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;A&quot;, &quot;Z&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>] <span class='op'>=</span> <span class='kw'>nil</span>              <span class='comment'>#=&gt; [&quot;A&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>] <span class='op'>=</span> []               <span class='comment'>#=&gt; [&quot;A&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>] <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]          <span class='comment'>#=&gt; [1, 2, &quot;A&quot;]
</span><span class='id identifier rubyid_a'>a</span>[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>0</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [1, 2, &quot;A&quot;, &quot;B&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1980-L2011'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1980' data-end='2011'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1980</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_aset(int argc, VALUE *argv, VALUE ary)
{
    long offset, beg, len;
    VALUE rpl;

    if (argc == 3) {
	rb_ary_modify_check(ary);
	beg = NUM2LONG(argv[0]);
	len = NUM2LONG(argv[1]);
	goto range;
    }
    rb_check_arity(argc, 2, 2);
    rb_ary_modify_check(ary);
    if (FIXNUM_P(argv[0])) {
	offset = FIX2LONG(argv[0]);
	goto fixnum;
    }
    if (rb_range_beg_len(argv[0], &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
	/* check if idx is Range */
      range:
	rpl = rb_ary_to_ary(argv[argc-1]);
        rb_ary_splice(ary, beg, len, RARRAY_CONST_PTR_TRANSIENT(rpl), RARRAY_LEN(rpl));
	RB_GC_GUARD(rpl);
	return argv[argc-1];
    }

    offset = NUM2LONG(argv[0]);
fixnum:
    rb_ary_store(ary, offset, argv[1]);
    return argv[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="all?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>all?</strong> {|obj| ... } &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>all?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>all?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See also <a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">Enumerable#all?</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6226-L6252'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6226' data-end='6252'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6226</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_all_p(int argc, VALUE *argv, VALUE ary)
{
    long i, len = RARRAY_LEN(ary);

    rb_check_arity(argc, 0, 1);
    if (!len) return Qtrue;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (!RTEST(rb_funcall(argv[0], idEqq, 1, RARRAY_AREF(ary, i)))) return Qfalse;
        }
    }
    else if (!rb_block_given_p()) {
        for (i = 0; i &lt; len; ++i) {
            if (!RTEST(RARRAY_AREF(ary, i))) return Qfalse;
        }
    }
    else {
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (!RTEST(rb_yield(RARRAY_AREF(ary, i)))) return Qfalse;
        }
    }
    return Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="any?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>any?</strong> {|obj| ... } &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See also <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">Enumerable#any?</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6190-L6216'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6190' data-end='6216'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6190</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_any_p(int argc, VALUE *argv, VALUE ary)
{
    long i, len = RARRAY_LEN(ary);

    rb_check_arity(argc, 0, 1);
    if (!len) return Qfalse;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
	for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	    if (RTEST(rb_funcall(argv[0], idEqq, 1, RARRAY_AREF(ary, i)))) return Qtrue;
	}
    }
    else if (!rb_block_given_p()) {
        for (i = 0; i &lt; len; ++i) {
            if (RTEST(RARRAY_AREF(ary, i))) return Qtrue;
        }
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) return Qtrue;
	}
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>push</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>append</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#push-instance_method" title="Array#push (method)">#push</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="assoc-instance_method">
  <h3 class='signature '>
    #<strong>assoc</strong>(obj)  &#x21d2; <code>element_ary</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches through an array whose elements are also arrays comparing <code>obj</code> with the first element of each contained array using <code>obj.==</code>.</p>

<p>Returns the first contained array that matches (that is, the first associated array), or <code>nil</code> if no match is found.</p>

<p>See also <a href="#rassoc-instance_method" title="Array#rassoc (method)">#rassoc</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>colors</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>red</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>blue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>green</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_s2'>s2</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>letters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_s3'>s3</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>  <span class='op'>=</span> [ <span class='id identifier rubyid_s1'>s1</span><span class='comma'>,</span> <span class='id identifier rubyid_s2'>s2</span><span class='comma'>,</span> <span class='id identifier rubyid_s3'>s3</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_assoc'>assoc</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>letters</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'>#=&gt; [ &quot;letters&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_assoc'>assoc</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>)      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4109-L4122'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4109' data-end='4122'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4109</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_assoc(VALUE ary, VALUE key)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	v = rb_check_array_type(RARRAY_AREF(ary, i));
	if (!NIL_P(v) &amp;&amp; RARRAY_LEN(v) &gt; 0 &amp;&amp;
	    rb_equal(RARRAY_AREF(v, 0), key))
	    return v;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="at-instance_method">
  <h3 class='signature '>
    #<strong>at</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the element at <a href="#index-instance_method" title="Array#index (method)">#index</a>. A negative index counts from the end of <code>self</code>. Returns <code>nil</code> if the index is out of range. See also <a href="#[]-instance_method" title="Array#[] (method)">#[]</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>)     <span class='comment'>#=&gt; &quot;a&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_at'>at</span>(<span class='op'>-</span><span class='int'>1</span>)    <span class='comment'>#=&gt; &quot;e&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1583-L1587'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1583' data-end='1587'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1583</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_at(VALUE ary, VALUE pos)
{
    return rb_ary_entry(ary, NUM2LONG(pos));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bsearch-instance_method">
  <h3 class='signature '>
    #<strong>bsearch</strong> {|x| ... } &#x21d2; <code>elem</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>By using binary search, finds a value from this array which meets the given condition in O(log n) where n is the size of the array.</p>

<p>You can use this method in two modes: a find-minimum mode and a find-any mode.  In either case, the elements of the array must be monotone (or sorted) with respect to the block.</p>

<p>In find-minimum mode (this is a good choice for typical use cases), the block must always return true or false, and there must be an index i (0 &lt;= i &lt;= ary.size) so that:</p>
<ul><li>
<p>the block returns false for any element whose index is less than i, and</p>
</li><li>
<p>the block returns true for any element whose index is greater than or equal to i.</p>
</li></ul>

<p>This method returns the i-th element.  If i is equal to ary.size, it returns nil.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>12</span>]
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>   <span class='int'>4</span> } <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>   <span class='int'>6</span> } <span class='comment'>#=&gt; 7
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>  <span class='op'>-</span><span class='int'>1</span> } <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span> <span class='int'>100</span> } <span class='comment'>#=&gt; nil</span></code></pre>

<p>In find-any mode (this behaves like libc’s bsearch(3)), the block must always return a number, and there must be two indices i and j (0 &lt;= i &lt;= j &lt;= ary.size) so that:</p>
<ul><li>
<p>the block returns a positive number for <a href="k">ary</a> if 0 &lt;= k &lt; i,</p>
</li><li>
<p>the block returns zero for <a href="k">ary</a> if i &lt;= k &lt; j, and</p>
</li><li>
<p>the block returns a negative number for <a href="k">ary</a> if j &lt;= k &lt; ary.size.</p>
</li></ul>

<p>Under this condition, this method returns any element whose index is within i…j.  If i is equal to j (i.e., there is no element that satisfies the block), this method returns nil.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>12</span>]
<span class='comment'># try to find v such that 4 &lt;= v &lt; 8
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='int'>1</span> <span class='op'>-</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>/</span> <span class='int'>4</span> } <span class='comment'>#=&gt; 4 or 7
</span><span class='comment'># try to find v such that 8 &lt;= v &lt; 10
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_bsearch'>bsearch</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='int'>4</span> <span class='op'>-</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>/</span> <span class='int'>2</span> } <span class='comment'>#=&gt; nil</span></code></pre>

<p>You must not mix the two modes at a time; the block must always return either true/false, or always return a number.  It is undefined which value is actually picked up at each iteration.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2880-L2889'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2880' data-end='2889'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2880</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_bsearch(VALUE ary)
{
    VALUE index_result = rb_ary_bsearch_index(ary);

    if (FIXNUM_P(index_result)) {
	return rb_ary_entry(ary, FIX2LONG(index_result));
    }
    return index_result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bsearch_index-instance_method">
  <h3 class='signature '>
    #<strong>bsearch_index</strong> {|x| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>By using binary search, finds an index of a value from this array which meets the given condition in O(log n) where n is the size of the array.</p>

<p>It supports two modes, depending on the nature of the block. They are exactly the same as in the case of the <a href="#bsearch-instance_method" title="Array#bsearch (method)">#bsearch</a> method, with the only difference being that this method returns the index of the element instead of the element itself. For more details consult the documentation for <a href="#bsearch-instance_method" title="Array#bsearch (method)">#bsearch</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2904-L2949'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2904' data-end='2949'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2904</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_bsearch_index(VALUE ary)
{
    long low = 0, high = RARRAY_LEN(ary), mid;
    int smaller = 0, satisfied = 0;
    VALUE v, val;

    RETURN_ENUMERATOR(ary, 0, 0);
    while (low &lt; high) {
	mid = low + ((high - low) / 2);
	val = rb_ary_entry(ary, mid);
	v = rb_yield(val);
	if (FIXNUM_P(v)) {
	    if (v == INT2FIX(0)) return INT2FIX(mid);
	    smaller = (SIGNED_VALUE)v &lt; 0; /* Fixnum preserves its sign-bit */
	}
	else if (v == Qtrue) {
	    satisfied = 1;
	    smaller = 1;
	}
	else if (v == Qfalse || v == Qnil) {
	    smaller = 0;
	}
	else if (rb_obj_is_kind_of(v, rb_cNumeric)) {
	    const VALUE zero = INT2FIX(0);
	    switch (rb_cmpint(rb_funcallv(v, id_cmp, 1, &amp;zero), v, zero)) {
	      case 0: return INT2FIX(mid);
	      case 1: smaller = 1; break;
	      case -1: smaller = 0;
	    }
	}
	else {
	    rb_raise(rb_eTypeError, &quot;wrong argument type %&quot;PRIsVALUE
		     &quot; (must be numeric, true, false or nil)&quot;,
		     rb_obj_class(v));
	}
	if (smaller) {
	    high = mid;
	}
	else {
	    low = mid + 1;
	}
    }
    if (!satisfied) return Qnil;
    return INT2FIX(low);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes all elements from <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_clear'>clear</span>    <span class='comment'>#=&gt; [ ]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3813-L3832'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3813' data-end='3832'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3813</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_clear(VALUE ary)
{
    rb_ary_modify_check(ary);
    if (ARY_SHARED_P(ary)) {
	if (!ARY_EMBED_P(ary)) {
	    rb_ary_unshare(ary);
	    FL_SET_EMBED(ary);
            ARY_SET_EMBED_LEN(ary, 0);
	}
    }
    else {
        ARY_SET_LEN(ary, 0);
        if (ARY_DEFAULT_SIZE * 2 &lt; ARY_CAPA(ary)) {
            ary_resize_capa(ary, ARY_DEFAULT_SIZE * 2);
        }
    }
    ary_verify(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>collect</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>map</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>collect</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#map-instance_method" title="Array#map (method)">#map</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="collect!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>collect!</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>map!</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>collect!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>map!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#map!-instance_method" title="Array#map! (method)">#map!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="combination-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>combination</strong>(n) {|c| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>combination</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When invoked with a block, yields all combinations of length <code>n</code> of elements from the array and then returns the array itself.</p>

<p>The implementation makes no guarantees about the order in which the combinations are yielded.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>1</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1],[2],[3],[4]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>2</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>3</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>4</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,2,3,4]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>0</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[]] # one combination of length 0
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_combination'>combination</span>(<span class='int'>5</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; []   # no combinations of length 5</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5725-L5755'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5725' data-end='5755'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5725</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_combination(VALUE ary, VALUE num)
{
    long i, n, len;

    n = NUM2LONG(num);
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_combination_size);
    len = RARRAY_LEN(ary);
    if (n &lt; 0 || len &lt; n) {
	/* yield nothing */
    }
    else if (n == 0) {
	rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	volatile VALUE t0;
	long *stack = ALLOCV_N(long, t0, n+1);

	RBASIC_CLEAR_CLASS(ary0);
	combinate0(len, n, stack, ary0);
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact-instance_method">
  <h3 class='signature '>
    #<strong>compact</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with all <code>nil</code> elements removed.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span> ].<span class='id identifier rubyid_compact'>compact</span>
                  <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4975-L4981'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4975' data-end='4981'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4975</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_compact(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_compact_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact!-instance_method">
  <h3 class='signature '>
    #<strong>compact!</strong>  &#x21d2; <code>Array</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes <code>nil</code> elements from the array.</p>

<p>Returns <code>nil</code> if no changes were made, otherwise returns the array.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_compact!'>compact!</span>           <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4942-L4963'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4942' data-end='4963'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4942</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_compact_bang(VALUE ary)
{
    VALUE *p, *t, *end;
    long n;

    rb_ary_modify(ary);
    p = t = (VALUE *)RARRAY_CONST_PTR_TRANSIENT(ary); /* WB: no new reference */
    end = p + RARRAY_LEN(ary);

    while (t &lt; end) {
	if (NIL_P(*t)) t++;
	else *p++ = *t++;
    }
    n = p - RARRAY_CONST_PTR_TRANSIENT(ary);
    if (RARRAY_LEN(ary) == n) {
	return Qnil;
    }
    ary_resize_smaller(ary, n);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-instance_method">
  <h3 class='signature '>
    #<strong>concat</strong>(other_ary1, other_ary2, ...)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends the elements of <code>other_ary</code>s to <code>self</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_concat'>concat</span>( [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span>])   <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_concat'>concat</span>( [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span>]) <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_concat'>concat</span> <span class='comment'>#=&gt; [ &quot;a&quot; ]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_concat'>concat</span>( [ <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> ])
<span class='id identifier rubyid_a'>a</span>                                 <span class='comment'>#=&gt; [ 1, 2, 3, 4, 5 ]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span>)                    <span class='comment'>#=&gt; [1, 2, 1, 2, 1, 2]</span></code></pre>

<p>See also <a href="#%2B-instance_method" title="Array#+ (method)">#+</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3999-L4018'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3999' data-end='4018'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3999</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_concat_multi(int argc, VALUE *argv, VALUE ary)
{
    rb_ary_modify_check(ary);

    if (argc == 1) {
	rb_ary_concat(ary, argv[0]);
    }
    else if (argc &gt; 1) {
	int i;
	VALUE args = rb_ary_tmp_new(argc);
	for (i = 0; i &lt; argc; i++) {
	    rb_ary_concat(args, argv[i]);
	}
	ary_append(ary, args);
    }

    ary_verify(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>count</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>count</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>count</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of elements.</p>

<p>If an argument is given, counts the number of elements which equal <code>obj</code> using <a href="#==-instance_method" title="Array#== (method)">#==</a>.</p>

<p>If a block is given, counts the number of elements for which the block returns a true value.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>]
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_count'>count</span>                  <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_count'>count</span>(<span class='int'>2</span>)               <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_count'>count</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='op'>%</span><span class='int'>2</span> <span class='op'>==</span> <span class='int'>0</span>}   <span class='comment'>#=&gt; 3</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5004-L5032'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5004' data-end='5032'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5004</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_count(int argc, VALUE *argv, VALUE ary)
{
    long i, n = 0;

    if (rb_check_arity(argc, 0, 1) == 0) {
	VALUE v;

	if (!rb_block_given_p())
	    return LONG2NUM(RARRAY_LEN(ary));

	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    v = RARRAY_AREF(ary, i);
	    if (RTEST(rb_yield(v))) n++;
	}
    }
    else {
        VALUE obj = argv[0];

	if (rb_block_given_p()) {
	    rb_warn(&quot;given block not used&quot;);
	}
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    if (rb_equal(RARRAY_AREF(ary, i), obj)) n++;
	}
    }

    return LONG2NUM(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cycle-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; <code>nil</code> </span>
      <span class='overload'>#<strong>cycle</strong>(n = nil)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block for each element <code>n</code> times or forever if <code>nil</code> is given.</p>

<p>Does nothing if a non-positive number is given or the array is empty.</p>

<p>Returns <code>nil</code> if the loop has finished without getting interrupted.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_cycle'>cycle</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span>}       <span class='comment'># print, a, b, c, a, b, c,.. forever.
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_cycle'>cycle</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span>}    <span class='comment'># print, a, b, c, a, b, c.</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5461-L5483'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5461' data-end='5483'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5461</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_cycle(int argc, VALUE *argv, VALUE ary)
{
    long n, i;

    rb_check_arity(argc, 0, 1);

    RETURN_SIZED_ENUMERATOR(ary, argc, argv, rb_ary_cycle_size);
    if (argc == 0 || NIL_P(argv[0])) {
        n = -1;
    }
    else {
        n = NUM2LONG(argv[0]);
        if (n &lt;= 0) return Qnil;
    }

    while (RARRAY_LEN(ary) &gt; 0 &amp;&amp; (n &lt; 0 || 0 &lt; n--)) {
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            rb_yield(RARRAY_AREF(ary, i));
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete</strong>(obj)  &#x21d2; <code>item</code><sup>?</sup> </span>
      <span class='overload'>#<strong>delete</strong>(obj)  &#x21d2; <code>item</code>, <code>result</code> <code>of</code> <code>block</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes all items from <code>self</code> that are equal to <code>obj</code>.</p>

<p>Returns the last deleted item, or <code>nil</code> if no matching item is found.</p>

<p>If the optional code block is given, the result of the block is returned if the item is not found.  (To remove <code>nil</code> elements and get an informative return value, use <a href="#compact!-instance_method" title="Array#compact! (method)">#compact!</a>)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>)                   <span class='comment'>#=&gt; &quot;b&quot;
</span><span class='id identifier rubyid_a'>a</span>                               <span class='comment'>#=&gt; [&quot;a&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>)                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>) {<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not found</span><span class='tstring_end'>&quot;</span></span>}     <span class='comment'>#=&gt; &quot;not found&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3316-L3345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3316' data-end='3345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3316</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_delete(VALUE ary, VALUE item)
{
    VALUE v = item;
    long i1, i2;

    for (i1 = i2 = 0; i1 &lt; RARRAY_LEN(ary); i1++) {
	VALUE e = RARRAY_AREF(ary, i1);

	if (rb_equal(e, item)) {
	    v = e;
	    continue;
	}
	if (i1 != i2) {
	    rb_ary_store(ary, i2, e);
	}
	i2++;
    }
    if (RARRAY_LEN(ary) == i2) {
	if (rb_block_given_p()) {
	    return rb_yield(item);
	}
	return Qnil;
    }

    ary_resize_smaller(ary, i2);

    ary_verify(ary);
    return v;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_at-instance_method">
  <h3 class='signature '>
    #<strong>delete_at</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes the element at the specified <a href="#index-instance_method" title="Array#index (method)">#index</a>, returning that element, or <code>nil</code> if the <a href="#index-instance_method" title="Array#index (method)">#index</a> is out of range.</p>

<p>See also <a href="#slice!-instance_method" title="Array#slice! (method)">#slice!</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ant</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>2</span>)    <span class='comment'>#=&gt; &quot;cat&quot;
</span><span class='id identifier rubyid_a'>a</span>                 <span class='comment'>#=&gt; [&quot;ant&quot;, &quot;bat&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>99</span>)   <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3407-L3411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3407' data-end='3411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3407</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_delete_at_m(VALUE ary, VALUE pos)
{
    return rb_ary_delete_at(ary, NUM2LONG(pos));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete_if</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>delete_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes every element of <code>self</code> for which block evaluates to <code>true</code>.</p>

<p>The array is changed instantly every time the block is called, not after the iteration is over.</p>

<p>See also <a href="#reject!-instance_method" title="Array#reject! (method)">#reject!</a></p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_scores'>scores</span> <span class='op'>=</span> [ <span class='int'>97</span><span class='comma'>,</span> <span class='int'>42</span><span class='comma'>,</span> <span class='int'>75</span> ]
<span class='id identifier rubyid_scores'>scores</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_score'>score</span><span class='op'>|</span> <span class='id identifier rubyid_score'>score</span> <span class='op'>&lt;</span> <span class='int'>80</span> }   <span class='comment'>#=&gt; [97]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3590-L3597'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3590' data-end='3597'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3590</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_delete_if(VALUE ary)
{
    ary_verify(ary);
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    ary_reject_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="difference-instance_method">
  <h3 class='signature '>
    #<strong>difference</strong>(other_ary1, other_ary2, ...)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Array</code> Difference</p>

<p>Returns a new array that is a copy of the receiver, removing any items that also appear in any of the arrays given as arguments. The order is preserved from the original array.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> ].<span class='id identifier rubyid_difference'>difference</span>([ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span> ])     <span class='comment'>#=&gt; [ 3, 3, 5 ]
</span>[ <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>yep</span><span class='tstring_end'>&#39;</span></span> ].<span class='id identifier rubyid_difference'>difference</span>([ <span class='int'>1</span> ]<span class='comma'>,</span> [ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> ])  <span class='comment'>#=&gt; [ :s, &quot;yep&quot; ]</span></code></pre>

<p>If you need set-like behavior, see the library class Set.</p>

<p>See also <a href="#--instance_method" title="Array#- (method)">#-</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4516-L4550'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4516' data-end='4550'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4516</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_difference_multi(int argc, VALUE *argv, VALUE ary)
{
    VALUE ary_diff;
    long i, length;
    volatile VALUE t0;
    bool *is_hash = ALLOCV_N(bool, t0, argc);
    ary_diff = rb_ary_new();
    length = RARRAY_LEN(ary);

    for (i = 0; i &lt; argc; i++) {
        argv[i] = to_ary(argv[i]);
        is_hash[i] = (length &gt; SMALL_ARRAY_LEN &amp;&amp; RARRAY_LEN(argv[i]) &gt; SMALL_ARRAY_LEN);
        if (is_hash[i]) argv[i] = ary_make_hash(argv[i]);
    }

    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        int j;
        VALUE elt = rb_ary_elt(ary, i);
        for (j = 0; j &lt; argc; j++){
            if (is_hash[j]) {
                if (rb_hash_stlike_lookup(argv[j], RARRAY_AREF(ary, i), NULL))
                    break;
            }
            else {
                if (rb_ary_includes_by_eql(argv[j], elt)) break;
            }
        }
        if (j == argc) rb_ary_push(ary_diff, elt);
    }

    ALLOCV_END(t0);

    return ary_diff;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dig-instance_method">
  <h3 class='signature '>
    #<strong>dig</strong>(idx, ...)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts the nested value specified by the sequence of <em>idx</em> objects by calling <code>dig</code> at each step, returning <code>nil</code> if any intermediate step is <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [[<span class='int'>1</span><span class='comma'>,</span> [<span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]]]

<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>)                    <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>)                    <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>)                    <span class='comment'>#=&gt; TypeError: Integer does not have #dig method
</span>[<span class='int'>42</span><span class='comma'>,</span> {<span class='label'>foo:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>}].<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)    <span class='comment'>#=&gt; :bar</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6352-L6360'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6352' data-end='6360'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6352</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_ary_at(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop-instance_method">
  <h3 class='signature '>
    #<strong>drop</strong>(n)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Drops first <code>n</code> elements from <code>ary</code> and returns the rest of the elements in an array.</p>

<p>If a negative number is given, raises an <a href="ArgumentError.html" title="ArgumentError (class)"><code>::ArgumentError</code></a>.</p>

<p>See also <a href="#take-instance_method" title="Array#take (method)">#take</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>3</span>)             <span class='comment'>#=&gt; [4, 5, 0]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6138-L6150'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6138' data-end='6150'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6138</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_drop(VALUE ary, VALUE n)
{
    VALUE result;
    long pos = NUM2LONG(n);
    if (pos &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }

    result = rb_ary_subseq(ary, pos, RARRAY_LEN(ary));
    if (result == Qnil) result = rb_ary_new();
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop_while-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>drop_while</strong> {|obj| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>drop_while</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Drops elements up to, but not including, the first element for which the block returns <code>nil</code> or <code>false</code> and returns an array containing the remaining elements.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>See also <a href="#take_while-instance_method" title="Array#take_while (method)">#take_while</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_drop_while'>drop_while</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> }   <span class='comment'>#=&gt; [3, 4, 5, 0]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6170-L6180'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6170' data-end='6180'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6170</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_drop_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (!RTEST(rb_yield(RARRAY_AREF(ary, i)))) break;
    }
    return rb_ary_drop(ary, LONG2FIX(i));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>each</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block once for each element in <code>self</code>, passing that element as a parameter.  Returns the array itself.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> -- </span><span class='tstring_end'>&quot;</span></span> }</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby">a -- b -- c --</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2080-L2090'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2080' data-end='2090'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2080</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_each(VALUE ary)
{
    long i;
    ary_verify(ary);
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	rb_yield(RARRAY_AREF(ary, i));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_index</strong> {|index| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>each_index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but passes the <a href="#index-instance_method" title="Array#index (method)">#index</a> of the element instead of the element itself.</p>

<p>An Enumerator is returned if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_each_index'>each_index</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> -- </span><span class='tstring_end'>&quot;</span></span> }</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby">0 -- 1 -- 2 --</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2110-L2120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2110' data-end='2120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2110</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_each_index(VALUE ary)
{
    long i;
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	rb_yield(LONG2NUM(i));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> and <code>other</code> are the same object, or are both arrays with the same content (according to <a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4242-L4250'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4242' data-end='4250'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4242</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_eql(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (!RB_TYPE_P(ary2, T_ARRAY)) return Qfalse;
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    if (RARRAY_CONST_PTR_TRANSIENT(ary1) == RARRAY_CONST_PTR_TRANSIENT(ary2)) return Qtrue;
    return rb_exec_recursive_paired(recursive_eql, ary1, ary2, ary2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fetch</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(index, default)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(index) {|index| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Tries to return the element at position <a href="#index-instance_method" title="Array#index (method)">#index</a>, but throws an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> exception if the referenced <a href="#index-instance_method" title="Array#index (method)">#index</a> lies outside of the array bounds.  This error can be prevented by supplying a second argument, which will act as a <code>default</code> value.</p>

<p>Alternatively, if a block is given it will only be executed when an invalid <a href="#index-instance_method" title="Array#index (method)">#index</a> is referenced.</p>

<p>Negative values of <a href="#index-instance_method" title="Array#index (method)">#index</a> count from the end of the array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>11</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>33</span><span class='comma'>,</span> <span class='int'>44</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>1</span>)               <span class='comment'>#=&gt; 22
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='op'>-</span><span class='int'>1</span>)              <span class='comment'>#=&gt; 44
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'>#=&gt; &quot;cat&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>100</span>) {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'> is out of bounds</span><span class='tstring_end'>&quot;</span></span>}
                         <span class='comment'>#=&gt; &quot;100 is out of bounds&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1668-L1694'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1668' data-end='1694'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1668</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_fetch(int argc, VALUE *argv, VALUE ary)
{
    VALUE pos, ifnone;
    long block_given;
    long idx;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;pos, &amp;ifnone);
    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
	rb_warn(&quot;block supersedes default value argument&quot;);
    }
    idx = NUM2LONG(pos);

    if (idx &lt; 0) {
	idx +=  RARRAY_LEN(ary);
    }
    if (idx &lt; 0 || RARRAY_LEN(ary) &lt;= idx) {
	if (block_given) return rb_yield(pos);
	if (argc == 1) {
	    rb_raise(rb_eIndexError, &quot;index %ld outside of array bounds: %ld...%ld&quot;,
			idx - (idx &lt; 0 ? RARRAY_LEN(ary) : 0), -RARRAY_LEN(ary), RARRAY_LEN(ary));
	}
	return ifnone;
    }
    return RARRAY_AREF(ary, idx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fill-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fill</strong>(obj)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>fill</strong>(obj, start [, length])  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>fill</strong>(obj, range)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>fill</strong> {|index| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>fill</strong>(start [, length]) {|index| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>fill</strong>(range) {|index| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The first three forms set the selected elements of <code>self</code> (which may be the entire array) to <code>obj</code>.</p>

<p>A <code>start</code> of <code>nil</code> is equivalent to zero.</p>

<p>A <a href="#length-instance_method" title="Array#length (method)">#length</a> of <code>nil</code> is equivalent to the length of the array.</p>

<p>The last three forms fill the array with the value of the given block, which is passed the absolute index of each element to be filled.</p>

<p>Negative values of <code>start</code> count from the end of the array, where <code>-1</code> is the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fill'>fill</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>)              <span class='comment'>#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fill'>fill</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span>)        <span class='comment'>#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;z&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fill'>fill</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>1</span>)        <span class='comment'>#=&gt; [&quot;y&quot;, &quot;y&quot;, &quot;z&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fill'>fill</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span>}         <span class='comment'>#=&gt; [0, 1, 4, 9]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fill'>fill</span>(<span class='op'>-</span><span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span>}   <span class='comment'>#=&gt; [0, 1, 8, 27]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3864-L3926'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3864' data-end='3926'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3864</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_fill(int argc, VALUE *argv, VALUE ary)
{
    VALUE item = Qundef, arg1, arg2;
    long beg = 0, end = 0, len = 0;

    if (rb_block_given_p()) {
	rb_scan_args(argc, argv, &quot;02&quot;, &amp;arg1, &amp;arg2);
	argc += 1;		/* hackish */
    }
    else {
	rb_scan_args(argc, argv, &quot;12&quot;, &amp;item, &amp;arg1, &amp;arg2);
    }
    switch (argc) {
      case 1:
	beg = 0;
	len = RARRAY_LEN(ary);
	break;
      case 2:
	if (rb_range_beg_len(arg1, &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
	    break;
	}
	/* fall through */
      case 3:
	beg = NIL_P(arg1) ? 0 : NUM2LONG(arg1);
	if (beg &lt; 0) {
	    beg = RARRAY_LEN(ary) + beg;
	    if (beg &lt; 0) beg = 0;
	}
	len = NIL_P(arg2) ? RARRAY_LEN(ary) - beg : NUM2LONG(arg2);
	break;
    }
    rb_ary_modify(ary);
    if (len &lt; 0) {
        return ary;
    }
    if (beg &gt;= ARY_MAX_SIZE || len &gt; ARY_MAX_SIZE - beg) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    end = beg + len;
    if (RARRAY_LEN(ary) &lt; end) {
	if (end &gt;= ARY_CAPA(ary)) {
	    ary_resize_capa(ary, end);
	}
	ary_mem_clear(ary, RARRAY_LEN(ary), end - RARRAY_LEN(ary));
	ARY_SET_LEN(ary, end);
    }

    if (item == Qundef) {
	VALUE v;
	long i;

	for (i=beg; i&lt;end; i++) {
	    v = rb_yield(LONG2NUM(i));
	    if (i&gt;=RARRAY_LEN(ary)) break;
	    ARY_SET(ary, i, v);
	}
    }
    else {
	ary_memfill(ary, beg, len, item);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>filter</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>filter</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing all elements of <code>ary</code> for which the given <code>block</code> returns a true value.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span>].<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Array#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='op'>|</span> <span class='id identifier rubyid_num'>num</span>.<span class='id identifier rubyid_even?'>even?</span> }     <span class='comment'>#=&gt; [2, 4]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> </span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Array#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span> }    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;e&quot;]</span></code></pre>

<p>See also <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">Enumerable#select</a>.</p>

<p><code>filter</code> is an alias for <a href="#select-instance_method" title="Array#select (method)">#select</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3164-L3178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3164' data-end='3178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3164</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_select(VALUE ary)
{
    VALUE result;
    long i;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    result = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) {
	    rb_ary_push(result, rb_ary_elt(ary, i));
	}
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>filter!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>filter!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes the given block passing in successive elements from <code>self</code>, deleting elements for which the block returns a <code>false</code> value.</p>

<p>The array may not be changed instantly every time the block is called.</p>

<p>If changes were made, it will return <code>self</code>, otherwise it returns <code>nil</code>.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>See also <a href="#keep_if-instance_method" title="Array#keep_if (method)">#keep_if</a>.</p>

<p><code>filter!</code> is an alias for <a href="#select!-instance_method" title="Array#select! (method)">#select!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3245-L3256'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3245' data-end='3256'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3245</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_select_bang(VALUE ary)
{
    struct select_bang_arg args;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);

    args.ary = ary;
    args.len[0] = args.len[1] = 0;
    return rb_ensure(select_bang_i, (VALUE)&amp;args, select_bang_ensure, (VALUE)&amp;args);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>find_index</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>index</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="first-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>first</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>first</strong>(n)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the first element, or the first <code>n</code> elements, of the array. If the array is empty, the first form returns <code>nil</code>, and the second form returns an empty array. See also <a href="#last-instance_method" title="Array#last (method)">#last</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_first'>first</span>     <span class='comment'>#=&gt; &quot;q&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_first'>first</span>(<span class='int'>2</span>)  <span class='comment'>#=&gt; [&quot;q&quot;, &quot;r&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1604-L1614'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1604' data-end='1614'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1604</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_first(int argc, VALUE *argv, VALUE ary)
{
    if (argc == 0) {
	if (RARRAY_LEN(ary) == 0) return Qnil;
	return RARRAY_AREF(ary, 0);
    }
    else {
	return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flatten-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>flatten</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>flatten</strong>(level)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array that is a one-dimensional flattening of <code>self</code> (recursively).</p>

<p>That is, for every element that is an array, extract its elements into the new array.</p>

<p>The optional <code>level</code> argument determines the level of recursion to flatten.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ]           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> [ <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> [<span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span>] ]   <span class='comment'>#=&gt; [4, 5, 6, [7, 8]]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>10</span> ]       <span class='comment'>#=&gt; [[1, 2, 3], [4, 5, 6, [7, 8]], 9, 10]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_flatten'>flatten</span>                 <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> [<span class='int'>3</span><span class='comma'>,</span> [<span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>] ] ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>1</span>)              <span class='comment'>#=&gt; [1, 2, 3, [4, 5]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5157-L5172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5157' data-end='5172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5157</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_flatten(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(argv[0])) {
        level = NUM2INT(argv[0]);
        if (level == 0) return ary_make_shared_copy(ary);
    }

    result = flatten(ary, level, &amp;mod);
    OBJ_INFECT(result, ary);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flatten!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>flatten!</strong>  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>flatten!</strong>(level)  &#x21d2; <code>Array</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Flattens <code>self</code> in place.</p>

<p>Returns <code>nil</code> if no modifications were made (i.e., the array contains no subarrays.)</p>

<p>The optional <code>level</code> argument determines the level of recursion to flatten.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> [<span class='int'>3</span><span class='comma'>,</span> [<span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>] ] ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_flatten!'>flatten!</span>   <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_flatten!'>flatten!</span>   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>            <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> [<span class='int'>3</span><span class='comma'>,</span> [<span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>] ] ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_flatten!'>flatten!</span>(<span class='int'>1</span>) <span class='comment'>#=&gt; [1, 2, 3, [4, 5]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5112-L5133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5112' data-end='5133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5112</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_flatten_bang(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result, lv;

    lv = (rb_check_arity(argc, 0, 1) ? argv[0] : Qnil);
    rb_ary_modify_check(ary);
    if (!NIL_P(lv)) level = NUM2INT(lv);
    if (level == 0) return Qnil;

    result = flatten(ary, level, &amp;mod);
    if (mod == 0) {
	ary_discard(result);
	return Qnil;
    }
    if (!(mod = ARY_EMBED_P(result))) rb_obj_freeze(result);
    rb_ary_replace(ary, result);
    if (mod) ARY_SET_EMBED_LEN(result, 0);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compute a hash-code for this array.</p>

<p>Two arrays with the same content will have the same hash code (and will compare using <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a>).</p>

<p>See also <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4264-L4279'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4264' data-end='4279'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4264</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_hash(VALUE ary)
{
    long i;
    st_index_t h;
    VALUE n;

    h = rb_hash_start(RARRAY_LEN(ary));
    h = rb_hash_uint(h, (st_index_t)rb_ary_hash);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	n = rb_hash(RARRAY_AREF(ary, i));
	h = rb_hash_uint(h, NUM2LONG(n));
    }
    h = rb_hash_end(h);
    return ST2FIX(h);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the given <code>object</code> is present in <code>self</code> (that is, if any element <a href="#==-instance_method" title="Array#== (method)">#==</a> <code>object</code>), otherwise returns <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4293-L4306'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4293' data-end='4306'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4293</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_includes(VALUE ary, VALUE item)
{
    long i;
    VALUE e;

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	e = RARRAY_AREF(ary, i);
	if (rb_equal(e, item)) {
	    return Qtrue;
	}
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>find_index</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>index</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#find_index</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <em>index</em> of the first object in <code>ary</code> such that the object is <a href="#==-instance_method" title="Array#== (method)">#==</a> to <code>obj</code>.</p>

<p>If a block is given instead of an argument, returns the <em>index</em> of the first object for which the block returns <code>true</code>.  Returns <code>nil</code> if no match is found.</p>

<p>See also <a href="#rindex-instance_method" title="Array#rindex (method)">#rindex</a>.</p>

<p>An Enumerator is returned if neither a block nor argument is given.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>)              <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>)              <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_index'>index</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>}    <span class='comment'>#=&gt; 1</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1722-L1748'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1722' data-end='1748'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1722</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_index(int argc, VALUE *argv, VALUE ary)
{
    VALUE val;
    long i;

    if (argc == 0) {
	RETURN_ENUMERATOR(ary, 0, 0);
	for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) {
		return LONG2NUM(i);
	    }
	}
	return Qnil;
    }
    rb_check_arity(argc, 0, 1);
    val = argv[0];
    if (rb_block_given_p())
	rb_warn(&quot;given block not used&quot;);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	VALUE e = RARRAY_AREF(ary, i);
	if (rb_equal(e, val)) {
	    return LONG2NUM(i);
	}
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_ary)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_ary)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="Array#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="insert-instance_method">
  <h3 class='signature '>
    #<strong>insert</strong>(index, obj...)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Inserts the given values before the element with the given <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>

<p>Negative indices count backwards from the end of the array, where <code>-1</code> is the last element. If a negative index is used, the given values will be inserted after that element, so using an index of <code>-1</code> will insert the values at the end of the array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w{</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_end'>}</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>99</span>)         <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>)   <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, 1, 2, 3, &quot;d&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2029-L2051'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2029' data-end='2051'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2029</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_insert(int argc, VALUE *argv, VALUE ary)
{
    long pos;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    rb_ary_modify_check(ary);
    pos = NUM2LONG(argv[0]);
    if (argc == 1) return ary;
    if (pos == -1) {
	pos = RARRAY_LEN(ary);
    }
    else if (pos &lt; 0) {
	long minpos = -RARRAY_LEN(ary) - 1;
	if (pos &lt; minpos) {
	    rb_raise(rb_eIndexError, &quot;index %ld too small for array; minimum: %ld&quot;,
		     pos, minpos);
	}
	pos++;
    }
    rb_ary_splice(ary, pos, 0, argv + 1, argc - 1);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>inspect</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="Array#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="join-instance_method">
  <h3 class='signature '>
    #<strong>join</strong>(separator = $,)  &#x21d2; <a href="String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string created by converting each element of the array to a string, separated by the given <code>separator</code>. If the <code>separator</code> is <code>nil</code>, it uses current <code>$,</code>. If both the <code>separator</code> and <code>$,</code> are <code>nil</code>, it uses an empty string.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_join'>join</span>        <span class='comment'>#=&gt; &quot;abc&quot;
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;a-b-c&quot;</span></code></pre>

<p>For nested arrays, join is applied recursively:</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_y'>y</span>]]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;a-1-2-x-y-b&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2356-L2369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2356' data-end='2369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2356</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_join_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE sep;

    if (rb_check_arity(argc, 0, 1) == 0) {
        sep = rb_output_fs;
    }
    else if (NIL_P(sep = argv[0])) {
        sep = rb_output_fs;
    }

    return rb_ary_join(ary, sep);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keep_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>keep_if</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>keep_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes every element of <code>self</code> for which the given block evaluates to <code>false</code>, and returns <code>self</code>.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> </span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_keep_if'>keep_if</span> {<span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span> }    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;e&quot;]
</span><span class='id identifier rubyid_a'>a</span>                                  <span class='comment'>#=&gt; [&quot;a&quot;, &quot;e&quot;]</span></code></pre>

<p>See also <a href="#select!-instance_method" title="Array#select! (method)">#select!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3275-L3281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3275' data-end='3281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3275</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_keep_if(VALUE ary)
{
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_select_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>last</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>last</strong>(n)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the last element(s) of <code>self</code>. If the array is empty, the first form returns <code>nil</code>.</p>

<p>See also <a href="#first-instance_method" title="Array#first (method)">#first</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_last'>last</span>     <span class='comment'>#=&gt; &quot;z&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_last'>last</span>(<span class='int'>2</span>)  <span class='comment'>#=&gt; [&quot;y&quot;, &quot;z&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1631-L1642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1631' data-end='1642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1631</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_last(int argc, const VALUE *argv, VALUE ary)
{
    if (argc == 0) {
	long len = RARRAY_LEN(ary);
	if (len == 0) return Qnil;
	return RARRAY_AREF(ary, len-1);
    }
    else {
	return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    #<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>     <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of elements in <code>self</code>. May be zero.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> ].<span class='id identifier rubyid_length'>length</span>   <span class='comment'>#=&gt; 5
</span>[].<span class='id identifier rubyid_length'>length</span>                  <span class='comment'>#=&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2165-L2170'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2165' data-end='2170'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2165</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_length(VALUE ary)
{
    long len = RARRAY_LEN(ary);
    return LONG2NUM(len);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="map-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>collect</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>map</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>collect</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#collect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes the given block once for each element of <code>self</code>.</p>

<p>Creates a new array containing the values returned by the block.</p>

<p>See also <a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">Enumerable#collect</a>.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_collect'><a href="#collect-instance_method" title="Array#collect (method)">collect</a></span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>}           <span class='comment'>#=&gt; [&quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_with_index'>with_index</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span>}   <span class='comment'>#=&gt; [&quot;&quot;, &quot;b&quot;, &quot;cc&quot;, &quot;ddd&quot;]
</span><span class='id identifier rubyid_a'>a</span>                                 <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3008-L3020'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3008' data-end='3020'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3008</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_collect(VALUE ary)
{
    long i;
    VALUE collect;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    collect = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        rb_ary_push(collect, rb_yield(RARRAY_AREF(ary, i)));
    }
    return collect;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="map!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>collect!</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>map!</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>collect!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>map!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#collect!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes the given block once for each element of <code>self</code>, replacing the element with the value returned by the block.</p>

<p>See also <a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">Enumerable#collect</a>.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_map!'>map!</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_a'>a</span> <span class='comment'>#=&gt;  [ &quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot; ]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_collect!'><a href="#collect!-instance_method" title="Array#collect! (method)">collect!</a></span>.<span class='id identifier rubyid_with_index'>with_index</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>[<span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_i'>i</span>] }
<span class='id identifier rubyid_a'>a</span> <span class='comment'>#=&gt;  [&quot;&quot;, &quot;b&quot;, &quot;c!&quot;, &quot;d!&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3044-L3055'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3044' data-end='3055'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3044</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_collect_bang(VALUE ary)
{
    long i;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	rb_ary_store(ary, i, rb_yield(RARRAY_AREF(ary, i)));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>max</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>max</strong> {|a, b| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>max</strong>(n)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>max</strong>(n) {|a, b| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the object in <em>ary</em> with the maximum value. The first form assumes all objects implement <a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a>; the second uses the block to return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='tstring_end'>)</span></span>
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_max'>max</span>                                   <span class='comment'>#=&gt; &quot;horse&quot;
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_max'>max</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span>}    <span class='comment'>#=&gt; &quot;albatross&quot;</span></code></pre>

<p>If the <code>n</code> argument is given, maximum <code>n</code> elements are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>)                                  <span class='comment'>#=&gt; [&quot;horse&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> }  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4739-L4768'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4739' data-end='4768'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4739</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_max(int argc, VALUE *argv, VALUE ary)
{
    struct cmp_opt_data cmp_opt = { 0, 0 };
    VALUE result = Qundef, v;
    VALUE num;
    long i;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(num = argv[0]))
       return rb_nmin_run(ary, num, 0, 1, 1);

    if (rb_block_given_p()) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || rb_cmpint(rb_yield_values(2, v, result), v, result) &gt; 0) {
	       result = v;
	   }
	}
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || OPTIMIZED_CMP(v, result, cmp_opt) &gt; 0) {
	       result = v;
	   }
	}
    }
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="min-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>min</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>min</strong> {|a, b| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>min</strong>(n)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>min</strong>(n) {|a, b| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the object in <em>ary</em> with the minimum value. The first form assumes all objects implement <a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a>; the second uses the block to return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='tstring_end'>)</span></span>
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_min'>min</span>                                   <span class='comment'>#=&gt; &quot;albatross&quot;
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_min'>min</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span>}    <span class='comment'>#=&gt; &quot;dog&quot;</span></code></pre>

<p>If the <code>n</code> argument is given, minimum <code>n</code> elements are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>)                                  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span> }  <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;horse&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4792-L4821'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4792' data-end='4821'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4792</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_min(int argc, VALUE *argv, VALUE ary)
{
    struct cmp_opt_data cmp_opt = { 0, 0 };
    VALUE result = Qundef, v;
    VALUE num;
    long i;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(num = argv[0]))
       return rb_nmin_run(ary, num, 0, 0, 1);

    if (rb_block_given_p()) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || rb_cmpint(rb_yield_values(2, v, result), v, result) &lt; 0) {
	       result = v;
	   }
	}
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || OPTIMIZED_CMP(v, result, cmp_opt) &lt; 0) {
	       result = v;
	   }
	}
    }
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="none?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>none?</strong> {|obj| ... } &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>none?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>none?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See also <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">Enumerable#none?</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6262-L6288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6262' data-end='6288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6262</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_none_p(int argc, VALUE *argv, VALUE ary)
{
    long i, len = RARRAY_LEN(ary);

    rb_check_arity(argc, 0, 1);
    if (!len) return Qtrue;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (RTEST(rb_funcall(argv[0], idEqq, 1, RARRAY_AREF(ary, i)))) return Qfalse;
        }
    }
    else if (!rb_block_given_p()) {
        for (i = 0; i &lt; len; ++i) {
            if (RTEST(RARRAY_AREF(ary, i))) return Qfalse;
        }
    }
    else {
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) return Qfalse;
        }
    }
    return Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="one?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>one?</strong> {|obj| ... } &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>one?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>one?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See also <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">Enumerable#one?</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6298-L6334'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6298' data-end='6334'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6298</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_one_p(int argc, VALUE *argv, VALUE ary)
{
    long i, len = RARRAY_LEN(ary);
    VALUE result = Qfalse;

    rb_check_arity(argc, 0, 1);
    if (!len) return Qfalse;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (RTEST(rb_funcall(argv[0], idEqq, 1, RARRAY_AREF(ary, i)))) {
                if (result) return Qfalse;
                result = Qtrue;
            }
        }
    }
    else if (!rb_block_given_p()) {
        for (i = 0; i &lt; len; ++i) {
            if (RTEST(RARRAY_AREF(ary, i))) {
                if (result) return Qfalse;
                result = Qtrue;
            }
        }
    }
    else {
        for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
            if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) {
                if (result) return Qfalse;
                result = Qtrue;
            }
        }
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pack-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>pack</strong>(aTemplateString)  &#x21d2; <code>aBinaryString</code> </span>
      <span class='overload'>#<strong>pack</strong>(aTemplateString, buffer: aBufferString)  &#x21d2; <code>aBufferString</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Packs the contents of <em>arr</em> into a binary sequence according to the directives in <em>aTemplateString</em> (see the table below) Directives “A,” “a,” and “Z” may be followed by a count, which gives the width of the resulting field. The remaining directives also may take a count, indicating the number of array elements to convert. If the count is an asterisk (“<code>*</code>”), all remaining array elements will be converted. Any of the directives “<code>sSiIlL</code>” may be followed by an underscore (“<code>_</code>”) or exclamation mark (“<code>!</code>”) to use the underlying platform’s native size for the specified type; otherwise, they use a platform-independent size. Spaces are ignored in the template string. See also <a href="String.html#unpack-instance_method" title="String#unpack (method)">String#unpack</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span><span class='comma'>,</span> <span class='int'>67</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A3A3A3</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;a  b  c  &quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a3a3a3</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;a\000\000b\000\000c\000\000&quot;
</span><span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ccc</span><span class='tstring_end'>&quot;</span></span>)      <span class='comment'>#=&gt; &quot;ABC&quot;</span></code></pre>

<p>If <em>aBufferString</em> is specified and its capacity is enough, <code>pack</code> uses it as the buffer and returns it. When the offset is specified by the beginning of <em>aTemplateString</em>, the result is filled after the offset. If original contents of <em>aBufferString</em> exists and it’s longer than the offset, the rest of <em>offsetOfBuffer</em> are overwritten by the result. If it’s shorter, the gap is filled with “<code>\0</code>”.</p>

<p>Note that “buffer:” option does not guarantee not to allocate memory in <code>pack</code>.  If the capacity of <em>aBufferString</em> is not enough, <code>pack</code> allocates memory.</p>

<p>Directives for <code>pack</code>.</p>

<pre class="code ruby"><code class="ruby">Integer       | Array   |
Directive     | Element | Meaning
----------------------------------------------------------------------------
C             | Integer | 8-bit unsigned (unsigned char)
S             | Integer | 16-bit unsigned, native endian (uint16_t)
L             | Integer | 32-bit unsigned, native endian (uint32_t)
Q             | Integer | 64-bit unsigned, native endian (uint64_t)
J             | Integer | pointer width unsigned, native endian (uintptr_t)
              |         | (J is available since Ruby 2.3.)
              |         |
c             | Integer | 8-bit signed (signed char)
s             | Integer | 16-bit signed, native endian (int16_t)
l             | Integer | 32-bit signed, native endian (int32_t)
q             | Integer | 64-bit signed, native endian (int64_t)
j             | Integer | pointer width signed, native endian (intptr_t)
              |         | (j is available since Ruby 2.3.)
              |         |
S_ S!         | Integer | unsigned short, native endian
I I_ I!       | Integer | unsigned int, native endian
L_ L!         | Integer | unsigned long, native endian
Q_ Q!         | Integer | unsigned long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
              |         | (Q_ and Q! is available since Ruby 2.1.)
J!            | Integer | uintptr_t, native endian (same with J)
              |         | (J! is available since Ruby 2.3.)
              |         |
s_ s!         | Integer | signed short, native endian
i i_ i!       | Integer | signed int, native endian
l_ l!         | Integer | signed long, native endian
q_ q!         | Integer | signed long long, native endian (ArgumentError
              |         | if the platform has no long long type.)
              |         | (q_ and q! is available since Ruby 2.1.)
j!            | Integer | intptr_t, native endian (same with j)
              |         | (j! is available since Ruby 2.3.)
              |         |
S&gt; s&gt; S!&gt; s!&gt; | Integer | same as the directives without &quot;&gt;&quot; except
L&gt; l&gt; L!&gt; l!&gt; |         | big endian
I!&gt; i!&gt;       |         | (available since Ruby 1.9.3)
Q&gt; q&gt; Q!&gt; q!&gt; |         | &quot;S&gt;&quot; is same as &quot;n&quot;
J&gt; j&gt; J!&gt; j!&gt; |         | &quot;L&gt;&quot; is same as &quot;N&quot;
              |         |
S&lt; s&lt; S!&lt; s!&lt; | Integer | same as the directives without &quot;&lt;&quot; except
L&lt; l&lt; L!&lt; l!&lt; |         | little endian
I!&lt; i!&lt;       |         | (available since Ruby 1.9.3)
Q&lt; q&lt; Q!&lt; q!&lt; |         | &quot;S&lt;&quot; is same as &quot;v&quot;
J&lt; j&lt; J!&lt; j!&lt; |         | &quot;L&lt;&quot; is same as &quot;V&quot;
              |         |
n             | Integer | 16-bit unsigned, network (big-endian) byte order
N             | Integer | 32-bit unsigned, network (big-endian) byte order
v             | Integer | 16-bit unsigned, VAX (little-endian) byte order
V             | Integer | 32-bit unsigned, VAX (little-endian) byte order
              |         |
U             | Integer | UTF-8 character
w             | Integer | BER-compressed integer

Float        | Array   |
Directive    | Element | Meaning
---------------------------------------------------------------------------
D d          | Float   | double-precision, native format
F f          | Float   | single-precision, native format
E            | Float   | double-precision, little-endian byte order
e            | Float   | single-precision, little-endian byte order
G            | Float   | double-precision, network (big-endian) byte order
g            | Float   | single-precision, network (big-endian) byte order

String       | Array   |
Directive    | Element | Meaning
---------------------------------------------------------------------------
A            | String  | arbitrary binary string (space padded, count is width)
a            | String  | arbitrary binary string (null padded, count is width)
Z            | String  | same as ``a&#39;&#39;, except that null is added with *
B            | String  | bit string (MSB first)
b            | String  | bit string (LSB first)
H            | String  | hex string (high nibble first)
h            | String  | hex string (low nibble first)
u            | String  | UU-encoded string
M            | String  | quoted printable, MIME encoding (see also RFC2045)
             |         | (text mode but input must use LF and output LF)
m            | String  | base64 encoded string (see RFC 2045, count is width)
             |         | (if count is 0, no line feed are added, see RFC 4648)
P            | String  | pointer to a structure (fixed-length string)
p            | String  | pointer to a null-terminated string

Misc.        | Array   |
Directive    | Element | Meaning
---------------------------------------------------------------------------
@            | ---     | moves to absolute position
X            | ---     | back up a byte
x            | ---     | null byte</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/pack.c#L302-L916'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='302' data-end='916'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.c', line 302</span></pre>
<pre class='code cpp'>

static VALUE
pack_pack(int argc, VALUE *argv, VALUE ary)
{
    static const char nul10[] = &quot;\0\0\0\0\0\0\0\0\0\0&quot;;
    static const char spc10[] = &quot;          &quot;;
    const char *p, *pend;
    VALUE fmt, opt = Qnil, res, from, associates = 0, buffer = 0;
    char type;
    long len, idx, plen;
    const char *ptr;
    int enc_info = 1;		/* 0 - BINARY, 1 - US-ASCII, 2 - UTF-8 */
#ifdef NATINT_PACK
    int natint;		/* native integer */
#endif
    int integer_size, bigendian_p;

    rb_scan_args(argc, argv, &quot;10:&quot;, &amp;fmt, &amp;opt);

    StringValue(fmt);
    p = RSTRING_PTR(fmt);
    pend = p + RSTRING_LEN(fmt);
    if (!NIL_P(opt)) {
	static ID keyword_ids[1];
	if (!keyword_ids[0])
	    CONST_ID(keyword_ids[0], &quot;buffer&quot;);

	rb_get_kwargs(opt, keyword_ids, 0, 1, &amp;buffer);

	if (buffer != Qundef &amp;&amp; !RB_TYPE_P(buffer, T_STRING))
	    rb_raise(rb_eTypeError, &quot;buffer must be String, not %s&quot;, rb_obj_classname(buffer));
    }
    if (buffer)
	res = buffer;
    else
	res = rb_str_buf_new(0);

    idx = 0;

#define TOO_FEW (rb_raise(rb_eArgError, toofew), 0)
#define MORE_ITEM (idx &lt; RARRAY_LEN(ary))
#define THISFROM (MORE_ITEM ? RARRAY_AREF(ary, idx) : TOO_FEW)
#define NEXTFROM (MORE_ITEM ? RARRAY_AREF(ary, idx++) : TOO_FEW)

    while (p &lt; pend) {
	int explicit_endian = 0;
	if (RSTRING_PTR(fmt) + RSTRING_LEN(fmt) != pend) {
	    rb_raise(rb_eRuntimeError, &quot;format string modified&quot;);
	}
	type = *p++;		/* get data type */
#ifdef NATINT_PACK
	natint = 0;
#endif

	if (ISSPACE(type)) continue;
	if (type == &#39;#&#39;) {
	    while ((p &lt; pend) &amp;&amp; (*p != &#39;\n&#39;)) {
		p++;
	    }
	    continue;
	}

	{
          modifiers:
	    switch (*p) {
	      case &#39;_&#39;:
	      case &#39;!&#39;:
		if (strchr(natstr, type)) {
#ifdef NATINT_PACK
		    natint = 1;
#endif
		    p++;
		}
		else {
		    rb_raise(rb_eArgError, &quot;&#39;%c&#39; allowed only after types %s&quot;, *p, natstr);
		}
		goto modifiers;

	      case &#39;&lt;&#39;:
	      case &#39;&gt;&#39;:
		if (!strchr(endstr, type)) {
		    rb_raise(rb_eArgError, &quot;&#39;%c&#39; allowed only after types %s&quot;, *p, endstr);
		}
		if (explicit_endian) {
		    rb_raise(rb_eRangeError, &quot;Can&#39;t use both &#39;&lt;&#39; and &#39;&gt;&#39;&quot;);
		}
		explicit_endian = *p++;
		goto modifiers;
	    }
	}

	if (*p == &#39;*&#39;) {	/* set data length */
	    len = strchr(&quot;@Xxu&quot;, type) ? 0
                : strchr(&quot;PMm&quot;, type) ? 1
                : RARRAY_LEN(ary) - idx;
	    p++;
	}
	else if (ISDIGIT(*p)) {
	    errno = 0;
	    len = STRTOUL(p, (char**)&amp;p, 10);
	    if (errno) {
		rb_raise(rb_eRangeError, &quot;pack length too big&quot;);
	    }
	}
	else {
	    len = 1;
	}

	switch (type) {
	  case &#39;U&#39;:
	    /* if encoding is US-ASCII, upgrade to UTF-8 */
	    if (enc_info == 1) enc_info = 2;
	    break;
	  case &#39;m&#39;: case &#39;M&#39;: case &#39;u&#39;:
	    /* keep US-ASCII (do nothing) */
	    break;
	  default:
	    /* fall back to BINARY */
	    enc_info = 0;
	    break;
	}
	switch (type) {
	  case &#39;A&#39;: case &#39;a&#39;: case &#39;Z&#39;:
	  case &#39;B&#39;: case &#39;b&#39;:
	  case &#39;H&#39;: case &#39;h&#39;:
	    from = NEXTFROM;
	    if (NIL_P(from)) {
		ptr = &quot;&quot;;
		plen = 0;
	    }
	    else {
		StringValue(from);
		ptr = RSTRING_PTR(from);
		plen = RSTRING_LEN(from);
		OBJ_INFECT(res, from);
	    }

	    if (p[-1] == &#39;*&#39;)
		len = plen;

	    switch (type) {
	      case &#39;a&#39;:		/* arbitrary binary string (null padded)  */
	      case &#39;A&#39;:         /* arbitrary binary string (ASCII space padded) */
	      case &#39;Z&#39;:         /* null terminated string  */
		if (plen &gt;= len) {
		    rb_str_buf_cat(res, ptr, len);
		    if (p[-1] == &#39;*&#39; &amp;&amp; type == &#39;Z&#39;)
			rb_str_buf_cat(res, nul10, 1);
		}
		else {
		    rb_str_buf_cat(res, ptr, plen);
		    len -= plen;
		    while (len &gt;= 10) {
			rb_str_buf_cat(res, (type == &#39;A&#39;)?spc10:nul10, 10);
			len -= 10;
		    }
		    rb_str_buf_cat(res, (type == &#39;A&#39;)?spc10:nul10, len);
		}
		break;

#define castchar(from) (char)((from) &amp; 0xff)

	      case &#39;b&#39;:		/* bit string (ascending) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len - plen + 1)/2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (*ptr &amp; 1)
			    byte |= 128;
			if (i &amp; 7)
			    byte &gt;&gt;= 1;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 7) {
			char c;
			byte &gt;&gt;= 7 - (len &amp; 7);
			c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;B&#39;:		/* bit string (descending) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len - plen + 1)/2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			byte |= *ptr &amp; 1;
			if (i &amp; 7)
			    byte &lt;&lt;= 1;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 7) {
			char c;
			byte &lt;&lt;= 7 - (len &amp; 7);
			c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;h&#39;:		/* hex string (low nibble first) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len + 1) / 2 - (plen + 1) / 2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (ISALPHA(*ptr))
			    byte |= (((*ptr &amp; 15) + 9) &amp; 15) &lt;&lt; 4;
			else
			    byte |= (*ptr &amp; 15) &lt;&lt; 4;
			if (i &amp; 1)
			    byte &gt;&gt;= 4;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 1) {
			char c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;H&#39;:		/* hex string (high nibble first) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len + 1) / 2 - (plen + 1) / 2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (ISALPHA(*ptr))
			    byte |= ((*ptr &amp; 15) + 9) &amp; 15;
			else
			    byte |= *ptr &amp; 15;
			if (i &amp; 1)
			    byte &lt;&lt;= 4;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 1) {
			char c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;
	    }
	    break;

	  case &#39;c&#39;:		/* signed char */
	  case &#39;C&#39;:		/* unsigned char */
            integer_size = 1;
            bigendian_p = BIGENDIAN_P(); /* not effective */
            goto pack_integer;

	  case &#39;s&#39;:		/* s for int16_t, s! for signed short */
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;S&#39;:		/* S for uint16_t, S! for unsigned short */
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;i&#39;:		/* i and i! for signed int */
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;I&#39;:		/* I and I! for unsigned int */
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;l&#39;:		/* l for int32_t, l! for signed long */
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;L&#39;:		/* L for uint32_t, L! for unsigned long */
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;q&#39;:		/* q for int64_t, q! for signed long long */
	    integer_size = NATINT_LEN_Q;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;Q&#39;:		/* Q for uint64_t, Q! for unsigned long long */
	    integer_size = NATINT_LEN_Q;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;j&#39;:		/* j for intptr_t */
	    integer_size = sizeof(intptr_t);
	    bigendian_p = BIGENDIAN_P();
	    goto pack_integer;

	  case &#39;J&#39;:		/* J for uintptr_t */
	    integer_size = sizeof(uintptr_t);
	    bigendian_p = BIGENDIAN_P();
	    goto pack_integer;

	  case &#39;n&#39;:		/* 16 bit (2 bytes) integer (network byte-order)  */
            integer_size = 2;
            bigendian_p = 1;
            goto pack_integer;

	  case &#39;N&#39;:		/* 32 bit (4 bytes) integer (network byte-order) */
            integer_size = 4;
            bigendian_p = 1;
            goto pack_integer;

	  case &#39;v&#39;:		/* 16 bit (2 bytes) integer (VAX byte-order) */
            integer_size = 2;
            bigendian_p = 0;
            goto pack_integer;

	  case &#39;V&#39;:		/* 32 bit (4 bytes) integer (VAX byte-order) */
            integer_size = 4;
            bigendian_p = 0;
            goto pack_integer;

          pack_integer:
	    if (explicit_endian) {
		bigendian_p = explicit_endian == &#39;&gt;&#39;;
	    }
            if (integer_size &gt; MAX_INTEGER_PACK_SIZE)
                rb_bug(&quot;unexpected intger size for pack: %d&quot;, integer_size);
            while (len-- &gt; 0) {
                char intbuf[MAX_INTEGER_PACK_SIZE];

                from = NEXTFROM;
                rb_integer_pack(from, intbuf, integer_size, 1, 0,
                    INTEGER_PACK_2COMP |
                    (bigendian_p ? INTEGER_PACK_BIG_ENDIAN : INTEGER_PACK_LITTLE_ENDIAN));
                rb_str_buf_cat(res, intbuf, integer_size);
            }
	    break;

	  case &#39;f&#39;:		/* single precision float in native format */
	  case &#39;F&#39;:		/* ditto */
	    while (len-- &gt; 0) {
		float f;

		from = NEXTFROM;
                f = VALUE_to_float(from);
		rb_str_buf_cat(res, (char*)&amp;f, sizeof(float));
	    }
	    break;

	  case &#39;e&#39;:		/* single precision float in VAX byte-order */
	    while (len-- &gt; 0) {
		FLOAT_CONVWITH(tmp);

		from = NEXTFROM;
                tmp.f = VALUE_to_float(from);
		HTOVF(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(float));
	    }
	    break;

	  case &#39;E&#39;:		/* double precision float in VAX byte-order */
	    while (len-- &gt; 0) {
		DOUBLE_CONVWITH(tmp);
		from = NEXTFROM;
		tmp.d = RFLOAT_VALUE(rb_to_float(from));
		HTOVD(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(double));
	    }
	    break;

	  case &#39;d&#39;:		/* double precision float in native format */
	  case &#39;D&#39;:		/* ditto */
	    while (len-- &gt; 0) {
		double d;

		from = NEXTFROM;
		d = RFLOAT_VALUE(rb_to_float(from));
		rb_str_buf_cat(res, (char*)&amp;d, sizeof(double));
	    }
	    break;

	  case &#39;g&#39;:		/* single precision float in network byte-order */
	    while (len-- &gt; 0) {
		FLOAT_CONVWITH(tmp);
		from = NEXTFROM;
                tmp.f = VALUE_to_float(from);
		HTONF(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(float));
	    }
	    break;

	  case &#39;G&#39;:		/* double precision float in network byte-order */
	    while (len-- &gt; 0) {
		DOUBLE_CONVWITH(tmp);

		from = NEXTFROM;
		tmp.d = RFLOAT_VALUE(rb_to_float(from));
		HTOND(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(double));
	    }
	    break;

	  case &#39;x&#39;:		/* null byte */
	  grow:
	    while (len &gt;= 10) {
		rb_str_buf_cat(res, nul10, 10);
		len -= 10;
	    }
	    rb_str_buf_cat(res, nul10, len);
	    break;

	  case &#39;X&#39;:		/* back up byte */
	  shrink:
	    plen = RSTRING_LEN(res);
	    if (plen &lt; len)
		rb_raise(rb_eArgError, &quot;X outside of string&quot;);
	    rb_str_set_len(res, plen - len);
	    break;

	  case &#39;@&#39;:		/* null fill to absolute position */
	    len -= RSTRING_LEN(res);
	    if (len &gt; 0) goto grow;
	    len = -len;
	    if (len &gt; 0) goto shrink;
	    break;

	  case &#39;%&#39;:
	    rb_raise(rb_eArgError, &quot;%% is not supported&quot;);
	    break;

	  case &#39;U&#39;:		/* Unicode character */
	    while (len-- &gt; 0) {
		SIGNED_VALUE l;
		char buf[8];
		int le;

		from = NEXTFROM;
		from = rb_to_int(from);
		l = NUM2LONG(from);
		if (l &lt; 0) {
		    rb_raise(rb_eRangeError, &quot;pack(U): value out of range&quot;);
		}
		le = rb_uv_to_utf8(buf, l);
		rb_str_buf_cat(res, (char*)buf, le);
	    }
	    break;

	  case &#39;u&#39;:		/* uuencoded string */
	  case &#39;m&#39;:		/* base64 encoded string */
	    from = NEXTFROM;
	    StringValue(from);
	    ptr = RSTRING_PTR(from);
	    plen = RSTRING_LEN(from);
            OBJ_INFECT(res, from);

	    if (len == 0 &amp;&amp; type == &#39;m&#39;) {
		encodes(res, ptr, plen, type, 0);
		ptr += plen;
		break;
	    }
	    if (len &lt;= 2)
		len = 45;
	    else if (len &gt; 63 &amp;&amp; type == &#39;u&#39;)
		len = 63;
	    else
		len = len / 3 * 3;
	    while (plen &gt; 0) {
		long todo;

		if (plen &gt; len)
		    todo = len;
		else
		    todo = plen;
		encodes(res, ptr, todo, type, 1);
		plen -= todo;
		ptr += todo;
	    }
	    break;

	  case &#39;M&#39;:		/* quoted-printable encoded string */
	    from = rb_obj_as_string(NEXTFROM);
            OBJ_INFECT(res, from);
	    if (len &lt;= 1)
		len = 72;
	    qpencode(res, from, len);
	    break;

	  case &#39;P&#39;:		/* pointer to packed byte string */
	    from = THISFROM;
	    if (!NIL_P(from)) {
		StringValue(from);
		if (RSTRING_LEN(from) &lt; len) {
		    rb_raise(rb_eArgError, &quot;too short buffer for P(%ld for %ld)&quot;,
			     RSTRING_LEN(from), len);
		}
	    }
	    len = 1;
	    /* FALL THROUGH */
	  case &#39;p&#39;:		/* pointer to string */
	    while (len-- &gt; 0) {
		char *t;
		from = NEXTFROM;
		if (NIL_P(from)) {
		    t = 0;
		}
		else {
		    t = StringValuePtr(from);
                    OBJ_INFECT(res, from);
		    rb_obj_taint(from);
		}
		if (!associates) {
		    associates = rb_ary_new();
		}
		rb_ary_push(associates, from);
		rb_str_buf_cat(res, (char*)&amp;t, sizeof(char*));
	    }
	    break;

	  case &#39;w&#39;:		/* BER compressed integer  */
	    while (len-- &gt; 0) {
		VALUE buf = rb_str_new(0, 0);
                size_t numbytes;
                int sign;
                char *cp;

		from = NEXTFROM;
                from = rb_to_int(from);
                numbytes = rb_absint_numwords(from, 7, NULL);
                if (numbytes == 0)
                    numbytes = 1;
                buf = rb_str_new(NULL, numbytes);

                sign = rb_integer_pack(from, RSTRING_PTR(buf), RSTRING_LEN(buf), 1, 1, INTEGER_PACK_BIG_ENDIAN);

                if (sign &lt; 0)
                    rb_raise(rb_eArgError, &quot;can&#39;t compress negative numbers&quot;);
                if (sign == 2)
                    rb_bug(&quot;buffer size problem?&quot;);

                cp = RSTRING_PTR(buf);
                while (1 &lt; numbytes) {
                    *cp |= 0x80;
                    cp++;
                    numbytes--;
                }

                rb_str_buf_cat(res, RSTRING_PTR(buf), RSTRING_LEN(buf));
	    }
	    break;

	  default: {
            unknown_directive(&quot;pack&quot;, type, fmt);
	    break;
	  }
	}
    }

    if (associates) {
	str_associate(res, associates);
    }
    OBJ_INFECT(res, fmt);
    switch (enc_info) {
      case 1:
	ENCODING_CODERANGE_SET(res, rb_usascii_encindex(), ENC_CODERANGE_7BIT);
	break;
      case 2:
	rb_enc_set_index(res, rb_utf8_encindex());
	break;
      default:
	/* do nothing, keep ASCII-8BIT */
	break;
    }
    return res;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="permutation-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>permutation</strong> {|p| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>permutation</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>permutation</strong>(n) {|p| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>permutation</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When invoked with a block, yield all permutations of length <code>n</code> of the elements of the array, then return the array itself.</p>

<p>If <code>n</code> is not specified, yield all permutations of all elements.</p>

<p>The implementation makes no guarantees about the order in which the permutations are yielded.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>    <span class='comment'>#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>(<span class='int'>1</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[1],[2],[3]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>(<span class='int'>2</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>(<span class='int'>3</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>(<span class='int'>0</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[]] # one permutation of length 0
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_permutation'>permutation</span>(<span class='int'>4</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; []   # no permutations of length 4</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5632-L5668'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5632' data-end='5668'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5632</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_permutation(int argc, VALUE *argv, VALUE ary)
{
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_SIZED_ENUMERATOR(ary, argc, argv, rb_ary_permutation_size);   /* Return enumerator if no block */
    r = n;
    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(argv[0]))
        r = NUM2LONG(argv[0]);            /* Permutation size from argument */

    if (r &lt; 0 || n &lt; r) {
	/* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
	rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {             /* this is the general case */
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, r+roomof(n, sizeof(long)));
	char *used = (char*)(p + r);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	MEMZERO(used, char, n); /* initialize array */

	permute0(n, r, p, used, ary0); /* compute and yield permutations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pop-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>pop</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>pop</strong>(n)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the last element from <code>self</code> and returns it, or <code>nil</code> if the array is empty.</p>

<p>If a number <code>n</code> is given, returns an array of the last <code>n</code> elements (or less) just like <code>array.slice!(-n, n)</code> does. See also <a href="#push-instance_method" title="Array#push (method)">#push</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_pop'>pop</span>     <span class='comment'>#=&gt; &quot;d&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_pop'>pop</span>(<span class='int'>2</span>)  <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span>         <span class='comment'>#=&gt; [&quot;a&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1234-L1248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1234' data-end='1248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1234</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_pop_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;

    if (argc == 0) {
	return rb_ary_pop(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    ARY_INCREASE_LEN(ary, -RARRAY_LEN(result));
    ary_verify(ary);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>unshift</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>prepend</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#unshift</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepends objects to the front of <code>self</code>, moving other elements upwards. See also <a href="#shift-instance_method" title="Array#shift (method)">#shift</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_unshift'><a href="#unshift-instance_method" title="Array#unshift (method)">unshift</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_unshift'><a href="#unshift-instance_method" title="Array#unshift (method)">unshift</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>)  <span class='comment'>#=&gt; [ 1, 2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1433-L1448'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1433' data-end='1448'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1433</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_unshift_m(int argc, VALUE *argv, VALUE ary)
{
    long len = RARRAY_LEN(ary);
    VALUE target_ary;

    if (argc == 0) {
	rb_ary_modify_check(ary);
	return ary;
    }

    target_ary = ary_ensure_room_for_unshift(ary, argc);
    ary_memcpy0(ary, 0, argc, argv, target_ary);
    ARY_SET_LEN(ary, len + argc);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="product-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>product</strong>(other_ary, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>product</strong>(other_ary, ...) {|p| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of all combinations of elements from all arrays.</p>

<p>The length of the returned array is the product of the length of <code>self</code> and the argument arrays.</p>

<p>If given a block, <code>#product</code> will yield all combinations and return <code>self</code> instead.</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span>].<span class='id identifier rubyid_product'>product</span>([<span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span>])     <span class='comment'>#=&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
</span>[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>].<span class='id identifier rubyid_product'>product</span>([<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>])       <span class='comment'>#=&gt; [[1,1],[1,2],[2,1],[2,2]]
</span>[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>].<span class='id identifier rubyid_product'>product</span>([<span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span>]<span class='comma'>,</span>[<span class='int'>5</span><span class='comma'>,</span><span class='int'>6</span>]) <span class='comment'>#=&gt; [[1,3,5],[1,3,6],[1,4,5],[1,4,6],
</span>                           <span class='comment'>#     [2,3,5],[2,3,6],[2,4,5],[2,4,6]]
</span>[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>].<span class='id identifier rubyid_product'>product</span>()            <span class='comment'>#=&gt; [[1],[2]]
</span>[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>].<span class='id identifier rubyid_product'>product</span>([])          <span class='comment'>#=&gt; []</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5980-L6066'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5980' data-end='6066'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5980</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_product(int argc, VALUE *argv, VALUE ary)
{
    int n = argc+1;    /* How many arrays we&#39;re operating on */
    volatile VALUE t0 = tmpary(n);
    volatile VALUE t1 = Qundef;
    VALUE *arrays = RARRAY_PTR(t0); /* The arrays we&#39;re computing the product of */
    int *counters = ALLOCV_N(int, t1, n); /* The current position in each one */
    VALUE result = Qnil;      /* The array we&#39;ll be returning, when no block given */
    long i,j;
    long resultlen = 1;

    RBASIC_CLEAR_CLASS(t0);

    /* initialize the arrays of arrays */
    ARY_SET_LEN(t0, n);
    arrays[0] = ary;
    for (i = 1; i &lt; n; i++) arrays[i] = Qnil;
    for (i = 1; i &lt; n; i++) arrays[i] = to_ary(argv[i-1]);

    /* initialize the counters for the arrays */
    for (i = 0; i &lt; n; i++) counters[i] = 0;

    /* Otherwise, allocate and fill in an array of results */
    if (rb_block_given_p()) {
	/* Make defensive copies of arrays; exit if any is empty */
	for (i = 0; i &lt; n; i++) {
	    if (RARRAY_LEN(arrays[i]) == 0) goto done;
	    arrays[i] = ary_make_shared_copy(arrays[i]);
	}
    }
    else {
	/* Compute the length of the result array; return [] if any is empty */
	for (i = 0; i &lt; n; i++) {
	    long k = RARRAY_LEN(arrays[i]);
	    if (k == 0) {
		result = rb_ary_new2(0);
		goto done;
	    }
            if (MUL_OVERFLOW_LONG_P(resultlen, k))
		rb_raise(rb_eRangeError, &quot;too big to product&quot;);
	    resultlen *= k;
	}
	result = rb_ary_new2(resultlen);
    }
    for (;;) {
	int m;
	/* fill in one subarray */
	VALUE subarray = rb_ary_new2(n);
	for (j = 0; j &lt; n; j++) {
	    rb_ary_push(subarray, rb_ary_entry(arrays[j], counters[j]));
	}

	/* put it on the result array */
	if (NIL_P(result)) {
	    FL_SET(t0, FL_USER5);
	    rb_yield(subarray);
	    if (! FL_TEST(t0, FL_USER5)) {
		rb_raise(rb_eRuntimeError, &quot;product reentered&quot;);
	    }
	    else {
		FL_UNSET(t0, FL_USER5);
	    }
	}
	else {
	    rb_ary_push(result, subarray);
	}

	/*
	 * Increment the last counter.  If it overflows, reset to 0
	 * and increment the one before it.
	 */
	m = n-1;
	counters[m]++;
	while (counters[m] == RARRAY_LEN(arrays[m])) {
	    counters[m] = 0;
	    /* If the first counter overflows, we are done */
	    if (--m &lt; 0) goto done;
	    counters[m]++;
	}
    }
done:
    tmpary_discard(t0);
    ALLOCV_END(t1);

    return NIL_P(result) ? ary : result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>push</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>append</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#append</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Append — Pushes the given object(s) on to the end of this array. This expression returns the array itself, so several appends may be chained together. See also <a href="#pop-instance_method" title="Array#pop (method)">#pop</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span>)
        <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_push'>push</span>(<span class='int'>4</span>).<span class='id identifier rubyid_push'>push</span>(<span class='int'>5</span>)
        <span class='comment'>#=&gt; [1, 2, 3, 4, 5]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1191-L1195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1191' data-end='1195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1191</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_push_m(int argc, VALUE *argv, VALUE ary)
{
    return rb_ary_cat(ary, argv, argc);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rassoc-instance_method">
  <h3 class='signature '>
    #<strong>rassoc</strong>(obj)  &#x21d2; <code>element_ary</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches through the array whose elements are also arrays.</p>

<p>Compares <code>obj</code> with the second element of each contained array using <code>obj.==</code>.</p>

<p>Returns the first contained array that matches <code>obj</code>.</p>

<p>See also <a href="#assoc-instance_method" title="Array#assoc (method)">#assoc</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ [ <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>one</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>three</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ii</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span>] ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rassoc'>rassoc</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span>)    <span class='comment'>#=&gt; [2, &quot;two&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rassoc'>rassoc</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>four</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4142-L4156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4142' data-end='4156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4142</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_rassoc(VALUE ary, VALUE value)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	v = RARRAY_AREF(ary, i);
	if (RB_TYPE_P(v, T_ARRAY) &amp;&amp;
	    RARRAY_LEN(v) &gt; 1 &amp;&amp;
	    rb_equal(RARRAY_AREF(v, 1), value))
	    return v;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>reject</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing the items in <code>self</code> for which the given block is not <code>true</code>. The ordering of non-rejected elements is maintained.</p>

<p>See also <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a></p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3561-L3570'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3561' data-end='3570'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3561</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_reject(VALUE ary)
{
    VALUE rejected_ary;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rejected_ary = rb_ary_new();
    ary_reject(ary, rejected_ary);
    return rejected_ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>reject!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes every element of <code>self</code> for which the block evaluates to <code>true</code>, if no changes were made returns <code>nil</code>.</p>

<p>The array may not be changed instantly every time the block is called.</p>

<p>See also <a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">Enumerable#reject</a> and <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a>.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3540-L3546'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3540' data-end='3546'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3540</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_reject_bang(VALUE ary)
{
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);
    return ary_reject_bang(ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="repeated_combination-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>repeated_combination</strong>(n) {|c| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>repeated_combination</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When invoked with a block, yields all repeated combinations of length <code>n</code> of elements from the array and then returns the array itself.</p>

<p>The implementation makes no guarantees about the order in which the repeated combinations are yielded.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_combination'>repeated_combination</span>(<span class='int'>1</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1], [2], [3]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_combination'>repeated_combination</span>(<span class='int'>2</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,1],[1,2],[1,3],[2,2],[2,3],[3,3]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_combination'>repeated_combination</span>(<span class='int'>3</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,1,1],[1,1,2],[1,1,3],[1,2,2],[1,2,3],
</span>                                <span class='comment'>#    [1,3,3],[2,2,2],[2,2,3],[2,3,3],[3,3,3]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_combination'>repeated_combination</span>(<span class='int'>4</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,1,1,1],[1,1,1,2],[1,1,1,3],[1,1,2,2],[1,1,2,3],
</span>                                <span class='comment'>#    [1,1,3,3],[1,2,2,2],[1,2,2,3],[1,2,3,3],[1,3,3,3],
</span>                                <span class='comment'>#    [2,2,2,2],[2,2,2,3],[2,2,3,3],[2,3,3,3],[3,3,3,3]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_combination'>repeated_combination</span>(<span class='int'>0</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[]] # one combination of length 0</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5924-L5957'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5924' data-end='5957'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5924</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_repeated_combination(VALUE ary, VALUE num)
{
    long n, i, len;

    n = NUM2LONG(num);                 /* Combination size from argument */
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_repeated_combination_size);   /* Return enumerator if no block */
    len = RARRAY_LEN(ary);
    if (n &lt; 0) {
	/* yield nothing */
    }
    else if (n == 0) {
	rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else if (len == 0) {
	/* yield nothing */
    }
    else {
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, n);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	rcombinate0(len, n, p, n, ary0); /* compute and yield repeated combinations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="repeated_permutation-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>repeated_permutation</strong>(n) {|p| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>repeated_permutation</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When invoked with a block, yield all repeated permutations of length <code>n</code> of the elements of the array, then return the array itself.</p>

<p>The implementation makes no guarantees about the order in which the repeated permutations are yielded.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span>(<span class='int'>1</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1], [2]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span>(<span class='int'>2</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,1],[1,2],[2,1],[2,2]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span>(<span class='int'>3</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[1,1,1],[1,1,2],[1,2,1],[1,2,2],
</span>                                <span class='comment'>#    [2,1,1],[2,1,2],[2,2,1],[2,2,2]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span>(<span class='int'>0</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Array#to_a (method)">to_a</a></span>  <span class='comment'>#=&gt; [[]] # one permutation of length 0</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5830-L5861'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5830' data-end='5861'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5830</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_repeated_permutation(VALUE ary, VALUE num)
{
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_repeated_permutation_size);      /* Return Enumerator if no block */
    r = NUM2LONG(num);                    /* Permutation size from argument */

    if (r &lt; 0) {
	/* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
	rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {             /* this is the general case */
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, r);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	rpermute0(n, r, p, ary0); /* compute and yield repeated permutations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_ary)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_ary)  &#x21d2; <code>Array</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the contents of <code>self</code> with the contents of <code>other_ary</code>, truncating or expanding if necessary.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_replace'>replace</span>([ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span> ])   <span class='comment'>#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span>                              <span class='comment'>#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3762-L3801'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3762' data-end='3801'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3762</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_replace(VALUE copy, VALUE orig)
{
    rb_ary_modify_check(copy);
    orig = to_ary(orig);
    if (copy == orig) return copy;

    if (RARRAY_LEN(orig) &lt;= RARRAY_EMBED_LEN_MAX) {
        VALUE shared = 0;

        if (ARY_OWNS_HEAP_P(copy)) {
            ary_heap_free(copy);
	}
        else if (ARY_SHARED_P(copy)) {
            shared = ARY_SHARED(copy);
            FL_UNSET_SHARED(copy);
        }
        FL_SET_EMBED(copy);
        ary_memcpy(copy, 0, RARRAY_LEN(orig), RARRAY_CONST_PTR_TRANSIENT(orig));
        if (shared) {
            rb_ary_decrement_share(shared);
        }
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
    }
    else {
        VALUE shared = ary_make_shared(orig);
        if (ARY_OWNS_HEAP_P(copy)) {
            ary_heap_free(copy);
        }
        else {
            rb_ary_unshare_safe(copy);
        }
        FL_UNSET_EMBED(copy);
        ARY_SET_PTR(copy, ARY_HEAP_PTR(orig));
        ARY_SET_LEN(copy, ARY_HEAP_LEN(orig));
        rb_ary_set_shared(copy, shared);
    }
    ary_verify(copy);
    return copy;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse-instance_method">
  <h3 class='signature '>
    #<strong>reverse</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing <code>self</code>‘s elements in reverse order.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_reverse'>reverse</span>   <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span>[ <span class='int'>1</span> ].<span class='id identifier rubyid_reverse'>reverse</span>               <span class='comment'>#=&gt; [1]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2543-L2556'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2543' data-end='2556'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2543</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_reverse_m(VALUE ary)
{
    long len = RARRAY_LEN(ary);
    VALUE dup = rb_ary_new2(len);

    if (len &gt; 0) {
        const VALUE *p1 = RARRAY_CONST_PTR_TRANSIENT(ary);
        VALUE *p2 = (VALUE *)RARRAY_CONST_PTR_TRANSIENT(dup) + len - 1;
	do *p2-- = *p1++; while (--len &gt; 0);
    }
    ARY_SET_LEN(dup, RARRAY_LEN(ary));
    return dup;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse!-instance_method">
  <h3 class='signature '>
    #<strong>reverse!</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reverses <code>self</code> in place.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_reverse!'>reverse!</span>       <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2527-L2531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2527' data-end='2531'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2527</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_reverse_bang(VALUE ary)
{
    return rb_ary_reverse(ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse_each-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reverse_each</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>reverse_each</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but traverses <code>self</code> in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> }</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_c'>c</span> <span class='id identifier rubyid_b'>b</span> <span class='id identifier rubyid_a'>a</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2137-L2153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2137' data-end='2153'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2137</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_reverse_each(VALUE ary)
{
    long len;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    len = RARRAY_LEN(ary);
    while (len--) {
	long nlen;
	rb_yield(RARRAY_AREF(ary, len));
	nlen = RARRAY_LEN(ary);
	if (nlen &lt; len) {
	    len = nlen;
	}
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rindex</strong>(obj)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>rindex</strong> {|item| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>rindex</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <em>index</em> of the last object in <code>self</code> <a href="#==-instance_method" title="Array#== (method)">#==</a> to <code>obj</code>.</p>

<p>If a block is given instead of an argument, returns the <em>index</em> of the first object for which the block returns <code>true</code>, starting from the last object.</p>

<p>Returns <code>nil</code> if no match is found.</p>

<p>See also <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>

<p>If neither block nor argument is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>)             <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>)             <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rindex'>rindex</span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>}   <span class='comment'>#=&gt; 3</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1774-L1802'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1774' data-end='1802'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1774</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_rindex(int argc, VALUE *argv, VALUE ary)
{
    VALUE val;
    long i = RARRAY_LEN(ary), len;

    if (argc == 0) {
	RETURN_ENUMERATOR(ary, 0, 0);
	while (i--) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i))))
		return LONG2NUM(i);
	    if (i &gt; (len = RARRAY_LEN(ary))) {
		i = len;
	    }
	}
	return Qnil;
    }
    rb_check_arity(argc, 0, 1);
    val = argv[0];
    if (rb_block_given_p())
	rb_warn(&quot;given block not used&quot;);
    while (i--) {
	VALUE e = RARRAY_AREF(ary, i);
	if (rb_equal(e, val)) {
	    return LONG2NUM(i);
	}
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rotate-instance_method">
  <h3 class='signature '>
    #<strong>rotate</strong>(count = 1)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array by rotating <code>self</code> so that the element at <a href="#count-instance_method" title="Array#count (method)">#count</a> is the first element of the new array.</p>

<p>If <a href="#count-instance_method" title="Array#count (method)">#count</a> is negative then it rotates in the opposite direction, starting from the end of <code>self</code> where <code>-1</code> is the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate'>rotate</span>         <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate'>rotate</span>(<span class='int'>2</span>)      <span class='comment'>#=&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate'>rotate</span>(<span class='op'>-</span><span class='int'>3</span>)     <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2630-L2649'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2630' data-end='2649'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2630</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_rotate_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE rotated;
    const VALUE *ptr;
    long len;
    long cnt = (rb_check_arity(argc, 0, 1) ? NUM2LONG(argv[0]) : 1);

    len = RARRAY_LEN(ary);
    rotated = rb_ary_new2(len);
    if (len &gt; 0) {
	cnt = rotate_count(cnt, len);
        ptr = RARRAY_CONST_PTR_TRANSIENT(ary);
	len -= cnt;
	ary_memcpy(rotated, 0, len, ptr + cnt);
	ary_memcpy(rotated, len, cnt, ptr);
    }
    ARY_SET_LEN(rotated, RARRAY_LEN(ary));
    return rotated;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rotate!-instance_method">
  <h3 class='signature '>
    #<strong>rotate!</strong>(count = 1)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Rotates <code>self</code> in place so that the element at <a href="#count-instance_method" title="Array#count (method)">#count</a> comes first, and returns <code>self</code>.</p>

<p>If <a href="#count-instance_method" title="Array#count (method)">#count</a> is negative then it rotates in the opposite direction, starting from the end of the array where <code>-1</code> is the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate!'>rotate!</span>        <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate!'>rotate!</span>(<span class='int'>2</span>)     <span class='comment'>#=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_rotate!'>rotate!</span>(<span class='op'>-</span><span class='int'>3</span>)    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2605-L2611'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2605' data-end='2611'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2605</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_rotate_bang(int argc, VALUE *argv, VALUE ary)
{
    long n = (rb_check_arity(argc, 0, 1) ? NUM2LONG(argv[0]) : 1);
    rb_ary_rotate(ary, n);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sample-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sample</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>sample</strong>(random: rng)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>sample</strong>(n)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>sample</strong>(n, random: rng)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Choose a random element or <code>n</code> random elements from the array.</p>

<p>The elements are chosen by using random and unique indices into the array in order to ensure that an element doesn’t repeat itself unless the array already contained duplicate elements.</p>

<p>If the array is empty the first form returns <code>nil</code> and the second form returns an empty array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>10</span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sample'>sample</span>         <span class='comment'>#=&gt; 7
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sample'>sample</span>(<span class='int'>4</span>)      <span class='comment'>#=&gt; [6, 4, 2, 5]</span></code></pre>

<p>The optional <code>rng</code> argument will be used as the random number generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sample'>sample</span>(<span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span>.<span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span>(<span class='int'>1</span>))     <span class='comment'>#=&gt; 6
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sample'>sample</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span>.<span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span>(<span class='int'>1</span>))  <span class='comment'>#=&gt; [6, 10, 9, 2]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5283-L5423'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5283' data-end='5423'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5283</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_sample(int argc, VALUE *argv, VALUE ary)
{
    VALUE nv, result;
    VALUE opts, randgen = rb_cRandom;
    long n, len, i, j, k, idx[10];
    long rnds[numberof(idx)];
    long memo_threshold;

    if (OPTHASH_GIVEN_P(opts)) {
	VALUE rnd;
	ID keyword_ids[1];

	keyword_ids[0] = id_random;
	rb_get_kwargs(opts, keyword_ids, 0, 1, &amp;rnd);
	if (rnd != Qundef) {
	    randgen = rnd;
	}
    }
    len = RARRAY_LEN(ary);
    if (rb_check_arity(argc, 0, 1) == 0) {
	if (len &lt; 2)
	    i = 0;
	else
	    i = RAND_UPTO(len);

	return rb_ary_elt(ary, i);
    }
    nv = argv[0];
    n = NUM2LONG(nv);
    if (n &lt; 0) rb_raise(rb_eArgError, &quot;negative sample number&quot;);
    if (n &gt; len) n = len;
    if (n &lt;= numberof(idx)) {
	for (i = 0; i &lt; n; ++i) {
	    rnds[i] = RAND_UPTO(len - i);
	}
    }
    k = len;
    len = RARRAY_LEN(ary);
    if (len &lt; k &amp;&amp; n &lt;= numberof(idx)) {
	for (i = 0; i &lt; n; ++i) {
	    if (rnds[i] &gt;= len) return rb_ary_new_capa(0);
	}
    }
    if (n &gt; len) n = len;
    switch (n) {
      case 0:
	return rb_ary_new_capa(0);
      case 1:
	i = rnds[0];
	return rb_ary_new_from_values(1, &amp;RARRAY_AREF(ary, i));
      case 2:
	i = rnds[0];
	j = rnds[1];
	if (j &gt;= i) j++;
	return rb_ary_new_from_args(2, RARRAY_AREF(ary, i), RARRAY_AREF(ary, j));
      case 3:
	i = rnds[0];
	j = rnds[1];
	k = rnds[2];
	{
	    long l = j, g = i;
	    if (j &gt;= i) l = i, g = ++j;
	    if (k &gt;= l &amp;&amp; (++k &gt;= g)) ++k;
	}
	return rb_ary_new_from_args(3, RARRAY_AREF(ary, i), RARRAY_AREF(ary, j), RARRAY_AREF(ary, k));
    }
    memo_threshold =
	len &lt; 2560 ? len / 128 :
	len &lt; 5120 ? len / 64 :
	len &lt; 10240 ? len / 32 :
	len / 16;
    if (n &lt;= numberof(idx)) {
	long sorted[numberof(idx)];
	sorted[0] = idx[0] = rnds[0];
	for (i=1; i&lt;n; i++) {
	    k = rnds[i];
	    for (j = 0; j &lt; i; ++j) {
		if (k &lt; sorted[j]) break;
		++k;
	    }
	    memmove(&amp;sorted[j+1], &amp;sorted[j], sizeof(sorted[0])*(i-j));
	    sorted[j] = idx[i] = k;
	}
	result = rb_ary_new_capa(n);
        RARRAY_PTR_USE_TRANSIENT(result, ptr_result, {
	    for (i=0; i&lt;n; i++) {
		ptr_result[i] = RARRAY_AREF(ary, idx[i]);
	    }
	});
    }
    else if (n &lt;= memo_threshold / 2) {
	long max_idx = 0;
#undef RUBY_UNTYPED_DATA_WARNING
#define RUBY_UNTYPED_DATA_WARNING 0
	VALUE vmemo = Data_Wrap_Struct(0, 0, st_free_table, 0);
	st_table *memo = st_init_numtable_with_size(n);
	DATA_PTR(vmemo) = memo;
	result = rb_ary_new_capa(n);
	RARRAY_PTR_USE(result, ptr_result, {
	    for (i=0; i&lt;n; i++) {
		long r = RAND_UPTO(len-i) + i;
		ptr_result[i] = r;
		if (r &gt; max_idx) max_idx = r;
	    }
	    len = RARRAY_LEN(ary);
	    if (len &lt;= max_idx) n = 0;
	    else if (n &gt; len) n = len;
            RARRAY_PTR_USE_TRANSIENT(ary, ptr_ary, {
		for (i=0; i&lt;n; i++) {
		    long j2 = j = ptr_result[i];
		    long i2 = i;
		    st_data_t value;
		    if (st_lookup(memo, (st_data_t)i, &amp;value)) i2 = (long)value;
		    if (st_lookup(memo, (st_data_t)j, &amp;value)) j2 = (long)value;
		    st_insert(memo, (st_data_t)j, (st_data_t)i2);
		    ptr_result[i] = ptr_ary[j2];
		}
	    });
	});
	DATA_PTR(vmemo) = 0;
	st_free_table(memo);
    }
    else {
	result = rb_ary_dup(ary);
	RBASIC_CLEAR_CLASS(result);
	RB_GC_GUARD(ary);
	RARRAY_PTR_USE(result, ptr_result, {
	    for (i=0; i&lt;n; i++) {
		j = RAND_UPTO(len-i) + i;
		nv = ptr_result[j];
		ptr_result[j] = ptr_result[i];
		ptr_result[i] = nv;
	    }
	});
	RBASIC_SET_CLASS_RAW(result, rb_cArray);
    }
    ARY_SET_LEN(result, n);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>filter</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>filter</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter-instance_method" title="Array#filter (method)">#filter</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="select!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>filter!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>filter!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter!-instance_method" title="Array#filter! (method)">#filter!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="shift-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>shift</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>shift</strong>(n)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the first element of <code>self</code> and returns it (shifting all other elements down by one). Returns <code>nil</code> if the array is empty.</p>

<p>If a number <code>n</code> is given, returns an array of the first <code>n</code> elements (or less) just like <code>array.slice!(0, n)</code> does. With <code>ary</code> containing only the remainder elements, not including what was shifted to <code>new_ary</code>. See also <a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>     <span class='comment'>#=&gt; &quot;-m&quot;
</span><span class='id identifier rubyid_args'>args</span>           <span class='comment'>#=&gt; [&quot;-q&quot;, &quot;filename&quot;]
</span>
<span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>(<span class='int'>2</span>)  <span class='comment'>#=&gt; [&quot;-m&quot;, &quot;-q&quot;]
</span><span class='id identifier rubyid_args'>args</span>           <span class='comment'>#=&gt; [&quot;filename&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L1307-L1323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1307' data-end='1323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 1307</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_shift_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;
    long n;

    if (argc == 0) {
	return rb_ary_shift(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    n = RARRAY_LEN(result);
    rb_ary_behead(ary,n);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shuffle-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>shuffle</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>shuffle</strong>(random: rng)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array with elements of <code>self</code> shuffled.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ]           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_shuffle'>shuffle</span>                 <span class='comment'>#=&gt; [2, 3, 1]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [1, 2, 3]</span></code></pre>

<p>The optional <code>rng</code> argument will be used as the random number generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_shuffle'>shuffle</span>(<span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span>.<span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span>(<span class='int'>1</span>))  <span class='comment'>#=&gt; [1, 3, 2]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5247-L5253'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5247' data-end='5253'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5247</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_shuffle(int argc, VALUE *argv, VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_shuffle_bang(argc, argv, ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shuffle!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>shuffle!</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>shuffle!</strong>(random: rng)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shuffles elements in <code>self</code> in place.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> ]           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_shuffle!'>shuffle!</span>                <span class='comment'>#=&gt; [2, 3, 1]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [2, 3, 1]</span></code></pre>

<p>The optional <code>rng</code> argument will be used as the random number generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_shuffle!'>shuffle!</span>(<span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span>.<span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span>(<span class='int'>1</span>))  <span class='comment'>#=&gt; [1, 3, 2]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L5196-L5228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5196' data-end='5228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 5196</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_shuffle_bang(int argc, VALUE *argv, VALUE ary)
{
    VALUE opts, randgen = rb_cRandom;
    long i, len;

    if (OPTHASH_GIVEN_P(opts)) {
	VALUE rnd;
	ID keyword_ids[1];

	keyword_ids[0] = id_random;
	rb_get_kwargs(opts, keyword_ids, 0, 1, &amp;rnd);
	if (rnd != Qundef) {
	    randgen = rnd;
	}
    }
    rb_check_arity(argc, 0, 0);
    rb_ary_modify(ary);
    i = len = RARRAY_LEN(ary);
    RARRAY_PTR_USE(ary, ptr, {
	while (i) {
	    long j = RAND_UPTO(i);
	    VALUE tmp;
            if (len != RARRAY_LEN(ary) || ptr != RARRAY_CONST_PTR_TRANSIENT(ary)) {
                rb_raise(rb_eRuntimeError, &quot;modified during shuffle&quot;);
	    }
	    tmp = ptr[--i];
	    ptr[i] = ptr[j];
	    ptr[j] = tmp;
	}
    }); /* WB: no new reference */
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="Array#length (method)">#length</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <code>Array</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="Array#[] (method)">#[]</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice!</strong>(index)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(start, length)  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(range)  &#x21d2; <code>Array</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes the element(s) given by an <a href="#index-instance_method" title="Array#index (method)">#index</a> (optionally up to <a href="#length-instance_method" title="Array#length (method)">#length</a> elements) or by a <code>range</code>.</p>

<p>Returns the deleted object (or objects), or <code>nil</code> if the <a href="#index-instance_method" title="Array#index (method)">#index</a> is out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>1</span>)     <span class='comment'>#=&gt; &quot;b&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='op'>-</span><span class='int'>1</span>)    <span class='comment'>#=&gt; &quot;c&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>100</span>)   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3434-L3480'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3434' data-end='3480'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3434</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_slice_bang(int argc, VALUE *argv, VALUE ary)
{
    VALUE arg1, arg2;
    long pos, len, orig_len;

    rb_ary_modify_check(ary);
    if (argc == 2) {
	pos = NUM2LONG(argv[0]);
	len = NUM2LONG(argv[1]);
      delete_pos_len:
	if (len &lt; 0) return Qnil;
	orig_len = RARRAY_LEN(ary);
	if (pos &lt; 0) {
	    pos += orig_len;
	    if (pos &lt; 0) return Qnil;
	}
	else if (orig_len &lt; pos) return Qnil;
	if (orig_len &lt; pos + len) {
	    len = orig_len - pos;
	}
	if (len == 0) return rb_ary_new2(0);
        arg2 = rb_ary_new4(len, RARRAY_CONST_PTR_TRANSIENT(ary)+pos);
	RBASIC_SET_CLASS(arg2, rb_obj_class(ary));
	rb_ary_splice(ary, pos, len, 0, 0);
	return arg2;
    }

    rb_check_arity(argc, 1, 2);
    arg1 = argv[0];

    if (!FIXNUM_P(arg1)) {
	switch (rb_range_beg_len(arg1, &amp;pos, &amp;len, RARRAY_LEN(ary), 0)) {
	  case Qtrue:
	    /* valid range */
	    goto delete_pos_len;
	  case Qnil:
	    /* invalid range */
	    return Qnil;
	  default:
	    /* not a range */
	    break;
	}
    }

    return rb_ary_delete_at(ary, NUM2LONG(arg1));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sort</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>sort</strong> {|a, b| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array created by sorting <code>self</code>.</p>

<p>Comparisons for the sort will be done using the <a href="#<=>-instance_method" title="Array#&lt;=&gt; (method)">#&lt;=&gt;</a> operator or using an optional code block.</p>

<p>The block must implement a comparison between <code>a</code> and <code>b</code> and return an integer less than 0 when <code>b</code> follows <code>a</code>, <code>0</code> when <code>a</code> and <code>b</code> are equivalent, or an integer greater than 0 when <code>a</code> follows <code>b</code>.</p>

<p>The result is not guaranteed to be stable.  When the comparison of two elements returns <code>0</code>, the order of the elements is unpredictable.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sort'>sort</span>                     <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sort'>sort</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span>}    <span class='comment'>#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></code></pre>

<p>See also <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">Enumerable#sort_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2817-L2823'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2817' data-end='2823'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2817</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_sort(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_sort_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sort!</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>sort!</strong> {|a, b| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sorts <code>self</code> in place.</p>

<p>Comparisons for the sort will be done using the <a href="#<=>-instance_method" title="Array#&lt;=&gt; (method)">#&lt;=&gt;</a> operator or using an optional code block.</p>

<p>The block must implement a comparison between <code>a</code> and <code>b</code> and return an integer less than 0 when <code>b</code> follows <code>a</code>, <code>0</code> when <code>a</code> and <code>b</code> are equivalent, or an integer greater than 0 when <code>a</code> follows <code>b</code>.</p>

<p>The result is not guaranteed to be stable.  When the comparison of two elements returns <code>0</code>, the order of the elements is unpredictable.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sort!'>sort!</span>                     <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sort!'>sort!</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span>}    <span class='comment'>#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></code></pre>

<p>See also <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">Enumerable#sort_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2733-L2791'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2733' data-end='2791'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2733</span></pre>
<pre class='code cpp'>

VALUE
rb_ary_sort_bang(VALUE ary)
{
    rb_ary_modify(ary);
    assert(!ARY_SHARED_P(ary));
    if (RARRAY_LEN(ary) &gt; 1) {
	VALUE tmp = ary_make_substitution(ary); /* only ary refers tmp */
	struct ary_sort_data data;
	long len = RARRAY_LEN(ary);
	RBASIC_CLEAR_CLASS(tmp);
	data.ary = tmp;
	data.cmp_opt.opt_methods = 0;
	data.cmp_opt.opt_inited = 0;
	RARRAY_PTR_USE(tmp, ptr, {
            ruby_qsort(ptr, len, sizeof(VALUE),
                       rb_block_given_p()?sort_1:sort_2, &amp;data);
	}); /* WB: no new reference */
	rb_ary_modify(ary);
        if (ARY_EMBED_P(tmp)) {
            if (ARY_SHARED_P(ary)) { /* ary might be destructively operated in the given block */
                rb_ary_unshare(ary);
		FL_SET_EMBED(ary);
            }
	    ary_memcpy(ary, 0, ARY_EMBED_LEN(tmp), ARY_EMBED_PTR(tmp));
            ARY_SET_LEN(ary, ARY_EMBED_LEN(tmp));
        }
        else {
            if (!ARY_EMBED_P(ary) &amp;&amp; ARY_HEAP_PTR(ary) == ARY_HEAP_PTR(tmp)) {
                FL_UNSET_SHARED(ary);
                ARY_SET_CAPA(ary, RARRAY_LEN(tmp));
            }
            else {
                assert(!ARY_SHARED_P(tmp));
                if (ARY_EMBED_P(ary)) {
                    FL_UNSET_EMBED(ary);
                }
                else if (ARY_SHARED_P(ary)) {
                    /* ary might be destructively operated in the given block */
                    rb_ary_unshare(ary);
                }
                else {
                    ary_heap_free(ary);
                }
                ARY_SET_PTR(ary, ARY_HEAP_PTR(tmp));
                ARY_SET_HEAP_LEN(ary, len);
                ARY_SET_CAPA(ary, ARY_HEAP_LEN(tmp));
            }
            /* tmp was lost ownership for the ptr */
            FL_UNSET(tmp, FL_FREEZE);
            FL_SET_EMBED(tmp);
            ARY_SET_EMBED_LEN(tmp, 0);
            FL_SET(tmp, FL_FREEZE);
        }
        /* tmp will be GC&#39;ed. */
        RBASIC_SET_CLASS_RAW(tmp, rb_cArray); /* rb_cArray must be marked */
    }
    ary_verify(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort_by!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sort_by!</strong> {|obj| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>sort_by!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sorts <code>self</code> in place using a set of keys generated by mapping the values in <code>self</code> through the given block.</p>

<p>The result is not guaranteed to be stable.  When two keys are equal, the order of the corresponding elements is unpredictable.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>See also <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">Enumerable#sort_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2974-L2984'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2974' data-end='2984'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2974</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_sort_by_bang(VALUE ary)
{
    VALUE sorted;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);
    sorted = rb_block_call(ary, rb_intern(&quot;sort_by&quot;), 0, 0, sort_by_i, 0);
    rb_ary_replace(ary, sorted);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sum-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sum</strong>(init = 0)  &#x21d2; <a href="Numeric.html" title="Numeric (class)">Numeric</a> </span>
      <span class='overload'>#<strong>sum</strong>(init = 0) {|e| ... } &#x21d2; <a href="Numeric.html" title="Numeric (class)">Numeric</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the sum of elements. For example, [e1, e2, e3].sum returns init + e1 + e2 + e3.</p>

<p>If a block is given, the block is applied to each element before addition.</p>

<p>If <em>ary</em> is empty, it returns <em>init</em>.</p>

<pre class="code ruby"><code class="ruby">[].<span class='id identifier rubyid_sum'>sum</span>                             <span class='comment'>#=&gt; 0
</span>[].<span class='id identifier rubyid_sum'>sum</span>(<span class='float'>0.0</span>)                        <span class='comment'>#=&gt; 0.0
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sum'>sum</span>                      <span class='comment'>#=&gt; 6
</span>[<span class='int'>3</span><span class='comma'>,</span> <span class='float'>5.5</span>].<span class='id identifier rubyid_sum'>sum</span>                       <span class='comment'>#=&gt; 8.5
</span>[<span class='float'>2.5</span><span class='comma'>,</span> <span class='float'>3.0</span>].<span class='id identifier rubyid_sum'>sum</span>(<span class='float'>0.0</span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='id identifier rubyid_e'>e</span> }   <span class='comment'>#=&gt; 15.25
</span>[<span class='const'><a href="Object.html" title="Object (class)">Object</a></span>.<span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>].<span class='id identifier rubyid_sum'>sum</span>                   <span class='comment'>#=&gt; TypeError</span></code></pre>

<p>The (arithmetic) mean value of an array can be obtained as follows.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_mean'>mean</span> <span class='op'>=</span> <span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sum'>sum</span>(<span class='float'>0.0</span>) <span class='op'>/</span> <span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Array#length (method)">length</a></span></code></pre>

<p>This method can be used for non-numeric objects by explicit <em>init</em> argument.</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_sum'>sum</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)            <span class='comment'>#=&gt; &quot;abc&quot;
</span>[[<span class='int'>1</span>]<span class='comma'>,</span> [[<span class='int'>2</span>]]<span class='comma'>,</span> [<span class='int'>3</span>]].<span class='id identifier rubyid_sum'>sum</span>([])          <span class='comment'>#=&gt; [1, [2], 3]</span></code></pre>

<p>However, <a href="#join-instance_method" title="Array#join (method)">#join</a> and <a href="#flatten-instance_method" title="Array#flatten (method)">#flatten</a> is faster than <code>sum</code> for array of strings and array of arrays.</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_join'><a href="#join-instance_method" title="Array#join (method)">join</a></span>               <span class='comment'>#=&gt; &quot;abc&quot;
</span>[[<span class='int'>1</span>]<span class='comma'>,</span> [[<span class='int'>2</span>]]<span class='comma'>,</span> [<span class='int'>3</span>]].<span class='id identifier rubyid_flatten'><a href="#flatten-instance_method" title="Array#flatten (method)">flatten</a></span>(<span class='int'>1</span>)       <span class='comment'>#=&gt; [1, [2], 3]</span></code></pre>

<p><code>sum</code> method may not respect method redefinition of “+” methods such as <a href="Integer.html#%2B-instance_method" title="Integer#+ (method)">Integer#+</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6424-L6532'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6424' data-end='6532'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6424</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_sum(int argc, VALUE *argv, VALUE ary)
{
    VALUE e, v, r;
    long i, n;
    int block_given;

    v = (rb_check_arity(argc, 0, 1) ? argv[0] : LONG2FIX(0));

    block_given = rb_block_given_p();

    if (RARRAY_LEN(ary) == 0)
        return v;

    n = 0;
    r = Qundef;
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        e = RARRAY_AREF(ary, i);
        if (block_given)
            e = rb_yield(e);
        if (FIXNUM_P(e)) {
            n += FIX2LONG(e); /* should not overflow long type */
            if (!FIXABLE(n)) {
                v = rb_big_plus(LONG2NUM(n), v);
                n = 0;
            }
        }
        else if (RB_TYPE_P(e, T_BIGNUM))
            v = rb_big_plus(e, v);
        else if (RB_TYPE_P(e, T_RATIONAL)) {
            if (r == Qundef)
                r = e;
            else
                r = rb_rational_plus(r, e);
        }
        else
            goto not_exact;
    }
    v = finish_exact_sum(n, r, v, argc!=0);
    return v;

  not_exact:
    v = finish_exact_sum(n, r, v, i!=0);

    if (RB_FLOAT_TYPE_P(e)) {
        /*
         * Kahan-Babuska balancing compensated summation algorithm
         * See http://link.springer.com/article/10.1007/s00607-005-0139-x
         */
        double f, c;

        f = NUM2DBL(v);
        c = 0.0;
        goto has_float_value;
        for (; i &lt; RARRAY_LEN(ary); i++) {
            double x, t;
            e = RARRAY_AREF(ary, i);
            if (block_given)
                e = rb_yield(e);
            if (RB_FLOAT_TYPE_P(e))
              has_float_value:
                x = RFLOAT_VALUE(e);
            else if (FIXNUM_P(e))
                x = FIX2LONG(e);
            else if (RB_TYPE_P(e, T_BIGNUM))
                x = rb_big2dbl(e);
            else if (RB_TYPE_P(e, T_RATIONAL))
                x = rb_num2dbl(e);
            else
                goto not_float;

            if (isnan(f)) continue;
            if (isnan(x)) {
                f = x;
                continue;
            }
            if (isinf(x)) {
                if (isinf(f) &amp;&amp; signbit(x) != signbit(f))
                    f = NAN;
                else
                    f = x;
                continue;
            }
            if (isinf(f)) continue;

            t = f + x;
            if (fabs(f) &gt;= fabs(x))
                c += ((f - t) + x);
            else
                c += ((x - t) + f);
            f = t;
        }
        f += c;
        return DBL2NUM(f);

      not_float:
        v = DBL2NUM(f);
    }

    goto has_some_value;
    for (; i &lt; RARRAY_LEN(ary); i++) {
        e = RARRAY_AREF(ary, i);
        if (block_given)
            e = rb_yield(e);
      has_some_value:
        v = rb_funcall(v, idPLUS, 1, e);
    }
    return v;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take-instance_method">
  <h3 class='signature '>
    #<strong>take</strong>(n)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns first <code>n</code> elements from the array.</p>

<p>If a negative number is given, raises an <a href="ArgumentError.html" title="ArgumentError (class)"><code>::ArgumentError</code></a>.</p>

<p>See also <a href="#drop-instance_method" title="Array#drop (method)">#drop</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_take'>take</span>(<span class='int'>3</span>)             <span class='comment'>#=&gt; [1, 2, 3]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6083-L6091'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6083' data-end='6091'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6083</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_take(VALUE obj, VALUE n)
{
    long len = NUM2LONG(n);
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }
    return rb_ary_subseq(obj, 0, len);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take_while-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>take_while</strong> {|obj| ... } &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>take_while</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes elements to the block until the block returns <code>nil</code> or <code>false</code>, then stops iterating and returns an array of all prior elements.</p>

<p>If no block is given, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned instead.</p>

<p>See also <a href="#drop_while-instance_method" title="Array#drop_while (method)">#drop_while</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_take_while'>take_while</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span>}    <span class='comment'>#=&gt; [1, 2]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L6110-L6120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6110' data-end='6120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 6110</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_take_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (!RTEST(rb_yield(RARRAY_AREF(ary, i)))) break;
    }
    return rb_ary_take(ary, LONG2FIX(i));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

<p>If called on a subclass of <code>Array</code>, converts the receiver to an <code>Array</code> object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2424-L2433'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2424' data-end='2433'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2424</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_to_a(VALUE ary)
{
    if (rb_obj_class(ary) != rb_cArray) {
	VALUE dup = rb_ary_new2(RARRAY_LEN(ary));
	rb_ary_replace(dup, ary);
	return dup;
    }
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_ary-instance_method">
  <h3 class='signature '>
    #<strong>to_ary</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2484-L2488'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2484' data-end='2488'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2484</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_to_ary_m(VALUE ary)
{
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_h-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_h</strong>  &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a> </span>
      <span class='overload'>#<strong>to_h</strong>  &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting <em>ary</em> as an array of <code>[key, value]</code> pairs.</p>

<pre class="code ruby"><code class="ruby">[[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>]<span class='comma'>,</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]].<span class='id identifier rubyid_to_h'>to_h</span>
  <span class='comment'># =&gt; {:foo =&gt; :bar, 1 =&gt; 2}</span></code></pre>

<p>If a block is given, the results of the block on each element of the array will be used as pairs.</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_h'>to_h</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> [<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_ord'>ord</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>]}
  <span class='comment'># =&gt; {102=&gt;&quot;foo&quot;, 98=&gt;&quot;bar&quot;}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2453-L2475'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2453' data-end='2475'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2453</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_to_h(VALUE ary)
{
    long i;
    VALUE hash = rb_hash_new_with_size(RARRAY_LEN(ary));
    int block_given = rb_block_given_p();

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	const VALUE e = rb_ary_elt(ary, i);
	const VALUE elt = block_given ? rb_yield_force_blockarg(e) : e;
	const VALUE key_value_pair = rb_check_array_type(elt);
	if (NIL_P(key_value_pair)) {
	    rb_raise(rb_eTypeError, &quot;wrong element type %&quot;PRIsVALUE&quot; at %ld (expected array)&quot;,
		     rb_obj_class(elt), i);
	}
	if (RARRAY_LEN(key_value_pair) != 2) {
	    rb_raise(rb_eArgError, &quot;wrong array length at %ld (expected 2, was %ld)&quot;,
		i, RARRAY_LEN(key_value_pair));
	}
	rb_hash_aset(hash, RARRAY_AREF(key_value_pair, 0), RARRAY_AREF(key_value_pair, 1));
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>inspect</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#inspect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a string representation of <code>self</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_to_s'>to_s</span>     <span class='comment'>#=&gt; &quot;[\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;]&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L2402-L2407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2402' data-end='2407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 2402</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_inspect(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0) return rb_usascii_str_new2(&quot;[]&quot;);
    return rb_exec_recursive(inspect_ary, ary, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transpose-instance_method">
  <h3 class='signature '>
    #<strong>transpose</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Assumes that <code>self</code> is an array of arrays and transposes the rows and columns.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [[<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>]<span class='comma'>,</span> [<span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span>]<span class='comma'>,</span> [<span class='int'>5</span><span class='comma'>,</span><span class='int'>6</span>]]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_transpose'>transpose</span>   <span class='comment'>#=&gt; [[1, 3, 5], [2, 4, 6]]</span></code></pre>

<p>If the length of the subarrays don’t match, an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3721-L3747'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3721' data-end='3747'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3721</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_transpose(VALUE ary)
{
    long elen = -1, alen, i, j;
    VALUE tmp, result = 0;

    alen = RARRAY_LEN(ary);
    if (alen == 0) return rb_ary_dup(ary);
    for (i=0; i&lt;alen; i++) {
	tmp = to_ary(rb_ary_elt(ary, i));
	if (elen &lt; 0) {		/* first element */
	    elen = RARRAY_LEN(tmp);
	    result = rb_ary_new2(elen);
	    for (j=0; j&lt;elen; j++) {
		rb_ary_store(result, j, rb_ary_new2(alen));
	    }
	}
	else if (elen != RARRAY_LEN(tmp)) {
	    rb_raise(rb_eIndexError, &quot;element size differs (%ld should be %ld)&quot;,
		     RARRAY_LEN(tmp), elen);
	}
	for (j=0; j&lt;elen; j++) {
	    rb_ary_store(rb_ary_elt(result, j), i, rb_ary_elt(tmp, j));
	}
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="union-instance_method">
  <h3 class='signature '>
    #<strong>union</strong>(other_ary1, other_ary2, ...)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set Union — Returns a new array by joining <code>other_ary</code>s with <code>self</code>, excluding any duplicates and preserving the order from the given arrays.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_union'>union</span>( [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ] )    <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_union'>union</span>( [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>] )    <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;e&quot;, &quot;b&quot;, &quot;c&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_union'>union</span> <span class='comment'>#=&gt; [ &quot;a&quot; ]</span></code></pre>

<p>See also <a href="#%7C-instance_method" title="Array#| (method)">#|</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4687-L4715'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4687' data-end='4715'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4687</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_union_multi(int argc, VALUE *argv, VALUE ary)
{
    int i;
    long sum;
    VALUE hash, ary_union;

    sum = RARRAY_LEN(ary);
    for (i = 0; i &lt; argc; i++){
        argv[i] = to_ary(argv[i]);
        sum += RARRAY_LEN(argv[i]);
    }

    if (sum &lt;= SMALL_ARRAY_LEN) {
        ary_union = rb_ary_new();

        rb_ary_union(ary_union, ary);
        for (i = 0; i &lt; argc; i++) rb_ary_union(ary_union, argv[i]);

        return ary_union;
    }

    hash = ary_make_hash(ary);
    for (i = 0; i &lt; argc; i++) rb_ary_union_hash(hash, argv[i]);

    ary_union = rb_hash_values(hash);
    ary_recycle_hash(hash);
    return ary_union;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uniq-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>uniq</strong>  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>uniq</strong> {|item| ... } &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array by removing duplicate values in <code>self</code>.</p>

<p>If a block is given, it will use the return value of the block for comparison.</p>

<p>It compares values using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<p><code>self</code> is traversed in order, and the first occurrence is kept.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_uniq'>uniq</span>   <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sam</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>george</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teacher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&quot;</span></span>]]
<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_uniq'>uniq</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Array#first (method)">first</a></span>}   <span class='comment'># =&gt; [[&quot;student&quot;, &quot;sam&quot;], [&quot;teacher&quot;, &quot;matz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4909-L4928'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4909' data-end='4928'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4909</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_uniq(VALUE ary)
{
    VALUE hash, uniq;

    if (RARRAY_LEN(ary) &lt;= 1)
        return rb_ary_dup(ary);
    if (rb_block_given_p()) {
	hash = ary_make_hash_by(ary);
	uniq = rb_hash_values(hash);
    }
    else {
	hash = ary_make_hash(ary);
	uniq = rb_hash_values(hash);
    }
    RBASIC_SET_CLASS(uniq, rb_obj_class(ary));
    ary_recycle_hash(hash);

    return uniq;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uniq!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>uniq!</strong>  &#x21d2; <code>Array</code><sup>?</sup> </span>
      <span class='overload'>#<strong>uniq!</strong> {|item| ... } &#x21d2; <code>Array</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes duplicate elements from <code>self</code>.</p>

<p>If a block is given, it will use the return value of the block for comparison.</p>

<p>It compares values using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<p><code>self</code> is traversed in order, and the first occurrence is kept.</p>

<p>Returns <code>nil</code> if no changes are made (that is, no duplicates are found).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_uniq!'>uniq!</span>   <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]
<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_uniq!'>uniq!</span>   <span class='comment'># =&gt; nil
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sam</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>george</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teacher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&quot;</span></span>]]
<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_uniq!'>uniq!</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Array#first (method)">first</a></span>}   <span class='comment'># =&gt; [[&quot;student&quot;, &quot;sam&quot;], [&quot;teacher&quot;, &quot;matz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4857-L4886'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4857' data-end='4886'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4857</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_uniq_bang(VALUE ary)
{
    VALUE hash;
    long hash_size;

    rb_ary_modify_check(ary);
    if (RARRAY_LEN(ary) &lt;= 1)
        return Qnil;
    if (rb_block_given_p())
	hash = ary_make_hash_by(ary);
    else
	hash = ary_make_hash(ary);

    hash_size = RHASH_SIZE(hash);
    if (RARRAY_LEN(ary) == hash_size) {
	return Qnil;
    }
    rb_ary_modify_check(ary);
    ARY_SET_LEN(ary, 0);
    if (ARY_SHARED_P(ary) &amp;&amp; !ARY_EMBED_P(ary)) {
	rb_ary_unshare(ary);
	FL_SET_EMBED(ary);
    }
    ary_resize_capa(ary, hash_size);
    rb_hash_foreach(hash, push_value, ary);
    ary_recycle_hash(hash);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unshift-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>unshift</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>prepend</strong>(obj, ...)  &#x21d2; <code>Array</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#prepend-instance_method" title="Array#prepend (method)">#prepend</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="values_at-instance_method">
  <h3 class='signature '>
    #<strong>values_at</strong>(selector, ...)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array containing the elements in <code>self</code> corresponding to the given <code>selector</code>(s).</p>

<p>The selectors may be either integer indices or ranges.</p>

<p>See also <a href="#select-instance_method" title="Array#select (method)">#select</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w{</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> </span><span class='tstring_end'>}</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span>)          <span class='comment'># =&gt; [&quot;b&quot;, &quot;d&quot;, &quot;f&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>7</span>)       <span class='comment'># =&gt; [&quot;b&quot;, &quot;d&quot;, &quot;f&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>7</span>)   <span class='comment'># =&gt; [&quot;f&quot;, &quot;e&quot;, &quot;e&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>4</span><span class='op'>..</span><span class='int'>6</span><span class='comma'>,</span> <span class='int'>3</span><span class='op'>...</span><span class='int'>6</span>)      <span class='comment'># =&gt; [&quot;e&quot;, &quot;f&quot;, nil, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3129-L3139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3129' data-end='3139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3129</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_values_at(int argc, VALUE *argv, VALUE ary)
{
    long i, olen = RARRAY_LEN(ary);
    VALUE result = rb_ary_new_capa(argc);
    for (i = 0; i &lt; argc; ++i) {
	append_values_at_single(result, ary, olen, argv[i]);
    }
    RB_GC_GUARD(ary);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="zip-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>zip</strong>(arg, ...)  &#x21d2; <code>Array</code> </span>
      <span class='overload'>#<strong>zip</strong>(arg, ...) {|arr| ... } &#x21d2; <code>nil</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts any arguments to arrays, then merges elements of <code>self</code> with corresponding elements from each argument.</p>

<p>This generates a sequence of <code>ary.size</code> <em>n</em>-element arrays, where <em>n</em> is one more than the count of arguments.</p>

<p>If the size of any argument is less than the size of the initial array, <code>nil</code> values are supplied.</p>

<p>If a block is given, it is invoked for each output <code>array</code>, otherwise an array of arrays is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [ <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span> ]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [ <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span> ]
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)   <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)      <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_zip'>zip</span>([<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]<span class='comma'>,</span> [<span class='int'>8</span>])    <span class='comment'>#=&gt; [[4, 1, 8], [5, 2, nil], [6, nil, nil]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L3650-L3706'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3650' data-end='3706'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 3650</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_zip(int argc, VALUE *argv, VALUE ary)
{
    int i, j;
    long len = RARRAY_LEN(ary);
    VALUE result = Qnil;

    for (i=0; i&lt;argc; i++) {
	argv[i] = take_items(argv[i], len);
    }

    if (rb_block_given_p()) {
	int arity = rb_block_arity();

	if (arity &gt; 1) {
	    VALUE work, *tmp;

	    tmp = ALLOCV_N(VALUE, work, argc+1);

	    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
		tmp[0] = RARRAY_AREF(ary, i);
		for (j=0; j&lt;argc; j++) {
		    tmp[j+1] = rb_ary_elt(argv[j], i);
		}
		rb_yield_values2(argc+1, tmp);
	    }

	    if (work) ALLOCV_END(work);
	}
	else {
	    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
		VALUE tmp = rb_ary_new2(argc+1);

		rb_ary_push(tmp, RARRAY_AREF(ary, i));
		for (j=0; j&lt;argc; j++) {
		    rb_ary_push(tmp, rb_ary_elt(argv[j], i));
		}
		rb_yield(tmp);
	    }
	}
    }
    else {
	result = rb_ary_new_capa(len);

	for (i=0; i&lt;len; i++) {
	    VALUE tmp = rb_ary_new_capa(argc+1);

	    rb_ary_push(tmp, RARRAY_AREF(ary, i));
	    for (j=0; j&lt;argc; j++) {
		rb_ary_push(tmp, rb_ary_elt(argv[j], i));
	    }
	    rb_ary_push(result, tmp);
	}
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="|-instance_method">
  <h3 class='signature '>
    #<strong>|</strong>(other_ary)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set Union — Returns a new array by joining <code>ary</code> with <code>other_ary</code>, excluding any duplicates and preserving the order from the given arrays.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<pre class="code ruby"><code class="ruby">[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ] <span class='op'>|</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ]    <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span>[ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> ] <span class='op'>|</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> ]    <span class='comment'>#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot; ]</span></code></pre>

<p>See also <a href="#union-instance_method" title="Array#union (method)">#union</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/array.c#L4650-L4669'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4650' data-end='4669'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'array.c', line 4650</span></pre>
<pre class='code cpp'>

static VALUE
rb_ary_or(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3;

    ary2 = to_ary(ary2);
    if (RARRAY_LEN(ary1) + RARRAY_LEN(ary2) &lt;= SMALL_ARRAY_LEN) {
	ary3 = rb_ary_new();
        rb_ary_union(ary3, ary1);
        rb_ary_union(ary3, ary2);
	return ary3;
    }

    hash = ary_make_hash(ary1);
    rb_ary_union_hash(hash, ary2);

    ary3 = rb_hash_values(hash);
    ary_recycle_hash(hash);
    return ary3;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>