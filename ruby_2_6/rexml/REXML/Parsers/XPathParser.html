<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: REXML::Parsers::XPathParser &mdash; rexml  Ruby-2.6.10 p210</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "REXML::Parsers::XPathParser",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-2.6.10</a> &raquo; 
      <a href='../../'>rexml</a> &raquo; 
      <a href='../../_index.html#alpha_X'>Index (X)</a> &raquo; 
        <a href="../../REXML.html" title="REXML (module)">REXML</a> &raquo; 
        <a href="../Parsers.html" title="REXML::Parsers (module)">Parsers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>XPathParser&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: REXML::Parsers::XPathParser</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../XMLTokens.html" title="REXML::XMLTokens (module)"><code>::REXML::XMLTokens</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L11'>lib/rexml/parsers/xpathparser.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>You don’t want to use this class.  Really.  Use XPath, which is a wrapper for this class.  Believe me.  You don’t want to poke around in here. There is strange, dark magic at work in this code.  Beware.  Go back!  Go back while you still can!</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='AXIS-constant' class='summary_signature'>AXIS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">#RelativeLocationPath</a></p>

<pre class="code ruby"><code class="ruby">|                                                    Step
  | (AXIS_NAME &#39;::&#39; | &#39;@&#39; | &#39;&#39;)                     AxisSpecifier
    NodeTest
      Predicate
  | &#39;.&#39; | &#39;..&#39;                                      AbbreviatedStep
|  RelativeLocationPath &#39;/&#39; Step
| RelativeLocationPath &#39;//&#39; Step</code></pre>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L210-L210'># File 'lib/rexml/parsers/xpathparser.rb', line 210</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(ancestor|ancestor-or-self|attribute|child|descendant|descendant-or-self|following|following-sibling|namespace|parent|preceding|preceding-sibling|self)::</span><span class='regexp_end'>/</span></span></pre>
  </li>
  <li>
    <span id='LITERAL-constant' class='summary_signature'>LITERAL =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L13-L13'># File 'lib/rexml/parsers/xpathparser.rb', line 13</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^&#39;([^&#39;]*)&#39;|^&quot;([^&quot;]*)&quot;</span><span class='regexp_end'>/u</span></span></pre>
  </li>
  <li>
    <span id='LOCAL_NAME_WILDCARD-constant' class='summary_signature'>LOCAL_NAME_WILDCARD =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L279-L279'># File 'lib/rexml/parsers/xpathparser.rb', line 279</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../XMLTokens.html#NCNAME_STR-constant" title="REXML::XMLTokens::NCNAME_STR (constant)">NCNAME_STR</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>):\*</span><span class='regexp_end'>/u</span></span></pre>
  </li>
  <li>
    <span id='NODE_TYPE-constant' class='summary_signature'>NODE_TYPE =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L281-L281'># File 'lib/rexml/parsers/xpathparser.rb', line 281</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(comment|text|node)\(\s*\)</span><span class='regexp_end'>/m</span></span></pre>
  </li>
  <li>
    <span id='NT-constant' class='summary_signature'>NT =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L561-L561'># File 'lib/rexml/parsers/xpathparser.rb', line 561</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^comment|text|processing-instruction|node$</span><span class='regexp_end'>/</span></span></pre>
  </li>
  <li>
    <span id='NUMBER-constant' class='summary_signature'>NUMBER =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L560-L560'># File 'lib/rexml/parsers/xpathparser.rb', line 560</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\d*\.?\d+)</span><span class='regexp_end'>/</span></span></pre>
  </li>
  <li>
    <span id='PI-constant' class='summary_signature'>PI =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L282-L282'># File 'lib/rexml/parsers/xpathparser.rb', line 282</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^processing-instruction\(</span><span class='regexp_end'>/</span></span></pre>
  </li>
  <li>
    <span id='PREFIX_WILDCARD-constant' class='summary_signature'>PREFIX_WILDCARD =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 1-1 map of the nodeset The contents of the resulting array are either:</p>

<pre class="code ruby"><code class="ruby">true/false, if a positive match
String, if a name match</code></pre>

<p><a href="#NodeTest-instance_method" title="REXML::Parsers::XPathParser#NodeTest (method)">#NodeTest</a></p>

<pre class="code ruby"><code class="ruby">| (&#39;*&#39; | NCNAME &#39;:&#39; &#39;*&#39; | QNAME)                NameTest
| &#39;*&#39; &#39;:&#39; NCNAME                                NameTest since XPath 2.0
| NODE_TYPE &#39;(&#39; &#39;)&#39;                             NodeType
| PI &#39;(&#39; LITERAL &#39;)&#39;                            PI
  | &#39;[&#39; expr &#39;]&#39;                                Predicate</code></pre>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L278-L278'># File 'lib/rexml/parsers/xpathparser.rb', line 278</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\*:(</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../XMLTokens.html#NCNAME_STR-constant" title="REXML::XMLTokens::NCNAME_STR (constant)">NCNAME_STR</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='regexp_end'>/u</span></span></pre>
  </li>
  <li>
    <span id='QNAME-constant' class='summary_signature'>QNAME =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L280-L280'># File 'lib/rexml/parsers/xpathparser.rb', line 280</a>    <pre class='code ruby'><span class='const'><a href="../Namespace.html" title="REXML::Namespace (module)">Namespace</a></span><span class='op'>::</span><span class='const'><a href="../Namespace.html#NAMESPLIT-constant" title="REXML::Namespace::NAMESPLIT (constant)">NAMESPLIT</a></span></pre>
  </li>
  <li>
    <span id='VARIABLE_REFERENCE-constant' class='summary_signature'>VARIABLE_REFERENCE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>| <code>VARIABLE_REFERENCE</code> | ‘(’ expr ‘)’ | <a href="#LITERAL-constant" title="REXML::Parsers::XPathParser::LITERAL (constant)">LITERAL</a> | <a href="#NUMBER-constant" title="REXML::Parsers::XPathParser::NUMBER (constant)">NUMBER</a> | <a href="#FunctionCall-instance_method" title="REXML::Parsers::XPathParser#FunctionCall (method)">#FunctionCall</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L559-L559'># File 'lib/rexml/parsers/xpathparser.rb', line 559</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\$(</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../XMLTokens.html#NAME_STR-constant" title="REXML::XMLTokens::NAME_STR (constant)">NAME_STR</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='regexp_end'>/u</span></span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../XMLTokens.html" title="REXML::XMLTokens (module)"><code>::REXML::XMLTokens</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="../XMLTokens.html#NAME-constant" title="REXML::XMLTokens::NAME (constant)">NAME</a>, 
    <a href="../XMLTokens.html#NAMECHAR-constant" title="REXML::XMLTokens::NAMECHAR (constant)">NAMECHAR</a>, 
    <a href="../XMLTokens.html#NAME_CHAR-constant" title="REXML::XMLTokens::NAME_CHAR (constant)">NAME_CHAR</a>, 
    <a href="../XMLTokens.html#NAME_START_CHAR-constant" title="REXML::XMLTokens::NAME_START_CHAR (constant)">NAME_START_CHAR</a>, 
    <a href="../XMLTokens.html#NAME_STR-constant" title="REXML::XMLTokens::NAME_STR (constant)">NAME_STR</a>, 
    <a href="../XMLTokens.html#NCNAME_STR-constant" title="REXML::XMLTokens::NCNAME_STR (constant)">NCNAME_STR</a>, 
    <a href="../XMLTokens.html#NMTOKEN-constant" title="REXML::XMLTokens::NMTOKEN (constant)">NMTOKEN</a>, 
    <a href="../XMLTokens.html#NMTOKENS-constant" title="REXML::XMLTokens::NMTOKENS (constant)">NMTOKENS</a>, 
    <a href="../XMLTokens.html#REFERENCE-constant" title="REXML::XMLTokens::REFERENCE (constant)">REFERENCE</a>
  </p>
</div>

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature wo'>
      <a href="#namespaces=-instance_method" title="#namespaces= (instance method)">#<strong>namespaces=</strong>(namespaces)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#abbreviate-instance_method" title="#abbreviate (instance method)">#<strong>abbreviate</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expand-instance_method" title="#expand (instance method)">#<strong>expand</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#predicate-instance_method" title="#predicate (instance method)">#<strong>predicate</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#predicate_to_string-instance_method" title="#predicate_to_string (instance method)">#<strong>predicate_to_string</strong>(path, &amp;block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#AdditiveExpr-instance_method" title="#AdditiveExpr (instance method)"><strong>AdditiveExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">#AdditiveExpr</a> (‘+’ | ‘-’) <a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">#MultiplicativeExpr</a> | <a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">#MultiplicativeExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#AndExpr-instance_method" title="#AndExpr (instance method)"><strong>AndExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#AndExpr-instance_method" title="REXML::Parsers::XPathParser#AndExpr (method)">#AndExpr</a> S ‘and’ S EqualityExpr | <a href="#EqualityExpr-instance_method" title="REXML::Parsers::XPathParser#EqualityExpr (method)">#EqualityExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#EqualityExpr-instance_method" title="#EqualityExpr (instance method)"><strong>EqualityExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#EqualityExpr-instance_method" title="REXML::Parsers::XPathParser#EqualityExpr (method)">#EqualityExpr</a> (‘=’ | ‘!=’)  <a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">#RelationalExpr</a> | <a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">#RelationalExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#FilterExpr-instance_method" title="#FilterExpr (instance method)"><strong>FilterExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#FilterExpr-instance_method" title="REXML::Parsers::XPathParser#FilterExpr (method)">#FilterExpr</a> Predicate | <a href="#PrimaryExpr-instance_method" title="REXML::Parsers::XPathParser#PrimaryExpr (method)">#PrimaryExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#FunctionCall-instance_method" title="#FunctionCall (instance method)"><strong>FunctionCall</strong>(rest, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| FUNCTION_NAME ‘(’ ( expr ( ‘,’ expr )* )? ‘)’.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_group-instance_method" title="#get_group (instance method)">#<strong>get_group</strong>(string)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>get_group( ‘[foo]bar’ ) -&gt; [‘bar’, ‘[foo]’].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#LocationPath-instance_method" title="#LocationPath (instance method)"><strong>LocationPath</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="#LocationPath-instance_method" title="REXML::Parsers::XPathParser#LocationPath (method)">#LocationPath</a>  | <a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">#RelativeLocationPath</a>  | ‘/’ RelativeLocationPath?  | ‘//’ <a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">#RelativeLocationPath</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#MultiplicativeExpr-instance_method" title="#MultiplicativeExpr (instance method)"><strong>MultiplicativeExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">#MultiplicativeExpr</a> (‘*’ | S (‘div’ | ‘mod’) S) <a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">#UnaryExpr</a> | <a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">#UnaryExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#NodeTest-instance_method" title="#NodeTest (instance method)"><strong>NodeTest</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#OrExpr-instance_method" title="#OrExpr (instance method)"><strong>OrExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#OrExpr-instance_method" title="REXML::Parsers::XPathParser#OrExpr (method)">#OrExpr</a> S ‘or’ S AndExpr | <a href="#AndExpr-instance_method" title="REXML::Parsers::XPathParser#AndExpr (method)">#AndExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_args-instance_method" title="#parse_args (instance method)">#<strong>parse_args</strong>(string)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#PathExpr-instance_method" title="#PathExpr (instance method)"><strong>PathExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#LocationPath-instance_method" title="REXML::Parsers::XPathParser#LocationPath (method)">#LocationPath</a> | <a href="#FilterExpr-instance_method" title="REXML::Parsers::XPathParser#FilterExpr (method)">#FilterExpr</a> (‘/’ | ‘//’) <a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">#RelativeLocationPath</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#Predicate-instance_method" title="#Predicate (instance method)"><strong>Predicate</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Filters the supplied nodeset on the predicate(s).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#PrimaryExpr-instance_method" title="#PrimaryExpr (instance method)"><strong>PrimaryExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#RelationalExpr-instance_method" title="#RelationalExpr (instance method)"><strong>RelationalExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">#RelationalExpr</a> (‘&lt;’ | ‘&gt;’ | ‘&lt;=’ | ‘&gt;=’) <a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">#AdditiveExpr</a> | <a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">#AdditiveExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#RelativeLocationPath-instance_method" title="#RelativeLocationPath (instance method)"><strong>RelativeLocationPath</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#UnaryExpr-instance_method" title="#UnaryExpr (instance method)"><strong>UnaryExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| ‘-’ <a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">#UnaryExpr</a> | <a href="#UnionExpr-instance_method" title="REXML::Parsers::XPathParser#UnionExpr (method)">#UnionExpr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#UnionExpr-instance_method" title="#UnionExpr (instance method)"><strong>UnionExpr</strong>(path, parsed)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>| <a href="#UnionExpr-instance_method" title="REXML::Parsers::XPathParser#UnionExpr (method)">#UnionExpr</a> ‘|’ <a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">#PathExpr</a> | <a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">#PathExpr</a>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="namespaces=-instance_method">
  <h3 class='signature wo first'>
    #<strong>namespaces=</strong>(namespaces)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L15-L18'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='18'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_namespaces='>namespaces=</span>( <span class='id identifier rubyid_namespaces'>namespaces</span> )
  <span class='const'><a href="../Functions.html" title="REXML::Functions (module)">Functions</a></span><span class='op'>::</span><span class='id identifier rubyid_namespace_context'><a href="../Functions.html#namespace_context-class_method" title="REXML::Functions.namespace_context (method)">namespace_context</a></span> <span class='op'>=</span> <span class='id identifier rubyid_namespaces'>namespaces</span>
  <span class='ivar'>@namespaces</span> <span class='op'>=</span> <span class='id identifier rubyid_namespaces'>namespaces</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="abbreviate-instance_method">
  <h3 class='signature  first'>
    #<strong>abbreviate</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L35-L91'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='35' data-end='91'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 35</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_abbreviate'>abbreviate</span>( <span class='id identifier rubyid_path'>path</span> )
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>String</span>) <span class='op'>?</span> <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="REXML::Parsers::XPathParser#parse (method)">parse</a></span>( <span class='id identifier rubyid_path'>path</span> ) <span class='op'>:</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_op'>op</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute'>attribute</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_child'>child</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant_or_self'>descendant_or_self</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>self</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>..</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_any'>any</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text()</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_following'>following</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_following_sibling'>following_sibling</span><span class='comma'>,</span>
          <span class='symbeg'>:</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ancestor_or_self'>ancestor_or_self</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant'>descendant</span><span class='comma'>,</span>
          <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preceding'>preceding</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preceding_sibling'>preceding_sibling</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_qname'>qname</span>
      <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_predicate'><a href="#predicate-instance_method" title="REXML::Parsers::XPathParser#predicate (method)">predicate</a></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_predicate_to_string'><a href="#predicate_to_string-instance_method" title="REXML::Parsers::XPathParser#predicate_to_string (method)">predicate_to_string</a></span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span> ) {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_abbreviate'>abbreviate</span>( <span class='id identifier rubyid_x'>x</span> ) }
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>]</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_document'>document</span>
      <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_function'>function</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>( </span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_predicate_to_string'><a href="#predicate_to_string-instance_method" title="REXML::Parsers::XPathParser#predicate_to_string (method)">predicate_to_string</a></span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>[<span class='int'>0</span>] ) {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_abbreviate'>abbreviate</span>( <span class='id identifier rubyid_x'>x</span> )}
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> )</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_literal'>literal</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'> &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>}</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNKNOWN(</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_inspect'>inspect</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='id identifier rubyid_string'>string</span> <span class='kw'>if</span> <span class='id identifier rubyid_document'>document</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="AdditiveExpr-instance_method">
  <h3 class='signature priv'>
    <strong>AdditiveExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>AdditiveExpr</code> (‘+’ | ‘-’) <a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">#MultiplicativeExpr</a> | <a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">#MultiplicativeExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L443-L462'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='443' data-end='462'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 443</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>AdditiveExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">MultiplicativeExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*(\+|-)\s*</span><span class='regexp_end'>/</span></span>
      <span class='kw'>if</span> <span class='backref'>$1</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?+</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_plus'>plus</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_minus'>minus</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>end</span>
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#MultiplicativeExpr-instance_method" title="REXML::Parsers::XPathParser#MultiplicativeExpr (method)">MultiplicativeExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="AndExpr-instance_method">
  <h3 class='signature priv'>
    <strong>AndExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>AndExpr</code> S ‘and’ S EqualityExpr | <a href="#EqualityExpr-instance_method" title="REXML::Parsers::XPathParser#EqualityExpr (method)">#EqualityExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L376-L391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='376' data-end='391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 376</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>AndExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#EqualityExpr-instance_method" title="REXML::Parsers::XPathParser#EqualityExpr (method)">EqualityExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*( and )</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='kw'>and</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#EqualityExpr-instance_method" title="REXML::Parsers::XPathParser#EqualityExpr (method)">EqualityExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="EqualityExpr-instance_method">
  <h3 class='signature priv'>
    <strong>EqualityExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>EqualityExpr</code> (‘=’ | ‘!=’)  <a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">#RelationalExpr</a> | <a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">#RelationalExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L395-L414'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='395' data-end='414'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 395</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>EqualityExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">RelationalExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*(!?=)\s*</span><span class='regexp_end'>/</span></span>
      <span class='kw'>if</span> <span class='backref'>$1</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?!</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_neq'>neq</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_eq'>eq</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>end</span>
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#RelationalExpr-instance_method" title="REXML::Parsers::XPathParser#RelationalExpr (method)">RelationalExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expand-instance_method">
  <h3 class='signature '>
    #<strong>expand</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L93-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='93' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expand'>expand</span>( <span class='id identifier rubyid_path'>path</span> )
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>String</span>) <span class='op'>?</span> <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="REXML::Parsers::XPathParser#parse (method)">parse</a></span>( <span class='id identifier rubyid_path'>path</span> ) <span class='op'>:</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_op'>op</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>node()</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute'>attribute</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_following'>following</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_following_sibling'>following_sibling</span><span class='comma'>,</span>
          <span class='symbeg'>:</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ancestor_or_self'>ancestor_or_self</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant'>descendant</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant_or_self'>descendant_or_self</span><span class='comma'>,</span>
          <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preceding'>preceding</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preceding_sibling'>preceding_sibling</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>self</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_any'>any</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_qname'>qname</span>
      <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_predicate'><a href="#predicate-instance_method" title="REXML::Parsers::XPathParser#predicate (method)">predicate</a></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_predicate_to_string'><a href="#predicate_to_string-instance_method" title="REXML::Parsers::XPathParser#predicate_to_string (method)">predicate_to_string</a></span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span> ) { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_expand'>expand</span>(<span class='id identifier rubyid_x'>x</span>) }
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>]</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_document'>document</span>
      <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNKNOWN(</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_inspect'>inspect</span>
      <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='id identifier rubyid_string'>string</span> <span class='kw'>if</span> <span class='id identifier rubyid_document'>document</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="FilterExpr-instance_method">
  <h3 class='signature priv'>
    <strong>FilterExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>FilterExpr</code> Predicate | <a href="#PrimaryExpr-instance_method" title="REXML::Parsers::XPathParser#PrimaryExpr (method)">#PrimaryExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L546-L552'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='546' data-end='552'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 546</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>FilterExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#PrimaryExpr-instance_method" title="REXML::Parsers::XPathParser#PrimaryExpr (method)">PrimaryExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#Predicate-instance_method" title="REXML::Parsers::XPathParser#Predicate (method)">Predicate</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>)
  <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="FunctionCall-instance_method">
  <h3 class='signature priv'>
    <strong>FunctionCall</strong>(rest, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| FUNCTION_NAME ‘(’ ( expr ( ‘,’ expr )* )? ‘)’</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L599-L609'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='599' data-end='609'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 599</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>FunctionCall</span> <span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_args'><a href="#parse_args-instance_method" title="REXML::Parsers::XPathParser#parse_args (method)">parse_args</a></span>(<span class='id identifier rubyid_rest'>rest</span>)
  <span class='id identifier rubyid_argset'>argset</span> <span class='op'>=</span> []
  <span class='kw'>for</span> <span class='id identifier rubyid_argument'>argument</span> <span class='kw'>in</span> <span class='id identifier rubyid_arguments'>arguments</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []
    <span class='const'><a href="#OrExpr-instance_method" title="REXML::Parsers::XPathParser#OrExpr (method)">OrExpr</a></span>( <span class='id identifier rubyid_argument'>argument</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> )
    <span class='id identifier rubyid_argset'>argset</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_argset'>argset</span>
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_group-instance_method">
  <h3 class='signature priv'>
    #<strong>get_group</strong>(string)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>get_group( ‘[foo]bar’ ) -&gt; [‘bar’, ‘[foo]’]</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L612-L628'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='612' data-end='628'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 612</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_group'>get_group</span> <span class='id identifier rubyid_string'>string</span>
  <span class='id identifier rubyid_ind'>ind</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_depth'>depth</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_st'>st</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span>]
  <span class='id identifier rubyid_en'>en</span> <span class='op'>=</span> (<span class='id identifier rubyid_st'>st</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>begin</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span><span class='comma'>,</span><span class='int'>1</span>]
    <span class='kw'>when</span> <span class='id identifier rubyid_st'>st</span>
      <span class='id identifier rubyid_depth'>depth</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_en'>en</span>
      <span class='id identifier rubyid_depth'>depth</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_ind'>ind</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span> <span class='kw'>while</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_ind'>ind</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_depth'>depth</span><span class='op'>==</span><span class='int'>0</span>
  [<span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_ind'>ind</span><span class='op'>-</span><span class='int'>1</span>]]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="LocationPath-instance_method">
  <h3 class='signature priv'>
    <strong>LocationPath</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>LocationPath</code></p>

<pre class="code ruby"><code class="ruby">| RelativeLocationPath
| &#39;/&#39; RelativeLocationPath?
| &#39;//&#39; RelativeLocationPath</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L187-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='187' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 187</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>LocationPath</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?/</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_document'>document</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span>] <span class='op'>==</span> <span class='CHAR'>?/</span>
      <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant_or_self'>descendant_or_self</span>
      <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='const'><a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">RelativeLocationPath</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span> ) <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="MultiplicativeExpr-instance_method">
  <h3 class='signature priv'>
    <strong>MultiplicativeExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>MultiplicativeExpr</code> (‘*’ | S (‘div’ | ‘mod’) S) <a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">#UnaryExpr</a> | <a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">#UnaryExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L466-L487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='466' data-end='487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 466</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>MultiplicativeExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">UnaryExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*(\*| div | mod )\s*</span><span class='regexp_end'>/</span></span>
      <span class='kw'>if</span> <span class='backref'>$1</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?*</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_mult'>mult</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>elsif</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_include?'>include?</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span> )
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_div'>div</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='kw'>end</span>
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#UnaryExpr-instance_method" title="REXML::Parsers::XPathParser#UnaryExpr (method)">UnaryExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="NodeTest-instance_method">
  <h3 class='signature priv'>
    <strong>NodeTest</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L283-L330'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='283' data-end='330'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 283</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>NodeTest</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_original_path'>original_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>when</span> <span class='const'><a href="#PREFIX_WILDCARD-constant" title="REXML::Parsers::XPathParser::PREFIX_WILDCARD (constant)">PREFIX_WILDCARD</a></span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_qname'>qname</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prefix'>prefix</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\*</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_any'>any</span>
  <span class='kw'>when</span> <span class='const'><a href="#NODE_TYPE-constant" title="REXML::Parsers::XPathParser::NODE_TYPE (constant)">NODE_TYPE</a></span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_intern'>intern</span>
  <span class='kw'>when</span> <span class='const'><a href="#PI-constant" title="REXML::Parsers::XPathParser::PI (constant)">PI</a></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_literal'>literal</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*\)</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='const'><a href="#LITERAL-constant" title="REXML::Parsers::XPathParser::LITERAL (constant)">LITERAL</a></span>
      <span class='id identifier rubyid_literal'>literal</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../ParseException.html" title="REXML::ParseException (class)">ParseException</a></span>.<span class='id identifier rubyid_new'><a href="../ParseException.html#new-class_method" title="REXML::ParseException.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing &#39;)&#39; after processing instruction</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>!=</span> <span class='CHAR'>?)</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>end</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_processing_instruction'>processing_instruction</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_literal'>literal</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>when</span> <span class='const'><a href="#LOCAL_NAME_WILDCARD-constant" title="REXML::Parsers::XPathParser::LOCAL_NAME_WILDCARD (constant)">LOCAL_NAME_WILDCARD</a></span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prefix'>prefix</span>
  <span class='kw'>when</span> <span class='const'><a href="#QNAME-constant" title="REXML::Parsers::XPathParser::QNAME (constant)">QNAME</a></span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$2</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_prefix'>prefix</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_qname'>qname</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prefix'>prefix</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_original_path'>original_path</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="OrExpr-instance_method">
  <h3 class='signature priv'>
    <strong>OrExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>OrExpr</code> S ‘or’ S AndExpr | <a href="#AndExpr-instance_method" title="REXML::Parsers::XPathParser#AndExpr (method)">#AndExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L357-L372'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='357' data-end='372'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 357</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>OrExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#AndExpr-instance_method" title="REXML::Parsers::XPathParser#AndExpr (method)">AndExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*( or )</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='kw'>or</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#AndExpr-instance_method" title="REXML::Parsers::XPathParser#AndExpr (method)">AndExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse-instance_method">
  <h3 class='signature '>
    #<strong>parse</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L20-L27'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='20' data-end='27'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 20</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([\(\[])\s+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># Strip ignorable spaces
</span>  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>( <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+([\]\)])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>=</span> []
  <span class='const'><a href="#OrExpr-instance_method" title="REXML::Parsers::XPathParser#OrExpr (method)">OrExpr</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>)
  <span class='id identifier rubyid_parsed'>parsed</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_args-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_args</strong>(string)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L630-L672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='630' data-end='672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 630</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_args'>parse_args</span>( <span class='id identifier rubyid_string'>string</span> )
  <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_ind'>ind</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_inquot'>inquot</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_inapos'>inapos</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_depth'>depth</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='kw'>begin</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span>]
    <span class='kw'>when</span> <span class='CHAR'>?&quot;</span>
      <span class='id identifier rubyid_inquot'>inquot</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_inquot'>inquot</span> <span class='kw'>unless</span> <span class='id identifier rubyid_inapos'>inapos</span>
    <span class='kw'>when</span> <span class='CHAR'>?&#39;</span>
      <span class='id identifier rubyid_inapos'>inapos</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_inapos'>inapos</span> <span class='kw'>unless</span> <span class='id identifier rubyid_inquot'>inquot</span>
    <span class='kw'>else</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_inquot'>inquot</span> <span class='kw'>or</span> <span class='id identifier rubyid_inapos'>inapos</span>
        <span class='kw'>case</span> <span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span>]
        <span class='kw'>when</span> <span class='CHAR'>?(</span>
          <span class='id identifier rubyid_depth'>depth</span> <span class='op'>+=</span> <span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>==</span> <span class='int'>1</span>
            <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
            <span class='id identifier rubyid_ind'>ind</span> <span class='op'>-=</span> <span class='int'>1</span>
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='CHAR'>?)</span>
          <span class='id identifier rubyid_depth'>depth</span> <span class='op'>-=</span> <span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>==</span> <span class='int'>0</span>
            <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_ind'>ind</span>].<span class='id identifier rubyid_strip'>strip</span>
            <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_s'>s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span><span class='op'>+</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='CHAR'>?,</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>==</span> <span class='int'>1</span>
            <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_ind'>ind</span>].<span class='id identifier rubyid_strip'>strip</span>
            <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_s'>s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>[<span class='id identifier rubyid_ind'>ind</span><span class='op'>+</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
            <span class='id identifier rubyid_ind'>ind</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_ind'>ind</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span> <span class='kw'>while</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_ind'>ind</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_depth'>depth</span><span class='op'>==</span><span class='int'>0</span>
  [<span class='id identifier rubyid_string'>string</span><span class='comma'>,</span><span class='id identifier rubyid_arguments'>arguments</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="PathExpr-instance_method">
  <h3 class='signature priv'>
    <strong>PathExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <a href="#LocationPath-instance_method" title="REXML::Parsers::XPathParser#LocationPath (method)">#LocationPath</a> | <a href="#FilterExpr-instance_method" title="REXML::Parsers::XPathParser#FilterExpr (method)">#FilterExpr</a> (‘/’ | ‘//’) <a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">#RelativeLocationPath</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L528-L542'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='528' data-end='542'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 528</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>PathExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#FilterExpr-instance_method" title="REXML::Parsers::XPathParser#FilterExpr (method)">FilterExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='kw'>and</span> <span class='id identifier rubyid_rest'>rest</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?/</span>
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#RelativeLocationPath-instance_method" title="REXML::Parsers::XPathParser#RelativeLocationPath (method)">RelativeLocationPath</a></span>(<span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>)
      <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_n'>n</span>)
      <span class='kw'>return</span> <span class='id identifier rubyid_rest'>rest</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#LocationPath-instance_method" title="REXML::Parsers::XPathParser#LocationPath (method)">LocationPath</a></span>(<span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>) <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[\/\.\@\[\w*]</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="Predicate-instance_method">
  <h3 class='signature priv'>
    <strong>Predicate</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Filters the supplied nodeset on the predicate(s)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L333-L349'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='333' data-end='349'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 333</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Predicate</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_original_path'>original_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_original_path'>original_path</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?[</span>
  <span class='id identifier rubyid_predicates'>predicates</span> <span class='op'>=</span> []
  <span class='kw'>while</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?[</span>
    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='id identifier rubyid_get_group'><a href="#get_group-instance_method" title="REXML::Parsers::XPathParser#get_group (method)">get_group</a></span>(<span class='id identifier rubyid_path'>path</span>)
    <span class='id identifier rubyid_predicates'>predicates</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_expr'>expr</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>] <span class='kw'>if</span> <span class='id identifier rubyid_expr'>expr</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_predicates'>predicates</span>.<span class='id identifier rubyid_each'>each</span>{ <span class='op'>|</span><span class='id identifier rubyid_pred'>pred</span><span class='op'>|</span>
    <span class='id identifier rubyid_preds'>preds</span> <span class='op'>=</span> []
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_predicate'><a href="#predicate-instance_method" title="REXML::Parsers::XPathParser#predicate (method)">predicate</a></span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_preds'>preds</span>
    <span class='const'><a href="#OrExpr-instance_method" title="REXML::Parsers::XPathParser#OrExpr (method)">OrExpr</a></span>(<span class='id identifier rubyid_pred'>pred</span><span class='comma'>,</span> <span class='id identifier rubyid_preds'>preds</span>)
  }
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="predicate-instance_method">
  <h3 class='signature '>
    #<strong>predicate</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L29-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_predicate'>predicate</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>=</span> []
  <span class='const'><a href="#Predicate-instance_method" title="REXML::Parsers::XPathParser#Predicate (method)">Predicate</a></span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span> )
  <span class='id identifier rubyid_parsed'>parsed</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="predicate_to_string-instance_method">
  <h3 class='signature '>
    #<strong>predicate_to_string</strong>(path, &amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L132-L180'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='132' data-end='180'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_predicate_to_string'>predicate_to_string</span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span> )
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>and</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>or</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mult'>mult</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_plus'>plus</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_minus'>minus</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_neq'>neq</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eq'>eq</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lt'>lt</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gt'>gt</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lteq'>lteq</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gteq'>gteq</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_div'>div</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_union'>union</span>
    <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_op'>op</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eq'>eq</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lt'>lt</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gt'>gt</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lteq'>lteq</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;=</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gteq'>gteq</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;=</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_neq'>neq</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!=</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_union'>union</span>
      <span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_predicate_to_string'>predicate_to_string</span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span> )
    <span class='id identifier rubyid_right'>right</span> <span class='op'>=</span> <span class='id identifier rubyid_predicate_to_string'>predicate_to_string</span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span> )
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_left'>left</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_right'>right</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_function'>function</span>
    <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>( </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_predicate_to_string'>predicate_to_string</span>( <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span> )
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> )</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_literal'>literal</span>
    <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_shift'>shift</span>.<span class='id identifier rubyid_inspect'>inspect</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='kw'>yield</span>( <span class='id identifier rubyid_path'>path</span> )
    <span class='id identifier rubyid_string'>string</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="PrimaryExpr-instance_method">
  <h3 class='signature priv'>
    <strong>PrimaryExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L562-L596'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='562' data-end='596'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 562</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>PrimaryExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>when</span> <span class='const'><a href="#VARIABLE_REFERENCE-constant" title="REXML::Parsers::XPathParser::VARIABLE_REFERENCE (constant)">VARIABLE_REFERENCE</a></span>
    <span class='id identifier rubyid_varname'>varname</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_variable'>variable</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_varname'>varname</span>
    <span class='comment'>#arry &lt;&lt; @variables[ varname ]
</span>  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\w[-\w]*)(?:\()</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_fname'>fname</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='id identifier rubyid_fname'>fname</span> <span class='op'>=~</span> <span class='const'><a href="#NT-constant" title="REXML::Parsers::XPathParser::NT (constant)">NT</a></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp'>tmp</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_function'>function</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_fname'>fname</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#FunctionCall-instance_method" title="REXML::Parsers::XPathParser#FunctionCall (method)">FunctionCall</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>)
  <span class='kw'>when</span> <span class='const'><a href="#NUMBER-constant" title="REXML::Parsers::XPathParser::NUMBER (constant)">NUMBER</a></span>
    <span class='id identifier rubyid_varname'>varname</span> <span class='op'>=</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='backref'>$2</span> <span class='op'>:</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_literal'>literal</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_varname'>varname</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>?</span> <span class='id identifier rubyid_varname'>varname</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>:</span> <span class='id identifier rubyid_varname'>varname</span>.<span class='id identifier rubyid_to_i'>to_i</span>)
  <span class='kw'>when</span> <span class='const'><a href="#LITERAL-constant" title="REXML::Parsers::XPathParser::LITERAL (constant)">LITERAL</a></span>
    <span class='id identifier rubyid_varname'>varname</span> <span class='op'>=</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='backref'>$2</span> <span class='op'>:</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_literal'>literal</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_varname'>varname</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\(</span><span class='regexp_end'>/</span></span>                                               <span class='comment'>#/
</span>    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_get_group'><a href="#get_group-instance_method" title="REXML::Parsers::XPathParser#get_group (method)">get_group</a></span>(<span class='id identifier rubyid_path'>path</span>)
    <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_contents'>contents</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]
    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
    <span class='const'><a href="#OrExpr-instance_method" title="REXML::Parsers::XPathParser#OrExpr (method)">OrExpr</a></span>( <span class='id identifier rubyid_contents'>contents</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="RelationalExpr-instance_method">
  <h3 class='signature priv'>
    <strong>RelationalExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>RelationalExpr</code> (‘&lt;’ | ‘&gt;’ | ‘&lt;=’ | ‘&gt;=’) <a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">#AdditiveExpr</a> | <a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">#AdditiveExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L418-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>RelationalExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">AdditiveExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*([&lt;&gt;]=?)\s*</span><span class='regexp_end'>/</span></span>
      <span class='kw'>if</span> <span class='backref'>$1</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?&lt;</span>
        <span class='id identifier rubyid_sym'>sym</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lt</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_sym'>sym</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gt</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sym'>sym</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>eq</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='backref'>$1</span>[<span class='op'>-</span><span class='int'>1</span>] <span class='op'>==</span> <span class='CHAR'>?=</span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='id identifier rubyid_sym'>sym</span>.<span class='id identifier rubyid_intern'>intern</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#AdditiveExpr-instance_method" title="REXML::Parsers::XPathParser#AdditiveExpr (method)">AdditiveExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_n'>n</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="RelativeLocationPath-instance_method">
  <h3 class='signature priv'>
    <strong>RelativeLocationPath</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L211-L266'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='211' data-end='266'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 211</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>RelativeLocationPath</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_original_path'>original_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_original_path'>original_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_empty?'>empty?</span>

    <span class='comment'># (axis or @ or &lt;child::&gt;) nodetest predicate  &gt;
</span>    <span class='comment'># OR                                          &gt;  / Step
</span>    <span class='comment'># (. or ..)                                    &gt;
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?.</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span>] <span class='op'>==</span> <span class='CHAR'>?.</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='kw'>self</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='CHAR'>?@</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute'>attribute</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
        <span class='comment'># Goto Nodetest
</span>      <span class='kw'>elsif</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='const'><a href="#AXIS-constant" title="REXML::Parsers::XPathParser::AXIS (constant)">AXIS</a></span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_intern'>intern</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
        <span class='comment'># Goto Nodetest
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_child'>child</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#NodeTest-instance_method" title="REXML::Parsers::XPathParser#NodeTest (method)">NodeTest</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>)

      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#Predicate-instance_method" title="REXML::Parsers::XPathParser#Predicate (method)">Predicate</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )

      <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_n'>n</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_original_path'>original_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_original_path'>original_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_original_path'>original_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>0</span>] <span class='op'>!=</span> <span class='CHAR'>?/</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span>] <span class='op'>==</span> <span class='CHAR'>?/</span>
      <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_descendant_or_self'>descendant_or_self</span>
      <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="UnaryExpr-instance_method">
  <h3 class='signature priv'>
    <strong>UnaryExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| ‘-’ <code>UnaryExpr</code> | <a href="#UnionExpr-instance_method" title="REXML::Parsers::XPathParser#UnionExpr (method)">#UnionExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L491-L505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='491' data-end='505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 491</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>UnaryExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\-*)</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
  <span class='kw'>if</span> <span class='backref'>$1</span> <span class='kw'>and</span> ((<span class='backref'>$1</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>%</span> <span class='int'>2</span>) <span class='op'>!=</span> <span class='int'>0</span>)
    <span class='id identifier rubyid_mult'>mult</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_mult'>mult</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_neg'>neg</span> <span class='kw'>if</span> <span class='id identifier rubyid_mult'>mult</span> <span class='op'>&lt;</span> <span class='int'>0</span>

  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="#UnionExpr-instance_method" title="REXML::Parsers::XPathParser#UnionExpr (method)">UnionExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_concat'>concat</span>( <span class='id identifier rubyid_n'>n</span> )
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="UnionExpr-instance_method">
  <h3 class='signature priv'>
    <strong>UnionExpr</strong>(path, parsed)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>| <code>UnionExpr</code> ‘|’ <a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">#PathExpr</a> | <a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">#PathExpr</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rexml/parsers/xpathparser.rb#L509-L524'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='509' data-end='524'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/parsers/xpathparser.rb', line 509</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>UnionExpr</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_parsed'>parsed</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">PathExpr</a></span>( <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>!=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*(\|)\s*</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_union'>union</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> [] ]
      <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='const'><a href="#PathExpr-instance_method" title="REXML::Parsers::XPathParser#PathExpr (method)">PathExpr</a></span>( <span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>[<span class='op'>-</span><span class='int'>1</span>] )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span>.<span class='id identifier rubyid_replace'>replace</span>( <span class='id identifier rubyid_n'>n</span> )
  <span class='kw'>elsif</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_parsed'>parsed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>