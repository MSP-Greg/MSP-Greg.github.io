<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::Installer &mdash; rubygems  Ruby-2.6.10 p210</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Gem::Installer",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-2.6.10</a> &raquo; 
      <a href='../'>rubygems</a> &raquo; 
      <a href='../_index.html#alpha_I'>Index (I)</a> &raquo; 
        <a href="../Gem.html" title="Gem (module)">Gem</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Installer&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Gem::Installer</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Installer/FakePackage.html" title="Gem::Installer::FakePackage (class)"><code>FakePackage</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Deprecate.html" title="Gem::Deprecate (module)"><code>Deprecate</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="UserInteraction.html" title="Gem::UserInteraction (module)"><code>UserInteraction</code></a>,
          <a href="DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>DefaultUserInteraction</code></a>,
          <a href="Text.html" title="Gem::Text (module)"><code>Text</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L29'>lib/rubygems/installer.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L5'>lib/rubygems/installer_test_case.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The installer installs the files contained in the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> into the <code>Gem.home</code>.</p>

<p><code>Installer</code> does the work of putting files in all the right places on the filesystem including unpacking the gem into its gem dir, installing the gemspec in the specifications dir, storing the cached gem in the cache dir, and installing either wrappers or symlinks for executables.</p>

<p>The installer invokes pre and post install hooks.  Hooks can be added either through a rubygems_plugin.rb file in an installed gem or via a rubygems/defaults/#<code>RUBY_ENGINE</code>.rb or rubygems/defaults/operating_system.rb file.  See <a href="../Gem.html#pre_install-class_method" title="Gem.pre_install (method)">pre_install</a> and <a href="../Gem.html#post_install-class_method" title="Gem.post_install (method)">post_install</a> for details.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ENV_PATHS-constant' class='summary_signature'>ENV_PATHS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Paths where env(1) might live.  Some systems are broken and have it in /bin</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L37-L37'># File 'lib/rubygems/installer.rb', line 37</a>    <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>/usr/bin/env</span><span class='words_sep'> </span><span class='tstring_content'>/bin/env</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='ExtensionBuildError-constant' class='summary_signature nodoc'>ExtensionBuildError =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Deprecated in favor of <a href="Ext/BuildError.html" title="Gem::Ext::BuildError (class)"><code>Ext::BuildError</code></a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L42-L42'># File 'lib/rubygems/installer.rb', line 42</a>    <pre class='code ruby'><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/BuildError.html" title="Gem::Ext::BuildError (class)">BuildError</a></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#exec_format-class_method" title=".exec_format (class method)">.<strong>exec_format</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Defaults to use Ruby’s program prefix and suffix.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#exec_format=-class_method" title=".exec_format= (class method)">.<strong>exec_format=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Overrides the executable format.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#install_lock-class_method" title=".install_lock (class method)">.<strong>install_lock</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Certain aspects of the install process are not thread-safe.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#path_warning-class_method" title=".path_warning (class method)">.<strong>path_warning</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>True if we’ve warned about PATH not including <a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#at-class_method" title=".at (class method)">.<strong>at</strong>(path, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Construct an installer object for the gem file located at <a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#for_spec-class_method" title=".for_spec (class method)">.<strong>for_spec</strong>(spec, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Construct an installer object for an ephemeral gem (one where we don’t actually have a <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file, just a spec).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(package, options = {})  &#x21d2; Installer </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs an <code>Installer</code> instance that will install the gem at <code>package</code> which can either be a path or an instance of <a href="Package.html" title="Gem::Package (class)"><code>Package</code></a>.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Deprecate.html" title="Gem::Deprecate (module)"><code>Deprecate</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="Deprecate.html#deprecate-instance_method" title="Gem::Deprecate#deprecate (method)">deprecate</a></td>
      <td><div class='inline'><p>Simple deprecation method that deprecates <code>name</code> by wrapping it up in a dummy method.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="Deprecate.html#skip_during-instance_method" title="Gem::Deprecate#skip_during (method)">skip_during</a></td>
      <td><div class='inline'><p>Temporarily turn off warnings.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#bin_dir-instance_method" title="#bin_dir (instance method)">#<strong>bin_dir</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The directory a gem’s executables will be installed into.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#bin_dir=-instance_method" title="#bin_dir= (instance method)">#<strong>bin_dir=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#build_args=-instance_method" title="#build_args= (instance method)">#<strong>build_args=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#env_shebang=-instance_method" title="#env_shebang= (instance method)">#<strong>env_shebang=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#force=-instance_method" title="#force= (instance method)">#<strong>force=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#format=-instance_method" title="#format= (instance method)">#<strong>format=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#format_executable=-instance_method" title="#format_executable= (instance method)">#<strong>format_executable=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#gem-instance_method" title="#gem (instance method)">#<strong>gem</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Filename of the gem being installed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gem_dir-instance_method" title="#gem_dir (instance method)">#<strong>gem_dir</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Lazy accessor for the spec’s gem directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gem_dir=-instance_method" title="#gem_dir= (instance method)">#<strong>gem_dir=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gem_home-instance_method" title="#gem_home (instance method)">#<strong>gem_home</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The gem repository the gem will be installed into.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gem_home=-instance_method" title="#gem_home= (instance method)">#<strong>gem_home=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#ignore_dependencies=-instance_method" title="#ignore_dependencies= (instance method)">#<strong>ignore_dependencies=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The options passed when the <code>Installer</code> was instantiated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#security_policy=-instance_method" title="#security_policy= (instance method)">#<strong>security_policy=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#wrappers=-instance_method" title="#wrappers= (instance method)">#<strong>wrappers=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Available through requiring rubygems/installer_test_case.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#build_root-instance_method" title="#build_root (instance method)">#<strong>build_root</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>DefaultUserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="DefaultUserInteraction.html#ui-instance_method" title="Gem::DefaultUserInteraction#ui (method)">#ui</a></td>
      <td><div class='inline'><p>See <a href="DefaultUserInteraction.html#ui-class_method" title="Gem::DefaultUserInteraction.ui (method)">DefaultUserInteraction.ui</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="DefaultUserInteraction.html#ui=-instance_method" title="Gem::DefaultUserInteraction#ui= (method)">#ui=</a></td>
      <td><div class='inline'><p>See <a href="DefaultUserInteraction.html#ui=-class_method" title="Gem::DefaultUserInteraction.ui= (method)">DefaultUserInteraction.ui=</a></p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#app_script_text-instance_method" title="#app_script_text (instance method)">#<strong>app_script_text</strong>(bin_file_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the text for an application file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#build_extensions-instance_method" title="#build_extensions (instance method)">#<strong>build_extensions</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Builds extensions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_spec_file-instance_method" title="#default_spec_file (instance method)">#<strong>default_spec_file</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The location of the default spec file for default gems.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dir-instance_method" title="#dir (instance method)">#<strong>dir</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the target directory where the gem is to be installed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ensure_dependency-instance_method" title="#ensure_dependency (instance method)">#<strong>ensure_dependency</strong>(spec, dependency)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Ensure that the dependency is satisfied by the current installation of gem.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ensure_loadable_spec-instance_method" title="#ensure_loadable_spec (instance method)">#<strong>ensure_loadable_spec</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Ensures the <a href="Specification.html" title="Gem::Specification (class)"><code>Specification</code></a> written out for this gem is loadable upon installation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extract_bin-instance_method" title="#extract_bin (instance method)">#<strong>extract_bin</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts only the bin/ files from the gem into the gem directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extract_files-instance_method" title="#extract_files (instance method)">#<strong>extract_files</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reads the file index and extracts each file into the gem directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#formatted_program_filename-instance_method" title="#formatted_program_filename (instance method)">#<strong>formatted_program_filename</strong>(filename)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prefix and suffix the program filename the same as ruby.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_bin_script-instance_method" title="#generate_bin_script (instance method)">#<strong>generate_bin_script</strong>(filename, bindir)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates the scripts to run the applications in the gem.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_bin_symlink-instance_method" title="#generate_bin_symlink (instance method)">#<strong>generate_bin_symlink</strong>(filename, bindir)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates the symlinks to run the applications in the gem.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_windows_script-instance_method" title="#generate_windows_script (instance method)">#<strong>generate_windows_script</strong>(filename, bindir)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates windows <code>.bat</code> files for easy running of commands.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#install-instance_method" title="#install (instance method)">#<strong>install</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Installs the gem and returns a loaded <a href="Specification.html" title="Gem::Specification (class)"><code>Specification</code></a> for the installed gem.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#installation_satisfies_dependency%3F-instance_method" title="#installation_satisfies_dependency? (instance method)">#<strong>installation_satisfies_dependency?</strong>(dependency)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>True if the gems in the system satisfy <code>dependency</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#installed_specs-instance_method" title="#installed_specs (instance method)">#<strong>installed_specs</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return an Array of Specifications contained within the gem_home we’ll be installing into.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pre_install_checks-instance_method" title="#pre_install_checks (instance method)">#<strong>pre_install_checks</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs various checks before installing the gem such as the install repository is writable and its directories exist, required Ruby and rubygems versions are met and that dependencies are installed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shebang-instance_method" title="#shebang (instance method)">#<strong>shebang</strong>(bin_file_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates a <code>#!</code> line for <code>bin_file_name</code>‘s wrapper copying arguments if necessary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#spec-instance_method" title="#spec (instance method)">#<strong>spec</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Lazy accessor for the installer’s spec.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#spec_file-instance_method" title="#spec_file (instance method)">#<strong>spec_file</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The location of the spec file that is installed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack-instance_method" title="#unpack (instance method)">#<strong>unpack</strong>(directory)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Unpacks the gem into the given directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#verify_spec-instance_method" title="#verify_spec (instance method)">#<strong>verify_spec</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#windows_stub_script-instance_method" title="#windows_stub_script (instance method)">#<strong>windows_stub_script</strong>(bindir, bin_file_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>return the stub script text used to launch the true Ruby script.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_build_info_file-instance_method" title="#write_build_info_file (instance method)">#<strong>write_build_info_file</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Writes the file containing the arguments for building this gem’s extensions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_cache_file-instance_method" title="#write_cache_file (instance method)">#<strong>write_cache_file</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Writes the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file to the cache directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_default_spec-instance_method" title="#write_default_spec (instance method)">#<strong>write_default_spec</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Writes the full <code>.gemspec</code> specification (in Ruby) to the gem home’s specifications/default directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_spec-instance_method" title="#write_spec (instance method)">#<strong>write_spec</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Writes the <code>.gemspec</code> specification (in Ruby) to the gem home’s specifications directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#check_executable_overwrite-instance_method" title="#check_executable_overwrite (instance method)">#<strong>check_executable_overwrite</strong>(filename)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if <code>filename</code> exists in <tt>@bin_dir</tt>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#check_that_user_bin_dir_is_in_path-instance_method" title="#check_that_user_bin_dir_is_in_path (instance method)">#<strong>check_that_user_bin_dir_is_in_path</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#ensure_dependencies_met-instance_method" title="#ensure_dependencies_met (instance method)">#<strong>ensure_dependencies_met</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#ensure_required_ruby_version_met-instance_method" title="#ensure_required_ruby_version_met (instance method)">#<strong>ensure_required_ruby_version_met</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#ensure_required_rubygems_version_met-instance_method" title="#ensure_required_rubygems_version_met (instance method)">#<strong>ensure_required_rubygems_version_met</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#extension_build_error-instance_method" title="#extension_build_error (instance method)">#<strong>extension_build_error</strong>(build_dir, output, backtrace = nil)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Logs the build <code>output</code> in <code>build_dir</code>, then raises <a href="Ext/BuildError.html" title="Gem::Ext::BuildError (class)"><code>Ext::BuildError</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#generate_bin-instance_method" title="#generate_bin (instance method)">#<strong>generate_bin</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#process_options-instance_method" title="#process_options (instance method)">#<strong>process_options</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_post_build_hooks-instance_method" title="#run_post_build_hooks (instance method)">#<strong>run_post_build_hooks</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_post_install_hooks-instance_method" title="#run_post_install_hooks (instance method)">#<strong>run_post_install_hooks</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_pre_install_hooks-instance_method" title="#run_pre_install_hooks (instance method)">#<strong>run_pre_install_hooks</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#verify_gem_home-instance_method" title="#verify_gem_home (instance method)">#<strong>verify_gem_home</strong>(unpack = false)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="UserInteraction.html" title="Gem::UserInteraction (module)"><code>UserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#alert-instance_method" title="Gem::UserInteraction#alert (method)">#alert</a></td>
      <td><div class='inline'><p>Displays an alert <code>statement</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#alert_error-instance_method" title="Gem::UserInteraction#alert_error (method)">#alert_error</a></td>
      <td><div class='inline'><p>Displays an error <code>statement</code> to the error output location.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#alert_warning-instance_method" title="Gem::UserInteraction#alert_warning (method)">#alert_warning</a></td>
      <td><div class='inline'><p>Displays a warning <code>statement</code> to the warning output location.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#ask-instance_method" title="Gem::UserInteraction#ask (method)">#ask</a></td>
      <td><div class='inline'><p>Asks a <code>question</code> and returns the answer.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#ask_for_password-instance_method" title="Gem::UserInteraction#ask_for_password (method)">#ask_for_password</a></td>
      <td><div class='inline'><p>Asks for a password with a <code>prompt</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#ask_yes_no-instance_method" title="Gem::UserInteraction#ask_yes_no (method)">#ask_yes_no</a></td>
      <td><div class='inline'><p>Asks a yes or no <code>question</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#choose_from_list-instance_method" title="Gem::UserInteraction#choose_from_list (method)">#choose_from_list</a></td>
      <td><div class='inline'><p>Asks the user to answer <code>question</code> with an answer from the given <code>list</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#say-instance_method" title="Gem::UserInteraction#say (method)">#say</a></td>
      <td><div class='inline'><p>Displays the given <code>statement</code> on the standard output (or equivalent).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#terminate_interaction-instance_method" title="Gem::UserInteraction#terminate_interaction (method)">#terminate_interaction</a></td>
      <td><div class='inline'><p>Terminates the RubyGems process with the given <code>exit_code</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="UserInteraction.html#verbose-instance_method" title="Gem::UserInteraction#verbose (method)">#verbose</a></td>
      <td><div class='inline'><p>Calls <code>say</code> with <code>msg</code> or the results of the block if really_verbose is true.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>DefaultUserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="DefaultUserInteraction.html#use_ui-instance_method" title="Gem::DefaultUserInteraction#use_ui (method)">#use_ui</a></td>
      <td><div class='inline'><p>See <a href="DefaultUserInteraction.html#use_ui-class_method" title="Gem::DefaultUserInteraction.use_ui (method)">DefaultUserInteraction.use_ui</a></p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Text.html" title="Gem::Text (module)"><code>Text</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Text.html#clean_text-instance_method" title="Gem::Text#clean_text (method)">#clean_text</a></td>
      <td><div class='inline'><p>Remove any non-printable characters and make the text suitable for printing.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Text.html#format_text-instance_method" title="Gem::Text#format_text (method)">#format_text</a></td>
      <td><div class='inline'><p>Wraps <code>text</code> to <code>wrap</code> characters and optionally indents by <code>indent</code> characters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Text.html#levenshtein_distance-instance_method" title="Gem::Text#levenshtein_distance (method)">#levenshtein_distance</a></td>
      <td><div class='inline'><p>This code is based directly on the <a href="Text.html" title="Gem::Text (module)"><code>Text</code></a> gem implementation Returns a value representing the “cost” of transforming str1 into str2.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Text.html#truncate_text-instance_method" title="Gem::Text#truncate_text (method)">#truncate_text</a>,
        <a class='i_m nodoc' href="Text.html#min3-instance_method" title="Gem::Text#min3 (method)">#min3</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(package, options = {})  &#x21d2; <code>Installer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Constructs an <code>Installer</code> instance that will install the gem at <code>package</code> which can either be a path or an instance of <a href="Package.html" title="Gem::Package (class)"><code>Package</code></a>.  <a href="#options-instance_method" title="Gem::Installer#options (method)">#options</a> is a Hash with the following keys:</p>
<dl class="rdoc-list note-list"><dt>:bin_dir
<dd>
<p>Where to put a bin wrapper if needed.</p>
</dd><dt>:development
<dd>
<p>Whether or not development dependencies should be installed.</p>
</dd><dt>:env_shebang
<dd>
<p>Use /usr/bin/env in bin wrappers.</p>
</dd><dt>:force
<dd>
<p>Overrides all version checks and security policy checks, except for a signed-gems-only policy.</p>
</dd><dt>:format_executable
<dd>
<p>Format the executable the same as the Ruby executable. If your Ruby is ruby18, foo_exec will be installed as foo_exec18.</p>
</dd><dt>:ignore_dependencies
<dd>
<p>Don’t raise if a dependency is missing.</p>
</dd><dt>:install_dir
<dd>
<p>The directory to install the gem into.</p>
</dd><dt>:security_policy
<dd>
<p>Use the specified security policy.  See <a href="Security.html" title="Gem::Security (module)"><code>Security</code></a></p>
</dd><dt>:user_install
<dd>
<p>Indicate that the gem should be unpacked into the users personal gem directory.</p>
</dd><dt>:only_install_dir
<dd>
<p>Only validate dependencies against what is in the install_dir</p>
</dd><dt>:wrappers
<dd>
<p>Install wrappers if true, symlinks if false.</p>
</dd><dt>:build_args
<dd>
<p>An Array of arguments to pass to the extension builder process. If not set, then Gem::Command.build_args is used</p>
</dd><dt>:post_install_message
<dd>
<p>Print gem post install message if true</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L170-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='170' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 170</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_package'>package</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span><span class='op'>=</span>{})
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fileutils</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_package'>package</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>String</span>
    <span class='id identifier rubyid_security_policy'>security_policy</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_security_policy'>security_policy</span>]
    <span class='ivar'>@package</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Package.html" title="Gem::Package (class)">Package</a></span>.<span class='id identifier rubyid_new'><a href="Package.html#new-class_method" title="Gem::Package.new (method)">new</a></span> <span class='id identifier rubyid_package'>package</span><span class='comma'>,</span> <span class='id identifier rubyid_security_policy'>security_policy</span>
    <span class='kw'>if</span> <span class='gvar'>$VERBOSE</span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>constructing an Installer object with a string is deprecated. Please use Gem::Installer.at (called from: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_caller'>caller</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@package</span> <span class='op'>=</span> <span class='id identifier rubyid_package'>package</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_process_options'><a href="#process_options-instance_method" title="Gem::Installer#process_options (method)">process_options</a></span>

  <span class='ivar'>@package</span>.<span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dir_mode'>dir_mode</span>]
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_prog_mode'>prog_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_prog_mode'>prog_mode</span>]
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_data_mode'>data_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_data_mode'>data_mode</span>]

  <span class='ivar'>@bin_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>]

  <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_user_install'>user_install</span>] <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="Gem::Installer#unpack (method)">unpack</a></span>]
    <span class='ivar'>@gem_home</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_user_dir'><a href="../Gem.html#user_dir-class_method" title="Gem.user_dir (method)">user_dir</a></span>
    <span class='ivar'>@bin_dir</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>]
    <span class='id identifier rubyid_check_that_user_bin_dir_is_in_path'><a href="#check_that_user_bin_dir_is_in_path-instance_method" title="Gem::Installer#check_that_user_bin_dir_is_in_path (method)">check_that_user_bin_dir_is_in_path</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="exec_format-class_method">
  <h3 class='signature rw first'>
    .<strong>exec_format</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Defaults to use Ruby’s program prefix and suffix.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L95-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='95' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 95</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exec_format'>exec_format</span>
  <span class='ivar'>@exec_format</span> <span class='op'>||=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_default_exec_format'><a href="../Gem.html#default_exec_format-class_method" title="Gem.default_exec_format (method)">default_exec_format</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exec_format=-class_method">
  <h3 class='signature rw'>
    .<strong>exec_format=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Overrides the executable format.</p>

<p>This is a sprintf format with a “%s” which will be replaced with the executable name.  It is based off the ruby executable name’s difference from “ruby”.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L92-L92'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='92' data-end='92'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_exec_format'><a href="#exec_format-class_method" title="Gem::Installer.exec_format (method)">exec_format</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="install_lock-class_method">
  <h3 class='signature ro'>
    .<strong>install_lock</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Certain aspects of the install process are not thread-safe. This lock is used to allow multiple threads to install Gems at the same time.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L83-L83'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='83' data-end='83'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 83</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_install_lock'>install_lock</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path_warning-class_method">
  <h3 class='signature rw'>
    .<strong>path_warning</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>True if we’ve warned about PATH not including <a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">Gem.bindir</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L77-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='77' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_path_warning'>path_warning</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="at-class_method">
  <h3 class='signature  first'>
    .<strong>at</strong>(path, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Construct an installer object for the gem file located at <a href="../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L104-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='104' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_at'>at</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_security_policy'>security_policy</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_security_policy'>security_policy</span>]
  <span class='id identifier rubyid_package'>package</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Package.html" title="Gem::Package (class)">Package</a></span>.<span class='id identifier rubyid_new'><a href="Package.html#new-class_method" title="Gem::Package.new (method)">new</a></span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='id identifier rubyid_security_policy'>security_policy</span>
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::Installer.new (method)">new</a></span> <span class='id identifier rubyid_package'>package</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for_spec-class_method">
  <h3 class='signature '>
    .<strong>for_spec</strong>(spec, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Construct an installer object for an ephemeral gem (one where we don’t actually have a <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file, just a spec)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L140-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_for_spec'>for_spec</span>(<span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span> <span class='op'>=</span> {})
  <span class='comment'># FIXME: we should have a real Package class for this
</span>  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::Installer.new (method)">new</a></span> <span class='const'><a href="Installer/FakePackage.html" title="Gem::Installer::FakePackage (class)">FakePackage</a></span>.<span class='id identifier rubyid_new'><a href="Installer/FakePackage.html#new-class_method" title="Gem::Installer::FakePackage.new (method)">new</a></span>(<span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>)<span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="bin_dir-instance_method">
  <h3 class='signature rw first'>
    #<strong>bin_dir</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The directory a gem’s executables will be installed into</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L54-L54'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='54' data-end='54'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'>bin_dir</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bin_dir=-instance_method">
  <h3 class='signature rw'>
    #<strong>bin_dir=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L10-L10'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='10'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_args=-instance_method">
  <h3 class='signature wo'>
    #<strong>build_args=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L15-L15'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='15'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_build_args'>build_args</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_root-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>build_root</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L56-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='56' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_build_root'>build_root</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="env_shebang=-instance_method">
  <h3 class='signature wo'>
    #<strong>env_shebang=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L40-L40'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='40' data-end='40'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 40</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env_shebang'>env_shebang</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="force=-instance_method">
  <h3 class='signature wo'>
    #<strong>force=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L25-L25'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='25' data-end='25'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 25</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_force'>force</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="format=-instance_method">
  <h3 class='signature wo'>
    #<strong>format=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L30-L30'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='30' data-end='30'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 30</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_format'>format</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="format_executable=-instance_method">
  <h3 class='signature wo'>
    #<strong>format_executable=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L50-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_format_executable'>format_executable</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gem-instance_method">
  <h3 class='signature ro'>
    #<strong>gem</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Filename of the gem being installed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L49-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='49' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 49</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gem'>gem</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gem_dir-instance_method">
  <h3 class='signature rw'>
    #<strong>gem_dir</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Lazy accessor for the spec’s gem directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L269-L271'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='269' data-end='271'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 269</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span>
  <span class='ivar'>@gem_dir</span> <span class='op'>||=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gem_dir=-instance_method">
  <h3 class='signature rw'>
    #<strong>gem_dir=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L20-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='20' data-end='20'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 20</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gem_home-instance_method">
  <h3 class='signature rw'>
    #<strong>gem_home</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The gem repository the gem will be installed into</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L61-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='61' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gem_home'>gem_home</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gem_home=-instance_method">
  <h3 class='signature rw'>
    #<strong>gem_home=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L35-L35'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='35' data-end='35'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 35</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ignore_dependencies=-instance_method">
  <h3 class='signature wo'>
    #<strong>ignore_dependencies=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L45-L45'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='45'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ignore_dependencies'>ignore_dependencies</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature ro'>
    #<strong>options</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The options passed when the <code>Installer</code> was instantiated.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L66-L66'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='66'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="security_policy=-instance_method">
  <h3 class='signature wo'>
    #<strong>security_policy=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L55-L55'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='55' data-end='55'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_security_policy'>security_policy</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wrappers=-instance_method">
  <h3 class='signature wo'>
    #<strong>wrappers=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Available through requiring rubygems/installer_test_case</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer_test_case.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_wrappers'>wrappers</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="app_script_text-instance_method">
  <h3 class='signature  first'>
    #<strong>app_script_text</strong>(bin_file_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the text for an application file.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L753-L785'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='753' data-end='785'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 753</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_app_script_text'>app_script_text</span>(<span class='id identifier rubyid_bin_file_name'>bin_file_name</span>)
  <span class='comment'># note that the `load` lines cannot be indented, as old RG versions match
</span>  <span class='comment'># against the beginning of the line
</span>  <span class='kw'>return</span> <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shebang'><a href="#shebang-instance_method" title="Gem::Installer#shebang (method)">shebang</a></span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
#
# This file was generated by RubyGems.
#
# The application &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is installed as part of a gem, and
# this file is here to facilitate running it.
#

require &#39;rubygems&#39;

version = &quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Requirement.html" title="Gem::Requirement (class)">Requirement</a></span>.<span class='id identifier rubyid_default'><a href="Requirement.html#default-class_method" title="Gem::Requirement.default (method)">default</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.a&quot;

str = ARGV.first
if str
str = str.b[/\\A_(.*)_\\z/, 1]
if str and Gem::Version.correct?(str)
  version = str
  ARGV.shift
end
end

if Gem.respond_to?(:activate_bin_path)
load Gem.activate_bin_path(&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, version)
else
gem </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_dump'>dump</span><span class='embexpr_end'>}</span><span class='tstring_content'>, version
load Gem.bin_path(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_dump'>dump</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span>.<span class='id identifier rubyid_dump'>dump</span><span class='embexpr_end'>}</span><span class='tstring_content'>, version)
end
</span><span class='heredoc_end'>TEXT
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_extensions-instance_method">
  <h3 class='signature '>
    #<strong>build_extensions</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Builds extensions.  Valid types of extensions are extconf.rb files, configure scripts and rakefiles or mkrf_conf files.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L827-L831'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='827' data-end='831'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 827</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_extensions'>build_extensions</span>
  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/Builder.html" title="Gem::Ext::Builder (class)">Builder</a></span>.<span class='id identifier rubyid_new'><a href="Ext/Builder.html#new-class_method" title="Gem::Ext::Builder.new (method)">new</a></span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='comma'>,</span> <span class='ivar'>@build_args</span>

  <span class='id identifier rubyid_builder'>builder</span>.<span class='id identifier rubyid_build_extensions'>build_extensions</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_executable_overwrite-instance_method">
  <h3 class='signature nodoc'>
    #<strong>check_executable_overwrite</strong>(filename)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if <code>filename</code> exists in <tt>@bin_dir</tt>.</p>

<p>If <tt>@force</tt> is set <code>filename</code> is overwritten.</p>

<p>If <code>filename</code> exists and is a RubyGems wrapper for different gem the user is consulted.</p>

<p>If <code>filename</code> exists and <tt>@bin_dir</tt> is <a href="../Gem.html#default_bindir-class_method" title="Gem.default_bindir (method)">Gem.default_bindir</a> (/usr/local) the user is consulted.</p>

<p>Otherwise <code>filename</code> is overwritten.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="InstallError.html" title="Gem::InstallError (class)">Gem::InstallError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L212-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='212' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_executable_overwrite'>check_executable_overwrite</span>(<span class='id identifier rubyid_filename'>filename</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@force</span>

  <span class='id identifier rubyid_generated_bin'>generated_bin</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='ivar'>@bin_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'><a href="#formatted_program_filename-instance_method" title="Gem::Installer#formatted_program_filename (method)">formatted_program_filename</a></span>(<span class='id identifier rubyid_filename'>filename</span>)

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>

  <span class='id identifier rubyid_ruby_executable'>ruby_executable</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_existing'>existing</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_gets'>gets</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#!</span><span class='regexp_end'>/</span></span> <span class='comment'># shebang
</span>    <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_gets'>gets</span> <span class='comment'># blankline
</span>
    <span class='comment'># TODO detect a specially formatted comment instead of trying
</span>    <span class='comment'># to run a regexp against Ruby code.
</span>    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_gets'>gets</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>This file was generated by RubyGems</span><span class='regexp_end'>/</span></span>

    <span class='id identifier rubyid_ruby_executable'>ruby_executable</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_existing'>existing</span> <span class='op'>=</span> <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_read'>read</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
        ^\s*(
          gem \s |
          load \s Gem\.bin_path\( |
          load \s Gem\.activate_bin_path\(
        )
        ([&#39;&quot;])(.*?)(\2),
      </span><span class='regexp_end'>}x</span></span><span class='comma'>,</span> <span class='int'>3</span>)
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_existing'>existing</span>

  <span class='comment'># somebody has written to RubyGems&#39; directory, overwrite, too bad
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_default_bindir'><a href="../Gem.html#default_bindir-class_method" title="Gem.default_bindir (method)">default_bindir</a></span> <span class='op'>!=</span> <span class='ivar'>@bin_dir</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_ruby_executable'>ruby_executable</span>

  <span class='id identifier rubyid_question'>question</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;s executable \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; conflicts with </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ruby_executable'>ruby_executable</span>
    <span class='id identifier rubyid_question'>question</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_existing'>existing</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>an unknown executable</span><span class='tstring_end'>&#39;</span></span>)

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ask_yes_no'>ask_yes_no</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question'>question</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nOverwrite the executable?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_conflict'>conflict</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>installed executable from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_existing'>existing</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_question'>question</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ask_yes_no'>ask_yes_no</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question'>question</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nOverwrite the executable?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_conflict'>conflict</span> <span class='op'>=</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> conflicts with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_conflict'>conflict</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_that_user_bin_dir_is_in_path-instance_method">
  <h3 class='signature nodoc'>
    #<strong>check_that_user_bin_dir_is_in_path</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L699-L720'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='699' data-end='720'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 699</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_that_user_bin_dir_is_in_path'>check_that_user_bin_dir_is_in_path</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='ivar'>@bin_dir</span> <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>(<span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>)
  <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span>) <span class='kw'>if</span>
    <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span>

  <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&#39;</span></span>]
  <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span>
    <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span>.<span class='id identifier rubyid_downcase'>downcase</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_split'>split</span>(<span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>)

  <span class='kw'>unless</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span>
    <span class='kw'>unless</span> <span class='op'>!</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~</span><span class='tstring_end'>&#39;</span></span>))
      <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_path_warning'><a href="#path_warning-class_method" title="Gem::Installer.path_warning (method)">path_warning</a></span>
        <span class='id identifier rubyid_alert_warning'>alert_warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You don&#39;t have </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> in your PATH,\n\t  gem executables will not run.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_path_warning'><a href="#path_warning-class_method" title="Gem::Installer.path_warning (method)">path_warning</a></span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_spec_file-instance_method">
  <h3 class='signature '>
    #<strong>default_spec_file</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The location of the default spec file for default gems.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L437-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='437' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 437</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_spec_file'>default_spec_file</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_default_specifications_dir'><a href="BasicSpecification.html#default_specifications_dir-class_method" title="Gem::BasicSpecification.default_specifications_dir (method)">default_specifications_dir</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gemspec</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dir-instance_method">
  <h3 class='signature '>
    #<strong>dir</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the target directory where the gem is to be installed. This directory is not guaranteed to be populated.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L880-L882'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='880' data-end='882'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 880</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dir'>dir</span>
  <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ensure_dependencies_met-instance_method">
  <h3 class='signature nodoc'>
    #<strong>ensure_dependencies_met</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L654-L661'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='654' data-end='661'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 654</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_dependencies_met'>ensure_dependencies_met</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>
  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>|=</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_development_dependencies'>development_dependencies</span> <span class='kw'>if</span> <span class='ivar'>@development</span>

  <span class='id identifier rubyid_deps'>deps</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep_gem'>dep_gem</span><span class='op'>|</span>
    <span class='id identifier rubyid_ensure_dependency'><a href="#ensure_dependency-instance_method" title="Gem::Installer#ensure_dependency (method)">ensure_dependency</a></span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='comma'>,</span> <span class='id identifier rubyid_dep_gem'>dep_gem</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ensure_dependency-instance_method">
  <h3 class='signature '>
    #<strong>ensure_dependency</strong>(spec, dependency)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Ensure that the dependency is satisfied by the current installation of gem.  If it is not an exception is raised.</p>
<dl class="rdoc-list note-list"><dt>spec       
<dd>
<p><a href="Specification.html" title="Gem::Specification (class)"><code>Specification</code></a></p>
</dd><dt>dependency 
<dd>
<p><a href="Dependency.html" title="Gem::Dependency (class)"><code>Dependency</code></a></p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L400-L405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='400' data-end='405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 400</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_dependency'>ensure_dependency</span>(<span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='comma'>,</span> <span class='id identifier rubyid_dependency'>dependency</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_installation_satisfies_dependency?'><a href="#installation_satisfies_dependency%3F-instance_method" title="Gem::Installer#installation_satisfies_dependency? (method)">installation_satisfies_dependency?</a></span> <span class='id identifier rubyid_dependency'>dependency</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dependency'>dependency</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ensure_loadable_spec-instance_method">
  <h3 class='signature '>
    #<strong>ensure_loadable_spec</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Ensures the <a href="Specification.html" title="Gem::Specification (class)"><code>Specification</code></a> written out for this gem is loadable upon installation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L621-L631'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='621' data-end='631'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 621</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_loadable_spec'>ensure_loadable_spec</span>
  <span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span> <span class='op'>=</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_to_ruby_for_cache'>to_ruby_for_cache</span>
  <span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span>.<span class='id identifier rubyid_untaint'>untaint</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_eval'>eval</span> <span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span>
  <span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>SyntaxError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The specification for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is corrupt (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ensure_required_ruby_version_met-instance_method">
  <h3 class='signature nodoc'>
    #<strong>ensure_required_ruby_version_met</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L633-L641'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='633' data-end='641'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 633</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_required_ruby_version_met'>ensure_required_ruby_version_met</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_rrv'>rrv</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_required_ruby_version'>required_ruby_version</span>
    <span class='id identifier rubyid_ruby_version'><a href="../Gem.html#ruby_version-class_method" title="Gem.ruby_version (method)">ruby_version</a></span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ruby_version'><a href="../Gem.html#ruby_version-class_method" title="Gem.ruby_version (method)">ruby_version</a></span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_rrv'>rrv</span>.<span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span> <span class='id identifier rubyid_ruby_version'><a href="../Gem.html#ruby_version-class_method" title="Gem.ruby_version (method)">ruby_version</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RuntimeRequirementNotMetError.html" title="Gem::RuntimeRequirementNotMetError (class)">RuntimeRequirementNotMetError</a></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires Ruby version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rrv'>rrv</span><span class='embexpr_end'>}</span><span class='tstring_content'>. The current ruby version is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_version'><a href="../Gem.html#ruby_version-class_method" title="Gem.ruby_version (method)">ruby_version</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ensure_required_rubygems_version_met-instance_method">
  <h3 class='signature nodoc'>
    #<strong>ensure_required_rubygems_version_met</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L643-L652'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='643' data-end='652'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 643</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_required_rubygems_version_met'>ensure_required_rubygems_version_met</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_rrgv'>rrgv</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_required_rubygems_version'>required_rubygems_version</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_rrgv'>rrgv</span>.<span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_rubygems_version'><a href="../Gem.html#rubygems_version-class_method" title="Gem.rubygems_version (method)">rubygems_version</a></span>
      <span class='id identifier rubyid_rg_version'>rg_version</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Gem.html#VERSION-constant" title="Gem::VERSION (constant)">VERSION</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RuntimeRequirementNotMetError.html" title="Gem::RuntimeRequirementNotMetError (class)">RuntimeRequirementNotMetError</a></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires RubyGems version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rrgv'>rrgv</span><span class='embexpr_end'>}</span><span class='tstring_content'>. The current RubyGems version is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rg_version'>rg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Try &#39;gem update --system&#39; to update RubyGems itself.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extension_build_error-instance_method">
  <h3 class='signature nodoc'>
    #<strong>extension_build_error</strong>(build_dir, output, backtrace = nil)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Logs the build <code>output</code> in <code>build_dir</code>, then raises <a href="Ext/BuildError.html" title="Gem::Ext::BuildError (class)"><code>Ext::BuildError</code></a>.</p>

<p>TODO:  Delete this for RubyGems 4.  It remains for API compatibility</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L838-L842'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='838' data-end='842'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 838</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extension_build_error'>extension_build_error</span>(<span class='id identifier rubyid_build_dir'>build_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_backtrace'>backtrace</span> <span class='op'>=</span> <span class='kw'>nil</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/Builder.html" title="Gem::Ext::Builder (class)">Builder</a></span>.<span class='id identifier rubyid_new'><a href="Ext/Builder.html#new-class_method" title="Gem::Ext::Builder.new (method)">new</a></span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='comma'>,</span> <span class='ivar'>@build_args</span>

  <span class='id identifier rubyid_builder'>builder</span>.<span class='id identifier rubyid_build_error'>build_error</span> <span class='id identifier rubyid_build_dir'>build_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_backtrace'>backtrace</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_bin-instance_method">
  <h3 class='signature '>
    #<strong>extract_bin</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts only the bin/ files from the gem into the gem directory. This is used by default gems to allow a gem-aware stub to function without the full gem installed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L859-L861'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='859' data-end='861'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 859</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_bin'>extract_bin</span>
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_extract_files'><a href="#extract_files-instance_method" title="Gem::Installer#extract_files (method)">extract_files</a></span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin/*</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_files-instance_method">
  <h3 class='signature '>
    #<strong>extract_files</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reads the file index and extracts each file into the gem directory.</p>

<p>Ensures that files can’t be installed outside the gem directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L850-L852'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='850' data-end='852'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 850</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_files'>extract_files</span>
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_extract_files'>extract_files</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="formatted_program_filename-instance_method">
  <h3 class='signature '>
    #<strong>formatted_program_filename</strong>(filename)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prefix and suffix the program filename the same as ruby.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L866-L872'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='866' data-end='872'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 866</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_formatted_program_filename'>formatted_program_filename</span>(<span class='id identifier rubyid_filename'>filename</span>)
  <span class='kw'>if</span> <span class='ivar'>@format_executable</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_exec_format'><a href="#exec_format-class_method" title="Gem::Installer.exec_format (method)">exec_format</a></span> <span class='op'>%</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_filename'>filename</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_bin-instance_method">
  <h3 class='signature nodoc'>
    #<strong>generate_bin</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">Gem::FilePermissionError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L480-L514'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='480' data-end='514'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 480</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin'>generate_bin</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_executables'>executables</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_executables'>executables</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>begin</span>
    <span class='const'>Dir</span>.<span class='id identifier rubyid_mkdir'>mkdir</span> <span class='ivar'>@bin_dir</span><span class='comma'>,</span> <span class='op'>*</span>[<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dir_mode'>dir_mode</span>] <span class='op'>&amp;&amp;</span> <span class='int'>0755</span>].<span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>rescue</span> <span class='const'>SystemCallError</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span> <span class='ivar'>@bin_dir</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">FilePermissionError</a></span>.<span class='id identifier rubyid_new'><a href="FilePermissionError.html#new-class_method" title="Gem::FilePermissionError.new (method)">new</a></span>(<span class='ivar'>@bin_dir</span>) <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_writable?'>writable?</span> <span class='ivar'>@bin_dir</span>

  <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_executables'>executables</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filename'>filename</span><span class='op'>|</span>
    <span class='id identifier rubyid_filename'>filename</span>.<span class='id identifier rubyid_untaint'>untaint</span>
    <span class='id identifier rubyid_bin_path'><a href="../Gem.html#bin_path-class_method" title="Gem.bin_path (method)">bin_path</a></span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>

    <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_bin_path'><a href="../Gem.html#bin_path-class_method" title="Gem.bin_path (method)">bin_path</a></span>
      <span class='comment'># TODO change this to a more useful warning
</span>      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_path'><a href="../Gem.html#bin_path-class_method" title="Gem.bin_path (method)">bin_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>` does not exist, maybe `gem pristine </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` will fix it?</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_stat'>stat</span>(<span class='id identifier rubyid_bin_path'><a href="../Gem.html#bin_path-class_method" title="Gem.bin_path (method)">bin_path</a></span>).<span class='id identifier rubyid_mode'>mode</span>
    <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_prog_mode'>prog_mode</span>] <span class='op'>||</span> (<span class='id identifier rubyid_mode'>mode</span> <span class='op'>|</span> <span class='int'>0111</span>)
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_chmod'>chmod</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_bin_path'><a href="../Gem.html#bin_path-class_method" title="Gem.bin_path (method)">bin_path</a></span> <span class='kw'>unless</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>==</span> <span class='id identifier rubyid_mode'>mode</span>

    <span class='id identifier rubyid_check_executable_overwrite'><a href="#check_executable_overwrite-instance_method" title="Gem::Installer#check_executable_overwrite (method)">check_executable_overwrite</a></span> <span class='id identifier rubyid_filename'>filename</span>

    <span class='kw'>if</span> <span class='ivar'>@wrappers</span>
      <span class='id identifier rubyid_generate_bin_script'><a href="#generate_bin_script-instance_method" title="Gem::Installer#generate_bin_script (method)">generate_bin_script</a></span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='ivar'>@bin_dir</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_generate_bin_symlink'><a href="#generate_bin_symlink-instance_method" title="Gem::Installer#generate_bin_symlink (method)">generate_bin_symlink</a></span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='ivar'>@bin_dir</span>
    <span class='kw'>end</span>

  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_bin_script-instance_method">
  <h3 class='signature '>
    #<strong>generate_bin_script</strong>(filename, bindir)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates the scripts to run the applications in the gem.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L523-L536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='523' data-end='536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 523</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin_script'>generate_bin_script</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>)
  <span class='id identifier rubyid_bin_script_path'>bin_script_path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'><a href="#formatted_program_filename-instance_method" title="Gem::Installer#formatted_program_filename (method)">formatted_program_filename</a></span>(<span class='id identifier rubyid_filename'>filename</span>)

  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_f'>rm_f</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span> <span class='comment'># prior install may have been --no-wrappers
</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0755</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_app_script_text'><a href="#app_script_text-instance_method" title="Gem::Installer#app_script_text (method)">app_script_text</a></span>(<span class='id identifier rubyid_filename'>filename</span>)
    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_chmod'>chmod</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_prog_mode'>prog_mode</span>] <span class='op'>||</span> <span class='int'>0755</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_verbose'>verbose</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span>

  <span class='id identifier rubyid_generate_windows_script'><a href="#generate_windows_script-instance_method" title="Gem::Installer#generate_windows_script (method)">generate_windows_script</a></span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_bin_symlink-instance_method">
  <h3 class='signature '>
    #<strong>generate_bin_symlink</strong>(filename, bindir)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates the symlinks to run the applications in the gem.  Moves the symlink if the gem being installed has a newer version.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L542-L559'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='542' data-end='559'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 542</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin_symlink'>generate_bin_symlink</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>)
  <span class='id identifier rubyid_src'>src</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='id identifier rubyid_dst'>dst</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'><a href="#formatted_program_filename-instance_method" title="Gem::Installer#formatted_program_filename (method)">formatted_program_filename</a></span>(<span class='id identifier rubyid_filename'>filename</span>)

  <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_dst'>dst</span>
    <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_symlink?'>symlink?</span> <span class='id identifier rubyid_dst'>dst</span>
      <span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_readlink'>readlink</span>(<span class='id identifier rubyid_dst'>dst</span>).<span class='id identifier rubyid_split'>split</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span>
      <span class='id identifier rubyid_cur_version'>cur_version</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Version_.html" title="Gem::Version (class)">Version</a></span>.<span class='id identifier rubyid_create'><a href="Version_.html#create-class_method" title="Gem::Version.create (method)">create</a></span>(<span class='id identifier rubyid_link'>link</span>[<span class='op'>-</span><span class='int'>3</span>].<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*-</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>))
      <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_version'>version</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_cur_version'>cur_version</span>
    <span class='kw'>end</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_unlink'>unlink</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='kw'>end</span>

  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_symlink'>symlink</span> <span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=&gt;</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span>.<span class='id identifier rubyid_really_verbose'>really_verbose</span>
<span class='kw'>rescue</span> <span class='const'>NotImplementedError</span><span class='comma'>,</span> <span class='const'>SystemCallError</span>
  <span class='id identifier rubyid_alert_warning'>alert_warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to use symlinks, installing wrapper</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_generate_bin_script'><a href="#generate_bin_script-instance_method" title="Gem::Installer#generate_bin_script (method)">generate_bin_script</a></span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_windows_script-instance_method">
  <h3 class='signature '>
    #<strong>generate_windows_script</strong>(filename, bindir)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates windows <code>.bat</code> files for easy running of commands</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L468-L478'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='468' data-end='478'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 468</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_windows_script'>generate_windows_script</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>)
  <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span>
    <span class='id identifier rubyid_script_name'>script_name</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.bat</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_script_path'>script_path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_script_name'>script_name</span>)
    <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_script_path'>script_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
      <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_windows_stub_script'><a href="#windows_stub_script-instance_method" title="Gem::Installer#windows_stub_script (method)">windows_stub_script</a></span>(<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_verbose'>verbose</span> <span class='id identifier rubyid_script_path'>script_path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="install-instance_method">
  <h3 class='signature '>
    #<strong>install</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Installs the gem and returns a loaded <a href="Specification.html" title="Gem::Specification (class)"><code>Specification</code></a> for the installed gem.</p>

<p>The gem will be installed with the following structure:</p>

<pre class="code ruby"><code class="ruby">@gem_home/
  cache/&lt;gem-version&gt;.gem #=&gt; a cached copy of the installed gem
  gems/&lt;gem-version&gt;/... #=&gt; extracted files
  specifications/&lt;gem-version&gt;.gemspec #=&gt; the Gem::Specification</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L293-L343'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='293' data-end='343'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 293</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_install'>install</span>
  <span class='id identifier rubyid_pre_install_checks'><a href="#pre_install_checks-instance_method" title="Gem::Installer#pre_install_checks (method)">pre_install_checks</a></span>

  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_f'>rm_f</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_spec_name'>spec_name</span>

  <span class='id identifier rubyid_run_pre_install_hooks'><a href="#run_pre_install_hooks-instance_method" title="Gem::Installer#run_pre_install_hooks (method)">run_pre_install_hooks</a></span>

  <span class='comment'># Set loaded_from to ensure extension_dir is correct
</span>  <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_install_as_default'>install_as_default</span>]
    <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_loaded_from'>loaded_from</span> <span class='op'>=</span> <span class='id identifier rubyid_default_spec_file'><a href="#default_spec_file-instance_method" title="Gem::Installer#default_spec_file (method)">default_spec_file</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_loaded_from'>loaded_from</span> <span class='op'>=</span> <span class='id identifier rubyid_spec_file'><a href="#spec_file-instance_method" title="Gem::Installer#spec_file (method)">spec_file</a></span>
  <span class='kw'>end</span>

  <span class='comment'># Completely remove any previous gem files
</span>  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>
  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_extension_dir'>extension_dir</span>

  <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dir_mode'>dir_mode</span>]
  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>&amp;&amp;</span> <span class='int'>0755</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_install_as_default'>install_as_default</span>]
    <span class='id identifier rubyid_extract_bin'><a href="#extract_bin-instance_method" title="Gem::Installer#extract_bin (method)">extract_bin</a></span>
    <span class='id identifier rubyid_write_default_spec'><a href="#write_default_spec-instance_method" title="Gem::Installer#write_default_spec (method)">write_default_spec</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_extract_files'><a href="#extract_files-instance_method" title="Gem::Installer#extract_files (method)">extract_files</a></span>

    <span class='id identifier rubyid_build_extensions'><a href="#build_extensions-instance_method" title="Gem::Installer#build_extensions (method)">build_extensions</a></span>
    <span class='id identifier rubyid_write_build_info_file'><a href="#write_build_info_file-instance_method" title="Gem::Installer#write_build_info_file (method)">write_build_info_file</a></span>
    <span class='id identifier rubyid_run_post_build_hooks'><a href="#run_post_build_hooks-instance_method" title="Gem::Installer#run_post_build_hooks (method)">run_post_build_hooks</a></span>

    <span class='id identifier rubyid_generate_bin'><a href="#generate_bin-instance_method" title="Gem::Installer#generate_bin (method)">generate_bin</a></span>
    <span class='id identifier rubyid_write_spec'><a href="#write_spec-instance_method" title="Gem::Installer#write_spec (method)">write_spec</a></span>
    <span class='id identifier rubyid_write_cache_file'><a href="#write_cache_file-instance_method" title="Gem::Installer#write_cache_file (method)">write_cache_file</a></span>
  <span class='kw'>end</span>

  <span class='const'>File</span>.<span class='id identifier rubyid_chmod'>chmod</span>(<span class='id identifier rubyid_dir_mode'>dir_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span>

  <span class='id identifier rubyid_say'>say</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_post_install_message'>post_install_message</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_post_install_message'>post_install_message</span>] <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_post_install_message'>post_install_message</span>.<span class='id identifier rubyid_nil?'>nil?</span>

  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'>Installer</span>.<span class='id identifier rubyid_install_lock'><a href="#install_lock-class_method" title="Gem::Installer.install_lock (method)">install_lock</a></span>.<span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_reset'><a href="Specification.html#reset-class_method" title="Gem::Specification.reset (method)">reset</a></span> }

  <span class='id identifier rubyid_run_post_install_hooks'><a href="#run_post_install_hooks-instance_method" title="Gem::Installer#run_post_install_hooks (method)">run_post_install_hooks</a></span>

  <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>

<span class='comment'># TODO This rescue is in the wrong place. What is raising this exception?
</span><span class='comment'># move this rescue to around the code that actually might raise it.
</span><span class='kw'>rescue</span> <span class='const'>Zlib</span><span class='op'>::</span><span class='const'>GzipFile</span><span class='op'>::</span><span class='const'>Error</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gzip error installing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem'><a href="#gem-instance_method" title="Gem::Installer#gem (method)">gem</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="installation_satisfies_dependency?-instance_method">
  <h3 class='signature '>
    #<strong>installation_satisfies_dependency?</strong>(dependency)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>True if the gems in the system satisfy <code>dependency</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L410-L415'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='410' data-end='415'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 410</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_installation_satisfies_dependency?'>installation_satisfies_dependency?</span>(<span class='id identifier rubyid_dependency'>dependency</span>)
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span>] <span class='kw'>and</span> <span class='id identifier rubyid_dependency'>dependency</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_installed_specs'><a href="#installed_specs-instance_method" title="Gem::Installer#installed_specs (method)">installed_specs</a></span>.<span class='id identifier rubyid_detect'>detect</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_dependency'>dependency</span>.<span class='id identifier rubyid_matches_spec?'>matches_spec?</span> <span class='id identifier rubyid_s'>s</span> }
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='ivar'>@only_install_dir</span>
  <span class='kw'>not</span> <span class='id identifier rubyid_dependency'>dependency</span>.<span class='id identifier rubyid_matching_specs'>matching_specs</span>.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="installed_specs-instance_method">
  <h3 class='signature '>
    #<strong>installed_specs</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return an Array of Specifications contained within the gem_home we’ll be installing into.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L380-L391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='380' data-end='391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 380</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_installed_specs'>installed_specs</span>
  <span class='ivar'>@specs</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> []

    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Util.html" title="Gem::Util (module)">Util</a></span>.<span class='id identifier rubyid_glob_files_in_dir'><a href="Util.html#glob_files_in_dir-class_method" title="Gem::Util.glob_files_in_dir (method)">glob_files_in_dir</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.gemspec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&quot;</span></span>)).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='op'>|</span>
      <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_load'><a href="Specification.html#load-class_method" title="Gem::Specification.load (method)">load</a></span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_untaint'>untaint</span>
      <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_specs'>specs</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pre_install_checks-instance_method">
  <h3 class='signature '>
    #<strong>pre_install_checks</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs various checks before installing the gem such as the install repository is writable and its directories exist, required Ruby and rubygems versions are met and that dependencies are installed.</p>

<p><a href="Version_.html" title="Gem::Version (class)"><code>Version</code></a> and dependency checks are skipped if this install is forced.</p>

<p>The dependent check will be skipped if the install is ignoring dependencies.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L893-L915'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='893' data-end='915'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 893</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pre_install_checks'>pre_install_checks</span>
  <span class='id identifier rubyid_verify_gem_home'><a href="#verify_gem_home-instance_method" title="Gem::Installer#verify_gem_home (method)">verify_gem_home</a></span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="Gem::Installer#unpack (method)">unpack</a></span>]

  <span class='comment'># The name and require_paths must be verified first, since it could contain
</span>  <span class='comment'># ruby code that would be eval&#39;ed in #ensure_loadable_spec
</span>  <span class='id identifier rubyid_verify_spec'><a href="#verify_spec-instance_method" title="Gem::Installer#verify_spec (method)">verify_spec</a></span>

  <span class='id identifier rubyid_ensure_loadable_spec'><a href="#ensure_loadable_spec-instance_method" title="Gem::Installer#ensure_loadable_spec (method)">ensure_loadable_spec</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_install_as_default'>install_as_default</span>]
    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ensure_default_gem_subdirectories'><a href="../Gem.html#ensure_default_gem_subdirectories-class_method" title="Gem.ensure_default_gem_subdirectories (method)">ensure_default_gem_subdirectories</a></span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>
  <span class='kw'>else</span>
    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ensure_gem_subdirectories'><a href="../Gem.html#ensure_gem_subdirectories-class_method" title="Gem.ensure_gem_subdirectories (method)">ensure_gem_subdirectories</a></span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@force</span>

  <span class='id identifier rubyid_ensure_required_ruby_version_met'><a href="#ensure_required_ruby_version_met-instance_method" title="Gem::Installer#ensure_required_ruby_version_met (method)">ensure_required_ruby_version_met</a></span>
  <span class='id identifier rubyid_ensure_required_rubygems_version_met'><a href="#ensure_required_rubygems_version_met-instance_method" title="Gem::Installer#ensure_required_rubygems_version_met (method)">ensure_required_rubygems_version_met</a></span>
  <span class='id identifier rubyid_ensure_dependencies_met'><a href="#ensure_dependencies_met-instance_method" title="Gem::Installer#ensure_dependencies_met (method)">ensure_dependencies_met</a></span> <span class='kw'>unless</span> <span class='ivar'>@ignore_dependencies</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_options-instance_method">
  <h3 class='signature nodoc'>
    #<strong>process_options</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L663-L697'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='663' data-end='697'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 663</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_options'>process_options</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@options</span> <span class='op'>=</span> {
    <span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>      <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_env_shebang'>env_shebang</span>  <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_force'>force</span>        <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_only_install_dir'>only_install_dir</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_post_install_message'>post_install_message</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
  }.<span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>

  <span class='ivar'>@env_shebang</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_env_shebang'>env_shebang</span>]
  <span class='ivar'>@force</span>               <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_force'>force</span>]
  <span class='ivar'>@install_dir</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_install_dir'>install_dir</span>]
  <span class='ivar'>@gem_home</span>            <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_install_dir'>install_dir</span>] <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_dir'><a href="../Gem.html#dir-class_method" title="Gem.dir (method)">dir</a></span>
  <span class='ivar'>@ignore_dependencies</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ignore_dependencies'>ignore_dependencies</span>]
  <span class='ivar'>@format_executable</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_format_executable'>format_executable</span>]
  <span class='ivar'>@wrappers</span>            <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_wrappers'>wrappers</span>]
  <span class='ivar'>@only_install_dir</span>    <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_only_install_dir'>only_install_dir</span>]

  <span class='comment'># If the user has asked for the gem to be installed in a directory that is
</span>  <span class='comment'># the system gem directory, then use the system bin directory, else create
</span>  <span class='comment'># (or use) a new bin dir under the gem_home.
</span>  <span class='ivar'>@bin_dir</span>             <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>] <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>(<span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>)
  <span class='ivar'>@development</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_development'>development</span>]
  <span class='ivar'>@build_root</span>          <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_build_root'><a href="#build_root-instance_method" title="Gem::Installer#build_root (method)">build_root</a></span>]

  <span class='ivar'>@build_args</span>          <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_build_args'>build_args</span>] <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Command.html" title="Gem::Command (class)">Command</a></span>.<span class='id identifier rubyid_build_args'><a href="Command.html#build_args-class_method" title="Gem::Command.build_args (method)">build_args</a></span>

  <span class='kw'>unless</span> <span class='ivar'>@build_root</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pathname</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@build_root</span> <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::Installer.new (method)">new</a></span>(<span class='ivar'>@build_root</span>).<span class='id identifier rubyid_expand_path'>expand_path</span>
    <span class='ivar'>@bin_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='ivar'>@build_root</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bin_dir'><a href="#bin_dir-instance_method" title="Gem::Installer#bin_dir (method)">bin_dir</a></span>] <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>(<span class='ivar'>@gem_home</span>))
    <span class='ivar'>@gem_home</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='ivar'>@build_root</span><span class='comma'>,</span> <span class='ivar'>@gem_home</span>)
    <span class='id identifier rubyid_alert_warning'>alert_warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You build with buildroot.\n  Build root: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@build_root</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n  Bin dir: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@bin_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n  Gem home: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@gem_home</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_post_build_hooks-instance_method">
  <h3 class='signature nodoc'>
    #<strong>run_post_build_hooks</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L356-L367'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='356' data-end='367'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 356</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_post_build_hooks'>run_post_build_hooks</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_post_build_hooks'><a href="../Gem.html#post_build_hooks-class_method" title="Gem.post_build_hooks (method)">post_build_hooks</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_call'>call</span>(<span class='kw'>self</span>) <span class='op'>==</span> <span class='kw'>false</span>
      <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span>

      <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> at </span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>@(.*:\d+)</span><span class='regexp_end'>/</span></span>

      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post-build hook</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='embexpr_end'>}</span><span class='tstring_content'> failed for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_post_install_hooks-instance_method">
  <h3 class='signature nodoc'>
    #<strong>run_post_install_hooks</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L369-L373'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='369' data-end='373'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 369</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_post_install_hooks'>run_post_install_hooks</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_post_install_hooks'><a href="../Gem.html#post_install_hooks-class_method" title="Gem.post_install_hooks (method)">post_install_hooks</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span>
    <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_call'>call</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_pre_install_hooks-instance_method">
  <h3 class='signature nodoc'>
    #<strong>run_pre_install_hooks</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L345-L354'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='354'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_pre_install_hooks'>run_pre_install_hooks</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_pre_install_hooks'><a href="../Gem.html#pre_install_hooks-class_method" title="Gem.pre_install_hooks (method)">pre_install_hooks</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_call'>call</span>(<span class='kw'>self</span>) <span class='op'>==</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> at </span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>@(.*:\d+)</span><span class='regexp_end'>/</span></span>

      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre-install hook</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='embexpr_end'>}</span><span class='tstring_content'> failed for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shebang-instance_method">
  <h3 class='signature '>
    #<strong>shebang</strong>(bin_file_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates a <code>#!</code> line for <code>bin_file_name</code>‘s wrapper copying arguments if necessary.</p>

<p>If the <code>:custom_shebang</code> config is set, then it is used as a template for how to create the shebang used for to run a gem’s executables.</p>

<p>The template supports 4 expansions:</p>

<pre class="code ruby"><code class="ruby">$env    the path to the unix env utility
$ruby   the path to the currently running ruby interpreter
$exec   the path to the gem&#39;s executable
$name   the name of the gem the executable is for</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L576-L615'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='576' data-end='615'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 576</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shebang'>shebang</span>(<span class='id identifier rubyid_bin_file_name'>bin_file_name</span>)
  <span class='id identifier rubyid_ruby_name'>ruby_name</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_install_name</span><span class='tstring_end'>&#39;</span></span>] <span class='kw'>if</span> <span class='ivar'>@env_shebang</span>
  <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'><a href="#gem_dir-instance_method" title="Gem::Installer#gem_dir (method)">gem_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span>
  <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&quot;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_gets'>gets</span>}

  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#!</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_first_line'>first_line</span>
    <span class='comment'># Preserve extra words on shebang line, like &quot;-w&quot;.  Thanks RPA.
</span>    <span class='id identifier rubyid_shebang'>shebang</span> <span class='op'>=</span> <span class='id identifier rubyid_first_line'>first_line</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\#!.*?ruby\S*((\s\S)+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_shebang'>shebang</span>.<span class='id identifier rubyid_strip!'>strip!</span> <span class='comment'># Avoid nasty ^M issues.
</span>  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_custom_shebang'>custom_shebang</span>]
    <span class='comment'># replace bin_file_name with &quot;ruby&quot; to avoid endless loops
</span>    <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_install_name</span><span class='tstring_end'>&#39;</span></span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)

    <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\$(\w+)</span><span class='regexp_end'>/</span></span>) <span class='kw'>do</span>
      <span class='kw'>case</span> <span class='backref'>$1</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>env</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@env_path</span> <span class='op'>||=</span> <span class='const'><a href="#ENV_PATHS-constant" title="Gem::Installer::ENV_PATHS (constant)">ENV_PATHS</a></span>.<span class='id identifier rubyid_find'>find</span> {<span class='op'>|</span><span class='id identifier rubyid_env_path'>env_path</span><span class='op'>|</span> <span class='const'>File</span>.<span class='id identifier rubyid_executable?'>executable?</span> <span class='id identifier rubyid_env_path'>env_path</span> }
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exec</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_bin_file_name'>bin_file_name</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_which'>which</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='kw'>not</span> <span class='id identifier rubyid_ruby_name'>ruby_name</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!/bin/sh\n&#39;exec&#39; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_name'>ruby_name</span>.<span class='id identifier rubyid_dump'>dump</span><span class='embexpr_end'>}</span><span class='tstring_content'> &#39;-x&#39; \&quot;$0\&quot; \&quot;$@\&quot;\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shebang'>shebang</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='comment'># Create a plain shebang line.
</span>    <span class='ivar'>@env_path</span> <span class='op'>||=</span> <span class='const'><a href="#ENV_PATHS-constant" title="Gem::Installer::ENV_PATHS (constant)">ENV_PATHS</a></span>.<span class='id identifier rubyid_find'>find</span> {<span class='op'>|</span><span class='id identifier rubyid_env_path'>env_path</span><span class='op'>|</span> <span class='const'>File</span>.<span class='id identifier rubyid_executable?'>executable?</span> <span class='id identifier rubyid_env_path'>env_path</span> }
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='ivar'>@env_path</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_name'>ruby_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="spec-instance_method">
  <h3 class='signature '>
    #<strong>spec</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Lazy accessor for the installer’s spec.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L276-L280'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='276' data-end='280'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 276</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_spec'>spec</span>
<span class='kw'>rescue</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Package.html" title="Gem::Package (class)">Package</a></span><span class='op'>::</span><span class='const'><a href="Package/Error.html" title="Gem::Package::Error (class)">Error</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid gem: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="spec_file-instance_method">
  <h3 class='signature '>
    #<strong>spec_file</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The location of the spec file that is installed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L429-L431'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='429' data-end='431'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 429</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec_file'>spec_file</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gemspec</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack-instance_method">
  <h3 class='signature '>
    #<strong>unpack</strong>(directory)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Unpacks the gem into the given directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L420-L423'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='420' data-end='423'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 420</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack'>unpack</span>(<span class='id identifier rubyid_directory'>directory</span>)
  <span class='ivar'>@gem_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_directory'>directory</span>
  <span class='id identifier rubyid_extract_files'><a href="#extract_files-instance_method" title="Gem::Installer#extract_files (method)">extract_files</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_gem_home-instance_method">
  <h3 class='signature nodoc'>
    #<strong>verify_gem_home</strong>(unpack = false)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">Gem::FilePermissionError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L722-L726'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='722' data-end='726'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 722</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_gem_home'>verify_gem_home</span>(<span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="Gem::Installer#unpack (method)">unpack</a></span> <span class='op'>=</span> <span class='kw'>false</span>) <span class='comment'># :nodoc:
</span>  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dir_mode'>dir_mode</span>] <span class='op'>&amp;&amp;</span> <span class='int'>0755</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">FilePermissionError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="Gem::Installer#unpack (method)">unpack</a></span> <span class='kw'>or</span> <span class='const'>File</span>.<span class='id identifier rubyid_writable?'>writable?</span>(<span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verify_spec-instance_method">
  <h3 class='signature '>
    #<strong>verify_spec</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L728-L748'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='728' data-end='748'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 728</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_spec'>verify_spec</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span><span class='op'>::</span><span class='const'><a href="Specification.html#VALID_NAME_PATTERN-constant" title="Gem::Specification::VALID_NAME_PATTERN (constant)">VALID_NAME_PATTERN</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> has an invalid name</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_raw_require_paths'>raw_require_paths</span>.<span class='id identifier rubyid_any?'>any?</span>{<span class='op'>|</span><span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='op'>|</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\R</span><span class='regexp_end'>/</span></span> }
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> has an invalid require_paths</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_extensions'>extensions</span>.<span class='id identifier rubyid_any?'>any?</span>{<span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span> <span class='id identifier rubyid_ext'>ext</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\R</span><span class='regexp_end'>/</span></span> }
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> has an invalid extensions</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_specification_version'>specification_version</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\d+\z</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> has an invalid specification_version</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_dependencies'>dependencies</span>.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span> <span class='id identifier rubyid_dep'>dep</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\R</span><span class='regexp_end'>/</span></span> <span class='op'>||</span> <span class='id identifier rubyid_dep'>dep</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\R</span><span class='regexp_end'>/</span></span> }
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> has an invalid dependencies</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="windows_stub_script-instance_method">
  <h3 class='signature '>
    #<strong>windows_stub_script</strong>(bindir, bin_file_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>return the stub script text used to launch the true Ruby script</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L790-L822'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='790' data-end='822'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 790</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_windows_stub_script'>windows_stub_script</span>(<span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span>)
  <span class='id identifier rubyid_rb_config'>rb_config</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>
  <span class='id identifier rubyid_rb_topdir'>rb_topdir</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>TOPDIR</span> <span class='op'>||</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_rb_config'>rb_config</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bindir</span><span class='tstring_end'>&quot;</span></span>])

  <span class='comment'># get ruby executable file name from RbConfig
</span>  <span class='id identifier rubyid_ruby_exe'>ruby_exe</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rb_config'>rb_config</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUBY_INSTALL_NAME</span><span class='tstring_end'>&#39;</span></span>]<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rb_config'>rb_config</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXEEXT</span><span class='tstring_end'>&#39;</span></span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_ruby_exe'>ruby_exe</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby.exe</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ruby_exe'>ruby_exe</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ruby_exe'>ruby_exe</span>)
    <span class='comment'># stub &amp; ruby.exe withing same folder.  Portable
</span>    <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='tstring_content'>@ECHO OFF
@&quot;%~dp0ruby.exe&quot; &quot;%~dpn0&quot; %*
</span><span class='heredoc_end'>    TEXT
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>.<span class='id identifier rubyid_downcase'>downcase</span>.<span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_rb_topdir'>rb_topdir</span>.<span class='id identifier rubyid_downcase'>downcase</span>
    <span class='comment'># stub within ruby folder, but not standard bin.  Portable
</span>    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pathname</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::Installer.new (method)">new</a></span> <span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span>
    <span class='id identifier rubyid_to'>to</span>   <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::Installer.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rb_topdir'>rb_topdir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_rel'>rel</span>  <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_from'>from</span>
    <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='tstring_content'>@ECHO OFF
@&quot;%~dp0</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel'>rel</span><span class='embexpr_end'>}</span><span class='tstring_content'>/ruby.exe&quot; &quot;%~dpn0&quot; %*
</span><span class='heredoc_end'>    TEXT
</span>  <span class='kw'>else</span>
    <span class='comment'># outside ruby folder, maybe -user-install or bundler.  Portable, but ruby
</span>    <span class='comment'># is dependent on PATH
</span>    <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='tstring_content'>@ECHO OFF
@ruby.exe &quot;%~dpn0&quot; %*
</span><span class='heredoc_end'>    TEXT
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_build_info_file-instance_method">
  <h3 class='signature '>
    #<strong>write_build_info_file</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Writes the file containing the arguments for building this gem’s extensions.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L921-L938'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='921' data-end='938'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 921</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_build_info_file'>write_build_info_file</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@build_args</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_build_info_dir'>build_info_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>build_info</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Gem::Installer#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dir_mode'>dir_mode</span>]
  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_build_info_dir'>build_info_dir</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span> <span class='op'>&amp;&amp;</span> <span class='int'>0755</span>

  <span class='id identifier rubyid_build_info_file'>build_info_file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_build_info_dir'>build_info_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.info</span><span class='tstring_end'>&quot;</span></span>

  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_build_info_file'>build_info_file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='ivar'>@build_args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_arg'>arg</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='const'>File</span>.<span class='id identifier rubyid_chmod'>chmod</span>(<span class='id identifier rubyid_dir_mode'>dir_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_build_info_dir'>build_info_dir</span>) <span class='kw'>if</span> <span class='id identifier rubyid_dir_mode'>dir_mode</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_cache_file-instance_method">
  <h3 class='signature '>
    #<strong>write_cache_file</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Writes the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file to the cache directory</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L943-L946'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='943' data-end='946'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 943</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_cache_file'>write_cache_file</span>
  <span class='id identifier rubyid_cache_file'>cache_file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'><a href="#gem_home-instance_method" title="Gem::Installer#gem_home (method)">gem_home</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cache</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_file_name'>file_name</span>
  <span class='ivar'>@package</span>.<span class='id identifier rubyid_copy_to'>copy_to</span> <span class='id identifier rubyid_cache_file'>cache_file</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_default_spec-instance_method">
  <h3 class='signature '>
    #<strong>write_default_spec</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Writes the full <code>.gemspec</code> specification (in Ruby) to the gem home’s specifications/default directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L459-L463'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='459' data-end='463'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 459</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_default_spec'>write_default_spec</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_default_spec_file'><a href="#default_spec_file-instance_method" title="Gem::Installer#default_spec_file (method)">default_spec_file</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_to_ruby'>to_ruby</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_spec-instance_method">
  <h3 class='signature '>
    #<strong>write_spec</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Writes the <code>.gemspec</code> specification (in Ruby) to the gem home’s specifications directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/lib/rubygems/installer.rb#L445-L453'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='445' data-end='453'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 445</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_spec'>write_spec</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_spec_file'><a href="#spec_file-instance_method" title="Gem::Installer#spec_file (method)">spec_file</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_installed_by_version'>installed_by_version</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_rubygems_version'><a href="../Gem.html#rubygems_version-class_method" title="Gem.rubygems_version (method)">rubygems_version</a></span>

    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_spec'><a href="#spec-instance_method" title="Gem::Installer#spec (method)">spec</a></span>.<span class='id identifier rubyid_to_ruby_for_cache'>to_ruby_for_cache</span>

    <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_fsync'>fsync</span> <span class='kw'>rescue</span> <span class='kw'>nil</span> <span class='comment'># for filesystems without fsync(2)
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>