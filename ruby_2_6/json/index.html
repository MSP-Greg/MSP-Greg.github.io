<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: JSON &mdash; json</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "JSON",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-2.6.10</a> &raquo; 
      <a href='.'>json</a> &raquo; 
      <a href='_index.html#alpha_J'>Index (J)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>JSON&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: JSON</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="JSON/Ext.html" title="JSON::Ext (module)"><code>Ext</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="JSON/GenericObject.html" title="JSON::GenericObject (class)"><code>GenericObject</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="JSON/CircularDatastructure.html" title="JSON::CircularDatastructure (class)"><code>CircularDatastructure</code></a>,
        <a href="JSON/GeneratorError.html" title="JSON::GeneratorError (class)"><code>GeneratorError</code></a>,
        <a href="JSON/JSONError.html" title="JSON::JSONError (class)"><code>JSONError</code></a>,
        <a href="JSON/MissingUnicodeSupport.html" title="JSON::MissingUnicodeSupport (class)"><code>MissingUnicodeSupport</code></a>,
        <a href="JSON/NestingError.html" title="JSON::NestingError (class)"><code>NestingError</code></a>,
        <a href="JSON/ParserError.html" title="JSON::ParserError (class)"><code>ParserError</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json.rb#L55'>ext/json/lib/json.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/generator/generator.c#L1341'>ext/json/generator/generator.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L5'>ext/json/lib/json/common.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/ext.rb#L3'>ext/json/lib/json/ext.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/generic_object.rb#L4'>ext/json/lib/json/generic_object.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L2'>ext/json/lib/json/version.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/parser/parser.c#L2089'>ext/json/parser/parser.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-JavaScript+Object+Notation+-28JSON-29">JavaScript Object Notation (JSON)</h3>

<p><code>JSON</code> is a lightweight data-interchange format. It is easy for us humans to read and write. Plus, equally simple for machines to generate or parse. <code>JSON</code> is completely language agnostic, making it the ideal interchange format.</p>

<p>Built on two universally available structures:</p>

<pre class="code ruby"><code class="ruby">1. A collection of name/value pairs. Often referred to as an _object_, hash table, record, struct, keyed list, or associative array.
2. An ordered list of values. More commonly called an _array_, vector, sequence or list.</code></pre>

<p>To read more about <code>JSON</code> visit: <a href="http://json.org">json.org</a></p>

<h4 id="label-Parsing+JSON">Parsing JSON</h4>

<p>To parse a <code>JSON</code> string received by another application or generated within your existing application:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_my_hash'>my_hash</span> <span class='op'>=</span> <span class='const'>JSON</span>.<span class='id identifier rubyid_parse'><a href="#parse-class_method" title="JSON.parse (method)">parse</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{&quot;hello&quot;: &quot;goodbye&quot;}</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_my_hash'>my_hash</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Notice the extra quotes <code>&#39;&#39;</code> around the hash notation. Ruby expects the argument to be a string and can’t convert objects like a hash or array.</p>

<p>Ruby converts your string into a hash</p>

<h4 id="label-Generating+JSON">Generating JSON</h4>

<p>Creating a <code>JSON</code> string for communication or serialization is just as simple.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_my_hash'>my_hash</span> <span class='op'>=</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span>}
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>JSON</span>.<span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>(<span class='id identifier rubyid_my_hash'>my_hash</span>) <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{\&quot;hello\&quot;:\&quot;goodbye\&quot;}</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Or an alternative way:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_puts'>puts</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span>}.<span class='id identifier rubyid_to_json'>to_json</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{\&quot;hello\&quot;:\&quot;goodbye\&quot;}</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p><a href="#generate-class_method" title="JSON.generate (method)">.generate</a> only allows objects or arrays to be converted to <code>JSON</code> syntax. <code>to_json</code>, however, accepts many Ruby classes even though it acts only as a method for serialization:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>

<span class='int'>1</span>.<span class='id identifier rubyid_to_json'>to_json</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='Infinity-constant' class='summary_signature'>Infinity =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L102-L102'># File 'ext/json/lib/json/common.rb', line 102</a>    <pre class='code ruby'><span class='float'>1.0</span><span class='op'>/</span><span class='int'>0</span></pre>
  </li>
  <li>
    <span id='JSON_LOADED-constant' class='summary_signature'>JSON_LOADED =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/ext.rb#L14-L14'># File 'ext/json/lib/json/ext.rb', line 14</a>    <pre class='code ruby'><span class='kw'>true</span></pre>
  </li>
  <li>
    <span id='MinusInfinity-constant' class='summary_signature'>MinusInfinity =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L104-L104'># File 'ext/json/lib/json/common.rb', line 104</a>    <pre class='code ruby'><span class='op'>-</span><span class='const'><a href="#Infinity-constant" title="JSON::Infinity (constant)">Infinity</a></span></pre>
  </li>
  <li>
    <span id='NaN-constant' class='summary_signature'>NaN =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L100-L100'># File 'ext/json/lib/json/common.rb', line 100</a>    <pre class='code ruby'><span class='float'>0.0</span><span class='op'>/</span><span class='int'>0</span></pre>
  </li>
  <li>
    <span id='UnparserError-constant' class='summary_signature'>UnparserError =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>For backwards compatibility</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L129-L129'># File 'ext/json/lib/json/common.rb', line 129</a>    <pre class='code ruby'><span class='const'><a href="JSON/GeneratorError.html" title="JSON::GeneratorError (class)">GeneratorError</a></span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><code>JSON</code> version</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L4-L4'># File 'ext/json/lib/json/version.rb', line 4</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.1.0</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='VERSION_ARRAY-constant' class='summary_signature nodoc'>VERSION_ARRAY =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L5-L5'># File 'ext/json/lib/json/version.rb', line 5</a>    <pre class='code ruby'><span class='const'><a href="#VERSION-constant" title="JSON::VERSION (constant)">VERSION</a></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_to_i'>to_i</span> }</pre>
  </li>
  <li>
    <span id='VERSION_BUILD-constant' class='summary_signature nodoc'>VERSION_BUILD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L8-L8'># File 'ext/json/lib/json/version.rb', line 8</a>    <pre class='code ruby'><span class='const'><a href="#VERSION_ARRAY-constant" title="JSON::VERSION_ARRAY (constant)">VERSION_ARRAY</a></span>[<span class='int'>2</span>]</pre>
  </li>
  <li>
    <span id='VERSION_MAJOR-constant' class='summary_signature nodoc'>VERSION_MAJOR =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L6-L6'># File 'ext/json/lib/json/version.rb', line 6</a>    <pre class='code ruby'><span class='const'><a href="#VERSION_ARRAY-constant" title="JSON::VERSION_ARRAY (constant)">VERSION_ARRAY</a></span>[<span class='int'>0</span>]</pre>
  </li>
  <li>
    <span id='VERSION_MINOR-constant' class='summary_signature nodoc'>VERSION_MINOR =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/version.rb#L7-L7'># File 'ext/json/lib/json/version.rb', line 7</a>    <pre class='code ruby'><span class='const'><a href="#VERSION_ARRAY-constant" title="JSON::VERSION_ARRAY (constant)">VERSION_ARRAY</a></span>[<span class='int'>1</span>]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#create_id-class_method" title=".create_id (class method)">.<strong>create_id</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>This is create identifier, which is used to decide if the <em>json_create</em> hook of a class should be called.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#dump_default_options-class_method" title=".dump_default_options (class method)">.<strong>dump_default_options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The global default options for the <a href="#dump-class_method" title="JSON.dump (method)">.dump</a> method:  :max_nesting: false  :allow_nan:   true  :allow_blank: true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#generator-class_method" title=".generator (class method)">.<strong>generator</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>JSON</code> generator module that is used by <code>JSON</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#load_default_options-class_method" title=".load_default_options (class method)">.<strong>load_default_options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The global default options for the <a href="#load-class_method" title="JSON.load (method)">.load</a> method:  :max_nesting: false  :allow_nan:   true  :allow_blank:  true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#parser-class_method" title=".parser (class method)">.<strong>parser</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>JSON</code> parser class that is used by <code>JSON</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#state-class_method" title=".state (class method)">.<strong>state</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>JSON</code> generator state class that is used by <code>JSON</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#generator=-class_method" title=".generator= (class method)">.<strong>generator=</strong>(generator)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the module <em>generator</em> to be used by <code>JSON</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#parser=-class_method" title=".parser= (class method)">.<strong>parser=</strong>(parser)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the <code>JSON</code> parser class <em>parser</em> to be used by <code>JSON</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-class_method" title=".[] (class method)">.<strong>[]</strong>(object, opts = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>object</em> is string-like, parse the string and return the parsed result as a Ruby data structure.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#iconv-class_method" title=".iconv (class method)">.<strong>iconv</strong>(to, from, string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Encodes string using Ruby’s <em>String.encode</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#dump-class_method" title=".dump (class method)">.<strong>dump</strong>(obj, anIO = nil, limit = nil)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Dumps <em>obj</em> as a <code>JSON</code> string, i.e. calls generate on the object and returns the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#fast_generate-class_method" title=".fast_generate (class method)">.<strong>fast_generate</strong>(obj, opts = nil)  </a>
      (also: .fast_unparse)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#fast_unparse-class_method" title=".fast_unparse (class method)">.<strong>fast_unparse</strong>  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#generate-class_method" title=".generate (class method)">.<strong>generate</strong>(obj, opts = nil)  </a>
      (also: .unparse)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#load-class_method" title=".load (class method)">.<strong>load</strong>(source, proc = nil, options = {})  </a>
      (also: .restore)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Load a ruby data structure from a <code>JSON</code> <em>source</em> and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(source, opts = {})  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse the <code>JSON</code> document <em>source</em> into a Ruby data structure and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#parse!-class_method" title=".parse! (class method)">.<strong>parse!</strong>(source, opts = {})  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse the <code>JSON</code> document <em>source</em> into a Ruby data structure and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#pretty_generate-class_method" title=".pretty_generate (class method)">.<strong>pretty_generate</strong>(obj, opts = nil)  </a>
      (also: .pretty_unparse)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#pretty_unparse-class_method" title=".pretty_unparse (class method)">.<strong>pretty_unparse</strong>  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#recurse_proc-class_method" title=".recurse_proc (class method)">.<strong>recurse_proc</strong>(result, &amp;proc)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Recursively calls passed <em>Proc</em> if the parsed data structure is an <em>Array</em> or <em>Hash</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#restore-class_method" title=".restore (class method)">.<strong>restore</strong>  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#unparse-class_method" title=".unparse (class method)">.<strong>unparse</strong>  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#deep_const_get-class_method" title=".deep_const_get (class method)">.<strong>deep_const_get</strong>(path)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the constant located at <em>path</em>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="create_id-class_method">
  <h3 class='signature rw first'>
    .<strong>create_id</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is create identifier, which is used to decide if the <em>json_create</em> hook of a class should be called. It defaults to ‘json_class’.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L96-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='96' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create_id'>create_id</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump_default_options-class_method">
  <h3 class='signature rw'>
    .<strong>dump_default_options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The global default options for the <a href="#dump-class_method" title="JSON.dump (method)">.dump</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:allow_blank: true</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L362-L362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='362' data-end='362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 362</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dump_default_options'>dump_default_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generator-class_method">
  <h3 class='signature rw'>
    .<strong>generator</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>JSON</code> generator module that is used by <code>JSON</code>. This is either <a href="JSON/Ext/Generator.html" title="JSON::Ext::Generator (module)"><code>::JSON::Ext::Generator</code></a> or <code>JSON::Pure::Generator</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L88-L88'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='88' data-end='88'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 88</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_generator'>generator</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generator=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>generator=</strong>(generator)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the module <em>generator</em> to be used by <code>JSON</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L52-L84'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='52' data-end='84'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generator='>generator=</span>(<span class='id identifier rubyid_generator'><a href="#generator-class_method" title="JSON.generator (method)">generator</a></span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='ivar'>@generator</span> <span class='op'>=</span> <span class='id identifier rubyid_generator'><a href="#generator-class_method" title="JSON.generator (method)">generator</a></span>
  <span class='id identifier rubyid_generator_methods'>generator_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_generator'><a href="#generator-class_method" title="JSON.generator (method)">generator</a></span><span class='op'>::</span><span class='const'>GeneratorMethods</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>in</span> <span class='id identifier rubyid_generator_methods'>generator_methods</span>.<span class='id identifier rubyid_constants'>constants</span>
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_deep_const_get'><a href="#deep_const_get-class_method" title="JSON.deep_const_get (method)">deep_const_get</a></span>(<span class='id identifier rubyid_const'>const</span>)
    <span class='id identifier rubyid_modul'>modul</span> <span class='op'>=</span> <span class='id identifier rubyid_generator_methods'>generator_methods</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_const'>const</span>)
    <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_class_eval'>class_eval</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_instance_methods'>instance_methods</span>(<span class='kw'>false</span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>to_json</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>and</span> <span class='id identifier rubyid_remove_method'>remove_method</span> <span class='id identifier rubyid_m'>m</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_modul'>modul</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span> <span class='op'>=</span> <span class='id identifier rubyid_generator'><a href="#generator-class_method" title="JSON.generator (method)">generator</a></span><span class='op'>::</span><span class='const'>State</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbeg'>:</span><span class='const'>State</span><span class='comma'>,</span> <span class='kw'>self</span>.<span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbeg'>:</span><span class='const'>SAFE_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbeg'>:</span><span class='const'>FAST_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span>.<span class='id identifier rubyid_new'>new</span>(
    <span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_space'>space</span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_object_nl'>object_nl</span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_array_nl'>array_nl</span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_max_nesting'>max_nesting</span>    <span class='op'>=&gt;</span> <span class='kw'>false</span>
  )
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbeg'>:</span><span class='const'>PRETTY_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span>.<span class='id identifier rubyid_new'>new</span>(
    <span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_space'>space</span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_object_nl'>object_nl</span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_array_nl'>array_nl</span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  )
<span class='kw'>ensure</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_default_options-class_method">
  <h3 class='signature rw'>
    .<strong>load_default_options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The global default options for the <a href="#load-class_method" title="JSON.load (method)">.load</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:allow_blank:  true</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L300-L300'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='300' data-end='300'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 300</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_load_default_options'>load_default_options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parser-class_method">
  <h3 class='signature rw'>
    .<strong>parser</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>JSON</code> parser class that is used by <code>JSON</code>. This is either <a href="JSON/Ext/Parser.html" title="JSON::Ext::Parser (class)"><code>::JSON::Ext::Parser</code></a> or <code>JSON::Pure::Parser</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L23-L23'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='23' data-end='23'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 23</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parser'>parser</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parser=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>parser=</strong>(parser)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the <code>JSON</code> parser class <em>parser</em> to be used by <code>JSON</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L26-L30'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='26' data-end='30'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 26</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parser='>parser=</span>(<span class='id identifier rubyid_parser'><a href="#parser-class_method" title="JSON.parser (method)">parser</a></span>) <span class='comment'># :nodoc:
</span>  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'><a href="#parser-class_method" title="JSON.parser (method)">parser</a></span>
  <span class='id identifier rubyid_remove_const'>remove_const</span> <span class='symbeg'>:</span><span class='const'>Parser</span> <span class='kw'>if</span> <span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>Parser</span><span class='comma'>,</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbeg'>:</span><span class='const'>Parser</span><span class='comma'>,</span> <span class='id identifier rubyid_parser'><a href="#parser-class_method" title="JSON.parser (method)">parser</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="state-class_method">
  <h3 class='signature rw'>
    .<strong>state</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>JSON</code> generator state class that is used by <code>JSON</code>. This is either <a href="JSON/Ext/Generator/State.html" title="JSON::Ext::Generator::State (class)"><code>::JSON::Ext::Generator::State</code></a> or <code>JSON::Pure::Generator::State</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L92-L92'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='92' data-end='92'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="[]-class_method">
  <h3 class='signature  first'>
    .<strong>[]</strong>(object, opts = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>object</em> is string-like, parse the string and return the parsed result as a Ruby data structure. Otherwise generate a <code>JSON</code> text from the Ruby data structure object and return it.</p>

<p>The <em>opts</em> argument is passed through to generate/parse respectively. See generate and parse for their documentation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L13-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='13' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 13</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {})
  <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='const'>JSON</span>.<span class='id identifier rubyid_parse'><a href="#parse-class_method" title="JSON.parse (method)">parse</a></span>(<span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_str'>to_str</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>else</span>
    <span class='const'>JSON</span>.<span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deep_const_get-class_method">
  <h3 class='signature nodoc'>
    .<strong>deep_const_get</strong>(path)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the constant located at <em>path</em>. The format of <em>path</em> has to be either ::A::B::C or <code>A::B::C</code>. In any case, A has to be located at the top level (absolute namespace path?). If there doesn’t exist a constant at the given path, an ArgumentError is raised.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L36-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_const_get'>deep_const_get</span>(<span class='id identifier rubyid_path'>path</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_inject'>inject</span>(<span class='const'><a href="Object.html" title="Object (class)">Object</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='kw'>case</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_empty?'>empty?</span>                  <span class='kw'>then</span> <span class='id identifier rubyid_p'>p</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='kw'>then</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_c'>c</span>)
    <span class='kw'>else</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_const_missing'>const_missing</span>(<span class='id identifier rubyid_c'>c</span>)
      <span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t get const </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-class_method">
  <h3 class='signature private'>
    .<strong>dump</strong>(obj, anIO = nil, limit = nil)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Dumps <em>obj</em> as a <code>JSON</code> string, i.e. calls generate on the object and returns the result.</p>

<p>If anIO (an IO-like object or an object that responds to the write method) was given, the resulting <code>JSON</code> is written to it.</p>

<p>If the number of nested arrays or objects exceeds <em>limit</em>, an ArgumentError exception is raised. This argument is similar (but not exactly the same!) to the <em>limit</em> argument in <code>Marshal.dump</code>.</p>

<p>The default options for the generator can be changed via the dump_default_options method.</p>

<p>This method is part of the implementation of the load/dump interface of Marshal and YAML.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L384-L403'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='384' data-end='403'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 384</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span> <span class='kw'>and</span> <span class='id identifier rubyid_limit'>limit</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='id identifier rubyid_anIO'>anIO</span>.<span class='id identifier rubyid_to_io'>to_io</span> <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_io'>to_io</span>)
    <span class='kw'>unless</span> <span class='id identifier rubyid_anIO'>anIO</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_write'>write</span>)
      <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='id identifier rubyid_anIO'>anIO</span>
      <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'>JSON</span>.<span class='id identifier rubyid_dump_default_options'><a href="#dump_default_options-class_method" title="JSON.dump_default_options (method)">dump_default_options</a></span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_max_nesting'>max_nesting</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_limit'>limit</span>) <span class='kw'>if</span> <span class='id identifier rubyid_limit'>limit</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span>
    <span class='id identifier rubyid_anIO'>anIO</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_result'>result</span>
    <span class='id identifier rubyid_anIO'>anIO</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>JSON</span><span class='op'>::</span><span class='const'><a href="JSON/NestingError.html" title="JSON::NestingError (class)">NestingError</a></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exceed depth limit</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fast_generate-class_method">
  <h3 class='signature private'>
    .<strong>fast_generate</strong>(obj, opts = nil)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>.fast_unparse</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it. This method disables the checks for circles in Ruby objects.</p>

<p><strong>WARNING</strong>: Be careful not to pass any Ruby data structures with circles as <em>obj</em> argument because this will cause <code>JSON</code> to go into an infinite loop.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L239-L256'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='239' data-end='256'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 239</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fast_generate'>fast_generate</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span> <span class='op'>=</span> <span class='const'>FAST_STATE_PROTOTYPE</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_hash'>to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_h'>to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_configure'>configure</span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fast_unparse-class_method">
  <h3 class='signature private'>
    .<strong>fast_unparse</strong>   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L260-L260'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='260' data-end='260'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 260</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_fast_unparse'>fast_unparse</span> <span class='id identifier rubyid_fast_generate'><a href="#fast_generate-class_method" title="JSON.fast_generate (method)">fast_generate</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate-class_method">
  <h3 class='signature private'>
    .<strong>generate</strong>(obj, opts = nil)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>.unparse</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it. <em>state</em> is * a <code>JSON::State</code> object,</p>
<ul><li>
<p>or a Hash like object (responding to to_hash),</p>
</li><li>
<p>an object convertible into a hash by a to_h method,</p>
</li></ul>

<p>that is used as or to configure a State object.</p>

<p>It defaults to a state object, that creates the shortest possible <code>JSON</code> text in one line, checks for circular data structures and doesn’t allow <a href="#NaN-constant" title="JSON::NaN (constant)">NaN</a>, <a href="#Infinity-constant" title="JSON::Infinity (constant)">Infinity</a>, and -Infinity.</p>

<p>A <em>state</em> hash can have the following keys:</p>
<ul><li>
<p><strong>indent</strong>: a string used to indent levels (default: ”),</p>
</li><li>
<p><strong>space</strong>: a string that is put after, a : or , delimiter (default: ”),</p>
</li><li>
<p><strong>space_before</strong>: a string that is put before a : pair delimiter (default: ”),</p>
</li><li>
<p><strong>object_nl</strong>: a string that is put at the end of a <code>JSON</code> object (default: ”),</p>
</li><li>
<p><strong>array_nl</strong>: a string that is put at the end of a <code>JSON</code> array (default: ”),</p>
</li><li>
<p><strong>allow_nan</strong>: true if <a href="#NaN-constant" title="JSON::NaN (constant)">NaN</a>, <a href="#Infinity-constant" title="JSON::Infinity (constant)">Infinity</a>, and -Infinity should be generated, otherwise an exception is thrown if these values are encountered. This options defaults to false.</p>
</li><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the data structures from which JSON is to be generated. Disable depth checking with :max_nesting =&gt; false, it defaults to 100.</p>
</li></ul>

<p>See also the fast_generate for the fastest creation method with the least amount of sanity checks, and the pretty_generate method for some defaults for pretty output.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L208-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='208' data-end='225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 208</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span> <span class='op'>=</span> <span class='const'>SAFE_STATE_PROTOTYPE</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_hash'>to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_h'>to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span> <span class='op'>=</span> <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_configure'>configure</span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_generate'>generate</span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="iconv-class_method">
  <h3 class='signature '>
    .<strong>iconv</strong>(to, from, string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Encodes string using Ruby’s <em>String.encode</em></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L406-L408'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='406' data-end='408'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 406</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_iconv'>iconv</span>(<span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='id identifier rubyid_from'>from</span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='id identifier rubyid_from'>from</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load-class_method">
  <h3 class='signature private'>
    .<strong>load</strong>(source, proc = nil, options = {})   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>.restore</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Load a ruby data structure from a <code>JSON</code> <em>source</em> and return it. A source can either be a string-like object, an IO-like object, or an object responding to the read method. If <em>proc</em> was given, it will be called with any nested Ruby object as an argument recursively in depth first order. To modify the default options pass in the optional <em>options</em> argument as well.</p>

<p>BEWARE: This method is meant to serialise data from trusted user input, like from your own database server or clients under your control, it could be dangerous to allow untrusted users to pass <code>JSON</code> sources into it. The default options for the parser can be changed via the load_default_options method.</p>

<p>This method is part of the implementation of the load/dump interface of Marshal and YAML.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L323-L338'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='323' data-end='338'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_load_default_options'><a href="#load_default_options-class_method" title="JSON.load_default_options (method)">load_default_options</a></span>.<span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_to_str'>to_str</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_io'>to_io</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_to_io'>to_io</span>.<span class='id identifier rubyid_read'>read</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_read'>read</span>)
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_allow_blank'>allow_blank</span>] <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_empty?'>empty?</span>)
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>null</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_parse'><a href="#parse-class_method" title="JSON.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>)
  <span class='id identifier rubyid_recurse_proc'><a href="#recurse_proc-class_method" title="JSON.recurse_proc (method)">recurse_proc</a></span>(<span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span>) <span class='kw'>if</span> <span class='id identifier rubyid_proc'>proc</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse-class_method">
  <h3 class='signature private'>
    .<strong>parse</strong>(source, opts = {})   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse the <code>JSON</code> document <em>source</em> into a Ruby data structure and return it.</p>

<p><em>opts</em> can have the following keys:</p>
<ul><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the parsed data structures. Disable depth checking with :max_nesting =&gt; false. It defaults to 100.</p>
</li><li>
<p><strong>allow_nan</strong>: If set to true, allow <a href="#NaN-constant" title="JSON::NaN (constant)">NaN</a>, <a href="#Infinity-constant" title="JSON::Infinity (constant)">Infinity</a> and -Infinity in defiance of RFC 7159 to be parsed by the Parser. This option defaults to false.</p>
</li><li>
<p><strong>symbolize_names</strong>: If set to true, returns symbols for the names (keys) in a JSON object. Otherwise strings are returned. Strings are the default.</p>
</li><li>
<p><strong>create_additions</strong>: If set to false, the Parser doesn’t create additions even if a matching class and create_id was found. This option defaults to false.</p>
</li><li>
<p><strong>object_class</strong>: Defaults to Hash</p>
</li><li>
<p><strong>array_class</strong>: Defaults to Array</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L155-L157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='155' data-end='157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 155</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {})
  <span class='const'>Parser</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>).<span class='id identifier rubyid_parse'>parse</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse!-class_method">
  <h3 class='signature private'>
    .<strong>parse!</strong>(source, opts = {})   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse the <code>JSON</code> document <em>source</em> into a Ruby data structure and return it. The bang version of the parse method defaults to the more dangerous values for the <em>opts</em> hash, so be sure only to parse trusted <em>source</em> documents.</p>

<p><em>opts</em> can have the following keys:</p>
<ul><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the parsed data structures. Enable depth checking with :max_nesting =&gt; anInteger. The parse! methods defaults to not doing max depth checking: This can be dangerous if someone wants to fill up your stack.</p>
</li><li>
<p><strong>allow_nan</strong>: If set to true, allow <a href="#NaN-constant" title="JSON::NaN (constant)">NaN</a>, <a href="#Infinity-constant" title="JSON::Infinity (constant)">Infinity</a>, and -Infinity in defiance of RFC 7159 to be parsed by the Parser. This option defaults to true.</p>
</li><li>
<p><strong>create_additions</strong>: If set to false, the Parser doesn’t create additions even if a matching class and create_id was found. This option defaults to false.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L174-L180'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='180'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse!'>parse!</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {
    <span class='symbeg'>:</span><span class='id identifier rubyid_max_nesting'>max_nesting</span>  <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_allow_nan'>allow_nan</span>    <span class='op'>=&gt;</span> <span class='kw'>true</span>
  }.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='const'>Parser</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>).<span class='id identifier rubyid_parse'><a href="#parse-class_method" title="JSON.parse (method)">parse</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pretty_generate-class_method">
  <h3 class='signature private'>
    .<strong>pretty_generate</strong>(obj, opts = nil)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>.pretty_unparse</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a <code>JSON</code> document from the Ruby data structure <em>obj</em> and return it. The returned document is a prettier form of the document returned by <a href="#unparse-instance_method" title="JSON#unparse (method)">#unparse</a>.</p>

<p>The <em>opts</em> argument can be used to configure the generator. See the generate method for a more detailed explanation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L270-L287'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='270' data-end='287'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 270</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_generate'>pretty_generate</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span> <span class='op'>=</span> <span class='const'>PRETTY_STATE_PROTOTYPE</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_hash'>to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_h'>to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_configure'>configure</span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'><a href="#state-class_method" title="JSON.state (method)">state</a></span>.<span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pretty_unparse-class_method">
  <h3 class='signature private'>
    .<strong>pretty_unparse</strong>   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L291-L291'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='291' data-end='291'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 291</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_pretty_unparse'>pretty_unparse</span> <span class='id identifier rubyid_pretty_generate'><a href="#pretty_generate-class_method" title="JSON.pretty_generate (method)">pretty_generate</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="recurse_proc-class_method">
  <h3 class='signature private'>
    .<strong>recurse_proc</strong>(result, &amp;proc)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Recursively calls passed <em>Proc</em> if the parsed data structure is an <em>Array</em> or <em>Hash</em></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L341-L352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='341' data-end='352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 341</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span>(<span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span> }
    <span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='semicolon'>;</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span> }
    <span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="restore-class_method">
  <h3 class='signature private'>
    .<strong>restore</strong>   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L354-L354'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='354' data-end='354'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 354</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_restore'>restore</span> <span class='id identifier rubyid_load'><a href="#load-class_method" title="JSON.load (method)">load</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unparse-class_method">
  <h3 class='signature private'>
    .<strong>unparse</strong>   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_6_10/ext/json/lib/json/common.rb#L230-L230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='230' data-end='230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/json/lib/json/common.rb', line 230</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_unparse'>unparse</span> <span class='id identifier rubyid_generate'><a href="#generate-class_method" title="JSON.generate (method)">generate</a></span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>