<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Net::Telnet &mdash; net-telnet  Ruby-2.6.10 p210</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Net::Telnet",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-2.6.10</a> &raquo; 
      <a href='../'>net-telnet</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../Net.html" title="Net (module)">Net</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Telnet&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Net::Telnet</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L94'>lib/net/telnet.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet/version.rb#L2'>lib/net/telnet/version.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides telnet client functionality.</p>

<p>This class also has, through delegation, all the methods of a socket object (by default, a <code>TCPSocket</code>, but can be set by the <code>Proxy</code> option to <code>new()</code>).  This provides methods such as <code>close()</code> to end the session and <code>sysread()</code> to read data directly from the host, instead of via the <code>waitfor()</code> mechanism.  Note that if you do use <code>sysread()</code> directly when in telnet mode, you should probably pass the output through <code>preprocess()</code> to extract telnet command sequences.</p>

<p>The telnet protocol allows a client to login remotely to a user account on a server and execute commands via a shell.  The equivalent is done by creating a <code>Telnet</code> class with the <code>Host</code> option set to your host, calling #login() with your user and password, issuing one or more #cmd() calls, and then calling #close() to end the session.  The #waitfor(), #print(), #puts(), and #write() methods, which #cmd() is implemented on top of, are only needed if you are doing something more complicated.</p>

<p>A <code>Telnet</code> object can also be used to connect to non-telnet services, such as SMTP or HTTP.  In this case, you normally want to provide the <code>Port</code> option to specify the port to connect to, and set the <code>Telnetmode</code> option to false to prevent the client from attempting to interpret telnet command sequences. Generally, #login() will not work with other protocols, and you have to handle authentication yourself.</p>

<p>For some protocols, it will be possible to specify the <code>Prompt</code> option once when you create the <code>Telnet</code> object and use #cmd() calls; for others, you will have to specify the response sequence to look for as the Match option to every #cmd() call, or call #puts() and #waitfor() directly; for yet others, you will have to use #sysread() instead of #waitfor() and parse server responses yourself.</p>

<p>It is worth noting that when you create a new <code>Telnet</code> object, you can supply a proxy IO channel via the Proxy option.  This can be used to attach the <code>Telnet</code> object to other <code>Telnet</code> objects, to already open sockets, or to any read-write IO object.  This can be useful, for instance, for setting up a test fixture for unit testing.</p>

<h3 id="label-Examples">Examples</h3>

<h4 id="label-Log+in+and+send+a+command-2C+echoing+all+output+to+stdout">Log in and send a command, echoing all output to stdout</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_localhost'>localhost</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>Telnet</span><span class='op'>::</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::Telnet.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='comma'>,</span>
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[$%#&gt;] \z</span><span class='regexp_end'>/n</span></span>)
<span class='id identifier rubyid_localhost'>localhost</span>.<span class='id identifier rubyid_login'><a href="#login-instance_method" title="Net::Telnet#login (method)">login</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>username</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='id identifier rubyid_c'>c</span> }
<span class='id identifier rubyid_localhost'>localhost</span>.<span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>command</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='id identifier rubyid_c'>c</span> }
<span class='id identifier rubyid_localhost'>localhost</span>.<span class='id identifier rubyid_close'><a href="#close-instance_method" title="Net::Telnet#close (method)">close</a></span></code></pre>

<h4 id="label-Check+a+POP+server+to+see+if+you+have+mail">Check a POP server to see if you have mail</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pop'>pop</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>Telnet</span><span class='op'>::</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::Telnet.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your_destination_host_here</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='int'>110</span><span class='comma'>,</span>
                       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
                       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\+OK</span><span class='regexp_end'>/n</span></span>)
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your_username_here</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='id identifier rubyid_c'>c</span> }
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pass </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your_password_here</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='id identifier rubyid_c'>c</span> }
<span class='id identifier rubyid_pop'>pop</span>.<span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='id identifier rubyid_c'>c</span> }</code></pre>

<h3 id="label-References">References</h3>

<p>There are a large number of RFCs relevant to the <code>Telnet</code> protocol. RFCs 854-861 define the base protocol.  For a complete listing of relevant RFCs, see <a href="http://www.omnifarious.org/~hopper/technical/telnet-rfc.html">www.omnifarious.org/~hopper/technical/telnet-rfc.html</a></p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ABORT-constant' class='summary_signature nodoc'>ABORT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“357” # “xef” # end of record (transparent mode)</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L114-L114'># File 'lib/net/telnet.rb', line 114</a>    <pre class='code ruby'><span class='int'>238</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='AO-constant' class='summary_signature nodoc'>AO =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“366” # “xf6” # are you there</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L107-L107'># File 'lib/net/telnet.rb', line 107</a>    <pre class='code ruby'><span class='int'>245</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='AYT-constant' class='summary_signature nodoc'>AYT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“367” # “xf7” # erase the current character</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L106-L106'># File 'lib/net/telnet.rb', line 106</a>    <pre class='code ruby'><span class='int'>246</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='BREAK-constant' class='summary_signature nodoc'>BREAK =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“364” # “xf4” # interrupt process–permanently</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L109-L109'># File 'lib/net/telnet.rb', line 109</a>    <pre class='code ruby'><span class='int'>243</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='CR-constant' class='summary_signature nodoc'>CR =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L162-L162'># File 'lib/net/telnet.rb', line 162</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\015</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='DM-constant' class='summary_signature nodoc'>DM =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“363” # “xf3” # break</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L110-L110'># File 'lib/net/telnet.rb', line 110</a>    <pre class='code ruby'><span class='int'>242</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='DO-constant' class='summary_signature nodoc'>DO =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“376” # “xfe” # you are not to use option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L99-L99'># File 'lib/net/telnet.rb', line 99</a>    <pre class='code ruby'><span class='int'>253</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='DONT-constant' class='summary_signature nodoc'>DONT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“377” # “xff” # interpret as command</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L98-L98'># File 'lib/net/telnet.rb', line 98</a>    <pre class='code ruby'><span class='int'>254</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='EC-constant' class='summary_signature nodoc'>EC =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“370” # “xf8” # erase the current line</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L105-L105'># File 'lib/net/telnet.rb', line 105</a>    <pre class='code ruby'><span class='int'>247</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='EL-constant' class='summary_signature nodoc'>EL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“371” # “xf9” # you may reverse the line</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L104-L104'># File 'lib/net/telnet.rb', line 104</a>    <pre class='code ruby'><span class='int'>248</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='EOF-constant' class='summary_signature nodoc'>EOF =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“355” # “xed” # Suspend process</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L116-L116'># File 'lib/net/telnet.rb', line 116</a>    <pre class='code ruby'><span class='int'>236</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='EOL-constant' class='summary_signature nodoc'>EOL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L164-L164'># File 'lib/net/telnet.rb', line 164</a>    <pre class='code ruby'><span class='const'><a href="#CR-constant" title="Net::Telnet::CR (constant)">CR</a></span> <span class='op'>+</span> <span class='const'><a href="#LF-constant" title="Net::Telnet::LF (constant)">LF</a></span></pre>
  </li>
  <li>
    <span id='EOR-constant' class='summary_signature nodoc'>EOR =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“360” # “xf0” # end sub negotiation</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L113-L113'># File 'lib/net/telnet.rb', line 113</a>    <pre class='code ruby'><span class='int'>239</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='GA-constant' class='summary_signature nodoc'>GA =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“372” # “xfa” # interpret as subnegotiation</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L103-L103'># File 'lib/net/telnet.rb', line 103</a>    <pre class='code ruby'><span class='int'>249</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='IAC-constant' class='summary_signature nodoc'>IAC =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L97-L97'># File 'lib/net/telnet.rb', line 97</a>    <pre class='code ruby'><span class='int'>255</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='IP-constant' class='summary_signature nodoc'>IP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“365” # “xf5” # abort output–but let prog finish</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L108-L108'># File 'lib/net/telnet.rb', line 108</a>    <pre class='code ruby'><span class='int'>244</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='LF-constant' class='summary_signature nodoc'>LF =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L163-L163'># File 'lib/net/telnet.rb', line 163</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\012</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='NOP-constant' class='summary_signature nodoc'>NOP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“362” # “xf2” # data mark–for connect. cleaning</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L111-L111'># File 'lib/net/telnet.rb', line 111</a>    <pre class='code ruby'><span class='int'>241</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='NULL-constant' class='summary_signature nodoc'>NULL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“377” # “xff” # Extended-Options-List</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L161-L161'># File 'lib/net/telnet.rb', line 161</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\000</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='OPT_3270REGIME-constant' class='summary_signature nodoc'>OPT_3270REGIME =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“034” # “x1c” # Terminal Location Number</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L148-L148'># File 'lib/net/telnet.rb', line 148</a>    <pre class='code ruby'><span class='int'>29</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_AUTHENTICATION-constant' class='summary_signature nodoc'>OPT_AUTHENTICATION =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“$”    # “x24” # Environment Option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L156-L156'># File 'lib/net/telnet.rb', line 156</a>    <pre class='code ruby'><span class='int'>37</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_BINARY-constant' class='summary_signature nodoc'>OPT_BINARY =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“362” # “xf2” # for telfunc calls</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L119-L119'># File 'lib/net/telnet.rb', line 119</a>    <pre class='code ruby'><span class='int'>0</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_BM-constant' class='summary_signature nodoc'>OPT_BM =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“022” # “x12” # Logout</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L138-L138'># File 'lib/net/telnet.rb', line 138</a>    <pre class='code ruby'><span class='int'>19</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_DET-constant' class='summary_signature nodoc'>OPT_DET =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“023” # “x13” # Byte Macro</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L139-L139'># File 'lib/net/telnet.rb', line 139</a>    <pre class='code ruby'><span class='int'>20</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_ECHO-constant' class='summary_signature nodoc'>OPT_ECHO =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“000” # “x00” # Binary Transmission</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L120-L120'># File 'lib/net/telnet.rb', line 120</a>    <pre class='code ruby'><span class='int'>1</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_ENCRYPT-constant' class='summary_signature nodoc'>OPT_ENCRYPT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“%”    # “x25” # Authentication Option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L157-L157'># File 'lib/net/telnet.rb', line 157</a>    <pre class='code ruby'><span class='int'>38</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_EOR-constant' class='summary_signature nodoc'>OPT_EOR =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“030” # “x18” # Terminal Type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L144-L144'># File 'lib/net/telnet.rb', line 144</a>    <pre class='code ruby'><span class='int'>25</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_EXOPL-constant' class='summary_signature nodoc'>OPT_EXOPL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“‘”    # “x27” # New Environment Option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L159-L159'># File 'lib/net/telnet.rb', line 159</a>    <pre class='code ruby'><span class='int'>255</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_LFLOW-constant' class='summary_signature nodoc'>OPT_LFLOW =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“ ”    # “x20” # Terminal Speed</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L152-L152'># File 'lib/net/telnet.rb', line 152</a>    <pre class='code ruby'><span class='int'>33</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_LINEMODE-constant' class='summary_signature nodoc'>OPT_LINEMODE =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“!”    # “x21” # Remote Flow Control</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L153-L153'># File 'lib/net/telnet.rb', line 153</a>    <pre class='code ruby'><span class='int'>34</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_LOGOUT-constant' class='summary_signature nodoc'>OPT_LOGOUT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“021” # “x11” # Extended ASCII</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L137-L137'># File 'lib/net/telnet.rb', line 137</a>    <pre class='code ruby'><span class='int'>18</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAMS-constant' class='summary_signature nodoc'>OPT_NAMS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“003” # “x03” # Suppress Go Ahead</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L123-L123'># File 'lib/net/telnet.rb', line 123</a>    <pre class='code ruby'><span class='int'>4</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOCRD-constant' class='summary_signature nodoc'>OPT_NAOCRD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“t”   # “x09” # Output Page Size</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L129-L129'># File 'lib/net/telnet.rb', line 129</a>    <pre class='code ruby'><span class='int'>10</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOFFD-constant' class='summary_signature nodoc'>OPT_NAOFFD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“f”   # “x0c” # Output Horizontal Tab Disposition</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L132-L132'># File 'lib/net/telnet.rb', line 132</a>    <pre class='code ruby'><span class='int'>13</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOHTD-constant' class='summary_signature nodoc'>OPT_NAOHTD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“v”   # “x0b” # Output Horizontal Tab Stops</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L131-L131'># File 'lib/net/telnet.rb', line 131</a>    <pre class='code ruby'><span class='int'>12</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOHTS-constant' class='summary_signature nodoc'>OPT_NAOHTS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“n”   # “x0a” # Output Carriage-Return Disposition</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L130-L130'># File 'lib/net/telnet.rb', line 130</a>    <pre class='code ruby'><span class='int'>11</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOL-constant' class='summary_signature nodoc'>OPT_NAOL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“a”   # “x07” # Remote Controlled Trans and Echo</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L127-L127'># File 'lib/net/telnet.rb', line 127</a>    <pre class='code ruby'><span class='int'>8</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOLFD-constant' class='summary_signature nodoc'>OPT_NAOLFD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“017” # “x0f” # Output Vertical Tab Disposition</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L135-L135'># File 'lib/net/telnet.rb', line 135</a>    <pre class='code ruby'><span class='int'>16</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOP-constant' class='summary_signature nodoc'>OPT_NAOP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“010” # “x08” # Output Line Width</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L128-L128'># File 'lib/net/telnet.rb', line 128</a>    <pre class='code ruby'><span class='int'>9</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOVTD-constant' class='summary_signature nodoc'>OPT_NAOVTD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“016” # “x0e” # Output Vertical Tabstops</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L134-L134'># File 'lib/net/telnet.rb', line 134</a>    <pre class='code ruby'><span class='int'>15</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAOVTS-constant' class='summary_signature nodoc'>OPT_NAOVTS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“r”   # “x0d” # Output Formfeed Disposition</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L133-L133'># File 'lib/net/telnet.rb', line 133</a>    <pre class='code ruby'><span class='int'>14</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NAWS-constant' class='summary_signature nodoc'>OPT_NAWS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“036” # “x1e” # X.3 PAD</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L150-L150'># File 'lib/net/telnet.rb', line 150</a>    <pre class='code ruby'><span class='int'>31</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_NEW_ENVIRON-constant' class='summary_signature nodoc'>OPT_NEW_ENVIRON =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“&amp;”    # “x26” # Encryption Option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L158-L158'># File 'lib/net/telnet.rb', line 158</a>    <pre class='code ruby'><span class='int'>39</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_OLD_ENVIRON-constant' class='summary_signature nodoc'>OPT_OLD_ENVIRON =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“#”    # “x23” # X Display Location</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L155-L155'># File 'lib/net/telnet.rb', line 155</a>    <pre class='code ruby'><span class='int'>36</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_OUTMRK-constant' class='summary_signature nodoc'>OPT_OUTMRK =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“032” # “x1a” # TACACS User Identification</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L146-L146'># File 'lib/net/telnet.rb', line 146</a>    <pre class='code ruby'><span class='int'>27</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_RCP-constant' class='summary_signature nodoc'>OPT_RCP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“001” # “x01” # Echo</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L121-L121'># File 'lib/net/telnet.rb', line 121</a>    <pre class='code ruby'><span class='int'>2</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_RCTE-constant' class='summary_signature nodoc'>OPT_RCTE =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“006” # “x06” # Timing Mark</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L126-L126'># File 'lib/net/telnet.rb', line 126</a>    <pre class='code ruby'><span class='int'>7</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_SGA-constant' class='summary_signature nodoc'>OPT_SGA =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“002” # “x02” # Reconnection</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L122-L122'># File 'lib/net/telnet.rb', line 122</a>    <pre class='code ruby'><span class='int'>3</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_SNDLOC-constant' class='summary_signature nodoc'>OPT_SNDLOC =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“026” # “x16” # SUPDUP Output</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L142-L142'># File 'lib/net/telnet.rb', line 142</a>    <pre class='code ruby'><span class='int'>23</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_STATUS-constant' class='summary_signature nodoc'>OPT_STATUS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“004” # “x04” # Approx Message Size Negotiation</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L124-L124'># File 'lib/net/telnet.rb', line 124</a>    <pre class='code ruby'><span class='int'>5</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_SUPDUP-constant' class='summary_signature nodoc'>OPT_SUPDUP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“024” # “x14” # Data Entry Terminal</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L140-L140'># File 'lib/net/telnet.rb', line 140</a>    <pre class='code ruby'><span class='int'>21</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_SUPDUPOUTPUT-constant' class='summary_signature nodoc'>OPT_SUPDUPOUTPUT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“025” # “x15” # SUPDUP</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L141-L141'># File 'lib/net/telnet.rb', line 141</a>    <pre class='code ruby'><span class='int'>22</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_TM-constant' class='summary_signature nodoc'>OPT_TM =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“005” # “x05” # Status</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L125-L125'># File 'lib/net/telnet.rb', line 125</a>    <pre class='code ruby'><span class='int'>6</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_TSPEED-constant' class='summary_signature nodoc'>OPT_TSPEED =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“037” # “x1f” # Negotiate About Window Size</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L151-L151'># File 'lib/net/telnet.rb', line 151</a>    <pre class='code ruby'><span class='int'>32</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_TTYLOC-constant' class='summary_signature nodoc'>OPT_TTYLOC =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“e”   # “x1b” # Output Marking</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L147-L147'># File 'lib/net/telnet.rb', line 147</a>    <pre class='code ruby'><span class='int'>28</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_TTYPE-constant' class='summary_signature nodoc'>OPT_TTYPE =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“027” # “x17” # Send Location</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L143-L143'># File 'lib/net/telnet.rb', line 143</a>    <pre class='code ruby'><span class='int'>24</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_TUID-constant' class='summary_signature nodoc'>OPT_TUID =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“031” # “x19” # End of Record</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L145-L145'># File 'lib/net/telnet.rb', line 145</a>    <pre class='code ruby'><span class='int'>26</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_X3PAD-constant' class='summary_signature nodoc'>OPT_X3PAD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“035” # “x1d” # <code>Telnet</code> 3270 Regime</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L149-L149'># File 'lib/net/telnet.rb', line 149</a>    <pre class='code ruby'><span class='int'>30</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_XASCII-constant' class='summary_signature nodoc'>OPT_XASCII =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“020” # “x10” # Output Linefeed Disposition</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L136-L136'># File 'lib/net/telnet.rb', line 136</a>    <pre class='code ruby'><span class='int'>17</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='OPT_XDISPLOC-constant' class='summary_signature nodoc'>OPT_XDISPLOC =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“&quot;”   # “x22” # Linemode</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L154-L154'># File 'lib/net/telnet.rb', line 154</a>    <pre class='code ruby'><span class='int'>35</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='REVISION-constant' class='summary_signature nodoc'>REVISION =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L165-L165'># File 'lib/net/telnet.rb', line 165</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$Id$</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='SB-constant' class='summary_signature nodoc'>SB =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“373” # “xfb” # I will use option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L102-L102'># File 'lib/net/telnet.rb', line 102</a>    <pre class='code ruby'><span class='int'>250</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='SE-constant' class='summary_signature nodoc'>SE =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“361” # “xf1” # nop</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L112-L112'># File 'lib/net/telnet.rb', line 112</a>    <pre class='code ruby'><span class='int'>240</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='SUSP-constant' class='summary_signature nodoc'>SUSP =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“356” # “xee” # Abort process</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L115-L115'># File 'lib/net/telnet.rb', line 115</a>    <pre class='code ruby'><span class='int'>237</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='SYNCH-constant' class='summary_signature nodoc'>SYNCH =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“354” # “xec” # End of file</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L117-L117'># File 'lib/net/telnet.rb', line 117</a>    <pre class='code ruby'><span class='int'>242</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet/version.rb#L3-L3'># File 'lib/net/telnet/version.rb', line 3</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.2.0</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='WILL-constant' class='summary_signature nodoc'>WILL =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“374” # “xfc” # I won’t use option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L101-L101'># File 'lib/net/telnet.rb', line 101</a>    <pre class='code ruby'><span class='int'>251</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
  <li>
    <span id='WONT-constant' class='summary_signature nodoc'>WONT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>“375” # “xfd” # please, you use option</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L100-L100'># File 'lib/net/telnet.rb', line 100</a>    <pre class='code ruby'><span class='int'>252</span>.<span class='id identifier rubyid_chr'>chr</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(options)  &#x21d2; Telnet </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>Telnet</code> object.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#sock-instance_method" title="#sock (instance method)">#<strong>sock</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The socket the <code>Telnet</code> object is using.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#binmode-instance_method" title="#binmode (instance method)">#<strong>binmode</strong>(mode = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Turn newline conversion on (<code>mode</code> == false) or off (<code>mode</code> == true), or return the current value (<code>mode</code> is not specified).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#binmode=-instance_method" title="#binmode= (instance method)">#<strong>binmode=</strong>(mode)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Turn newline conversion on (false) or off (true).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Closes the connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmd-instance_method" title="#cmd (instance method)">#<strong>cmd</strong>(options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Send a command to the host.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#login-instance_method" title="#login (instance method)">#<strong>login</strong>(options, password = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Login to the host with a given username and password.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#preprocess-instance_method" title="#preprocess (instance method)">#<strong>preprocess</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Preprocess received data from the host.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#print-instance_method" title="#print (instance method)">#<strong>print</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a string to the host.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#puts-instance_method" title="#puts (instance method)">#<strong>puts</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a string to the host.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#telnetmode-instance_method" title="#telnetmode (instance method)">#<strong>telnetmode</strong>(mode = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set telnet command interpretation on (<code>mode</code> == true) or off (<code>mode</code> == false), or return the current value (<code>mode</code> not provided).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#telnetmode=-instance_method" title="#telnetmode= (instance method)">#<strong>telnetmode=</strong>(mode)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Turn telnet command interpretation on (true) or off (false).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#waitfor-instance_method" title="#waitfor (instance method)">#<strong>waitfor</strong>(options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Read data from the host until a certain sequence is matched.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write-instance_method" title="#write (instance method)">#<strong>write</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Write <code>string</code> to the host.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(options)  &#x21d2; <code>Telnet</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>Telnet</code> object.</p>

<p>Attempts to connect to the host (unless the Proxy option is provided: see below).  If a block is provided, it is yielded status messages on the attempt to connect to the server, of the form:</p>

<pre class="code ruby"><code class="ruby">Trying localhost...
Connected to localhost.</code></pre>

<p><code>options</code> is a hash of options.  The following example lists all options and their default values.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>Telnet</span><span class='op'>::</span><span class='id identifier rubyid_new'>new</span>(
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  <span class='comment'># default: &quot;localhost&quot;
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='int'>23</span><span class='comma'>,</span>           <span class='comment'># default: 23
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>        <span class='comment'># default: false
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>output_log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># default: nil (no output)
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dump_log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>   <span class='comment'># default: nil (no output)
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[$%#&gt;] \z</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='comment'># default: /[$%#&gt;] \z/n
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>         <span class='comment'># default: true
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='int'>10</span><span class='comma'>,</span>           <span class='comment'># default: 10
</span>           <span class='comment'># if ignore timeout then set &quot;Timeout&quot; to false.
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>            <span class='comment'># default: 0
</span>         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>      <span class='op'>=&gt;</span> <span class='id identifier rubyid_proxy'>proxy</span>         <span class='comment'># default: nil
</span>                         <span class='comment'># proxy is Net::Telnet or IO object
</span>       )</code></pre>

<p>The options have the following meanings:</p>
<dl class="rdoc-list note-list"><dt>Host
<dd>
<p>the hostname or <a href="#IP-constant" title="Net::Telnet::IP (constant)">IP</a> address of the host to connect to, as a String. Defaults to “localhost”.</p>
</dd><dt>Port
<dd>
<p>the port to connect to.  Defaults to 23.</p>
</dd><dt>Binmode
<dd>
<p>if false (the default), newline substitution is performed. Outgoing LF is converted to CRLF, and incoming CRLF is converted to LF.  If true, this substitution is not performed.  This value can also be set with the #binmode() method.  The outgoing conversion only applies to the #puts() and #print() methods, not the #write() method.  The precise nature of the newline conversion is also affected by the telnet options SGA and BIN.</p>
</dd><dt>Output_log
<dd>
<p>the name of the file to write connection status messages and all received traffic to.  In the case of a proper Telnet session, this will include the client input as echoed by the host; otherwise, it only includes server responses.  Output is appended verbatim to this file. By default, no output log is kept.</p>
</dd><dt>Dump_log
<dd>
<p>as for Output_log, except that output is written in hexdump format (16 bytes per line as hex pairs, followed by their printable equivalent), with connection status messages preceded by ‘#’, sent traffic preceded by ‘&gt;’, and received traffic preceded by ‘&lt;’.  By default, not dump log is kept.</p>
</dd><dt>Prompt
<dd>
<p>a regular expression matching the host’s command-line prompt sequence.  This is needed by the Telnet class to determine when the output from a command has finished and the host is ready to receive a new command.  By default, this regular expression is /[$%#&gt;] z/n.</p>
</dd><dt>Telnetmode
<dd>
<p>a boolean value, true by default.  In telnet mode, traffic received from the host is parsed for special command sequences, and these sequences are escaped in outgoing traffic sent using #puts() or #print() (but not #write()).  If you are using the Net::Telnet object to connect to a non-telnet service (such as SMTP or POP), this should be set to “false” to prevent undesired data corruption.  This value can also be set by the #telnetmode() method.</p>
</dd><dt>Timeout
<dd>
<p>the number of seconds to wait before timing out both the initial attempt to connect to host (in this constructor), which raises a Net::OpenTimeout, and all attempts to read data from the host, which raises a Net::ReadTimeout (in #waitfor(), #cmd(), and #login()).  The default value is 10 seconds. You can disable the timeout by setting this value to false. In this case, the connect attempt will eventually timeout on the underlying connect(2) socket call with an Errno::ETIMEDOUT error (but generally only after a few minutes), but other attempts to read data from the host will hang indefinitely if no data is forthcoming.</p>
</dd><dt>Waittime
<dd>
<p>the amount of time to wait after seeing what looks like a prompt (that is, received data that matches the Prompt option regular expression) to see if more data arrives. If more data does arrive in this time, Net::Telnet assumes that what it saw was not really a prompt.  This is to try to avoid false matches, but it can also lead to missing real prompts (if, for instance, a background process writes to the terminal soon after the prompt is displayed).  By default, set to 0, meaning not to wait for more data.</p>
</dd><dt>Proxy
<dd>
<p>a proxy object to used instead of opening a direct connection to the host.  Must be either another Net::Telnet object or an IO object.  If it is another Net::Telnet object, this instance will use that one’s socket for communication.  If an IO object, it is used directly for communication.  Any other kind of object will cause an error to be raised.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L273-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='273' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 273</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_options'>options</span>) <span class='comment'># :yield: mesg
</span>  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>]       <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>)
  <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span>]       <span class='op'>=</span> <span class='int'>23</span>            <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span>)
  <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>]     <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[$%#&gt;] \z</span><span class='regexp_end'>/n</span></span>  <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>)
  <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>]    <span class='op'>=</span> <span class='int'>10</span>            <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>)
  <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>]   <span class='op'>=</span> <span class='int'>0</span>             <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]    <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='kw'>unless</span> (<span class='kw'>true</span> <span class='op'>==</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>or</span> <span class='kw'>false</span> <span class='op'>==</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>])
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode option must be true or false</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>unless</span> (<span class='kw'>true</span> <span class='op'>==</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>or</span> <span class='kw'>false</span> <span class='op'>==</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>])
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode option must be true or false</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@telnet_option</span> <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SGA</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BINARY</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>false</span> }

  <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@log</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a+</span><span class='tstring_end'>&#39;</span></span>)
    <span class='ivar'>@log</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@log</span>.<span class='id identifier rubyid_binmode'><a href="#binmode-instance_method" title="Net::Telnet#binmode (method)">binmode</a></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@dumplog</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a+</span><span class='tstring_end'>&#39;</span></span>)
    <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_binmode'><a href="#binmode-instance_method" title="Net::Telnet#binmode (method)">binmode</a></span>
    <span class='kw'>def</span> <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span>)  <span class='comment'># :nodoc:
</span>      <span class='id identifier rubyid_len'>len</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='int'>0</span>
      <span class='kw'>while</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_len'>len</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_len'>len</span> <span class='op'>&lt;</span> <span class='int'>16</span>
          <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>[<span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_len'>len</span>]
        <span class='kw'>else</span>
          <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>[<span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='int'>16</span>]
        <span class='kw'>end</span>
        <span class='id identifier rubyid_hexvals'>hexvals</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H*</span><span class='tstring_end'>&#39;</span></span>)[<span class='int'>0</span>]
        <span class='id identifier rubyid_hexvals'>hexvals</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> (<span class='int'>32</span> <span class='op'>-</span> <span class='id identifier rubyid_hexvals'>hexvals</span>.<span class='id identifier rubyid_length'>length</span>)
        <span class='id identifier rubyid_hexvals'>hexvals</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s %s %s %s  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>4</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_hexvals'>hexvals</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a2</span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='int'>16</span>))
        <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\000-\037\177-\377]</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>)
        <span class='id identifier rubyid_printf'>printf</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s 0x%5.5x: %s%s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_hexvals'>hexvals</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span>
        <span class='id identifier rubyid_addr'>addr</span> <span class='op'>+=</span> <span class='int'>16</span>
        <span class='id identifier rubyid_offset'>offset</span> <span class='op'>+=</span> <span class='int'>16</span>
        <span class='id identifier rubyid_len'>len</span> <span class='op'>-=</span> <span class='int'>16</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>Telnet</span>)
      <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_sock'><a href="#sock-instance_method" title="Net::Telnet#sock (method)">sock</a></span>
    <span class='kw'>elsif</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>IO</span>)
      <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Proxy must be an instance of Net::Telnet or IO.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Trying </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>yield</span>(<span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='ivar'>@log</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)

    <span class='kw'>begin</span>
      <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>==</span> <span class='kw'>false</span>
        <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='const'>TCPSocket</span>.<span class='id identifier rubyid_open'>open</span>(<span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span>])
      <span class='kw'>else</span>
        <span class='const'>Timeout</span>.<span class='id identifier rubyid_timeout'>timeout</span>(<span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span>) <span class='kw'>do</span>
          <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='const'>TCPSocket</span>.<span class='id identifier rubyid_open'>open</span>(<span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Port</span><span class='tstring_end'>&quot;</span></span>])
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>timed out while opening a connection to the host</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>rescue</span>
      <span class='ivar'>@log</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='gvar'>$ERROR_INFO</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>)
      <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='gvar'>$ERROR_INFO</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>end</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_binmode'><a href="#binmode-instance_method" title="Net::Telnet#binmode (method)">binmode</a></span>

    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Connected to </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>yield</span>(<span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='ivar'>@log</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>)
    <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="sock-instance_method">
  <h3 class='signature ro first'>
    #<strong>sock</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The socket the <code>Telnet</code> object is using.  Note that this object becomes a delegate of the <code>Telnet</code> object, so normally you invoke its methods directly on the <code>Telnet</code> object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L374-L374'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='374' data-end='374'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 374</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sock'>sock</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="binmode-instance_method">
  <h3 class='signature  first'>
    #<strong>binmode</strong>(mode = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Turn newline conversion on (<code>mode</code> == false) or off (<code>mode</code> == true), or return the current value (<code>mode</code> is not specified).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L405-L414'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='405' data-end='414'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 405</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_binmode'>binmode</span>(<span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]
  <span class='kw'>when</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span>
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument must be true or false</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="binmode=-instance_method">
  <h3 class='signature '>
    #<strong>binmode=</strong>(mode)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Turn newline conversion on (false) or off (true).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L417-L423'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='417' data-end='423'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 417</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_binmode='>binmode=</span>(<span class='id identifier rubyid_mode'>mode</span>)
  <span class='kw'>if</span> (<span class='kw'>true</span> <span class='op'>==</span> <span class='id identifier rubyid_mode'>mode</span> <span class='kw'>or</span> <span class='kw'>false</span> <span class='op'>==</span> <span class='id identifier rubyid_mode'>mode</span>)
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument must be true or false</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="close-instance_method">
  <h3 class='signature '>
    #<strong>close</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Closes the connection</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L757-L759'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='757' data-end='759'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 757</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_close'>close</span>
  <span class='ivar'>@sock</span>.<span class='id identifier rubyid_close'>close</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmd-instance_method">
  <h3 class='signature '>
    #<strong>cmd</strong>(options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Send a command to the host.</p>

<p>More exactly, sends a string to the host, and reads in all received data until is sees the prompt or other matched sequence.</p>

<p>If a block is given, the received data will be yielded to it as it is read in.  Whether a block is given or not, the received data will be return as a string.  Note that the received data includes the prompt and in most cases the host’s echo of our command.</p>

<p><code>options</code> is either a String, specified the string or command to send to the host; or it is a hash of options.  If a hash, the following options can be specified:</p>
<dl class="rdoc-list note-list"><dt>String
<dd>
<p>the command or other string to send to the host.</p>
</dd><dt>Match
<dd>
<p>a regular expression, the sequence to look for in the received data before returning.  If not specified, the Prompt option value specified when this instance was created will be used, or, failing that, the default prompt of /[$%#&gt;] z/n.</p>
</dd><dt>Timeout
<dd>
<p>the seconds to wait for data from the host before raising a Timeout error.  If not specified, the Timeout option value specified when this instance was created will be used, or, failing that, the default value of 10 seconds.</p>
</dd></dl>

<p>The command or other string will have the newline sequence appended to it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L678-L698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='678' data-end='698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 678</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmd'>cmd</span>(<span class='id identifier rubyid_options'>options</span>) <span class='comment'># :yield: recvdata
</span>  <span class='id identifier rubyid_match'>match</span>    <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_fail_eof'>fail_eof</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>]

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Hash</span>)
    <span class='id identifier rubyid_string'>string</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_match'>match</span>    <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span>]   <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_fail_eof'>fail_eof</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>.<span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="Net::Telnet#puts (method)">puts</a></span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_waitfor'><a href="#waitfor-instance_method" title="Net::Telnet#waitfor (method)">waitfor</a></span>({<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_time_out'>time_out</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_fail_eof'>fail_eof</span>}){<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_c'>c</span> }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_waitfor'><a href="#waitfor-instance_method" title="Net::Telnet#waitfor (method)">waitfor</a></span>({<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_time_out'>time_out</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_fail_eof'>fail_eof</span>})
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="login-instance_method">
  <h3 class='signature '>
    #<strong>login</strong>(options, password = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Login to the host with a given username and password.</p>

<p>The username and password can either be provided as two string arguments in that order, or as a hash with keys “Name” and “Password”.</p>

<p>This method looks for the strings “login” and “Password” from the host to determine when to send the username and password.  If the login sequence does not follow this pattern (for instance, you are connecting to a service other than telnet), you will need to handle login yourself.</p>

<p>The password can be omitted, either by only provided one String argument, which will be used as the username, or by providing a has that has no “Password” key.  In this case, the method will not look for the “Password:” prompt; if it is sent, it will have to be dealt with by later calls.</p>

<p>The method returns all data received during the login process from the host, including the echoed username but not the password (which the host should not echo).  If a block is passed in, this received data is also yielded to the block as it is received.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L722-L754'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='722' data-end='754'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 722</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_login'>login</span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span>) <span class='comment'># :yield: recvdata
</span>  <span class='id identifier rubyid_login_prompt'>login_prompt</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[Ll]ogin[: ]*\z</span><span class='regexp_end'>/n</span></span>
  <span class='id identifier rubyid_password_prompt'>password_prompt</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[Pp]ass(?:word|phrase)[: ]*\z</span><span class='regexp_end'>/n</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Hash</span>)
    <span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Password</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_login_prompt'>login_prompt</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LoginPrompt</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LoginPrompt</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_password_prompt'>password_prompt</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PasswordPrompt</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PasswordPrompt</span><span class='tstring_end'>&quot;</span></span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_waitfor'><a href="#waitfor-instance_method" title="Net::Telnet#waitfor (method)">waitfor</a></span>(<span class='id identifier rubyid_login_prompt'>login_prompt</span>){<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_c'>c</span> }
    <span class='kw'>if</span> <span class='id identifier rubyid_password'>password</span>
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>({<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_username'>username</span><span class='comma'>,</span>
                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_password_prompt'>password_prompt</span>}){<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_c'>c</span> }
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='id identifier rubyid_password'>password</span>){<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_c'>c</span> }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='id identifier rubyid_username'>username</span>){<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_c'>c</span> }
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_waitfor'><a href="#waitfor-instance_method" title="Net::Telnet#waitfor (method)">waitfor</a></span>(<span class='id identifier rubyid_login_prompt'>login_prompt</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_password'>password</span>
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>({<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_username'>username</span><span class='comma'>,</span>
                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_password_prompt'>password_prompt</span>})
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='id identifier rubyid_password'>password</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd'><a href="#cmd-instance_method" title="Net::Telnet#cmd (method)">cmd</a></span>(<span class='id identifier rubyid_username'>username</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_line'>line</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preprocess-instance_method">
  <h3 class='signature '>
    #<strong>preprocess</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Preprocess received data from the host.</p>

<p>Performs newline conversion and detects telnet command sequences. Called automatically by #waitfor().  You should only use this method yourself if you have read input directly using sysread() or similar, and even then only if in telnet mode.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L431-L489'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='431' data-end='489'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 431</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_preprocess'>preprocess</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='comment'># combine CR+NULL into CR
</span>  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CR-constant" title="Net::Telnet::CR (constant)">CR</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#NULL-constant" title="Net::Telnet::NULL (constant)">NULL</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span><span class='comma'>,</span> <span class='const'><a href="#CR-constant" title="Net::Telnet::CR (constant)">CR</a></span>) <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>]

  <span class='comment'># combine EOL into &quot;\n&quot;
</span>  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#EOL-constant" title="Net::Telnet::EOL (constant)">EOL</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>unless</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]

  <span class='comment'># remove NULL
</span>  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#NULL-constant" title="Net::Telnet::NULL (constant)">NULL</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>unless</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]

  <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>(
               [</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#AO-constant" title="Net::Telnet::AO (constant)">AO</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#AYT-constant" title="Net::Telnet::AYT (constant)">AYT</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#DM-constant" title="Net::Telnet::DM (constant)">DM</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IP-constant" title="Net::Telnet::IP (constant)">IP</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#NOP-constant" title="Net::Telnet::NOP (constant)">NOP</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]|
               [</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#DO-constant" title="Net::Telnet::DO (constant)">DO</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#WILL-constant" title="Net::Telnet::WILL (constant)">WILL</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#WONT-constant" title="Net::Telnet::WONT (constant)">WONT</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]
                 [</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#OPT_BINARY-constant" title="Net::Telnet::OPT_BINARY (constant)">OPT_BINARY</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#OPT_NEW_ENVIRON-constant" title="Net::Telnet::OPT_NEW_ENVIRON (constant)">OPT_NEW_ENVIRON</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#OPT_EXOPL-constant" title="Net::Telnet::OPT_EXOPL (constant)">OPT_EXOPL</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]|
               </span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SB-constant" title="Net::Telnet::SB (constant)">SB</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>[^</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]*</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SE-constant" title="Net::Telnet::SE (constant)">SE</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>
             )</span><span class='regexp_end'>/xno</span></span>) <span class='kw'>do</span>
    <span class='kw'>if</span>    <span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>==</span> <span class='backref'>$1</span>  <span class='comment'># handle escaped IAC characters
</span>      <span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span>
    <span class='kw'>elsif</span> <span class='const'><a href="#AYT-constant" title="Net::Telnet::AYT (constant)">AYT</a></span> <span class='op'>==</span> <span class='backref'>$1</span>  <span class='comment'># respond to &quot;IAC AYT&quot; (are you there)
</span>      <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nobody here but us pigeons</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='const'><a href="#EOL-constant" title="Net::Telnet::EOL (constant)">EOL</a></span>)
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='const'><a href="#DO-constant" title="Net::Telnet::DO (constant)">DO</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>0</span>]  <span class='comment'># respond to &quot;IAC DO x&quot;
</span>      <span class='kw'>if</span> <span class='const'><a href="#OPT_BINARY-constant" title="Net::Telnet::OPT_BINARY (constant)">OPT_BINARY</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BINARY</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#WILL-constant" title="Net::Telnet::WILL (constant)">WILL</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_BINARY-constant" title="Net::Telnet::OPT_BINARY (constant)">OPT_BINARY</a></span>)
      <span class='kw'>else</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#WONT-constant" title="Net::Telnet::WONT (constant)">WONT</a></span> <span class='op'>+</span> <span class='backref'>$1</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>1</span>])
      <span class='kw'>end</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>0</span>]  <span class='comment'># respond to &quot;IAC DON&#39;T x&quot; with &quot;IAC WON&#39;T x&quot;
</span>      <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#WONT-constant" title="Net::Telnet::WONT (constant)">WONT</a></span> <span class='op'>+</span> <span class='backref'>$1</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>1</span>])
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='const'><a href="#WILL-constant" title="Net::Telnet::WILL (constant)">WILL</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>0</span>]  <span class='comment'># respond to &quot;IAC WILL x&quot;
</span>      <span class='kw'>if</span>    <span class='const'><a href="#OPT_BINARY-constant" title="Net::Telnet::OPT_BINARY (constant)">OPT_BINARY</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DO-constant" title="Net::Telnet::DO (constant)">DO</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_BINARY-constant" title="Net::Telnet::OPT_BINARY (constant)">OPT_BINARY</a></span>)
      <span class='kw'>elsif</span> <span class='const'><a href="#OPT_ECHO-constant" title="Net::Telnet::OPT_ECHO (constant)">OPT_ECHO</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DO-constant" title="Net::Telnet::DO (constant)">DO</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_ECHO-constant" title="Net::Telnet::OPT_ECHO (constant)">OPT_ECHO</a></span>)
      <span class='kw'>elsif</span> <span class='const'><a href="#OPT_SGA-constant" title="Net::Telnet::OPT_SGA (constant)">OPT_SGA</a></span>[<span class='int'>0</span>]  <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SGA</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DO-constant" title="Net::Telnet::DO (constant)">DO</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_SGA-constant" title="Net::Telnet::OPT_SGA (constant)">OPT_SGA</a></span>)
      <span class='kw'>else</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span> <span class='op'>+</span> <span class='backref'>$1</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>1</span>])
      <span class='kw'>end</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='const'><a href="#WONT-constant" title="Net::Telnet::WONT (constant)">WONT</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>0</span>]  <span class='comment'># respond to &quot;IAC WON&#39;T x&quot;
</span>      <span class='kw'>if</span>    <span class='const'><a href="#OPT_ECHO-constant" title="Net::Telnet::OPT_ECHO (constant)">OPT_ECHO</a></span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_ECHO-constant" title="Net::Telnet::OPT_ECHO (constant)">OPT_ECHO</a></span>)
      <span class='kw'>elsif</span> <span class='const'><a href="#OPT_SGA-constant" title="Net::Telnet::OPT_SGA (constant)">OPT_SGA</a></span>[<span class='int'>0</span>]  <span class='op'>==</span> <span class='backref'>$1</span>[<span class='int'>1</span>]
        <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SGA</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span> <span class='op'>+</span> <span class='const'><a href="#OPT_SGA-constant" title="Net::Telnet::OPT_SGA (constant)">OPT_SGA</a></span>)
      <span class='kw'>else</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#DONT-constant" title="Net::Telnet::DONT (constant)">DONT</a></span> <span class='op'>+</span> <span class='backref'>$1</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>1</span>])
      <span class='kw'>end</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print-instance_method">
  <h3 class='signature '>
    #<strong>print</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a string to the host.</p>

<p>This does <em>not</em> automatically append a newline to the string.  Embedded newlines may be converted and telnet command sequences escaped depending upon the values of telnetmode, binmode, and telnet options set by the host.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L625-L642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='625' data-end='642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 625</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_print'>print</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span><span class='comma'>,</span> <span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span> <span class='op'>+</span> <span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span>) <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>]

  <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BINARY</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>and</span> <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SGA</span><span class='tstring_end'>&quot;</span></span>]
      <span class='comment'># IAC WILL SGA IAC DO BIN send EOL --&gt; CR
</span>      <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='const'><a href="#CR-constant" title="Net::Telnet::CR (constant)">CR</a></span>))
    <span class='kw'>elsif</span> <span class='ivar'>@telnet_option</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SGA</span><span class='tstring_end'>&quot;</span></span>]
      <span class='comment'># IAC WILL SGA send EOL --&gt; CR+NULL
</span>      <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='const'><a href="#CR-constant" title="Net::Telnet::CR (constant)">CR</a></span> <span class='op'>+</span> <span class='const'><a href="#NULL-constant" title="Net::Telnet::NULL (constant)">NULL</a></span>))
    <span class='kw'>else</span>
      <span class='comment'># NONE send EOL --&gt; CR+LF
</span>      <span class='kw'>self</span>.<span class='id identifier rubyid_write'><a href="#write-instance_method" title="Net::Telnet#write (method)">write</a></span>(<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='const'><a href="#EOL-constant" title="Net::Telnet::EOL (constant)">EOL</a></span>))
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="puts-instance_method">
  <h3 class='signature '>
    #<strong>puts</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a string to the host.</p>

<p>Same as #print(), but appends a newline to the string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L647-L649'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='647' data-end='649'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 647</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_puts'>puts</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span>(<span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="telnetmode-instance_method">
  <h3 class='signature '>
    #<strong>telnetmode</strong>(mode = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set telnet command interpretation on (<code>mode</code> == true) or off (<code>mode</code> == false), or return the current value (<code>mode</code> not provided).  It should be on for true telnet sessions, off if using <code>Telnet</code> to connect to a non-telnet service such as SMTP.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L381-L390'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='381' data-end='390'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_telnetmode'>telnetmode</span>(<span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>]
  <span class='kw'>when</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span>
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument must be true or false, or missing</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="telnetmode=-instance_method">
  <h3 class='signature '>
    #<strong>telnetmode=</strong>(mode)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Turn telnet command interpretation on (true) or off (false).  It should be on for true telnet sessions, off if using <code>Telnet</code> to connect to a non-telnet service such as SMTP.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L395-L401'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='395' data-end='401'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 395</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_telnetmode='>telnetmode=</span>(<span class='id identifier rubyid_mode'>mode</span>)
  <span class='kw'>if</span> (<span class='kw'>true</span> <span class='op'>==</span> <span class='id identifier rubyid_mode'>mode</span> <span class='kw'>or</span> <span class='kw'>false</span> <span class='op'>==</span> <span class='id identifier rubyid_mode'>mode</span>)
    <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument must be true or false</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="waitfor-instance_method">
  <h3 class='signature '>
    #<strong>waitfor</strong>(options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Read data from the host until a certain sequence is matched.</p>

<p>If a block is given, the received data will be yielded as it is read in (not necessarily all in one go), or nil if <a href="#EOF-constant" title="Net::Telnet::EOF (constant)">EOF</a> occurs before any data is received.  Whether a block is given or not, all data read will be returned in a single string, or again nil if <a href="#EOF-constant" title="Net::Telnet::EOF (constant)">EOF</a> occurs before any data is received.  Note that received data includes the matched sequence we were looking for.</p>

<p><code>options</code> can be either a regular expression or a hash of options. If a regular expression, this specifies the data to wait for. If a hash, this can specify the following options:</p>
<dl class="rdoc-list note-list"><dt>Match
<dd>
<p>a regular expression, specifying the data to wait for.</p>
</dd><dt>Prompt
<dd>
<p>as for Match; used only if Match is not specified.</p>
</dd><dt>String
<dd>
<p>as for Match, except a string that will be converted into a regular expression.  Used only if Match and Prompt are not specified.</p>
</dd><dt>Timeout
<dd>
<p>the number of seconds to wait for data from the host before raising a Timeout::Error.  If set to false, no timeout will occur.  If not specified, the Timeout option value specified when this instance was created will be used, or, failing that, the default value of 10 seconds.</p>
</dd><dt>Waittime
<dd>
<p>the number of seconds to wait after matching against the input data to see if more data arrives.  If more data arrives within this time, we will judge ourselves not to have matched successfully, and will continue trying to match.  If not specified, the Waittime option value specified when this instance was created will be used, or, failing that, the default value of 0 seconds, which means not to wait for more input.</p>
</dd><dt>FailEOF
<dd>
<p>if true, when the remote end closes the connection then an EOFError will be raised. Otherwise, defaults to the old behaviour that the function will return whatever data has been received already, or nil if nothing was received.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L528-L604'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='528' data-end='604'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 528</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_waitfor'>waitfor</span>(<span class='id identifier rubyid_options'>options</span>) <span class='comment'># :yield: recvdata
</span>  <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_waittime'>waittime</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_fail_eof'>fail_eof</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>]

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Hash</span>)
    <span class='id identifier rubyid_prompt'>prompt</span>   <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span>)
                 <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Match</span><span class='tstring_end'>&quot;</span></span>]
               <span class='kw'>elsif</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>)
                 <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prompt</span><span class='tstring_end'>&quot;</span></span>]
               <span class='kw'>elsif</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>)
                 <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::Telnet.new (method)">new</a></span>( <span class='const'>Regexp</span>.<span class='id identifier rubyid_quote'>quote</span>(<span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String</span><span class='tstring_end'>&quot;</span></span>]) )
               <span class='kw'>end</span>
    <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>]  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_waittime'>waittime</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Waittime</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_fail_eof'>fail_eof</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>]  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FailEOF</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_prompt'>prompt</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>==</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_time_out'>time_out</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>until</span>(<span class='id identifier rubyid_prompt'>prompt</span> <span class='op'>===</span> <span class='id identifier rubyid_line'>line</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_wait_readable'>wait_readable</span>(<span class='id identifier rubyid_waittime'>waittime</span>))
    <span class='kw'>unless</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_wait_readable'>wait_readable</span>(<span class='id identifier rubyid_time_out'>time_out</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>ReadTimeout</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>timed out while waiting for more data</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_readpartial'>readpartial</span>(<span class='int'>1024</span> <span class='op'>*</span> <span class='int'>1024</span>)
      <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Telnetmode</span><span class='tstring_end'>&quot;</span></span>]
        <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span>
        <span class='kw'>if</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SE-constant" title="Net::Telnet::SE (constant)">SE</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span>) <span class='op'>||</span> <span class='int'>0</span>) <span class='op'>&lt;</span>
           <span class='const'>Integer</span>(<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SB-constant" title="Net::Telnet::SB (constant)">SB</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span>) <span class='op'>||</span> <span class='int'>0</span>)
          <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_preprocess'><a href="#preprocess-instance_method" title="Net::Telnet#preprocess (method)">preprocess</a></span>(<span class='id identifier rubyid_c'>c</span>[<span class='int'>0</span> <span class='op'>...</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SB-constant" title="Net::Telnet::SB (constant)">SB</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span>)])
          <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>[<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#SB-constant" title="Net::Telnet::SB (constant)">SB</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span>) <span class='op'>..</span> <span class='op'>-</span><span class='int'>1</span>]
        <span class='kw'>elsif</span> <span class='id identifier rubyid_pt'>pt</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>[^</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IAC-constant" title="Net::Telnet::IAC (constant)">IAC</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#AO-constant" title="Net::Telnet::AO (constant)">AO</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#AYT-constant" title="Net::Telnet::AYT (constant)">AYT</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#DM-constant" title="Net::Telnet::DM (constant)">DM</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#IP-constant" title="Net::Telnet::IP (constant)">IP</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#NOP-constant" title="Net::Telnet::NOP (constant)">NOP</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]?\z</span><span class='regexp_end'>/no</span></span>) <span class='op'>||</span>
                   <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r\z</span><span class='regexp_end'>/no</span></span>)
          <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_preprocess'><a href="#preprocess-instance_method" title="Net::Telnet#preprocess (method)">preprocess</a></span>(<span class='id identifier rubyid_c'>c</span>[<span class='int'>0</span> <span class='op'>...</span> <span class='id identifier rubyid_pt'>pt</span>])
          <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>[<span class='id identifier rubyid_pt'>pt</span> <span class='op'>..</span> <span class='op'>-</span><span class='int'>1</span>]
        <span class='kw'>else</span>
          <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_preprocess'><a href="#preprocess-instance_method" title="Net::Telnet#preprocess (method)">preprocess</a></span>(<span class='id identifier rubyid_c'>c</span>)
          <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='comment'># Not Telnetmode.
</span>        <span class='comment'>#
</span>        <span class='comment'># We cannot use preprocess() on this data, because that
</span>        <span class='comment'># method makes some Telnetmode-specific assumptions.
</span>        <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span>
        <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>unless</span> <span class='ivar'>@options</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Binmode</span><span class='tstring_end'>&quot;</span></span>]
          <span class='kw'>if</span> <span class='id identifier rubyid_pt'>pt</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r\z</span><span class='regexp_end'>/no</span></span>)
            <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span>[<span class='int'>0</span> <span class='op'>...</span> <span class='id identifier rubyid_pt'>pt</span>]
            <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span>[<span class='id identifier rubyid_pt'>pt</span> <span class='op'>..</span> <span class='op'>-</span><span class='int'>1</span>]
          <span class='kw'>end</span>
          <span class='id identifier rubyid_buf'>buf</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#EOL-constant" title="Net::Telnet::EOL (constant)">EOL</a></span><span class='embexpr_end'>}</span><span class='regexp_end'>/no</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='ivar'>@log</span>.<span class='id identifier rubyid_print'><a href="#print-instance_method" title="Net::Telnet#print (method)">print</a></span>(<span class='id identifier rubyid_buf'>buf</span>) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output_log</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_line'>line</span> <span class='op'>+=</span> <span class='id identifier rubyid_buf'>buf</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_buf'>buf</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>rescue</span> <span class='const'>EOFError</span> <span class='comment'># End of file reached
</span>      <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_fail_eof'>fail_eof</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='kw'>yield</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_line'>line</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write-instance_method">
  <h3 class='signature '>
    #<strong>write</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Write <code>string</code> to the host.</p>

<p>Does not perform any conversions on <code>string</code>.  Will log <code>string</code> to the dumplog, if the Dump_log option is set.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-telnet/blob/v0.2.0/lib/net/telnet.rb#L610-L617'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='610' data-end='617'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/telnet.rb', line 610</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='kw'>while</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_length'>length</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_wait_writable'>wait_writable</span>
    <span class='ivar'>@dumplog</span>.<span class='id identifier rubyid_log_dump'>log_dump</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span>[<span class='op'>-</span><span class='id identifier rubyid_length'>length</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]) <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dump_log</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_length'>length</span> <span class='op'>-=</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_syswrite'>syswrite</span>(<span class='id identifier rubyid_string'>string</span>[<span class='op'>-</span><span class='id identifier rubyid_length'>length</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>])
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>