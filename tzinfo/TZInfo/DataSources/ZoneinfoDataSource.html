<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: TZInfo::DataSources::ZoneinfoDataSource &mdash; TZInfo master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "TZInfo::DataSources::ZoneinfoDataSource",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>TZInfo master</a> &raquo; 
      <a href='../../_index.html#alpha_Z'>Index (Z)</a> &raquo; 
        <a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a> &raquo; 
        <a href="../DataSources.html" title="TZInfo::DataSources (module)">DataSources</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>ZoneinfoDataSource&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: TZInfo::DataSources::ZoneinfoDataSource</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../DataSource.html" title="TZInfo::DataSource (class)">TZInfo::DataSource</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../DataSource.html" title="TZInfo::DataSource (class)">TZInfo::DataSource</a></li>
          <li class='next'>TZInfo::DataSources::ZoneinfoDataSource</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L68'>lib/tzinfo/data_sources/zoneinfo_data_source.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <p>A DataSource implementation that loads data from a &#39;zoneinfo&#39; directory
containing compiled &quot;TZif&quot; version 3 (or earlier) files in addition to
iso3166.tab and zone1970.tab or zone.tab index files.</p>

<p>To have <a href="../../TZInfo.html" title="TZInfo (module)"><code>::TZInfo</code></a> load the system zoneinfo files, call
<a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">TZInfo::DataSource.set</a> as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a></span><span class='op'>::</span><span class='const'><a href="../DataSource.html" title="TZInfo::DataSource (class)">DataSource</a></span>.<span class='id identifier rubyid_set'><a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">set</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_zoneinfo'>zoneinfo</span>)</code></pre>

<p>To load zoneinfo files from a particular directory, pass the directory to
<a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">TZInfo::DataSource.set</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a></span><span class='op'>::</span><span class='const'><a href="../DataSource.html" title="TZInfo::DataSource (class)">DataSource</a></span>.<span class='id identifier rubyid_set'><a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">set</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_zoneinfo'>zoneinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_directory'>directory</span>)</code></pre>

<p>To load zoneinfo files from a particular directory, but load the
iso3166.tab index file from a separate location, pass the directory and
path to the iso3166.tab file to <a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">TZInfo::DataSource.set</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a></span><span class='op'>::</span><span class='const'><a href="../DataSource.html" title="TZInfo::DataSource (class)">DataSource</a></span>.<span class='id identifier rubyid_set'><a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">set</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_zoneinfo'>zoneinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_directory'>directory</span><span class='comma'>,</span> <span class='id identifier rubyid_iso3166_path'>iso3166_path</span>)</code></pre>

<p>Please note that versions of the &#39;zic&#39; tool (used to build zoneinfo files)
that were released prior to February 2006 created zoneinfo files that used
32-bit integers for transition timestamps. Later versions of zic produce
zoneinfo files that use 64-bit integers. If you have 32-bit zoneinfo files
on your system, then any queries falling outside of the range 1901-12-13
20:45:52 to 2038-01-19 03:14:07 may be inaccurate.</p>

<p>Most modern platforms include 64-bit zoneinfo files. However, Mac OS X (up
to at least 10.8.4) still uses 32-bit zoneinfo files.</p>

<p>To check whether your zoneinfo files contain 32-bit or 64-bit transition
data, you can run the following code (substituting the identifier of the
zone you want to test for <code>zone_identifier</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a></span><span class='op'>::</span><span class='const'><a href="../DataSource.html" title="TZInfo::DataSource (class)">DataSource</a></span>.<span class='id identifier rubyid_set'><a href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">set</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_zoneinfo'>zoneinfo</span>)
<span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='const'><a href="../../TZInfo.html" title="TZInfo (module)">TZInfo</a></span><span class='op'>::</span><span class='const'><a href="../DataSource.html" title="TZInfo::DataSource (class)">DataSource</a></span>.<span class='id identifier rubyid_get'><a href="../DataSource.html#get-class_method" title="TZInfo::DataSource.get (method)">get</a></span>.<span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span>
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_identifier'>zone_identifier</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_read'>read</span>(<span class='int'>5</span>) }</code></pre>

<p>If the last line returns <code>"TZif\x00"</code>, then you have a 32-bit zoneinfo
file. If it returns <code>"TZif2"</code> or <code>"TZif3"</code> then you have a 64-bit zoneinfo
file.</p>

<p>It is also worth noting that as of the 2017c release of the IANA Time Zone
Database, 64-bit zoneinfo files only include future transitions up to
2038-01-19 03:14:07. Any queries falling after this time may be
inaccurate.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_ALTERNATE_ISO3166_TAB_SEARCH_PATH-constant' class='summary_signature priv'>DEFAULT_ALTERNATE_ISO3166_TAB_SEARCH_PATH =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    <p>The default value of <a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L74-L74'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 74</a>    <pre class='code ruby'>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/share/misc/iso3166.tab</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/share/misc/iso3166</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='DEFAULT_SEARCH_PATH-constant' class='summary_signature priv'>DEFAULT_SEARCH_PATH =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    <p>The default value of <a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L70-L70'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 70</a>    <pre class='code ruby'>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/share/zoneinfo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/share/lib/zoneinfo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/etc/zoneinfo</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='EXCLUDED_FILENAMES-constant' class='summary_signature priv'>EXCLUDED_FILENAMES =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    <p>Files and directories in the top level zoneinfo directory that will be
excluded from the list of available time zones:</p>

<ul>
<li>+VERSION is included on Mac OS X.</li>
<li>leapseconds is a list of leap seconds.</li>
<li>localtime is the current local timezone (may be a link).</li>
<li>posix, posixrules and right are directories containing other
versions of the zoneinfo files.</li>
<li>SECURITY is included in the Arch Linux tzdata package.</li>
<li>src is a directory containing the tzdata source included on Solaris.</li>
<li>timeconfig is a symlink included on Slackware.</li>
</ul>

  </div>
</div>
    <a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L88-L98'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 88</a>    <pre class='code ruby'>[
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+VERSION</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>leapseconds</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localtime</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>posix</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>posixrules</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>right</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SECURITY</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>src</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>timeconfig</span><span class='tstring_end'>&#39;</span></span>
].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#alternate_iso3166_tab_search_path-class_method" title=".alternate_iso3166_tab_search_path (class method)">.<strong>alternate_iso3166_tab_search_path</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An <code>Array</code> of paths that will be checked to find an alternate iso3166.tab file if one was not included in the zoneinfo directory (for example, on FreeBSD and OpenBSD systems).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#alternate_iso3166_tab_search_path=-class_method" title=".alternate_iso3166_tab_search_path= (class method)">.<strong>alternate_iso3166_tab_search_path=</strong>(alternate_iso3166_tab_search_path)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the paths to check to locate an alternate iso3166.tab file if one was not included in the zoneinfo directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#search_path-class_method" title=".search_path (class method)">.<strong>search_path</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An <code>Array</code> of directories that will be checked to find the system zoneinfo directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#search_path=-class_method" title=".search_path= (class method)">.<strong>search_path=</strong>(search_path)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the directories to be checked when locating the system zoneinfo directory.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(zoneinfo_dir = nil, alternate_iso3166_tab_path = nil)  &#x21d2; ZoneinfoDataSource </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes a new <code>ZoneinfoDataSource</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#process_search_path-class_method" title=".process_search_path (class method)">.<strong>process_search_path</strong>(path, default)  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes a path for use as the <a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a> or <a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a>.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../DataSource.html#get-class_method" title="TZInfo::DataSource.get (method)">.get</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#new-class_method" title="TZInfo::DataSource.new (method)">.new</a></td>
      <td><div class='inline'><p>Initializes a new <a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a> instance.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#set-class_method" title="TZInfo::DataSource.set (method)">.set</a></td>
      <td><div class='inline'><p>Sets the currently selected data source for time zone and country data.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../DataSource.html#create_default_data_source-class_method" title="TZInfo::DataSource.create_default_data_source (method)">.create_default_data_source</a></td>
      <td><div class='inline'><p>Creates a <a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a> instance for use as the default.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#country_codes-instance_method" title="#country_codes (instance method)">#<strong>country_codes</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a frozen <code>Array</code> of all the available ISO 3166-1 alpha-2 country codes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#zoneinfo_dir-instance_method" title="#zoneinfo_dir (instance method)">#<strong>zoneinfo_dir</strong>  &#x21d2; String </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#data_timezone_identifiers-instance_method" title="#data_timezone_identifiers (instance method)">#<strong>data_timezone_identifiers</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a frozen <code>Array</code> of all the available time zone identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#linked_timezone_identifiers-instance_method" title="#linked_timezone_identifiers (instance method)">#<strong>linked_timezone_identifiers</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an empty <code>Array</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature prot'>
      <a href="#load_country_info-instance_method" title="#load_country_info (instance method)">#<strong>load_country_info</strong>(code)  &#x21d2; DataSources::CountryInfo </a>
    </span>
    <span class='note title protected'>protected</span>
  </li>
  <li>
    <span class='summary_signature prot'>
      <a href="#load_timezone_info-instance_method" title="#load_timezone_info (instance method)">#<strong>load_timezone_info</strong>(identifier)  &#x21d2; TimezoneInfo </a>
    </span>
    <span class='note title protected'>protected</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)"><code>TimezoneInfo</code></a> instance for the given time zone identifier.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#dms_to_rational-instance_method" title="#dms_to_rational (instance method)">#<strong>dms_to_rational</strong>(sign, degrees, minutes, seconds = nil)  &#x21d2; Rational </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts degrees, minutes and seconds to a Rational.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#enum_timezones-instance_method" title="#enum_timezones (instance method)">#<strong>enum_timezones</strong>(dir, exclude = []) {|path| ... } </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Recursively enumerate a directory of time zones.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#find_zoneinfo_dir-instance_method" title="#find_zoneinfo_dir (instance method)">#<strong>find_zoneinfo_dir</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Finds a zoneinfo directory using <a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a> and <a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#load_countries-instance_method" title="#load_countries (instance method)">#<strong>load_countries</strong>(iso3166_tab_path, zone_tab_path)  &#x21d2; Hash&lt;String, CountryInfo&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Uses the iso3166.tab and zone1970.tab or zone.tab files to return a Hash mapping country codes to <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)"><code>CountryInfo</code></a> instances.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#load_timezone_identifiers-instance_method" title="#load_timezone_identifiers (instance method)">#<strong>load_timezone_identifiers</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Scans @zoneinfo_dir and returns an <code>Array</code> of available time zone identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#resolve_tab_path-instance_method" title="#resolve_tab_path (instance method)">#<strong>resolve_tab_path</strong>(zoneinfo_path, standard_names, tab_name)  &#x21d2; String </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Attempts to resolve the path to a tab file given its standard names and tab sub-directory name (as used on Solaris).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#validate_zoneinfo_dir-instance_method" title="#validate_zoneinfo_dir (instance method)">#<strong>validate_zoneinfo_dir</strong>(path, iso3166_tab_path = nil)  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Validates a zoneinfo directory and returns the paths to the iso3166.tab and zone1970.tab or zone.tab files if valid.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#country_codes-instance_method" title="TZInfo::DataSource#country_codes (method)">#country_codes</a></td>
      <td><div class='inline'><p>Returns a frozen <code>Array</code> of all the available ISO 3166-1 alpha-2 country codes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#data_timezone_identifiers-instance_method" title="TZInfo::DataSource#data_timezone_identifiers (method)">#data_timezone_identifiers</a></td>
      <td><div class='inline'><p>Returns a frozen <code>Array</code> of all the available time zone identifiers for data time zones (i.e. those that actually contain definitions).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#eager_load!-instance_method" title="TZInfo::DataSource#eager_load! (method)">#eager_load!</a></td>
      <td><div class='inline'><p>Loads all timezone and country data into memory.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../DataSource.html#get_country_info-instance_method" title="TZInfo::DataSource#get_country_info (method)">#get_country_info</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#get_timezone_info-instance_method" title="TZInfo::DataSource#get_timezone_info (method)">#get_timezone_info</a></td>
      <td><div class='inline'><p>Returns a <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)"><code>TimezoneInfo</code></a> instance for the given identifier.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../DataSource.html#inspect-instance_method" title="TZInfo::DataSource#inspect (method)">#inspect</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DataSource.html#linked_timezone_identifiers-instance_method" title="TZInfo::DataSource#linked_timezone_identifiers (method)">#linked_timezone_identifiers</a></td>
      <td><div class='inline'><p>Returns a frozen <code>Array</code> of all the available time zone identifiers that are links to other time zones.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../DataSource.html#timezone_identifiers-instance_method" title="TZInfo::DataSource#timezone_identifiers (method)">#timezone_identifiers</a>,
        <a class='i_m ' href="../DataSource.html#to_s-instance_method" title="TZInfo::DataSource#to_s (method)">#to_s</a>,
        <a class='i_m prot' href="../DataSource.html#load_country_info-instance_method" title="TZInfo::DataSource#load_country_info (method)">#load_country_info</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m prot' href="../DataSource.html#load_timezone_info-instance_method" title="TZInfo::DataSource#load_timezone_info (method)">#load_timezone_info</a></td>
      <td><div class='inline'><p>Returns a <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)"><code>TimezoneInfo</code></a> instance for the given time zone identifier.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m prot' href="../DataSource.html#lookup_country_info-instance_method" title="TZInfo::DataSource#lookup_country_info (method)">#lookup_country_info</a></td>
      <td><div class='inline'><p>Looks up a given code in the given hash of code to <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)"><code>CountryInfo</code></a> mappings.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m prot' href="../DataSource.html#timezone_identifier_encoding-instance_method" title="TZInfo::DataSource#timezone_identifier_encoding (method)">#timezone_identifier_encoding</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m prot' href="../DataSource.html#validate_timezone_identifier-instance_method" title="TZInfo::DataSource#validate_timezone_identifier (method)">#validate_timezone_identifier</a></td>
      <td><div class='inline'><p>Checks that the given identifier is a valid time zone identifier (can be found in the <code>timezone_identifiers</code> <code>Array</code>).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../DataSource.html#build_timezone_identifiers-instance_method" title="TZInfo::DataSource#build_timezone_identifiers (method)">#build_timezone_identifiers</a></td>
      <td><div class='inline'><p>Combines <a href="#data_timezone_identifiers-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#data_timezone_identifiers (method)">#data_timezone_identifiers</a> and <a href="#linked_timezone_identifiers-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#linked_timezone_identifiers (method)">#linked_timezone_identifiers</a> to create an <code>Array</code> containing all valid time zone identifiers.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../DataSource.html#find_timezone_identifier-instance_method" title="TZInfo::DataSource#find_timezone_identifier (method)">#find_timezone_identifier</a></td>
      <td><div class='inline'><p>If the given <code>identifier</code> is contained within the <code>timezone_identifiers</code> <code>Array</code>, the <code>String</code> instance representing that identifier from <code>timezone_identifiers</code> is returned.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../DataSource.html#raise_invalid_data_source-instance_method" title="TZInfo::DataSource#raise_invalid_data_source (method)">#raise_invalid_data_source</a></td>
      <td><div class='inline'><p>Raises <a href="../InvalidDataSource.html" title="TZInfo::InvalidDataSource (class)"><code>::TZInfo::InvalidDataSource</code></a> to indicate that a method has not been overridden by a particular data source implementation.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../DataSource.html#try_with_encoding-instance_method" title="TZInfo::DataSource#try_with_encoding (method)">#try_with_encoding</a></td>
      <td><div class='inline'><p>Tries an operation using <code>string</code> directly.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(zoneinfo_dir = nil, alternate_iso3166_tab_path = nil)  &#x21d2; <code>ZoneinfoDataSource</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Initializes a new <code>ZoneinfoDataSource</code>.</p>

<p>If <a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">#zoneinfo_dir</a> is specified, it will be checked and used as the
source of zoneinfo files.</p>

<p>The directory must contain a file named iso3166.tab and a file named
either zone1970.tab or zone.tab. These may either be included in the
root of the directory or in a &#39;tab&#39; sub-directory and named country.tab
and zone_sun.tab respectively (as is the case on Solaris).</p>

<p>Additionally, the path to iso3166.tab can be overridden using the
<code>alternate_iso3166_tab_path</code> parameter.</p>

<p>If <a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">#zoneinfo_dir</a> is not specified or <code>nil</code>, the paths referenced in
<a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a> are searched in order to find a valid zoneinfo directory
(one that contains zone1970.tab or zone.tab and iso3166.tab files as
above).</p>

<p>The paths referenced in <a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a> are also
searched to find an iso3166.tab file if one of the searched zoneinfo
directories doesn&#39;t contain an iso3166.tab file.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>zoneinfo_dir</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>an optional path to a directory to use as
the source of zoneinfo files.</p>
</div>
  </li>
  <li>
    <span class='name'>alternate_iso3166_tab_path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>an optional path to the
iso3166.tab file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="InvalidZoneinfoDirectory.html" title="TZInfo::DataSources::InvalidZoneinfoDirectory (class)">InvalidZoneinfoDirectory</a>)</span>
&mdash;    <div class='inline'><p>if the iso3166.tab and zone1970.tab or
zone.tab files cannot be found using the <a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">#zoneinfo_dir</a> and
<code>alternate_iso3166_tab_path</code> parameters.</p>
</div>
  </li>
  <li>
    <span class='type'>(<a href="ZoneinfoDirectoryNotFound.html" title="TZInfo::DataSources::ZoneinfoDirectoryNotFound (class)">ZoneinfoDirectoryNotFound</a>)</span>
&mdash;    <div class='inline'><p>if no valid directory can be found
by searching.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L237-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='237' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 237</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_alternate_iso3166_tab_path'>alternate_iso3166_tab_path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>super</span>()

  <span class='kw'>if</span> <span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span>
    <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_zoneinfo_dir'><a href="#validate_zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#validate_zoneinfo_dir (method)">validate_zoneinfo_dir</a></span>(<span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_alternate_iso3166_tab_path'>alternate_iso3166_tab_path</span>)

    <span class='kw'>unless</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="InvalidZoneinfoDirectory.html" title="TZInfo::DataSources::InvalidZoneinfoDirectory (class)">InvalidZoneinfoDirectory</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a directory or doesn&#39;t contain a iso3166.tab file and a zone1970.tab or zone.tab file.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@zoneinfo_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_zoneinfo_dir'><a href="#zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#zoneinfo_dir (method)">zoneinfo_dir</a></span>
  <span class='kw'>else</span>
    <span class='ivar'>@zoneinfo_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_find_zoneinfo_dir'><a href="#find_zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#find_zoneinfo_dir (method)">find_zoneinfo_dir</a></span>

    <span class='kw'>unless</span> <span class='ivar'>@zoneinfo_dir</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="ZoneinfoDirectoryNotFound.html" title="TZInfo::DataSources::ZoneinfoDirectoryNotFound (class)">ZoneinfoDirectoryNotFound</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>None of the paths included in </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.search_path are valid zoneinfo directories.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@zoneinfo_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='ivar'>@zoneinfo_dir</span>).<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='ivar'>@timezone_identifiers</span> <span class='op'>=</span> <span class='id identifier rubyid_load_timezone_identifiers'><a href="#load_timezone_identifiers-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#load_timezone_identifiers (method)">load_timezone_identifiers</a></span>.<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='ivar'>@countries</span> <span class='op'>=</span> <span class='id identifier rubyid_load_countries'><a href="#load_countries-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#load_countries (method)">load_countries</a></span>(<span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>).<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='ivar'>@country_codes</span> <span class='op'>=</span> <span class='ivar'>@countries</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_sort!'>sort!</span>.<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='id identifier rubyid_string_deduper'>string_deduper</span> <span class='op'>=</span> <span class='const'><a href="../ConcurrentStringDeduper.html" title="TZInfo::ConcurrentStringDeduper (class)">ConcurrentStringDeduper</a></span>.<span class='id identifier rubyid_new'><a href="../StringDeduper.html#new-class_method" title="TZInfo::StringDeduper.new (method)">new</a></span>
  <span class='id identifier rubyid_posix_tz_parser'>posix_tz_parser</span> <span class='op'>=</span> <span class='const'><a href="PosixTimeZoneParser.html" title="TZInfo::DataSources::PosixTimeZoneParser (class)">PosixTimeZoneParser</a></span>.<span class='id identifier rubyid_new'><a href="PosixTimeZoneParser.html#new-class_method" title="TZInfo::DataSources::PosixTimeZoneParser.new (method)">new</a></span>(<span class='id identifier rubyid_string_deduper'>string_deduper</span>)
  <span class='ivar'>@zoneinfo_reader</span> <span class='op'>=</span> <span class='const'><a href="ZoneinfoReader.html" title="TZInfo::DataSources::ZoneinfoReader (class)">ZoneinfoReader</a></span>.<span class='id identifier rubyid_new'><a href="ZoneinfoReader.html#new-class_method" title="TZInfo::DataSources::ZoneinfoReader.new (method)">new</a></span>(<span class='id identifier rubyid_posix_tz_parser'>posix_tz_parser</span><span class='comma'>,</span> <span class='id identifier rubyid_string_deduper'>string_deduper</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="alternate_iso3166_tab_search_path-class_method">
  <h3 class='signature rw first'>
    .<strong>alternate_iso3166_tab_search_path</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>An <code>Array</code> of paths that will be checked to find an alternate
iso3166.tab file if one was not included in the zoneinfo directory
(for example, on FreeBSD and OpenBSD systems).</p>

<p>Paths are checked in the order they appear in the <code>Array</code>.</p>

<p>The default value is <code>[&#39;/usr/share/misc/iso3166.tab&#39;,
&#39;/usr/share/misc/iso3166&#39;]</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an <code>Array</code> of paths to check in order to
locate an iso3166.tab file.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L156-L158'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='156' data-end='158'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 156</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_alternate_iso3166_tab_search_path'>alternate_iso3166_tab_search_path</span>
  <span class='cvar'>@@alternate_iso3166_tab_search_path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="alternate_iso3166_tab_search_path=-class_method">
  <h3 class='signature rw'>
    .<strong>alternate_iso3166_tab_search_path=</strong>(alternate_iso3166_tab_search_path)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Sets the paths to check to locate an alternate iso3166.tab file if one
was not included in the zoneinfo directory.</p>

<p>Can be set to an <code>Array</code> of paths or a <code>String</code> containing paths
separated with <code>File::PATH_SEPARATOR</code>.</p>

<p>Paths are checked in the order they appear in the array.</p>

<p>Set to <code>nil</code> to revert to the default paths.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>alternate_iso3166_tab_search_path</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>either <code>nil</code> or a
list of paths to check as either an <code>Array</code> of <code>String</code> or a
<code>File::PATH_SEPARATOR</code> separated <code>String</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L173-L175'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='175'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_alternate_iso3166_tab_search_path='>alternate_iso3166_tab_search_path=</span>(<span class='id identifier rubyid_alternate_iso3166_tab_search_path'><a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">alternate_iso3166_tab_search_path</a></span>)
  <span class='cvar'>@@alternate_iso3166_tab_search_path</span> <span class='op'>=</span> <span class='id identifier rubyid_process_search_path'><a href="#process_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.process_search_path (method)">process_search_path</a></span>(<span class='id identifier rubyid_alternate_iso3166_tab_search_path'><a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">alternate_iso3166_tab_search_path</a></span><span class='comma'>,</span> <span class='const'><a href="#DEFAULT_ALTERNATE_ISO3166_TAB_SEARCH_PATH-constant" title="TZInfo::DataSources::ZoneinfoDataSource::DEFAULT_ALTERNATE_ISO3166_TAB_SEARCH_PATH (constant)">DEFAULT_ALTERNATE_ISO3166_TAB_SEARCH_PATH</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search_path-class_method">
  <h3 class='signature rw'>
    .<strong>search_path</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>An <code>Array</code> of directories that will be checked to find the system
zoneinfo directory.</p>

<p>Directories are checked in the order they appear in the <code>Array</code>.</p>

<p>The default value is <code>[&#39;/usr/share/zoneinfo&#39;,
&#39;/usr/share/lib/zoneinfo&#39;, &#39;/etc/zoneinfo&#39;]</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an <code>Array</code> of directories to check in order to
find the system zoneinfo directory.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L123-L125'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='125'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_path'>search_path</span>
  <span class='cvar'>@@search_path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search_path=-class_method">
  <h3 class='signature rw'>
    .<strong>search_path=</strong>(search_path)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Sets the directories to be checked when locating the system zoneinfo
directory.</p>

<p>Can be set to an <code>Array</code> of directories or a <code>String</code> containing
directories separated with <code>File::PATH_SEPARATOR</code>.</p>

<p>Directories are checked in the order they appear in the <code>Array</code> or
<code>String</code>.</p>

<p>Set to <code>nil</code> to revert to the default paths.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>search_path</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>either <code>nil</code> or a list of directories to
check as either an <code>Array</code> of <code>String</code> or a <code>File::PATH_SEPARATOR</code>
separated <code>String</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L141-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_path='>search_path=</span>(<span class='id identifier rubyid_search_path'><a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">search_path</a></span>)
  <span class='cvar'>@@search_path</span> <span class='op'>=</span> <span class='id identifier rubyid_process_search_path'><a href="#process_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.process_search_path (method)">process_search_path</a></span>(<span class='id identifier rubyid_search_path'><a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">search_path</a></span><span class='comma'>,</span> <span class='const'><a href="#DEFAULT_SEARCH_PATH-constant" title="TZInfo::DataSources::ZoneinfoDataSource::DEFAULT_SEARCH_PATH (constant)">DEFAULT_SEARCH_PATH</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="process_search_path-class_method">
  <h3 class='signature priv first'>
    .<strong>process_search_path</strong>(path, default)  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Processes a path for use as the <a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a> or
<a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>either <code>nil</code> or a list of paths to check as
either an <code>Array</code> of <code>String</code> or a <code>File::PATH_SEPARATOR</code> separated
<code>String</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>default</span>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the default value.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the processed path.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L187-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='187' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 187</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_search_path'>process_search_path</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>String</span>)
      <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_split'>split</span>(<span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_collect'>collect</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#to_s (method)">to_s</a></span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_default'>default</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="country_codes-instance_method">
  <h3 class='signature ro first'>
    #<strong>country_codes</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns a frozen <code>Array</code> of all the available ISO 3166-1 alpha-2 country
codes. The identifiers are sorted according to <code>String#<=></code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>a frozen <code>Array</code> of all the available ISO 3166-1
alpha-2 country codes.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L204-L204'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='204'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_country_codes'>country_codes</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="zoneinfo_dir-instance_method">
  <h3 class='signature ro'>
    #<strong>zoneinfo_dir</strong>  &#x21d2; <code>String</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the zoneinfo directory being used.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L201-L201'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='201' data-end='201'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 201</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_zoneinfo_dir'>zoneinfo_dir</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="data_timezone_identifiers-instance_method">
  <h3 class='signature  first'>
    #<strong>data_timezone_identifiers</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns a frozen <code>Array</code> of all the available time zone identifiers. The
identifiers are sorted according to <code>String#<=></code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>a frozen <code>Array</code> of all the available time zone
identifiers.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L271-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='271' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 271</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_data_timezone_identifiers'>data_timezone_identifiers</span>
  <span class='ivar'>@timezone_identifiers</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dms_to_rational-instance_method">
  <h3 class='signature priv'>
    #<strong>dms_to_rational</strong>(sign, degrees, minutes, seconds = nil)  &#x21d2; <code>Rational</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts degrees, minutes and seconds to a Rational.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>sign</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p><code>'-'</code> or <code>'+'</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>degrees</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the number of degrees.</p>
</div>
  </li>
  <li>
    <span class='name'>minutes</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the number of minutes.</p>
</div>
  </li>
  <li>
    <span class='name'>seconds</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>the number of seconds (optional).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Rational</code>)</span>
&mdash;    <div class='inline'><p>the result of converting from degrees, minutes and
seconds to a <code>Rational</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L579-L589'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='579' data-end='589'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 579</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dms_to_rational'>dms_to_rational</span>(<span class='id identifier rubyid_sign'>sign</span><span class='comma'>,</span> <span class='id identifier rubyid_degrees'>degrees</span><span class='comma'>,</span> <span class='id identifier rubyid_minutes'>minutes</span><span class='comma'>,</span> <span class='id identifier rubyid_seconds'>seconds</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_degrees'>degrees</span> <span class='op'>=</span> <span class='id identifier rubyid_degrees'>degrees</span>.<span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_minutes'>minutes</span> <span class='op'>=</span> <span class='id identifier rubyid_minutes'>minutes</span>.<span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_sign'>sign</span> <span class='op'>=</span> <span class='id identifier rubyid_sign'>sign</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_seconds'>seconds</span>
    <span class='const'>Rational</span>(<span class='id identifier rubyid_sign'>sign</span> <span class='op'>*</span> (<span class='id identifier rubyid_degrees'>degrees</span> <span class='op'>*</span> <span class='int'>3600</span> <span class='op'>+</span> <span class='id identifier rubyid_minutes'>minutes</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='id identifier rubyid_seconds'>seconds</span>.<span class='id identifier rubyid_to_i'>to_i</span>)<span class='comma'>,</span> <span class='int'>3600</span>)
  <span class='kw'>else</span>
    <span class='const'>Rational</span>(<span class='id identifier rubyid_sign'>sign</span> <span class='op'>*</span> (<span class='id identifier rubyid_degrees'>degrees</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='id identifier rubyid_minutes'>minutes</span>)<span class='comma'>,</span> <span class='int'>60</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enum_timezones-instance_method">
  <h3 class='signature priv'>
    #<strong>enum_timezones</strong>(dir, exclude = []) {|path| ... }  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Recursively enumerate a directory of time zones.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>dir</span>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the directory to enumerate as an <code>Array</code> of
path components.</p>
</div>
  </li>
  <li>
    <span class='name'>exclude</span>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
    <em class='default'>(defaults to: <tt>[]</tt>)</em>
&mdash;    <div class='inline'><p>file names to exclude when scanning
<code>dir</code>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>path</code>)</span>
&mdash;    <div class='inline'><p>the path of each time zone file found is passed to
the block.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the path of a time zone file as an
<code>Array</code> of path components.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L434-L454'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='434' data-end='454'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 434</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enum_timezones'>enum_timezones</span>(<span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_exclude'>exclude</span> <span class='op'>=</span> []<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'>Dir</span>.<span class='id identifier rubyid_foreach'>foreach</span>(<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='ivar'>@zoneinfo_dir</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_dir'>dir</span>)) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_encode!'>encode!</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>)
    <span class='kw'>rescue</span> <span class='const'>EncodingError</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_entry'>entry</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span> <span class='op'>||</span> <span class='id identifier rubyid_exclude'>exclude</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_entry'>entry</span>)
      <span class='const'><a href="../RubyCoreSupport.html" title="TZInfo::RubyCoreSupport (module)">RubyCoreSupport</a></span>.<span class='id identifier rubyid_untaint'><a href="../RubyCoreSupport.html#untaint-class_method" title="TZInfo::RubyCoreSupport.untaint (method)">untaint</a></span>(<span class='id identifier rubyid_entry'>entry</span>)
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_dir'>dir</span> <span class='op'>+</span> [<span class='id identifier rubyid_entry'>entry</span>]
      <span class='id identifier rubyid_full_path'>full_path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='ivar'>@zoneinfo_dir</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_path'>path</span>)

      <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span>(<span class='id identifier rubyid_full_path'>full_path</span>)
        <span class='id identifier rubyid_enum_timezones'>enum_timezones</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
      <span class='kw'>elsif</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_full_path'>full_path</span>)
        <span class='kw'>yield</span> <span class='id identifier rubyid_path'>path</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_zoneinfo_dir-instance_method">
  <h3 class='signature priv'>
    #<strong>find_zoneinfo_dir</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Finds a zoneinfo directory using <a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">.search_path</a> and
<a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">.alternate_iso3166_tab_search_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an <code>Array</code> containing the iso3166.tab and
zone.tab paths if a zoneinfo directory was found, otherwise <code>nil</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L389-L407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_zoneinfo_dir'>find_zoneinfo_dir</span>
  <span class='id identifier rubyid_alternate_iso3166_tab_path'>alternate_iso3166_tab_path</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_alternate_iso3166_tab_search_path'><a href="#alternate_iso3166_tab_search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.alternate_iso3166_tab_search_path (method)">alternate_iso3166_tab_search_path</a></span>.<span class='id identifier rubyid_detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>end</span>

  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_search_path'><a href="#search_path-class_method" title="TZInfo::DataSources::ZoneinfoDataSource.search_path (method)">search_path</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='comment'># Try without the alternate_iso3166_tab_path first.
</span>    <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_zoneinfo_dir'><a href="#validate_zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#validate_zoneinfo_dir (method)">validate_zoneinfo_dir</a></span>(<span class='id identifier rubyid_path'>path</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_alternate_iso3166_tab_path'>alternate_iso3166_tab_path</span>
      <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_zoneinfo_dir'><a href="#validate_zoneinfo_dir-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#validate_zoneinfo_dir (method)">validate_zoneinfo_dir</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_alternate_iso3166_tab_path'>alternate_iso3166_tab_path</span>)
      <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Not found.
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the internal object state as a programmer-readable
<code>String</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L290-L292'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='290' data-end='292'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 290</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@zoneinfo_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="linked_timezone_identifiers-instance_method">
  <h3 class='signature '>
    #<strong>linked_timezone_identifiers</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns an empty <code>Array</code>. There is no information about linked/aliased
time zones in the zoneinfo files. When using <code>ZoneinfoDataSource</code>, every
time zone will be returned as a <a href="../DataTimezone.html" title="TZInfo::DataTimezone (class)"><code>::TZInfo::DataTimezone</code></a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an empty <code>Array</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L280-L282'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='280' data-end='282'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 280</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_linked_timezone_identifiers'>linked_timezone_identifiers</span>
  [].<span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_countries-instance_method">
  <h3 class='signature priv'>
    #<strong>load_countries</strong>(iso3166_tab_path, zone_tab_path)  &#x21d2; <code>Hash</code>&lt;<code>String</code>, <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)">CountryInfo</a>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Uses the iso3166.tab and zone1970.tab or zone.tab files to return a Hash
mapping country codes to <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)"><code>CountryInfo</code></a> instances.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>iso3166_tab_path</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the path to the iso3166.tab file.</p>
</div>
  </li>
  <li>
    <span class='name'>zone_tab_path</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the path to the zone.tab file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Hash</code>&lt;<code>String</code>, <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)">CountryInfo</a>&gt;)</span>
&mdash;    <div class='inline'><p>a mapping from ISO 3166-1 alpha-2
country codes to <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)"><code>CountryInfo</code></a> instances.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L463-L569'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='463' data-end='569'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 463</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_countries'>load_countries</span>(<span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>)

  <span class='comment'># Handle standard 3 to 4 column zone.tab files as well as the 4 to 5
</span>  <span class='comment'># column format used by Solaris.
</span>  <span class='comment'>#
</span>  <span class='comment'># On Solaris, an extra column before the comment gives an optional
</span>  <span class='comment'># linked/alternate timezone identifier (or &#39;-&#39; if not set).
</span>  <span class='comment'>#
</span>  <span class='comment'># Additionally, there is a section at the end of the file for timezones
</span>  <span class='comment'># covering regions. These are given lower-case &quot;country&quot; codes. The timezone
</span>  <span class='comment'># identifier column refers to a continent instead of an identifier. These
</span>  <span class='comment'># lines will be ignored by TZInfo.
</span>  <span class='comment'>#
</span>  <span class='comment'># Since the last column is optional in both formats, testing for the
</span>  <span class='comment'># Solaris format is done in two passes. The first pass identifies if there
</span>  <span class='comment'># are any lines using 5 columns.
</span>

  <span class='comment'># The first column is allowed to be a comma separated list of country
</span>  <span class='comment'># codes, as used in zone1970.tab (introduced in tzdata 2014f).
</span>  <span class='comment'>#
</span>  <span class='comment'># The first country code in the comma-separated list is the country that
</span>  <span class='comment'># contains the city the zone identifier is based on. The first country
</span>  <span class='comment'># code on each line is considered to be primary with the others
</span>  <span class='comment'># secondary.
</span>  <span class='comment'>#
</span>  <span class='comment'># The zones for each country are ordered primary first, then secondary.
</span>  <span class='comment'># Within the primary and secondary groups, the zones are ordered by their
</span>  <span class='comment'># order in the file.
</span>
  <span class='id identifier rubyid_file_is_5_column'>file_is_5_column</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_zone_tab'>zone_tab</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span><span class='comma'>,</span> <span class='label'>external_encoding:</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='comma'>,</span> <span class='label'>internal_encoding:</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>)
  <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([A-Z]{2}(?:,[A-Z]{2})*)\t(?:([+\-])(\d{2})(\d{2})([+\-])(\d{3})(\d{2})|([+\-])(\d{2})(\d{2})(\d{2})([+\-])(\d{3})(\d{2})(\d{2}))\t([^\t]+)(?:\t([^\t]+))?(?:\t([^\t]+))?\z</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='backref'>$1</span>

      <span class='kw'>if</span> <span class='backref'>$2</span>
        <span class='id identifier rubyid_latitude'>latitude</span> <span class='op'>=</span> <span class='id identifier rubyid_dms_to_rational'><a href="#dms_to_rational-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#dms_to_rational (method)">dms_to_rational</a></span>(<span class='backref'>$2</span><span class='comma'>,</span> <span class='backref'>$3</span><span class='comma'>,</span> <span class='backref'>$4</span>)
        <span class='id identifier rubyid_longitude'>longitude</span> <span class='op'>=</span> <span class='id identifier rubyid_dms_to_rational'><a href="#dms_to_rational-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#dms_to_rational (method)">dms_to_rational</a></span>(<span class='backref'>$5</span><span class='comma'>,</span> <span class='backref'>$6</span><span class='comma'>,</span> <span class='backref'>$7</span>)
      <span class='kw'>else</span>
        <span class='id identifier rubyid_latitude'>latitude</span> <span class='op'>=</span> <span class='id identifier rubyid_dms_to_rational'><a href="#dms_to_rational-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#dms_to_rational (method)">dms_to_rational</a></span>(<span class='backref'>$8</span><span class='comma'>,</span> <span class='backref'>$9</span><span class='comma'>,</span> <span class='backref'>$10</span><span class='comma'>,</span> <span class='backref'>$11</span>)
        <span class='id identifier rubyid_longitude'>longitude</span> <span class='op'>=</span> <span class='id identifier rubyid_dms_to_rational'><a href="#dms_to_rational-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#dms_to_rational (method)">dms_to_rational</a></span>(<span class='backref'>$12</span><span class='comma'>,</span> <span class='backref'>$13</span><span class='comma'>,</span> <span class='backref'>$14</span><span class='comma'>,</span> <span class='backref'>$15</span>)
      <span class='kw'>end</span>

      <span class='id identifier rubyid_zone_identifier'>zone_identifier</span> <span class='op'>=</span> <span class='backref'>$16</span>
      <span class='id identifier rubyid_column4'>column4</span> <span class='op'>=</span> <span class='backref'>$17</span>
      <span class='id identifier rubyid_column5'>column5</span> <span class='op'>=</span> <span class='backref'>$18</span>

      <span class='id identifier rubyid_file_is_5_column'>file_is_5_column</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_column5'>column5</span>

      <span class='id identifier rubyid_zone_tab'>zone_tab</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_codes'>codes</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span>)<span class='comma'>,</span> <span class='id identifier rubyid_zone_identifier'>zone_identifier</span><span class='comma'>,</span> <span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_longitude'>longitude</span><span class='comma'>,</span> <span class='id identifier rubyid_column4'>column4</span><span class='comma'>,</span> <span class='id identifier rubyid_column5'>column5</span>]
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_string_deduper'>string_deduper</span> <span class='op'>=</span> <span class='const'><a href="../StringDeduper.html" title="TZInfo::StringDeduper (class)">StringDeduper</a></span>.<span class='id identifier rubyid_new'><a href="../StringDeduper.html#new-class_method" title="TZInfo::StringDeduper.new (method)">new</a></span>
  <span class='id identifier rubyid_primary_zones'>primary_zones</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_secondary_zones'>secondary_zones</span> <span class='op'>=</span> {}

  <span class='id identifier rubyid_zone_tab'>zone_tab</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_codes'>codes</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_identifier'>zone_identifier</span><span class='comma'>,</span> <span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_longitude'>longitude</span><span class='comma'>,</span> <span class='id identifier rubyid_column4'>column4</span><span class='comma'>,</span> <span class='id identifier rubyid_column5'>column5</span><span class='op'>|</span>
    <span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_file_is_5_column'>file_is_5_column</span> <span class='op'>?</span> <span class='id identifier rubyid_column5'>column5</span> <span class='op'>:</span> <span class='id identifier rubyid_column4'>column4</span>
    <span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_string_deduper'>string_deduper</span>.<span class='id identifier rubyid_dedupe'>dedupe</span>(<span class='id identifier rubyid_description'>description</span>) <span class='kw'>if</span> <span class='id identifier rubyid_description'>description</span>

    <span class='comment'># Lookup the identifier in the timezone index, so that the same
</span>    <span class='comment'># String instance can be used (saving memory).
</span>    <span class='kw'>begin</span>
      <span class='id identifier rubyid_zone_identifier'>zone_identifier</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_timezone_identifier'>validate_timezone_identifier</span>(<span class='id identifier rubyid_zone_identifier'>zone_identifier</span>)
    <span class='kw'>rescue</span> <span class='const'><a href="../InvalidTimezoneIdentifier.html" title="TZInfo::InvalidTimezoneIdentifier (class)">InvalidTimezoneIdentifier</a></span>
      <span class='comment'># zone_identifier is not valid, dedupe and allow anyway.
</span>      <span class='id identifier rubyid_zone_identifier'>zone_identifier</span> <span class='op'>=</span> <span class='id identifier rubyid_string_deduper'>string_deduper</span>.<span class='id identifier rubyid_dedupe'>dedupe</span>(<span class='id identifier rubyid_zone_identifier'>zone_identifier</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_country_timezone'>country_timezone</span> <span class='op'>=</span> <span class='const'><a href="../CountryTimezone.html" title="TZInfo::CountryTimezone (class)">CountryTimezone</a></span>.<span class='id identifier rubyid_new'><a href="../CountryTimezone.html#new-class_method" title="TZInfo::CountryTimezone.new (method)">new</a></span>(<span class='id identifier rubyid_zone_identifier'>zone_identifier</span><span class='comma'>,</span> <span class='id identifier rubyid_latitude'>latitude</span><span class='comma'>,</span> <span class='id identifier rubyid_longitude'>longitude</span><span class='comma'>,</span> <span class='id identifier rubyid_description'>description</span>)

    <span class='comment'># codes will always have at least one element
</span>
    (<span class='id identifier rubyid_primary_zones'>primary_zones</span>[<span class='id identifier rubyid_codes'>codes</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_freeze'>freeze</span>] <span class='op'>||=</span> []) <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_country_timezone'>country_timezone</span>

    <span class='id identifier rubyid_codes'>codes</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_code'>code</span><span class='op'>|</span>
      (<span class='id identifier rubyid_secondary_zones'>secondary_zones</span>[<span class='id identifier rubyid_code'>code</span>.<span class='id identifier rubyid_freeze'>freeze</span>] <span class='op'>||=</span> []) <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_country_timezone'>country_timezone</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_countries'>countries</span> <span class='op'>=</span> {}

  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='label'>external_encoding:</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='comma'>,</span> <span class='label'>internal_encoding:</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>)
  <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>

    <span class='comment'># Handle both the two column alpha-2 and name format used in the tz
</span>    <span class='comment'># database as well as the 4 column alpha-2, alpha-3, numeric-3 and
</span>    <span class='comment'># name format used by FreeBSD and OpenBSD.
</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([A-Z]{2})(?:\t[A-Z]{3}\t[0-9]{3})?\t(.+)\z</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_zones'>zones</span> <span class='op'>=</span> (<span class='id identifier rubyid_primary_zones'>primary_zones</span>[<span class='id identifier rubyid_code'>code</span>] <span class='op'>||</span> []) <span class='op'>+</span> (<span class='id identifier rubyid_secondary_zones'>secondary_zones</span>[<span class='id identifier rubyid_code'>code</span>] <span class='op'>||</span> [])

      <span class='id identifier rubyid_countries'>countries</span>[<span class='id identifier rubyid_code'>code</span>] <span class='op'>=</span> <span class='const'><a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)">CountryInfo</a></span>.<span class='id identifier rubyid_new'><a href="CountryInfo.html#new-class_method" title="TZInfo::DataSources::CountryInfo.new (method)">new</a></span>(<span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_zones'>zones</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_countries'>countries</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_country_info-instance_method">
  <h3 class='signature prot'>
    #<strong>load_country_info</strong>(code)  &#x21d2; <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)">DataSources::CountryInfo</a>  <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>code</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>an ISO 3166-1 alpha-2 country code.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)">DataSources::CountryInfo</a>)</span>
&mdash;    <div class='inline'><p>a <a href="CountryInfo.html" title="TZInfo::DataSources::CountryInfo (class)"><code>CountryInfo</code></a> instance
for the given ISO 3166-1 alpha-2 country code.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="../InvalidCountryCode.html" title="TZInfo::InvalidCountryCode (class)">InvalidCountryCode</a>)</span>
&mdash;    <div class='inline'><p>if the country could not be found or the code
is invalid.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L326-L328'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='326' data-end='328'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 326</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_country_info'>load_country_info</span>(<span class='id identifier rubyid_code'>code</span>)
  <span class='id identifier rubyid_lookup_country_info'>lookup_country_info</span>(<span class='ivar'>@countries</span><span class='comma'>,</span> <span class='id identifier rubyid_code'>code</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_timezone_identifiers-instance_method">
  <h3 class='signature priv'>
    #<strong>load_timezone_identifiers</strong>  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Scans @zoneinfo_dir and returns an <code>Array</code> of available time zone
identifiers. The result is sorted according to <code>String#<=></code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an <code>Array</code> containing all the time zone
identifiers found.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L414-L422'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='414' data-end='422'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 414</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_timezone_identifiers'>load_timezone_identifiers</span>
  <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_enum_timezones'><a href="#enum_timezones-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#enum_timezones (method)">enum_timezones</a></span>([]<span class='comma'>,</span> <span class='const'><a href="#EXCLUDED_FILENAMES-constant" title="TZInfo::DataSources::ZoneinfoDataSource::EXCLUDED_FILENAMES (constant)">EXCLUDED_FILENAMES</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_identifier'>identifier</span><span class='op'>|</span>
    <span class='id identifier rubyid_index'>index</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_identifier'>identifier</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_sort!'>sort!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_timezone_info-instance_method">
  <h3 class='signature prot'>
    #<strong>load_timezone_info</strong>(identifier)  &#x21d2; <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)">TimezoneInfo</a>  <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns a <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)"><code>TimezoneInfo</code></a> instance for the given time zone identifier.
The result will either be a <a href="ConstantOffsetDataTimezoneInfo.html" title="TZInfo::DataSources::ConstantOffsetDataTimezoneInfo (class)"><code>ConstantOffsetDataTimezoneInfo</code></a> or a
<a href="TransitionsDataTimezoneInfo.html" title="TZInfo::DataSources::TransitionsDataTimezoneInfo (class)"><code>TransitionsDataTimezoneInfo</code></a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>identifier</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>A time zone identifier.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)">TimezoneInfo</a>)</span>
&mdash;    <div class='inline'><p>a <a href="TimezoneInfo.html" title="TZInfo::DataSources::TimezoneInfo (class)"><code>TimezoneInfo</code></a> instance for the given time zone
identifier.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="../InvalidTimezoneIdentifier.html" title="TZInfo::InvalidTimezoneIdentifier (class)">InvalidTimezoneIdentifier</a>)</span>
&mdash;    <div class='inline'><p>if the time zone is not found, the
identifier is invalid, the zoneinfo file cannot be opened or the
zoneinfo file is not valid.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L306-L323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='306' data-end='323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_timezone_info'>load_timezone_info</span>(<span class='id identifier rubyid_identifier'>identifier</span>)
  <span class='id identifier rubyid_valid_identifier'>valid_identifier</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_timezone_identifier'>validate_timezone_identifier</span>(<span class='id identifier rubyid_identifier'>identifier</span>)
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='ivar'>@zoneinfo_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_valid_identifier'>valid_identifier</span>)

  <span class='id identifier rubyid_zoneinfo'>zoneinfo</span> <span class='op'>=</span> <span class='kw'>begin</span>
    <span class='ivar'>@zoneinfo_reader</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span><span class='comma'>,</span> <span class='const'><a href="InvalidZoneinfoFile.html" title="TZInfo::DataSources::InvalidZoneinfoFile (class)">InvalidZoneinfoFile</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../InvalidTimezoneIdentifier.html" title="TZInfo::InvalidTimezoneIdentifier (class)">InvalidTimezoneIdentifier</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>)<span class='embexpr_end'>}</span><span class='tstring_content'> (loading </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_identifier'>valid_identifier</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EISDIR</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENAMETOOLONG</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTDIR</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../InvalidTimezoneIdentifier.html" title="TZInfo::InvalidTimezoneIdentifier (class)">InvalidTimezoneIdentifier</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid identifier: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_identifier'>valid_identifier</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_zoneinfo'>zoneinfo</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="../TimezoneOffset.html" title="TZInfo::TimezoneOffset (class)">TimezoneOffset</a></span>)
    <span class='const'><a href="ConstantOffsetDataTimezoneInfo.html" title="TZInfo::DataSources::ConstantOffsetDataTimezoneInfo (class)">ConstantOffsetDataTimezoneInfo</a></span>.<span class='id identifier rubyid_new'><a href="ConstantOffsetDataTimezoneInfo.html#new-class_method" title="TZInfo::DataSources::ConstantOffsetDataTimezoneInfo.new (method)">new</a></span>(<span class='id identifier rubyid_valid_identifier'>valid_identifier</span><span class='comma'>,</span> <span class='id identifier rubyid_zoneinfo'>zoneinfo</span>)
  <span class='kw'>else</span>
    <span class='const'><a href="TransitionsDataTimezoneInfo.html" title="TZInfo::DataSources::TransitionsDataTimezoneInfo (class)">TransitionsDataTimezoneInfo</a></span>.<span class='id identifier rubyid_new'><a href="TransitionsDataTimezoneInfo.html#new-class_method" title="TZInfo::DataSources::TransitionsDataTimezoneInfo.new (method)">new</a></span>(<span class='id identifier rubyid_valid_identifier'>valid_identifier</span><span class='comma'>,</span> <span class='id identifier rubyid_zoneinfo'>zoneinfo</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_tab_path-instance_method">
  <h3 class='signature priv'>
    #<strong>resolve_tab_path</strong>(zoneinfo_path, standard_names, tab_name)  &#x21d2; <code>String</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Attempts to resolve the path to a tab file given its standard names and
tab sub-directory name (as used on Solaris).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>zoneinfo_path</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the path to a zoneinfo directory.</p>
</div>
  </li>
  <li>
    <span class='name'>standard_names</span>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the standard names for the tab
file.</p>
</div>
  </li>
  <li>
    <span class='name'>tab_name</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the alternate name for the tab file to check in
the tab sub-directory.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the path to the tab file.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L372-L382'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='372' data-end='382'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 372</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_tab_path'>resolve_tab_path</span>(<span class='id identifier rubyid_zoneinfo_path'>zoneinfo_path</span><span class='comma'>,</span> <span class='id identifier rubyid_standard_names'>standard_names</span><span class='comma'>,</span> <span class='id identifier rubyid_tab_name'>tab_name</span>)
  <span class='id identifier rubyid_standard_names'>standard_names</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_standard_name'>standard_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_zoneinfo_path'>zoneinfo_path</span><span class='comma'>,</span> <span class='id identifier rubyid_standard_name'>standard_name</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_zoneinfo_path'>zoneinfo_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tab</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_tab_name'>tab_name</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_path'>path</span>)

  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>a description of the <a href="../DataSource.html" title="TZInfo::DataSource (class)"><code>::TZInfo::DataSource</code></a>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L285-L287'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='285' data-end='287'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 285</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Zoneinfo DataSource: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@zoneinfo_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate_zoneinfo_dir-instance_method">
  <h3 class='signature priv'>
    #<strong>validate_zoneinfo_dir</strong>(path, iso3166_tab_path = nil)  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Validates a zoneinfo directory and returns the paths to the iso3166.tab
and zone1970.tab or zone.tab files if valid. If the directory is not
valid, returns <code>nil</code>.</p>

<p>The path to the iso3166.tab file may be overridden by passing in a path.
This is treated as either absolute or relative to the current working
directory.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the path to a possible zoneinfo directory.</p>
</div>
  </li>
  <li>
    <span class='name'>iso3166_tab_path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>an optional path to an external
iso3166.tab file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>an <code>Array</code> containing the iso3166.tab and
zone.tab paths if the directory is valid, otherwise <code>nil</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/data_sources/zoneinfo_data_source.rb#L345-L361'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='361'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/data_sources/zoneinfo_data_source.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_zoneinfo_dir'>validate_zoneinfo_dir</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span>(<span class='id identifier rubyid_path'>path</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span>
      <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_tab_path'><a href="#resolve_tab_path-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#resolve_tab_path (method)">resolve_tab_path</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>iso3166.tab</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>country.tab</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_tab_path'><a href="#resolve_tab_path-instance_method" title="TZInfo::DataSources::ZoneinfoDataSource#resolve_tab_path (method)">resolve_tab_path</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zone1970.tab</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zone.tab</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zone_sun.tab</span><span class='tstring_end'>&#39;</span></span>)
    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>

    [<span class='id identifier rubyid_iso3166_tab_path'>iso3166_tab_path</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_tab_path'>zone_tab_path</span>]
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>