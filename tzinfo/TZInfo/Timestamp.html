<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: TZInfo::Timestamp &mdash; TZInfo master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "TZInfo::Timestamp",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>TZInfo master</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../TZInfo.html" title="TZInfo (module)">TZInfo</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Timestamp&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: TZInfo::Timestamp</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="TimestampWithOffset.html" title="TZInfo::TimestampWithOffset (class)">TimestampWithOffset</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Comparable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L11'>lib/tzinfo/timestamp.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <p>A time represented as an <code>Integer</code> number of seconds since 1970-01-01
00:00:00 UTC (ignoring leap seconds and using the proleptic Gregorian
calendar), the fraction through the second (sub_second as a <code>Rational</code>) and
an optional UTC offset. Like Ruby&#39;s <code>Time</code> class, <code>Timestamp</code> can
distinguish between a local time with a zero offset and a time specified
explicitly as UTC.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='JD_EPOCH-constant' class='summary_signature priv'>JD_EPOCH =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    <p>The Unix epoch (1970-01-01 00:00:00 UTC) as a chronological Julian day
number.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L16-L16'># File 'lib/tzinfo/timestamp.rb', line 16</a>    <pre class='code ruby'><span class='int'>2440588</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#create-class_method" title=".create (class method)">.<strong>create</strong>(year, month = 1, day = 1, hour = 0, minute = 0, second = 0, sub_second = 0, utc_offset = nil)  &#x21d2; Timestamp </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>Timestamp</code> representing the (proleptic Gregorian calendar) date and time specified by the supplied parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#for-class_method" title=".for (class method)">.<strong>for</strong>(value, offset = :preserve) {|timestamp| ... } &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When used without a block, returns a <code>Timestamp</code> representation of a given <code>Time</code>, <code>DateTime</code> or <code>Timestamp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(value, sub_second = 0, utc_offset = nil)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes a new <code>Timestamp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#utc-class_method" title=".utc (class method)">.<strong>utc</strong>(value, sub_second = 0)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new UTC <code>Timestamp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#for_datetime-class_method" title=".for_datetime (class method)">.<strong>for_datetime</strong>(datetime, ignore_offset, target_utc_offset)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a <code>Timestamp</code> that represents a given <code>DateTime</code>, optionally ignoring the offset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#for_time-class_method" title=".for_time (class method)">.<strong>for_time</strong>(time, ignore_offset, target_utc_offset)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a <code>Timestamp</code> that represents a given <code>Time</code>, optionally ignoring the offset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#for_time_like-class_method" title=".for_time_like (class method)">.<strong>for_time_like</strong>(time_like, ignore_offset, target_utc_offset)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a <code>Timestamp</code> that represents a given <code>Time</code>-like object, optionally ignoring the offset (if the <code>time_like</code> responds to <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#for_timestamp-class_method" title=".for_timestamp (class method)">.<strong>for_timestamp</strong>(timestamp, ignore_offset, target_utc_offset)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <code>Timestamp</code> that represents another <code>Timestamp</code>, optionally ignoring the offset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#is_time_like%3F-class_method" title=".is_time_like? (class method)">.<strong>is_time_like?</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determines if an object is like a <code>Time</code> (for the purposes of converting to a <code>Timestamp</code> with <a href="#for-class_method" title="TZInfo::Timestamp.for (method)">.for</a>), responding to <a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">#to_i</a> and <code>subsec</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#new!-class_method" title=".new! (class method)">.<strong>new!</strong>(value, sub_second = 0, utc_offset = nil)  &#x21d2; Timestamp </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs a new instance of <code>self</code> (i.e. <code>Timestamp</code> or a subclass of <code>Timestamp</code>) without validating the parameters.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#sub_second-instance_method" title="#sub_second (instance method)">#<strong>sub_second</strong>  &#x21d2; Numeric </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#utc%3F-instance_method" title="#utc? (instance method)">#<strong>utc?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#utc_offset-instance_method" title="#utc_offset (instance method)">#<strong>utc_offset</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#value-instance_method" title="#value (instance method)">#<strong>value</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(t)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compares this <code>Timestamp</code> with another.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_and_set_utc_offset-instance_method" title="#add_and_set_utc_offset (instance method)">#<strong>add_and_set_utc_offset</strong>(seconds, utc_offset)  &#x21d2; Timestamp </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a number of seconds to the <code>Timestamp</code> value, setting the UTC offset of the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strftime-instance_method" title="#strftime (instance method)">#<strong>strftime</strong>(format)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Formats this <code>Timestamp</code> according to the directives in the given format string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_datetime-instance_method" title="#to_datetime (instance method)">#<strong>to_datetime</strong>  &#x21d2; DateTime </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts this <code>Timestamp</code> to a Gregorian <code>DateTime</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts this <code>Timestamp</code> to an <code>Integer</code> number of seconds since 1970-01-01 00:00:00 UTC (ignoring leap seconds).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_time-instance_method" title="#to_time (instance method)">#<strong>to_time</strong>  &#x21d2; Time </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts this <code>Timestamp</code> to a <code>Time</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#utc-instance_method" title="#utc (instance method)">#<strong>utc</strong>  &#x21d2; Timestamp </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature prot nodoc'>
      <a href="#new_datetime-instance_method" title="#new_datetime (instance method)">#<strong>new_datetime</strong>(klass = DateTime)  </a>
    </span>
    <span class='note title protected'>protected</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs a new instance of a <code>DateTime</code> or <code>DateTime</code>-like class with the same <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>, <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> and <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> as this <code>Timestamp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature prot nodoc'>
      <a href="#new_time-instance_method" title="#new_time (instance method)">#<strong>new_time</strong>(klass = Time)  </a>
    </span>
    <span class='note title protected'>protected</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new instance of a <code>Time</code> or <code>Time</code>-like class matching the <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> and <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> of this <code>Timestamp</code>, but not setting the offset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#initialize!-instance_method" title="#initialize! (instance method)">#<strong>initialize!</strong>(value, sub_second = 0, utc_offset = nil)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes a new <code>Timestamp</code> without validating the parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#sub_second_to_s-instance_method" title="#sub_second_to_s (instance method)">#<strong>sub_second_to_s</strong>  &#x21d2; String </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts the <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> value to a <code>String</code> suitable for appending to the <code>String</code> representation of a <code>Timestamp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#value_and_sub_second_to_s-instance_method" title="#value_and_sub_second_to_s (instance method)">#<strong>value_and_sub_second_to_s</strong>(offset = 0)  &#x21d2; String </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts the value and sub-seconds to a <code>String</code>, adding on the given offset.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(value, sub_second = 0, utc_offset = nil)  &#x21d2; <code>Timestamp</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Initializes a new <code>Timestamp</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds since 1970-01-01 00:00:00 UTC
ignoring leap seconds.</p>
</div>
  </li>
  <li>
    <span class='name'>sub_second</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the fractional part of the second as either a
<code>Rational</code> that is greater than or equal to 0 and less than 1, or
the <code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='name'>utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>either <code>nil</code> for a <code>Timestamp</code> without a
specified offset, an offset from UTC specified as an <code>Integer</code> number of
seconds or the <code>Symbol</code> <code>:utc</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> is not an <code>Integer</code>.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is not a <code>Rational</code>, or the
<code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is a <code>Rational</code> but that is less
than 0 or greater than or equal to 1.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> is not <code>nil</code>, not an <code>Integer</code> and
not the <code>Symbol</code> <code>:utc</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L344-L350'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='344' data-end='350'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 344</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sub_second must be a Rational or the Integer 0</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> (<span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>==</span> <span class='int'>0</span>) <span class='op'>||</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Rational</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sub_second must be &gt;= 0 and &lt; 1</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>&gt;=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utc_offset must be an Integer, :utc or nil</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_initialize!'><a href="#initialize!-instance_method" title="TZInfo::Timestamp#initialize! (method)">initialize!</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="create-class_method">
  <h3 class='signature  first'>
    .<strong>create</strong>(year, month = 1, day = 1, hour = 0, minute = 0, second = 0, sub_second = 0, utc_offset = nil)  &#x21d2; <code>Timestamp</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns a new <code>Timestamp</code> representing the (proleptic Gregorian
calendar) date and time specified by the supplied parameters.</p>

<p>If <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> is <code>nil</code>, <code>:utc</code> or 0, the date and time parameters will
be interpreted as representing a UTC date and time. Otherwise the date
and time parameters will be interpreted as a local date and time with
the given offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>year</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the year.</p>
</div>
  </li>
  <li>
    <span class='name'>month</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>1</tt>)</em>
&mdash;    <div class='inline'><p>the month (1-12).</p>
</div>
  </li>
  <li>
    <span class='name'>day</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>1</tt>)</em>
&mdash;    <div class='inline'><p>the day of the month (1-31).</p>
</div>
  </li>
  <li>
    <span class='name'>hour</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the hour (0-23).</p>
</div>
  </li>
  <li>
    <span class='name'>minute</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the minute (0-59).</p>
</div>
  </li>
  <li>
    <span class='name'>second</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the second (0-59).</p>
</div>
  </li>
  <li>
    <span class='name'>sub_second</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the fractional part of the second as either
a <code>Rational</code> that is greater than or equal to 0 and less than 1, or
the <code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='name'>utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>either <code>nil</code> for a <code>Timestamp</code> without a
specified offset, an offset from UTC specified as an <code>Integer</code> number
of seconds or the <code>Symbol</code> <code>:utc</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a new <code>Timestamp</code> representing the specified
(proleptic Gregorian calendar) date and time.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if either of <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>,
<code>minute</code>, or <code>second</code> is not an <code>Integer</code>.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is not a <code>Rational</code>, or the
<code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> is not <code>nil</code>, not an <code>Integer</code>
and not the <code>Symbol</code> <code>:utc</code>.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <code>month</code> is not between 1 and 12.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <code>day</code> is not between 1 and 31.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <code>hour</code> is not between 0 and 23.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <code>minute</code> is not between 0 and 59.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <code>second</code> is not between 0 and 59.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is a <code>Rational</code> but that is less
than 0 or greater than or equal to 1.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L55-L80'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='55' data-end='80'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>(<span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_month'>month</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_minute'>minute</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_second'>second</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>year must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_year'>year</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>month must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_month'>month</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>day must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_day'>day</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hour must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_hour'>hour</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>minute must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_minute'>minute</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>second must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_second'>second</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>month must be between 1 and 12</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_month'>month</span> <span class='op'>&lt;</span> <span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_month'>month</span> <span class='op'>&gt;</span> <span class='int'>12</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>day must be between 1 and 31</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>&lt;</span> <span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>&gt;</span> <span class='int'>31</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hour must be between 0 and 23</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>&gt;</span> <span class='int'>23</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>minute must be between 0 and 59</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_minute'>minute</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_minute'>minute</span> <span class='op'>&gt;</span> <span class='int'>59</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RangeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>second must be between 0 and 59</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_second'>second</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_second'>second</span> <span class='op'>&gt;</span> <span class='int'>59</span>

  <span class='comment'># Based on days_from_civil from https://howardhinnant.github.io/date_algorithms.html#days_from_civil
</span>  <span class='id identifier rubyid_after_february'>after_february</span> <span class='op'>=</span> <span class='id identifier rubyid_month'>month</span> <span class='op'>&gt;</span> <span class='int'>2</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>-=</span> <span class='int'>1</span> <span class='kw'>unless</span> <span class='id identifier rubyid_after_february'>after_february</span>
  <span class='id identifier rubyid_era'>era</span> <span class='op'>=</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>/</span> <span class='int'>400</span>
  <span class='id identifier rubyid_year_of_era'>year_of_era</span> <span class='op'>=</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>-</span> <span class='id identifier rubyid_era'>era</span> <span class='op'>*</span> <span class='int'>400</span>
  <span class='id identifier rubyid_day_of_year'>day_of_year</span> <span class='op'>=</span> (<span class='int'>153</span> <span class='op'>*</span> (<span class='id identifier rubyid_month'>month</span> <span class='op'>+</span> (<span class='id identifier rubyid_after_february'>after_february</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>3</span> <span class='op'>:</span> <span class='int'>9</span>)) <span class='op'>+</span> <span class='int'>2</span>) <span class='op'>/</span> <span class='int'>5</span> <span class='op'>+</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='id identifier rubyid_day_of_era'>day_of_era</span> <span class='op'>=</span> <span class='id identifier rubyid_year_of_era'>year_of_era</span> <span class='op'>*</span> <span class='int'>365</span> <span class='op'>+</span> <span class='id identifier rubyid_year_of_era'>year_of_era</span> <span class='op'>/</span> <span class='int'>4</span> <span class='op'>-</span> <span class='id identifier rubyid_year_of_era'>year_of_era</span> <span class='op'>/</span> <span class='int'>100</span> <span class='op'>+</span> <span class='id identifier rubyid_day_of_year'>day_of_year</span>
  <span class='id identifier rubyid_days_since_epoch'>days_since_epoch</span> <span class='op'>=</span> <span class='id identifier rubyid_era'>era</span> <span class='op'>*</span> <span class='int'>146097</span> <span class='op'>+</span> <span class='id identifier rubyid_day_of_era'>day_of_era</span> <span class='op'>-</span> <span class='int'>719468</span>
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>=</span> ((<span class='id identifier rubyid_days_since_epoch'>days_since_epoch</span> <span class='op'>*</span> <span class='int'>24</span> <span class='op'>+</span> <span class='id identifier rubyid_hour'>hour</span>) <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='id identifier rubyid_minute'>minute</span>) <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='id identifier rubyid_second'>second</span>
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>-=</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)

  <span class='id identifier rubyid_new'><a href="#new-class_method" title="TZInfo::Timestamp.new (method)">new</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for-class_method">
  <h3 class='signature '>
    .<strong>for</strong>(value, offset = :preserve) {|timestamp| ... } &#x21d2; <code>Object</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>When used without a block, returns a <code>Timestamp</code> representation of a
given <code>Time</code>, <code>DateTime</code> or <code>Timestamp</code>.</p>

<p>When called with a block, the <code>Timestamp</code> representation of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> is
passed to the block. The block must then return a <code>Timestamp</code>, which
will be converted back to the type of the initial value. If the initial
value was a <code>Timestamp</code>, the block result will be returned. If the
initial value was a <code>DateTime</code>, a Gregorian <code>DateTime</code> will be returned.</p>

<p>The UTC offset of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> can either be preserved (the <code>Timestamp</code>
representation will have the same UTC offset as <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>), ignored (the
<code>Timestamp</code> representation will have no defined UTC offset), or treated
as though it were UTC (the <code>Timestamp</code> representation will have a
<a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> of 0 and <a href="#utc%3F-instance_method" title="TZInfo::Timestamp#utc? (method)">#utc?</a> will return <code>true</code>).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>a <code>Time</code>, <code>DateTime</code> or <code>Timestamp</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>offset</span>
    <span class='type'>(<code>Symbol</code>)</span>
    <em class='default'>(defaults to: <tt>:preserve</tt>)</em>
&mdash;    <div class='inline'><p>either <code>:preserve</code> to preserve the offset of
<a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>, <code>:ignore</code> to ignore the offset of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> and create a
<code>Timestamp</code> with an unspecified offset, or <code>:treat_as_utc</code> to treat
the offset of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> as though it were UTC and create a UTC
<code>Timestamp</code>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>timestamp</code>)</span>
&mdash;    <div class='inline'><p>if a block is provided, the <code>Timestamp</code>
representation is passed to the block.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>timestamp</span>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the <code>Timestamp</code> representation of
<a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a <code>Timestamp</code> to be converted back to the type
of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>if called without a block, the <code>Timestamp</code>
representation of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>, otherwise the result of the block,
converted back to the type of <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L112-L158'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='112' data-end='158'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>for</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preserve'>preserve</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value must be specified</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>

  <span class='kw'>case</span> <span class='id identifier rubyid_offset'>offset</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ignore'>ignore</span>
      <span class='id identifier rubyid_ignore_offset'>ignore_offset</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_treat_as_utc'>treat_as_utc</span>
      <span class='id identifier rubyid_ignore_offset'>ignore_offset</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preserve'>preserve</span>
      <span class='id identifier rubyid_ignore_offset'>ignore_offset</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset must be :preserve, :ignore or :treat_as_utc</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_time_like'>time_like</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_timestamp'>timestamp</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>
    <span class='kw'>when</span> <span class='const'>Time</span>
      <span class='id identifier rubyid_for_time'><a href="#for_time-class_method" title="TZInfo::Timestamp.for_time (method)">for_time</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
    <span class='kw'>when</span> <span class='const'>DateTime</span>
      <span class='id identifier rubyid_for_datetime'><a href="#for_datetime-class_method" title="TZInfo::Timestamp.for_datetime (method)">for_datetime</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
    <span class='kw'>when</span> <span class='const'>Timestamp</span>
      <span class='id identifier rubyid_for_timestamp'><a href="#for_timestamp-class_method" title="TZInfo::Timestamp.for_timestamp (method)">for_timestamp</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> values are not supported</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_is_time_like?'><a href="#is_time_like%3F-class_method" title="TZInfo::Timestamp.is_time_like? (method)">is_time_like?</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>)
      <span class='id identifier rubyid_time_like'>time_like</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_for_time_like'><a href="#for_time_like-class_method" title="TZInfo::Timestamp.for_time_like (method)">for_time_like</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>yield</span> <span class='id identifier rubyid_timestamp'>timestamp</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>block must return a Timestamp</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Timestamp</span>)

    <span class='kw'>case</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>
      <span class='kw'>when</span> <span class='const'>Time</span>
        <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_to_time'><a href="#to_time-instance_method" title="TZInfo::Timestamp#to_time (method)">to_time</a></span>
      <span class='kw'>when</span> <span class='const'>DateTime</span>
        <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_to_datetime'><a href="#to_datetime-instance_method" title="TZInfo::Timestamp#to_datetime (method)">to_datetime</a></span>
      <span class='kw'>else</span> <span class='comment'># A Time-like value or a Timestamp
</span>        <span class='id identifier rubyid_time_like'>time_like</span> <span class='op'>?</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_to_time'><a href="#to_time-instance_method" title="TZInfo::Timestamp#to_time (method)">to_time</a></span> <span class='op'>:</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_timestamp'>timestamp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for_datetime-class_method">
  <h3 class='signature priv'>
    .<strong>for_datetime</strong>(datetime, ignore_offset, target_utc_offset)  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Creates a <code>Timestamp</code> that represents a given <code>DateTime</code>, optionally
ignoring the offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>datetime</span>
    <span class='type'>(<code>DateTime</code>)</span>
&mdash;    <div class='inline'><p>a <code>DateTime</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>ignore_offset</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether to ignore the offset of
<code>datetime</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>target_utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>if <code>ignore_offset</code> is <code>true</code>, the UTC
offset of the result (<code>:utc</code>, <code>nil</code> or an <code>Integer</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the <code>Timestamp</code> representation of <code>datetime</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L231-L243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='231' data-end='243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_for_datetime'>for_datetime</span>(<span class='id identifier rubyid_datetime'>datetime</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>=</span> (<span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_jd'>jd</span> <span class='op'>-</span> <span class='const'><a href="#JD_EPOCH-constant" title="TZInfo::Timestamp::JD_EPOCH (constant)">JD_EPOCH</a></span>) <span class='op'>*</span> <span class='int'>86400</span> <span class='op'>+</span> <span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_sec'>sec</span> <span class='op'>+</span> <span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_min'>min</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_hour'>hour</span> <span class='op'>*</span> <span class='int'>3600</span>
  <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_sec_fraction'>sec_fraction</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> (<span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>*</span> <span class='int'>86400</span>).<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span>
    <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>-=</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for_time-class_method">
  <h3 class='signature priv'>
    .<strong>for_time</strong>(time, ignore_offset, target_utc_offset)  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Creates a <code>Timestamp</code> that represents a given <code>Time</code>, optionally
ignoring the offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>time</span>
    <span class='type'>(<code>Time</code>)</span>
&mdash;    <div class='inline'><p>a <code>Time</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>ignore_offset</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether to ignore the offset of <code>time</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>target_utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>if <code>ignore_offset</code> is <code>true</code>, the UTC
offset of the result (<code>:utc</code>, <code>nil</code> or an <code>Integer</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the <code>Timestamp</code> representation of <code>time</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L206-L220'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='206' data-end='220'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 206</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_for_time'>for_time</span>(<span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span>
  <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_subsec'>subsec</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>
    <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>+=</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_utc?'><a href="#utc%3F-instance_method" title="TZInfo::Timestamp#utc? (method)">utc?</a></span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for_time_like-class_method">
  <h3 class='signature priv'>
    .<strong>for_time_like</strong>(time_like, ignore_offset, target_utc_offset)  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Creates a <code>Timestamp</code> that represents a given <code>Time</code>-like object,
optionally ignoring the offset (if the <code>time_like</code> responds to
<a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a>).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>time_like</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>a <code>Time</code>-like object.</p>
</div>
  </li>
  <li>
    <span class='name'>ignore_offset</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether to ignore the offset of <code>time</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>target_utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>if <code>ignore_offset</code> is <code>true</code>, the UTC
offset of the result (<code>:utc</code>, <code>nil</code> or an <code>Integer</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the <code>Timestamp</code> representation of <code>time_like</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L296-L310'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='296' data-end='310'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 296</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_for_time_like'>for_time_like</span>(<span class='id identifier rubyid_time_like'>time_like</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span>
  <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_subsec'>subsec</span>.<span class='id identifier rubyid_to_r'>to_r</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>
    <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>+=</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='id identifier rubyid_time_like'>time_like</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new'><a href="#new-class_method" title="TZInfo::Timestamp.new (method)">new</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="for_timestamp-class_method">
  <h3 class='signature priv'>
    .<strong>for_timestamp</strong>(timestamp, ignore_offset, target_utc_offset)  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Returns a <code>Timestamp</code> that represents another <code>Timestamp</code>, optionally
ignoring the offset. If the result would be identical to <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>, the
same instance is returned. If the passed in value is an instance of a
subclass of <code>Timestamp</code>, then a new <code>Timestamp</code> will always be returned.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>timestamp</span>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a <code>Timestamp</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>ignore_offset</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether to ignore the offset of
<code>timestamp</code>.</p>
</div>
  </li>
  <li>
    <span class='name'>target_utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>if <code>ignore_offset</code> is <code>true</code>, the UTC
offset of the result (<code>:utc</code>, <code>nil</code> or an <code>Integer</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a [Timestamp] representation of <code>timestamp</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L256-L275'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='275'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_for_timestamp'>for_timestamp</span>(<span class='id identifier rubyid_timestamp'>timestamp</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_ignore_offset'>ignore_offset</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc?'><a href="#utc%3F-instance_method" title="TZInfo::Timestamp#utc? (method)">utc?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>==</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span>(<span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>+</span> (<span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>||</span> <span class='int'>0</span>)<span class='comma'>,</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_target_utc_offset'>target_utc_offset</span>)
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
      <span class='kw'>return</span> <span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span>(<span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>+</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span><span class='comma'>,</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>Timestamp</span>)
    <span class='comment'># timestamp is identical in value, sub_second and utc_offset but is a
</span>    <span class='comment'># subclass (i.e. TimestampWithOffset). Return a new Timestamp
</span>    <span class='comment'># instance.
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span>(<span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc?'><a href="#utc%3F-instance_method" title="TZInfo::Timestamp#utc? (method)">utc?</a></span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span> <span class='op'>:</span> <span class='id identifier rubyid_timestamp'>timestamp</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_timestamp'>timestamp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="is_time_like?-class_method">
  <h3 class='signature priv'>
    .<strong>is_time_like?</strong>(value)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Determines if an object is like a <code>Time</code> (for the purposes of converting
to a <code>Timestamp</code> with <a href="#for-class_method" title="TZInfo::Timestamp.for (method)">.for</a>), responding to <a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">#to_i</a> and <code>subsec</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>an object to test.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p><code>true</code> if the object is <code>Time</code>-like, otherwise
<code>false</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L283-L285'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='283' data-end='285'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 283</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_is_time_like?'>is_time_like?</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>)
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="TZInfo::Timestamp#to_i (method)">to_i</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_subsec'>subsec</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new!-class_method">
  <h3 class='signature priv'>
    .<strong>new!</strong>(value, sub_second = 0, utc_offset = nil)  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Constructs a new instance of <code>self</code> (i.e. <code>Timestamp</code> or a subclass of
<code>Timestamp</code>) without validating the parameters. This method is used
internally within <code>Timestamp</code> to avoid the overhead of checking
parameters.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds since 1970-01-01 00:00:00
UTC ignoring leap seconds.</p>
</div>
  </li>
  <li>
    <span class='name'>sub_second</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the fractional part of the second as either
a <code>Rational</code> that is greater than or equal to 0 and less than 1, or
the <code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='name'>utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>either <code>nil</code> for a <code>Timestamp</code> without a
specified offset, an offset from UTC specified as an <code>Integer</code> number
of seconds or the <code>Symbol</code> <code>:utc</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a new instance of <code>self</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L192-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='192' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 192</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new!'>new!</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_allocate'>allocate</span>
  <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_initialize!'><a href="#initialize!-instance_method" title="TZInfo::Timestamp#initialize! (method)">initialize!</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc-class_method">
  <h3 class='signature '>
    .<strong>utc</strong>(value, sub_second = 0)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Creates a new UTC <code>Timestamp</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds since 1970-01-01 00:00:00
UTC ignoring leap seconds.</p>
</div>
  </li>
  <li>
    <span class='name'>sub_second</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the fractional part of the second as either
a <code>Rational</code> that is greater than or equal to 0 and less than 1, or
the <code>Integer</code> 0.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> is not an <code>Integer</code>.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is not a <code>Rational</code>, or the
<code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>RangeError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> is a <code>Rational</code> but that is less
than 0 or greater than or equal to 1.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L172-L174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='172' data-end='174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 172</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_utc'>utc</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='int'>0</span>)
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="TZInfo::Timestamp.new (method)">new</a></span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'>utc</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="sub_second-instance_method">
  <h3 class='signature ro first'>
    #<strong>sub_second</strong>  &#x21d2; <code>Numeric</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Numeric</code>)</span>
&mdash;    <div class='inline'><p>the fraction of a second elapsed since timestamp as
either a <code>Rational</code> or the <code>Integer</code> 0. Always greater than or equal to
0 and less than 1.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L321-L321'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='321' data-end='321'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 321</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sub_second'>sub_second</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc?-instance_method">
  <h3 class='signature ro'>
    #<strong>utc?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p><code>true</code> if this <code>Timestamp</code> represents UTC, <code>false</code> if
the <code>Timestamp</code> wasn&#39;t specified as UTC or <code>nil</code> if the <code>Timestamp</code> has
no specified offset.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L355-L357'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='357'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_utc?'>utc?</span>
  <span class='ivar'>@utc</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc_offset-instance_method">
  <h3 class='signature ro'>
    #<strong>utc_offset</strong>  &#x21d2; <code>Integer</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the offset from UTC in seconds or <code>nil</code> if the
<code>Timestamp</code> doesn&#39;t have a specified offset.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L325-L325'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='325' data-end='325'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 325</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc_offset'>utc_offset</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="value-instance_method">
  <h3 class='signature ro'>
    #<strong>value</strong>  &#x21d2; <code>Integer</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds since 1970-01-01 00:00:00 UTC
ignoring leap seconds (i.e. each day is treated as if it were 86,400
seconds long).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L316-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='316' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<=>-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;=&gt;</strong>(t)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Compares this <code>Timestamp</code> with another.</p>

<p><code>Timestamp</code> instances without a defined UTC offset are not comparable with
<code>Timestamp</code> instances that have a defined UTC offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>t</span>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the <code>Timestamp</code> to compare this instance with.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>-1, 0 or 1 depending if this instance is earlier, equal
or later than <code>t</code> respectively. Returns <code>nil</code> when comparing a
<code>Timestamp</code> that does not have a defined UTC offset with a <code>Timestamp</code>
that does have a defined UTC offset. Returns <code>nil</code> if <code>t</code> is not a
<code>Timestamp</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L454-L462'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='454' data-end='462'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 454</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span>(<span class='id identifier rubyid_t'>t</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Timestamp</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_and_set_utc_offset-instance_method">
  <h3 class='signature '>
    #<strong>add_and_set_utc_offset</strong>(seconds, utc_offset)  &#x21d2; <code>Timestamp</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Adds a number of seconds to the <code>Timestamp</code> value, setting the UTC offset
of the result.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>seconds</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds to be added.</p>
</div>
  </li>
  <li>
    <span class='name'>utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'><p>either <code>nil</code> for a <code>Timestamp</code> without a
specified offset, an offset from UTC specified as an <code>Integer</code> number of
seconds or the <code>Symbol</code> <code>:utc</code>).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>the result of adding <code>seconds</code> to the
<code>Timestamp</code> value as a new <code>Timestamp</code> instance with the chosen
<a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <code>seconds</code> is not an <code>Integer</code>.</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> is not <code>nil</code>, not an <code>Integer</code> and
not the <code>Symbol</code> <code>:utc</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L372-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='372' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 372</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_and_set_utc_offset'>add_and_set_utc_offset</span>(<span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>seconds must be an Integer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_seconds'>seconds</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utc_offset must be an Integer, :utc or nil</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_seconds'>seconds</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>==</span> (<span class='ivar'>@utc</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span> <span class='op'>:</span> <span class='ivar'>@utc_offset</span>)
  <span class='const'>Timestamp</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span><span class='comma'>,</span> <span class='ivar'>@value</span> <span class='op'>+</span> <span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='ivar'>@sub_second</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L464-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='464' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 464</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_eql?'>eql?</span> <span class='op'>==</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>a hash based on the value, sub-second and whether there
is a defined UTC offset.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L468-L470'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='468' data-end='470'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 468</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span>
  [<span class='ivar'>@value</span><span class='comma'>,</span> <span class='ivar'>@sub_second</span><span class='comma'>,</span> <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@utc_offset</span>].<span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize!-instance_method">
  <h3 class='signature priv'>
    #<strong>initialize!</strong>(value, sub_second = 0, utc_offset = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Initializes a new <code>Timestamp</code> without validating the parameters. This
method is used internally within <code>Timestamp</code> to avoid the overhead of
checking parameters.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the number of seconds since 1970-01-01 00:00:00 UTC
ignoring leap seconds.</p>
</div>
  </li>
  <li>
    <span class='name'>sub_second</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the fractional part of the second as either a
<code>Rational</code> that is greater than or equal to 0 and less than 1, or the
<code>Integer</code> 0.</p>
</div>
  </li>
  <li>
    <span class='name'>utc_offset</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'><p>either <code>nil</code> for a <code>Timestamp</code> without a
specified offset, an offset from UTC specified as an <code>Integer</code> number of
seconds or the <code>Symbol</code> <code>:utc</code>).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L538-L550'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='538' data-end='550'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 538</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize!'>initialize!</span>(<span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span><span class='comma'>,</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='ivar'>@value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>

  <span class='comment'># Convert Rational(0,1) to 0.
</span>  <span class='ivar'>@sub_second</span> <span class='op'>=</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='id identifier rubyid_sub_second'><a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">sub_second</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
    <span class='ivar'>@utc</span> <span class='op'>=</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span>
    <span class='ivar'>@utc_offset</span> <span class='op'>=</span> <span class='ivar'>@utc</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='id identifier rubyid_utc_offset'><a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">utc_offset</a></span>
  <span class='kw'>else</span>
    <span class='ivar'>@utc</span> <span class='op'>=</span> <span class='ivar'>@utc_offset</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the internal object state as a programmer-readable
<code>String</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L474-L476'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='474' data-end='476'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 474</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: @value=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@value</span><span class='embexpr_end'>}</span><span class='tstring_content'>, @sub_second=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@sub_second</span><span class='embexpr_end'>}</span><span class='tstring_content'>, @utc_offset=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@utc_offset</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>, @utc=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@utc</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_datetime-instance_method">
  <h3 class='signature prot  nodoc'>
    #<strong>new_datetime</strong>(klass = DateTime)   <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    <p>Constructs a new instance of a <code>DateTime</code> or <code>DateTime</code>-like class with
the same <a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a>, <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> and <a href="#utc_offset-instance_method" title="TZInfo::Timestamp#utc_offset (method)">#utc_offset</a> as this <code>Timestamp</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>klass</span>
    <span class='type'>(<code>Class</code>)</span>
    <em class='default'>(defaults to: <tt>DateTime</tt>)</em>
&mdash;    <div class='inline'><p>the class to instantiate.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L496-L501'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='496' data-end='501'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 496</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_datetime'>new_datetime</span>(<span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'>DateTime</span>)
  <span class='comment'># Can&#39;t specify the start parameter unless the jd parameter is an exact number of days.
</span>  <span class='comment'># Use #gregorian instead.
</span>  <span class='id identifier rubyid_datetime'>datetime</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_jd'>jd</span>(<span class='const'><a href="#JD_EPOCH-constant" title="TZInfo::Timestamp::JD_EPOCH (constant)">JD_EPOCH</a></span> <span class='op'>+</span> ((<span class='ivar'>@value</span>.<span class='id identifier rubyid_to_r'>to_r</span> <span class='op'>+</span> <span class='ivar'>@sub_second</span>) <span class='op'>/</span> <span class='int'>86400</span>)).<span class='id identifier rubyid_gregorian'>gregorian</span>
  <span class='ivar'>@utc_offset</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@utc_offset</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_datetime'>datetime</span>.<span class='id identifier rubyid_new_offset'>new_offset</span>(<span class='const'>Rational</span>(<span class='ivar'>@utc_offset</span><span class='comma'>,</span> <span class='int'>86400</span>)) <span class='op'>:</span> <span class='id identifier rubyid_datetime'>datetime</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_time-instance_method">
  <h3 class='signature prot  nodoc'>
    #<strong>new_time</strong>(klass = Time)   <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    <p>Creates a new instance of a <code>Time</code> or <code>Time</code>-like class matching the
<a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">#value</a> and <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> of this <code>Timestamp</code>, but not setting the offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>klass</span>
    <span class='type'>(<code>Class</code>)</span>
    <em class='default'>(defaults to: <tt>Time</tt>)</em>
&mdash;    <div class='inline'><p>the class to instantiate.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L486-L488'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='486' data-end='488'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 486</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_time'>new_time</span>(<span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'>Time</span>)
  <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_at'>at</span>(<span class='ivar'>@value</span><span class='comma'>,</span> <span class='ivar'>@sub_second</span> <span class='op'>*</span> <span class='int'>1_000_000</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strftime-instance_method">
  <h3 class='signature '>
    #<strong>strftime</strong>(format)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Formats this <code>Timestamp</code> according to the directives in the given format
string.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>format</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the format string. Please refer to <code>Time#strftime</code>
for a list of supported format directives.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the formatted <code>Timestamp</code>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'><p>if <code>format</code> is not specified.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L426-L429'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='426' data-end='429'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 426</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_strftime'>strftime</span>(<span class='id identifier rubyid_format'>format</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>format must be specified</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_format'>format</span>
  <span class='id identifier rubyid_to_time'><a href="#to_time-instance_method" title="TZInfo::Timestamp#to_time (method)">to_time</a></span>.<span class='id identifier rubyid_strftime'>strftime</span>(<span class='id identifier rubyid_format'>format</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub_second_to_s-instance_method">
  <h3 class='signature priv'>
    #<strong>sub_second_to_s</strong>  &#x21d2; <code>String</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts the <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a> value to a <code>String</code> suitable for appending to
the <code>String</code> representation of a <code>Timestamp</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>a <code>String</code> representation of <a href="#sub_second-instance_method" title="TZInfo::Timestamp#sub_second (method)">#sub_second</a>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L518-L524'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='518' data-end='524'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 518</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sub_second_to_s'>sub_second_to_s</span>
  <span class='kw'>if</span> <span class='ivar'>@sub_second</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@sub_second</span>.<span class='id identifier rubyid_numerator'>numerator</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@sub_second</span>.<span class='id identifier rubyid_denominator'>denominator</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_datetime-instance_method">
  <h3 class='signature '>
    #<strong>to_datetime</strong>  &#x21d2; <code>DateTime</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts this <code>Timestamp</code> to a Gregorian <code>DateTime</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>DateTime</code>)</span>
&mdash;    <div class='inline'><p>a Gregorian <code>DateTime</code> representation of this
<code>Timestamp</code>. If the UTC offset of this <code>Timestamp</code> is not specified, a
UTC <code>DateTime</code> will be returned.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L406-L408'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='406' data-end='408'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 406</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_datetime'>to_datetime</span>
  <span class='id identifier rubyid_new_datetime'><a href="#new_datetime-instance_method" title="TZInfo::Timestamp#new_datetime (method)">new_datetime</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_i-instance_method">
  <h3 class='signature '>
    #<strong>to_i</strong>  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts this <code>Timestamp</code> to an <code>Integer</code> number of seconds since
1970-01-01 00:00:00 UTC (ignoring leap seconds).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>an <code>Integer</code> representation of this <code>Timestamp</code> (the
number of seconds since 1970-01-01 00:00:00 UTC ignoring leap seconds).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L415-L417'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='415' data-end='417'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 415</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_value'><a href="#value-instance_method" title="TZInfo::Timestamp#value (method)">value</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>a <code>String</code> representation of this <code>Timestamp</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L432-L441'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='432' data-end='441'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 432</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_value_and_sub_second_to_s'><a href="#value_and_sub_second_to_s-instance_method" title="TZInfo::Timestamp#value_and_sub_second_to_s (method)">value_and_sub_second_to_s</a></span> <span class='kw'>unless</span> <span class='ivar'>@utc_offset</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_and_sub_second_to_s'><a href="#value_and_sub_second_to_s-instance_method" title="TZInfo::Timestamp#value_and_sub_second_to_s (method)">value_and_sub_second_to_s</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> UTC</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@utc</span>

  <span class='id identifier rubyid_sign'>sign</span> <span class='op'>=</span> <span class='ivar'>@utc_offset</span> <span class='op'>&gt;=</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='ivar'>@utc_offset</span>.<span class='id identifier rubyid_abs'>abs</span>.<span class='id identifier rubyid_divmod'>divmod</span>(<span class='int'>60</span>)
  <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='id identifier rubyid_min'>min</span>.<span class='id identifier rubyid_divmod'>divmod</span>(<span class='int'>60</span>)

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_and_sub_second_to_s'><a href="#value_and_sub_second_to_s-instance_method" title="TZInfo::Timestamp#value_and_sub_second_to_s (method)">value_and_sub_second_to_s</a></span>(<span class='ivar'>@utc_offset</span>)<span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sign'>sign</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%02d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_hour'>hour</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%02d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_min'>min</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sec'>sec</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:%02d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>:</span> <span class='kw'>nil</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='ivar'>@utc_offset</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_and_sub_second_to_s'><a href="#value_and_sub_second_to_s-instance_method" title="TZInfo::Timestamp#value_and_sub_second_to_s (method)">value_and_sub_second_to_s</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> UTC)</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>nil</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_time-instance_method">
  <h3 class='signature '>
    #<strong>to_time</strong>  &#x21d2; <code>Time</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts this <code>Timestamp</code> to a <code>Time</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Time</code>)</span>
&mdash;    <div class='inline'><p>a <code>Time</code> representation of this <code>Timestamp</code>. If the UTC
offset of this <code>Timestamp</code> is not specified, a UTC <code>Time</code> will be
returned.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L391-L399'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='391' data-end='399'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 391</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_time'>to_time</span>
  <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='id identifier rubyid_new_time'><a href="#new_time-instance_method" title="TZInfo::Timestamp#new_time (method)">new_time</a></span>

  <span class='kw'>if</span> <span class='ivar'>@utc_offset</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@utc</span>
    <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_localtime'>localtime</span>(<span class='ivar'>@utc_offset</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_utc'><a href="#utc-class_method" title="TZInfo::Timestamp.utc (method)">utc</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc-instance_method">
  <h3 class='signature ro'>
    #<strong>utc</strong>  &#x21d2; <code>Timestamp</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Timestamp</code>)</span>
&mdash;    <div class='inline'><p>a UTC <code>Timestamp</code> equivalent to this instance. Returns
<code>self</code> if <a href="#utc%3F-instance_method" title="TZInfo::Timestamp#utc? (method)">self.utc?</a> is <code>true</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L381-L384'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='381' data-end='384'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_utc'>utc</span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='ivar'>@utc</span>
  <span class='const'>Timestamp</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_new!'><a href="#new!-class_method" title="TZInfo::Timestamp.new! (method)">new!</a></span><span class='comma'>,</span> <span class='ivar'>@value</span><span class='comma'>,</span> <span class='ivar'>@sub_second</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc'>utc</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="value_and_sub_second_to_s-instance_method">
  <h3 class='signature priv'>
    #<strong>value_and_sub_second_to_s</strong>(offset = 0)  &#x21d2; <code>String</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Converts the value and sub-seconds to a <code>String</code>, adding on the given
offset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>offset</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>0</tt>)</em>
&mdash;    <div class='inline'><p>the offset to add to the value.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>the value and sub-seconds.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/tzinfo/tzinfo/blob/master/lib/tzinfo/timestamp.rb#L510-L512'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='510' data-end='512'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/tzinfo/timestamp.rb', line 510</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_value_and_sub_second_to_s'>value_and_sub_second_to_s</span>(<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='int'>0</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@value</span> <span class='op'>+</span> <span class='id identifier rubyid_offset'>offset</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sub_second_to_s'><a href="#sub_second_to_s-instance_method" title="TZInfo::Timestamp#sub_second_to_s (method)">sub_second_to_s</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>