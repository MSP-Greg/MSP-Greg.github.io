<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Time &mdash; Rails-5.0.0</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../css/common.css' />

<script type='text/javascript'>
  var pathId = "Time",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../index.html'>Home</a> &raquo; 
          <a href='index.html'>Rails-5.0.0</a> &raquo; 
          <a href='_index.html'>Index (T)</a> &raquo; 
          <span class='title'>Time</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Time</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
        <ul class='fullTree'>
          <li><a href="Object.html" title="Object (class)">Object</a></li>
            <li class='next'>Time</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>

  <dl>
      <dt>Includes:</dt>
      <dd><a href="DateAndTime/Calculations.html" title="DateAndTime::Calculations (module)">DateAndTime::Calculations</a>, <a href="DateAndTime/Zones.html" title="DateAndTime::Zones (module)">DateAndTime::Zones</a></dd>
  </dl>


  <dl>
    <dt>Defined in:</dt>
    <dd>activesupport/lib/active_support/core_ext/object/blank.rb<span class='defines'>,<br />
  activesupport/lib/active_support/core_ext/object/json.rb,<br /> activesupport/lib/active_support/core_ext/time/acts_like.rb,<br /> activesupport/lib/active_support/core_ext/time/calculations.rb,<br /> activesupport/lib/active_support/core_ext/time/compatibility.rb,<br /> activesupport/lib/active_support/core_ext/time/conversions.rb,<br /> activesupport/lib/active_support/core_ext/time/zones.rb</span>
</dd>
  </dl>
</div>
<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><a href="ActiveRecord/Type/Time/Value.html" title="ActiveRecord::Type::Time::Value (class)">ActiveRecord::Type::Time::Value</a></p>
</div>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='COMMON_YEAR_DAYS_IN_MONTH-constant'>
      COMMON_YEAR_DAYS_IN_MONTH =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>28</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='DATE_FORMATS-constant'>
      DATE_FORMATS =
    </dt>
    <dd>
            <pre class='code'><span class='lbrace'>{</span>
  <span class='symbol'>:db</span>           <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y-%m-%d %H:%M:%S</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:number</span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:nsec</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S%9N</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:usec</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S%6N</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:time</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%H:%M</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:short</span>        <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%d %b %H:%M</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:long</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%B %d, %Y %H:%M</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:long_ordinal</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
    <span class='id identifier rubyid_day_format'>day_format</span> <span class='op'>=</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Inflector</span><span class='period'>.</span><span class='id identifier rubyid_ordinalize'>ordinalize</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_day_format'>day_format</span><span class='embexpr_end'>}</span><span class='tstring_content'>, %Y %H:%M</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='symbol'>:rfc822</span>       <span class='op'>=&gt;</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
    <span class='id identifier rubyid_offset_format'>offset_format</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_formatted_offset'>formatted_offset</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%a, %d %b %Y %H:%M:%S </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_offset_format'>offset_format</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='symbol'>:iso8601</span>      <span class='op'>=&gt;</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_iso8601'>iso8601</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span></pre>
    </dd>
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <a href="DateAndTime/Calculations.html" title="DateAndTime::Calculations (module)">DateAndTime::Calculations</a></h3>
  <p class="inherited"><a href="DateAndTime/Calculations.html#DAYS_INTO_WEEK-constant" title="DateAndTime::Calculations::DAYS_INTO_WEEK (constant)">DateAndTime::Calculations::DAYS_INTO_WEEK</a>, <a href="DateAndTime/Calculations.html#WEEKEND_DAYS-constant" title="DateAndTime::Calculations::WEEKEND_DAYS (constant)">DateAndTime::Calculations::WEEKEND_DAYS</a></p>

<h2>Class Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#zone_default-class_method" title=".zone_default (class method)">.<strong>zone_default</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D%3D-class_method" title=".=== (class method)">.<strong>===</strong>(other)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Overriding case equality method so that it returns true for
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at-class_method" title=".at (class method)">.<strong>at</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#at-class_method" title="Time.at (method)">Time.at</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> and DateTime instances can be used when
called with a single argument</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_with_coercion-class_method" title=".at_with_coercion (class method)">.<strong>at_with_coercion</strong>(*args)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#at-class_method" title="Time.at (method)">Time.at</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> and DateTime instances can be used when
called with a single argument</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_without_coercion-class_method" title=".at_without_coercion (class method)">.<strong>at_without_coercion</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current-class_method" title=".current (class method)">.<strong>current</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>Time.zone.now</code> when <code>Time.zone</code> or
<code>config.time_zone</code> are set, otherwise just returns
<code>Time.now</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#days_in_month-class_method" title=".days_in_month (class method)">.<strong>days_in_month</strong>(month, year = current.year)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of days in the given month.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#days_in_year-class_method" title=".days_in_year (class method)">.<strong>days_in_year</strong>(year = current.year)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of days in the given year.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_zone-class_method" title=".find_zone (class method)">.<strong>find_zone</strong>(time_zone)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a TimeZone instance matching the time zone provided.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_zone%21-class_method" title=".find_zone! (class method)">.<strong>find_zone!</strong>(time_zone)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a TimeZone instance matching the time zone provided.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#use_zone-class_method" title=".use_zone (class method)">.<strong>use_zone</strong>(time_zone)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Allows override of <code>Time.zone</code> locally inside supplied block;
resets <code>Time.zone</code> to existing value when done.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zone-class_method" title=".zone (class method)">.<strong>zone</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the TimeZone for the current request, if this has been set (via
<a href="#zone%3D-class_method" title="Time.zone= (method)">Time.zone=</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zone%3D-class_method" title=".zone= (class method)">.<strong>zone=</strong>(time_zone)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Sets <code>Time.zone</code> to a TimeZone object for the current
request/thread.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p><a href="#--instance_method" title="Time#- (method)">#-</a> can also be used to determine the number of seconds between two
Time instances.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#%3C%3D%3E-instance_method" title="Time#&lt;=&gt; (method)">#&lt;=&gt;</a> so that DateTime and
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be chronologically compared
with a Time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#acts_like_time%3F-instance_method" title="#acts_like_time? (instance method)">#<strong>acts_like_time?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Duck-types as a Time-like class.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#advance-instance_method" title="#advance (instance method)">#<strong>advance</strong>(options)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Uses Date to provide precise Time calculations for years, months, and days
according to the proleptic Gregorian calendar.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ago-instance_method" title="#ago (instance method)">#<strong>ago</strong>(seconds)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the time a number of seconds ago, this is
basically a wrapper around the Numeric extension</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#all_day-instance_method" title="#all_day (instance method)">#<strong>all_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a Range representing the whole day of the current time.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_beginning_of_day-instance_method" title="#at_beginning_of_day (instance method)">#<strong>at_beginning_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the day (0:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_beginning_of_hour-instance_method" title="#at_beginning_of_hour (instance method)">#<strong>at_beginning_of_hour</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the hour (x:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_beginning_of_minute-instance_method" title="#at_beginning_of_minute (instance method)">#<strong>at_beginning_of_minute</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the minute (x:xx:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_end_of_day-instance_method" title="#at_end_of_day (instance method)">#<strong>at_end_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the day, 23:59:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_end_of_hour-instance_method" title="#at_end_of_hour (instance method)">#<strong>at_end_of_hour</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the hour, x:59:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_end_of_minute-instance_method" title="#at_end_of_minute (instance method)">#<strong>at_end_of_minute</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the minute, x:xx:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_midday-instance_method" title="#at_midday (instance method)">#<strong>at_midday</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_middle_of_day-instance_method" title="#at_middle_of_day (instance method)">#<strong>at_middle_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_midnight-instance_method" title="#at_midnight (instance method)">#<strong>at_midnight</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the day (0:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at_noon-instance_method" title="#at_noon (instance method)">#<strong>at_noon</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#beginning_of_day-instance_method" title="#beginning_of_day (instance method)">#<strong>beginning_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the day (0:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#beginning_of_hour-instance_method" title="#beginning_of_hour (instance method)">#<strong>beginning_of_hour</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the hour (x:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#beginning_of_minute-instance_method" title="#beginning_of_minute (instance method)">#<strong>beginning_of_minute</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the minute (x:xx:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#blank%3F-instance_method" title="#blank? (instance method)">#<strong>blank?</strong>  &#x21d2; false </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>No Time is blank:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#change-instance_method" title="#change (instance method)">#<strong>change</strong>(options)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time where one or more of the elements have been changed
according to the <code>options</code> parameter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compare_with_coercion-instance_method" title="#compare_with_coercion (instance method)">#<strong>compare_with_coercion</strong>(other)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#%3C%3D%3E-instance_method" title="Time#&lt;=&gt; (method)">#&lt;=&gt;</a> so that DateTime and
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be chronologically compared
with a Time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compare_without_coercion-instance_method" title="#compare_without_coercion (instance method)">#<strong>compare_without_coercion</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#end_of_day-instance_method" title="#end_of_day (instance method)">#<strong>end_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the day, 23:59:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#end_of_hour-instance_method" title="#end_of_hour (instance method)">#<strong>end_of_hour</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the hour, x:59:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#end_of_minute-instance_method" title="#end_of_minute (instance method)">#<strong>end_of_minute</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the end of the minute, x:xx:59.999999</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#eql%3F-instance_method" title="Time#eql? (method)">#eql?</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be eql? to an equivalent Time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql_with_coercion-instance_method" title="#eql_with_coercion (instance method)">#<strong>eql_with_coercion</strong>(other)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Layers additional behavior on <a href="#eql%3F-instance_method" title="Time#eql? (method)">#eql?</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be eql? to an equivalent Time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql_without_coercion-instance_method" title="#eql_without_coercion (instance method)">#<strong>eql_without_coercion</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#formatted_offset-instance_method" title="#formatted_offset (instance method)">#<strong>formatted_offset</strong>(colon = true, alternate_utc_string = nil)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a formatted string of the offset from UTC, or an alternative string
if the time zone is already UTC.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#in-instance_method" title="#in (instance method)">#<strong>in</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the time a number of seconds since the
instance time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#midday-instance_method" title="#midday (instance method)">#<strong>midday</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#middle_of_day-instance_method" title="#middle_of_day (instance method)">#<strong>middle_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#midnight-instance_method" title="#midnight (instance method)">#<strong>midnight</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the start of the day (0:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#minus_with_coercion-instance_method" title="#minus_with_coercion (instance method)">#<strong>minus_with_coercion</strong>(other)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p><a href="#--instance_method" title="Time#- (method)">#-</a> can also be used to determine the number of seconds between two
Time instances.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#minus_without_coercion-instance_method" title="#minus_without_coercion (instance method)">#<strong>minus_without_coercion</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#minus_without_duration-instance_method" title="#minus_without_duration (instance method)">#<strong>minus_without_duration</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#noon-instance_method" title="#noon (instance method)">#<strong>noon</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the middle of the day (12:00)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#plus_without_duration-instance_method" title="#plus_without_duration (instance method)">#<strong>plus_without_duration</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sec_fraction-instance_method" title="#sec_fraction (instance method)">#<strong>sec_fraction</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the fraction of a second as a <code>Rational</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#seconds_since_midnight-instance_method" title="#seconds_since_midnight (instance method)">#<strong>seconds_since_midnight</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of seconds since 00:00:00.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#seconds_until_end_of_day-instance_method" title="#seconds_until_end_of_day (instance method)">#<strong>seconds_until_end_of_day</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of seconds until 23:59:59.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#since-instance_method" title="#since (instance method)">#<strong>since</strong>(seconds)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new Time representing the time a number of seconds since the
instance time</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_default_s-instance_method" title="#to_default_s (instance method)">#<strong>to_default_s</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_formatted_s-instance_method" title="#to_formatted_s (instance method)">#<strong>to_formatted_s</strong>(format = :default)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Converts to a formatted string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Converts to a formatted string.</p>
</div>
      </span>
    </li>
  </ul>


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="DateAndTime/Calculations.html" title="DateAndTime::Calculations (module)">DateAndTime::Calculations</a></h3>
  <p class="inherited"><a href="DateAndTime/Calculations.html#all_month-instance_method" title="DateAndTime::Calculations#all_month (method)">#all_month</a>, <a href="DateAndTime/Calculations.html#all_quarter-instance_method" title="DateAndTime::Calculations#all_quarter (method)">#all_quarter</a>, <a href="DateAndTime/Calculations.html#all_week-instance_method" title="DateAndTime::Calculations#all_week (method)">#all_week</a>, <a href="DateAndTime/Calculations.html#all_year-instance_method" title="DateAndTime::Calculations#all_year (method)">#all_year</a>, <a href="DateAndTime/Calculations.html#beginning_of_month-instance_method" title="DateAndTime::Calculations#beginning_of_month (method)">#beginning_of_month</a>, <a href="DateAndTime/Calculations.html#beginning_of_quarter-instance_method" title="DateAndTime::Calculations#beginning_of_quarter (method)">#beginning_of_quarter</a>, <a href="DateAndTime/Calculations.html#beginning_of_week-instance_method" title="DateAndTime::Calculations#beginning_of_week (method)">#beginning_of_week</a>, <a href="DateAndTime/Calculations.html#beginning_of_year-instance_method" title="DateAndTime::Calculations#beginning_of_year (method)">#beginning_of_year</a>, <a href="DateAndTime/Calculations.html#days_ago-instance_method" title="DateAndTime::Calculations#days_ago (method)">#days_ago</a>, <a href="DateAndTime/Calculations.html#days_since-instance_method" title="DateAndTime::Calculations#days_since (method)">#days_since</a>, <a href="DateAndTime/Calculations.html#days_to_week_start-instance_method" title="DateAndTime::Calculations#days_to_week_start (method)">#days_to_week_start</a>, <a href="DateAndTime/Calculations.html#end_of_month-instance_method" title="DateAndTime::Calculations#end_of_month (method)">#end_of_month</a>, <a href="DateAndTime/Calculations.html#end_of_quarter-instance_method" title="DateAndTime::Calculations#end_of_quarter (method)">#end_of_quarter</a>, <a href="DateAndTime/Calculations.html#end_of_week-instance_method" title="DateAndTime::Calculations#end_of_week (method)">#end_of_week</a>, <a href="DateAndTime/Calculations.html#end_of_year-instance_method" title="DateAndTime::Calculations#end_of_year (method)">#end_of_year</a>, <a href="DateAndTime/Calculations.html#future%3F-instance_method" title="DateAndTime::Calculations#future? (method)">#future?</a>, <a href="DateAndTime/Calculations.html#monday-instance_method" title="DateAndTime::Calculations#monday (method)">#monday</a>, <a href="DateAndTime/Calculations.html#months_ago-instance_method" title="DateAndTime::Calculations#months_ago (method)">#months_ago</a>, <a href="DateAndTime/Calculations.html#months_since-instance_method" title="DateAndTime::Calculations#months_since (method)">#months_since</a>, <a href="DateAndTime/Calculations.html#next_day-instance_method" title="DateAndTime::Calculations#next_day (method)">#next_day</a>, <a href="DateAndTime/Calculations.html#next_month-instance_method" title="DateAndTime::Calculations#next_month (method)">#next_month</a>, <a href="DateAndTime/Calculations.html#next_quarter-instance_method" title="DateAndTime::Calculations#next_quarter (method)">#next_quarter</a>, <a href="DateAndTime/Calculations.html#next_week-instance_method" title="DateAndTime::Calculations#next_week (method)">#next_week</a>, <a href="DateAndTime/Calculations.html#next_weekday-instance_method" title="DateAndTime::Calculations#next_weekday (method)">#next_weekday</a>, <a href="DateAndTime/Calculations.html#next_year-instance_method" title="DateAndTime::Calculations#next_year (method)">#next_year</a>, <a href="DateAndTime/Calculations.html#on_weekday%3F-instance_method" title="DateAndTime::Calculations#on_weekday? (method)">#on_weekday?</a>, <a href="DateAndTime/Calculations.html#on_weekend%3F-instance_method" title="DateAndTime::Calculations#on_weekend? (method)">#on_weekend?</a>, <a href="DateAndTime/Calculations.html#past%3F-instance_method" title="DateAndTime::Calculations#past? (method)">#past?</a>, <a href="DateAndTime/Calculations.html#prev_day-instance_method" title="DateAndTime::Calculations#prev_day (method)">#prev_day</a>, <a href="DateAndTime/Calculations.html#prev_month-instance_method" title="DateAndTime::Calculations#prev_month (method)">#prev_month</a>, <a href="DateAndTime/Calculations.html#prev_quarter-instance_method" title="DateAndTime::Calculations#prev_quarter (method)">#prev_quarter</a>, <a href="DateAndTime/Calculations.html#prev_week-instance_method" title="DateAndTime::Calculations#prev_week (method)">#prev_week</a>, <a href="DateAndTime/Calculations.html#prev_weekday-instance_method" title="DateAndTime::Calculations#prev_weekday (method)">#prev_weekday</a>, <a href="DateAndTime/Calculations.html#prev_year-instance_method" title="DateAndTime::Calculations#prev_year (method)">#prev_year</a>, <a href="DateAndTime/Calculations.html#sunday-instance_method" title="DateAndTime::Calculations#sunday (method)">#sunday</a>, <a href="DateAndTime/Calculations.html#today%3F-instance_method" title="DateAndTime::Calculations#today? (method)">#today?</a>, <a href="DateAndTime/Calculations.html#tomorrow-instance_method" title="DateAndTime::Calculations#tomorrow (method)">#tomorrow</a>, <a href="DateAndTime/Calculations.html#weeks_ago-instance_method" title="DateAndTime::Calculations#weeks_ago (method)">#weeks_ago</a>, <a href="DateAndTime/Calculations.html#weeks_since-instance_method" title="DateAndTime::Calculations#weeks_since (method)">#weeks_since</a>, <a href="DateAndTime/Calculations.html#years_ago-instance_method" title="DateAndTime::Calculations#years_ago (method)">#years_ago</a>, <a href="DateAndTime/Calculations.html#years_since-instance_method" title="DateAndTime::Calculations#years_since (method)">#years_since</a>, <a href="DateAndTime/Calculations.html#yesterday-instance_method" title="DateAndTime::Calculations#yesterday (method)">#yesterday</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="DateAndTime/Zones.html" title="DateAndTime::Zones (module)">DateAndTime::Zones</a></h3>
  <p class="inherited"><a href="DateAndTime/Zones.html#in_time_zone-instance_method" title="DateAndTime::Zones#in_time_zone (method)">#in_time_zone</a></p>
<h2 class='y_details'>Class Attribute Details</h2>
  <section class='method_details first' id="zone_default-class_method">
  <h3 class='signature first'>
  .<strong>zone_default</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


8</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 8</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:zone_default</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="===-class_method">
  <h3 class='signature first'>
  .<strong>===</strong>(other)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Overriding case equality method so that it returns true for
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


15
16
17</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 15</span>

<span class='kw'>def</span> <span class='op'>===</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>super</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='kw'>self</span> <span class='op'>==</span> <span class='const'>Time</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeWithZone</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at-class_method">
  <h3 class='signature'>
  .<strong>at</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_without_coercion</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#at-class_method" title="Time.at (method)">at</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> and DateTime instances can be used when
called with a single argument</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


55
56
57
58
59
60
61
62
63
64
65
66</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_at_with_coercion'>at_with_coercion</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>1</span>

  <span class='comment'># Time.at can be called with a time or numerical value
</span>  <span class='id identifier rubyid_time_or_number'>time_or_number</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeWithZone</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>DateTime</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_getlocal'>getlocal</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_with_coercion-class_method">
  <h3 class='signature'>
  .<strong>at_with_coercion</strong>(*args)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#at-class_method" title="Time.at (method)">at</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> and DateTime instances can be used when
called with a single argument</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


42
43
44
45
46
47
48
49
50
51
52
53</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_at_with_coercion'>at_with_coercion</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>1</span>

  <span class='comment'># Time.at can be called with a time or numerical value
</span>  <span class='id identifier rubyid_time_or_number'>time_or_number</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeWithZone</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>DateTime</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_getlocal'>getlocal</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_at_without_coercion'>at_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_time_or_number'>time_or_number</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_without_coercion-class_method">
  <h3 class='signature'>
  .<strong>at_without_coercion</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


54</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 54</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:at_without_coercion</span><span class='comma'>,</span> <span class='symbol'>:at</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="current-class_method">
  <h3 class='signature'>
  .<strong>current</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>Time.zone.now</code> when <code>Time.zone</code> or
<code>config.time_zone</code> are set, otherwise just returns
<code>Time.now</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


36
37
38</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current'>current</span>
  <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span> <span class='op'>?</span> <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>:</span> <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="days_in_month-class_method">
  <h3 class='signature'>
  .<strong>days_in_month</strong>(month, year = current.year)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of days in the given month. If no year is specified, it
will use the current year.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


21
22
23
24
25
26
27</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_days_in_month'>days_in_month</span><span class='lparen'>(</span><span class='id identifier rubyid_month'>month</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_month'>month</span> <span class='op'>==</span> <span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_gregorian_leap?'>gregorian_leap?</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
    <span class='int'>29</span>
  <span class='kw'>else</span>
    <span class='const'>COMMON_YEAR_DAYS_IN_MONTH</span><span class='lbracket'>[</span><span class='id identifier rubyid_month'>month</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="days_in_year-class_method">
  <h3 class='signature'>
  .<strong>days_in_year</strong>(year = current.year)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of days in the given year. If no year is specified, it
will use the current year.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


31
32
33</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_days_in_year'>days_in_year</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_days_in_month'>days_in_month</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>337</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="find_zone-class_method">
  <h3 class='signature'>
  .<strong>find_zone</strong>(time_zone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a TimeZone instance matching the time zone provided. Accepts the
time zone in any format supported by <code>Time.zone=</code>. Returns
<code>nil</code> for invalid time zones.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone'>find_zone</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>America/New_York</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; #&lt;ActiveSupport::TimeZone @name=&quot;America/New_York&quot; ...&gt;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone'>find_zone</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOT-A-TIMEZONE</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'># =&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


107
108
109</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_zone'>find_zone</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_find_zone!'>find_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="find_zone!-class_method">
  <h3 class='signature'>
  .<strong>find_zone!</strong>(time_zone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a TimeZone instance matching the time zone provided. Accepts the
time zone in any format supported by <code>Time.zone=</code>. Raises an
<code>ArgumentError</code> for invalid time zones.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>America/New_York</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; #&lt;ActiveSupport::TimeZone @name=&quot;America/New_York&quot; ...&gt;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EST</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'># =&gt; #&lt;ActiveSupport::TimeZone @name=&quot;EST&quot; ...&gt;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='op'>-</span><span class='int'>5</span><span class='period'>.</span><span class='id identifier rubyid_hours'>hours</span>           <span class='comment'># =&gt; #&lt;ActiveSupport::TimeZone @name=&quot;Bogota&quot; ...&gt;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='kw'>nil</span>                <span class='comment'># =&gt; nil
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='kw'>false</span>              <span class='comment'># =&gt; false
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_find_zone!'>find_zone!</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOT-A-TIMEZONE</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'># =&gt; ArgumentError: Invalid Timezone: NOT-A-TIMEZONE
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_zone!'>find_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_time_zone'>time_zone</span> <span class='op'>||</span> <span class='id identifier rubyid_time_zone'>time_zone</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeZone</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_time_zone'>time_zone</span>
  <span class='kw'>else</span>
    <span class='comment'># Look up the timezone based on the identifier (unless we&#39;ve been
</span>    <span class='comment'># passed a TZInfo::Timezone)
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_time_zone'>time_zone</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:period_for_local</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_time_zone'>time_zone</span> <span class='op'>=</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeZone</span><span class='lbracket'>[</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>TZInfo</span><span class='op'>::</span><span class='const'>Timezone</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># Return if a TimeZone instance, or wrap in a TimeZone instance if a TZInfo::Timezone
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_time_zone'>time_zone</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeZone</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_time_zone'>time_zone</span>
    <span class='kw'>else</span>
      <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeZone</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>TZInfo</span><span class='op'>::</span><span class='const'>InvalidTimezoneIdentifier</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid Timezone: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="use_zone-class_method">
  <h3 class='signature'>
  .<strong>use_zone</strong>(time_zone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows override of <code>Time.zone</code> locally inside supplied block;
resets <code>Time.zone</code> to existing value when done.</p>

<pre class="code ruby"><code class="ruby"> class ApplicationController &lt; ActionController::Base
   around_action :set_time_zone

   private

   def set_time_zone
     Time.use_zone(current_user.timezone) { yield }
   end
 end

NOTE: This won&#39;t affect any &lt;tt&gt;ActiveSupport::TimeWithZone&lt;/tt&gt;
objects that have already been created, e.g. any model timestamp
attributes that have been read before the block will remain in
the application&#39;s default timezone.</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


60
61
62
63
64
65
66
67
68</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_zone'>use_zone</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_zone'>new_zone</span> <span class='op'>=</span> <span class='id identifier rubyid_find_zone!'>find_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_old_zone'>old_zone</span><span class='comma'>,</span> <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_new_zone'>new_zone</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='id identifier rubyid_old_zone'>old_zone</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="zone-class_method">
  <h3 class='signature'>
  .<strong>zone</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the TimeZone for the current request, if this has been set (via
<a href="#zone%3D-class_method" title="Time.zone= (method)">zone=</a>). If <code>Time.zone</code> has not been set for the current
request, returns the TimeZone specified in <code>config.time_zone</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


12
13
14</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zone'>zone</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='symbol'>:time_zone</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_zone_default'>zone_default</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="zone=-class_method">
  <h3 class='signature'>
  .<strong>zone=</strong>(time_zone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets <code>Time.zone</code> to a TimeZone object for the current
request/thread.</p>

<p>This method accepts any of the following:</p>
<ul><li>
<p>A Rails TimeZone object.</p>
</li><li>
<p>An identifier for a Rails TimeZone object (e.g., Eastern Time (US &amp;
Canada), <code>-5.hours</code>).</p>
</li><li>
<p>A <code>TZInfo::Timezone</code> object.</p>
</li><li>
<p>An identifier for a <code>TZInfo::Timezone</code> object (e.g., America/New_York).</p>
</li></ul>

<p>Here&#39;s an example of how you might set <code>Time.zone</code> on a per
request basis and reset it when the request is done.
<code>current_user.time_zone</code> just needs to return a string
identifying the user&#39;s preferred time zone:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>ApplicationController</span> <span class='op'>&lt;</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_around_action'>around_action</span> <span class='symbol'>:set_time_zone</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_set_time_zone'>set_time_zone</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_logged_in?'>logged_in?</span>
      <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_use_zone'>use_zone</span><span class='lparen'>(</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='kw'>yield</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


39
40
41</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/zones.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zone='>zone=</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='symbol'>:time_zone</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_find_zone!'>find_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_time_zone'>time_zone</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="+-instance_method">
  <h3 class='signature first'>
  #<strong>+</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>plus_without_duration</span>
</span>
  </span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


243
244
245
246
247
248
249</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 243</span>

<span class='kw'>def</span> <span class='id identifier rubyid_plus_with_duration'>plus_with_duration</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>if</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Duration</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_plus_without_duration'>plus_without_duration</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="--instance_method">
  <h3 class='signature'>
  #<strong>-</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>minus_without_duration</span>
, 
    <span>minus_without_coercion</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><a href="#--instance_method" title="Time#- (method)">#-</a> can also be used to determine the number of seconds between two
Time instances. We&#39;re layering on additional behavior so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances are coerced into values that
<a href="#--instance_method" title="Time#- (method)">#-</a> will recognize</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


253
254
255
256</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 253</span>

<span class='kw'>def</span> <span class='id identifier rubyid_minus_with_coercion'>minus_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_comparable_time'>comparable_time</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:comparable_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>DateTime</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>-</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>:</span> <span class='id identifier rubyid_minus_without_coercion'>minus_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="<=>-instance_method">
  <h3 class='signature'>
  #<strong>&lt;=&gt;</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>compare_without_coercion</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#%3C%3D%3E-instance_method" title="Time#&lt;=&gt; (method)">#&lt;=&gt;</a> so that DateTime and
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be chronologically compared
with a Time</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


278
279
280
281
282
283
284
285
286
287</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 278</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compare_with_coercion'>compare_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='comment'># we&#39;re avoiding Time#to_datetime and Time#to_time because they&#39;re expensive
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>Time</span>
    <span class='id identifier rubyid_compare_without_coercion'>compare_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Time</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_compare_without_coercion'>compare_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_to_time'>to_time</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_to_datetime'>to_datetime</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="acts_like_time?-instance_method">
  <h3 class='signature'>
  #<strong>acts_like_time?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Duck-types as a Time-like class. See <a href="Object.html#acts_like%3F-instance_method" title="Object#acts_like? (method)">Object#acts_like?</a>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


5
6
7</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/acts_like.rb', line 5</span>

<span class='kw'>def</span> <span class='id identifier rubyid_acts_like_time?'>acts_like_time?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="advance-instance_method">
  <h3 class='signature'>
  #<strong>advance</strong>(options)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Uses Date to provide precise Time calculations for years, months, and days
according to the proleptic Gregorian calendar. The <code>options</code>
parameter takes a hash with any of these keys: <code>:years</code>,
<code>:months</code>, <code>:weeks</code>, <code>:days</code>,
<code>:hours</code>, <code>:minutes</code>, <code>:seconds</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2015</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='label'>seconds:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'># =&gt; 2015-08-01 14:35:01 -0700
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2015</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='label'>minutes:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'># =&gt; 2015-08-01 14:36:00 -0700
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2015</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='label'>hours:</span> <span class='int'>1</span><span class='rparen'>)</span>   <span class='comment'># =&gt; 2015-08-01 15:35:00 -0700
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2015</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='label'>days:</span> <span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'># =&gt; 2015-08-02 14:35:00 -0700
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2015</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='label'>weeks:</span> <span class='int'>1</span><span class='rparen'>)</span>   <span class='comment'># =&gt; 2015-08-08 14:35:00 -0700
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:weeks</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:weeks</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_partial_weeks'>partial_weeks</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:weeks</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:days</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:days</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>7</span> <span class='op'>*</span> <span class='id identifier rubyid_partial_weeks'>partial_weeks</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:days</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:days</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_partial_days'>partial_days</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:days</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hours</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:hours</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>24</span> <span class='op'>*</span> <span class='id identifier rubyid_partial_days'>partial_days</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_to_date'>to_date</span><span class='period'>.</span><span class='id identifier rubyid_advance'>advance</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_gregorian'>gregorian</span> <span class='kw'>if</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_julian?'>julian?</span>
  <span class='id identifier rubyid_time_advanced_by_date'>time_advanced_by_date</span> <span class='op'>=</span> <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='comma'>,</span> <span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_seconds_to_advance'>seconds_to_advance</span> <span class='op'>=</span> \
    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:seconds</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>+</span>
    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:minutes</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span>
    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:hours</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>3600</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_seconds_to_advance'>seconds_to_advance</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='id identifier rubyid_time_advanced_by_date'>time_advanced_by_date</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_time_advanced_by_date'>time_advanced_by_date</span><span class='period'>.</span><span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds_to_advance'>seconds_to_advance</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="ago-instance_method">
  <h3 class='signature'>
  #<strong>ago</strong>(seconds)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the time a number of seconds ago, this is
basically a wrapper around the Numeric extension</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


158
159
160</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ago'>ago</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='op'>-</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="all_day-instance_method">
  <h3 class='signature'>
  #<strong>all_day</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a Range representing the whole day of the current time.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


231
232
233</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 231</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_day'>all_day</span>
  <span class='id identifier rubyid_beginning_of_day'>beginning_of_day</span><span class='op'>..</span><span class='id identifier rubyid_end_of_day'>end_of_day</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_beginning_of_day-instance_method">
  <h3 class='signature'>
  #<strong>at_beginning_of_day</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the day (0:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


176
177
178</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_day'>beginning_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_beginning_of_hour-instance_method">
  <h3 class='signature'>
  #<strong>at_beginning_of_hour</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the hour (x:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


203
204
205</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 203</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_hour'>beginning_of_hour</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_beginning_of_minute-instance_method">
  <h3 class='signature'>
  #<strong>at_beginning_of_minute</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the minute (x:xx:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


219
220
221</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_minute'>beginning_of_minute</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_end_of_day-instance_method">
  <h3 class='signature'>
  #<strong>at_end_of_day</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the day, 23:59:59.999999</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


197
198
199
200
201
202
203
204</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_day'>end_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>23</span><span class='comma'>,</span>
    <span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_end_of_hour-instance_method">
  <h3 class='signature'>
  #<strong>at_end_of_hour</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the hour, x:59:59.999999</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


213
214
215
216
217
218
219</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_hour'>end_of_hour</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_end_of_minute-instance_method">
  <h3 class='signature'>
  #<strong>at_end_of_minute</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the minute, x:xx:59.999999</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


228
229
230
231
232
233</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 228</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_minute'>end_of_minute</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_midday-instance_method">
  <h3 class='signature'>
  #<strong>at_midday</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


184
185
186</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_middle_of_day-instance_method">
  <h3 class='signature'>
  #<strong>at_middle_of_day</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


186
187
188</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_midnight-instance_method">
  <h3 class='signature'>
  #<strong>at_midnight</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the day (0:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


175
176
177</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 175</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_day'>beginning_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="at_noon-instance_method">
  <h3 class='signature'>
  #<strong>at_noon</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


185
186
187</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="beginning_of_day-instance_method">
  <h3 class='signature'>
  #<strong>beginning_of_day</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>midnight</span>
, 
    <span>at_midnight</span>
, 
    <span>at_beginning_of_day</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the day (0:00)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


171
172
173</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 171</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_day'>beginning_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="beginning_of_hour-instance_method">
  <h3 class='signature'>
  #<strong>beginning_of_hour</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_beginning_of_hour</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the hour (x:00)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


200
201
202</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_hour'>beginning_of_hour</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="beginning_of_minute-instance_method">
  <h3 class='signature'>
  #<strong>beginning_of_minute</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_beginning_of_minute</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the minute (x:xx:00)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


216
217
218</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 216</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_minute'>beginning_of_minute</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="blank?-instance_method">
  <h3 class='signature'>
  #<strong>blank?</strong>  &#x21d2; <tt>false</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>No Time is blank:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='comment'># =&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


140
141
142</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/object/blank.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="change-instance_method">
  <h3 class='signature'>
  #<strong>change</strong>(options)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time where one or more of the elements have been changed
according to the <code>options</code> parameter. The time options
(<code>:hour</code>, <code>:min</code>, <code>:sec</code>,
<code>:usec</code>, <code>:nsec</code>) reset cascadingly, so if only the
hour is passed, then minute, sec, usec and nsec is set to 0. If the hour
and minute is passed, then sec, usec and nsec is set to 0. The
<code>options</code> parameter takes a hash with any of these keys:
<code>:year</code>, <code>:month</code>, <code>:day</code>,
<code>:hour</code>, <code>:min</code>, <code>:sec</code>,
<code>:usec</code> <code>:nsec</code>. Pass either <code>:usec</code> or
<code>:nsec</code>, not both.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='label'>day:</span> <span class='int'>1</span><span class='rparen'>)</span>              <span class='comment'># =&gt; Time.new(2012, 8, 1, 22, 35, 0)
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='label'>year:</span> <span class='int'>1981</span><span class='comma'>,</span> <span class='label'>day:</span> <span class='int'>1</span><span class='rparen'>)</span>  <span class='comment'># =&gt; Time.new(1981, 8, 1, 22, 35, 0)
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>35</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='label'>year:</span> <span class='int'>1981</span><span class='comma'>,</span> <span class='label'>hour:</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='comment'># =&gt; Time.new(1981, 8, 29, 0, 0, 0)
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_year'>new_year</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:year</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_month'>new_month</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:month</span><span class='comma'>,</span> <span class='id identifier rubyid_month'>month</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_day'>new_day</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:day</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_hour'>new_hour</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:hour</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_min'>new_min</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:min</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_sec'>new_sec</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:sec</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_nsec'>new_nsec</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:nsec</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t change both :nsec and :usec at the same time: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:usec</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_new_usec'>new_usec</span> <span class='op'>=</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='id identifier rubyid_new_nsec'>new_nsec</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new_usec'>new_usec</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:usec</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='id identifier rubyid_nsec'>nsec</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_utc?'>utc?</span>
    <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_new_year'>new_year</span><span class='comma'>,</span> <span class='id identifier rubyid_new_month'>new_month</span><span class='comma'>,</span> <span class='id identifier rubyid_new_day'>new_day</span><span class='comma'>,</span> <span class='id identifier rubyid_new_hour'>new_hour</span><span class='comma'>,</span> <span class='id identifier rubyid_new_min'>new_min</span><span class='comma'>,</span> <span class='id identifier rubyid_new_sec'>new_sec</span><span class='comma'>,</span> <span class='id identifier rubyid_new_usec'>new_usec</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_new_year'>new_year</span><span class='comma'>,</span> <span class='id identifier rubyid_new_month'>new_month</span><span class='comma'>,</span> <span class='id identifier rubyid_new_day'>new_day</span><span class='comma'>,</span> <span class='id identifier rubyid_new_hour'>new_hour</span><span class='comma'>,</span> <span class='id identifier rubyid_new_min'>new_min</span><span class='comma'>,</span> <span class='id identifier rubyid_new_sec'>new_sec</span><span class='comma'>,</span> <span class='id identifier rubyid_new_usec'>new_usec</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>argument out of range</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_new_usec'>new_usec</span> <span class='op'>&gt;=</span> <span class='int'>1000000</span>
    <span class='op'>::</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_new_year'>new_year</span><span class='comma'>,</span> <span class='id identifier rubyid_new_month'>new_month</span><span class='comma'>,</span> <span class='id identifier rubyid_new_day'>new_day</span><span class='comma'>,</span> <span class='id identifier rubyid_new_hour'>new_hour</span><span class='comma'>,</span> <span class='id identifier rubyid_new_min'>new_min</span><span class='comma'>,</span> <span class='id identifier rubyid_new_sec'>new_sec</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_new_usec'>new_usec</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span> <span class='op'>/</span> <span class='int'>1000000</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_utc_offset'>utc_offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="compare_with_coercion-instance_method">
  <h3 class='signature'>
  #<strong>compare_with_coercion</strong>(other)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>&lt;=&gt;</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#%3C%3D%3E-instance_method" title="Time#&lt;=&gt; (method)">#&lt;=&gt;</a> so that DateTime and
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be chronologically compared
with a Time</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


267
268
269
270
271
272
273
274
275
276</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compare_with_coercion'>compare_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='comment'># we&#39;re avoiding Time#to_datetime and Time#to_time because they&#39;re expensive
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>Time</span>
    <span class='id identifier rubyid_compare_without_coercion'>compare_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Time</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_compare_without_coercion'>compare_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_to_time'>to_time</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_to_datetime'>to_datetime</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="compare_without_coercion-instance_method">
  <h3 class='signature'>
  #<strong>compare_without_coercion</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


277</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 277</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:compare_without_coercion</span><span class='comma'>,</span> <span class='symbol'>:&lt;=&gt;</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="end_of_day-instance_method">
  <h3 class='signature'>
  #<strong>end_of_day</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_end_of_day</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the day, 23:59:59.999999</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


189
190
191
192
193
194
195
196</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 189</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_day'>end_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>23</span><span class='comma'>,</span>
    <span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="end_of_hour-instance_method">
  <h3 class='signature'>
  #<strong>end_of_hour</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_end_of_hour</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the hour, x:59:59.999999</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


206
207
208
209
210
211
212</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_hour'>end_of_hour</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="end_of_minute-instance_method">
  <h3 class='signature'>
  #<strong>end_of_minute</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>at_end_of_minute</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the end of the minute, x:xx:59.999999</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


222
223
224
225
226
227</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 222</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_of_minute'>end_of_minute</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span>
    <span class='symbol'>:sec</span> <span class='op'>=&gt;</span> <span class='int'>59</span><span class='comma'>,</span>
    <span class='symbol'>:usec</span> <span class='op'>=&gt;</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>999999999</span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  #<strong>eql?</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>eql_without_coercion</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#eql%3F-instance_method" title="Time#eql? (method)">#eql?</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be eql? to an equivalent Time</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


288
289
290
291
292</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eql_with_coercion'>eql_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='comment'># if other is an ActiveSupport::TimeWithZone, coerce a Time instance from it so we can do eql? comparison
</span>  <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_comparable_time'>comparable_time</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:comparable_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_eql_without_coercion'>eql_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="eql_with_coercion-instance_method">
  <h3 class='signature'>
  #<strong>eql_with_coercion</strong>(other)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>eql?</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Layers additional behavior on <a href="#eql%3F-instance_method" title="Time#eql? (method)">#eql?</a> so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances can be eql? to an equivalent Time</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


282
283
284
285
286</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 282</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eql_with_coercion'>eql_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='comment'># if other is an ActiveSupport::TimeWithZone, coerce a Time instance from it so we can do eql? comparison
</span>  <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_comparable_time'>comparable_time</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:comparable_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_eql_without_coercion'>eql_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="eql_without_coercion-instance_method">
  <h3 class='signature'>
  #<strong>eql_without_coercion</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


287</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 287</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:eql_without_coercion</span><span class='comma'>,</span> <span class='symbol'>:eql?</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="formatted_offset-instance_method">
  <h3 class='signature'>
  #<strong>formatted_offset</strong>(colon = true, alternate_utc_string = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a formatted string of the offset from UTC, or an alternative string
if the time zone is already UTC.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='int'>2000</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_formatted_offset'>formatted_offset</span>        <span class='comment'># =&gt; &quot;-06:00&quot;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='int'>2000</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_formatted_offset'>formatted_offset</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;-0600&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


64
65
66</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/conversions.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_formatted_offset'>formatted_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_colon'>colon</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_alternate_utc_string'>alternate_utc_string</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_utc?'>utc?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_alternate_utc_string'>alternate_utc_string</span> <span class='op'>||</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>TimeZone</span><span class='period'>.</span><span class='id identifier rubyid_seconds_to_utc_offset'>seconds_to_utc_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_utc_offset'>utc_offset</span><span class='comma'>,</span> <span class='id identifier rubyid_colon'>colon</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="in-instance_method">
  <h3 class='signature'>
  #<strong>in</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the time a number of seconds since the
instance time</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


168
169
170
171
172</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
  <span class='kw'>self</span> <span class='op'>+</span> <span class='id identifier rubyid_seconds'>seconds</span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_to_datetime'>to_datetime</span><span class='period'>.</span><span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="midday-instance_method">
  <h3 class='signature'>
  #<strong>midday</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


182
183
184</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 182</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="middle_of_day-instance_method">
  <h3 class='signature'>
  #<strong>middle_of_day</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>midday</span>
, 
    <span>noon</span>
, 
    <span>at_midday</span>
, 
    <span>at_noon</span>
, 
    <span>at_middle_of_day</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


179
180
181</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="midnight-instance_method">
  <h3 class='signature'>
  #<strong>midnight</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the start of the day (0:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


174
175
176</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 174</span>

<span class='kw'>def</span> <span class='id identifier rubyid_beginning_of_day'>beginning_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="minus_with_coercion-instance_method">
  <h3 class='signature'>
  #<strong>minus_with_coercion</strong>(other)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>-</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><a href="#--instance_method" title="Time#- (method)">#-</a> can also be used to determine the number of seconds between two
Time instances. We&#39;re layering on additional behavior so that
<a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)">ActiveSupport::TimeWithZone</a> instances are coerced into values that
<a href="#--instance_method" title="Time#- (method)">#-</a> will recognize</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


258
259
260
261</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 258</span>

<span class='kw'>def</span> <span class='id identifier rubyid_minus_with_coercion'>minus_with_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_comparable_time'>comparable_time</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:comparable_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>DateTime</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>-</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>:</span> <span class='id identifier rubyid_minus_without_coercion'>minus_without_coercion</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="minus_without_coercion-instance_method">
  <h3 class='signature'>
  #<strong>minus_without_coercion</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


262
263
264
265
266
267
268</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_minus_with_duration'>minus_with_duration</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>if</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Duration</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_until'>until</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_minus_without_duration'>minus_without_duration</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="minus_without_duration-instance_method">
  <h3 class='signature'>
  #<strong>minus_without_duration</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


252</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 252</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:minus_without_duration</span><span class='comma'>,</span> <span class='symbol'>:-</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="noon-instance_method">
  <h3 class='signature'>
  #<strong>noon</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the middle of the day (12:00)</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


183
184
185</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middle_of_day'>middle_of_day</span>
  <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="plus_without_duration-instance_method">
  <h3 class='signature'>
  #<strong>plus_without_duration</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


242</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 242</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:plus_without_duration</span><span class='comma'>,</span> <span class='symbol'>:+</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="sec_fraction-instance_method">
  <h3 class='signature'>
  #<strong>sec_fraction</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the fraction of a second as a <code>Rational</code></p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='float'>0.5</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sec_fraction'>sec_fraction</span> <span class='comment'># =&gt; (1/2)
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


79
80
81</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span>
  <span class='id identifier rubyid_subsec'>subsec</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="seconds_since_midnight-instance_method">
  <h3 class='signature'>
  #<strong>seconds_since_midnight</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of seconds since 00:00:00.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span>  <span class='int'>0</span><span class='comma'>,</span>  <span class='int'>0</span><span class='comma'>,</span>  <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_since_midnight'>seconds_since_midnight</span> <span class='comment'># =&gt; 0.0
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>12</span><span class='comma'>,</span> <span class='int'>34</span><span class='comma'>,</span> <span class='int'>56</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_since_midnight'>seconds_since_midnight</span> <span class='comment'># =&gt; 45296.0
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>23</span><span class='comma'>,</span> <span class='int'>59</span><span class='comma'>,</span> <span class='int'>59</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_since_midnight'>seconds_since_midnight</span> <span class='comment'># =&gt; 86399.0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


63
64
65</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_seconds_since_midnight'>seconds_since_midnight</span>
  <span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>-</span> <span class='id identifier rubyid_change'>change</span><span class='lparen'>(</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_usec'>usec</span> <span class='op'>/</span> <span class='float'>1.0e+6</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="seconds_until_end_of_day-instance_method">
  <h3 class='signature'>
  #<strong>seconds_until_end_of_day</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of seconds until 23:59:59.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span>  <span class='int'>0</span><span class='comma'>,</span>  <span class='int'>0</span><span class='comma'>,</span>  <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_until_end_of_day'>seconds_until_end_of_day</span> <span class='comment'># =&gt; 86399
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>12</span><span class='comma'>,</span> <span class='int'>34</span><span class='comma'>,</span> <span class='int'>56</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_until_end_of_day'>seconds_until_end_of_day</span> <span class='comment'># =&gt; 41103
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2012</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>23</span><span class='comma'>,</span> <span class='int'>59</span><span class='comma'>,</span> <span class='int'>59</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_seconds_until_end_of_day'>seconds_until_end_of_day</span> <span class='comment'># =&gt; 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


72
73
74</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_seconds_until_end_of_day'>seconds_until_end_of_day</span>
  <span class='id identifier rubyid_end_of_day'>end_of_day</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>-</span> <span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="since-instance_method">
  <h3 class='signature'>
  #<strong>since</strong>(seconds)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>in</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new Time representing the time a number of seconds since the
instance time</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


163
164
165
166
167</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/calculations.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
  <span class='kw'>self</span> <span class='op'>+</span> <span class='id identifier rubyid_seconds'>seconds</span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_to_datetime'>to_datetime</span><span class='period'>.</span><span class='id identifier rubyid_since'>since</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_default_s-instance_method">
  <h3 class='signature'>
  #<strong>to_default_s</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


56</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/conversions.rb', line 56</span>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:to_default_s</span><span class='comma'>,</span> <span class='symbol'>:to_s</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_formatted_s-instance_method">
  <h3 class='signature'>
  #<strong>to_formatted_s</strong>(format = :default)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>to_s</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Converts to a formatted string. See DATE_FORMATS for built-in formats.</p>

<p>This method is aliased to <code>to_s</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>                    <span class='comment'># =&gt; 2007-01-18 06:10:17 -06:00
</span>
<span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:time</span><span class='rparen'>)</span>         <span class='comment'># =&gt; &quot;06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='symbol'>:time</span><span class='rparen'>)</span>                   <span class='comment'># =&gt; &quot;06:10&quot;
</span>
<span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:db</span><span class='rparen'>)</span>           <span class='comment'># =&gt; &quot;2007-01-18 06:10:17&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:number</span><span class='rparen'>)</span>       <span class='comment'># =&gt; &quot;20070118061017&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:short</span><span class='rparen'>)</span>        <span class='comment'># =&gt; &quot;18 Jan 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:long</span><span class='rparen'>)</span>         <span class='comment'># =&gt; &quot;January 18, 2007 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:long_ordinal</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;January 18th, 2007 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:rfc822</span><span class='rparen'>)</span>       <span class='comment'># =&gt; &quot;Thu, 18 Jan 2007 06:10:17 -0600&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:iso8601</span><span class='rparen'>)</span>      <span class='comment'># =&gt; &quot;2007-01-18T06:10:17-06:00&quot;
</span></code></pre>

<h2 id="label-Adding+your+own+time+formats+to+to_formatted_s">Adding your own time formats to <code>to_formatted_s</code></h2>

<p>You can add your own formats to the <a href="#DATE_FORMATS-constant" title="Time::DATE_FORMATS (constant)">DATE_FORMATS</a> hash. Use the
format name as the hash key and either a strftime string or Proc instance
that takes a time argument as the value.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># config/initializers/time_formats.rb
</span><span class='const'>Time</span><span class='op'>::</span><span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='symbol'>:month_and_year</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%B %Y</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>Time</span><span class='op'>::</span><span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='symbol'>:short_ordinal</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='period'>.</span><span class='id identifier rubyid_ordinalize'>ordinalize</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


49
50
51
52
53
54
55</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/conversions.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='symbol'>:default</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_formatter'>formatter</span> <span class='op'>=</span> <span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='id identifier rubyid_format'>format</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_formatter'>formatter</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:call</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_formatter'>formatter</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='id identifier rubyid_formatter'>formatter</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_to_default_s'>to_default_s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  #<strong>to_s</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>to_default_s</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Converts to a formatted string. See DATE_FORMATS for built-in formats.</p>

<p>This method is aliased to <code>to_s</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>                    <span class='comment'># =&gt; 2007-01-18 06:10:17 -06:00
</span>
<span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:time</span><span class='rparen'>)</span>         <span class='comment'># =&gt; &quot;06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='symbol'>:time</span><span class='rparen'>)</span>                   <span class='comment'># =&gt; &quot;06:10&quot;
</span>
<span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:db</span><span class='rparen'>)</span>           <span class='comment'># =&gt; &quot;2007-01-18 06:10:17&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:number</span><span class='rparen'>)</span>       <span class='comment'># =&gt; &quot;20070118061017&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:short</span><span class='rparen'>)</span>        <span class='comment'># =&gt; &quot;18 Jan 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:long</span><span class='rparen'>)</span>         <span class='comment'># =&gt; &quot;January 18, 2007 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:long_ordinal</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;January 18th, 2007 06:10&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:rfc822</span><span class='rparen'>)</span>       <span class='comment'># =&gt; &quot;Thu, 18 Jan 2007 06:10:17 -0600&quot;
</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='symbol'>:iso8601</span><span class='rparen'>)</span>      <span class='comment'># =&gt; &quot;2007-01-18T06:10:17-06:00&quot;
</span></code></pre>

<h2 id="label-Adding+your+own+time+formats+to+to_formatted_s">Adding your own time formats to <code>to_formatted_s</code></h2>

<p>You can add your own formats to the <a href="#DATE_FORMATS-constant" title="Time::DATE_FORMATS (constant)">DATE_FORMATS</a> hash. Use the
format name as the hash key and either a strftime string or Proc instance
that takes a time argument as the value.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># config/initializers/time_formats.rb
</span><span class='const'>Time</span><span class='op'>::</span><span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='symbol'>:month_and_year</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%B %Y</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>Time</span><span class='op'>::</span><span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='symbol'>:short_ordinal</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='period'>.</span><span class='id identifier rubyid_ordinalize'>ordinalize</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


57
58
59
60
61
62
63</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'activesupport/lib/active_support/core_ext/time/conversions.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_formatted_s'>to_formatted_s</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='symbol'>:default</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_formatter'>formatter</span> <span class='op'>=</span> <span class='const'>DATE_FORMATS</span><span class='lbracket'>[</span><span class='id identifier rubyid_format'>format</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_formatter'>formatter</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:call</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_formatter'>formatter</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='id identifier rubyid_formatter'>formatter</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_to_default_s'>to_default_s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>