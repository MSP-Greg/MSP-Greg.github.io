<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActionController::Parameters &mdash; Rails-5.0.0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionController::Parameters",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Rails-5.0.0</a> &raquo; 
          <a href='../_index.html'>Index (P)</a> &raquo; 
        #  <a href="../ActionController.html" title="ActionController (module)">ActionController</a> &raquo; 
          <span class='title'>Parameters</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: ActionController::Parameters</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)">Object</a></li>
            <li class='next'>ActionController::Parameters</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>actionpack/lib/action_controller/metal/strong_parameters.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h3 id="label-Action+Controller+Parameters">Action Controller Parameters</h3>

<p>Allows you to choose which attributes should be whitelisted for mass
updating and thus prevent accidentally exposing that which shouldn&#39;t be
exposed. Provides two methods for this purpose: <a href="#require-instance_method" title="ActionController::Parameters#require (method)">#require</a> and <a href="#permit-instance_method" title="ActionController::Parameters#permit (method)">#permit</a>.
The former is used to mark parameters as required. The latter is used to
set the parameter as permitted and limit which attributes should be allowed
for mass updating.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>person:</span> <span class='lbrace'>{</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>age:</span>  <span class='int'>22</span><span class='comma'>,</span>
    <span class='label'>role:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>admin</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_permitted'>permitted</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='rparen'>)</span>
<span class='id identifier rubyid_permitted'>permitted</span>            <span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Francesco&quot;, &quot;age&quot;=&gt;22}
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>      <span class='comment'># =&gt; ActionController::Parameters
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='comment'># =&gt; true
</span>
<span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span><span class='id identifier rubyid_permitted'>permitted</span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;Person id: 1, name: &quot;Francesco&quot;, age: 22, role: &quot;user&quot;&gt;
</span></code></pre>

<p>It provides two options that controls the top-level behavior of new
instances:</p>
<ul><li>
<p><code>permit_all_parameters</code> - If it&#39;s <code>true</code>, all the
parameters will be permitted by default. The default is <code>false</code>.</p>
</li><li>
<p><code>action_on_unpermitted_parameters</code> - Allow to control the
behavior when parameters that are not explicitly permitted are found. The
values can be <code>:log</code> to write a message on the logger or
<code>:raise</code> to raise ActionController::UnpermittedParameters
exception. The default value is <code>:log</code> in test and development
environments, <code>false</code> otherwise.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='comment'># =&gt; false
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_permit_all_parameters'>permit_all_parameters</span> <span class='op'>=</span> <span class='kw'>true</span>

<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>b:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>456</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:c</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {}
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_action_on_unpermitted_parameters'>action_on_unpermitted_parameters</span> <span class='op'>=</span> <span class='symbol'>:raise</span>

<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>b:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>456</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:c</span><span class='rparen'>)</span>
<span class='comment'># =&gt; ActionController::UnpermittedParameters: found unpermitted keys: a, b
</span></code></pre>

<p>Please note that these options *are not thread-safe*. In a multi-threaded
environment they should only be set once at boot-time and never mutated at
runtime.</p>

<p>You can fetch values of <code>ActionController::Parameters</code> using
either <code>:key</code> or <code>&quot;key&quot;</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:key</span><span class='rbracket'>]</span>  <span class='comment'># =&gt; &quot;value&quot;
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'># =&gt; &quot;value&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(parameters = {})  &#x21d2; Parameters </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new instance of <code>ActionController::Parameters</code>.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true if another <code>Parameters</code> object contains the same
content and permitted flag.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(key)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a parameter for the given <code>key</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(key, value)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Assigns a value to a given <code>key</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#converted_arrays-instance_method" title="#converted_arrays (instance method)">#<strong>converted_arrays</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Attribute that keeps track of converted arrays, if any, to avoid double
looping in the common use case permit + mass-assignment.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(key)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes and returns a key-value pair from <code>Parameters</code> whose key
is equal to key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Removes items that the block evaluates to true and returns self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Extracts the nested parameter from the given <code>keys</code> by calling
<code>dig</code> at each step.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an exact copy of the <code>ActionController::Parameters</code>
instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Convert all hashes in values into parameters, then yield each pair in the
same way as <code>Hash#each_pair</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_pair-instance_method" title="#each_pair (instance method)">#<strong>each_pair</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Convert all hashes in values into parameters, then yield each pair in the
same way as <code>Hash#each_pair</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#except-instance_method" title="#except (instance method)">#<strong>except</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> instance that
filters out the given <code>keys</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract%21-instance_method" title="#extract! (instance method)">#<strong>extract!</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Removes and returns the key/value pairs matching the given keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(key, *args)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a parameter for the given <code>key</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <code>Hash#keep_if</code>, but returns nil if no changes were made.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>(other_hash)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> with all keys from
<code>other_hash</code> merges into current hash.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#method_missing-instance_method" title="#method_missing (instance method)">#<strong>method_missing</strong>(method_sym, *args, &amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permit-instance_method" title="#permit (instance method)">#<strong>permit</strong>(*filters)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> instance that
includes only the given <code>filters</code> and sets the
<code>permitted</code> attribute for the object to <code>true</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permit%21-instance_method" title="#permit! (instance method)">#<strong>permit!</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the <code>permitted</code> attribute to <code>true</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permitted%3F-instance_method" title="#permitted? (instance method)">#<strong>permitted?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the parameter is permitted, <code>false</code>
otherwise.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new instance of <code>ActionController::Parameters</code> with
items that the block evaluates to true removed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject%21-instance_method" title="#reject! (instance method)">#<strong>reject!</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Removes items that the block evaluates to true and returns self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#require-instance_method" title="#require (instance method)">#<strong>require</strong>(key)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This method accepts both a single key and an array of keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#required-instance_method" title="#required (instance method)">#<strong>required</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This method accepts both a single key and an array of keys.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new instance of <code>ActionController::Parameters</code> with
only items that the block evaluates to true.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select%21-instance_method" title="#select! (instance method)">#<strong>select!</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <code>Hash#keep_if</code>, but returns nil if no changes were made.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> instance that
includes only the given <code>keys</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice%21-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns current <code>ActionController::Parameters</code> instance which
contains only the given <code>keys</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stringify_keys-instance_method" title="#stringify_keys (instance method)">#<strong>stringify_keys</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This is required by ActiveModel attribute assignment, so that user can pass
<code>Parameters</code> to a mass assignment methods in a model.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a safe <code>ActiveSupport::HashWithIndifferentAccess</code>
representation of this parameter with all unpermitted keys removed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_unsafe_h-instance_method" title="#to_unsafe_h (instance method)">#<strong>to_unsafe_h</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an unsafe, unfiltered
<code>ActiveSupport::HashWithIndifferentAccess</code> representation of
this parameter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_unsafe_hash-instance_method" title="#to_unsafe_hash (instance method)">#<strong>to_unsafe_hash</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an unsafe, unfiltered
<code>ActiveSupport::HashWithIndifferentAccess</code> representation of
this parameter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_keys-instance_method" title="#transform_keys (instance method)">#<strong>transform_keys</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> instance with the
results of running <code>block</code> once for every key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_keys%21-instance_method" title="#transform_keys! (instance method)">#<strong>transform_keys!</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Performs keys transformation and returns the altered
<code>ActionController::Parameters</code> instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_values-instance_method" title="#transform_values (instance method)">#<strong>transform_values</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new <code>ActionController::Parameters</code> with the results of
running <code>block</code> once for every value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_values%21-instance_method" title="#transform_values! (instance method)">#<strong>transform_values!</strong>(&amp;block)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Performs values transformation and returns the altered
<code>ActionController::Parameters</code> instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(*keys)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns values that were assigned to the given <code>keys</code>.</p>
</div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(parameters = {})  &#x21d2; <tt><a href="" title="ActionController::Parameters (class)">Parameters</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of <code>ActionController::Parameters</code>. Also,
sets the <code>permitted</code> attribute to the default value of
<code>ActionController::Parameters.permit_all_parameters</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>  <span class='comment'># =&gt; false
</span><span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='comment'># =&gt; ActiveModel::ForbiddenAttributesError
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_permit_all_parameters'>permit_all_parameters</span> <span class='op'>=</span> <span class='kw'>true</span>

<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>  <span class='comment'># =&gt; true
</span><span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='comment'># =&gt; #&lt;Person id: nil, name: &quot;Francesco&quot;&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


141
142
143
144</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_parameters'>parameters</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span> <span class='op'>=</span> <span class='id identifier rubyid_parameters'>parameters</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span>
  <span class='ivar'>@permitted</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_permit_all_parameters'>permit_all_parameters</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 id='method_missing_details' class='y_details'>Dynamic Method Handling</h2>
  <p class='notice this'>
    This class handles dynamic methods through the <tt>method_missing</tt> method
  </p>
<section class='method_details first' id="method_missing-instance_method">
  <h3 class='signature first'>
  #<strong>method_missing</strong>(method_sym, *args, &amp;block)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 607</span>

<span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_method_sym'>method_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_sym'>method_sym</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-DEPRECATE</span><span class='period'>.</span><span class='id identifier rubyid_squish'>squish</span>
<span class='tstring_content'>      Method </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_sym'>method_sym</span><span class='embexpr_end'>}</span><span class='tstring_content'> is deprecated and will be removed in Rails 5.1,
      as `ActionController::Parameters` no longer inherits from
      hash. Using this deprecated behavior exposes potential security
      problems. If you continue to use this method you may be creating
      a security vulnerability in your app that can be exploited. Instead,
      consider using one of these documented methods which are not
      deprecated: http://api.rubyonrails.org/v</span><span class='embexpr_beg'>#{</span><span class='const'>ActionPack</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>/classes/ActionController/Parameters.html
</span><span class='heredoc_end'>    DEPRECATE
</span>    <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
    <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_public_send'>public_send</span><span class='lparen'>(</span><span class='id identifier rubyid_method_sym'>method_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="==-instance_method">
  <h3 class='signature first'>
  #<strong>==</strong>(other)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true if another <code>Parameters</code> object contains the same
content and permitted flag.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 148</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:permitted?</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;-WARNING</span><span class='period'>.</span><span class='id identifier rubyid_squish'>squish</span>
<span class='tstring_content'>      Comparing equality between `ActionController::Parameters` and a
      `Hash` is deprecated and will be removed in Rails 5.1. Please only do
      comparisons between instances of `ActionController::Parameters`. If
      you need to compare to a hash, first convert it using
      `ActionController::Parameters#new`.
</span><span class='heredoc_end'>    WARNING
</span>    <span class='ivar'>@parameters</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span>
  <span class='kw'>else</span>
    <span class='ivar'>@parameters</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="[]-instance_method">
  <h3 class='signature'>
  #<strong>[]</strong>(key)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a parameter for the given <code>key</code>. If not found, returns
<code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span> <span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Francesco&quot;}
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:none</span><span class='rbracket'>]</span>   <span class='comment'># =&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


407
408
409</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 407</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_hashes_to_parameters'>convert_hashes_to_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='ivar'>@parameters</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="[]=-instance_method">
  <h3 class='signature'>
  #<strong>[]=</strong>(key, value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Assigns a value to a given <code>key</code>. The given key may still get
filtered out when <code>permit</code> is called.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


413
414
415</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 413</span>

<span class='kw'>def</span> <span class='op'>[]=</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="converted_arrays-instance_method">
  <h3 class='signature'>
  #<strong>converted_arrays</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attribute that keeps track of converted arrays, if any, to avoid double
looping in the common use case permit + mass-assignment. Defined in a
method to instantiate it only if needed.</p>

<p>Testing membership still loops, but it&#39;s going to be faster than our
own loop that converts values. Also, we are not going to build a new array
object per fetch.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


215
216
217</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 215</span>

<span class='kw'>def</span> <span class='id identifier rubyid_converted_arrays'>converted_arrays</span>
  <span class='ivar'>@converted_arrays</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="delete-instance_method">
  <h3 class='signature'>
  #<strong>delete</strong>(key)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes and returns a key-value pair from <code>Parameters</code> whose key
is equal to key. If the key is not found, returns the default value. If the
optional code block is given and the key is not found, pass in the key and
return the result of block.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


538
539
540</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 538</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_value_to_parameters'>convert_value_to_parameters</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="delete_if-instance_method">
  <h3 class='signature'>
  #<strong>delete_if</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes items that the block evaluates to true and returns self.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


566
567
568
569</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 566</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="dig-instance_method">
  <h3 class='signature'>
  #<strong>dig</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracts the nested parameter from the given <code>keys</code> by calling
<code>dig</code> at each step. Returns <code>nil</code> if any intermediate
step is <code>nil</code>.</p>

<p>params = <a href="" title="ActionController::Parameters (class)">ActionController::Parameters</a>.new(foo: { bar: { baz: 1 } })
params.dig(:foo, :bar, :baz) # =&gt; 1 params.dig(:foo, :zot, :xyz) # =&gt;
nil</p>

<p>params2 = <a href="" title="ActionController::Parameters (class)">ActionController::Parameters</a>.new(foo: [10, 11, 12])
params2.dig(:foo, 1) # =&gt; 11</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


450
451
452</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 450</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_value_to_parameters'>convert_value_to_parameters</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="dup-instance_method">
  <h3 class='signature'>
  #<strong>dup</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an exact copy of the <code>ActionController::Parameters</code>
instance. <code>permitted</code> state is kept on the duped object.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>        <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_copy_params'>copy_params</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='comment'># =&gt; {&quot;a&quot;=&gt;1}
</span><span class='id identifier rubyid_copy_params'>copy_params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>   <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


582
583
584
585
586</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 582</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>super</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_duplicate'>duplicate</span><span class='op'>|</span>
    <span class='id identifier rubyid_duplicate'>duplicate</span><span class='period'>.</span><span class='id identifier rubyid_permitted'>permitted</span> <span class='op'>=</span> <span class='ivar'>@permitted</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="each-instance_method">
  <h3 class='signature'>
  #<strong>each</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert all hashes in values into parameters, then yield each pair in the
same way as <code>Hash#each_pair</code></p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


206
207
208
209
210</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_pair'>each_pair</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_convert_hashes_to_parameters'>convert_hashes_to_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="each_pair-instance_method">
  <h3 class='signature'>
  #<strong>each_pair</strong>(&amp;block)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>each</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert all hashes in values into parameters, then yield each pair in the
same way as <code>Hash#each_pair</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


201
202
203
204
205</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 201</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_pair'>each_pair</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_convert_hashes_to_parameters'>convert_hashes_to_parameters</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="except-instance_method">
  <h3 class='signature'>
  #<strong>except</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> instance that
filters out the given <code>keys</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span> <span class='comment'># =&gt; {&quot;c&quot;=&gt;3}
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbol'>:d</span><span class='rparen'>)</span>     <span class='comment'># =&gt; {&quot;a&quot;=&gt;1,&quot;b&quot;=&gt;2,&quot;c&quot;=&gt;3}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


479
480
481</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 479</span>

<span class='kw'>def</span> <span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract!-instance_method">
  <h3 class='signature'>
  #<strong>extract!</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes and returns the key/value pairs matching the given keys.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span> <span class='comment'># =&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2}
</span><span class='id identifier rubyid_params'>params</span>                  <span class='comment'># =&gt; {&quot;c&quot;=&gt;3}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


488
489
490</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 488</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_extract!'>extract!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="fetch-instance_method">
  <h3 class='signature'>
  #<strong>fetch</strong>(key, *args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a parameter for the given <code>key</code>. If the <code>key</code>
can&#39;t be found, there are several options: With no other arguments, it
will raise an <code>ActionController::ParameterMissing</code> error; if
more arguments are given, then that will be returned; if a block is given,
then that will be run and its result returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>               <span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Francesco&quot;}
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:none</span><span class='rparen'>)</span>                 <span class='comment'># =&gt; ActionController::ParameterMissing: param is missing or the value is empty: none
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:none</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># =&gt; &quot;Francesco&quot;
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:none</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='comment'># =&gt; &quot;Francesco&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


428
429
430
431
432
433
434
435
436
437
438</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 428</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_value_to_parameters'>convert_value_to_parameters</span><span class='lparen'>(</span>
    <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>yield</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>ParameterMissing</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


603
604
605</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 603</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@parameters</span><span class='embexpr_end'>}</span><span class='tstring_content'> permitted: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@permitted</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="keep_if-instance_method">
  <h3 class='signature'>
  #<strong>keep_if</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Hash#keep_if</code>, but returns nil if no changes were made.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


553
554
555
556</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 553</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select!'>select!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="merge-instance_method">
  <h3 class='signature'>
  #<strong>merge</strong>(other_hash)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> with all keys from
<code>other_hash</code> merges into current hash.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


590
591
592
593
594</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 590</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span>
    <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_hash'>other_hash</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="permit-instance_method">
  <h3 class='signature'>
  #<strong>permit</strong>(*filters)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> instance that
includes only the given <code>filters</code> and sets the
<code>permitted</code> attribute for the object to <code>true</code>. This
is useful for limiting which attributes should be allowed for mass
updating.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>user:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>age:</span> <span class='int'>22</span><span class='comma'>,</span> <span class='label'>role:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>admin</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_permitted'>permitted</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:user</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='rparen'>)</span>
<span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>      <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:age</span><span class='rparen'>)</span>  <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:role</span><span class='rparen'>)</span> <span class='comment'># =&gt; false
</span></code></pre>

<p>Only permitted scalars pass the filter. For example, given</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
</code></pre>

<p><code>:name</code> passes if it is a key of <code>params</code> whose
associated value is of type <a href="../String.html" title="String (class)">String</a>, <a href="../Symbol.html" title="Symbol (class)">Symbol</a>, <a href="../NilClass.html" title="NilClass (class)">NilClass</a>, <a href="../Numeric.html" title="Numeric (class)">Numeric</a>,
<a href="../TrueClass.html" title="TrueClass (class)">TrueClass</a>, <a href="../FalseClass.html" title="FalseClass (class)">FalseClass</a>, <a href="../Date.html" title="Date (class)">Date</a>, <a href="../Time.html" title="Time (class)">Time</a>, <a href="../DateTime.html" title="DateTime (class)">DateTime</a>, <code>StringIO</code>, <code>IO</code>,
<a href="../ActionDispatch/Http/UploadedFile.html" title="ActionDispatch::Http::UploadedFile (class)">ActionDispatch::Http::UploadedFile</a> or
<code>Rack::Test::UploadedFile</code>. Otherwise, the key
<code>:name</code> is filtered out.</p>

<p>You may declare that the parameter should be an array of permitted scalars
by mapping it to an empty array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>tags:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>parameters</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='label'>tags:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>You can also use <code>permit</code> on nested parameters, like:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>person:</span> <span class='lbrace'>{</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>age:</span>  <span class='int'>22</span><span class='comma'>,</span>
    <span class='label'>pets:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
      <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Purplish</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>category:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dogs</span><span class='tstring_end'>&#39;</span></span>
    <span class='rbrace'>}</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_permitted'>permitted</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbracket'>[</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>pets:</span> <span class='symbol'>:name</span> <span class='rbrace'>}</span> <span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_permitted'>permitted</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>                    <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>               <span class='comment'># =&gt; &quot;Francesco&quot;
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:age</span><span class='rbracket'>]</span>                <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:pets</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>     <span class='comment'># =&gt; &quot;Purplish&quot;
</span><span class='id identifier rubyid_permitted'>permitted</span><span class='lbracket'>[</span><span class='symbol'>:person</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:pets</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:category</span><span class='rbracket'>]</span> <span class='comment'># =&gt; nil
</span></code></pre>

<p>Note that if you use <code>permit</code> in a key that points to a hash, it
won&#39;t allow all the hash. You also need to specify which attributes
inside the hash should be whitelisted.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>person:</span> <span class='lbrace'>{</span>
    <span class='label'>contact:</span> <span class='lbrace'>{</span>
      <span class='label'>email:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none@test.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>phone:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>555-1234</span><span class='tstring_end'>&#39;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:contact</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {}
</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='label'>contact:</span> <span class='symbol'>:phone</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {&quot;contact&quot;=&gt;{&quot;phone&quot;=&gt;&quot;555-1234&quot;}}
</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='label'>contact:</span> <span class='lbracket'>[</span> <span class='symbol'>:email</span><span class='comma'>,</span> <span class='symbol'>:phone</span> <span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {&quot;contact&quot;=&gt;{&quot;email&quot;=&gt;&quot;none@test.com&quot;, &quot;phone&quot;=&gt;&quot;555-1234&quot;}}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_filters'>filters</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_filters'>filters</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filter'>filter</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_filter'>filter</span>
    <span class='kw'>when</span> <span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>String</span>
      <span class='id identifier rubyid_permitted_scalar_filter'>permitted_scalar_filter</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>Hash</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_hash_filter'>hash_filter</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unpermitted_parameters!'>unpermitted_parameters!</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_action_on_unpermitted_parameters'>action_on_unpermitted_parameters</span>

  <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="permit!-instance_method">
  <h3 class='signature'>
  #<strong>permit!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the <code>permitted</code> attribute to <code>true</code>. This can be
used to pass mass assignment. Returns <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>  <span class='comment'># =&gt; false
</span><span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='comment'># =&gt; ActiveModel::ForbiddenAttributesError
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span>  <span class='comment'># =&gt; true
</span><span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='comment'># =&gt; #&lt;Person id: nil, name: &quot;Francesco&quot;&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


241
242
243
244
245
246
247
248
249
250</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_permit!'>permit!</span>
  <span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_wrap'>wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span> <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:permit!</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@permitted</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="permitted?-instance_method">
  <h3 class='signature'>
  #<strong>permitted?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the parameter is permitted, <code>false</code>
otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permitted?'>permitted?</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


225
226
227</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_permitted?'>permitted?</span>
  <span class='ivar'>@permitted</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="reject-instance_method">
  <h3 class='signature'>
  #<strong>reject</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of <code>ActionController::Parameters</code> with
items that the block evaluates to true removed.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


557
558
559</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 557</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="reject!-instance_method">
  <h3 class='signature'>
  #<strong>reject!</strong>(&amp;block)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>delete_if</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes items that the block evaluates to true and returns self.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


562
563
564
565</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 562</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="require-instance_method">
  <h3 class='signature'>
  #<strong>require</strong>(key)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>required</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This method accepts both a single key and an array of keys.</p>

<p>When passed a single key, if it exists and its associated value is either
present or the singleton <code>false</code>, returns said value:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Francesco&quot;}
</span></code></pre>

<p>Otherwise raises <code>ActionController::ParameterMissing</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='kw'>nil</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span></code></pre>

<p>When given an array of keys, the method tries to require each one of them
in order. If it succeeds, an array with the respective return values is
returned:</p>

<pre class="code ruby"><code class="ruby">params = ActionController::Parameters.new(user: { ... }, profile: { ... })
user_params, profile_params = params.require(:user, :profile)</code></pre>

<p>Otherwise, the method re-raises the first exception found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>user:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>profile:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_user_params'>user_params</span><span class='comma'>,</span> <span class='id identifier rubyid_profile_params'>profile_params</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:user</span><span class='comma'>,</span> <span class='symbol'>:profile</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: user
</span></code></pre>

<p>Technically this method can be used to fetch terminal values:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># CAREFUL
</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Finn</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='comment'># CAREFUL
</span></code></pre>

<p>but take into account that at some point those ones have to be permitted:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_person_params'>person_params</span>
  <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_person_params'>person_params</span><span class='op'>|</span>
    <span class='id identifier rubyid_person_params'>person_params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='comment'># SAFER
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>for example.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


302
303
304
305
306
307
308
309
310</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 302</span>

<span class='kw'>def</span> <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>||</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ParameterMissing</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="required-instance_method">
  <h3 class='signature'>
  #<strong>required</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This method accepts both a single key and an array of keys.</p>

<p>When passed a single key, if it exists and its associated value is either
present or the singleton <code>false</code>, returns said value:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Francesco</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Francesco&quot;}
</span></code></pre>

<p>Otherwise raises <code>ActionController::ParameterMissing</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='kw'>nil</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span>
<span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: person
</span></code></pre>

<p>When given an array of keys, the method tries to require each one of them
in order. If it succeeds, an array with the respective return values is
returned:</p>

<pre class="code ruby"><code class="ruby">params = ActionController::Parameters.new(user: { ... }, profile: { ... })
user_params, profile_params = params.require(:user, :profile)</code></pre>

<p>Otherwise, the method re-raises the first exception found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>user:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>profile:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_user_params'>user_params</span><span class='comma'>,</span> <span class='id identifier rubyid_profile_params'>profile_params</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:user</span><span class='comma'>,</span> <span class='symbol'>:profile</span><span class='rparen'>)</span>
<span class='comment'># ActionController::ParameterMissing: param is missing or the value is empty: user
</span></code></pre>

<p>Technically this method can be used to fetch terminal values:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># CAREFUL
</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>person:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Finn</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='comment'># CAREFUL
</span></code></pre>

<p>but take into account that at some point those ones have to be permitted:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_person_params'>person_params</span>
  <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_person_params'>person_params</span><span class='op'>|</span>
    <span class='id identifier rubyid_person_params'>person_params</span><span class='period'>.</span><span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='comment'># SAFER
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>for example. Alias of #require.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


313
314
315
316
317
318
319
320
321</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 313</span>

<span class='kw'>def</span> <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_require'>require</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>||</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ParameterMissing</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  #<strong>select</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of <code>ActionController::Parameters</code> with
only items that the block evaluates to true.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


544
545
546</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 544</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="select!-instance_method">
  <h3 class='signature'>
  #<strong>select!</strong>(&amp;block)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>keep_if</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Hash#keep_if</code>, but returns nil if no changes were made.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


549
550
551
552</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 549</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select!'>select!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="slice-instance_method">
  <h3 class='signature'>
  #<strong>slice</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> instance that
includes only the given <code>keys</code>. If the given <code>keys</code>
don&#39;t exist, returns an empty hash.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='rparen'>)</span> <span class='comment'># =&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2}
</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='symbol'>:d</span><span class='rparen'>)</span>     <span class='comment'># =&gt; {}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


462
463
464</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 462</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="slice!-instance_method">
  <h3 class='signature'>
  #<strong>slice!</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns current <code>ActionController::Parameters</code> instance which
contains only the given <code>keys</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


468
469
470
471</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 468</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="stringify_keys-instance_method">
  <h3 class='signature'>
  #<strong>stringify_keys</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This is required by ActiveModel attribute assignment, so that user can pass
<code>Parameters</code> to a mass assignment methods in a model. It should
not matter as we are using <code>HashWithIndifferentAccess</code>
internally.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


599
600
601</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 599</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stringify_keys'>stringify_keys</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_h-instance_method">
  <h3 class='signature'>
  #<strong>to_h</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a safe <code>ActiveSupport::HashWithIndifferentAccess</code>
representation of this parameter with all unpermitted keys removed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Senjougahara Hitagi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>oddity:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Heavy stone crab</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {}
</span>
<span class='id identifier rubyid_safe_params'>safe_params</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_permit'>permit</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
<span class='id identifier rubyid_safe_params'>safe_params</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


176
177
178
179
180
181
182</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_h'>to_h</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_permitted?'>permitted?</span>
    <span class='id identifier rubyid_convert_parameters_to_hashes'>convert_parameters_to_hashes</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='comma'>,</span> <span class='symbol'>:to_h</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_always_permitted_parameters'>always_permitted_parameters</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_permit!'>permit!</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_unsafe_h-instance_method">
  <h3 class='signature'>
  #<strong>to_unsafe_h</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>to_unsafe_hash</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an unsafe, unfiltered
<code>ActiveSupport::HashWithIndifferentAccess</code> representation of
this parameter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Senjougahara Hitagi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>oddity:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Heavy stone crab</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_unsafe_h'>to_unsafe_h</span>
<span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;, &quot;oddity&quot; =&gt; &quot;Heavy stone crab&quot;}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


194
195
196</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_unsafe_h'>to_unsafe_h</span>
  <span class='id identifier rubyid_convert_parameters_to_hashes'>convert_parameters_to_hashes</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='comma'>,</span> <span class='symbol'>:to_unsafe_h</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_unsafe_hash-instance_method">
  <h3 class='signature'>
  #<strong>to_unsafe_hash</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an unsafe, unfiltered
<code>ActiveSupport::HashWithIndifferentAccess</code> representation of
this parameter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Senjougahara Hitagi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>oddity:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Heavy stone crab</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_unsafe_h'>to_unsafe_h</span>
<span class='comment'># =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;, &quot;oddity&quot; =&gt; &quot;Heavy stone crab&quot;}
</span></code></pre>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


197
198
199</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_unsafe_h'>to_unsafe_h</span>
  <span class='id identifier rubyid_convert_parameters_to_hashes'>convert_parameters_to_hashes</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='comma'>,</span> <span class='symbol'>:to_unsafe_h</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="transform_keys-instance_method">
  <h3 class='signature'>
  #<strong>transform_keys</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> instance with the
results of running <code>block</code> once for every key. The values are
unchanged.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


517
518
519
520
521
522
523
524
525</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 517</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_keys'>transform_keys</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span>
      <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_keys'>transform_keys</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_keys'>transform_keys</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="transform_keys!-instance_method">
  <h3 class='signature'>
  #<strong>transform_keys!</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Performs keys transformation and returns the altered
<code>ActionController::Parameters</code> instance.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


529
530
531
532</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 529</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_keys!'>transform_keys!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_keys!'>transform_keys!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="transform_values-instance_method">
  <h3 class='signature'>
  #<strong>transform_values</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new <code>ActionController::Parameters</code> with the results of
running <code>block</code> once for every value. The keys are unchanged.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>Parameters</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>3</span><span class='rparen'>)</span>
<span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_transform_values'>transform_values</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>*</span> <span class='int'>2</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; {&quot;a&quot;=&gt;2, &quot;b&quot;=&gt;4, &quot;c&quot;=&gt;6}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


498
499
500
501
502
503
504
505
506</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 498</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_values'>transform_values</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_new_instance_with_inherited_permitted_status'>new_instance_with_inherited_permitted_status</span><span class='lparen'>(</span>
      <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_values'>transform_values</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_values'>transform_values</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="transform_values!-instance_method">
  <h3 class='signature'>
  #<strong>transform_values!</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Performs values transformation and returns the altered
<code>ActionController::Parameters</code> instance.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


510
511
512
513</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 510</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_values!'>transform_values!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_transform_values!'>transform_values!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="values_at-instance_method">
  <h3 class='signature'>
  #<strong>values_at</strong>(*keys)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns values that were assigned to the given <code>keys</code>. Note that
all the <a href="../Hash.html" title="Hash (class)">Hash</a> objects will be converted to
<code>ActionController::Parameters</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


570
571
572</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'actionpack/lib/action_controller/metal/strong_parameters.rb', line 570</span>

<span class='kw'>def</span> <span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_value_to_parameters'>convert_value_to_parameters</span><span class='lparen'>(</span><span class='ivar'>@parameters</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>