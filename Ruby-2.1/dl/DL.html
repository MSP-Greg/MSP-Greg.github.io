<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: DL &mdash; dl Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "DL",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.1.10</a> &raquo; 
          <a href='index.html'>dl</a> &raquo; 
          <a href='_index.html'>Index (D)</a> &raquo; 
          <span class='title'>DL</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: DL</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <div class='box_max'>
        <a href="DL/BasicTypes.html" title="DL::BasicTypes (module)">BasicTypes</a>,
    <a href="DL/CParser.html" title="DL::CParser (module)">CParser</a>,
    <a href="DL/CStructBuilder.html" title="DL::CStructBuilder (module)">CStructBuilder</a>,
    <a href="DL/Importer.html" title="DL::Importer (module)">Importer</a>,
    <a href="DL/PackInfo.html" title="DL::PackInfo (module)">PackInfo</a>,
    <a href="DL/ValueUtil.html" title="DL::ValueUtil (module)">ValueUtil</a>,
    <a href="DL/Win32Types.html" title="DL::Win32Types (module)">Win32Types</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="DL/CFunc.html" title="DL::CFunc (class)">CFunc</a>,
    <a href="DL/CPtr.html" title="DL::CPtr (class)">CPtr</a>,
    <a href="DL/CStruct.html" title="DL::CStruct (class)">CStruct</a>,
    <a href="DL/CStructEntity.html" title="DL::CStructEntity (class)">CStructEntity</a>,
    <a href="DL/CUnion.html" title="DL::CUnion (class)">CUnion</a>,
    <a href="DL/CUnionEntity.html" title="DL::CUnionEntity (class)">CUnionEntity</a>,
    <a href="DL/CarriedFunction.html" title="DL::CarriedFunction (class)">CarriedFunction</a>,
    <a href="DL/CompositeHandler.html" title="DL::CompositeHandler (class)">CompositeHandler</a>,
    <a href="DL/Function.html" title="DL::Function (class)">Function</a>,
    <a href="DL/Handle.html" title="DL::Handle (class)">Handle</a>,
    <a href="DL/Packer.html" title="DL::Packer (class)">Packer</a>,
    <a href="DL/Stack.html" title="DL::Stack (class)">Stack</a>,
    <a href="DL/TempFunction.html" title="DL::TempFunction (class)">TempFunction</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <div class='box_max'>
        <a href="DL/DLError.html" title="DL::DLError (class)">DLError</a>,
    <a href="DL/DLTypeError.html" title="DL::DLTypeError (class)">DLTypeError</a>
      </div>
    </td>
  </tr>



  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="DL/Function.html" title="DL::Function (class)">Function</a>, <a href="DL/Importer.html" title="DL::Importer (module)">Importer</a>
      </div>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L182'>ext/dl/dl.c</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/cptr.c#L668'>ext/dl/cptr.c</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl.rb#L10'>ext/dl/lib/dl.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L4'>ext/dl/lib/dl/callback.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/cparser.rb#L1'>ext/dl/lib/dl/cparser.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/func.rb#L7'>ext/dl/lib/dl/func.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/import.rb#L6'>ext/dl/lib/dl/import.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/pack.rb#L3'>ext/dl/lib/dl/pack.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/stack.rb#L3'>ext/dl/lib/dl/stack.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/struct.rb#L5'>ext/dl/lib/dl/struct.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/types.rb#L1'>ext/dl/lib/dl/types.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/value.rb#L3'>ext/dl/lib/dl/value.rb</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A bridge to the dlopen() or dynamic library linker function.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby">bash $&gt; cat &gt; sum.c &lt;&lt;EOF
double sum(double *arry, int len)
{
        double ret = 0;
        int i;
        for(i = 0; i &lt; len; i++){
                ret = ret + arry[i];
        }
        return ret;
}

double split(double num)
{
        double ret = 0;
        ret = num / 2;
        return ret;
}
EOF
bash $&gt; gcc -o libsum.so -shared sum.c
bash $&gt; cat &gt; sum.rb &lt;&lt;EOF
require &#39;dl&#39;
require &#39;dl/import&#39;

module LibSum
        extend DL::Importer
        dlload &#39;./libsum.so&#39;
        extern &#39;double sum(double*, int)&#39;
        extern &#39;double split(double)&#39;
end

a = [2.0, 3.0, 4.0]

sum = LibSum.sum(a.pack(&quot;d*&quot;), a.count)
p LibSum.split(sum)
EOF
bash $&gt; ruby sum.rb
4.5</code></pre>

<p>WIN! :-)</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='ALIGN_CHAR-constant'>
      ALIGN_CHAR
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a char</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_DOUBLE-constant'>
      ALIGN_DOUBLE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a double</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_FLOAT-constant'>
      ALIGN_FLOAT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a float</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_INT-constant'>
      ALIGN_INT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of an int</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_INTPTR_T-constant'>
      ALIGN_INTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a intptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_LONG-constant'>
      ALIGN_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_LONG_LONG-constant'>
      ALIGN_LONG_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a long long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_PTRDIFF_T-constant'>
      ALIGN_PTRDIFF_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_SHORT-constant'>
      ALIGN_SHORT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a short</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_SIZE_T-constant'>
      ALIGN_SIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a size_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_SSIZE_T-constant'>
      ALIGN_SSIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>same as size_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_UINTPTR_T-constant'>
      ALIGN_UINTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a uintptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='ALIGN_VOIDP-constant'>
      ALIGN_VOIDP
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a void*</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='BUILD_RUBY_PLATFORM-constant'>
      BUILD_RUBY_PLATFORM
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Platform built against (i.e. “x86_64-linux”, etc.)</p>

<p>See also RUBY_PLATFORM</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='BUILD_RUBY_VERSION-constant'>
      BUILD_RUBY_VERSION
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Ruby Version built. (i.e. “1.9.3”)</p>

<p>See also RUBY_VERSION</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='CdeclCallbackAddrs-constant'>
      CdeclCallbackAddrs =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A Hash of the addresses of callback Proc</p>

<p>Uses Fiddle</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='CdeclCallbackProcs-constant'>
      CdeclCallbackProcs =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A Hash of callback Procs</p>

<p>Uses Fiddle</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='DLSTACK_SIZE-constant'>
      DLSTACK_SIZE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Dynamic linker stack size</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='MAX_CALLBACK-constant'>
      MAX_CALLBACK
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Maximum number of callbacks</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='NULL-constant'>
      NULL
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A NULL pointer</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='RTLD_GLOBAL-constant'>
      RTLD_GLOBAL
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:Handle flag.</p>

<p>The symbols defined by this library will be made available for symbol
resolution of subsequently loaded libraries.</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='RTLD_LAZY-constant'>
      RTLD_LAZY
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:Handle flag.</p>

<p>Perform lazy binding.  Only resolve symbols as the code that references
them is executed.  If the  symbol is never referenced, then it is never
resolved.  (Lazy binding is only performed for function references;
references to variables are always immediately bound when the library is
loaded.)</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='RTLD_NOW-constant'>
      RTLD_NOW
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:Handle flag.</p>

<p>If this value is specified or the environment variable LD_BIND_NOW is set
to a nonempty string, all undefined symbols in the library are resolved
before dlopen() returns.  If this cannot be done an error is returned.</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='RUBY_FREE-constant'>
      RUBY_FREE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Address of the ruby_xfree() function</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SEM-constant'>
      SEM =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The mutual exclusion (Mutex) semaphore for the DL module</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre>
    </dd>
    <dt id='SIZEOF_CHAR-constant'>
      SIZEOF_CHAR
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a char</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_DOUBLE-constant'>
      SIZEOF_DOUBLE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a double</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_FLOAT-constant'>
      SIZEOF_FLOAT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a float</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_INT-constant'>
      SIZEOF_INT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of an int</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_INTPTR_T-constant'>
      SIZEOF_INTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a intptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_LONG-constant'>
      SIZEOF_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_LONG_LONG-constant'>
      SIZEOF_LONG_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a long long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_PTRDIFF_T-constant'>
      SIZEOF_PTRDIFF_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_SHORT-constant'>
      SIZEOF_SHORT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a short</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_SIZE_T-constant'>
      SIZEOF_SIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a size_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_SSIZE_T-constant'>
      SIZEOF_SSIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>same as size_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_UINTPTR_T-constant'>
      SIZEOF_UINTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a uintptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='SIZEOF_VOIDP-constant'>
      SIZEOF_VOIDP
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>size of a void*</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='StdcallCallbackAddrs-constant'>
      StdcallCallbackAddrs =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A Hash of the addresses of Stdcall callback Procs</p>

<p>Uses Fiddle on win32</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='StdcallCallbackProcs-constant'>
      StdcallCallbackProcs =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A Hash of Stdcall callback Procs</p>

<p>Uses Fiddle on win32</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='TYPE_CHAR-constant'>
      TYPE_CHAR
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - char</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_DOUBLE-constant'>
      TYPE_DOUBLE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - double</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_FLOAT-constant'>
      TYPE_FLOAT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - float</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_INT-constant'>
      TYPE_INT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - int</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_INTPTR_T-constant'>
      TYPE_INTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - intptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_LONG-constant'>
      TYPE_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_LONG_LONG-constant'>
      TYPE_LONG_LONG
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - long long</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_PTRDIFF_T-constant'>
      TYPE_PTRDIFF_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_SHORT-constant'>
      TYPE_SHORT
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - short</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_SIZE_T-constant'>
      TYPE_SIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - size_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_SSIZE_T-constant'>
      TYPE_SSIZE_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - ssize_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_UINTPTR_T-constant'>
      TYPE_UINTPTR_T
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - uintptr_t</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_VOID-constant'>
      TYPE_VOID
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - void</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='TYPE_VOIDP-constant'>
      TYPE_VOIDP
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:CFunc type - void*</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#dlopen-class_method" title="dlopen (class method)">.<strong>dlopen</strong>(so_lib)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>An interface to the dynamic linking loader</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dlunwrap-class_method" title="dlunwrap (class method)">.<strong>dlunwrap</strong>(addr)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the hexadecimal representation of a memory pointer address
<code>addr</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dlwrap-class_method" title="dlwrap (class method)">.<strong>dlwrap</strong>(val)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a memory pointer of a function&#39;s hexadecimal address location
<code>val</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fiddle%3F-class_method" title=".fiddle? (class method)">.<strong>fiddle?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true if DL is using Fiddle, the libffi wrapper.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#free-class_method" title="free (class method)">.<strong>free</strong>(addr)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Free the memory at address <code>addr</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#malloc-class_method" title="malloc (class method)">.<strong>malloc</strong>(size)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Allocate <code>size</code> bytes of memory and return the integer memory
address for the allocated memory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#realloc-class_method" title="realloc (class method)">.<strong>realloc</strong>(addr, size)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Change the size of the memory allocated at the memory location
<code>addr</code> to <code>size</code> bytes.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#remove_callback-instance_method" title="#remove_callback (instance method)">#<strong>remove_callback</strong>(addr, ctype = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#remove_cdecl_callback-instance_method" title="DL#remove_cdecl_callback (method)">#remove_cdecl_callback</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_callback_internal-instance_method" title="#remove_callback_internal (instance method)">#<strong>remove_callback_internal</strong>(proc_entry, addr_entry, addr, ctype = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_cdecl_callback-instance_method" title="#remove_cdecl_callback (instance method)">#<strong>remove_cdecl_callback</strong>(addr, ctype = nil)  </a>
        (also: #remove_callback)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_stdcall_callback-instance_method" title="#remove_stdcall_callback (instance method)">#<strong>remove_stdcall_callback</strong>(addr, ctype = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_callback-instance_method" title="#set_callback (instance method)">#<strong>set_callback</strong>(ty, argc, &amp;cbp)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#set_cdecl_callback-instance_method" title="DL#set_cdecl_callback (method)">#set_cdecl_callback</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_callback_internal-instance_method" title="#set_callback_internal (instance method)">#<strong>set_callback_internal</strong>(proc_entry, addr_entry, argc, ty, abi = nil, &amp;cbp)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_cdecl_callback-instance_method" title="#set_cdecl_callback (instance method)">#<strong>set_cdecl_callback</strong>(ty, argc, &amp;cbp)  </a>
        (also: #set_callback)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_stdcall_callback-instance_method" title="#set_stdcall_callback (instance method)">#<strong>set_stdcall_callback</strong>(ty, argc, &amp;cbp)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="dlopen-class_method">
  <h3 class='signature first'>
  .<strong>dlopen</strong>(so_lib)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>An interface to the dynamic linking loader</p>

<p>This is a shortcut to <a href="DL/Handle.html" title="DL::Handle (class)">Handle</a>.new and takes the same arguments.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_libc_so'>libc_so</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/lib64/libc.so.6</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#=&gt; &quot;/lib64/libc.so.6&quot;
</span>
<span class='id identifier rubyid_libc'>libc</span> <span class='op'>=</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlopen'>dlopen</span><span class='lparen'>(</span><span class='id identifier rubyid_libc_so'>libc_so</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;DL::Handle:0x00000000e05b00&gt;</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L67'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="dlunwrap-class_method">
  <h3 class='signature'>
  .<strong>dlunwrap</strong>(addr)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the hexadecimal representation of a memory pointer address
<code>addr</code></p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lib'>lib</span> <span class='op'>=</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlopen'><a href="#dlopen-class_method" title="DL.dlopen (method)">dlopen</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/lib64/libc-2.15.so</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;DL::Handle:0x00000001342460&gt;
</span>
<span class='id identifier rubyid_lib'>lib</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strcpy</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;7f59de6dd240&quot;
</span>
<span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlunwrap'>dlunwrap</span><span class='lparen'>(</span><span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlwrap'><a href="#dlwrap-class_method" title="DL.dlwrap (method)">dlwrap</a></span><span class='lparen'>(</span><span class='id identifier rubyid_lib'>lib</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strcpy</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;7f59de6dd240&quot;</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L134'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="dlwrap-class_method">
  <h3 class='signature'>
  .<strong>dlwrap</strong>(val)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a memory pointer of a function&#39;s hexadecimal address location
<code>val</code></p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lib'>lib</span> <span class='op'>=</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlopen'><a href="#dlopen-class_method" title="DL.dlopen (method)">dlopen</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/lib64/libc-2.15.so</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;DL::Handle:0x00000001342460&gt;
</span>
<span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_dlwrap'>dlwrap</span><span class='lparen'>(</span><span class='id identifier rubyid_lib'>lib</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>strcpy</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; 25522520</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L153'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="fiddle?-class_method">
  <h3 class='signature'>
  .<strong>fiddle?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true if DL is using Fiddle, the libffi wrapper.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl.rb#L12'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


12
13
14</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl.rb', line 12</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fiddle?'>fiddle?</span>
  <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:Fiddle</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="free-class_method">
  <h3 class='signature'>
  .<strong>free</strong>(addr)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Free the memory at address <code>addr</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L109'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="malloc-class_method">
  <h3 class='signature'>
  .<strong>malloc</strong>(size)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allocate <code>size</code> bytes of memory and return the integer memory
address for the allocated memory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L79'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="realloc-class_method">
  <h3 class='signature'>
  .<strong>realloc</strong>(addr, size)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Change the size of the memory allocated at the memory location
<code>addr</code> to <code>size</code> bytes.  Returns the memory address
of the reallocated memory, which may be different than the address passed
in.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/dl.c#L95'>GitHub</a> ]</span>

</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="remove_callback-instance_method">
  <h3 class='signature first'>
  #<strong>remove_callback</strong>(addr, ctype = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#remove_cdecl_callback-instance_method" title="DL#remove_cdecl_callback (method)">#remove_cdecl_callback</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="remove_callback_internal-instance_method">
  <h3 class='signature'>
  #<strong>remove_callback_internal</strong>(proc_entry, addr_entry, addr, ctype = nil)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L70'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 70</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_callback_internal'>remove_callback_internal</span><span class='lparen'>(</span><span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='comma'>,</span> <span class='id identifier rubyid_addr_entry'>addr_entry</span><span class='comma'>,</span> <span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_ctype'>ctype</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_fiddle?'><a href="#fiddle%3F-class_method" title="DL.fiddle? (method)">fiddle?</a></span>
    <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='id identifier rubyid_addr'>addr</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_addr'>addr</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_addr'>addr</span><span class='rparen'>)</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_ctype'>ctype</span> <span class='rparen'>)</span>
      <span class='id identifier rubyid_addr_entry'>addr_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_ctype'>ctype</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_xaddr'>xaddr</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
        <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_xaddr'>xaddr</span> <span class='op'>==</span> <span class='id identifier rubyid_addr'>addr</span> <span class='rparen'>)</span>
          <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_idx'>idx</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_addr_entry'>addr_entry</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
        <span class='id identifier rubyid_entry'>entry</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_xaddr'>xaddr</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
          <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_xaddr'>xaddr</span> <span class='op'>==</span> <span class='id identifier rubyid_addr'>addr</span> <span class='rparen'>)</span>
            <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_idx'>idx</span>
          <span class='kw'>end</span>
        <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_index'>index</span> <span class='kw'>and</span> <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_ctype'>ctype</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span> <span class='rparen'>)</span>
      <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_ctype'>ctype</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_cdecl_callback-instance_method">
  <h3 class='signature'>
  #<strong>remove_cdecl_callback</strong>(addr, ctype = nil)  
  <span class='aliases'>Also known as: <span class='names'><span>remove_callback</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L102'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


102
103
104</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_cdecl_callback'>remove_cdecl_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_ctype'>ctype</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remove_callback_internal'>remove_callback_internal</span><span class='lparen'>(</span><span class='const'><a href="#CdeclCallbackProcs-constant" title="DL::CdeclCallbackProcs (constant)">CdeclCallbackProcs</a></span><span class='comma'>,</span> <span class='const'><a href="#CdeclCallbackAddrs-constant" title="DL::CdeclCallbackAddrs (constant)">CdeclCallbackAddrs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_ctype'>ctype</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_stdcall_callback-instance_method">
  <h3 class='signature'>
  #<strong>remove_stdcall_callback</strong>(addr, ctype = nil)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L106'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


106
107
108</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_stdcall_callback'>remove_stdcall_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_ctype'>ctype</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remove_callback_internal'>remove_callback_internal</span><span class='lparen'>(</span><span class='const'><a href="#StdcallCallbackProcs-constant" title="DL::StdcallCallbackProcs (constant)">StdcallCallbackProcs</a></span><span class='comma'>,</span> <span class='const'><a href="#StdcallCallbackAddrs-constant" title="DL::StdcallCallbackAddrs (constant)">StdcallCallbackAddrs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_ctype'>ctype</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_callback-instance_method">
  <h3 class='signature'>
  #<strong>set_callback</strong>(ty, argc, &amp;cbp)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#set_cdecl_callback-instance_method" title="DL#set_cdecl_callback (method)">#set_cdecl_callback</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="set_callback_internal-instance_method">
  <h3 class='signature'>
  #<strong>set_callback_internal</strong>(proc_entry, addr_entry, argc, ty, abi = nil, &amp;cbp)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L30'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 30</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_callback_internal'>set_callback_internal</span><span class='lparen'>(</span><span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='comma'>,</span> <span class='id identifier rubyid_addr_entry'>addr_entry</span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='id identifier rubyid_abi'>abi</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
  <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_argc'>argc</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arity should not be less than 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_fiddle?'><a href="#fiddle%3F-class_method" title="DL.fiddle? (method)">fiddle?</a></span>
    <span class='id identifier rubyid_abi'>abi</span> <span class='op'>||=</span> <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'>Function</span><span class='op'>::</span><span class='const'>DEFAULT</span>
    <span class='id identifier rubyid_closure'>closure</span> <span class='op'>=</span> <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'>Closure</span><span class='op'>::</span><span class='const'>BlockCaller</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'><a href="#TYPE_VOIDP-constant" title="DL::TYPE_VOIDP (constant)">TYPE_VOIDP</a></span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='id identifier rubyid_abi'>abi</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_closure'>closure</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_closure'>closure</span>
    <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='id identifier rubyid_closure'>closure</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>else</span>
    <span class='const'><a href="#SEM-constant" title="DL::SEM (constant)">SEM</a></span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span><span class='lbrace'>{</span>
      <span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='id identifier rubyid_proc_entry'>proc_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_ty'>ty</span><span class='rbracket'>]</span>
      <span class='lparen'>(</span><span class='int'>0</span><span class='op'>...</span><span class='const'><a href="#MAX_CALLBACK-constant" title="DL::MAX_CALLBACK (constant)">MAX_CALLBACK</a></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
        <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span> <span class='op'>*</span> <span class='const'><a href="#DLSTACK_SIZE-constant" title="DL::DLSTACK_SIZE (constant)">DLSTACK_SIZE</a></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_argc'>argc</span>
        <span class='kw'>if</span><span class='lparen'>(</span> <span class='id identifier rubyid_ary'>ary</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rparen'>)</span>
          <span class='id identifier rubyid_ary'>ary</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_cbp'>cbp</span>
          <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='id identifier rubyid_addr_entry'>addr_entry</span><span class='lbracket'>[</span><span class='id identifier rubyid_ty'>ty</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_addr'>addr</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_cdecl_callback-instance_method">
  <h3 class='signature'>
  #<strong>set_cdecl_callback</strong>(ty, argc, &amp;cbp)  
  <span class='aliases'>Also known as: <span class='names'><span>set_callback</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L58'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


58
59
60</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 58</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_cdecl_callback'>set_cdecl_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_callback_internal'>set_callback_internal</span><span class='lparen'>(</span><span class='const'><a href="#CdeclCallbackProcs-constant" title="DL::CdeclCallbackProcs (constant)">CdeclCallbackProcs</a></span><span class='comma'>,</span> <span class='const'><a href="#CdeclCallbackAddrs-constant" title="DL::CdeclCallbackAddrs (constant)">CdeclCallbackAddrs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_stdcall_callback-instance_method">
  <h3 class='signature'>
  #<strong>set_stdcall_callback</strong>(ty, argc, &amp;cbp)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/ext/dl/lib/dl/callback.rb#L62'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


62
63
64
65
66
67
68</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/dl/lib/dl/callback.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_stdcall_callback'>set_stdcall_callback</span><span class='lparen'>(</span><span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'><a href="" title="DL (module)">DL</a></span><span class='period'>.</span><span class='id identifier rubyid_fiddle?'><a href="#fiddle%3F-class_method" title="DL.fiddle? (method)">fiddle?</a></span>
    <span class='id identifier rubyid_set_callback_internal'>set_callback_internal</span><span class='lparen'>(</span><span class='const'><a href="#StdcallCallbackProcs-constant" title="DL::StdcallCallbackProcs (constant)">StdcallCallbackProcs</a></span><span class='comma'>,</span> <span class='const'><a href="#StdcallCallbackAddrs-constant" title="DL::StdcallCallbackAddrs (constant)">StdcallCallbackAddrs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'>Function</span><span class='op'>::</span><span class='const'>STDCALL</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_set_callback_internal'>set_callback_internal</span><span class='lparen'>(</span><span class='const'><a href="#StdcallCallbackProcs-constant" title="DL::StdcallCallbackProcs (constant)">StdcallCallbackProcs</a></span><span class='comma'>,</span> <span class='const'><a href="#StdcallCallbackAddrs-constant" title="DL::StdcallCallbackAddrs (constant)">StdcallCallbackAddrs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_argc'>argc</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_cbp'>cbp</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>