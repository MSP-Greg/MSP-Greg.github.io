<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::SpecFetcher &mdash; rubygems Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Gem::SpecFetcher",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.1.10</a> &raquo; 
          <a href='../index.html'>rubygems</a> &raquo; 
          <a href='../_index.html'>Index (S)</a> &raquo; 
          <a href="../Gem.html" title="Gem (module)">Gem</a> &raquo; 
          <span class='title'>SpecFetcher</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Gem::SpecFetcher</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>Gem::SpecFetcher</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="Text.html" title="Gem::Text (module)">Text</a>, <a href="UserInteraction.html" title="Gem::UserInteraction (module)">UserInteraction</a>
      </div>
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L10'>lib/rubygems/spec_fetcher.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>SpecFetcher handles metadata updates from remote gem repositories.</p>


  </div>
</div>
<div class="tags">
  
</div>


<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#latest_specs-instance_method" title="#latest_specs (instance method)">#<strong>latest_specs</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Cache of latest specs</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#prerelease_specs-instance_method" title="#prerelease_specs (instance method)">#<strong>prerelease_specs</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Cache of prerelease specs</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sources-instance_method" title="#sources (instance method)">#<strong>sources</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sources for this SpecFetcher</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#specs-instance_method" title="#specs (instance method)">#<strong>specs</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Cache of all released specs</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#fetcher-class_method" title=".fetcher (class method)">.<strong>fetcher</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Default fetcher instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(sources = nil)  &#x21d2; SpecFetcher </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new SpecFetcher.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#available_specs-instance_method" title="#available_specs (instance method)">#<strong>available_specs</strong>(type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a list of gems available for each source in <a href="../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#detect-instance_method" title="#detect (instance method)">#<strong>detect</strong>(type = :complete)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return all gem name tuples who&#39;s names match <code>obj</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#search_for_dependency-instance_method" title="#search_for_dependency (instance method)">#<strong>search_for_dependency</strong>(dependency, matching_platform = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find and fetch gem name tuples that match <code>dependency</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#spec_for_dependency-instance_method" title="#spec_for_dependency (instance method)">#<strong>spec_for_dependency</strong>(dependency, matching_platform = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find and fetch specs that match <code>dependency</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#suggest_gems_from_name-instance_method" title="#suggest_gems_from_name (instance method)">#<strong>suggest_gems_from_name</strong>(gem_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Suggests gems based on the supplied <code>gem_name</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tuples_for-instance_method" title="#tuples_for (instance method)">#<strong>tuples_for</strong>(source, type, gracefully_ignore = false)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieves NameTuples from <code>source</code> of the given
<code>type</code> (:prerelease, etc.).</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Text.html" title="Gem::Text (module)">Text</a></h3>
  <p class="inherited"><a href="Text.html#format_text-instance_method" title="Gem::Text#format_text (method)">#format_text</a>, <a href="Text.html#levenshtein_distance-instance_method" title="Gem::Text#levenshtein_distance (method)">#levenshtein_distance</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="UserInteraction.html" title="Gem::UserInteraction (module)">UserInteraction</a></h3>
  <p class="inherited"><a href="UserInteraction.html#alert-instance_method" title="Gem::UserInteraction#alert (method)">#alert</a>, <a href="UserInteraction.html#alert_error-instance_method" title="Gem::UserInteraction#alert_error (method)">#alert_error</a>, <a href="UserInteraction.html#alert_warning-instance_method" title="Gem::UserInteraction#alert_warning (method)">#alert_warning</a>, <a href="UserInteraction.html#ask-instance_method" title="Gem::UserInteraction#ask (method)">#ask</a>, <a href="UserInteraction.html#ask_for_password-instance_method" title="Gem::UserInteraction#ask_for_password (method)">#ask_for_password</a>, <a href="UserInteraction.html#ask_yes_no-instance_method" title="Gem::UserInteraction#ask_yes_no (method)">#ask_yes_no</a>, <a href="UserInteraction.html#choose_from_list-instance_method" title="Gem::UserInteraction#choose_from_list (method)">#choose_from_list</a>, <a href="UserInteraction.html#say-instance_method" title="Gem::UserInteraction#say (method)">#say</a>, <a href="UserInteraction.html#terminate_interaction-instance_method" title="Gem::UserInteraction#terminate_interaction (method)">#terminate_interaction</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)">DefaultUserInteraction</a></h3>
  <p class="inherited"><a href="DefaultUserInteraction.html#ui-class_method" title="Gem::DefaultUserInteraction.ui (method)">.ui</a>, <a href="DefaultUserInteraction.html#ui-instance_method" title="Gem::DefaultUserInteraction#ui (method)">#ui</a>, <a href="DefaultUserInteraction.html#ui%3D-instance_method" title="Gem::DefaultUserInteraction#ui= (method)">#ui=</a>, <a href="DefaultUserInteraction.html#ui%3D-class_method" title="Gem::DefaultUserInteraction.ui= (method)">.ui=</a>, <a href="DefaultUserInteraction.html#use_ui-class_method" title="Gem::DefaultUserInteraction.use_ui (method)">.use_ui</a>, <a href="DefaultUserInteraction.html#use_ui-instance_method" title="Gem::DefaultUserInteraction#use_ui (method)">#use_ui</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(sources = nil)  &#x21d2; <tt><a href="" title="Gem::SpecFetcher (class)">SpecFetcher</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new SpecFetcher.  Ordinarily you want to use the default fetcher
from <a href="" title="Gem::SpecFetcher (class)">Gem::SpecFetcher</a>::fetcher which uses the <a href="../Gem.html#sources-class_method" title="Gem.sources (method)">Gem.sources</a>.</p>

<p>If you need to retrieve specifications from a different
<code>source</code>, you can send it as an argument.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L56'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_sources'>sources</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@sources</span> <span class='op'>=</span> <span class='id identifier rubyid_sources'>sources</span> <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_sources'><a href="../Gem.html#sources-class_method" title="Gem.sources (method)">sources</a></span>

  <span class='ivar'>@update_cache</span> <span class='op'>=</span>
    <span class='kw'>begin</span>
      <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_stat'>stat</span><span class='lparen'>(</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_user_home'><a href="../Gem.html#user_home-class_method" title="Gem.user_home (method)">user_home</a></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uid'>uid</span> <span class='op'>==</span> <span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_uid'>uid</span>
    <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
      <span class='kw'>false</span>
    <span class='kw'>end</span>

  <span class='ivar'>@specs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@latest_specs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@prerelease_specs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@caches</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:latest</span> <span class='op'>=&gt;</span> <span class='ivar'>@latest_specs</span><span class='comma'>,</span>
    <span class='symbol'>:prerelease</span> <span class='op'>=&gt;</span> <span class='ivar'>@prerelease_specs</span><span class='comma'>,</span>
    <span class='symbol'>:released</span> <span class='op'>=&gt;</span> <span class='ivar'>@specs</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>

  <span class='ivar'>@fetcher</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher.html" title="Gem::RemoteFetcher (class)">RemoteFetcher</a></span><span class='period'>.</span><span class='id identifier rubyid_fetcher'><a href="RemoteFetcher.html#fetcher-class_method" title="Gem::RemoteFetcher.fetcher (method)">fetcher</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="latest_specs-instance_method">
  <h3 class='signature first'>
  #<strong>latest_specs</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Cache of latest specs</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L18'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


18</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:latest_specs</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="prerelease_specs-instance_method">
  <h3 class='signature'>
  #<strong>prerelease_specs</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Cache of prerelease specs</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L33'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


33</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:prerelease_specs</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sources-instance_method">
  <h3 class='signature'>
  #<strong>sources</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sources for this SpecFetcher</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L23'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


23</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 23</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:sources</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="specs-instance_method">
  <h3 class='signature'>
  #<strong>specs</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Cache of all released specs</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L28'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


28</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 28</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:specs</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="fetcher-class_method">
  <h3 class='signature first'>
  .<strong>fetcher</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Default fetcher instance.  Use this instead of <a href="#new-class_method" title="Gem::SpecFetcher.new (method)">new</a> to reduce object
allocation.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L41'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


41
42
43</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 41</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fetcher'>fetcher</span>
  <span class='ivar'>@fetcher</span> <span class='op'>||=</span> <span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="available_specs-instance_method">
  <h3 class='signature first'>
  #<strong>available_specs</strong>(type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a list of gems available for each source in <a href="../Gem.html#sources-class_method" title="Gem.sources (method)">Gem.sources</a>.</p>

<p><code>type</code> can be one of 3 values: :released   =&gt; Return the list
of all released specs :complete   =&gt; Return the list of all specs
:latest     =&gt; Return the list of only the highest version of each gem
:prerelease =&gt; Return the list of all prerelease only specs</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L218'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 218</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_available_specs'>available_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_errors'>errors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='ivar'>@sources</span><span class='period'>.</span><span class='id identifier rubyid_each_source'>each_source</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
              <span class='kw'>when</span> <span class='symbol'>:latest</span>
                <span class='id identifier rubyid_tuples_for'>tuples_for</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:latest</span>
              <span class='kw'>when</span> <span class='symbol'>:released</span>
                <span class='id identifier rubyid_tuples_for'>tuples_for</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:released</span>
              <span class='kw'>when</span> <span class='symbol'>:complete</span>
                <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span>
                  <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:prerelease</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span>
                  <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:released</span><span class='rparen'>)</span>

                <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
              <span class='kw'>when</span> <span class='symbol'>:abs_latest</span>
                <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span>
                  <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:prerelease</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span>
                  <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:latest</span><span class='rparen'>)</span>

                <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
              <span class='kw'>when</span> <span class='symbol'>:prerelease</span>
                <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbol'>:prerelease</span><span class='rparen'>)</span>
              <span class='kw'>else</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Exception.html" title="Gem::Exception (class)">Exception</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown type - :</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher.html" title="Gem::RemoteFetcher (class)">RemoteFetcher</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher/FetchError.html" title="Gem::RemoteFetcher::FetchError (class)">FetchError</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="SourceFetchProblem.html" title="Gem::SourceFetchProblem (class)">SourceFetchProblem</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="SourceFetchProblem.html#new-class_method" title="Gem::SourceFetchProblem.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_list'>list</span><span class='lbracket'>[</span><span class='id identifier rubyid_source'>source</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_names'>names</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="detect-instance_method">
  <h3 class='signature'>
  #<strong>detect</strong>(type = :complete)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return all gem name tuples who&#39;s names match <code>obj</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L144'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


144
145
146
147
148
149
150
151
152
153
154
155
156
157</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 144</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_detect'>detect</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='op'>=</span><span class='symbol'>:complete</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_available_specs'>available_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_specs'>specs</span><span class='op'>|</span>
    <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tup'>tup</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_tup'>tup</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_tup'>tup</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tuples'>tuples</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="search_for_dependency-instance_method">
  <h3 class='signature'>
  #<strong>search_for_dependency</strong>(dependency, matching_platform = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find and fetch gem name tuples that match <code>dependency</code>.</p>

<p>If <code>matching_platform</code> is false, gems for all platforms are
returned.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L85'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_for_dependency'>search_for_dependency</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency'>dependency</span><span class='comma'>,</span> <span class='id identifier rubyid_matching_platform'>matching_platform</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_rejected_specs'>rejected_specs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_prerelease?'>prerelease?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_specific?'>specific?</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:complete</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:abs_latest</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_latest_version?'>latest_version?</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:latest</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:released</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span> <span class='op'>=</span> <span class='id identifier rubyid_available_specs'>available_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_specs'>specs</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:bsearch</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>0</span> <span class='op'>...</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_end_index'>end_index</span>   <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>0</span> <span class='op'>...</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>...</span> <span class='id identifier rubyid_end_index'>end_index</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_end_index'>end_index</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_found'>found</span><span class='lbracket'>[</span><span class='id identifier rubyid_source'>source</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tup'>tup</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='id identifier rubyid_tup'>tup</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_matching_platform'>matching_platform</span> <span class='kw'>and</span> <span class='op'>!</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Platform.html" title="Gem::Platform (class)">Platform</a></span><span class='period'>.</span><span class='id identifier rubyid_match'><a href="Platform.html#match-class_method" title="Gem::Platform.match (method)">match</a></span><span class='lparen'>(</span><span class='id identifier rubyid_tup'>tup</span><span class='period'>.</span><span class='id identifier rubyid_platform'>platform</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pm'>pm</span> <span class='op'>=</span> <span class='lparen'>(</span>
            <span class='id identifier rubyid_rejected_specs'>rejected_specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_dependency'>dependency</span><span class='rbracket'>]</span> <span class='op'>||=</span> \
              <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="PlatformMismatch.html" title="Gem::PlatformMismatch (class)">PlatformMismatch</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="PlatformMismatch.html#new-class_method" title="Gem::PlatformMismatch.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_tup'>tup</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_tup'>tup</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pm'>pm</span><span class='period'>.</span><span class='id identifier rubyid_add_platform'>add_platform</span> <span class='id identifier rubyid_tup'>tup</span><span class='period'>.</span><span class='id identifier rubyid_platform'>platform</span>
          <span class='kw'>false</span>
        <span class='kw'>else</span>
          <span class='kw'>true</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_errors'>errors</span> <span class='op'>+=</span> <span class='id identifier rubyid_rejected_specs'>rejected_specs</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>

  <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_found'>found</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_specs'>specs</span><span class='op'>|</span>
    <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>=</span> <span class='id identifier rubyid_tuples'>tuples</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>

  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_tuples'>tuples</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="spec_for_dependency-instance_method">
  <h3 class='signature'>
  #<strong>spec_for_dependency</strong>(dependency, matching_platform = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find and fetch specs that match <code>dependency</code>.</p>

<p>If <code>matching_platform</code> is false, gems for all platforms are
returned.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L165'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 165</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec_for_dependency'>spec_for_dependency</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency'>dependency</span><span class='comma'>,</span> <span class='id identifier rubyid_matching_platform'>matching_platform</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tuples'>tuples</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span> <span class='op'>=</span> <span class='id identifier rubyid_search_for_dependency'>search_for_dependency</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency'>dependency</span><span class='comma'>,</span> <span class='id identifier rubyid_matching_platform'>matching_platform</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_tuples'>tuples</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tup'>tup</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_fetch_spec'>fetch_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_tup'>tup</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher.html" title="Gem::RemoteFetcher (class)">RemoteFetcher</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher/FetchError.html" title="Gem::RemoteFetcher::FetchError (class)">FetchError</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="SourceFetchProblem.html" title="Gem::SourceFetchProblem (class)">SourceFetchProblem</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="SourceFetchProblem.html#new-class_method" title="Gem::SourceFetchProblem.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_specs'>specs</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="suggest_gems_from_name-instance_method">
  <h3 class='signature'>
  #<strong>suggest_gems_from_name</strong>(gem_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Suggests gems based on the supplied <code>gem_name</code>. Returns an array
of alternative gem names.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L186'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 186</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_suggest_gems_from_name'>suggest_gems_from_name</span> <span class='id identifier rubyid_gem_name'>gem_name</span>
  <span class='id identifier rubyid_gem_name'>gem_name</span>        <span class='op'>=</span> <span class='id identifier rubyid_gem_name'>gem_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_max'>max</span>             <span class='op'>=</span> <span class='id identifier rubyid_gem_name'>gem_name</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>/</span> <span class='int'>2</span>
  <span class='id identifier rubyid_names'>names</span>           <span class='op'>=</span> <span class='id identifier rubyid_available_specs'>available_specs</span><span class='lparen'>(</span><span class='symbol'>:complete</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_match_platform?'>match_platform?</span>

    <span class='id identifier rubyid_distance'>distance</span> <span class='op'>=</span> <span class='id identifier rubyid_levenshtein_distance'>levenshtein_distance</span> <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_distance'>distance</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_max'>max</span>

    <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_distance'>distance</span> <span class='op'>==</span> <span class='int'>0</span>

    <span class='lbracket'>[</span><span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_distance'>distance</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

  <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='id identifier rubyid_matches'>matches</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_dist'>dist</span><span class='op'>|</span> <span class='id identifier rubyid_dist'>dist</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_matches'>matches</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_dist'>dist</span><span class='op'>|</span> <span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tuples_for-instance_method">
  <h3 class='signature'>
  #<strong>tuples_for</strong>(source, type, gracefully_ignore = false)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieves NameTuples from <code>source</code> of the given
<code>type</code> (:prerelease, etc.).  If <code>gracefully_ignore</code>
is true, errors are ignored.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rubygems/spec_fetcher.rb#L260'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


260
261
262
263
264
265
266
267
268
269
270
271
272
273</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/spec_fetcher.rb', line 260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tuples_for'>tuples_for</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_gracefully_ignore'>gracefully_ignore</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_cache'>cache</span> <span class='op'>=</span> <span class='ivar'>@caches</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>=</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_cache'>cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_uri'>uri</span><span class='rbracket'>]</span> <span class='op'>||=</span>
        <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_load_specs'>load_specs</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tup'>tup</span><span class='op'>|</span> <span class='id identifier rubyid_tup'>tup</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
    <span class='kw'>rescue</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher.html" title="Gem::RemoteFetcher (class)">RemoteFetcher</a></span><span class='op'>::</span><span class='const'><a href="RemoteFetcher/FetchError.html" title="Gem::RemoteFetcher::FetchError (class)">FetchError</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_gracefully_ignore'>gracefully_ignore</span>
      <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_tuples'>tuples</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>