<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::RDoc &mdash; rdoc Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "RDoc::RDoc",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.1.10</a> &raquo; 
          <a href='../index.html'>rdoc</a> &raquo; 
          <a href='../_index.html'>Index (R)</a> &raquo; 
          <a href="../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
          <span class='title'>RDoc</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: RDoc::RDoc</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>RDoc::RDoc</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L28'>lib/rdoc/rdoc.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This is the driver for generating RDoc output.  It handles file parsing and
generation of output.</p>

<p>To use this class to generate RDoc output via the API, the recommended way
is:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rdoc'>rdoc</span> <span class='op'>=</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>RDoc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_rdoc'>rdoc</span><span class='period'>.</span><span class='id identifier rubyid_load_options'>load_options</span> <span class='comment'># returns an RDoc::Options instance
</span><span class='comment'># set extra options
</span><span class='id identifier rubyid_rdoc'>rdoc</span><span class='period'>.</span><span class='id identifier rubyid_document'>document</span> <span class='id identifier rubyid_options'>options</span>
</code></pre>

<p>You can also generate output like the <code>rdoc</code> executable:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rdoc'>rdoc</span> <span class='op'>=</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>RDoc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_rdoc'>rdoc</span><span class='period'>.</span><span class='id identifier rubyid_document'>document</span> <span class='id identifier rubyid_argv'>argv</span>
</code></pre>

<p>Where <code>argv</code> is an array of strings, each corresponding to an
argument you&#39;d give rdoc on the command line.  See &lt;tt&gt;rdoc
–help&lt;tt&gt; for details.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='GENERATORS-constant'>
      GENERATORS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>This is the list of supported output generators</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#exclude-instance_method" title="#exclude (instance method)">#<strong>exclude</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>File pattern to exclude</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generator-instance_method" title="#generator (instance method)">#<strong>generator</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generator instance used for creating output</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last_modified-instance_method" title="#last_modified (instance method)">#<strong>last_modified</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of files and their last modified times.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>RDoc options</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stats-instance_method" title="#stats (instance method)">#<strong>stats</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Accessor for statistics.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The current documentation store</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#store%3D-instance_method" title="#store= (instance method)">#<strong>store=</strong>(store)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the current documentation tree to <code>store</code> and sets the
store&#39;s rdoc driver to this instance.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#add_generator-class_method" title=".add_generator (class method)">.<strong>add_generator</strong>(klass)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Add <code>klass</code> that can generate output after parsing</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current-class_method" title=".current (class method)">.<strong>current</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Active <a href="" title="RDoc::RDoc (class)">RDoc</a> instance</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current%3D-class_method" title=".current= (class method)">.<strong>current=</strong>(rdoc)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the active <a href="" title="RDoc::RDoc (class)">RDoc</a> instance</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>  &#x21d2; RDoc </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new <a href="" title="RDoc::RDoc (class)">RDoc</a> instance.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#document-instance_method" title="#document (instance method)">#<strong>document</strong>(options)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates documentation or a coverage report depending upon the settings in
<code>options</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#error-instance_method" title="#error (instance method)">#<strong>error</strong>(msg)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Report an error message and exit</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gather_files-instance_method" title="#gather_files (instance method)">#<strong>gather_files</strong>(files)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Gathers a set of parseable files from the files and directories listed in
<code>files</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate-instance_method" title="#generate (instance method)">#<strong>generate</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates documentation for <code>file_info</code> (from <a href="#parse_files-instance_method" title="RDoc::RDoc#parse_files (method)">#parse_files</a>)
into the output dir using the generator selected by the RDoc options</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#handle_pipe-instance_method" title="#handle_pipe (instance method)">#<strong>handle_pipe</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Turns RDoc from stdin into HTML</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#install_siginfo_handler-instance_method" title="#install_siginfo_handler (instance method)">#<strong>install_siginfo_handler</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Installs a siginfo handler that prints the current filename.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#list_files_in_directory-instance_method" title="#list_files_in_directory (instance method)">#<strong>list_files_in_directory</strong>(dir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return a list of the files to be processed in a directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_options-instance_method" title="#load_options (instance method)">#<strong>load_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads options from rdoc_options if the file exists, otherwise creates a
new <a href="Options.html" title="RDoc::Options (class)">Options</a> instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#normalized_file_list-instance_method" title="#normalized_file_list (instance method)">#<strong>normalized_file_list</strong>(relative_files, force_doc = false, exclude_pattern = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Given a list of files and directories, create a list of all the Ruby files
they contain.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output_flag_file-instance_method" title="#output_flag_file (instance method)">#<strong>output_flag_file</strong>(op_dir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the path name of the flag file in an output directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_dot_doc_file-instance_method" title="#parse_dot_doc_file (instance method)">#<strong>parse_dot_doc_file</strong>(in_dir, filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> file contains a list of file and directory name patterns,
representing candidates for documentation.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_file-instance_method" title="#parse_file (instance method)">#<strong>parse_file</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>filename</code> and returns an <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_files-instance_method" title="#parse_files (instance method)">#<strong>parse_files</strong>(files)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parse each file on the command line, recursively entering directories.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_siginfo_handler-instance_method" title="#remove_siginfo_handler (instance method)">#<strong>remove_siginfo_handler</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes a siginfo handler and replaces the previous</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_unparseable-instance_method" title="#remove_unparseable (instance method)">#<strong>remove_unparseable</strong>(files)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes file extensions known to be unparseable from <code>files</code> and
TAGS files for emacs and vim.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#setup_output_dir-instance_method" title="#setup_output_dir (instance method)">#<strong>setup_output_dir</strong>(dir, force)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Create an output dir if it doesn&#39;t exist.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#update_output_dir-instance_method" title="#update_output_dir (instance method)">#<strong>update_output_dir</strong>(op_dir, time, last = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Update the flag file in an output directory.</p>
</div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>  &#x21d2; <tt><a href="" title="RDoc::RDoc (class)">RDoc</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new <a href="" title="RDoc::RDoc (class)">RDoc::RDoc</a> instance.  Call <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> to parse files and
generate documentation.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L93'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


93
94
95
96
97
98
99
100
101
102</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@current</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@exclude</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@generator</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@last_modified</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@old_siginfo</span>   <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@options</span>       <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@stats</span>         <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@store</span>         <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="exclude-instance_method">
  <h3 class='signature first'>
  #<strong>exclude</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>File pattern to exclude</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L40'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


40</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 40</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:exclude</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generator-instance_method">
  <h3 class='signature'>
  #<strong>generator</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generator instance used for creating output</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L45'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


45</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:generator</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="last_modified-instance_method">
  <h3 class='signature'>
  #<strong>last_modified</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of files and their last modified times.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L50'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


50</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:last_modified</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options-instance_method">
  <h3 class='signature'>
  #<strong>options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>RDoc options</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L55'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


55</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:options</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="stats-instance_method">
  <h3 class='signature'>
  #<strong>stats</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Accessor for statistics.  Available after each call to parse_files</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L60'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


60</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:stats</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="store-instance_method">
  <h3 class='signature'>
  #<strong>store</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The current documentation store</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L65'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


65</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 65</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:store</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="store=-instance_method">
  <h3 class='signature'>
  #<strong>store=</strong>(store)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the current documentation tree to <code>store</code> and sets the
store&#39;s rdoc driver to this instance.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L230'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


230
231
232
233</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 230</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_store='>store=</span> <span class='id identifier rubyid_store'>store</span>
  <span class='ivar'>@store</span> <span class='op'>=</span> <span class='id identifier rubyid_store'>store</span>
  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_rdoc'>rdoc</span> <span class='op'>=</span> <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="add_generator-class_method">
  <h3 class='signature first'>
  .<strong>add_generator</strong>(klass)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add <code>klass</code> that can generate output after parsing</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L70'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


70
71
72
73</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 70</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_add_generator'>add_generator</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^RDoc::Generator::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='const'><a href="#GENERATORS-constant" title="RDoc::RDoc::GENERATORS (constant)">GENERATORS</a></span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="current-class_method">
  <h3 class='signature'>
  .<strong>current</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Active <a href="" title="RDoc::RDoc (class)">RDoc::RDoc</a> instance</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L78'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


78
79
80</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
  <span class='ivar'>@current</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="current=-class_method">
  <h3 class='signature'>
  .<strong>current=</strong>(rdoc)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the active <a href="" title="RDoc::RDoc (class)">RDoc::RDoc</a> instance</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L85'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


85
86
87</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current='>current=</span> <span class='id identifier rubyid_rdoc'>rdoc</span>
  <span class='ivar'>@current</span> <span class='op'>=</span> <span class='id identifier rubyid_rdoc'>rdoc</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="document-instance_method">
  <h3 class='signature first'>
  #<strong>document</strong>(options)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates documentation or a coverage report depending upon the settings in
<code>options</code>.</p>

<p><code>options</code> can be either an <a href="Options.html" title="RDoc::Options (class)">Options</a> instance or an array
of strings equivalent to the strings that would be passed on the command
line like <code>%w[-q -o doc -t My\ Doc\ Title]</code>.  <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> will
automatically call <a href="Options.html#finish-instance_method" title="RDoc::Options#finish (method)">Options#finish</a> if an options instance was given.</p>

<p>For a list of options, see either <a href="Options.html" title="RDoc::Options (class)">Options</a> or <code>rdoc
--help</code>.</p>

<p>By default, output will be stored in a directory called “doc” below the
current directory, so make sure you&#39;re somewhere writable before
invoking.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L456'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 456</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_document'>document</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Store</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>if</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Options</span> <span class='op'>===</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>then</span>
    <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
    <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
  <span class='kw'>else</span>
    <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_load_options'>load_options</span>
    <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_pipe'>pipe</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_handle_pipe'>handle_pipe</span>
    <span class='id identifier rubyid_exit'>exit</span>
  <span class='kw'>end</span>

  <span class='ivar'>@exclude</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_exclude'>exclude</span>

  <span class='kw'>unless</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_coverage_report'>coverage_report</span> <span class='kw'>then</span>
    <span class='ivar'>@last_modified</span> <span class='op'>=</span> <span class='id identifier rubyid_setup_output_dir'>setup_output_dir</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_op_dir'>op_dir</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_force_update'>force_update</span>
  <span class='kw'>end</span>

  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:encoding</span>
  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span>  <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span>
  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_main'>main</span>     <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_main_page'>main_page</span>
  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>    <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>     <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_op_dir'>op_dir</span>

  <span class='ivar'>@start_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>

  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_load_cache'>load_cache</span>

  <span class='id identifier rubyid_file_info'>file_info</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_files'>parse_files</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span>

  <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_default_title'>default_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RDoc Documentation</span><span class='tstring_end'>&quot;</span></span>

  <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_complete'>complete</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_visibility'>visibility</span>

  <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_coverage_level'>coverage_level</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_coverage_report'>coverage_report</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_coverage_report'>coverage_report</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_puts'>puts</span>

    <span class='id identifier rubyid_puts'>puts</span> <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_report'>report</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>ToRdoc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_file_info'>file_info</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nNo newer files.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_quiet'>quiet</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_gen_klass'>gen_klass</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_generator'>generator</span>

    <span class='ivar'>@generator</span> <span class='op'>=</span> <span class='id identifier rubyid_gen_klass'>gen_klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='ivar'>@store</span><span class='comma'>,</span> <span class='ivar'>@options</span>

    <span class='id identifier rubyid_generate'>generate</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@stats</span> <span class='kw'>and</span> <span class='lparen'>(</span><span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_coverage_report'>coverage_report</span> <span class='kw'>or</span> <span class='kw'>not</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_quiet'>quiet</span><span class='rparen'>)</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_puts'>puts</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_summary'>summary</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>ToRdoc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_exit'>exit</span> <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_fully_documented?'>fully_documented?</span> <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_coverage_report'>coverage_report</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="error-instance_method">
  <h3 class='signature'>
  #<strong>error</strong>(msg)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Report an error message and exit</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="Error.html" title="RDoc::Error (class)">RDoc::Error</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L107'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


107
108
109</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 107</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gather_files-instance_method">
  <h3 class='signature'>
  #<strong>gather_files</strong>(files)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Gathers a set of parseable files from the files and directories listed in
<code>files</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L115'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


115
116
117
118
119
120
121
122
123
124
125</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gather_files'>gather_files</span> <span class='id identifier rubyid_files'>files</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='id identifier rubyid_normalized_file_list'>normalized_file_list</span> <span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='ivar'>@exclude</span>

  <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>

  <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='id identifier rubyid_remove_unparseable'>remove_unparseable</span> <span class='id identifier rubyid_file_list'>file_list</span>

  <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate-instance_method">
  <h3 class='signature'>
  #<strong>generate</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates documentation for <code>file_info</code> (from <a href="#parse_files-instance_method" title="RDoc::RDoc#parse_files (method)">#parse_files</a>)
into the output dir using the generator selected by the RDoc options</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L523'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


523
524
525
526
527
528
529
530
531
532</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 523</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_op_dir'>op_dir</span> <span class='kw'>do</span>
    <span class='kw'>unless</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_quiet'>quiet</span> <span class='kw'>then</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nGenerating </span><span class='embexpr_beg'>#{</span><span class='ivar'>@generator</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> format into </span><span class='embexpr_beg'>#{</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='embexpr_end'>}</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@generator</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span>
    <span class='id identifier rubyid_update_output_dir'>update_output_dir</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@start_time</span><span class='comma'>,</span> <span class='ivar'>@last_modified</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="handle_pipe-instance_method">
  <h3 class='signature'>
  #<strong>handle_pipe</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Turns RDoc from stdin into HTML</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L130'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


130
131
132
133
134
135
136
137
138
139
140</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_pipe'>handle_pipe</span>
  <span class='ivar'>@html</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>ToHtml</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='ivar'>@options</span>

  <span class='id identifier rubyid_parser'>parser</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Text</span><span class='op'>::</span><span class='const'>MARKUP_FORMAT</span><span class='lbracket'>[</span><span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_markup'>markup</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>

  <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='ivar'>@html</span><span class='period'>.</span><span class='id identifier rubyid_convert'>convert</span> <span class='id identifier rubyid_document'>document</span>

  <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_out'>out</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="install_siginfo_handler-instance_method">
  <h3 class='signature'>
  #<strong>install_siginfo_handler</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Installs a siginfo handler that prints the current filename.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L145'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


145
146
147
148
149
150
151</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 145</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_install_siginfo_handler'>install_siginfo_handler</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INFO</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@old_siginfo</span> <span class='op'>=</span> <span class='id identifier rubyid_trap'>trap</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INFO</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='ivar'>@current</span> <span class='kw'>if</span> <span class='ivar'>@current</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="list_files_in_directory-instance_method">
  <h3 class='signature'>
  #<strong>list_files_in_directory</strong>(dir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return a list of the files to be processed in a directory. We know that
this directory doesn&#39;t have a <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> file, so we&#39;re looking
for real files. However we may well contain subdirectories which must be
tested for <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> files.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L329'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


329
330
331
332
333</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 329</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_list_files_in_directory'>list_files_in_directory</span> <span class='id identifier rubyid_dir'>dir</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_normalized_file_list'>normalized_file_list</span> <span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_exclude'>exclude</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_options-instance_method">
  <h3 class='signature'>
  #<strong>load_options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads options from rdoc_options if the file exists, otherwise creates a
new <a href="Options.html" title="RDoc::Options (class)">Options</a> instance.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="Error.html" title="RDoc::Error (class)">RDoc::Error</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L157'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 157</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_options'>load_options</span>
  <span class='id identifier rubyid_options_file'>options_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.rdoc_options</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Options</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_options_file'>options_file</span>

  <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='period'>.</span><span class='id identifier rubyid_load_yaml'><a href="../RDoc.html#load_yaml-class_method" title="RDoc.load_yaml (method)">load_yaml</a></span>

  <span class='id identifier rubyid_parse_error'>parse_error</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span> <span class='symbol'>:Psych</span> <span class='kw'>then</span>
                  <span class='const'>Psych</span><span class='op'>::</span><span class='const'>SyntaxError</span>
                <span class='kw'>else</span>
                  <span class='const'>ArgumentError</span>
                <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>YAML</span><span class='period'>.</span><span class='id identifier rubyid_load_file'>load_file</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.rdoc_options</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>rescue</span> <span class='op'>*</span><span class='id identifier rubyid_parse_error'>parse_error</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options_file'>options_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a valid rdoc options file</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span>
    <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Options</span> <span class='op'>===</span> <span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="normalized_file_list-instance_method">
  <h3 class='signature'>
  #<strong>normalized_file_list</strong>(relative_files, force_doc = false, exclude_pattern = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Given a list of files and directories, create a list of all the Ruby files
they contain.</p>

<p>If <code>force_doc</code> is true we always add the given files, if false,
only add files that we guarantee we can parse.  It is true when looking at
files given on the command line, false when recursing through
subdirectories.</p>

<p>The effect of this is that if you want a file with a non-standard extension
parsed, you must name it explicitly.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L287'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_normalized_file_list'>normalized_file_list</span><span class='lparen'>(</span><span class='id identifier rubyid_relative_files'>relative_files</span><span class='comma'>,</span> <span class='id identifier rubyid_force_doc'>force_doc</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span>
                         <span class='id identifier rubyid_exclude_pattern'>exclude_pattern</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_relative_files'>relative_files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>created.rid</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_exclude_pattern'>exclude_pattern</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_exclude_pattern'>exclude_pattern</span> <span class='op'>=~</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span>
    <span class='id identifier rubyid_stat'>stat</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_stat'>stat</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span> <span class='kw'>rescue</span> <span class='kw'>next</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_stat'>stat</span><span class='period'>.</span><span class='id identifier rubyid_ftype'>ftype</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_last_modified'>last_modified</span> <span class='op'>=</span> <span class='ivar'>@last_modified</span><span class='lbracket'>[</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='rbracket'>]</span> <span class='kw'>and</span>
              <span class='id identifier rubyid_stat'>stat</span><span class='period'>.</span><span class='id identifier rubyid_mtime'>mtime</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_last_modified'>last_modified</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_force_doc'>force_doc</span> <span class='kw'>or</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_can_parse'>can_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='rparen'>)</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\.\/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='ivar'>@last_modified</span><span class='lbracket'>[</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_stat'>stat</span><span class='period'>.</span><span class='id identifier rubyid_mtime'>mtime</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>directory</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CVS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.svn</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_dot_doc'>dot_doc</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='comma'>,</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>DOT_DOC_FILENAME</span>

      <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='id identifier rubyid_dot_doc'>dot_doc</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_parse_dot_doc_file'>parse_dot_doc_file</span><span class='lparen'>(</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_dot_doc'>dot_doc</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_list_files_in_directory'>list_files_in_directory</span><span class='lparen'>(</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rdoc can&#39;t parse the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_file_name'>rel_file_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output_flag_file-instance_method">
  <h3 class='signature'>
  #<strong>output_flag_file</strong>(op_dir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the path name of the flag file in an output directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L252'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


252
253
254</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 252</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_output_flag_file'>output_flag_file</span><span class='lparen'>(</span><span class='id identifier rubyid_op_dir'>op_dir</span><span class='rparen'>)</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_op_dir'>op_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created.rid</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_dot_doc_file-instance_method">
  <h3 class='signature'>
  #<strong>parse_dot_doc_file</strong>(in_dir, filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The <a href="#document-instance_method" title="RDoc::RDoc#document (method)">#document</a> file contains a list of file and directory name patterns,
representing candidates for documentation. It may also contain comments
(starting with &#39;#&#39;)</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L261'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


261
262
263
264
265
266
267
268
269
270
271
272
273</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_dot_doc_file'>parse_dot_doc_file</span> <span class='id identifier rubyid_in_dir'>in_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='comment'># read and strip comments
</span>  <span class='id identifier rubyid_patterns'>patterns</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_patterns'>patterns</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_patt'>patt</span><span class='op'>|</span>
    <span class='id identifier rubyid_candidates'>candidates</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_in_dir'>in_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_patt'>patt</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_normalized_file_list'>normalized_file_list</span><span class='lparen'>(</span><span class='id identifier rubyid_candidates'>candidates</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_file-instance_method">
  <h3 class='signature'>
  #<strong>parse_file</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>filename</code> and returns an <a href="TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L338'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 338</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_file'>parse_file</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'><a href="Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span><span class='rparen'>)</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span>
    <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span> <span class='id identifier rubyid_encoding'>encoding</span>
  <span class='kw'>end</span>

  <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_add_file'>add_file</span> <span class='id identifier rubyid_filename'>filename</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_binary?'>binary?</span> <span class='id identifier rubyid_filename'>filename</span>

  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Encoding</span><span class='period'>.</span><span class='id identifier rubyid_read_file'>read_file</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_content'>content</span>

  <span class='id identifier rubyid_filename_path'>filename_path</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span>
  <span class='id identifier rubyid_relative_path'>relative_path</span> <span class='op'>=</span> <span class='id identifier rubyid_filename_path'>filename_path</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>

  <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_page_dir'>page_dir</span> <span class='kw'>and</span>
     <span class='id identifier rubyid_relative_path'>relative_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_page_dir'>page_dir</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_relative_path'>relative_path</span> <span class='op'>=</span>
      <span class='id identifier rubyid_relative_path'>relative_path</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_page_dir'>page_dir</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_top_level'>top_level</span> <span class='op'>=</span> <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_add_file'>add_file</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_relative_path'>relative_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='id identifier rubyid_parser'>parser</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span> <span class='id identifier rubyid_top_level'>top_level</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='comma'>,</span> <span class='ivar'>@stats</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_parser'>parser</span>

  <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span>

  <span class='comment'># restart documentation for the classes &amp; modules found
</span>  <span class='id identifier rubyid_top_level'>top_level</span><span class='period'>.</span><span class='id identifier rubyid_classes_or_modules'>classes_or_modules</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cm'>cm</span><span class='op'>|</span>
    <span class='id identifier rubyid_cm'>cm</span><span class='period'>.</span><span class='id identifier rubyid_done_documenting'>done_documenting</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_top_level'>top_level</span>

<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>Unable to read </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>

Please check the permissions for this file.  Perhaps you do not have access to
it or perhaps the original author&#39;s permissions are to restrictive.  If the
this is not your library please report a bug to the author.
</span><span class='heredoc_end'>  EOF
</span><span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>Before reporting this, could you check that the file you&#39;re documenting
has proper syntax:

</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_ruby'>ruby</span><span class='embexpr_end'>}</span><span class='tstring_content'> -c </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>

RDoc is not a full Ruby parser and will fail when fed invalid ruby programs.

The internal error was:

\t(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>) </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>

</span><span class='heredoc_end'>  EOF
</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='gvar'>$DEBUG_RDOC</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_files-instance_method">
  <h3 class='signature'>
  #<strong>parse_files</strong>(files)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse each file on the command line, recursively entering directories.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L408'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_files'>parse_files</span> <span class='id identifier rubyid_files'>files</span>
  <span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='id identifier rubyid_gather_files'>gather_files</span> <span class='id identifier rubyid_files'>files</span>
  <span class='ivar'>@stats</span> <span class='op'>=</span> <span class='const'><a href="" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Stats</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='ivar'>@store</span><span class='comma'>,</span> <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_verbosity'>verbosity</span>

  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_file_info'>file_info</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_begin_adding'>begin_adding</span>

  <span class='id identifier rubyid_file_info'>file_info</span> <span class='op'>=</span> <span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filename'>filename</span><span class='op'>|</span>
    <span class='ivar'>@current</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span>
    <span class='id identifier rubyid_parse_file'>parse_file</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

  <span class='ivar'>@stats</span><span class='period'>.</span><span class='id identifier rubyid_done_adding'>done_adding</span>

  <span class='id identifier rubyid_file_info'>file_info</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_siginfo_handler-instance_method">
  <h3 class='signature'>
  #<strong>remove_siginfo_handler</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes a siginfo handler and replaces the previous</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L537'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


537
538
539
540
541
542
543</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 537</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_siginfo_handler'>remove_siginfo_handler</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INFO</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_handler'>handler</span> <span class='op'>=</span> <span class='ivar'>@old_siginfo</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DEFAULT</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_trap'>trap</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INFO</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_handler'>handler</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_unparseable-instance_method">
  <h3 class='signature'>
  #<strong>remove_unparseable</strong>(files)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes file extensions known to be unparseable from <code>files</code> and
TAGS files for emacs and vim.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L432'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


432
433
434
435
436
437
438
439
440</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 432</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_unparseable'>remove_unparseable</span> <span class='id identifier rubyid_files'>files</span>
  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.(?:class|eps|erb|scpt\.txt|ttf|yml)$</span><span class='regexp_end'>/i</span></span> <span class='kw'>or</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tags$</span><span class='regexp_end'>/i</span></span> <span class='kw'>and</span>
       <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
         <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(\f\n[^,],\d$|!_TAG_)</span><span class='regexp_end'>/</span></span>
       <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="setup_output_dir-instance_method">
  <h3 class='signature'>
  #<strong>setup_output_dir</strong>(dir, force)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create an output dir if it doesn&#39;t exist. If it does exist, but
doesn&#39;t contain the flag file <code>created.rid</code> then we refuse
to use it, as we may clobber some manually generated documentation</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L185'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 185</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_output_dir'>setup_output_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_force'>force</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_flag_file'>flag_file</span> <span class='op'>=</span> <span class='id identifier rubyid_output_flag_file'>output_flag_file</span> <span class='id identifier rubyid_dir'>dir</span>

  <span class='id identifier rubyid_last'>last</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span> <span class='kw'>then</span>
    <span class='comment'># do nothing
</span>  <span class='kw'>elsif</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_dir'>dir</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_error'>error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> exists and is not a directory</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span> <span class='id identifier rubyid_dir'>dir</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_flag_file'>flag_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
        <span class='kw'>unless</span> <span class='id identifier rubyid_force'>force</span> <span class='kw'>then</span>
          <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>

          <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
            <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>
            <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>next</span>
            <span class='id identifier rubyid_last'>last</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>SystemCallError</span><span class='comma'>,</span> <span class='const'>TypeError</span>
      <span class='id identifier rubyid_error'>error</span> <span class='heredoc_beg'>&lt;&lt;-ERROR</span>
<span class='tstring_content'>
Directory </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> already exists, but it looks like it isn&#39;t an RDoc directory.

Because RDoc doesn&#39;t want to risk destroying any of your existing files,
you&#39;ll need to specify a different output directory name (using the --op &lt;dir&gt;
option)

</span><span class='heredoc_end'>      ERROR
</span>    <span class='kw'>end</span> <span class='kw'>unless</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_force_output'>force_output</span>
  <span class='kw'>else</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_dir'>dir</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_touch'>touch</span> <span class='id identifier rubyid_flag_file'>flag_file</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_last'>last</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="update_output_dir-instance_method">
  <h3 class='signature'>
  #<strong>update_output_dir</strong>(op_dir, time, last = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Update the flag file in an output directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/rdoc/rdoc.rb#L238'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


238
239
240
241
242
243
244
245
246
247</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rdoc.rb', line 238</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_update_output_dir'>update_output_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_op_dir'>op_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_last'>last</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span> <span class='kw'>or</span> <span class='kw'>not</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_update_output_dir'>update_output_dir</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_output_flag_file'>output_flag_file</span><span class='lparen'>(</span><span class='id identifier rubyid_op_dir'>op_dir</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_rfc2822'>rfc2822</span>
    <span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='embexpr_end'>}</span><span class='tstring_content'>\t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_rfc2822'>rfc2822</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>