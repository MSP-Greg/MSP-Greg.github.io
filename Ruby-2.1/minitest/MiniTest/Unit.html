<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: MiniTest::Unit &mdash; minitest Ruby-2.1.10 p492</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "MiniTest::Unit",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.1.10</a> &raquo; 
          <a href='../index.html'>minitest</a> &raquo; 
          <a href='../_index.html'>Index (U)</a> &raquo; 
          <a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a> &raquo; 
          <span class='title'>Unit</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: MiniTest::Unit</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="../Object.html" title="Object (class)">Object</a></li>
        <li class='next'>MiniTest::Unit</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <div class='box_max'>
        <a href="Unit/Guard.html" title="MiniTest::Unit::Guard (module)">Guard</a>,
    <a href="Unit/LifecycleHooks.html" title="MiniTest::Unit::LifecycleHooks (module)">LifecycleHooks</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="Unit/TestCase.html" title="MiniTest::Unit::TestCase (class)">TestCase</a>
      </div>
    </td>
  </tr>




  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/benchmark.rb#L11'>lib/minitest/benchmark.rb</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/parallel_each.rb#L66'>lib/minitest/parallel_each.rb</a>,<br/> <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L740'>lib/minitest/unit.rb</a></span>
</div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='after_tests-classvariable'>
      @@after_tests =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='out-classvariable'>
      @@out =
    </dt>
    <dd>
            <pre class='code'><span class='gvar'>$stdout</span></pre>
    </dd>
    <dt id='VERSION-constant'>
      VERSION =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4.7.5</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#errors-instance_method" title="#errors (instance method)">#<strong>errors</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#failures-instance_method" title="#failures (instance method)">#<strong>failures</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#info_signal-instance_method" title="#info_signal (instance method)">#<strong>info_signal</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:attr:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lazy accessor for options.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#skips-instance_method" title="#skips (instance method)">#<strong>skips</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#after_tests-class_method" title=".after_tests (class method)">.<strong>after_tests</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A simple hook allowing you to run a block of code after <em>all</em> of the
tests are done.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#autorun-class_method" title=".autorun (class method)">.<strong>autorun</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers <a href="" title="MiniTest::Unit (class)">Unit</a> to run tests at process exit</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output-class_method" title=".output (class method)">.<strong>output</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the stream to use for output.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output%3D-class_method" title=".output= (class method)">.<strong>output=</strong>(stream)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets <a href="" title="MiniTest::Unit (class)">Unit</a> to write output to <code>stream</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#plugins-class_method" title=".plugins (class method)">.<strong>plugins</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return all plugins&#39; run methods (methods that start with “run_”).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#runner-class_method" title=".runner (class method)">.<strong>runner</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <a href="" title="MiniTest::Unit (class)">Unit</a> subclass instance that will be used to run the
tests.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#runner%3D-class_method" title=".runner= (class method)">.<strong>runner=</strong>(runner)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tells <a href="" title="MiniTest::Unit (class)">Unit</a> to delegate to <code>runner</code>, an instance of a
<a href="" title="MiniTest::Unit (class)">Unit</a> subclass, when <a href="#run-instance_method" title="MiniTest::Unit#run (method)">#run</a> is called.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_old_run_suites-instance_method" title="#_old_run_suites (instance method)">#<strong>_old_run_suites</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run-instance_method" title="#_run (instance method)">#<strong>_run</strong>(args = [])  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Top level driver, controls all output and filtering.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_anything-instance_method" title="#_run_anything (instance method)">#<strong>_run_anything</strong>(type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runner for a given <code>type</code> (eg, test vs bench).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_suite-instance_method" title="#_run_suite (instance method)">#<strong>_run_suite</strong>(suite, type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Run a single <code>suite</code> for a given <code>type</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_suites-instance_method" title="#_run_suites (instance method)">#<strong>_run_suites</strong>(suites, type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runs all the <code>suites</code> for a given <code>type</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output-instance_method" title="#output (instance method)">#<strong>output</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the IO for output.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#puke-instance_method" title="#puke (instance method)">#<strong>puke</strong>(klass, meth, e)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes status for failed test <code>meth</code> in <code>klass</code> which
finished with exception <code>e</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#record-instance_method" title="#record (instance method)">#<strong>record</strong>(suite, method, assertions, time, error)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Record the result of a single test.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>(args = [])  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Begins the full test run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run_tests-instance_method" title="#run_tests (instance method)">#<strong>run_tests</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runs test suites matching <code>filter</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#status-instance_method" title="#status (instance method)">#<strong>status</strong>(io = self.output)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes status to <code>io</code></p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="errors-instance_method">
  <h3 class='signature first'>
  #<strong>errors</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L743'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


743</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 743</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="failures-instance_method">
  <h3 class='signature'>
  #<strong>failures</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L743'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


743</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 743</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="info_signal-instance_method">
  <h3 class='signature'>
  #<strong>info_signal</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:attr:</p>

<p>if true, installs an “INFO” signal handler (only available to BSD and OS X
users) which prints diagnostic information about the test run.</p>

<p>This is auto-detected by default but may be overridden by custom runners.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L760'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


760</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 760</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:info_signal</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options-instance_method">
  <h3 class='signature'>
  #<strong>options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lazy accessor for options.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L765'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


765
766
767</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 765</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="skips-instance_method">
  <h3 class='signature'>
  #<strong>skips</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L743'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


743</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 743</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="after_tests-class_method">
  <h3 class='signature first'>
  .<strong>after_tests</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A simple hook allowing you to run a block of code after <em>all</em> of the
tests are done. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_after_tests'>after_tests</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$debugging_info</span> <span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L779'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


779
780
781</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 779</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_after_tests'>after_tests</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='cvar'>@@after_tests</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="autorun-class_method">
  <h3 class='signature'>
  .<strong>autorun</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to run tests at process exit</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L786'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 786</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_autorun'>autorun</span>
  <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span>
    <span class='comment'># don&#39;t run if there was a non-exit exception
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='gvar'>$!</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>SystemExit</span>

    <span class='comment'># the order here is important. The at_exit handler must be
</span>    <span class='comment'># installed before anyone else gets a chance to install their
</span>    <span class='comment'># own, that way we can be assured that our exit will be last
</span>    <span class='comment'># to run (at_exit stacks).
</span>    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span>
      <span class='cvar'>@@after_tests</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:call</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='rbrace'>}</span>

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="MiniTest::Unit.new (method)">new</a></span><span class='period'>.</span><span class='id identifier rubyid_run'><a href="#run-instance_method" title="MiniTest::Unit#run (method)">run</a></span> <span class='const'>ARGV</span>
  <span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='cvar'>@@installed_at_exit</span>
  <span class='cvar'>@@installed_at_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output-class_method">
  <h3 class='signature'>
  .<strong>output</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the stream to use for output.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L810'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


810
811
812</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 810</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='cvar'>@@out</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output=-class_method">
  <h3 class='signature'>
  .<strong>output=</strong>(stream)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to write output to <code>stream</code>.  $stdout is
the default output</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L818'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


818
819
820</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 818</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output='>output=</span> <span class='id identifier rubyid_stream'>stream</span>
  <span class='cvar'>@@out</span> <span class='op'>=</span> <span class='id identifier rubyid_stream'>stream</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="plugins-class_method">
  <h3 class='signature'>
  .<strong>plugins</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return all plugins&#39; run methods (methods that start with “run_”).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L842'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


842
843
844
845
846</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 842</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_plugins'>plugins</span>
  <span class='cvar'>@@plugins</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>run_tests</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>+</span>
                 <span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span>
                 <span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^run_</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="runner-class_method">
  <h3 class='signature'>
  .<strong>runner</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> subclass instance that will be used to run the
tests. A <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> instance is the default runner.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L835'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


835
836
837</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 835</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_runner'>runner</span>
  <span class='cvar'>@@runner</span> <span class='op'>||=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="runner=-class_method">
  <h3 class='signature'>
  .<strong>runner=</strong>(runner)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tells <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to delegate to <code>runner</code>, an instance of a
<a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> subclass, when <a href="#run-instance_method" title="MiniTest::Unit#run (method)">#run</a> is called.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L826'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


826
827
828</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 826</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_runner='>runner=</span> <span class='id identifier rubyid_runner'>runner</span>
  <span class='cvar'>@@runner</span> <span class='op'>=</span> <span class='id identifier rubyid_runner'>runner</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_old_run_suites-instance_method">
  <h3 class='signature first'>
  #<strong>_old_run_suites</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/parallel_each.rb#L67'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


67</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/parallel_each.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid__old_run_suites'>_old_run_suites</span> <span class='id identifier rubyid__run_suites'>_run_suites</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run-instance_method">
  <h3 class='signature'>
  #<strong>_run</strong>(args = [])  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Top level driver, controls all output and filtering.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L1072'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 1072</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__run'>_run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_process_args'>process_args</span> <span class='id identifier rubyid_args'>args</span> <span class='comment'># ARGH!! blame test/unit process_args
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run options: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_help'>help</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_plugins'>plugins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_plugin'>plugin</span><span class='op'>|</span>
    <span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_plugin'>plugin</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_report'>report</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_failures'>failures</span> <span class='op'>+</span> <span class='id identifier rubyid_errors'>errors</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_test_count'>test_count</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='comment'># or return nil...
</span><span class='kw'>rescue</span> <span class='const'>Interrupt</span>
  <span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Interrupted</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_anything-instance_method">
  <h3 class='signature'>
  #<strong>_run_anything</strong>(type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runner for a given <code>type</code> (eg, test vs bench).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L870'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 870</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__run_anything'>_run_anything</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_suites'>suites</span> <span class='op'>=</span> <span class='const'><a href="Unit/TestCase.html" title="MiniTest::Unit::TestCase (class)">TestCase</a></span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_suites</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_suites'>suites</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>

  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># Running </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>s:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span>

  <span class='ivar'>@test_count</span><span class='comma'>,</span> <span class='ivar'>@assertion_count</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:sync=</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># stupid emacs
</span>  <span class='id identifier rubyid_old_sync'>old_sync</span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_sync'>sync</span>

  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid__run_suites'>_run_suites</span> <span class='id identifier rubyid_suites'>suites</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>

  <span class='ivar'>@test_count</span>      <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_tc'>tc</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_tc'>tc</span> <span class='rbrace'>}</span>
  <span class='ivar'>@assertion_count</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_ac'>ac</span><span class='rparen'>)</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_ac'>ac</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_old_sync'>old_sync</span> <span class='kw'>if</span> <span class='id identifier rubyid_sync'>sync</span>

  <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_start'>start</span>

  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finished </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>s in %.6fs, %.4f tests/s, %.4f assertions/s.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_test_count'>test_count</span> <span class='op'>/</span> <span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_assertion_count'>assertion_count</span> <span class='op'>/</span> <span class='id identifier rubyid_t'>t</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_report'>report</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n%3d) %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span>

  <span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_suite-instance_method">
  <h3 class='signature'>
  #<strong>_run_suite</strong>(suite, type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Run a single <code>suite</code> for a given <code>type</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L920'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 920</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_suite_header</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_suite'>suite</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='id identifier rubyid_header'>header</span>

  <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:filter</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/./</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/(.*)\/</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_all_test_methods'>all_test_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_suite'>suite</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_methods</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_filtered_test_methods'>filtered_test_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_all_test_methods'>all_test_methods</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='id identifier rubyid_filter'>filter</span> <span class='op'>===</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>||</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>===</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suite'>suite</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_assertions'>assertions</span> <span class='op'>=</span> <span class='id identifier rubyid_filtered_test_methods'>filtered_test_methods</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='id identifier rubyid_inst'>inst</span> <span class='op'>=</span> <span class='id identifier rubyid_suite'>suite</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_method'>method</span>
    <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid__assertions'>_assertions</span> <span class='op'>=</span> <span class='int'>0</span>

    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suite'>suite</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>

    <span class='id identifier rubyid_start_time'>start_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span> <span class='kw'>self</span>

    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.2f s = </span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_start_time'>start_time</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>
    <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_result'>result</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>

    <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid__assertions'>_assertions</span>
  <span class='rbrace'>}</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_n'>n</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_suites-instance_method">
  <h3 class='signature'>
  #<strong>_run_suites</strong>(suites, type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runs all the <code>suites</code> for a given <code>type</code>. Runs suites
declaring a test_order of <code>:parallel</code> in parallel, and
everything else serial.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/parallel_each.rb#L74'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


74
75
76
77
78
79</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/parallel_each.rb', line 74</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__run_suites'>_run_suites</span> <span class='id identifier rubyid_suites'>suites</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_parallel'>parallel</span><span class='comma'>,</span> <span class='id identifier rubyid_serial'>serial</span> <span class='op'>=</span> <span class='id identifier rubyid_suites'>suites</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_test_order'>test_order</span> <span class='op'>==</span> <span class='symbol'>:parallel</span> <span class='rbrace'>}</span>

  <span class='const'><a href="../ParallelEach.html" title="ParallelEach (class)">ParallelEach</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../ParallelEach.html#new-class_method" title="ParallelEach.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_parallel'>parallel</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rbrace'>}</span> <span class='op'>+</span>
   <span class='id identifier rubyid_serial'>serial</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output-instance_method">
  <h3 class='signature'>
  #<strong>output</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the IO for output.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L851'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


851
852
853</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 851</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="puke-instance_method">
  <h3 class='signature'>
  #<strong>puke</strong>(klass, meth, e)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes status for failed test <code>meth</code> in <code>klass</code> which
finished with exception <code>e</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L985'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 985</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_puke'>puke</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>when</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="Skip.html" title="MiniTest::Skip (class)">Skip</a></span> <span class='kw'>then</span>
        <span class='ivar'>@skips</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@verbose</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipped:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span> <span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>]:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="Assertion.html" title="MiniTest::Assertion (class)">Assertion</a></span> <span class='kw'>then</span>
        <span class='ivar'>@failures</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failure:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span> <span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>]:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='ivar'>@errors</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_bt'>bt</span> <span class='op'>=</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='id identifier rubyid_filter_backtrace'><a href="../MiniTest.html#filter_backtrace-class_method" title="MiniTest.filter_backtrace (method)">filter_backtrace</a></span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n    </span><span class='tstring_end'>&quot;</span></span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bt'>bt</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
  <span class='ivar'>@report</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_e'>e</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="record-instance_method">
  <h3 class='signature'>
  #<strong>record</strong>(suite, method, assertions, time, error)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Record the result of a single test. Makes it very easy to gather
information. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>StatisticsRecorder</span> <span class='op'>&lt;</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_record'>record</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># ... record the results somewhere ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_runner'><a href="#runner-class_method" title="MiniTest::Unit.runner (method)">runner</a></span> <span class='op'>=</span> <span class='const'>StatisticsRecorder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
</code></pre>

<p>NOTE: record might be sent more than once per test.  It will be sent once
with the results from the test itself.  If there is a failure or error in
teardown, it will be sent again with the error or failure.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L969'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


969
970</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 969</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_record'>record</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="run-instance_method">
  <h3 class='signature'>
  #<strong>run</strong>(args = [])  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Begins the full test run. Delegates to <code>runner</code>&#39;s <a href="#_run-instance_method" title="MiniTest::Unit#_run (method)">#_run</a>
method.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L1065'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1065
1066
1067</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 1065</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid__run'>_run</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="run_tests-instance_method">
  <h3 class='signature'>
  #<strong>run_tests</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runs test suites matching <code>filter</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L1091'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1091
1092
1093</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 1091</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_tests'>run_tests</span>
  <span class='id identifier rubyid__run_anything'>_run_anything</span> <span class='symbol'>:test</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="status-instance_method">
  <h3 class='signature'>
  #<strong>status</strong>(io = self.output)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes status to <code>io</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_1/lib/minitest/unit.rb#L1098'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1098
1099
1100
1101</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/unit.rb', line 1098</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_status'>status</span> <span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d tests, %d assertions, %d failures, %d errors, %d skips</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_test_count'>test_count</span><span class='comma'>,</span> <span class='id identifier rubyid_assertion_count'>assertion_count</span><span class='comma'>,</span> <span class='id identifier rubyid_failures'>failures</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='id identifier rubyid_skips'>skips</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>