<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Sprockets::UnloadedAsset &mdash; Sprockets main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Sprockets::UnloadedAsset",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Sprockets main</a> &raquo; 
      <a href='../_index.html#alpha_U'>Index (U)</a> &raquo; 
        <a href="../Sprockets.html" title="Sprockets (module)">Sprockets</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>UnloadedAsset&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Sprockets::UnloadedAsset</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L8'>lib/sprockets/unloaded_asset.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Used to parse and store the URI to an unloaded asset Generates keys used to store and retrieve items from cache</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(uri, env)  &#x21d2; UnloadedAsset </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Initialize object for generating cache keys.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#compressed_path-instance_method" title="#compressed_path (instance method)">#<strong>compressed_path</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#uri-instance_method" title="#uri (instance method)">#<strong>uri</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#asset_key-instance_method" title="#asset_key (instance method)">#<strong>asset_key</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Key of asset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dependency_history_key-instance_method" title="#dependency_history_key (instance method)">#<strong>dependency_history_key</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Public: Dependency History key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#digest_key-instance_method" title="#digest_key (instance method)">#<strong>digest_key</strong>(digest)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Digest key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#file_digest_key-instance_method" title="#file_digest_key (instance method)">#<strong>file_digest_key</strong>(stat)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: File digest key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filename-instance_method" title="#filename (instance method)">#<strong>filename</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Full file path without schema.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#params-instance_method" title="#params (instance method)">#<strong>params</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Hash of param values.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#load_file_params-instance_method" title="#load_file_params (instance method)">#<strong>load_file_params</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal: Parses uri into filename and params hash.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(uri, env)  &#x21d2; <code>UnloadedAsset</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Initialize object for generating cache keys</p>

<p>uri - A String containing complete URI to a file including scheme</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>and</span> <span class='id identifier rubyid_full'>full</span> <span class='id identifier rubyid_path'>path</span> <span class='id identifier rubyid_such'>such</span> <span class='id identifier rubyid_as'>as</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file:///Path/app/assets/js/app.js?type=application/javascript</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>env - The current “environment” that assets are being loaded into.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>We</span> <span class='id identifier rubyid_need'>need</span> <span class='id identifier rubyid_it'>it</span> <span class='id identifier rubyid_so'>so</span> <span class='id identifier rubyid_we'>we</span> <span class='id identifier rubyid_know'>know</span> <span class='id identifier rubyid_where'>where</span> <span class='id identifier rubyid_the'>the</span> {<span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>} (<span class='id identifier rubyid_directory'>directory</span> <span class='id identifier rubyid_where'>where</span> <span class='const'><a href="../Sprockets.html" title="Sprockets (module)">Sprockets</a></span>
<span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_being'>being</span> <span class='id identifier rubyid_invoked'>invoked</span>). <span class='const'>We</span> <span class='id identifier rubyid_also'>also</span> <span class='id identifier rubyid_need'>need</span> <span class='id identifier rubyid_it'>it</span> <span class='kw'>for</span> <span class='id identifier rubyid_the'>the</span> {<span class='id identifier rubyid_file_digest'>file_digest</span>} <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span>
<span class='id identifier rubyid_since'>since</span><span class='comma'>,</span> <span class='kw'>for</span> <span class='id identifier rubyid_some'>some</span> <span class='id identifier rubyid_strange'>strange</span> <span class='id identifier rubyid_reason'>reason</span><span class='comma'>,</span> <span class='id identifier rubyid_memoization'>memoization</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_provided'>provided</span> <span class='id identifier rubyid_by'>by</span>
<span class='id identifier rubyid_overriding'>overriding</span> <span class='id identifier rubyid_methods'>methods</span> <span class='id identifier rubyid_such'>such</span> <span class='id identifier rubyid_as'>as</span> {<span class='id identifier rubyid_stat'>stat</span>} <span class='kw'>in</span> <span class='id identifier rubyid_the'>the</span> {<span class='const'><a href="PathUtils.html" title="Sprockets::PathUtils (module)">PathUtils</a></span>} <span class='kw'>module</span>.</code></pre>

<p>Returns UnloadedAsset.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L22-L28'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='22' data-end='28'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 22</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="Sprockets::UnloadedAsset#uri (method)">uri</a></span><span class='comma'>,</span> <span class='id identifier rubyid_env'>env</span>)
  <span class='ivar'>@uri</span>               <span class='op'>=</span> <span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="Sprockets::UnloadedAsset#uri (method)">uri</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='ivar'>@env</span>               <span class='op'>=</span> <span class='id identifier rubyid_env'>env</span>
  <span class='ivar'>@compressed_path</span>   <span class='op'>=</span> <span class='const'><a href="URITar.html" title="Sprockets::URITar (class)">URITar</a></span>.<span class='id identifier rubyid_new'><a href="URITar.html#new-class_method" title="Sprockets::URITar.new (method)">new</a></span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="Sprockets::UnloadedAsset#uri (method)">uri</a></span><span class='comma'>,</span> <span class='id identifier rubyid_env'>env</span>).<span class='id identifier rubyid_compressed_path'><a href="URITar.html#compressed_path-instance_method" title="Sprockets::URITar#compressed_path (method)">compressed_path</a></span>
  <span class='ivar'>@params</span>            <span class='op'>=</span> <span class='kw'>nil</span> <span class='comment'># lazy loaded
</span>  <span class='ivar'>@filename</span>          <span class='op'>=</span> <span class='kw'>nil</span> <span class='comment'># lazy loaded
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="compressed_path-instance_method">
  <h3 class='signature ro first'>
    #<strong>compressed_path</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L29-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_compressed_path'>compressed_path</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="Sprockets::UnloadedAsset#uri (method)">uri</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uri-instance_method">
  <h3 class='signature ro'>
    #<strong>uri</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L29-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_compressed_path'><a href="#compressed_path-instance_method" title="Sprockets::UnloadedAsset#compressed_path (method)">compressed_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_uri'>uri</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="asset_key-instance_method">
  <h3 class='signature  first'>
    #<strong>asset_key</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Key of asset</p>

<p>Used to retrieve an asset from the cache based on “compressed” path to asset. A “compressed” path can either be relative to the root of the project or an absolute path.</p>

<p>Returns a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L77-L79'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='77' data-end='79'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_asset_key'>asset_key</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>asset-uri:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_compressed_path'><a href="#compressed_path-instance_method" title="Sprockets::UnloadedAsset#compressed_path (method)">compressed_path</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dependency_history_key-instance_method">
  <h3 class='signature '>
    #<strong>dependency_history_key</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Public: Dependency History key</p>

<p>Used to retrieve an array of “histories” each of which contains a set of stored dependencies for a given asset path and filename digest.</p>

<p>A dependency can refer to either an asset e.g. index.js may rely on jquery.js (so jquery.js is a dependency), or other factors that may affect compilation, such as the <a href="../Sprockets.html#VERSION-constant" title="Sprockets::VERSION (constant)">VERSION</a> of <a href="../Sprockets.html" title="Sprockets (module)"><code>::Sprockets</code></a> (i.e. the environment) and what “processors” are used.</p>

<p>For example a history array with one Set of dependencies may look like:</p>

<p>[[“environment-version”, “environment-paths”, “processors:type=text/css&amp;file_type=text/css”,</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file-digest:///Full/path/app/assets/stylesheets/application.css</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>processors:type=text/css&amp;file_type=text/css&amp;pipeline=self</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file-digest:///Full/path/app/assets/stylesheets</span><span class='tstring_end'>&quot;</span></span>]]</code></pre>

<p>This method of asset lookup is used to ensure that none of the dependencies have been modified since last lookup. If one of them has, the key will be different and a new entry must be stored.</p>

<p>URI dependencies are later converted to “compressed” paths</p>

<p>Returns a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L104-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='104' data-end='106'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dependency_history_key'>dependency_history_key</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>asset-uri-cache-dependencies:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_compressed_path'><a href="#compressed_path-instance_method" title="Sprockets::UnloadedAsset#compressed_path (method)">compressed_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span> <span class='ivar'>@env</span>.<span class='id identifier rubyid_file_digest'>file_digest</span>(<span class='id identifier rubyid_filename'><a href="#filename-instance_method" title="Sprockets::UnloadedAsset#filename (method)">filename</a></span>) <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="digest_key-instance_method">
  <h3 class='signature '>
    #<strong>digest_key</strong>(digest)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Digest key</p>

<p>Used to retrieve a string containing the “compressed” path to an asset based on a digest. The digest is generated from dependencies stored via information stored in the <a href="#dependency_history_key-instance_method" title="Sprockets::UnloadedAsset#dependency_history_key (method)">#dependency_history_key</a> after each of the “dependencies” is “resolved”. For example “environment-version” may be resolved to “environment-1.0-3.2.0” for version “3.2.0” of <a href="../Sprockets.html" title="Sprockets (module)"><code>::Sprockets</code></a></p>

<p>Returns a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L117-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='117' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 117</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_digest_key'>digest_key</span>(<span class='id identifier rubyid_digest'>digest</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>asset-uri-digest:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_compressed_path'><a href="#compressed_path-instance_method" title="Sprockets::UnloadedAsset#compressed_path (method)">compressed_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_digest'>digest</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="file_digest_key-instance_method">
  <h3 class='signature '>
    #<strong>file_digest_key</strong>(stat)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: File digest key</p>

<p>The digest for a given file won’t change if the path and the stat time hasn’t changed We can save time by not re-computing this information and storing it in the cache</p>

<p>Returns a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L127-L129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='127' data-end='129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 127</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_file_digest_key'>file_digest_key</span>(<span class='id identifier rubyid_stat'>stat</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file_digest:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_compressed_path'><a href="#compressed_path-instance_method" title="Sprockets::UnloadedAsset#compressed_path (method)">compressed_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stat'>stat</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filename-instance_method">
  <h3 class='signature '>
    #<strong>filename</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Full file path without schema</p>

<p>This returns a string containing the full path to the asset without the schema. Information is loaded lazily since we want <code>UnloadedAsset.new(dep, self).relative_path</code> to be fast. Calling this method the first time allocates an array and a hash.</p>

<p>Example</p>

<p>If the URI is <a href="file:///Full/path/app/assets/javascripts/application.js“" target="_parent" title="file:///Full/path/app/assets/javascripts/application.js“">file:///Full/path/app/assets/javascripts/application.js“</a> then the filename would be <code>”/Full/path/app/assets/javascripts/application.js“</code></p>

<p>Returns a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L43-L48'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='48'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>unless</span> <span class='ivar'>@filename</span>
    <span class='id identifier rubyid_load_file_params'><a href="#load_file_params-instance_method" title="Sprockets::UnloadedAsset#load_file_params (method)">load_file_params</a></span>
  <span class='kw'>end</span>
  <span class='ivar'>@filename</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_file_params-instance_method">
  <h3 class='signature priv'>
    #<strong>load_file_params</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Parses uri into filename and params hash</p>

<p>Returns Array with filename and params hash</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L135-L137'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='135' data-end='137'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 135</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_file_params'>load_file_params</span>
  <span class='ivar'>@filename</span><span class='comma'>,</span> <span class='ivar'>@params</span> <span class='op'>=</span> <span class='const'><a href="URIUtils.html" title="Sprockets::URIUtils (module)">URIUtils</a></span>.<span class='id identifier rubyid_parse_asset_uri'><a href="URIUtils.html#parse_asset_uri-instance_method" title="Sprockets::URIUtils#parse_asset_uri (method)">parse_asset_uri</a></span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="Sprockets::UnloadedAsset#uri (method)">uri</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="params-instance_method">
  <h3 class='signature '>
    #<strong>params</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal: Hash of param values</p>

<p>This information is generated and used internally by <a href="../Sprockets.html" title="Sprockets (module)"><code>::Sprockets</code></a>. Known keys include <code>:type</code> which stores the asset’s mime-type, <code>:id</code> which is a fully resolved digest for the asset (includes dependency digest as opposed to a digest of only file contents) and <code>:pipeline</code>. Hash may be empty.</p>

<p>Example</p>

<p>If the URI is <a href="file:///Full/path/app/assets/javascripts/application.js“type=application/javascript" target="_parent" title="file:///Full/path/app/assets/javascripts/application.js“type=application/javascript">file:///Full/path/app/assets/javascripts/application.js“type=application/javascript</a> Then the params would be <code>{type: &quot;application/javascript&quot;}</code></p>

<p>Returns a Hash.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/sprockets/blob/main/lib/sprockets/unloaded_asset.rb#L63-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/sprockets/unloaded_asset.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_params'>params</span>
  <span class='kw'>unless</span> <span class='ivar'>@params</span>
    <span class='id identifier rubyid_load_file_params'><a href="#load_file_params-instance_method" title="Sprockets::UnloadedAsset#load_file_params (method)">load_file_params</a></span>
  <span class='kw'>end</span>
  <span class='ivar'>@params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>