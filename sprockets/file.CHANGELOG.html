<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: CHANGELOG &mdash; Sprockets main</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "CHANGELOG",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Sprockets main</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: CHANGELOG&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<p><strong>Master</strong></p>

<p>Get upgrade notes from <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 3.x to 4.x at <a href="https://github.com/rails/sprockets/blob/master/UPGRADING.md">https://github.com/rails/sprockets/blob/master/UPGRADING.md</a></p>

<h2>4.2.1</h2>

<ul>
<li>Fix for precompile issues when multiple extensions map to the same MIME type (eg. <code>.jpeg</code> / <code>.jpg</code>). <a href="https://github.com/rails/sprockets/pull/781">#781</a></li>
<li>Fix <code>application/css-sourcemap+json</code> charset <a href="https://github.com/rails/sprockets/pull/764">#764</a></li>
<li>Fix compatibility with Rack 2 applications. <a href="https://github.com/rails/sprockets/pull/790">#790</a></li>
</ul>

<h2>4.2.0</h2>

<ul>
<li>Rack 3 compatibility. <a href="https://github.com/rails/sprockets/pull/758">#758</a></li>
<li>Fix thread safety of <a href="Sprockets/CachedEnvironment.html" title="Sprockets::CachedEnvironment (class)"><code>CachedEnvironment</code></a> and <a href="Sprockets/Cache/MemoryStore.html" title="Sprockets::Cache::MemoryStore (class)"><code>Cache::MemoryStore</code></a>. <a href="https://github.com/rails/sprockets/pull/771">#771</a></li>
<li>Add support for Rack 3.0. Headers set by sprockets will now be lower case. <a href="https://github.com/rails/sprockets/pull/758">#758</a></li>
<li>Make <a href="Sprockets/Utils.html#module_include-instance_method" title="Sprockets::Utils#module_include (method)">Sprockets::Utils#module_include</a> thread safe on JRuby. <a href="https://github.com/rails/sprockets/pull/759">#759</a></li>
<li>Fix typo in <code>asset.rb</code> file. <a href="https://github.com/rails/sprockets/pull/768">#768</a></li>
</ul>

<h2>4.1.1</h2>

<ul>
<li>Fix <a href="Sprockets/Server.html" title="Sprockets::Server (module)"><code>Server</code></a> to return response headers to be compatible with Rack::Lint 2.0.</li>
</ul>

<h2>4.1.0</h2>

<ul>
<li>Allow age to be altered in asset:clean rake task.</li>
<li>Fix <a href="Sprockets/Server.html" title="Sprockets::Server (module)"><code>Server</code></a> to return lower-cased response headers to comply with Rack::Lint 3.0. <a href="https://github.com/rails/sprockets/pull/744">#744</a></li>
<li>Adding new directive <code>depend_on_directory</code> <a href="https://github.com/rails/sprockets/pull/668">#668</a></li>
<li>Fix <code>application/js-sourcemap+json</code> charset <a href="https://github.com/rails/sprockets/pull/669">#669</a></li>
<li>Fix <a href="Sprockets/CachedEnvironment.html" title="Sprockets::CachedEnvironment (class)"><code>CachedEnvironment</code></a> caching nil values <a href="https://github.com/rails/sprockets/pull/723">#723</a></li>
<li>Process <code>*.jst.ejs.erb</code> files with ERBProcessor <a href="https://github.com/rails/sprockets/pull/674">#674</a></li>
<li>Fix cache key for coffee script processor to be dependent on the filename <a href="https://github.com/rails/sprockets/pull/670">#670</a></li>
</ul>

<h2>4.0.3</h2>

<ul>
<li>Fix <a href="Sprockets/Manifest.html#find-instance_method" title="Sprockets::Manifest#find (method)">Sprockets::Manifest#find</a> yielding from a Promise causing issue on Ruby 3.1.0-dev. <a href="https://github.com/rails/sprockets/pull/720">#720</a></li>
<li>Better detect the ERB version to avoid deprecation warnings. <a href="https://github.com/rails/sprockets/pull/719">#719</a></li>
<li>Allow assets already fingerprinted to be served through <a href="Sprockets/Server.html" title="Sprockets::Server (module)"><code>Server</code></a></li>
<li>Do not fingerprint files that already contain a valid digest in their name</li>
<li>Remove remaining support for Ruby &lt; 2.4.<a href="https://github.com/rails/sprockets/pull/672">#672</a></li>
</ul>

<h2>4.0.2</h2>

<ul>
<li>Fix <code>etag</code> and digest path compilation that were generating string with invalid digest since 4.0.1.</li>
</ul>

<h2>4.0.1</h2>

<ul>
<li>Fix for Ruby 2.7 keyword arguments warning in <code>base.rb</code>. <a href="https://github.com/rails/sprockets/pull/660">#660</a></li>
<li>Fix for when <code>x_sprockets_linecount</code> is missing from a source map.</li>
<li>Fix subresource integrity to match the digest of the asset.</li>
</ul>

<h2>4.0.0</h2>

<ul>
<li>Fixes for Ruby 2.7 keyword arguments warnings <a href="https://github.com/rails/sprockets/pull/625">#625</a></li>
<li>Manifest files are sorted alphabetically <a href="https://github.com/rails/sprockets/pull/626">#626</a></li>
</ul>

<h2>4.0.0.beta10</h2>

<ul>
<li>Fix YACB (Yet Another Caching Bug) <a href="https://github.com/rails/sprockets/pull/614">Fix broken expansion of asset link paths</a></li>
</ul>

<h2>4.0.0.beta9</h2>

<ul>
<li>Minimum Ruby version for <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 4 is now 2.5+ which matches minimum ruby version of Rails [#604]</li>
<li>Fix threading bug introduced in <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 4 [#603]</li>
<li>Warn when two potential manifest files exist. [#560]</li>
</ul>

<h2>4.0.0.beta8</h2>

<ul>
<li>Security release for <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-3760">CVE-2018-3760</a></li>
</ul>

<h2>4.0.0.beta7</h2>

<ul>
<li>Fix a year long bug that caused <a href="Sprockets/FileNotFound.html" title="Sprockets::FileNotFound (class)"><code>FileNotFound</code></a> errors when the asset was present [#547]</li>
<li>Raise an error when two assets such as foo.js and foo.js.erb would produce the same output artifact (foo.js) [#549 #530]</li>
<li>Process <code>*.jst.eco.erb</code> files with ERBProcessor</li>
</ul>

<h2>4.0.0.beta6</h2>

<ul>
<li>Fix source map line offsets [#515]</li>
<li>Return a <code>400 Bad Request</code> when the path encoding is invalid. [#514]</li>
</ul>

<h2>4.0.0.beta5</h2>

<ul>
<li>Reduce string allocations</li>
<li>Source map metadata uses compressed form specified by the <a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k">source map v3 spec</a>. [#402] <strong>[BREAKING]</strong></li>
<li>Generate <a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt">index maps</a> when decoding source maps isn&#39;t necessary. [#402]</li>
<li>Remove fingerprints from source map files. [#402]</li>
</ul>

<h2>4.0.0.beta4</h2>

<ul>
<li>Changing the version now busts the digest of all assets [#404]</li>
<li>Exporter interface added [#386]</li>
<li>Using ENV vars in templates will recompile templates when the env vars change. [#365]</li>
<li>Source maps for imported sass files with sassc is now fixed [#391]</li>
<li>Load paths now in error messages [#322]</li>
<li>Cache key added to babel processor [#387]</li>
<li><a href="Sprockets/Environment.html#find_asset!-instance_method" title="Sprockets::Environment#find_asset! (method)">Sprockets::Environment#find_asset!</a> can now be used to raise an exception when asset could not be found [#379]</li>
</ul>

<h2>4.0.0.beta3</h2>

<ul>
<li>Source Map fixes [#255] [#367]</li>
<li>Performance improvements</li>
</ul>

<h2>4.0.0.beta2</h2>

<ul>
<li>Fix load_paths on Sass processors [#223]</li>
</ul>

<h2>4.0.0.beta1</h2>

<ul>
<li>Initial release of <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 4</li>
</ul>

<p>Please upgrade to the latest <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 3 version before upgrading to <a href="Sprockets.html" title="Sprockets (module)"><code>Sprockets</code></a> 4. Check the 3.x branch for previous changes <a href="https://github.com/rails/sprockets/blob/3.x/CHANGELOG.md">https://github.com/rails/sprockets/blob/3.x/CHANGELOG.md</a>.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>