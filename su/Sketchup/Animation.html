<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Sketchup::Animation &mdash; SketchUp Ruby API main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Sketchup::Animation",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>SketchUp</a> &raquo; 
      <a href='../_index.html#alpha_A'>Index (A)</a> &raquo; 
        <a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Animation&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Sketchup::Animation  <span class='abstract note title'>Abstract</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
<p>Implement the methods described in this class to create a an animation. You can not sub-class this class because it is not defined by the API.</p>
</div>
</div>

<p>The <code>Animation</code> interface is implemented to create animations inside SketchUp. At any given time, a single animation can be active on a <a href="View.html" title="Sketchup::View (class)"><code>View</code></a>. To make your own, build a Ruby class that contains the methods described below:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># This example demonstrates a simple animation with implementation of
</span><span class='comment'># the optional callback method stop, which is invoked
</span><span class='comment'># by SketchUp during specific animation events.
</span><span class='kw'>class</span> <span class='const'>SimpleFloatAnimation</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='ivar'>@speed</span> <span class='op'>=</span> <span class='float'>1.0</span>           <span class='comment'># Camera movement speed
</span>    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Animation initialized</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Required method - called for each animation frame
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_nextFrame'><a href="#nextFrame-instance_method" title="Sketchup::Animation#nextFrame (method)">nextFrame</a></span>(<span class='id identifier rubyid_view'>view</span>)
    <span class='comment'># Move camera upward
</span>    <span class='id identifier rubyid_new_eye'>new_eye</span> <span class='op'>=</span> <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_camera'>camera</span>.<span class='id identifier rubyid_eye'>eye</span>
    <span class='id identifier rubyid_new_eye'>new_eye</span>.<span class='id identifier rubyid_z'>z</span> <span class='op'>=</span> <span class='id identifier rubyid_new_eye'>new_eye</span>.<span class='id identifier rubyid_z'>z</span> <span class='op'>+</span> <span class='ivar'>@speed</span>
    <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_camera'>camera</span>.<span class='id identifier rubyid_set'>set</span>(<span class='id identifier rubyid_new_eye'>new_eye</span><span class='comma'>,</span> <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_camera'>camera</span>.<span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_camera'>camera</span>.<span class='id identifier rubyid_up'>up</span>)
    <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_show_frame'>show_frame</span>

    <span class='comment'># Continue animation until reaching maximum height
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_new_eye'>new_eye</span>.<span class='id identifier rubyid_z'>z</span> <span class='op'>&lt;</span> <span class='float'>500.0</span>
  <span class='kw'>end</span>

  <span class='comment'># Optional callback - called by SketchUp when animation is stopped
</span>  <span class='comment'># Note: This method is called automatically by SketchUp and cannot
</span>  <span class='comment'># be called directly to stop an animation
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_stop'><a href="#stop-instance_method" title="Sketchup::Animation#stop (method)">stop</a></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Animation was stopped by SketchUp</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># Cleanup code when animation ends
</span>  <span class='kw'>end</span>
 <span class='kw'>end</span>

 <span class='comment'># Add menu item to start the animation
</span> <span class='const'><a href="../UI.html" title="UI (module)">UI</a></span>.<span class='id identifier rubyid_menu'><a href="../UI.html#menu-class_method" title="UI.menu (method)">menu</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Camera</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_add_item'><a href="Menu.html#add_item-instance_method" title="Sketchup::Menu#add_item (method)">add_item</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start Animation</span><span class='tstring_end'>&quot;</span></span>) {
   <span class='id identifier rubyid_animation'>animation</span> <span class='op'>=</span> <span class='const'>SimpleFloatAnimation</span>.<span class='id identifier rubyid_new'>new</span>
   <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_active_model'><a href="../Sketchup.html#active_model-class_method" title="Sketchup.active_model (method)">active_model</a></span>.<span class='id identifier rubyid_active_view'><a href="Model.html#active_view-instance_method" title="Sketchup::Model#active_view (method)">active_view</a></span>.<span class='id identifier rubyid_animation'>animation</span> <span class='op'>=</span> <span class='id identifier rubyid_animation'>animation</span>
 }

 <span class='comment'># To stop the animation programmatically:
</span> <span class='const'><a href="../UI.html" title="UI (module)">UI</a></span>.<span class='id identifier rubyid_menu'><a href="../UI.html#menu-class_method" title="UI.menu (method)">menu</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Camera</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_add_item'><a href="Menu.html#add_item-instance_method" title="Sketchup::Menu#add_item (method)">add_item</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop Animation</span><span class='tstring_end'>&quot;</span></span>) {
   <span class='comment'># Setting animation to nil will trigger the stop method in our animation class
</span>   <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_active_model'><a href="../Sketchup.html#active_model-class_method" title="Sketchup.active_model (method)">active_model</a></span>.<span class='id identifier rubyid_active_view'><a href="Model.html#active_view-instance_method" title="Sketchup::Model#active_view (method)">active_view</a></span>.<span class='id identifier rubyid_animation'>animation</span> <span class='op'>=</span> <span class='kw'>nil</span>
 }</code></pre>

<p><code>Animation</code> objects are activated by using the <a href="View.html#animation=-instance_method" title="Sketchup::View#animation= (method)">View#animation=</a> method on a <a href="View.html" title="Sketchup::View (class)"><code>View</code></a> object. To stop an animation set the view’s animation object to <code>nil</code>, like so:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_active_model'><a href="../Sketchup.html#active_model-class_method" title="Sketchup.active_model (method)">active_model</a></span>.<span class='id identifier rubyid_active_view'><a href="Model.html#active_view-instance_method" title="Sketchup::Model#active_view (method)">active_view</a></span>.<span class='id identifier rubyid_animation'>animation</span> <span class='op'>=</span> <span class='kw'>nil</span></code></pre>

<h2 id="label-Managing+Multiple+Animations-3A">Managing Multiple Animations:</h2>

<p>While only one animation object can be active on a <a href="View.html" title="Sketchup::View (class)"><code>View</code></a> at any given time, you can create a composite animation class to manage multiple animations simultaneously. This approach allows you to animate different elements, such as objects and the camera, within a single animation framework.</p>

<p>Example:  Combining Animations</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>CombinedAnimation</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_object_animation'>object_animation</span><span class='comma'>,</span> <span class='id identifier rubyid_camera_animation'>camera_animation</span>)
    <span class='ivar'>@object_animation</span> <span class='op'>=</span> <span class='id identifier rubyid_object_animation'>object_animation</span>
    <span class='ivar'>@camera_animation</span> <span class='op'>=</span> <span class='id identifier rubyid_camera_animation'>camera_animation</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_nextFrame'><a href="#nextFrame-instance_method" title="Sketchup::Animation#nextFrame (method)">nextFrame</a></span>(<span class='id identifier rubyid_view'>view</span>)
    <span class='ivar'>@object_animation</span>.<span class='id identifier rubyid_nextFrame'><a href="#nextFrame-instance_method" title="Sketchup::Animation#nextFrame (method)">nextFrame</a></span>(<span class='id identifier rubyid_view'>view</span>)
    <span class='ivar'>@camera_animation</span>.<span class='id identifier rubyid_nextFrame'><a href="#nextFrame-instance_method" title="Sketchup::Animation#nextFrame (method)">nextFrame</a></span>(<span class='id identifier rubyid_view'>view</span>)
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Usage
</span><span class='id identifier rubyid_object_animation'>object_animation</span> <span class='op'>=</span> <span class='const'>RotateAnimation</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_camera_animation'>camera_animation</span> <span class='op'>=</span> <span class='const'>RotateCamera</span>.<span class='id identifier rubyid_new'>new</span>(<span class='float'>0.01</span>)
<span class='id identifier rubyid_combined_animation'>combined_animation</span> <span class='op'>=</span> <span class='const'>CombinedAnimation</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_object_animation'>object_animation</span><span class='comma'>,</span> <span class='id identifier rubyid_camera_animation'>camera_animation</span>)
<span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_active_model'><a href="../Sketchup.html#active_model-class_method" title="Sketchup.active_model (method)">active_model</a></span>.<span class='id identifier rubyid_active_view'><a href="Model.html#active_view-instance_method" title="Sketchup::Model#active_view (method)">active_view</a></span>.<span class='id identifier rubyid_animation'>animation</span> <span class='op'>=</span> <span class='id identifier rubyid_combined_animation'>combined_animation</span></code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#nextFrame-instance_method" title="#nextFrame (instance method)">#<strong>nextFrame</strong>(view)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#nextFrame-instance_method" title="Sketchup::Animation#nextFrame (method)">#nextFrame</a> method is invoked by SketchUp to tell the animation to display its next frame.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pause-instance_method" title="#pause (instance method)">#<strong>pause</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#pause-instance_method" title="Sketchup::Animation#pause (method)">#pause</a> method is invoked by SketchUp when the animation is paused.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#resume-instance_method" title="#resume (instance method)">#<strong>resume</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#resume-instance_method" title="Sketchup::Animation#resume (method)">#resume</a> method is invoked by SketchUp when the animation is resumed after being paused.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stop-instance_method" title="#stop (instance method)">#<strong>stop</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#stop-instance_method" title="Sketchup::Animation#stop (method)">#stop</a> method is invoked by SketchUp when the animation is stopped.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="nextFrame-instance_method">
  <h3 class='signature  first'>
    #<strong>nextFrame</strong>(view)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#nextFrame</code> method is invoked by SketchUp to tell the animation to display its next frame. This method should set up the camera and then call <a href="View.html#show_frame-instance_method" title="Sketchup::View#show_frame (method)">View#show_frame</a>.</p>

<p>The <code>#nextFrame</code> method is the only required method of the <code>Animation</code> interface that you must implement.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_nextFrame'>nextFrame</span>(<span class='id identifier rubyid_view'>view</span>)
  <span class='comment'># Insert your handler code for updating the camera or other entities.
</span>  <span class='id identifier rubyid_view'>view</span>.<span class='id identifier rubyid_show_frame'>show_frame</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>view</span>
    <span class='type'>(<a href="View.html" title="Sketchup::View (class)">Sketchup::View</a>)</span>
&mdash;    <div class='inline'>
<p>The view for the animation.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>continue - <code>true</code> if you want the animation to continue on to the next frame, <code>false</code> if you want the animation to stop after this frame.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="pause-instance_method">
  <h3 class='signature '>
    #<strong>pause</strong>  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The user interface for pausing and resuming animations isn’t integrated with the Ruby API in the current version, so this method is probably not useful to you.</p>
</div>
  </div>


<p>The <code>#pause</code> method is invoked by SketchUp when the animation is paused.</p>

<p>This method is optional (you do not need to implement this method unless you want to perform some specialized function when the animation is paused). You cannot call this method in your code explicitly and expect an animation to pause, only certain SketchUp events cause the method to be called.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_pause'>pause</span>
  <span class='comment'># Insert handler code for whatever you need to do when it is paused.
</span><span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="resume-instance_method">
  <h3 class='signature '>
    #<strong>resume</strong>  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The user interface for pausing and resuming animations isn’t integrated with the Ruby API in the current version, so this method is probably not useful to you.</p>
</div>
  </div>


<p>The <code>#resume</code> method is invoked by SketchUp when the animation is resumed after being paused.</p>

<p>This method is optional (you do not need to implement this method unless you want to perform some specialized function when the animation is resumed). You cannot call this method in your code explicitly and expect an animation to stop, only certain SketchUp events cause the method to be called.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_resume'>resume</span>
  <span class='comment'># Insert your handler code for whatever you need to do as you resume.
</span><span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="stop-instance_method">
  <h3 class='signature '>
    #<strong>stop</strong>  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Do not call <a href="View.html#animation=-instance_method" title="Sketchup::View#animation= (method)">View#animation=</a> from this method. This will cause a recursive loop and crash SketchUp 2017 and earlier versions. As of SketchUp 2018 this will raise a <code>RunTimeError</code>.</p>
</div>
  </div>


<p>The <code>#stop</code> method is invoked by SketchUp when the animation is stopped.</p>

<p>This method is optional (you do not need to implement this method unless you want to perform some specialized function when the animation is stopped). You cannot call this method in your code explicitly and expect an animation to stop, only certain SketchUp events cause the method to be called.</p>

<p>Perhaps the most common way for this method to be called is when your Ruby code sets <a href="View.html#animation=-instance_method" title="Sketchup::View#animation= (method)">View#animation=</a> to <code>nil</code>. See the class comments for an example of this.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>class</span> <span class='const'>MyAnimation</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_stop'>stop</span>
    <span class='comment'># Insert your handler code for cleaning up after your animation.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>