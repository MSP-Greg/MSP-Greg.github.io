<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Sketchup::AppObserver &mdash; SketchUp Ruby API main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Sketchup::AppObserver",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>SketchUp</a> &raquo; 
      <a href='../_index.html#alpha_A'>Index (A)</a> &raquo; 
        <a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>AppObserver&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Sketchup::AppObserver  <span class='abstract note title'>Abstract</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
<p>To implement this observer, create a Ruby class of this type, override the desired methods, and add an instance of the observer to the application class.</p>
</div>
</div>

<p>This observer interface is implemented to react to application events. This interface is often used to attach other observers to models as they are opened or started. This ensures that your observers are watching all open models.</p>

<p>For example, when one attaches a <a href="SelectionObserver.html" title="Sketchup::SelectionObserver (class)"><code>SelectionObserver</code></a>, it is only attached to the <a href="Selection.html" title="Sketchup::Selection (class)"><code>Selection</code></a> collection of a given model. If a 2nd model is opened, the new model’s selection changes will not fire selection callbacks unless you’ve attached a <a href="SelectionObserver.html" title="Sketchup::SelectionObserver (class)"><code>SelectionObserver</code></a> to the new model as well. By watching for <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a>, you can be sure to do so.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code "#{object.source_type}"'><code><span class='comment'># This is an example of an observer that watches the application for
</span><span class='comment'># new models and shows a messagebox.
</span><span class='kw'>class</span> <span class='const'>MyAppObserver</span> <span class='op'>&lt;</span> <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'>AppObserver</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_onNewModel'><a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">onNewModel</a></span>(<span class='id identifier rubyid_model'>model</span>)
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onNewModel: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># Here is where one might attach other observers to the new model.
</span>    <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_selection'>selection</span>.<span class='id identifier rubyid_add_observer'><a href="../Sketchup.html#add_observer-class_method" title="Sketchup.add_observer (method)">add_observer</a></span>(<span class='const'>MySelectionObserver</span>.<span class='id identifier rubyid_new'>new</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Attach the observer
</span><span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_add_observer'><a href="../Sketchup.html#add_observer-class_method" title="Sketchup.add_observer (method)">add_observer</a></span>(<span class='const'>MyAppObserver</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#expectsStartupModelNotifications-instance_method" title="#expectsStartupModelNotifications (instance method)">#<strong>expectsStartupModelNotifications</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#expectsStartupModelNotifications-instance_method" title="Sketchup::AppObserver#expectsStartupModelNotifications (method)">#expectsStartupModelNotifications</a> method is called to determine if the observer expects to receive <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a> and <a href="#onOpenModel-instance_method" title="Sketchup::AppObserver#onOpenModel (method)">#onOpenModel</a> calls for the models that are created or opened at SketchUp startup.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onActivateModel-instance_method" title="#onActivateModel (instance method)">#<strong>onActivateModel</strong>(model)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onActivateModel-instance_method" title="Sketchup::AppObserver#onActivateModel (method)">#onActivateModel</a> method is called when an open model is activated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onExtensionsLoaded-instance_method" title="#onExtensionsLoaded (instance method)">#<strong>onExtensionsLoaded</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onExtensionsLoaded-instance_method" title="Sketchup::AppObserver#onExtensionsLoaded (method)">#onExtensionsLoaded</a> method is called when SketchUp has finished loading all extensions when the application starts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onNewModel-instance_method" title="#onNewModel (instance method)">#<strong>onNewModel</strong>(model)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a> method is called when the application creates a new, empty model.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onOpenModel-instance_method" title="#onOpenModel (instance method)">#<strong>onOpenModel</strong>(model)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onOpenModel-instance_method" title="Sketchup::AppObserver#onOpenModel (method)">#onOpenModel</a> method is called when the application opens an existing model.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onQuit-instance_method" title="#onQuit (instance method)">#<strong>onQuit</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onQuit-instance_method" title="Sketchup::AppObserver#onQuit (method)">#onQuit</a> method is called when SketchUp closes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onUnloadExtension-instance_method" title="#onUnloadExtension (instance method)">#<strong>onUnloadExtension</strong>(extension_name)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onUnloadExtension-instance_method" title="Sketchup::AppObserver#onUnloadExtension (method)">#onUnloadExtension</a> method is called when the user turns off a Ruby extension.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="expectsStartupModelNotifications-instance_method">
  <h3 class='signature  first'>
    #<strong>expectsStartupModelNotifications</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Prior to SketchUp 2014, <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a> and <a href="#onOpenModel-instance_method" title="Sketchup::AppObserver#onOpenModel (method)">#onOpenModel</a> were not being called for the startup models. This issue is now fixed but observers still need to express their intent to receive these calls. This is for back-compatibility with existing scripts which worked around these missing calls by other means. For new code, this method should be implemented and should return <code>true</code>.</p>
</div>
  </div>


<p>The <code>#expectsStartupModelNotifications</code> method is called to determine if the observer expects to receive <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a> and <a href="#onOpenModel-instance_method" title="Sketchup::AppObserver#onOpenModel (method)">#onOpenModel</a> calls for the models that are created or opened at SketchUp startup. This includes the empty initial model, a model opened via command line arguments, or auto-restored models on Mac OS X.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_expectsStartupModelNotifications'>expectsStartupModelNotifications</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> to receive <a href="#onNewModel-instance_method" title="Sketchup::AppObserver#onNewModel (method)">#onNewModel</a> and <a href="#onOpenModel-instance_method" title="Sketchup::AppObserver#onOpenModel (method)">#onOpenModel</a> calls for startup models. Return <code>false</code> or simply not implement the method in order to not receive these calls (which was the behavior prior to SketchUp 2014).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 2014</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onActivateModel-instance_method">
  <h3 class='signature '>
    #<strong>onActivateModel</strong>(model)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#onActivateModel</code> method is called when an open model is activated. This is relevant on Mac only which supports multiple documents to be opened simultaneously.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onActivateModel'>onActivateModel</span>(<span class='id identifier rubyid_model'>model</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onActivateModel: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>model</span>
    <span class='type'>(<a href="Model.html" title="Sketchup::Model (class)">Sketchup::Model</a>)</span>
&mdash;    <div class='inline'>
<p>The newly-activated model object.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 2015</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onExtensionsLoaded-instance_method">
  <h3 class='signature '>
    #<strong>onExtensionsLoaded</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#onExtensionsLoaded</code> method is called when SketchUp has finished loading all extensions when the application starts.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onExtensionsLoaded'>onExtensionsLoaded</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onExtensionsLoaded</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 2022.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onNewModel-instance_method">
  <h3 class='signature '>
    #<strong>onNewModel</strong>(model)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#onNewModel</code> method is called when the application creates a new, empty model.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onNewModel'>onNewModel</span>(<span class='id identifier rubyid_model'>model</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onNewModel: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>model</span>
    <span class='type'>(<a href="Model.html" title="Sketchup::Model (class)">Sketchup::Model</a>)</span>
&mdash;    <div class='inline'>
<p>The active model object.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onOpenModel-instance_method">
  <h3 class='signature '>
    #<strong>onOpenModel</strong>(model)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>If a skp file is loaded via the command line or double-clicking on a skp in explorer (which is also is the command line) then this observer will not be called.  The Ruby interpreter in SketchUp is initialized after command line processing so the observer won’t be added in time to get the notification.</p>
</div>
  </div>


<p>The <code>#onOpenModel</code> method is called when the application opens an existing model.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onOpenModel'>onOpenModel</span>(<span class='id identifier rubyid_model'>model</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onOpenModel: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>model</span>
    <span class='type'>(<a href="Model.html" title="Sketchup::Model (class)">Sketchup::Model</a>)</span>
&mdash;    <div class='inline'>
<p>The active model object.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onQuit-instance_method">
  <h3 class='signature '>
    #<strong>onQuit</strong>  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#onQuit</code> method is called when SketchUp closes. This is useful if you need to clean up anything or store your application state upon close.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onQuit'>onQuit</span>()
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onQuit</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onUnloadExtension-instance_method">
  <h3 class='signature '>
    #<strong>onUnloadExtension</strong>(extension_name)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>#onUnloadExtension</code> method is called when the user turns off a Ruby extension. This is useful for detecting if the user is deactivating some critical set of observers, for example, so you can warn them or cache your extension state.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onUnloadExtension'>onUnloadExtension</span>(<span class='id identifier rubyid_extension_name'>extension_name</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onUnloadExtension: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension_name'>extension_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>extension_name</span>
    <span class='type'>(<a href="../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the extension just unloaded.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 7.0</p>
</div>
  </li>
</ul>

</div>

</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>