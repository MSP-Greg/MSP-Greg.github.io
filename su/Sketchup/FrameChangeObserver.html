<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Sketchup::FrameChangeObserver &mdash; SketchUp Ruby API main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Sketchup::FrameChangeObserver",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>SketchUp</a> &raquo; 
      <a href='../_index.html#alpha_F'>Index (F)</a> &raquo; 
        <a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>FrameChangeObserver&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Sketchup::FrameChangeObserver  <span class='abstract note title'>Abstract</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
<p>Implement the methods described in this class to create a frame change observer. You can not sub-class this class because it is not defined by the API.</p>
</div>
</div>

<p>This observer interface is implemented to react to changes in camera position (a frame) between one scene page and another. This observer’s callback method is called when the user manually makes a scene change, or the internal animation feature runs.</p>

<p>This abstract observer is any object that implements a callback method <code>frameChange</code> with 3 arguments: <code>from_scene</code> (the scene that you transition from), <code>to_scene</code> (the scene that you transition toward) and a <code>percent_done</code> between <code>0.0</code> and <code>1.0</code> (that indicates the percentage of transition between the two scenes.)</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Basic Class Definition:
</span><span class='kw'>class</span> <span class='const'>MyFrameChangeObserver</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_frameChange'><a href="#frameChange-instance_method" title="Sketchup::FrameChangeObserver#frameChange (method)">frameChange</a></span>(<span class='id identifier rubyid_from_scene'>from_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_to_scene'>to_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_percent_done'>percent_done</span>)
   <span class='comment'># Actual code here.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The observer is attached using the <a href="Pages.html#add_frame_change_observer-class_method" title="Sketchup::Pages.add_frame_change_observer (method)">Pages.add_frame_change_observer</a> class method, which returns an integer id that can be stored and later used to detach the observer.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Attach an observer to the global Pages object:
</span><span class='ivar'>@id</span> <span class='op'>=</span> <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'><a href="Pages.html" title="Sketchup::Pages (class)">Pages</a></span>.<span class='id identifier rubyid_add_frame_change_observer'><a href="Pages.html#add_frame_change_observer-class_method" title="Sketchup::Pages.add_frame_change_observer (method)">add_frame_change_observer</a></span>(<span class='const'>MyFrameChangeObserver</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>

<p>Later, detaching this observer is done by passing this <code>id</code> reference to the <a href="Pages.html#remove_frame_change_observer-class_method" title="Sketchup::Pages.remove_frame_change_observer (method)">Pages.remove_frame_change_observer</a> class method.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Basic Observer Detachment:
</span><span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'><a href="Pages.html" title="Sketchup::Pages (class)">Pages</a></span>.<span class='id identifier rubyid_remove_frame_change_observer'><a href="Pages.html#remove_frame_change_observer-class_method" title="Sketchup::Pages.remove_frame_change_observer (method)">remove_frame_change_observer</a></span>(<span class='ivar'>@id</span>)</code></pre>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Draws a progress bar on the status line.</p>
</div></p>
      <pre class='example code "#{object.source_type}"'><code><span class='kw'>class</span> <span class='const'>MyFrameChangeObserver</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_frameChange'><a href="#frameChange-instance_method" title="Sketchup::FrameChangeObserver#frameChange (method)">frameChange</a></span>(<span class='id identifier rubyid_from_scene'>from_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_to_scene'>to_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_percent_done'>percent_done</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_percent_done'>percent_done</span> <span class='op'>==</span> <span class='float'>0.0</span>
      <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_status_text'>status_text</span><span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% done:</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_from_scene'>from_scene</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># PC bug!
</span>        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Animating to page: &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_scene'>to_scene</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From page &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_from_scene'>from_scene</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; to &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_scene'>to_scene</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_status_text'>status_text</span><span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% done: </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>|</span><span class='tstring_end'>&#39;</span></span><span class='op'>*</span>(<span class='id identifier rubyid_percent_done'>percent_done</span><span class='op'>*</span><span class='int'>100</span>).<span class='id identifier rubyid_to_i'>to_i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'><a href="../UI.html" title="UI (module)">UI</a></span>.<span class='id identifier rubyid_messagebox'><a href="../UI.html#messagebox-class_method" title="UI.messagebox (method)">messagebox</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>All Done!</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_percent_done'>percent_done</span> <span class='op'>&gt;=</span> <span class='float'>1.0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='ivar'>@id</span> <span class='op'>=</span> <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'><a href="Pages.html" title="Sketchup::Pages (class)">Pages</a></span>.<span class='id identifier rubyid_add_frame_change_observer'><a href="Pages.html#add_frame_change_observer-class_method" title="Sketchup::Pages.add_frame_change_observer (method)">add_frame_change_observer</a></span>(<span class='const'>MyFrameChangeObserver</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>
  </div>

</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#frameChange-instance_method" title="#frameChange (instance method)">#<strong>frameChange</strong>(from_scene, to_scene, percent_done)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This callback method is called during a slide show or creation of an animation after the camera has been set up, but before the frame is displayed.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="frameChange-instance_method">
  <h3 class='signature  first'>
    #<strong>frameChange</strong>(from_scene, to_scene, percent_done)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The <code>from_scene</code> argument into this callback does not appear to be populated on the PC. You can store a variable that keeps track of the <code>to_scene</code> and then use that on a subsequent Scene selection to determine the last <a href="Page.html" title="Sketchup::Page (class)"><code>Page</code></a> that the user was on.</p>
</div>
  </div>


<p>This callback method is called during a slide show or creation of an animation after the camera has been set up, but before the frame is displayed. It gives you a chance to perform your own actions during the animation. The arguments for <code>frameChange</code> method are the scene page that you transition from (<code>from_scene</code>), the scene page that you transition to (<code>to_scene</code>), and a <code>percent_done</code> between <code>0.0</code> and <code>1.0</code> that tell you the percentage of the transition between the two scene pages.</p>

<p>By watching for <tt>percent_done &gt;= 1.0</tt>, you can activate Ruby code that executes as soon as the user’s camera has finished animating.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>class</span> <span class='const'>MyFrameChangeObserver</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_frameChange'>frameChange</span>(<span class='id identifier rubyid_from_scene'>from_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_to_scene'>to_scene</span><span class='comma'>,</span> <span class='id identifier rubyid_percent_done'>percent_done</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_percent_done'>percent_done</span> <span class='op'>==</span> <span class='float'>0.0</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Animating to scene &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_scene'>to_scene</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;:</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% 7.2f %</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_percent_done'>percent_done</span><span class='op'>*</span><span class='int'>100</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='ivar'>@id</span> <span class='op'>=</span> <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'><a href="Pages.html" title="Sketchup::Pages (class)">Pages</a></span>.<span class='id identifier rubyid_add_frame_change_observer'><a href="Pages.html#add_frame_change_observer-class_method" title="Sketchup::Pages.add_frame_change_observer (method)">add_frame_change_observer</a></span>(<span class='const'>MyFrameChangeObserver</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>from_scene</span>
    <span class='type'>(<a href="Page.html" title="Sketchup::Page (class)">Sketchup::Page</a>, <code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>The previous scene page the view is transitioning from.</p>
</div>
  </li>
  <li>
    <span class='name'>to_scene</span>
    <span class='type'>(<a href="Page.html" title="Sketchup::Page (class)">Sketchup::Page</a>)</span>
&mdash;    <div class='inline'>
<p>The selected scene page the view is transitioning towards.</p>
</div>
  </li>
  <li>
    <span class='name'>percent_done</span>
    <span class='type'>(<code>Float</code>)</span>
&mdash;    <div class='inline'>
<p>The percentage of transition between the two scene pages.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>