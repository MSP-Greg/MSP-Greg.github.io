<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Sketchup::ToolsObserver &mdash; SketchUp Ruby API main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Sketchup::ToolsObserver",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>SketchUp</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>ToolsObserver&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Sketchup::ToolsObserver  <span class='abstract note title'>Abstract</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'>
<p>To implement this observer, create a Ruby class of this type, override the desired methods, and add an instance of the observer to the <a href="Tools.html" title="Sketchup::Tools (class)"><code>Tools</code></a> object.</p>
</div>
</div>

<p>This observer interface is implemented to react to tool events.</p>

<p>Some of the code below mentions <code>tool_names</code> and <code>tool_ids</code>. Here is a list of the common tool IDs and names:</p>
<ul><li>
<p><code>21013</code> = 3DTextTool</p>
</li><li>
<p><code>21065</code> = ArcTool</p>
</li><li>
<p><code>10523</code> = CameraDollyTool</p>
</li><li>
<p><code>10508</code> = CameraOrbitTool</p>
</li><li>
<p><code>10525</code> = CameraPanTool</p>
</li><li>
<p><code>21169</code> = PositionCameraTool</p>
</li><li>
<p><code>10520</code> = CameraWalkTool</p>
</li><li>
<p><code>10509</code> = CameraZoomTool</p>
</li><li>
<p><code>10526</code> = CameraZoomWindowTool</p>
</li><li>
<p><code>21096</code> = CircleTool</p>
</li><li>
<p><code>21013</code> = ComponentTool</p>
</li><li>
<p><code>21126</code> = ComponentCSTool</p>
</li><li>
<p><code>21410</code> = DimensionTool</p>
</li><li>
<p><code>21019</code> = EraseTool</p>
</li><li>
<p><code>21031</code> = FreehandTool</p>
</li><li>
<p><code>21525</code> = ExtrudeTool</p>
</li><li>
<p><code>21126</code> = SketchCSTool</p>
</li><li>
<p><code>21048</code> = MoveTool</p>
</li><li>
<p><code>21024</code> = MeasureTool</p>
</li><li>
<p><code>21100</code> = OffsetTool</p>
</li><li>
<p><code>21074</code> = PaintTool</p>
</li><li>
<p><code>21013</code> = PasteTool</p>
</li><li>
<p><code>21095</code> = PolyTool</p>
</li><li>
<p><code>21515</code> = PositionTextureTool</p>
</li><li>
<p><code>21041</code> = PushPullTool</p>
</li><li>
<p><code>21057</code> = ProtractorTool</p>
</li><li>
<p><code>21094</code> = RectangleTool</p>
</li><li>
<p><code>21129</code> = RotateTool</p>
</li><li>
<p><code>21236</code> = ScaleTool</p>
</li><li>
<p><code>21022</code> = SelectionTool</p>
</li><li>
<p><code>21337</code> = SectionPlaneTool</p>
</li><li>
<p><code>21020</code> = SketchTool</p>
</li><li>
<p><code>21405</code> = TextTool</p>
</li></ul>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code "#{object.source_type}"'><code><span class='comment'># This is an example of an observer that watches tool interactions.
</span><span class='kw'>class</span> <span class='const'>MyToolsObserver</span> <span class='op'>&lt;</span> <span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span><span class='op'>::</span><span class='const'>ToolsObserver</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_onActiveToolChanged'><a href="#onActiveToolChanged-instance_method" title="Sketchup::ToolsObserver#onActiveToolChanged (method)">onActiveToolChanged</a></span>(<span class='id identifier rubyid_tools'>tools</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_name'>tool_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_id'>tool_id</span>)
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onActiveToolChanged: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tool_name'>tool_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Attach the observer.
</span><span class='const'><a href="../Sketchup.html" title="Sketchup (module)">Sketchup</a></span>.<span class='id identifier rubyid_active_model'><a href="../Sketchup.html#active_model-class_method" title="Sketchup.active_model (method)">active_model</a></span>.<span class='id identifier rubyid_tools'><a href="Model.html#tools-instance_method" title="Sketchup::Model#tools (method)">tools</a></span>.<span class='id identifier rubyid_add_observer'><a href="Tools.html#add_observer-instance_method" title="Sketchup::Tools#add_observer (method)">add_observer</a></span>(<span class='const'>MyToolsObserver</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>
  </div>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#onActiveToolChanged-instance_method" title="#onActiveToolChanged (instance method)">#<strong>onActiveToolChanged</strong>(tools, tool_name, tool_id)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Once you subclass <code>ToolsObserver</code> with your unique class, you can override the <a href="#onActiveToolChanged-instance_method" title="Sketchup::ToolsObserver#onActiveToolChanged (method)">#onActiveToolChanged</a> method to receive tool change notifications.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#onToolStateChanged-instance_method" title="#onToolStateChanged (instance method)">#<strong>onToolStateChanged</strong>(tools, tool_name, tool_id, tool_state)  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="#onToolStateChanged-instance_method" title="Sketchup::ToolsObserver#onToolStateChanged (method)">#onToolStateChanged</a> method is called each time the user performs an action with a tool.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="onActiveToolChanged-instance_method">
  <h3 class='signature  first'>
    #<strong>onActiveToolChanged</strong>(tools, tool_name, tool_id)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>In SketchUp 6 and SketchUp 7.0, tool names on the Mac have some of their first characters truncated. For instance, on Windows, a tool is <tt>“CameraOrbit”</tt>. On the Mac, is comes across as <tt>“raOrbit”</tt>.  Therefore, use the <code>tool_id</code> to keep track of which tool you need to watch for, or use logic that corrects for the error. There is an example method of one way to do this shown below. (This example is not a comprehensive list of the tool names.)</p>
</div>
  </div>


<p>Once you subclass <code>ToolsObserver</code> with your unique class, you can override the <code>#onActiveToolChanged</code> method to receive tool change notifications.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onActiveToolChanged'>onActiveToolChanged</span>(<span class='id identifier rubyid_tools'>tools</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_name'>tool_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_id'>tool_id</span>)
  <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>=</span> <span class='id identifier rubyid_fix_mac_tool_name'>fix_mac_tool_name</span>(<span class='id identifier rubyid_tool_name'>tool_name</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onActiveToolChanged: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tool_name'>tool_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># Returns the &quot;correct&quot; tool name to account for mac API differences.
</span><span class='comment'>#
</span><span class='comment'>#   Args:
</span><span class='comment'>#     tool_name     The tool name to fix
</span><span class='comment'>#
</span><span class='comment'>#   Returns
</span><span class='comment'>#     string   corrected tool name
</span><span class='kw'>def</span> <span class='id identifier rubyid_fix_mac_tool_name'>fix_mac_tool_name</span>(<span class='id identifier rubyid_tool_name'>tool_name</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>eTool</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ScaleTool</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ool</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MoveTool</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onentCSTool</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ComponentCSTool</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PullTool</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_tool_name'>tool_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PushPullTool</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_tool_name'>tool_name</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>tools</span>
    <span class='type'>(<a href="Tools.html" title="Sketchup::Tools (class)">Sketchup::Tools</a>)</span>
&mdash;    <div class='inline'>
<p>A Tools object.</p>
</div>
  </li>
  <li>
    <span class='name'>tool_name</span>
    <span class='type'>(<a href="../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the tool.</p>
</div>
  </li>
  <li>
    <span class='name'>tool_id</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'>
<p>The ID of the tool. This is a predefined number unique to a given tool. For example, the <a href="Materials.html" title="Sketchup::Materials (class)"><code>Materials</code></a> Browser is tool_id 21074.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>

<section class='method_details' id="onToolStateChanged-instance_method">
  <h3 class='signature '>
    #<strong>onToolStateChanged</strong>(tools, tool_name, tool_id, tool_state)  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>In SketchUp 6 and SketchUp 7, tool names on the Mac have their first few characters truncated. For instance, on Windows, a tool is <tt>“CameraOrbit”.</tt> On the Mac, is comes across as <tt>“raOrbit”</tt>.  Therefore, use the tool_id to keep track of which tool you need to watch for, or use logic that corrects for the error. This bug was fixed in SketchUp 8.0.</p>
</div>
  </div>


<p>The <code>#onToolStateChanged</code> method is called each time the user performs an action with a tool. The actual state that is returned is an internal number that varies tool to tool. If you want to watch existing tools for every interaction, you will need to experiment with the tool state to determine which states you care about. There is little consistency tool to tool.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='kw'>def</span> <span class='id identifier rubyid_onToolStateChanged'>onToolStateChanged</span>(<span class='id identifier rubyid_tools'>tools</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_name'>tool_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_id'>tool_id</span><span class='comma'>,</span> <span class='id identifier rubyid_tool_state'>tool_state</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onToolStateChanged: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tool_name'>tool_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tool_state'>tool_state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>tools</span>
    <span class='type'>(<a href="Tools.html" title="Sketchup::Tools (class)">Sketchup::Tools</a>)</span>
&mdash;    <div class='inline'>
<p>A Tools object.</p>
</div>
  </li>
  <li>
    <span class='name'>tool_name</span>
    <span class='type'>(<a href="../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the tool.</p>
</div>
  </li>
  <li>
    <span class='name'>tool_id</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'>
<p>The ID of the tool. This is a predefined number unique to a given tool. For example, the <a href="Materials.html" title="Sketchup::Materials (class)"><code>Materials</code></a> Browser is tool_id 21074.</p>
</div>
  </li>
  <li>
    <span class='name'>tool_state</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'>
<p>A number identifying the state the tool just entered.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Version:</p>
<ul class='version'>
  <li>
    <div class='inline'>
<p>SketchUp 6.0</p>
</div>
  </li>
</ul>

</div>

</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>