<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::SpecificationRecord &mdash; rubygems  Ruby-4.0.1 p0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Gem::SpecificationRecord",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-4.0.1</a> &raquo; 
      <a href='../'>rubygems</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../Gem.html" title="Gem (module)">Gem</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SpecificationRecord&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Gem::SpecificationRecord</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Enumerable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L4'>lib/rubygems/specification_record.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='NOT_FOUND-constant' class='summary_signature priv'>NOT_FOUND =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Sentinel object to represent “not found” stubs</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L26-L26'># File 'lib/rubygems/specification_record.rb', line 26</a>    <pre class='code ruby'><span class='const'>Struct</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::SpecificationRecord.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_spec'>to_spec</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_this'>this</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::SpecificationRecord.new (method)">new</a></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#dirs_from-class_method" title=".dirs_from (class method)">.<strong>dirs_from</strong>(paths)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#from_path-class_method" title=".from_path (class method)">.<strong>from_path</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(dirs)  &#x21d2; SpecificationRecord </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#all-instance_method" title="#all (instance method)">#<strong>all</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the list of all specifications in the record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#all=-instance_method" title="#all= (instance method)">#<strong>all=</strong>(specs)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the specs known by the record to <code>specs</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#add_spec-instance_method" title="#add_spec (instance method)">#<strong>add_spec</strong>(spec)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds <code>spec</code> to the record, keeping the collection properly sorted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#all_names-instance_method" title="#all_names (instance method)">#<strong>all_names</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return full names of all specs in the record in sorted order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enumerate every known spec.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_active_stub_by_path-instance_method" title="#find_active_stub_by_path (instance method)">#<strong>find_active_stub_by_path</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a>, among those already activated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_all_by_name-instance_method" title="#find_all_by_name (instance method)">#<strong>find_all_by_name</strong>(name, *requirements)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns every spec in the record that matches <code>name</code> and optional <code>requirements</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_by_path-instance_method" title="#find_by_path (instance method)">#<strong>find_by_path</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_inactive_by_path-instance_method" title="#find_inactive_by_path (instance method)">#<strong>find_inactive_by_path</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a> amongst the specs that are not activated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#latest_spec_for-instance_method" title="#latest_spec_for (instance method)">#<strong>latest_spec_for</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the latest installed spec in the record for gem <code>name</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#latest_specs-instance_method" title="#latest_specs (instance method)">#<strong>latest_specs</strong>(prerelease)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the latest specs in the record, optionally including prerelease specs if <code>prerelease</code> is true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_spec-instance_method" title="#remove_spec (instance method)">#<strong>remove_spec</strong>(spec)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes <code>spec</code> from the record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stubs-instance_method" title="#stubs (instance method)">#<strong>stubs</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="StubSpecification.html" title="Gem::StubSpecification (class)"><code>StubSpecification</code></a> for every specification in the record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stubs_for-instance_method" title="#stubs_for (instance method)">#<strong>stubs_for</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="StubSpecification.html" title="Gem::StubSpecification (class)"><code>StubSpecification</code></a> for every specification in the record named <code>name</code> only returns stubs that match <a href="../Gem.html#platforms-class_method" title="Gem.platforms (method)">platforms</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stubs_for_pattern-instance_method" title="#stubs_for_pattern (instance method)">#<strong>stubs_for_pattern</strong>(pattern, match_platform = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finds stub specifications matching a pattern in the record, optionally filtering out specs not matching the current platform.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#installed_stubs-instance_method" title="#installed_stubs (instance method)">#<strong>installed_stubs</strong>(pattern)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#map_stubs-instance_method" title="#map_stubs (instance method)">#<strong>map_stubs</strong>(pattern)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(dirs)  &#x21d2; <code>SpecificationRecord</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L15-L23'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='23'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_dirs'>dirs</span>)
  <span class='ivar'>@all</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@stubs</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@stubs_by_name</span> <span class='op'>=</span> {}
  <span class='ivar'>@spec_with_requirable_file</span> <span class='op'>=</span> {}
  <span class='ivar'>@active_stub_with_requirable_file</span> <span class='op'>=</span> {}

  <span class='ivar'>@dirs</span> <span class='op'>=</span> <span class='id identifier rubyid_dirs'>dirs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="dirs_from-class_method">
  <h3 class='signature  first'>
    .<strong>dirs_from</strong>(paths)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L5-L9'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5' data-end='9'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_dirs_from'>dirs_from</span>(<span class='id identifier rubyid_paths'><a href="../Gem.html#paths-class_method" title="Gem.paths (method)">paths</a></span>)
  <span class='id identifier rubyid_paths'><a href="../Gem.html#paths-class_method" title="Gem.paths (method)">paths</a></span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='op'>|</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="from_path-class_method">
  <h3 class='signature '>
    .<strong>from_path</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L11-L13'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11' data-end='13'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 11</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_from_path'>from_path</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>)
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Gem::SpecificationRecord.new (method)">new</a></span>(<span class='id identifier rubyid_dirs_from'><a href="#dirs_from-class_method" title="Gem::SpecificationRecord.dirs_from (method)">dirs_from</a></span>([<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>]))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="all-instance_method">
  <h3 class='signature rw first'>
    #<strong>all</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the list of all specifications in the record</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L32-L34'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='32' data-end='34'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 32</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_all'>all</span>
  <span class='ivar'>@all</span> <span class='op'>||=</span> <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_spec'>to_spec</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="all=-instance_method">
  <h3 class='signature rw'>
    #<strong>all=</strong>(specs)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the specs known by the record to <code>specs</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L101-L104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_all='>all=</span>(<span class='id identifier rubyid_specs'>specs</span>)
  <span class='ivar'>@stubs_by_name</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span>.<span class='id identifier rubyid_group_by'>group_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>)
  <span class='ivar'>@all</span> <span class='op'>=</span> <span class='ivar'>@stubs</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="add_spec-instance_method">
  <h3 class='signature  first'>
    #<strong>add_spec</strong>(spec)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds <code>spec</code> to the record, keeping the collection properly sorted.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L78-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='78' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_spec'>add_spec</span>(<span class='id identifier rubyid_spec'>spec</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_all'><a href="#all-instance_method" title="Gem::SpecificationRecord#all (method)">all</a></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_spec'>spec</span>

  <span class='id identifier rubyid_all'><a href="#all-instance_method" title="Gem::SpecificationRecord#all (method)">all</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span>
  (<span class='ivar'>@stubs_by_name</span>[<span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_name'>name</span>] <span class='op'>||=</span> []) <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span>

  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid__resort!'><a href="Specification.html#_resort!-class_method" title="Gem::Specification._resort! (method)">_resort!</a></span>(<span class='ivar'>@stubs_by_name</span>[<span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_name'>name</span>])
  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid__resort!'><a href="Specification.html#_resort!-class_method" title="Gem::Specification._resort! (method)">_resort!</a></span>(<span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="all_names-instance_method">
  <h3 class='signature '>
    #<strong>all_names</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return full names of all specs in the record in sorted order.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L109-L111'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='109' data-end='111'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 109</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_all_names'>all_names</span>
  <span class='id identifier rubyid_all'><a href="#all-instance_method" title="Gem::SpecificationRecord#all (method)">all</a></span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_full_name'>full_name</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enumerate every known spec.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L118-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_all'><a href="#all-instance_method" title="Gem::SpecificationRecord#all (method)">all</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_x'>x</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_active_stub_by_path-instance_method">
  <h3 class='signature '>
    #<strong>find_active_stub_by_path</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>, among those already activated.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L173-L179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='179'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_active_stub_by_path'>find_active_stub_by_path</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>)
  <span class='id identifier rubyid_stub'>stub</span> <span class='op'>=</span> <span class='ivar'>@active_stub_with_requirable_file</span>[<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>] <span class='op'>||=</span> <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>.<span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_activated?'>activated?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_contains_requirable_file?'>contains_requirable_file?</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>)
  <span class='kw'>end</span> <span class='op'>||</span> <span class='const'><a href="#NOT_FOUND-constant" title="Gem::SpecificationRecord::NOT_FOUND (constant)">NOT_FOUND</a></span>

  <span class='id identifier rubyid_stub'>stub</span>.<span class='id identifier rubyid_this'>this</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_all_by_name-instance_method">
  <h3 class='signature '>
    #<strong>find_all_by_name</strong>(name, *requirements)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns every spec in the record that matches <code>name</code> and optional <code>requirements</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L129-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='129' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 129</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_all_by_name'>find_all_by_name</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>)
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Requirement.html" title="Gem::Requirement (class)">Requirement</a></span>.<span class='id identifier rubyid_create'><a href="Requirement.html#create-class_method" title="Gem::Requirement.create (method)">create</a></span>(<span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span>)
  <span class='id identifier rubyid_env_req'>env_req</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_env_requirement'><a href="../Gem.html#env_requirement-class_method" title="Gem.env_requirement (method)">env_requirement</a></span>(<span class='id identifier rubyid_name'>name</span>)

  <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='id identifier rubyid_stubs_for'><a href="#stubs_for-instance_method" title="Gem::SpecificationRecord#stubs_for (method)">stubs_for</a></span>(<span class='id identifier rubyid_name'>name</span>).<span class='id identifier rubyid_find_all'>find_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span>(<span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_version'>version</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_env_req'>env_req</span>.<span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span>(<span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_version'>version</span>)
  <span class='kw'>end</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_spec'>to_spec</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_specific?'>specific?</span>
    <span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler_version_finder</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="BundlerVersionFinder.html" title="Gem::BundlerVersionFinder (module)">BundlerVersionFinder</a></span>.<span class='id identifier rubyid_prioritize!'><a href="BundlerVersionFinder.html#prioritize!-class_method" title="Gem::BundlerVersionFinder.prioritize! (method)">prioritize!</a></span>(<span class='id identifier rubyid_matches'>matches</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_matches'>matches</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_by_path-instance_method">
  <h3 class='signature '>
    #<strong>find_by_path</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L148-L155'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='148' data-end='155'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 148</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_by_path'>find_by_path</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>)
  <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span> <span class='op'>=</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>.<span class='id identifier rubyid_dup'>dup</span>.<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='ivar'>@spec_with_requirable_file</span>[<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>] <span class='op'>||=</span> <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>.<span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_contains_requirable_file?'>contains_requirable_file?</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>
  <span class='kw'>end</span> <span class='op'>||</span> <span class='const'><a href="#NOT_FOUND-constant" title="Gem::SpecificationRecord::NOT_FOUND (constant)">NOT_FOUND</a></span>

  <span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_to_spec'>to_spec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_inactive_by_path-instance_method">
  <h3 class='signature '>
    #<strong>find_inactive_by_path</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the best specification in the record that contains the file matching <a href="../Gem.html#path-class_method" title="Gem.path (method)">Gem.path</a> amongst the specs that are not activated.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L161-L167'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='161' data-end='167'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 161</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_inactive_by_path'>find_inactive_by_path</span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>)
  <span class='id identifier rubyid_stub'>stub</span> <span class='op'>=</span> <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>.<span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_activated?'>activated?</span>
    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_contains_requirable_file?'>contains_requirable_file?</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_stub'>stub</span><span class='op'>&amp;.</span><span class='id identifier rubyid_to_spec'>to_spec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="installed_stubs-instance_method">
  <h3 class='signature priv'>
    #<strong>installed_stubs</strong>(pattern)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L198-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='198' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_installed_stubs'>installed_stubs</span>(<span class='id identifier rubyid_pattern'>pattern</span>)
  <span class='id identifier rubyid_map_stubs'><a href="#map_stubs-instance_method" title="Gem::SpecificationRecord#map_stubs (method)">map_stubs</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='id identifier rubyid_base_dir'>base_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_gems_dir'>gems_dir</span><span class='op'>|</span>
    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="StubSpecification.html" title="Gem::StubSpecification (class)">StubSpecification</a></span>.<span class='id identifier rubyid_gemspec_stub'><a href="StubSpecification.html#gemspec_stub-class_method" title="Gem::StubSpecification.gemspec_stub (method)">gemspec_stub</a></span>(<span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='id identifier rubyid_base_dir'>base_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_gems_dir'>gems_dir</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="latest_spec_for-instance_method">
  <h3 class='signature '>
    #<strong>latest_spec_for</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the latest installed spec in the record for gem <code>name</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L192-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='192' data-end='194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 192</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_latest_spec_for'>latest_spec_for</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='id identifier rubyid_latest_specs'><a href="#latest_specs-instance_method" title="Gem::SpecificationRecord#latest_specs (method)">latest_specs</a></span>(<span class='kw'>true</span>).<span class='id identifier rubyid_find'>find</span> {<span class='op'>|</span><span class='id identifier rubyid_installed_spec'>installed_spec</span><span class='op'>|</span> <span class='id identifier rubyid_installed_spec'>installed_spec</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="latest_specs-instance_method">
  <h3 class='signature '>
    #<strong>latest_specs</strong>(prerelease)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the latest specs in the record, optionally including prerelease specs if <code>prerelease</code> is true.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L185-L187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='185' data-end='187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 185</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_latest_specs'>latest_specs</span>(<span class='id identifier rubyid_prerelease'>prerelease</span>)
  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid__latest_specs'><a href="Specification.html#_latest_specs-class_method" title="Gem::Specification._latest_specs (method)">_latest_specs</a></span> <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span><span class='comma'>,</span> <span class='id identifier rubyid_prerelease'>prerelease</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="map_stubs-instance_method">
  <h3 class='signature priv'>
    #<strong>map_stubs</strong>(pattern)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L204-L210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_map_stubs'>map_stubs</span>(<span class='id identifier rubyid_pattern'>pattern</span>)
  <span class='ivar'>@dirs</span>.<span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'><a href="../Gem.html#dir-class_method" title="Gem.dir (method)">dir</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_base_dir'>base_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span> <span class='id identifier rubyid_dir'><a href="../Gem.html#dir-class_method" title="Gem.dir (method)">dir</a></span>
    <span class='id identifier rubyid_gems_dir'>gems_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_base_dir'>base_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_gemspec_stubs_in'><a href="Specification.html#gemspec_stubs_in-class_method" title="Gem::Specification.gemspec_stubs_in (method)">gemspec_stubs_in</a></span>(<span class='id identifier rubyid_dir'><a href="../Gem.html#dir-class_method" title="Gem.dir (method)">dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span>) {<span class='op'>|</span><span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_path'><a href="../Gem.html#path-class_method" title="Gem.path (method)">path</a></span><span class='comma'>,</span> <span class='id identifier rubyid_base_dir'>base_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_gems_dir'>gems_dir</span> }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_spec-instance_method">
  <h3 class='signature '>
    #<strong>remove_spec</strong>(spec)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes <code>spec</code> from the record.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L92-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='92' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_spec'>remove_spec</span>(<span class='id identifier rubyid_spec'>spec</span>)
  <span class='id identifier rubyid_all'><a href="#all-instance_method" title="Gem::SpecificationRecord#all (method)">all</a></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_to_spec'>to_spec</span>
  <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_spec'>spec</span>
  (<span class='ivar'>@stubs_by_name</span>[<span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_name'>name</span>] <span class='op'>||</span> []).<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_spec'>spec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stubs-instance_method">
  <h3 class='signature '>
    #<strong>stubs</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="StubSpecification.html" title="Gem::StubSpecification (class)"><code>StubSpecification</code></a> for every specification in the record</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L39-L47'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='39' data-end='47'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 39</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stubs'>stubs</span>
  <span class='ivar'>@stubs</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.gemspec</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_stubs'>stubs</span> <span class='op'>=</span> <span class='id identifier rubyid_stubs_for_pattern'><a href="#stubs_for_pattern-instance_method" title="Gem::SpecificationRecord#stubs_for_pattern (method)">stubs_for_pattern</a></span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='kw'>false</span>)

    <span class='ivar'>@stubs_by_name</span> <span class='op'>=</span> <span class='id identifier rubyid_stubs'>stubs</span>.<span class='id identifier rubyid_select'>select</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Platform.html" title="Gem::Platform (class)">Platform</a></span>.<span class='id identifier rubyid_match_spec?'><a href="Platform.html#match_spec%3F-class_method" title="Gem::Platform.match_spec? (method)">match_spec?</a></span> <span class='id identifier rubyid_s'>s</span> }.<span class='id identifier rubyid_group_by'>group_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>)
    <span class='id identifier rubyid_stubs'>stubs</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stubs_for-instance_method">
  <h3 class='signature '>
    #<strong>stubs_for</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="StubSpecification.html" title="Gem::StubSpecification (class)"><code>StubSpecification</code></a> for every specification in the record named <code>name</code> only returns stubs that match <a href="../Gem.html#platforms-class_method" title="Gem.platforms (method)">Gem.platforms</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L53-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='53' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 53</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stubs_for'>stubs_for</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='kw'>if</span> <span class='ivar'>@stubs</span>
    <span class='ivar'>@stubs_by_name</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>||</span> []
  <span class='kw'>else</span>
    <span class='ivar'>@stubs_by_name</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>||=</span> <span class='id identifier rubyid_stubs_for_pattern'><a href="#stubs_for_pattern-instance_method" title="Gem::SpecificationRecord#stubs_for_pattern (method)">stubs_for_pattern</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-*.gemspec</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stubs_for_pattern-instance_method">
  <h3 class='signature '>
    #<strong>stubs_for_pattern</strong>(pattern, match_platform = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finds stub specifications matching a pattern in the record, optionally filtering out specs not matching the current platform</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/lib/rubygems/specification_record.rb#L67-L73'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='73'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/specification_record.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stubs_for_pattern'>stubs_for_pattern</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_match_platform'>match_platform</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_installed_stubs'><a href="#installed_stubs-instance_method" title="Gem::SpecificationRecord#installed_stubs (method)">installed_stubs</a></span> <span class='op'>=</span> <span class='id identifier rubyid_installed_stubs'><a href="#installed_stubs-instance_method" title="Gem::SpecificationRecord#installed_stubs (method)">installed_stubs</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)
  <span class='id identifier rubyid_installed_stubs'><a href="#installed_stubs-instance_method" title="Gem::SpecificationRecord#installed_stubs (method)">installed_stubs</a></span>.<span class='id identifier rubyid_select!'>select!</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Platform.html" title="Gem::Platform (class)">Platform</a></span>.<span class='id identifier rubyid_match_spec?'><a href="Platform.html#match_spec%3F-class_method" title="Gem::Platform.match_spec? (method)">match_spec?</a></span> <span class='id identifier rubyid_s'>s</span> } <span class='kw'>if</span> <span class='id identifier rubyid_match_platform'>match_platform</span>
  <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span> <span class='op'>=</span> <span class='id identifier rubyid_installed_stubs'><a href="#installed_stubs-instance_method" title="Gem::SpecificationRecord#installed_stubs (method)">installed_stubs</a></span> <span class='op'>+</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_default_stubs'><a href="Specification.html#default_stubs-class_method" title="Gem::Specification.default_stubs (method)">default_stubs</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)
  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid__resort!'><a href="Specification.html#_resort!-class_method" title="Gem::Specification._resort! (method)">_resort!</a></span>(<span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>)
  <span class='id identifier rubyid_stubs'><a href="#stubs-instance_method" title="Gem::SpecificationRecord#stubs (method)">stubs</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>