<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Exception: SystemCallError &mdash; Core  Ruby-4.0.1 p0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "SystemCallError",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-4.0.1</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_S'>Index (S)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SystemCallError&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Exception: SystemCallError</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="StandardError.html" title="StandardError (class)"><code>::StandardError</code></a>,
          <a href="Exception.html" title="Exception (class)"><code>::Exception</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="StandardError.html" title="StandardError (class)"><code>::StandardError</code></a>,
          <a href="Exception.html" title="Exception (class)"><code>::Exception</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="StandardError.html" title="StandardError (class)">StandardError</a></span>
        <ul class='fullTree'>
          <li><a href="Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="Exception.html" title="Exception (class)">Exception</a></li>
          <li class='next'><a href="StandardError.html" title="StandardError (class)">StandardError</a></li>
          <li class='next'>SystemCallError</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/error.c#L3717'>error.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/error.c#L3480'>error.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>SystemCallError</code> is the base class for all low-level platform-dependent errors.</p>

<p>The errors available on the current platform are subclasses of <code>SystemCallError</code> and are defined in the <a href="Errno.html" title="Errno (module)"><code>::Errno</code></a> module.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_open'><a href="File.html#open-class_method" title="File.open (method)">open</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does/not/exist</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p><em>raises the exception:</em></p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>ENOENT</span><span class='op'>:</span> <span class='const'>No</span> <span class='id identifier rubyid_such'>such</span> <span class='id identifier rubyid_file'>file</span> <span class='kw'>or</span> <span class='id identifier rubyid_directory'>directory</span> <span class='op'>-</span> <span class='id identifier rubyid_does'>does</span><span class='op'>/</span><span class='kw'>not</span><span class='op'>/</span><span class='id identifier rubyid_exist'>exist</span></code></pre>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="Exception.html" title="Exception (class)"><code>::Exception</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Exception.html#to_tty%3F-class_method" title="Exception.to_tty? (method)">.to_tty?</a></td>
      <td><div class='inline'><p>Returns <code>true</code> if exception messages will be sent to a terminal device.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#===-class_method" title="=== (class method)">.<strong>===</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return <code>true</code> if the receiver is a generic <code>SystemCallError</code>, or if the error numbers <code>self</code> and <em>other</em> are the same.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(msg, errno = nil, func = nil)  &#x21d2; system_call_error_subclass </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>errno</em> corresponds to a known system error code, constructs the appropriate <a href="Errno.html" title="Errno (module)"><code>::Errno</code></a> class for that error, otherwise constructs a generic <code>SystemCallError</code> object.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Exception.html" title="Exception (class)"><code>::Exception</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#exception-class_method" title="Exception.exception (method)">.exception</a></td>
      <td><div class='inline'><p>Returns an exception object of the same class as <code>self</code>; useful for creating a similar exception, but with a different message.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#new-class_method" title="Exception.new (method)">.new</a></td>
      <td><div class='inline'><p>Returns a new exception object.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#errno-instance_method" title="#errno (instance method)">#<strong>errno</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return this SystemCallError’s error number.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Exception.html" title="Exception (class)"><code>::Exception</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#==-instance_method" title="Exception#== (method)">#==</a></td>
      <td><div class='inline'><p>Returns whether <code>object</code> is the same class as <code>self</code> and its <code>#message</code> and <code>#backtrace</code> are equal to those of <code>self</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#backtrace-instance_method" title="Exception#backtrace (method)">#backtrace</a></td>
      <td><div class='inline'><p>Returns the backtrace (the list of code locations that led to the exception), as an array of strings.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#backtrace_locations-instance_method" title="Exception#backtrace_locations (method)">#backtrace_locations</a></td>
      <td><div class='inline'><p>Returns the backtrace (the list of code locations that led to the exception), as an array of <a href="Thread/Backtrace/Location.html" title="Thread::Backtrace::Location (class)"><code>::Thread::Backtrace::Location</code></a> instances.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#cause-instance_method" title="Exception#cause (method)">#cause</a></td>
      <td><div class='inline'><p>Returns the previous value of global variable <code>$!</code>, which may be <code>nil</code> (see <a href="file.exceptions.html#label-Global%2BVariables" title="Global Variables">Global Variables</a>):</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#detailed_message-instance_method" title="Exception#detailed_message (method)">#detailed_message</a></td>
      <td><div class='inline'><p>Returns the message string with enhancements:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#exception-instance_method" title="Exception#exception (method)">#exception</a></td>
      <td><div class='inline'><p>Returns an exception object of the same class as <code>self</code>; useful for creating a similar exception, but with a different message.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#full_message-instance_method" title="Exception#full_message (method)">#full_message</a></td>
      <td><div class='inline'><p>Returns an enhanced message string:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#inspect-instance_method" title="Exception#inspect (method)">#inspect</a></td>
      <td><div class='inline'><p>Returns a string representation of <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#message-instance_method" title="Exception#message (method)">#message</a></td>
      <td><div class='inline'><p>Returns <code>#to_s</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#set_backtrace-instance_method" title="Exception#set_backtrace (method)">#set_backtrace</a></td>
      <td><div class='inline'><p>Sets the backtrace value for <code>self</code>; returns the given <code>value</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Exception.html#to_s-instance_method" title="Exception#to_s (method)">#to_s</a></td>
      <td><div class='inline'><p>Returns a string representation of <code>self</code>:</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(msg, errno = nil, func = nil)  &#x21d2; <code>system_call_error_subclass</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>errno</em> corresponds to a known system error code, constructs the appropriate <a href="Errno.html" title="Errno (module)"><code>::Errno</code></a> class for that error, otherwise constructs a generic <code>SystemCallError</code> object. The error number is subsequently available via the <a href="#errno-instance_method" title="SystemCallError#errno (method)">#errno</a> method.</p>

<p>If only numeric object is given, it is treated as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> <em>errno</em>, and <em>msg</em> is omitted, otherwise the first argument <em>msg</em> is used as the additional error message.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SystemCallError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>EPIPE</span><span class='op'>::</span><span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span>)
<span class='comment'>#=&gt; #&lt;Errno::EPIPE: Broken pipe&gt;
</span>
<span class='const'>SystemCallError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; #&lt;SystemCallError: unknown error - foo&gt;
</span>
<span class='const'>SystemCallError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>EPIPE</span><span class='op'>::</span><span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span>)
<span class='comment'>#=&gt; #&lt;Errno::EPIPE: Broken pipe - foo&gt;</span></code></pre>

<p>If <em>func</em> is not <code>nil</code>, it is appended to the message with “<code> @ </code>”.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SystemCallError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>EPIPE</span><span class='op'>::</span><span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>here</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; #&lt;Errno::EPIPE: Broken pipe @ here - foo&gt;</span></code></pre>

<p>A subclass of <code>SystemCallError</code> can also be instantiated via the <code>new</code> method of the subclass.  See Errno.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/error.c#L3123-L3164'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3123' data-end='3164'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'error.c', line 3123</span></pre>
<pre class='code cpp'>

static VALUE
syserr_initialize(int argc, VALUE *argv, VALUE self)
{
    const char *err;
    VALUE mesg, error, func, errmsg;
    VALUE klass = rb_obj_class(self);

    if (klass == rb_eSystemCallError) {
        st_data_t data = (st_data_t)klass;
        rb_scan_args(argc, argv, &quot;12&quot;, &amp;mesg, &amp;error, &amp;func);
        if (argc == 1 &amp;&amp; FIXNUM_P(mesg)) {
            error = mesg; mesg = Qnil;
        }
        if (!NIL_P(error) &amp;&amp; st_lookup(syserr_tbl, NUM2LONG(error), &amp;data)) {
            klass = (VALUE)data;
            /* change class */
            if (!RB_TYPE_P(self, T_OBJECT)) { /* insurance to avoid type crash */
                rb_raise(rb_eTypeError, &quot;invalid instance type&quot;);
            }
            RBASIC_SET_CLASS(self, klass);
        }
    }
    else {
        rb_scan_args(argc, argv, &quot;02&quot;, &amp;mesg, &amp;func);
        error = rb_const_get(klass, id_Errno);
    }
    if (!NIL_P(error)) err = strerror(NUM2INT(error));
    else err = &quot;unknown error&quot;;

    errmsg = rb_enc_str_new_cstr(err, rb_locale_encoding());
    if (!NIL_P(mesg)) {
        VALUE str = StringValue(mesg);

        if (!NIL_P(func)) rb_str_catf(errmsg, &quot; @ %&quot;PRIsVALUE, func);
        rb_str_catf(errmsg, &quot; - %&quot;PRIsVALUE, str);
    }
    mesg = errmsg;

    rb_call_super(1, &amp;mesg);
    rb_ivar_set(self, id_errno, error);
    return self;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="===-class_method">
  <h3 class='signature  first'>
    .<strong>===</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return <code>true</code> if the receiver is a generic <code>SystemCallError</code>, or if the error numbers <code>self</code> and <em>other</em> are the same.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/error.c#L3187-L3203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3187' data-end='3203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'error.c', line 3187</span></pre>
<pre class='code cpp'>

static VALUE
syserr_eqq(VALUE self, VALUE exc)
{
    VALUE num, e;

    if (!rb_obj_is_kind_of(exc, rb_eSystemCallError)) {
        if (!rb_respond_to(exc, id_errno)) return Qfalse;
    }
    else if (self == rb_eSystemCallError) return Qtrue;

    num = rb_attr_get(exc, id_errno);
    if (NIL_P(num)) {
        num = rb_funcallv(exc, id_errno, 0, 0);
    }
    e = rb_const_get(self, id_Errno);
    return RBOOL(FIXNUM_P(num) ? num == e : rb_equal(num, e));
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="errno-instance_method">
  <h3 class='signature  first'>
    #<strong>errno</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return this SystemCallError’s error number.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v4.0.1/error.c#L3173-L3177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3173' data-end='3177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'error.c', line 3173</span></pre>
<pre class='code cpp'>

static VALUE
syserr_errno(VALUE self)
{
    return rb_attr_get(self, id_errno);
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>