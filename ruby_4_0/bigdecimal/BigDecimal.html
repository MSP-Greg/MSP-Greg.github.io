<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: BigDecimal &mdash; bigdecimal  Ruby-4.0.1 p0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "BigDecimal",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-4.0.1</a> &raquo; 
      <a href='.'>bigdecimal</a> &raquo; 
      <a href='_index.html#alpha_B'>Index (B)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>BigDecimal&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: BigDecimal</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a class='nodoc' href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)"><code>Internal</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Numeric.html" title="Numeric (class)"><code>::Numeric</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Numeric.html" title="Numeric (class)"><code>::Numeric</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="Numeric.html" title="Numeric (class)">Numeric</a></li>
          <li class='next'>BigDecimal</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3255'>ext/bigdecimal/bigdecimal.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L13'>lib/bigdecimal.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L4'>lib/bigdecimal.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal/util.rb#L78'>lib/bigdecimal/util.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>BigDecimal</code> provides arbitrary-precision floating point decimal arithmetic.</p>

<h3 id="label-Introduction">Introduction</h3>

<p>Ruby provides built-in support for arbitrary precision integer arithmetic.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>42</span><span class='op'>**</span><span class='int'>13</span>  <span class='comment'>#=&gt;   1265437718438866624512</span></code></pre>

<p><code>BigDecimal</code> provides similar support for very large or very accurate floating point numbers.</p>

<p>Decimal arithmetic is also useful for general calculation, because it provides the correct answers people expect–whereas normal binary floating point arithmetic often introduces subtle errors because of the conversion between base 10 and base 2.</p>

<p>For example, try:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='int'>10_000</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='float'>0.0001</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_sum'>sum</span> <span class='comment'>#=&gt; 0.9999999999999062</span></code></pre>

<p>and contrast with the output from:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bigdecimal</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>)
<span class='int'>10_000</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0001</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_sum'>sum</span> <span class='comment'>#=&gt; 0.1E1</span></code></pre>

<p>Similarly:</p>

<pre class="code ruby"><code class="ruby">(<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.2</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>-</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&quot;</span></span>)) <span class='op'>==</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.2</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; true
</span>
(<span class='float'>1.2</span> <span class='op'>-</span> <span class='float'>1.0</span>) <span class='op'>==</span> <span class='float'>0.2</span> <span class='comment'>#=&gt; false</span></code></pre>

<h3 id="label-A+Note+About+Precision">A Note About Precision</h3>

<p>For a calculation using a BigDecimal and another <code>value</code>, the precision of the result depends on the type of <code>value</code>:</p>
<ul><li>
<p>If <code>value</code> is a Float, the precision is Float::DIG + 1.</p>
</li><li>
<p>If <code>value</code> is a Rational, the precision is larger than <code>Float::DIG</code> + 1.</p>
</li><li>
<p>If <code>value</code> is a BigDecimal, the precision is <code>value</code>‘s precision in the internal representation, which is platform-dependent.</p>
</li><li>
<p>If <code>value</code> is other object, the precision is determined by the result of <tt>BigDecimal(value)</tt>.</p>
</li></ul>

<h3 id="label-Special+features+of+accurate+decimal+arithmetic">Special features of accurate decimal arithmetic</h3>

<p>Because BigDecimal is more accurate than normal binary floating point arithmetic, it requires some special values.</p>

<h4 id="label-Infinity">Infinity</h4>

<p><code>BigDecimal</code> sometimes needs to return infinity, for example if you divide a value by zero.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>/</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'>#=&gt; Infinity
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1.0</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>/</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'>#=&gt; -Infinity</span></code></pre>

<p>You can represent infinite numbers to <code>BigDecimal</code> using the strings <code>&#39;Infinity&#39;</code>, <code>&#39;+Infinity&#39;</code> and <code>&#39;-Infinity&#39;</code> (case-sensitive)</p>

<h4 id="label-Not+a+Number">Not a Number</h4>

<p>When a computation results in an undefined value, the special value <code>NaN</code> (for ‘not a number’) is returned.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>/</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; NaN</span></code></pre>

<p>You can also create undefined values.</p>

<p>NaN is never considered to be the same as any other value, even NaN itself:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_n'>n</span> <span class='op'>==</span> <span class='float'>0.0</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_n'>n</span> <span class='op'>==</span> <span class='id identifier rubyid_n'>n</span> <span class='comment'>#=&gt; false</span></code></pre>

<h4 id="label-Positive+and+negative+zero">Positive and negative zero</h4>

<p>If a computation results in a value which is too small to be represented as a <code>BigDecimal</code> within the currently specified limits of precision, zero must be returned.</p>

<p>If the value which is too small to be represented is negative, a <code>BigDecimal</code> value of negative zero is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>/</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; -0.0</span></code></pre>

<p>If the value is positive, a value of positive zero is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>/</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; 0.0</span></code></pre>

<p>(See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a> for how to specify limits of precision.)</p>

<p>Note that <code>-0.0</code> and <code>0.0</code> are considered to be the same for the purposes of comparison.</p>

<p>Note also that in mathematics, there is no particular concept of negative or positive zero; true mathematical zero has no sign.</p>

<h3 id="label-bigdecimal-2Futil">bigdecimal/util</h3>

<p>When you require <code>bigdecimal/util</code>, the <a href="#to_d-instance_method" title="BigDecimal#to_d (method)">#to_d</a> method will be available on <code>BigDecimal</code> and the native <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, <a href="Float.html" title="Float (class)"><code>::Float</code></a>, <a href="Rational.html" title="Rational (class)"><code>::Rational</code></a>, <a href="String.html" title="String (class)"><code>::String</code></a>, <a href="Complex.html" title="Complex (class)"><code>::Complex</code></a>, and <a href="NilClass.html" title="NilClass (class)"><code>::NilClass</code></a> classes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bigdecimal/util</span><span class='tstring_end'>&#39;</span></span>

<span class='int'>42</span>.<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>                         <span class='comment'># =&gt; 0.42e2
</span><span class='float'>0.5</span>.<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>                        <span class='comment'># =&gt; 0.5e0
</span>(<span class='int'>2</span><span class='op'>/</span><span class='rational'>3r</span>).<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>(<span class='int'>3</span>)                  <span class='comment'># =&gt; 0.667e0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.5</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>                      <span class='comment'># =&gt; 0.5e0
</span><span class='const'><a href="Complex.html" title="Complex (class)">Complex</a></span>(<span class='float'>0.1234567</span><span class='comma'>,</span> <span class='int'>0</span>).<span class='id identifier rubyid_to_d'><a href="Complex.html#to_d-instance_method" title="Complex#to_d (method)">to_d</a></span>(<span class='int'>4</span>)   <span class='comment'># =&gt; 0.1235e0
</span><span class='kw'>nil</span>.<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>                        <span class='comment'># =&gt; 0.0</span></code></pre>

<h3 id="label-Methods+for+Working+with+JSON">Methods for Working with JSON</h3>
<ul><li>
<p><a href="https://docs.ruby-lang.org/en/master/BigDecimal.html#method-c-json_create" target="_parent" title="::json_create">::json_create</a>: Returns a new BigDecimal object constructed from the given object.</p>
</li><li>
<p><a href="https://docs.ruby-lang.org/en/master/BigDecimal.html#method-i-as_json" target="_parent" title="{#as_json">{#as_json</a>}: Returns a 2-element hash representing <code>self</code>.</p>
</li><li>
<p><a href="https://docs.ruby-lang.org/en/master/BigDecimal.html#method-i-to_json" target="_parent" title="{#to_json">{#to_json</a>}: Returns a JSON string representing <code>self</code>.</p>
</li></ul>

<p>These methods are provided by the <a href="https://github.com/flori/json" target="_parent" title="JSON gem">JSON gem</a>. To make these methods available:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json/add/bigdecimal</span><span class='tstring_end'>&#39;</span></span></code></pre>
<ul><li>
<h2 id="label-License">License</h2>
</li></ul>

<p>Copyright © 2002 by Shigeo Kobayashi &lt;shigeo@tinyforest.gr.jp&gt;.</p>

<p><code>BigDecimal</code> is released under the Ruby and 2-clause BSD licenses. See <code>LICENSE.txt</code> for details.</p>

<p>Maintained by mrkn &lt;mrkn@mrkn.jp&gt; and ruby-core members.</p>

<p>Documented by zzak &lt;zachary@zacharyscott.net&gt;, mathew &lt;meta@pobox.com&gt;, and many other contributors.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='BASE-constant' class='summary_signature'>BASE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Base value used in internal calculations.  On a 32 bit system, <code>BASE</code> is 10000, indicating that calculation is done in groups of 4 digits. (If it were larger, BASE**2 wouldn’t fit in 32 bits, so you couldn’t guarantee that two groups could always be multiplied together without overflow.)</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3454'># File 'ext/bigdecimal/bigdecimal.c', line 3454</a>    <pre class='code c'><span class='const'>INT2FIX</span>((<span class='const'>SIGNED_VALUE</span>)<span class='const'><a href="#BASE-constant" title="BigDecimal::BASE (constant)">BASE</a></span>)</pre>
  </li>
  <li>
    <span id='EXCEPTION_ALL-constant' class='summary_signature'>EXCEPTION_ALL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines whether overflow, underflow or zero divide result in an exception being thrown. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3462'># File 'ext/bigdecimal/bigdecimal.c', line 3462</a>    <pre class='code c'><span class='int'>0xff</span></pre>
  </li>
  <li>
    <span id='EXCEPTION_INFINITY-constant' class='summary_signature'>EXCEPTION_INFINITY =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when the result of a computation is infinity.  See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3474'># File 'ext/bigdecimal/bigdecimal.c', line 3474</a>    <pre class='code c'><span class='int'>0x01</span></pre>
  </li>
  <li>
    <span id='EXCEPTION_NaN-constant' class='summary_signature'>EXCEPTION_NaN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when the result of a computation is not a number (NaN). See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3468'># File 'ext/bigdecimal/bigdecimal.c', line 3468</a>    <pre class='code c'><span class='int'>0x02</span></pre>
  </li>
  <li>
    <span id='EXCEPTION_OVERFLOW-constant' class='summary_signature'>EXCEPTION_OVERFLOW =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when the result of a computation is an overflow (a result too large to be represented). See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3486'># File 'ext/bigdecimal/bigdecimal.c', line 3486</a>    <pre class='code c'><span class='int'>0x01</span></pre>
  </li>
  <li>
    <span id='EXCEPTION_UNDERFLOW-constant' class='summary_signature'>EXCEPTION_UNDERFLOW =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when the result of a computation is an underflow (a result too small to be represented). See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3480'># File 'ext/bigdecimal/bigdecimal.c', line 3480</a>    <pre class='code c'><span class='int'>0x04</span></pre>
  </li>
  <li>
    <span id='EXCEPTION_ZERODIVIDE-constant' class='summary_signature'>EXCEPTION_ZERODIVIDE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when a division by zero is performed. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3492'># File 'ext/bigdecimal/bigdecimal.c', line 3492</a>    <pre class='code c'><span class='int'>0x10</span></pre>
  </li>
  <li>
    <span id='INFINITY-constant' class='summary_signature'>INFINITY =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>BigDecimal@Infinity] value.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3556'># File 'ext/bigdecimal/bigdecimal.c', line 3556</a>    <pre class='code c'><span class='const'>Positive</span> <span class='id identifier rubyid_infinity'>infinity</span>[<span class='id identifier rubyid_rdoc'>rdoc</span><span class='op'>-</span><span class='id identifier rubyid_ref'>ref</span></pre>
  </li>
  <li>
    <span id='NAN-constant' class='summary_signature'>NAN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>BigDecimal@Not+a+Number]‘ value.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3562'># File 'ext/bigdecimal/bigdecimal.c', line 3562</a>    <pre class='code c'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{Not a Number}[rdoc-ref</span></pre>
  </li>
  <li>
    <span id='ROUND_CEILING-constant' class='summary_signature'>ROUND_CEILING =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Round towards +Infinity. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3520'># File 'ext/bigdecimal/bigdecimal.c', line 3520</a>    <pre class='code c'><span class='int'>5</span></pre>
  </li>
  <li>
    <span id='ROUND_DOWN-constant' class='summary_signature'>ROUND_DOWN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that values should be rounded towards zero. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3509'># File 'ext/bigdecimal/bigdecimal.c', line 3509</a>    <pre class='code c'><span class='int'>2</span></pre>
  </li>
  <li>
    <span id='ROUND_FLOOR-constant' class='summary_signature'>ROUND_FLOOR =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Round towards -Infinity. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3523'># File 'ext/bigdecimal/bigdecimal.c', line 3523</a>    <pre class='code c'><span class='int'>6</span></pre>
  </li>
  <li>
    <span id='ROUND_HALF_DOWN-constant' class='summary_signature'>ROUND_HALF_DOWN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that digits &gt;= 6 should be rounded up, others rounded down. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3518'># File 'ext/bigdecimal/bigdecimal.c', line 3518</a>    <pre class='code c'><span class='int'>4</span></pre>
  </li>
  <li>
    <span id='ROUND_HALF_EVEN-constant' class='summary_signature'>ROUND_HALF_EVEN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Round towards the even neighbor. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3526'># File 'ext/bigdecimal/bigdecimal.c', line 3526</a>    <pre class='code c'><span class='int'>7</span></pre>
  </li>
  <li>
    <span id='ROUND_HALF_UP-constant' class='summary_signature'>ROUND_HALF_UP =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that digits &gt;= 5 should be rounded up, others rounded down. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3513'># File 'ext/bigdecimal/bigdecimal.c', line 3513</a>    <pre class='code c'><span class='int'>3</span></pre>
  </li>
  <li>
    <span id='ROUND_MODE-constant' class='summary_signature'>ROUND_MODE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Determines what happens when a result must be rounded in order to fit in the appropriate number of significant digits. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3499'># File 'ext/bigdecimal/bigdecimal.c', line 3499</a>    <pre class='code c'><span class='int'>0x100</span></pre>
  </li>
  <li>
    <span id='ROUND_UP-constant' class='summary_signature'>ROUND_UP =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that values should be rounded away from zero. See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3504'># File 'ext/bigdecimal/bigdecimal.c', line 3504</a>    <pre class='code c'><span class='int'>1</span></pre>
  </li>
  <li>
    <span id='SIGN_NEGATIVE_FINITE-constant' class='summary_signature'>SIGN_NEGATIVE_FINITE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is negative and finite. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3541'># File 'ext/bigdecimal/bigdecimal.c', line 3541</a>    <pre class='code c'><span class='op'>-</span><span class='int'>2</span></pre>
  </li>
  <li>
    <span id='SIGN_NEGATIVE_INFINITE-constant' class='summary_signature'>SIGN_NEGATIVE_INFINITE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is negative and infinite. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3547'># File 'ext/bigdecimal/bigdecimal.c', line 3547</a>    <pre class='code c'><span class='op'>-</span><span class='int'>3</span></pre>
  </li>
  <li>
    <span id='SIGN_NEGATIVE_ZERO-constant' class='summary_signature'>SIGN_NEGATIVE_ZERO =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is -0. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3535'># File 'ext/bigdecimal/bigdecimal.c', line 3535</a>    <pre class='code c'><span class='op'>-</span><span class='int'>1</span></pre>
  </li>
  <li>
    <span id='SIGN_NaN-constant' class='summary_signature'>SIGN_NaN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is not a number. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3529'># File 'ext/bigdecimal/bigdecimal.c', line 3529</a>    <pre class='code c'><span class='int'>0</span></pre>
  </li>
  <li>
    <span id='SIGN_POSITIVE_FINITE-constant' class='summary_signature'>SIGN_POSITIVE_FINITE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is positive and finite. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3538'># File 'ext/bigdecimal/bigdecimal.c', line 3538</a>    <pre class='code c'><span class='int'>2</span></pre>
  </li>
  <li>
    <span id='SIGN_POSITIVE_INFINITE-constant' class='summary_signature'>SIGN_POSITIVE_INFINITE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is positive and infinite. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3544'># File 'ext/bigdecimal/bigdecimal.c', line 3544</a>    <pre class='code c'><span class='int'>3</span></pre>
  </li>
  <li>
    <span id='SIGN_POSITIVE_ZERO-constant' class='summary_signature'>SIGN_POSITIVE_ZERO =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Indicates that a value is +0. See <a href="#sign-instance_method" title="BigDecimal#sign (method)">#sign</a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3532'># File 'ext/bigdecimal/bigdecimal.c', line 3532</a>    <pre class='code c'><span class='int'>1</span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The version of bigdecimal library</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3445'># File 'ext/bigdecimal/bigdecimal.c', line 3445</a>    <pre class='code c'><span class='id identifier rubyid_rb_str_new2'>rb_str_new2</span>(<span class='const'>BIGDECIMAL_VERSION</span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#_load-class_method" title="._load (class method)">.<strong>_load</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)"><code>Internal</code></a> method used to provide marshalling support.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#double_fig-class_method" title=".double_fig (class method)">.<strong>double_fig</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#interpret_loosely-class_method" title="interpret_loosely (class method)">.<strong>interpret_loosely</strong>(string)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>BigDecimal</code> converted loosely from <code>string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#limit-class_method" title="limit (class method)">.<strong>limit</strong>(digits)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Limit the number of significant digits in newly created <code>BigDecimal</code> numbers to the specified value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mode-class_method" title="mode (class method)">.<strong>mode</strong>(mode, setting = nil)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an integer representing the mode settings for exception handling and rounding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_exception_mode-class_method" title="save_exception_mode (class method)">.<strong>save_exception_mode</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the provided block, but preserve the exception mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_limit-class_method" title="save_limit (class method)">.<strong>save_limit</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the provided block, but preserve the precision limit.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_rounding_mode-class_method" title="save_rounding_mode (class method)">.<strong>save_rounding_mode</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the provided block, but preserve the rounding mode.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#finite%3F-instance_method" title="#finite? (instance method)">#<strong>finite?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns True if the value is finite (not NaN or infinite).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#infinite%3F-instance_method" title="#infinite? (instance method)">#<strong>infinite?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns nil, -1, or <tt>1 depending on whether the value is finite, -Infinity, or </tt>Infinity.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#nan%3F-instance_method" title="#nan? (instance method)">#<strong>nan?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns True if the value is Not a Number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#nonzero%3F-instance_method" title="#nonzero? (instance method)">#<strong>nonzero?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns self if the value is non-zero, nil otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#zero%3F-instance_method" title="#zero? (instance method)">#<strong>zero?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns True if the value is zero.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#%25-instance_method" title="#% (instance method)">#<strong>%</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(b)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Multiply by the specified value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#**-instance_method" title="#** (instance method)">#<strong>**</strong>(other)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal value of <code>self</code> raised to power <code>other</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(value)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal sum of <code>self</code> and <code>value</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B@-instance_method" title="#+ (instance method)">#<strong>+</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(value)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal difference of <code>self</code> and <code>value</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#-@-instance_method" title="#- (instance method)">#<strong>-</strong>  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal negation of self:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2F-instance_method" title="#/ (instance method)">#<strong>/</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<-instance_method" title="#&lt; (instance method)">#<strong>&lt;</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is less than <code>other</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=-instance_method" title="#&lt;= (instance method)">#<strong>&lt;=</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is less or equal to than <code>other</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(r)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The comparison operator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(r)  </a>
      (also: #===, #eql?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Tests for value equality; returns true if the values are equal.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#===-instance_method" title="#=== (instance method)">#<strong>===</strong>(r)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#==-instance_method" title="BigDecimal#== (method)">#==</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>-instance_method" title="#&gt; (instance method)">#<strong>&gt;</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is greater than <code>other</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>=-instance_method" title="#&gt;= (instance method)">#<strong>&gt;=</strong>(other)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is greater than or equal to <code>other</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#_dump-instance_method" title="#_dump (instance method)">#<strong>_dump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string representing the marshalling of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#abs-instance_method" title="#abs (instance method)">#<strong>abs</strong>  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal absolute value of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add-instance_method" title="#add (instance method)">#<strong>add</strong>(value, ndigits)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal sum of <code>self</code> and <code>value</code> with a precision of <code>ndigits</code> decimal digits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ceil-instance_method" title="#ceil (instance method)">#<strong>ceil</strong>(n)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the smallest integer greater than or equal to the value, as a <code>BigDecimal</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#coerce-instance_method" title="#coerce (instance method)">#<strong>coerce</strong>(other)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The coerce method provides support for Ruby type coercion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#div-instance_method" title="#div (instance method)">#<strong>div</strong>(value)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Divide by the specified value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#divmod-instance_method" title="#divmod (instance method)">#<strong>divmod</strong>(value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Divides by the specified value, and returns the quotient and modulus as <code>BigDecimal</code> numbers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  </a>
      (also: #clone)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(r)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#==-instance_method" title="BigDecimal#== (method)">#==</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exponent-instance_method" title="#exponent (instance method)">#<strong>exponent</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the exponent of the <code>BigDecimal</code> number, as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fix-instance_method" title="#fix (instance method)">#<strong>fix</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the integer part of the number, as a <code>BigDecimal</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#floor-instance_method" title="#floor (instance method)">#<strong>floor</strong>(n)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the largest integer less than or equal to the value, as a <code>BigDecimal</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#frac-instance_method" title="#frac (instance method)">#<strong>frac</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the fractional part of the number, as a <code>BigDecimal</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer hash value for <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string representation of self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#modulo-instance_method" title="#modulo (instance method)">#<strong>modulo</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mult-instance_method" title="#mult (instance method)">#<strong>mult</strong>(other, ndigits)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the BigDecimal product of <code>self</code> and <code>value</code> with a precision of <code>ndigits</code> decimal digits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#n_significant_digits-instance_method" title="#n_significant_digits (instance method)">#<strong>n_significant_digits</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of decimal significant digits in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#power-instance_method" title="#power (instance method)">#<strong>power</strong>(n)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the value raised to the power of n.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#precision-instance_method" title="#precision (instance method)">#<strong>precision</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of decimal digits in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#precision_scale-instance_method" title="#precision_scale (instance method)">#<strong>precision_scale</strong>  &#x21d2; Array, Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 2-length array; the first item is the result of <a href="#precision-instance_method" title="BigDecimal#precision (method)">#precision</a> and the second one is of <a href="#scale-instance_method" title="BigDecimal#scale (method)">#scale</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quo-instance_method" title="#quo (instance method)">#<strong>quo</strong>(value)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Divide by the specified value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remainder-instance_method" title="#remainder (instance method)">#<strong>remainder</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#round-instance_method" title="#round (instance method)">#<strong>round</strong>(n, mode)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Round to the nearest integer (by default), returning the result as a <code>BigDecimal</code> if n is specified and positive, or as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> if it isn’t.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scale-instance_method" title="#scale (instance method)">#<strong>scale</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of decimal digits following the decimal digits in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sign-instance_method" title="#sign (instance method)">#<strong>sign</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the sign of the value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Splits a <code>BigDecimal</code> number into four parts, returned as an array of values.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sqrt-instance_method" title="#sqrt (instance method)">#<strong>sqrt</strong>(prec)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the square root of the value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(value, digits)  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Subtract the specified value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_d-instance_method" title="#to_d (instance method)">#<strong>to_d</strong>  &#x21d2; BigDecimal </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_digits-instance_method" title="#to_digits (instance method)">#<strong>to_digits</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts a <code>BigDecimal</code> to a <a href="String.html" title="String (class)"><code>::String</code></a> of the form “nnnnnn.mmm”.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_f-instance_method" title="#to_f (instance method)">#<strong>to_f</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <a href="Float.html" title="Float (class)"><code>::Float</code></a> object having approximately the same value as the <code>BigDecimal</code> number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>  </a>
      (also: #to_int)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the value as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_int-instance_method" title="#to_int (instance method)">#<strong>to_int</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_i-instance_method" title="BigDecimal#to_i (method)">#to_i</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_r-instance_method" title="#to_r (instance method)">#<strong>to_r</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts a <code>BigDecimal</code> to a <a href="Rational.html" title="Rational (class)"><code>::Rational</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>(s)  &#x21d2; ? </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts the value to a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#truncate-instance_method" title="#truncate (instance method)">#<strong>truncate</strong>(n)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Truncate to the nearest integer (by default), returning the result as a <code>BigDecimal</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#vpdivd-instance_method" title="#vpdivd (instance method)">#<strong>vpdivd</strong>(r, cprec)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#vpmult-instance_method" title="#vpmult (instance method)">#<strong>vpmult</strong>(v)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#_decimal_shift-instance_method" title="#_decimal_shift (instance method)">#<strong>_decimal_shift</strong>(i)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#clone-instance_method" title="#clone (instance method)">#<strong>clone</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#dup-instance_method" title="BigDecimal#dup (method)">#dup</a>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="_load-class_method">
  <h3 class='signature  first'>
    .<strong>_load</strong>(str)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)"><code>::BigDecimal::Internal</code></a> method used to provide marshalling support. See the Marshal module.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L691-L707'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='691' data-end='707'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 691</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_load(VALUE self, VALUE str)
{
    BDVALUE v;
    unsigned char *pch;
    unsigned char ch;

    pch = (unsigned char *)StringValueCStr(str);
    /* First skip max prec. Don&#39;t trust the value. */
    while((*pch) != (unsigned char)&#39;\0&#39; &amp;&amp; (ch = *pch++) != (unsigned char)&#39;:&#39;) {
        if(!ISDIGIT(ch)) {
            rb_raise(rb_eTypeError, &quot;load failed: invalid character in the marshaled string&quot;);
        }
    }
    v = bdvalue_nonnullable(CreateFromString((char *)pch, self, true, true));
    return CheckGetValue(v);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="double_fig-class_method">
  <h3 class='signature '>
    .<strong>double_fig</strong>  
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3433'>GitHub</a> ]</span>

</section>

<section class='method_details' id="interpret_loosely-class_method">
  <h3 class='signature '>
    .<strong>interpret_loosely</strong>(string)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>BigDecimal</code> converted loosely from <code>string</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3030-L3039'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3030' data-end='3039'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3030</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_s_interpret_loosely(VALUE klass, VALUE str)
{
    char const *c_str = StringValueCStr(str);
    NULLABLE_BDVALUE v = CreateFromString(c_str, klass, false, true);
    if (v.bigdecimal_or_nil == Qnil)
        return Qnil;
    else
        return CheckGetValue(bdvalue_nonnullable(v));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="limit-class_method">
  <h3 class='signature '>
    .<strong>limit</strong>(digits)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Limit the number of significant digits in newly created <code>BigDecimal</code> numbers to the specified value. Rounding is performed as necessary, as specified by <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

<p>A limit of 0, the default, means no upper limit.</p>

<p>The limit specified by this method takes less priority over any limit specified to instance methods such as ceil, floor, truncate, or round.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3054-L3070'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3054' data-end='3070'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3054</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_limit(int argc, VALUE *argv, VALUE self)
{
    VALUE  nFig;
    VALUE  nCur = SIZET2NUM(VpGetPrecLimit());

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;nFig) == 1) {
	int nf;
	if (NIL_P(nFig)) return nCur;
	nf = NUM2INT(nFig);
	if (nf &lt; 0) {
	    rb_raise(rb_eArgError, &quot;argument must be positive&quot;);
	}
	VpSetPrecLimit(nf);
    }
    return nCur;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mode-class_method">
  <h3 class='signature '>
    .<strong>mode</strong>(mode, setting = nil)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an integer representing the mode settings for exception handling and rounding.</p>

<p>These modes control exception handling:</p>
<ul><li>
<p>BigDecimal::EXCEPTION_NaN.</p>
</li><li>
<p>BigDecimal::EXCEPTION_INFINITY.</p>
</li><li>
<p>BigDecimal::EXCEPTION_UNDERFLOW.</p>
</li><li>
<p>BigDecimal::EXCEPTION_OVERFLOW.</p>
</li><li>
<p>BigDecimal::EXCEPTION_ZERODIVIDE.</p>
</li><li>
<p>BigDecimal::EXCEPTION_ALL.</p>
</li></ul>

<p>Values for <code>setting</code> for exception handling:</p>
<ul><li>
<p><code>true</code>: sets the given <code>mode</code> to <code>true</code>.</p>
</li><li>
<p><code>false</code>: sets the given <code>mode</code> to <code>false</code>.</p>
</li><li>
<p><code>nil</code>: does not modify the mode settings.</p>
</li></ul>

<p>You can use method <a href="#save_exception_mode-class_method" title="BigDecimal.save_exception_mode (method)">.save_exception_mode</a> to temporarily change, and then automatically restore, exception modes.</p>

<p>For clarity, some examples below begin by setting all exception modes to <code>false</code>.</p>

<p>This mode controls the way rounding is to be performed:</p>
<ul><li>
<p>BigDecimal::ROUND_MODE</p>
</li></ul>

<p>You can use method <a href="#save_rounding_mode-class_method" title="BigDecimal.save_rounding_mode (method)">.save_rounding_mode</a> to temporarily change, and then automatically restore, the rounding mode.</p>

<p><strong>NaNs</strong></p>

<p>Mode BigDecimal::EXCEPTION_NaN controls behavior when a BigDecimal NaN is created.</p>

<p>Settings:</p>
<ul><li>
<p><code>false</code> (default): Returns <code>BigDecimal(&#39;NaN&#39;)</code>.</p>
</li><li>
<p><code>true</code>: Raises FloatDomainError.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>) <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&#39;</span></span>)                                 <span class='comment'># =&gt; NaN
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_NaN-constant" title="BigDecimal::EXCEPTION_NaN (constant)">EXCEPTION_NaN</a></span><span class='comma'>,</span> <span class='kw'>true</span>)  <span class='comment'># =&gt; 2
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># Raises FloatDomainError</span></code></pre>

<p><strong>Infinities</strong></p>

<p>Mode BigDecimal::EXCEPTION_INFINITY controls behavior when a BigDecimal Infinity or -Infinity is created. Settings:</p>
<ul><li>
<p><code>false</code> (default): Returns <code>BigDecimal(&#39;Infinity&#39;)</code> or <code>BigDecimal(&#39;-Infinity&#39;)</code>.</p>
</li><li>
<p><code>true</code>: Raises FloatDomainError.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>)     <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&#39;</span></span>)                                <span class='comment'># =&gt; Infinity
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&#39;</span></span>)                               <span class='comment'># =&gt; -Infinity
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_INFINITY-constant" title="BigDecimal::EXCEPTION_INFINITY (constant)">EXCEPTION_INFINITY</a></span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># Raises FloatDomainError
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># Raises FloatDomainError</span></code></pre>

<p><strong>Underflow</strong></p>

<p>Mode BigDecimal::EXCEPTION_UNDERFLOW controls behavior when a BigDecimal underflow occurs. Settings:</p>
<ul><li>
<p><code>false</code> (default): Returns <code>BigDecimal(&#39;0&#39;)</code> or <code>BigDecimal(&#39;-Infinity&#39;)</code>.</p>
</li><li>
<p><code>true</code>: Raises FloatDomainError.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>)      <span class='comment'># =&gt; 0
</span><span class='kw'>def</span> <span class='id identifier rubyid_flow_under'>flow_under</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0.1</span><span class='tstring_end'>&#39;</span></span>)
  <span class='int'>100</span>.<span class='id identifier rubyid_times'>times</span> { <span class='id identifier rubyid_x'>x</span> <span class='op'>*=</span> <span class='id identifier rubyid_x'>x</span> }
<span class='kw'>end</span>
<span class='id identifier rubyid_flow_under'>flow_under</span>                                             <span class='comment'># =&gt; 100
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_UNDERFLOW-constant" title="BigDecimal::EXCEPTION_UNDERFLOW (constant)">EXCEPTION_UNDERFLOW</a></span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='comment'># =&gt; 4
</span><span class='id identifier rubyid_flow_under'>flow_under</span> <span class='comment'># Raises FloatDomainError</span></code></pre>

<p><strong>Overflow</strong></p>

<p>Mode BigDecimal::EXCEPTION_OVERFLOW controls behavior when a BigDecimal overflow occurs. Settings:</p>
<ul><li>
<p><code>false</code> (default): Returns <code>BigDecimal(&#39;Infinity&#39;)</code> or <code>BigDecimal(&#39;-Infinity&#39;)</code>.</p>
</li><li>
<p><code>true</code>: Raises FloatDomainError.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>)     <span class='comment'># =&gt; 0
</span><span class='kw'>def</span> <span class='id identifier rubyid_flow_over'>flow_over</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10</span><span class='tstring_end'>&#39;</span></span>)
  <span class='int'>100</span>.<span class='id identifier rubyid_times'>times</span> { <span class='id identifier rubyid_x'>x</span> <span class='op'>*=</span> <span class='id identifier rubyid_x'>x</span> }
<span class='kw'>end</span>
<span class='id identifier rubyid_flow_over'>flow_over</span>                                             <span class='comment'># =&gt; 100
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_OVERFLOW-constant" title="BigDecimal::EXCEPTION_OVERFLOW (constant)">EXCEPTION_OVERFLOW</a></span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_flow_over'>flow_over</span> <span class='comment'># Raises FloatDomainError</span></code></pre>

<p><strong>Zero Division</strong></p>

<p>Mode BigDecimal::EXCEPTION_ZERODIVIDE controls behavior when a zero-division occurs. Settings:</p>
<ul><li>
<p><code>false</code> (default): Returns <code>BigDecimal(&#39;Infinity&#39;)</code> or <code>BigDecimal(&#39;-Infinity&#39;)</code>.</p>
</li><li>
<p><code>true</code>: Raises FloatDomainError.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>)       <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_one'>one</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_zero'>zero</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_one'>one</span> <span class='op'>/</span> <span class='id identifier rubyid_zero'>zero</span>                                              <span class='comment'># =&gt; Infinity
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ZERODIVIDE-constant" title="BigDecimal::EXCEPTION_ZERODIVIDE (constant)">EXCEPTION_ZERODIVIDE</a></span><span class='comma'>,</span> <span class='kw'>true</span>) <span class='comment'># =&gt; 16
</span><span class='id identifier rubyid_one'>one</span> <span class='op'>/</span> <span class='id identifier rubyid_zero'>zero</span> <span class='comment'># Raises FloatDomainError</span></code></pre>

<p><strong>All Exceptions</strong></p>

<p>Mode BigDecimal::EXCEPTION_ALL controls all of the above:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>false</span>) <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'>mode</span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_ALL-constant" title="BigDecimal::EXCEPTION_ALL (constant)">EXCEPTION_ALL</a></span><span class='comma'>,</span> <span class='kw'>true</span>)  <span class='comment'># =&gt; 23</span></code></pre>

<p><strong>Rounding</strong></p>

<p>Mode BigDecimal::ROUND_MODE controls the way rounding is to be performed; its <code>setting</code> values are:</p>
<ul><li>
<p><a href="#ROUND_UP-constant" title="BigDecimal::ROUND_UP (constant)">ROUND_UP</a>: Round away from zero. Aliased as <code>:up</code>.</p>
</li><li>
<p><a href="#ROUND_DOWN-constant" title="BigDecimal::ROUND_DOWN (constant)">ROUND_DOWN</a>: Round toward zero. Aliased as <code>:down</code> and <code>:truncate</code>.</p>
</li><li>
<p><a href="#ROUND_HALF_UP-constant" title="BigDecimal::ROUND_HALF_UP (constant)">ROUND_HALF_UP</a>: Round toward the nearest neighbor; if the neighbors are equidistant, round away from zero. Aliased as <code>:half_up</code> and <code>:default</code>.</p>
</li><li>
<p><a href="#ROUND_HALF_DOWN-constant" title="BigDecimal::ROUND_HALF_DOWN (constant)">ROUND_HALF_DOWN</a>: Round toward the nearest neighbor; if the neighbors are equidistant, round toward zero. Aliased as <code>:half_down</code>.</p>
</li><li>
<p><a href="#ROUND_HALF_EVEN-constant" title="BigDecimal::ROUND_HALF_EVEN (constant)">ROUND_HALF_EVEN</a> (Banker’s rounding): Round toward the nearest neighbor; if the neighbors are equidistant, round toward the even neighbor. Aliased as <code>:half_even</code> and <code>:banker</code>.</p>
</li><li>
<p><a href="#ROUND_CEILING-constant" title="BigDecimal::ROUND_CEILING (constant)">ROUND_CEILING</a>: Round toward positive infinity. Aliased as <code>:ceiling</code> and <code>:ceil</code>.</p>
</li><li>
<p><a href="#ROUND_FLOOR-constant" title="BigDecimal::ROUND_FLOOR (constant)">ROUND_FLOOR</a>: Round toward negative infinity. Aliased as <code>:floor:</code>.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L943-L994'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='943' data-end='994'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 943</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_mode(int argc, VALUE *argv, VALUE self)
{
    VALUE which;
    VALUE val;
    unsigned long f,fo;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;which, &amp;val);
    f = (unsigned long)NUM2INT(which);

    if (f &amp; VP_EXCEPTION_ALL) {
	/* Exception mode setting */
	fo = VpGetException();
	if (val == Qnil) return INT2FIX(fo);
	if (val != Qfalse &amp;&amp; val!=Qtrue) {
	    rb_raise(rb_eArgError, &quot;second argument must be true or false&quot;);
	    return Qnil; /* Not reached */
	}
	if (f &amp; VP_EXCEPTION_INFINITY) {
	    VpSetException((unsigned short)((val == Qtrue) ? (fo | VP_EXCEPTION_INFINITY) :
			(fo &amp; (~VP_EXCEPTION_INFINITY))));
	}
	fo = VpGetException();
	if (f &amp; VP_EXCEPTION_NaN) {
	    VpSetException((unsigned short)((val == Qtrue) ? (fo | VP_EXCEPTION_NaN) :
			(fo &amp; (~VP_EXCEPTION_NaN))));
	}
	fo = VpGetException();
	if (f &amp; VP_EXCEPTION_UNDERFLOW) {
	    VpSetException((unsigned short)((val == Qtrue) ? (fo | VP_EXCEPTION_UNDERFLOW) :
			(fo &amp; (~VP_EXCEPTION_UNDERFLOW))));
	}
	fo = VpGetException();
	if(f &amp; VP_EXCEPTION_ZERODIVIDE) {
	    VpSetException((unsigned short)((val == Qtrue) ? (fo | VP_EXCEPTION_ZERODIVIDE) :
			(fo &amp; (~VP_EXCEPTION_ZERODIVIDE))));
	}
	fo = VpGetException();
	return INT2FIX(fo);
    }
    if (VP_ROUND_MODE == f) {
	/* Rounding mode setting */
	unsigned short sw;
	fo = VpGetRoundMode();
	if (NIL_P(val)) return INT2FIX(fo);
	sw = check_rounding_mode(val);
	fo = VpSetRoundMode(sw);
	return INT2FIX(fo);
    }
    rb_raise(rb_eTypeError, &quot;first argument for BigDecimal.mode invalid&quot;);
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_exception_mode-class_method">
  <h3 class='signature '>
    .<strong>save_exception_mode</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the provided block, but preserve the exception mode</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_save_exception_mode'>save_exception_mode</span> <span class='kw'>do</span>
  <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_OVERFLOW-constant" title="BigDecimal::EXCEPTION_OVERFLOW (constant)">EXCEPTION_OVERFLOW</a></span><span class='comma'>,</span> <span class='kw'>false</span>)
  <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#EXCEPTION_NaN-constant" title="BigDecimal::EXCEPTION_NaN (constant)">EXCEPTION_NaN</a></span><span class='comma'>,</span> <span class='kw'>false</span>)

  <span class='const'>BigDecimal</span>(<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&#39;</span></span>))
  <span class='const'>BigDecimal</span>(<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&#39;</span></span>))
  <span class='const'>BigDecimal</span>(<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&#39;</span></span>))
<span class='kw'>end</span></code></pre>

<p>For use with the BigDecimal::EXCEPTION_*</p>

<p>See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3115-L3124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3115' data-end='3124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3115</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_save_exception_mode(VALUE self)
{
    unsigned short const exception_mode = VpGetException();
    int state;
    VALUE ret = rb_protect(rb_yield, Qnil, &amp;state);
    VpSetException(exception_mode);
    if (state) rb_jump_tag(state);
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_limit-class_method">
  <h3 class='signature '>
    .<strong>save_limit</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the provided block, but preserve the precision limit</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>(<span class='int'>100</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>
<span class='const'>BigDecimal</span>.<span class='id identifier rubyid_save_limit'>save_limit</span> <span class='kw'>do</span>
    <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>(<span class='int'>200</span>)
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3165-L3174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3165' data-end='3174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3165</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_save_limit(VALUE self)
{
    size_t const limit = VpGetPrecLimit();
    int state;
    VALUE ret = rb_protect(rb_yield, Qnil, &amp;state);
    VpSetPrecLimit(limit);
    if (state) rb_jump_tag(state);
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_rounding_mode-class_method">
  <h3 class='signature '>
    .<strong>save_rounding_mode</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the provided block, but preserve the rounding mode</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_save_rounding_mode'>save_rounding_mode</span> <span class='kw'>do</span>
  <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#ROUND_MODE-constant" title="BigDecimal::ROUND_MODE (constant)">ROUND_MODE</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_up'>up</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#ROUND_MODE-constant" title="BigDecimal::ROUND_MODE (constant)">ROUND_MODE</a></span>)
<span class='kw'>end</span></code></pre>

<p>For use with the BigDecimal::ROUND_*</p>

<p>See <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3140-L3149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3140' data-end='3149'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3140</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_save_rounding_mode(VALUE self)
{
    unsigned short const round_mode = VpGetRoundMode();
    int state;
    VALUE ret = rb_protect(rb_yield, Qnil, &amp;state);
    VpSetRoundMode(round_mode);
    if (state) rb_jump_tag(state);
    return ret;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="finite?-instance_method">
  <h3 class='signature ro first'>
    #<strong>finite?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns True if the value is finite (not NaN or infinite).</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1069-L1076'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1069' data-end='1076'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1069</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_IsFinite(VALUE self)
{
    Real *p = GetSelfVpValue(self);
    if (VpIsNaN(p)) return Qfalse;
    if (VpIsInf(p)) return Qfalse;
    return Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="infinite?-instance_method">
  <h3 class='signature ro'>
    #<strong>infinite?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns nil, -1, or <tt>1 depending on whether the value is finite, -Infinity, or </tt>Infinity.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1059-L1066'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1059' data-end='1066'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1059</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_IsInfinite(VALUE self)
{
    Real *p = GetSelfVpValue(self);
    if (VpIsPosInf(p)) return INT2FIX(1);
    if (VpIsNegInf(p)) return INT2FIX(-1);
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nan?-instance_method">
  <h3 class='signature ro'>
    #<strong>nan?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns True if the value is Not a Number.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1048-L1054'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1048' data-end='1054'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1048</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_IsNaN(VALUE self)
{
    Real *p = GetSelfVpValue(self);
    if (VpIsNaN(p))  return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nonzero?-instance_method">
  <h3 class='signature ro'>
    #<strong>nonzero?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns self if the value is non-zero, nil otherwise.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1430-L1435'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1430' data-end='1435'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1430</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_nonzero(VALUE self)
{
    Real *a = GetSelfVpValue(self);
    return VpIsZero(a) ? Qnil : self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="zero?-instance_method">
  <h3 class='signature ro'>
    #<strong>zero?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns True if the value is zero.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1422-L1427'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1422' data-end='1427'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1422</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_zero(VALUE self)
{
    Real *a = GetSelfVpValue(self);
    return VpIsZero(a) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="%-instance_method">
  <h3 class='signature  first'>
    #<strong>%</strong>  
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3587'>GitHub</a> ]</span>

</section>

<section class='method_details' id="*-instance_method">
  <h3 class='signature '>
    #<strong>*</strong>(b)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Multiply by the specified value.</p>

<p>The result precision will be the precision of the sum of each precision.</p>

<p>See <a href="#mult-instance_method" title="BigDecimal#mult (method)">#mult</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1576-L1581'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1576' data-end='1581'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1576</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_mult(VALUE self, VALUE r)
{
    if (!is_coerceable_to_BigDecimal(r)) return DoSomeOne(self, r, &#39;*&#39;);
    return BigDecimal_mult_with_coerce(self, r, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="**-instance_method">
  <h3 class='signature '>
    #<strong>**</strong>(other)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal value of <code>self</code> raised to power <code>other</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>**</span> <span class='int'>2</span>              <span class='comment'># =&gt; 0.98596e1
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>**</span> <span class='float'>2.0</span>            <span class='comment'># =&gt; 0.98596e1
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>**</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 0.98596e1</span></code></pre>

<p>Related: <a href="#power-instance_method" title="BigDecimal#power (method)">#power</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L77-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='77' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>**</span>(<span class='id identifier rubyid_y'>y</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_y'>y</span>
  <span class='kw'>when</span> <span class='const'>BigDecimal</span><span class='comma'>,</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span><span class='comma'>,</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span><span class='comma'>,</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>
    <span class='id identifier rubyid_power'><a href="#power-instance_method" title="BigDecimal#power (method)">power</a></span>(<span class='id identifier rubyid_y'>y</span>)
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wrong argument type NilClass</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_coerce'><a href="#coerce-instance_method" title="BigDecimal#coerce (method)">coerce</a></span>(<span class='kw'>self</span>)
    <span class='id identifier rubyid_x'>x</span><span class='op'>**</span><span class='id identifier rubyid_y'>y</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>(value)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal sum of <code>self</code> and <code>value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>111111.111</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0.111111111e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='int'>2</span>                        <span class='comment'># =&gt; 0.111113111e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='float'>2.0</span>                      <span class='comment'># =&gt; 0.111113111e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>)           <span class='comment'># =&gt; 0.111113111e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='const'><a href="Complex.html" title="Complex (class)">Complex</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)            <span class='comment'># =&gt; (0.111113111e6+0i)</span></code></pre>

<p>See the <a href="BigDecimal.html#class-BigDecimal-label-A+Note+About+Precision">Note About Precision</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1284-L1289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1284' data-end='1289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1284</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_add(VALUE self, VALUE r)
{
    if (!is_coerceable_to_BigDecimal(r)) return DoSomeOne(self, r, &#39;+&#39;);
    return BigDecimal_addsub_with_coerce(self, r, 0, +1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+@-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='op'>+</span><span class='const'>BigDecimal</span>(<span class='int'>5</span>)  <span class='comment'># =&gt; 0.5e1
</span><span class='op'>+</span><span class='const'>BigDecimal</span>(<span class='op'>-</span><span class='int'>5</span>) <span class='comment'># =&gt; -0.5e1</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1253-L1257'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1253' data-end='1257'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1253</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_uplus(VALUE self)
{
    return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="--instance_method">
  <h3 class='signature '>
    #<strong>-</strong>(value)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal difference of <code>self</code> and <code>value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>333333.333</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0.333333333e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>-</span> <span class='int'>2</span>                        <span class='comment'># =&gt; 0.333331333e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>-</span> <span class='float'>2.0</span>                      <span class='comment'># =&gt; 0.333331333e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>-</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>)           <span class='comment'># =&gt; 0.333331333e6
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>-</span> <span class='const'><a href="Complex.html" title="Complex (class)">Complex</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)            <span class='comment'># =&gt; (0.333331333e6+0i)</span></code></pre>

<p>See the <a href="BigDecimal.html#class-BigDecimal-label-A+Note+About+Precision">Note About Precision</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1338-L1343'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1338' data-end='1343'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1338</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_sub(VALUE self, VALUE r)
{
    if (!is_coerceable_to_BigDecimal(r)) return DoSomeOne(self, r, &#39;-&#39;);
    return BigDecimal_addsub_with_coerce(self, r, 0, -1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="-@-instance_method">
  <h3 class='signature '>
    #<strong>-</strong>  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal negation of self:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b0'>b0</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.5</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b1'>b1</span> <span class='op'>=</span> <span class='op'>-</span><span class='id identifier rubyid_b0'>b0</span> <span class='comment'># =&gt; -0.15e1
</span><span class='id identifier rubyid_b2'>b2</span> <span class='op'>=</span> <span class='op'>-</span><span class='id identifier rubyid_b1'>b1</span> <span class='comment'># =&gt; 0.15e1</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1556-L1564'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1556' data-end='1564'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1556</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_neg(VALUE self)
{
    BDVALUE a = GetBDValueMust(self);
    BDVALUE c = NewZeroWrap(1, a.real-&gt;Prec * BASE_FIG);
    VpAsgn(c.real, a.real, -10);
    RB_GC_GUARD(a.bigdecimal);
    return CheckGetValue(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="/-instance_method">
  <h3 class='signature '>
    #<strong>/</strong>  
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3585'>GitHub</a> ]</span>

</section>

<section class='method_details' id="<-instance_method">
  <h3 class='signature '>
    #<strong>&lt;</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is less than <code>other</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0.15e1
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;</span> <span class='int'>2</span>                 <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;</span> <span class='float'>2.0</span>               <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>)    <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;</span> <span class='float'>1.5</span>               <span class='comment'># =&gt; false</span></code></pre>

<p>Raises an exception if the comparison cannot be made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1476-L1480'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1476' data-end='1480'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1476</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_lt(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;&lt;&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is less or equal to than <code>other</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0.15e1
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=</span> <span class='int'>2</span>                <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=</span> <span class='float'>2.0</span>              <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>)   <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=</span> <span class='float'>1.5</span>              <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;</span> <span class='int'>1</span>                 <span class='comment'># =&gt; false</span></code></pre>

<p>Raises an exception if the comparison cannot be made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1497-L1501'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1497' data-end='1501'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1497</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_le(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;L&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(r)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The comparison operator. a &lt;=&gt; b is 0 if a == b, 1 if a &gt; b, -1 if a &lt; b.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1440-L1444'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1440' data-end='1444'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1440</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_comp(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;*&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(r)  
    <span class='aliases'>Also known as: <span class='names'>#===, #eql?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Tests for value equality; returns true if the values are equal.</p>

<p>The == and === operators and the eql? method have the same implementation for <code>BigDecimal</code>.</p>

<p>Values may be coerced to perform the comparison:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> <span class='float'>1.0</span>  <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1456-L1460'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1456' data-end='1460'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1456</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_eq(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;=&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="===-instance_method">
  <h3 class='signature '>
    #<strong>===</strong>(r)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#==-instance_method" title="BigDecimal#== (method)">#==</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id=">-instance_method">
  <h3 class='signature '>
    #<strong>&gt;</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is greater than <code>other</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.5</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;</span> <span class='int'>1</span>              <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;</span> <span class='float'>1.0</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;</span> <span class='int'>2</span>              <span class='comment'># =&gt; false</span></code></pre>

<p>Raises an exception if the comparison cannot be made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1517-L1521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1517' data-end='1521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1517</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_gt(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;&gt;&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id=">=-instance_method">
  <h3 class='signature '>
    #<strong>&gt;=</strong>(other)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is greater than or equal to <code>other</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.5</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;=</span> <span class='int'>1</span>              <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;=</span> <span class='float'>1.0</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;=</span> <span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;=</span> <span class='float'>1.5</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>&gt;</span> <span class='int'>2</span>               <span class='comment'># =&gt; false</span></code></pre>

<p>Raises an exception if the comparison cannot be made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1538-L1542'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1538' data-end='1542'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1538</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_ge(VALUE self, VALUE r)
{
    return BigDecimalCmp(self, r, &#39;G&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_decimal_shift-instance_method">
  <h3 class='signature nodoc'>
    #<strong>_decimal_shift</strong>(i)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L5-L7'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5' data-end='7'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__decimal_shift'>_decimal_shift</span>(<span class='id identifier rubyid_i'>i</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_to_java'>to_java</span>.<span class='id identifier rubyid_move_point_right'>move_point_right</span>(<span class='id identifier rubyid_i'>i</span>).<span class='id identifier rubyid_to_d'><a href="#to_d-instance_method" title="BigDecimal#to_d (method)">to_d</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_dump-instance_method">
  <h3 class='signature '>
    #<strong>_dump</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string representing the marshalling of <code>self</code>. See module Marshal.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_inf'>inf</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; Infinity
</span><span class='id identifier rubyid_dumped'>dumped</span> <span class='op'>=</span> <span class='id identifier rubyid_inf'>inf</span>.<span class='id identifier rubyid__dump'>_dump</span>           <span class='comment'># =&gt; &quot;9:Infinity&quot;
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid__load'><a href="#_load-class_method" title="BigDecimal._load (method)">_load</a></span>(<span class='id identifier rubyid_dumped'>dumped</span>)     <span class='comment'># =&gt; Infinity</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L666-L686'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='666' data-end='686'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 666</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_dump(int argc, VALUE *argv, VALUE self)
{
    BDVALUE v;
    char *psz;
    VALUE dummy;
    volatile VALUE dump;
    size_t len;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;dummy);
    v = GetBDValueMust(self);
    dump = rb_str_new(0, VpNumOfChars(v.real, &quot;E&quot;)+50);
    psz = RSTRING_PTR(dump);
    snprintf(psz, RSTRING_LEN(dump), &quot;%&quot;PRIuSIZE&quot;:&quot;, v.real-&gt;Prec*VpBaseFig());
    len = strlen(psz);
    VpToString(v.real, psz+len, RSTRING_LEN(dump)-len, 0, 0);
    rb_str_resize(dump, strlen(psz));

    RB_GC_GUARD(v.bigdecimal);
    return dump;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="abs-instance_method">
  <h3 class='signature '>
    #<strong>abs</strong>  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal absolute value of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>5</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_abs'>abs</span>  <span class='comment'># =&gt; 0.5e1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-3</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_abs'>abs</span> <span class='comment'># =&gt; 0.3e1</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2039-L2048'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2039' data-end='2048'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2039</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_abs(VALUE self)
{
    BDVALUE a = GetBDValueMust(self);
    BDVALUE c = NewZeroWrap(1, a.real-&gt;Prec * BASE_FIG);
    VpAsgn(c.real, a.real, 10);
    VpChangeSign(c.real, 1);
    RB_GC_GUARD(a.bigdecimal);
    return CheckGetValue(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add-instance_method">
  <h3 class='signature '>
    #<strong>add</strong>(value, ndigits)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal sum of <code>self</code> and <code>value</code> with a precision of <code>ndigits</code> decimal digits.</p>

<p>When <code>ndigits</code> is less than the number of significant digits in the sum, the sum is rounded to that number of digits, according to the current rounding mode; see <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Set the rounding mode.
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#ROUND_MODE-constant" title="BigDecimal::ROUND_MODE (constant)">ROUND_MODE</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_half_up'>half_up</span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>111111.111</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span>)               <span class='comment'># =&gt; 0.111112111e6
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>)               <span class='comment'># =&gt; 0.111e6
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>6</span>)               <span class='comment'># =&gt; 0.111112e6
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>15</span>)              <span class='comment'># =&gt; 0.111112111e6
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='float'>1.0</span><span class='comma'>,</span> <span class='int'>15</span>)            <span class='comment'># =&gt; 0.111112111e6
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_add'>add</span>(<span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>)<span class='comma'>,</span> <span class='int'>15</span>) <span class='comment'># =&gt; 0.111112111e6</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1971-L1975'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1971' data-end='1975'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1971</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_add2(VALUE self, VALUE b, VALUE n)
{
    return BigDecimal_addsub_with_coerce(self, b, check_int_precision(n), +1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ceil-instance_method">
  <h3 class='signature '>
    #<strong>ceil</strong>(n)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the smallest integer greater than or equal to the value, as a <code>BigDecimal</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_ceil'>ceil</span> <span class='comment'>#=&gt; 4
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.1</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_ceil'>ceil</span> <span class='comment'>#=&gt; -9</span></code></pre>

<p>If n is specified and positive, the fractional part of the result has no more than that many digits.</p>

<p>If n is specified and negative, at least that many digits to the left of the decimal point will be 0 in the result.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_ceil'>ceil</span>(<span class='int'>3</span>) <span class='comment'>#=&gt; 3.142
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13345.234</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_ceil'>ceil</span>(<span class='op'>-</span><span class='int'>2</span>) <span class='comment'>#=&gt; 13400.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2246-L2250'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2246' data-end='2250'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2246</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_ceil(int argc, VALUE *argv, VALUE self)
{
    return BigDecimal_truncate_floor_ceil(argc, argv, self, VP_ROUND_CEIL);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clone-instance_method">
  <h3 class='signature nodoc'>
    #<strong>clone</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#dup-instance_method" title="BigDecimal#dup (method)">#dup</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="coerce-instance_method">
  <h3 class='signature '>
    #<strong>coerce</strong>(other)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The coerce method provides support for Ruby type coercion. It is not enabled by default.</p>

<p>This means that binary operations like + * / or - can often be performed on a <code>BigDecimal</code> and an object of another type, if the other object can be coerced into a <code>BigDecimal</code> value.</p>

<p>e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='float'>2.0</span> <span class='comment'>#=&gt; 0.5</span></code></pre>

<p>Note that coercing a <a href="String.html" title="String (class)"><code>::String</code></a> to a <code>BigDecimal</code> is not supported by default; it requires a special compile-time option when building Ruby.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1234-L1240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1234' data-end='1240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1234</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_coerce(VALUE self, VALUE other)
{
    Real* pv = DATA_PTR(self);
    BDVALUE b = GetBDValueWithPrecMust(other, GetCoercePrec(pv, 0));
    return rb_assoc_new(CheckGetValue(b), self);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="div-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>div</strong>(value)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>div</strong>(value, digits)  &#x21d2; <code>BigDecimal</code>, <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Divide by the specified value.</p>
<dl class="rdoc-list note-list"><dt>digits</dt>
<dd>
<p>If specified and less than the number of significant digits of the result, the result is rounded to that number of digits, according to BigDecimal.mode.</p>

<p>If digits is 0, the result is the same as for the / operator or #quo.</p>

<p>If digits is not specified, the result is an integer, by analogy with Float#div; see also BigDecimal#divmod.</p>
</dd></dl>

<p>See <a href="#%2F-instance_method" title="BigDecimal#/ (method)">#/</a>. See <a href="#quo-instance_method" title="BigDecimal#quo (method)">#quo</a>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span>)

<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_div'>div</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='int'>3</span>)  <span class='comment'># =&gt; 0.133e1
</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_div'>div</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='int'>0</span>)  <span class='comment'># =&gt; 0.1333333333333333333e1
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>        <span class='comment'># =&gt; 0.1333333333333333333e1
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_quo'><a href="#quo-instance_method" title="BigDecimal#quo (method)">quo</a></span>(<span class='id identifier rubyid_b'>b</span>)     <span class='comment'># =&gt; 0.1333333333333333333e1
</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_div'>div</span>(<span class='id identifier rubyid_b'>b</span>)     <span class='comment'># =&gt; 1</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1936-L1944'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1936' data-end='1944'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1936</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_div3(int argc, VALUE *argv, VALUE self)
{
    VALUE b,n;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;b, &amp;n);

    return BigDecimal_div2(self, b, n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="divmod-instance_method">
  <h3 class='signature '>
    #<strong>divmod</strong>(value)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Divides by the specified value, and returns the quotient and modulus as <code>BigDecimal</code> numbers. The quotient is rounded towards negative infinity.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bigdecimal</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>42</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>9</span><span class='tstring_end'>&quot;</span></span>)

<span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_divmod'>divmod</span>(<span class='id identifier rubyid_b'>b</span>)

<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span> <span class='op'>*</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='id identifier rubyid_m'>m</span>

<span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_c'>c</span>  <span class='comment'>#=&gt; true</span></code></pre>

<p>The quotient q is (a/b).floor, and the modulus is the amount that must be added to q * b to get a.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1833-L1842'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1833' data-end='1842'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1833</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_divmod(VALUE self, VALUE r)
{
    NULLABLE_BDVALUE div, mod;

    if (BigDecimal_DoDivmod(self, r, &amp;div, &amp;mod, false)) {
        return rb_assoc_new(BigDecimal_to_i(CheckGetValue(bdvalue_nonnullable(div))), CheckGetValue(bdvalue_nonnullable(mod)));
    }
    return DoSomeOne(self,r,rb_intern(&quot;divmod&quot;));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dup-instance_method">
  <h3 class='signature '>
    #<strong>dup</strong>  
    <span class='aliases'>Also known as: <span class='names'>#clone</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2530-L2534'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2530' data-end='2534'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2530</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_clone(VALUE self)
{
    return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(r)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#==-instance_method" title="BigDecimal#== (method)">#==</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="exponent-instance_method">
  <h3 class='signature '>
    #<strong>exponent</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the exponent of the <code>BigDecimal</code> number, as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p>

<p>If the number can be represented as 0.xxxxxx*10**n where xxxxxx is a string of digits with no leading zeros, then n is the exponent.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2419-L2424'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2419' data-end='2424'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2419</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_exponent(VALUE self)
{
    ssize_t e = VpExponent10(GetSelfVpValue(self));
    return SSIZET2NUM(e);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fix-instance_method">
  <h3 class='signature '>
    #<strong>fix</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the integer part of the number, as a <code>BigDecimal</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2052-L2060'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2052' data-end='2060'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2052</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_fix(VALUE self)
{
    BDVALUE a = GetBDValueMust(self);
    BDVALUE c = NewZeroWrap(1, (a.real-&gt;Prec + 1) * BASE_FIG);
    VpActiveRound(c.real, a.real, VP_ROUND_DOWN, 0); /* 0: round off */
    RB_GC_GUARD(a.bigdecimal);
    return CheckGetValue(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="floor-instance_method">
  <h3 class='signature '>
    #<strong>floor</strong>(n)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the largest integer less than or equal to the value, as a <code>BigDecimal</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_floor'>floor</span> <span class='comment'>#=&gt; 3
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.1</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_floor'>floor</span> <span class='comment'>#=&gt; -10</span></code></pre>

<p>If n is specified and positive, the fractional part of the result has no more than that many digits.</p>

<p>If n is specified and negative, at least that many digits to the left of the decimal point will be 0 in the result.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_floor'>floor</span>(<span class='int'>3</span>) <span class='comment'>#=&gt; 3.141
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13345.234</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_floor'>floor</span>(<span class='op'>-</span><span class='int'>2</span>) <span class='comment'>#=&gt; 13300.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2223-L2227'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2223' data-end='2227'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2223</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_floor(int argc, VALUE *argv, VALUE self)
{
    return BigDecimal_truncate_floor_ceil(argc, argv, self, VP_ROUND_FLOOR);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="frac-instance_method">
  <h3 class='signature '>
    #<strong>frac</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the fractional part of the number, as a <code>BigDecimal</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2196-L2204'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2196' data-end='2204'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2196</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_frac(VALUE self)
{
    BDVALUE a = GetBDValueMust(self);
    BDVALUE c = NewZeroWrap(1, (a.real-&gt;Prec + 1) * BASE_FIG);
    VpFrac(c.real, a.real);
    RB_GC_GUARD(a.bigdecimal);
    return CheckGetValue(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer hash value for <code>self</code>.</p>

<p>Two instances of BigDecimal have the same hash value if and only if they have equal:</p>
<ul><li>
<p>Sign.</p>
</li><li>
<p>Fractional part.</p>
</li><li>
<p>Exponent.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L640-L652'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='640' data-end='652'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 640</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_hash(VALUE self)
{
    BDVALUE v = GetBDValueMust(self);
    st_index_t hash = (st_index_t)v.real-&gt;sign;
    /* hash!=2: the case for 0(1),NaN(0) or +-Infinity(3) is sign itself */
    if(hash == 2 || hash == (st_index_t)-2) {
        hash ^= rb_memhash(v.real-&gt;frac, sizeof(DECDIG)*v.real-&gt;Prec);
        hash += v.real-&gt;exponent;
    }
    RB_GC_GUARD(v.bigdecimal);
    return ST2FIX(hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string representation of self.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1234.5678</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_inspect'>inspect</span>
  <span class='comment'>#=&gt; &quot;0.12345678e4&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2431-L2447'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2431' data-end='2447'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2431</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_inspect(VALUE self)
{
    BDVALUE v;
    volatile VALUE str;
    size_t nc;

    v = GetBDValueMust(self);
    nc = VpNumOfChars(v.real, &quot;E&quot;);

    str = rb_str_new(0, nc);
    VpToString(v.real, RSTRING_PTR(str), RSTRING_LEN(str), 0, 0);
    rb_str_resize(str, strlen(RSTRING_PTR(str)));

    RB_GC_GUARD(v.bigdecimal);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="modulo-instance_method">
  <h3 class='signature '>
    #<strong>modulo</strong>  
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3588'>GitHub</a> ]</span>

</section>

<section class='method_details' id="mult-instance_method">
  <h3 class='signature '>
    #<strong>mult</strong>(other, ndigits)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the BigDecimal product of <code>self</code> and <code>value</code> with a precision of <code>ndigits</code> decimal digits.</p>

<p>When <code>ndigits</code> is less than the number of significant digits in the sum, the sum is rounded to that number of digits, according to the current rounding mode; see <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Set the rounding mode.
</span><span class='const'>BigDecimal</span>.<span class='id identifier rubyid_mode'><a href="#mode-class_method" title="BigDecimal.mode (method)">mode</a></span>(<span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="#ROUND_MODE-constant" title="BigDecimal::ROUND_MODE (constant)">ROUND_MODE</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_half_up'>half_up</span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>555555.555</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>0</span>)              <span class='comment'># =&gt; 0.1666666665e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span>)              <span class='comment'># =&gt; 0.167e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>6</span>)              <span class='comment'># =&gt; 0.166667e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>15</span>)             <span class='comment'># =&gt; 0.1666666665e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='float'>3.0</span><span class='comma'>,</span> <span class='int'>0</span>)            <span class='comment'># =&gt; 0.1666666665e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='const'><a href="Rational.html" title="Rational (class)">Rational</a></span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>1</span>)<span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; 0.1666666665e7
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_mult'>mult</span>(<span class='const'><a href="Complex.html" title="Complex (class)">Complex</a></span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>0</span>)<span class='comma'>,</span> <span class='int'>0</span>)  <span class='comment'># =&gt; (0.1666666665e7+0.0i)</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2022-L2026'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2022' data-end='2026'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2022</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_mult2(VALUE self, VALUE b, VALUE n)
{
    return BigDecimal_mult_with_coerce(self, b, check_int_precision(n));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="n_significant_digits-instance_method">
  <h3 class='signature '>
    #<strong>n_significant_digits</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of decimal significant digits in <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>         <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>         <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>       <span class='comment'># =&gt; 2
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.1415</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>    <span class='comment'># =&gt; 5
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1e20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>     <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1e-20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>     <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>  <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span> <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_n_significant_digits'>n_significant_digits</span>       <span class='comment'># =&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L602-L624'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='602' data-end='624'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 602</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_n_significant_digits(VALUE self)
{
    BDVALUE v = GetBDValueMust(self);
    if (VpIsZero(v.real) || !VpIsDef(v.real)) {
        return INT2FIX(0);
    }

    ssize_t n = v.real-&gt;Prec;  /* The length of frac without trailing zeros. */
    for (n = v.real-&gt;Prec; n &gt; 0 &amp;&amp; v.real-&gt;frac[n-1] == 0; --n);
    if (n == 0) return INT2FIX(0);

    DECDIG x;
    int nlz = BASE_FIG;
    for (x = v.real-&gt;frac[0]; x &gt; 0; x /= 10) --nlz;

    int ntz = 0;
    for (x = v.real-&gt;frac[n-1]; x &gt; 0 &amp;&amp; x % 10 == 0; x /= 10) ++ntz;

    RB_GC_GUARD(v.bigdecimal);
    ssize_t n_significant_digits = BASE_FIG*n - nlz - ntz;
    return SSIZET2NUM(n_significant_digits);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="power-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>power</strong>(n)  </span>
      <span class='overload'>#<strong>power</strong>(n, prec)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the value raised to the power of n.</p>

<p>Also available as the operator **.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L97-L206'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='206'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_power'>power</span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span> <span class='op'>=</span> <span class='int'>0</span>)
  <span class='id identifier rubyid_prec'>prec</span> <span class='op'>=</span> <span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_coerce_validate_prec'><a href="BigDecimal/Internal.html#coerce_validate_prec-class_method" title="BigDecimal::Internal.coerce_validate_prec (method)">coerce_validate_prec</a></span>(<span class='id identifier rubyid_prec'>prec</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_power'>power</span><span class='comma'>,</span> <span class='label'>accept_zero:</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_coerce_to_bigdecimal'><a href="BigDecimal/Internal.html#coerce_to_bigdecimal-class_method" title="BigDecimal::Internal.coerce_to_bigdecimal (method)">coerce_to_bigdecimal</a></span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span>.<span class='id identifier rubyid_nonzero?'><a href="#nonzero%3F-instance_method" title="BigDecimal#nonzero? (method)">nonzero?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_n_significant_digits'><a href="#n_significant_digits-instance_method" title="BigDecimal#n_significant_digits (method)">n_significant_digits</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_power'>power</span>)

  <span class='kw'>return</span> <span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_nan_computation_result'><a href="BigDecimal/Internal.html#nan_computation_result-class_method" title="BigDecimal::Internal.nan_computation_result (method)">nan_computation_result</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_nan?'><a href="#nan%3F-instance_method" title="BigDecimal#nan? (method)">nan?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_nan?'><a href="#nan%3F-instance_method" title="BigDecimal#nan? (method)">nan?</a></span>
  <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>) <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_infinite?'><a href="#infinite%3F-instance_method" title="BigDecimal#infinite? (method)">infinite?</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>0</span>
      <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_negative?'>negative?</span>
      <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_positive?'>positive?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Math</span><span class='op'>::</span><span class='const'>DomainError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Result undefined for negative base raised to infinite power</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>1</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_positive?'>positive?</span> <span class='op'>?</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='op'>:</span> <span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>)
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_positive?'>positive?</span> <span class='op'>?</span> <span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span> <span class='op'>:</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_infinite?'><a href="#infinite%3F-instance_method" title="BigDecimal#infinite? (method)">infinite?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='comment'># Computation result will be +0 or -0. Avoid overflow.
</span>    <span class='id identifier rubyid_neg'>neg</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_frac'><a href="#frac-instance_method" title="BigDecimal#frac (method)">frac</a></span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>2</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_neg'>neg</span> <span class='op'>?</span> <span class='op'>-</span><span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='op'>:</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>)
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
    <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>) <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
    <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_frac'><a href="#frac-instance_method" title="BigDecimal#frac (method)">frac</a></span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>2</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_sign'><a href="#sign-instance_method" title="BigDecimal#sign (method)">sign</a></span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>return</span> <span class='op'>-</span><span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_frac'><a href="#frac-instance_method" title="BigDecimal#frac (method)">frac</a></span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>2</span> <span class='op'>==</span> <span class='int'>0</span>
        <span class='kw'>return</span> (<span class='op'>-</span><span class='id identifier rubyid_x'>x</span>).<span class='id identifier rubyid_power'>power</span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span>)
      <span class='kw'>else</span>
        <span class='kw'>return</span> <span class='op'>-</span>(<span class='op'>-</span><span class='id identifier rubyid_x'>x</span>).<span class='id identifier rubyid_power'>power</span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span>)
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Math</span><span class='op'>::</span><span class='const'>DomainError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Computation results in complex number</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span> <span class='op'>=</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>
  <span class='id identifier rubyid_frac_part'>frac_part</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_frac'><a href="#frac-instance_method" title="BigDecimal#frac (method)">frac</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_frac_part'>frac_part</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_prec'>prec</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
    <span class='comment'># Infinite precision calculation for `x ** int` and `x.power(int)`
</span>    <span class='id identifier rubyid_int_part'>int_part</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_fix'><a href="#fix-instance_method" title="BigDecimal#fix (method)">fix</a></span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="BigDecimal#to_i (method)">to_i</a></span>
    <span class='id identifier rubyid_int_part'>int_part</span> <span class='op'>=</span> <span class='op'>-</span><span class='id identifier rubyid_int_part'>int_part</span> <span class='kw'>if</span> (<span class='id identifier rubyid_neg'>neg</span> <span class='op'>=</span> <span class='id identifier rubyid_int_part'>int_part</span> <span class='op'>&lt;</span> <span class='int'>0</span>)
    <span class='id identifier rubyid_ans'>ans</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>)
    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_xn'>xn</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>while</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_ans'>ans</span> <span class='op'>*=</span> <span class='id identifier rubyid_xn'>xn</span> <span class='kw'>if</span> <span class='id identifier rubyid_int_part'>int_part</span>.<span class='id identifier rubyid_allbits?'>allbits?</span>(<span class='id identifier rubyid_n'>n</span>)
      <span class='id identifier rubyid_n'>n</span> <span class='op'>&lt;&lt;=</span> <span class='int'>1</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_int_part'>int_part</span>
      <span class='id identifier rubyid_xn'>xn</span> <span class='op'>*=</span> <span class='id identifier rubyid_xn'>xn</span>
      <span class='comment'># Detect overflow/underflow before consuming infinite memory
</span>      <span class='kw'>if</span> (<span class='id identifier rubyid_xn'>xn</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span>.<span class='id identifier rubyid_abs'><a href="#abs-instance_method" title="BigDecimal#abs (method)">abs</a></span> <span class='op'>-</span> <span class='int'>1</span>) <span class='op'>*</span> <span class='id identifier rubyid_int_part'>int_part</span> <span class='op'>/</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;=</span> <span class='int'>0x7FFFFFFFFFFFFFFF</span>
        <span class='kw'>return</span> ((<span class='id identifier rubyid_xn'>xn</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>&gt;</span> <span class='int'>0</span>) <span class='op'>^</span> <span class='id identifier rubyid_neg'>neg</span> <span class='op'>?</span> <span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span> <span class='op'>:</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>)) <span class='op'>*</span> (<span class='id identifier rubyid_int_part'>int_part</span>.<span class='id identifier rubyid_even?'>even?</span> <span class='op'>||</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='op'>-</span><span class='int'>1</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_neg'>neg</span> <span class='op'>?</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>) <span class='op'>/</span> <span class='id identifier rubyid_ans'>ans</span> <span class='op'>:</span> <span class='id identifier rubyid_ans'>ans</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result_prec'>result_prec</span> <span class='op'>=</span> <span class='id identifier rubyid_prec'>prec</span>.<span class='id identifier rubyid_nonzero?'><a href="#nonzero%3F-instance_method" title="BigDecimal#nonzero? (method)">nonzero?</a></span> <span class='op'>||</span> [<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_n_significant_digits'><a href="#n_significant_digits-instance_method" title="BigDecimal#n_significant_digits (method)">n_significant_digits</a></span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_n_significant_digits'><a href="#n_significant_digits-instance_method" title="BigDecimal#n_significant_digits (method)">n_significant_digits</a></span><span class='comma'>,</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>].<span class='id identifier rubyid_max'>max</span> <span class='op'>+</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>
  <span class='id identifier rubyid_result_prec'>result_prec</span> <span class='op'>=</span> [<span class='id identifier rubyid_result_prec'>result_prec</span><span class='comma'>,</span> <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>].<span class='id identifier rubyid_min'>min</span> <span class='kw'>if</span> <span class='id identifier rubyid_prec'>prec</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>.<span class='id identifier rubyid_nonzero?'><a href="#nonzero%3F-instance_method" title="BigDecimal#nonzero? (method)">nonzero?</a></span>

  <span class='id identifier rubyid_prec2'>prec2</span> <span class='op'>=</span> <span class='id identifier rubyid_result_prec'>result_prec</span> <span class='op'>+</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_inv'>inv</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_power'>power</span>(<span class='op'>-</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec2'>prec2</span>)
    <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>0</span>) <span class='kw'>if</span> <span class='id identifier rubyid_inv'>inv</span>.<span class='id identifier rubyid_infinite?'><a href="#infinite%3F-instance_method" title="BigDecimal#infinite? (method)">infinite?</a></span>
    <span class='kw'>return</span> <span class='const'>BigDecimal</span><span class='op'>::</span><span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_inv'>inv</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
    <span class='kw'>return</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>).<span class='id identifier rubyid_div'><a href="#div-instance_method" title="BigDecimal#div (method)">div</a></span>(<span class='id identifier rubyid_inv'>inv</span><span class='comma'>,</span> <span class='id identifier rubyid_result_prec'>result_prec</span>)
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_frac_part'>frac_part</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>&lt;</span> <span class='const'>Math</span>.<span class='id identifier rubyid_log'>log</span>(<span class='id identifier rubyid_result_prec'>result_prec</span>) <span class='op'>*</span> <span class='int'>5</span> <span class='op'>+</span> <span class='int'>20</span>
    <span class='comment'># Use exponentiation by squaring if y is an integer and not too large
</span>    <span class='id identifier rubyid_pow_prec'>pow_prec</span> <span class='op'>=</span> <span class='id identifier rubyid_prec2'>prec2</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span>
    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_xn'>xn</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_ans'>ans</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='int'>1</span>)
    <span class='id identifier rubyid_int_part'>int_part</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_fix'><a href="#fix-instance_method" title="BigDecimal#fix (method)">fix</a></span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="BigDecimal#to_i (method)">to_i</a></span>
    <span class='kw'>while</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_ans'>ans</span> <span class='op'>=</span> <span class='id identifier rubyid_ans'>ans</span>.<span class='id identifier rubyid_mult'><a href="#mult-instance_method" title="BigDecimal#mult (method)">mult</a></span>(<span class='id identifier rubyid_xn'>xn</span><span class='comma'>,</span> <span class='id identifier rubyid_pow_prec'>pow_prec</span>) <span class='kw'>if</span> <span class='id identifier rubyid_int_part'>int_part</span>.<span class='id identifier rubyid_allbits?'>allbits?</span>(<span class='id identifier rubyid_n'>n</span>)
      <span class='id identifier rubyid_n'>n</span> <span class='op'>&lt;&lt;=</span> <span class='int'>1</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_int_part'>int_part</span>
      <span class='id identifier rubyid_xn'>xn</span> <span class='op'>=</span> <span class='id identifier rubyid_xn'>xn</span>.<span class='id identifier rubyid_mult'><a href="#mult-instance_method" title="BigDecimal#mult (method)">mult</a></span>(<span class='id identifier rubyid_xn'>xn</span><span class='comma'>,</span> <span class='id identifier rubyid_pow_prec'>pow_prec</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_ans'>ans</span>.<span class='id identifier rubyid_mult'><a href="#mult-instance_method" title="BigDecimal#mult (method)">mult</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_result_prec'>result_prec</span>)
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_finite?'><a href="#finite%3F-instance_method" title="BigDecimal#finite? (method)">finite?</a></span>
      <span class='comment'># To calculate exp(z, prec), z needs prec+max(z.exponent, 0) precision if z &gt; 0.
</span>      <span class='comment'># Estimate (y*log(x)).exponent
</span>      <span class='id identifier rubyid_logx_exponent'>logx_exponent</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>2</span> <span class='op'>?</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='int'>1</span>).<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>:</span> <span class='const'>Math</span>.<span class='id identifier rubyid_log10'>log10</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span>).<span class='id identifier rubyid_round'><a href="#round-instance_method" title="BigDecimal#round (method)">round</a></span>
      <span class='id identifier rubyid_ylogx_exponent'>ylogx_exponent</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>+</span> <span class='id identifier rubyid_logx_exponent'>logx_exponent</span>
      <span class='id identifier rubyid_prec2'>prec2</span> <span class='op'>+=</span> [<span class='id identifier rubyid_ylogx_exponent'>ylogx_exponent</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_max'>max</span>
    <span class='kw'>end</span>
    <span class='const'><a href="BigMath.html" title="BigMath (module)">BigMath</a></span>.<span class='id identifier rubyid_exp'><a href="BigMath.html#exp-class_method" title="BigMath.exp (method)">exp</a></span>(<span class='const'><a href="BigMath.html" title="BigMath (module)">BigMath</a></span>.<span class='id identifier rubyid_log'><a href="BigMath.html#log-class_method" title="BigMath.log (method)">log</a></span>(<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_prec2'>prec2</span>).<span class='id identifier rubyid_mult'><a href="#mult-instance_method" title="BigDecimal#mult (method)">mult</a></span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_prec2'>prec2</span>)<span class='comma'>,</span> <span class='id identifier rubyid_result_prec'>result_prec</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="precision-instance_method">
  <h3 class='signature '>
    #<strong>precision</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of decimal digits in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>         <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>         <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>       <span class='comment'># =&gt; 2
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.1415</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>    <span class='comment'># =&gt; 5
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1e20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>     <span class='comment'># =&gt; 21
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1e-20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>     <span class='comment'># =&gt; 20
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>  <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span> <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_precision'>precision</span>       <span class='comment'># =&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L536-L542'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='536' data-end='542'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 536</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_precision(VALUE self)
{
    ssize_t precision;
    BigDecimal_count_precision_and_scale(self, &amp;precision, NULL);
    return SSIZET2NUM(precision);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="precision_scale-instance_method">
  <h3 class='signature '>
    #<strong>precision_scale</strong>  &#x21d2; <code>Array</code>, <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 2-length array; the first item is the result of <a href="#precision-instance_method" title="BigDecimal#precision (method)">#precision</a> and the second one is of <a href="#scale-instance_method" title="BigDecimal#scale (method)">#scale</a>.</p>

<p>See <a href="#precision-instance_method" title="BigDecimal#precision (method)">#precision</a>. See <a href="#scale-instance_method" title="BigDecimal#scale (method)">#scale</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L578-L584'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='578' data-end='584'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 578</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_precision_scale(VALUE self)
{
    ssize_t precision, scale;
    BigDecimal_count_precision_and_scale(self, &amp;precision, &amp;scale);
    return rb_assoc_new(SSIZET2NUM(precision), SSIZET2NUM(scale));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quo-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>quo</strong>(value)  &#x21d2; <code>BigDecimal</code> </span>
      <span class='overload'>#<strong>quo</strong>(value, digits)  &#x21d2; <code>BigDecimal</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Divide by the specified value.</p>
<dl class="rdoc-list note-list"><dt>digits</dt>
<dd>
<p>If specified and less than the number of significant digits of the result, the result is rounded to the given number of digits, according to the rounding mode indicated by BigDecimal.mode.</p>

<p>If digits is 0 or omitted, the result is the same as for the / operator.</p>
</dd></dl>

<p>See <a href="#%2F-instance_method" title="BigDecimal#/ (method)">#/</a>. See <a href="#div-instance_method" title="BigDecimal#div (method)">#div</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1644-L1663'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1644' data-end='1663'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1644</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_quo(int argc, VALUE *argv, VALUE self)
{
    VALUE value, digits, result;
    SIGNED_VALUE n = -1;

    argc = rb_scan_args(argc, argv, &quot;11&quot;, &amp;value, &amp;digits);
    if (argc &gt; 1) {
        n = check_int_precision(digits);
    }

    if (n &gt; 0) {
        result = BigDecimal_div2(self, value, digits);
    }
    else {
        result = BigDecimal_div(self, value);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remainder-instance_method">
  <h3 class='signature '>
    #<strong>remainder</strong>  
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3589'>GitHub</a> ]</span>

</section>

<section class='method_details' id="round-instance_method">
  <h3 class='signature '>
    #<strong>round</strong>(n, mode)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Round to the nearest integer (by default), returning the result as a <code>BigDecimal</code> if n is specified and positive, or as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> if it isn’t.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span> <span class='comment'>#=&gt; 3
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>8.7</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span> <span class='comment'>#=&gt; 9
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.9</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span> <span class='comment'>#=&gt; -10
</span>
<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span>(<span class='int'>2</span>).<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span> <span class='comment'>#=&gt; &quot;BigDecimal&quot;
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span> <span class='comment'>#=&gt; &quot;Integer&quot;
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span>(<span class='int'>0</span>).<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span> <span class='comment'>#=&gt; &quot;Integer&quot;</span></code></pre>

<p>If n is specified and positive, the fractional part of the result has no more than that many digits.</p>

<p>If n is specified and negative, at least that many digits to the left of the decimal point will be 0 in the result, and return value will be an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span>(<span class='int'>3</span>) <span class='comment'>#=&gt; 3.142
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13345.234</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_round'>round</span>(<span class='op'>-</span><span class='int'>2</span>) <span class='comment'>#=&gt; 13300</span></code></pre>

<p>The value of the optional mode argument can be used to determine how rounding is performed; see <a href="#mode-class_method" title="BigDecimal.mode (method)">.mode</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2088-L2139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2088' data-end='2139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2088</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_round(int argc, VALUE *argv, VALUE self)
{
    BDVALUE c, a;
    int    iLoc = 0;
    VALUE  vLoc;
    VALUE  vRound;
    int    round_to_int = 0;
    size_t mx;

    unsigned short sw = VpGetRoundMode();

    switch (rb_scan_args(argc, argv, &quot;02&quot;, &amp;vLoc, &amp;vRound)) {
      case 0:
	iLoc = 0;
        round_to_int = 1;
	break;
      case 1:
        if (RB_TYPE_P(vLoc, T_HASH)) {
	    sw = check_rounding_mode_option(vLoc);
	}
	else {
	    iLoc = NUM2INT(vLoc);
            if (iLoc &lt; 1) round_to_int = 1;
	}
	break;
      case 2:
	iLoc = NUM2INT(vLoc);
	if (RB_TYPE_P(vRound, T_HASH)) {
	    sw = check_rounding_mode_option(vRound);
	}
	else {
	    sw = check_rounding_mode(vRound);
	}
	break;
      default:
	break;
    }

    a = GetBDValueMust(self);
    mx = (a.real-&gt;Prec + 1) * BASE_FIG;
    c = NewZeroWrap(1, mx);

    VpActiveRound(c.real, a.real, sw, iLoc);

    RB_GC_GUARD(a.bigdecimal);

    if (round_to_int) {
        return BigDecimal_to_i(CheckGetValue(c));
    }
    return CheckGetValue(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scale-instance_method">
  <h3 class='signature '>
    #<strong>scale</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of decimal digits following the decimal digits in <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>         <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>         <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>       <span class='comment'># =&gt; 1
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.1415</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>    <span class='comment'># =&gt; 4
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1e20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>     <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1e-20</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>     <span class='comment'># =&gt; 20
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>  <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-Infinity</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span> <span class='comment'># =&gt; 0
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_scale'>scale</span>       <span class='comment'># =&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L560-L566'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='560' data-end='566'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 560</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_scale(VALUE self)
{
    ssize_t scale;
    BigDecimal_count_precision_and_scale(self, NULL, &amp;scale);
    return SSIZET2NUM(scale);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sign-instance_method">
  <h3 class='signature '>
    #<strong>sign</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the sign of the value.</p>

<p>Returns a positive value if &gt; 0, a negative value if &lt; 0. It behaves the same with zeros - it returns a positive value for a positive zero (BigDecimal(‘0’)) and a negative value for a negative zero (BigDecimal(‘-0’)).</p>

<p>The specific value returned indicates the type and sign of the <code>BigDecimal</code>, as follows:</p>
<dl class="rdoc-list note-list"><dt>BigDecimal::SIGN_NaN</dt>
<dd>
<p>value is Not a Number</p>
</dd><dt>BigDecimal::SIGN_POSITIVE_ZERO</dt>
<dd>
<p>value is +0</p>
</dd><dt>BigDecimal::SIGN_NEGATIVE_ZERO</dt>
<dd>
<p>value is -0</p>
</dd><dt>BigDecimal::SIGN_POSITIVE_INFINITE</dt>
<dd>
<p>value is +Infinity</p>
</dd><dt>BigDecimal::SIGN_NEGATIVE_INFINITE</dt>
<dd>
<p>value is -Infinity</p>
</dd><dt>BigDecimal::SIGN_POSITIVE_FINITE</dt>
<dd>
<p>value is positive</p>
</dd><dt>BigDecimal::SIGN_NEGATIVE_FINITE</dt>
<dd>
<p>value is negative</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3090-L3095'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3090' data-end='3095'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3090</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_sign(VALUE self)
{ /* sign */
    int s = GetSelfVpValue(self)-&gt;sign;
    return INT2FIX(s);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split-instance_method">
  <h3 class='signature '>
    #<strong>split</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Splits a <code>BigDecimal</code> number into four parts, returned as an array of values.</p>

<p>The first value represents the sign of the <code>BigDecimal</code>, and is -1 or 1, or 0 if the <code>BigDecimal</code> is Not a Number.</p>

<p>The second value is a string representing the significant digits of the <code>BigDecimal</code>, with no leading zeros.</p>

<p>The third value is the base used for arithmetic (currently always 10) as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p>

<p>The fourth value is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> exponent.</p>

<p>If the <code>BigDecimal</code> can be represented as 0.xxxxxx*10**n, then xxxxxx is the string of significant digits with no leading zeros, and n is the exponent.</p>

<p>From these values, you can translate a <code>BigDecimal</code> to a float as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sign'><a href="#sign-instance_method" title="BigDecimal#sign (method)">sign</a></span><span class='comma'>,</span> <span class='id identifier rubyid_significant_digits'>significant_digits</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_split'>split</span>
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_sign'><a href="#sign-instance_method" title="BigDecimal#sign (method)">sign</a></span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_significant_digits'>significant_digits</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_f'><a href="#to_f-instance_method" title="BigDecimal#to_f (method)">to_f</a></span> <span class='op'>*</span> (<span class='id identifier rubyid_base'>base</span> <span class='op'>**</span> <span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span>)</code></pre>

<p>(Note that the to_f method is provided as a more convenient way to translate a <code>BigDecimal</code> to a <a href="Float.html" title="Float (class)"><code>::Float</code></a>.)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2381-L2412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2381' data-end='2412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2381</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_split(VALUE self)
{
    BDVALUE v;
    VALUE obj,str;
    ssize_t e, s;
    char *psz1;

    v = GetBDValueMust(self);
    str = rb_str_new(0, VpNumOfChars(v.real, &quot;E&quot;));
    psz1 = RSTRING_PTR(str);
    VpSzMantissa(v.real, psz1, RSTRING_LEN(str));
    s = 1;
    if(psz1[0] == &#39;-&#39;) {
	size_t len = strlen(psz1 + 1);

	memmove(psz1, psz1 + 1, len);
	psz1[len] = &#39;\0&#39;;
        s = -1;
    }
    if (psz1[0] == &#39;N&#39;) s = 0; /* NaN */
    e = VpExponent10(v.real);
    obj = rb_ary_new2(4);
    rb_ary_push(obj, INT2FIX(s));
    rb_ary_push(obj, str);
    rb_str_resize(str, strlen(psz1));
    rb_ary_push(obj, INT2FIX(10));
    rb_ary_push(obj, SSIZET2NUM(e));

    RB_GC_GUARD(v.bigdecimal);
    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sqrt-instance_method">
  <h3 class='signature '>
    #<strong>sqrt</strong>(prec)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the square root of the value.</p>

<p>Result has at least prec significant digits.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>FloatDomainError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal.rb#L212-L235'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='212' data-end='235'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal.rb', line 212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sqrt'>sqrt</span>(<span class='id identifier rubyid_prec'>prec</span>)
  <span class='id identifier rubyid_prec'>prec</span> <span class='op'>=</span> <span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_coerce_validate_prec'><a href="BigDecimal/Internal.html#coerce_validate_prec-class_method" title="BigDecimal::Internal.coerce_validate_prec (method)">coerce_validate_prec</a></span>(<span class='id identifier rubyid_prec'>prec</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sqrt'>sqrt</span><span class='comma'>,</span> <span class='label'>accept_zero:</span> <span class='kw'>true</span>)
  <span class='kw'>return</span> <span class='const'><a href="BigDecimal/Internal.html" title="BigDecimal::Internal (module)">Internal</a></span>.<span class='id identifier rubyid_infinity_computation_result'><a href="BigDecimal/Internal.html#infinity_computation_result-class_method" title="BigDecimal::Internal.infinity_computation_result (method)">infinity_computation_result</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_infinite?'><a href="#infinite%3F-instance_method" title="BigDecimal#infinite? (method)">infinite?</a></span> <span class='op'>==</span> <span class='int'>1</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>FloatDomainError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sqrt of negative value</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='kw'>self</span> <span class='op'>&lt;</span> <span class='int'>0</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>FloatDomainError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sqrt of &#39;NaN&#39;(Not a Number)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_nan?'><a href="#nan%3F-instance_method" title="BigDecimal#nan? (method)">nan?</a></span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_prec'>prec</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span> <span class='op'>=</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>
    <span class='id identifier rubyid_prec'>prec</span> <span class='op'>=</span> <span class='id identifier rubyid_n_significant_digits'><a href="#n_significant_digits-instance_method" title="BigDecimal#n_significant_digits (method)">n_significant_digits</a></span> <span class='op'>+</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>
    <span class='id identifier rubyid_prec'>prec</span> <span class='op'>=</span> [<span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span>].<span class='id identifier rubyid_min'>min</span> <span class='kw'>if</span> <span class='id identifier rubyid_limit'><a href="#limit-class_method" title="BigDecimal.limit (method)">limit</a></span>.<span class='id identifier rubyid_nonzero?'><a href="#nonzero%3F-instance_method" title="BigDecimal#nonzero? (method)">nonzero?</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ex'>ex</span> <span class='op'>=</span> <span class='id identifier rubyid_exponent'><a href="#exponent-instance_method" title="BigDecimal#exponent (method)">exponent</a></span> <span class='op'>/</span> <span class='int'>2</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid__decimal_shift'><a href="#_decimal_shift-instance_method" title="BigDecimal#_decimal_shift (method)">_decimal_shift</a></span>(<span class='op'>-</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_ex'>ex</span>)
  <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='const'>Math</span>.<span class='id identifier rubyid_sqrt'>sqrt</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_to_f'><a href="#to_f-instance_method" title="BigDecimal#to_f (method)">to_f</a></span>)<span class='comma'>,</span> <span class='int'>0</span>)
  <span class='id identifier rubyid_precs'>precs</span> <span class='op'>=</span> [<span class='id identifier rubyid_prec'>prec</span> <span class='op'>+</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>]
  <span class='id identifier rubyid_precs'>precs</span> <span class='op'>&lt;&lt;</span> <span class='int'>2</span> <span class='op'>+</span> <span class='id identifier rubyid_precs'>precs</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>/</span> <span class='int'>2</span> <span class='kw'>while</span> <span class='id identifier rubyid_precs'>precs</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>&gt;</span> <span class='const'>BigDecimal</span>.<span class='id identifier rubyid_double_fig'><a href="#double_fig-class_method" title="BigDecimal.double_fig (method)">double_fig</a></span>
  <span class='id identifier rubyid_precs'>precs</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_add'><a href="#add-instance_method" title="BigDecimal#add (method)">add</a></span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_div'><a href="#div-instance_method" title="BigDecimal#div (method)">div</a></span>(<span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>)<span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>).<span class='id identifier rubyid_div'><a href="#div-instance_method" title="BigDecimal#div (method)">div</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid__decimal_shift'><a href="#_decimal_shift-instance_method" title="BigDecimal#_decimal_shift (method)">_decimal_shift</a></span>(<span class='id identifier rubyid_ex'>ex</span>).<span class='id identifier rubyid_mult'><a href="#mult-instance_method" title="BigDecimal#mult (method)">mult</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_prec'>prec</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub-instance_method">
  <h3 class='signature '>
    #<strong>sub</strong>(value, digits)  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Subtract the specified value.</p>

<p>e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span><span class='id identifier rubyid_n'>n</span>)</code></pre>
<dl class="rdoc-list note-list"><dt>digits</dt>
<dd>
<p>If specified and less than the number of significant digits of the result, the result is rounded to that number of digits, according to BigDecimal.mode.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1990-L1994'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1990' data-end='1994'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1990</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_sub2(VALUE self, VALUE b, VALUE n)
{
    return BigDecimal_addsub_with_coerce(self, b, check_int_precision(n), -1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_d-instance_method">
  <h3 class='signature '>
    #<strong>to_d</strong>  &#x21d2; <code>BigDecimal</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns self.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bigdecimal/util</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.14</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_to_d'>to_d</span>                       <span class='comment'># =&gt; 0.314e1</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal/util.rb#L110-L112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal/util.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_d'>to_d</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_digits-instance_method">
  <h3 class='signature '>
    #<strong>to_digits</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts a <code>BigDecimal</code> to a <a href="String.html" title="String (class)"><code>::String</code></a> of the form “nnnnnn.mmm”. This method is deprecated; use <a href="#to_s-instance_method" title="BigDecimal#to_s (method)">#to_s</a>(“F”) instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bigdecimal/util</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.14</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_to_digits'>to_digits</span>                  <span class='comment'># =&gt; &quot;3.14&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/lib/bigdecimal/util.rb#L90-L98'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='90' data-end='98'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bigdecimal/util.rb', line 90</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_digits'>to_digits</span>
  <span class='kw'>if</span> <span class='kw'>self</span>.<span class='id identifier rubyid_nan?'><a href="#nan%3F-instance_method" title="BigDecimal#nan? (method)">nan?</a></span> <span class='op'>||</span> <span class='kw'>self</span>.<span class='id identifier rubyid_infinite?'><a href="#infinite%3F-instance_method" title="BigDecimal#infinite? (method)">infinite?</a></span> <span class='op'>||</span> <span class='kw'>self</span>.<span class='id identifier rubyid_zero?'><a href="#zero%3F-instance_method" title="BigDecimal#zero? (method)">zero?</a></span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="BigDecimal#to_s (method)">to_s</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_i'>i</span>       <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_to_i'><a href="#to_i-instance_method" title="BigDecimal#to_i (method)">to_i</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="BigDecimal#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span><span class='id identifier rubyid_z'>z</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_frac'><a href="#frac-instance_method" title="BigDecimal#frac (method)">frac</a></span>.<span class='id identifier rubyid_split'><a href="#split-instance_method" title="BigDecimal#split (method)">split</a></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> (<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span>(<span class='op'>-</span><span class='id identifier rubyid_z'>z</span>)) <span class='op'>+</span> <span class='id identifier rubyid_f'>f</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_f-instance_method">
  <h3 class='signature '>
    #<strong>to_f</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <a href="Float.html" title="Float (class)"><code>::Float</code></a> object having approximately the same value as the <code>BigDecimal</code> number. Normal accuracy limits and built-in errors of binary <a href="Float.html" title="Float (class)"><code>::Float</code></a> arithmetic apply.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1130-L1174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1130' data-end='1174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1130</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_to_f(VALUE self)
{
    double d;
    SIGNED_VALUE e;
    char *buf;
    volatile VALUE str;
    BDVALUE v = GetBDValueMust(self);
    bool negative = BIGDECIMAL_NEGATIVE_P(v.real);

    if (VpVtoD(&amp;d, &amp;e, v.real) != 1)
	return rb_float_new(d);
    if (e &gt; (SIGNED_VALUE)(DBL_MAX_10_EXP+BASE_FIG))
	goto overflow;
    if (e &lt; (SIGNED_VALUE)(DBL_MIN_10_EXP-DBL_DIG))
	goto underflow;

    str = rb_str_new(0, VpNumOfChars(v.real, &quot;E&quot;));
    buf = RSTRING_PTR(str);
    VpToString(v.real, buf, RSTRING_LEN(str), 0, 0);

    RB_GC_GUARD(v.bigdecimal);

    errno = 0;
    d = strtod(buf, 0);
    if (errno == ERANGE) {
	if (d == 0.0) goto underflow;
	if (fabs(d) &gt;= HUGE_VAL) goto overflow;
    }
    return rb_float_new(d);

overflow:
    VpException(VP_EXCEPTION_OVERFLOW, &quot;BigDecimal to Float conversion&quot;, 0);
    if (negative)
	return rb_float_new(VpGetDoubleNegInf());
    else
	return rb_float_new(VpGetDoublePosInf());

underflow:
    VpException(VP_EXCEPTION_UNDERFLOW, &quot;BigDecimal to Float conversion&quot;, 0);
    if (negative)
	return rb_float_new(-0.0);
    else
	return rb_float_new(0.0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_i-instance_method">
  <h3 class='signature '>
    #<strong>to_i</strong>  
    <span class='aliases'>Also known as: <span class='names'>#to_int</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the value as an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>.</p>

<p>If the <code>BigDecimal</code> is infinity or NaN, raises FloatDomainError.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1091-L1124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1091' data-end='1124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1091</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_to_i(VALUE self)
{
    BDVALUE v;
    VALUE ret;

    v = GetBDValueMust(self);
    BigDecimal_check_num(v.real);

    if (v.real-&gt;exponent &lt;= 0) return INT2FIX(0);
    if (v.real-&gt;exponent == 1) {
        ret = LONG2NUM((long)(VpGetSign(v.real) * (DECDIG_DBL_SIGNED)v.real-&gt;frac[0]));
    }
    else {
        VALUE fix = (ssize_t)v.real-&gt;Prec &gt; v.real-&gt;exponent ? BigDecimal_fix(self) : self;
        VALUE digits = RARRAY_AREF(BigDecimal_split(fix), 1);
        ssize_t dpower = VpExponent10(v.real) - (ssize_t)RSTRING_LEN(digits);
        ret = rb_funcall(digits, rb_intern(&quot;to_i&quot;), 0);

        if (BIGDECIMAL_NEGATIVE_P(v.real)) {
            ret = rb_funcall(ret, &#39;*&#39;, 1, INT2FIX(-1));
        }
        if (dpower) {
            VALUE pow10 = rb_funcall(INT2FIX(10), rb_intern(&quot;**&quot;), 1, SSIZET2NUM(dpower));
            // In Ruby &lt; 3.4, int**int may return Float::INFINITY
            if (RB_TYPE_P(pow10, T_FLOAT)) rb_raise(rb_eFloatDomainError, &quot;Infinity&quot;);

            ret = rb_funcall(ret, &#39;*&#39;, 1, pow10);
        }
    }

    RB_GC_GUARD(v.bigdecimal);
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_int-instance_method">
  <h3 class='signature '>
    #<strong>to_int</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_i-instance_method" title="BigDecimal#to_i (method)">#to_i</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="to_r-instance_method">
  <h3 class='signature '>
    #<strong>to_r</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts a <code>BigDecimal</code> to a <a href="Rational.html" title="Rational (class)"><code>::Rational</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L1179-L1210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1179' data-end='1210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 1179</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_to_r(VALUE self)
{
    BDVALUE v;
    ssize_t sign, power, denomi_power;
    VALUE a, digits, numerator;

    v = GetBDValueMust(self);
    BigDecimal_check_num(v.real);
    sign = VpGetSign(v.real);
    power = VpExponent10(v.real);
    RB_GC_GUARD(v.bigdecimal);

    a = BigDecimal_split(self);
    digits = RARRAY_AREF(a, 1);
    denomi_power = power - RSTRING_LEN(digits);
    numerator = rb_funcall(digits, rb_intern(&quot;to_i&quot;), 0);

    if (sign &lt; 0) {
	numerator = rb_funcall(numerator, &#39;*&#39;, 1, INT2FIX(-1));
    }
    if (denomi_power &lt; 0) {
	return rb_Rational(numerator,
			   rb_funcall(INT2FIX(10), rb_intern(&quot;**&quot;), 1,
				      INT2FIX(-denomi_power)));
    }
    else {
	return rb_Rational1(rb_funcall(numerator, &#39;*&#39;, 1,
				       rb_funcall(INT2FIX(10), rb_intern(&quot;**&quot;), 1,
						  INT2FIX(denomi_power))));
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>(s)  &#x21d2; ?   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts the value to a string.</p>

<p>The default format looks like  0.xxxxEnn.</p>

<p>The optional parameter s consists of either an integer; or an optional ‘+’ or ‘ ’, followed by an optional number, followed by an optional ‘E’ or ‘F’.</p>

<p>If there is a ‘+’ at the start of s, positive values are returned with a leading ‘+’.</p>

<p>A space at the start of s returns positive values with a leading space.</p>

<p>If s contains a number, a space is inserted after each group of that many digits, starting from ‘.’ and counting outwards.</p>

<p>If s ends with an ‘E’, scientific notation (0.xxxxEnn) is used.</p>

<p>If s ends with an ‘F’, conventional floating point notation is used.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-1234567890123.45678901234567890</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_to_s'>to_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>5F</span><span class='tstring_end'>&#39;</span></span>)
  <span class='comment'>#=&gt; &#39;-123 45678 90123.45678 90123 45678 9&#39;
</span>
<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234567890123.45678901234567890</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_to_s'>to_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+8F</span><span class='tstring_end'>&#39;</span></span>)
  <span class='comment'>#=&gt; &#39;+12345 67890123.45678901 23456789&#39;
</span>
<span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234567890123.45678901234567890</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_to_s'>to_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> F</span><span class='tstring_end'>&#39;</span></span>)
  <span class='comment'>#=&gt; &#39; 1234567890123.4567890123456789&#39;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2285-L2355'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2285' data-end='2355'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2285</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_to_s(int argc, VALUE *argv, VALUE self)
{
    int   fmt = 0;   /* 0: E format, 1: F format */
    int   fPlus = 0; /* 0: default, 1: set &#39; &#39; before digits, 2: set &#39;+&#39; before digits. */
    BDVALUE v;
    volatile VALUE str;
    char  *psz;
    char   ch;
    size_t nc, mc = 0;
    SIGNED_VALUE m;
    VALUE  f;

    v = GetBDValueMust(self);

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;f) == 1) {
	if (RB_TYPE_P(f, T_STRING)) {
	    psz = StringValueCStr(f);
	    if (*psz == &#39; &#39;) {
		fPlus = 1;
		psz++;
	    }
	    else if (*psz == &#39;+&#39;) {
		fPlus = 2;
		psz++;
	    }
	    while ((ch = *psz++) != 0) {
		if (ISSPACE(ch)) {
		    continue;
		}
		if (!ISDIGIT(ch)) {
		    if (ch == &#39;F&#39; || ch == &#39;f&#39;) {
			fmt = 1; /* F format */
		    }
		    break;
		}
		mc = mc*10 + ch - &#39;0&#39;;
	    }
	}
	else {
	    m = NUM2INT(f);
	    if (m &lt;= 0) {
		rb_raise(rb_eArgError, &quot;argument must be positive&quot;);
	    }
	    mc = (size_t)m;
	}
    }
    if (fmt) {
	nc = VpNumOfChars(v.real, &quot;F&quot;);
    }
    else {
	nc = VpNumOfChars(v.real, &quot;E&quot;);
    }
    if (mc &gt; 0) {
	nc += (nc + mc - 1) / mc + 1;
    }

    str = rb_usascii_str_new(0, nc);
    psz = RSTRING_PTR(str);

    if (fmt) {
	VpToFString(v.real, psz, RSTRING_LEN(str), mc, fPlus);
    }
    else {
	VpToString (v.real, psz, RSTRING_LEN(str), mc, fPlus);
    }
    rb_str_resize(str, strlen(psz));

    RB_GC_GUARD(v.bigdecimal);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="truncate-instance_method">
  <h3 class='signature '>
    #<strong>truncate</strong>(n)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Truncate to the nearest integer (by default), returning the result as a <code>BigDecimal</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_truncate'>truncate</span> <span class='comment'>#=&gt; 3
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>8.7</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_truncate'>truncate</span> <span class='comment'>#=&gt; 8
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.9</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_truncate'>truncate</span> <span class='comment'>#=&gt; -9</span></code></pre>

<p>If n is specified and positive, the fractional part of the result has no more than that many digits.</p>

<p>If n is specified and negative, at least that many digits to the left of the decimal point will be 0 in the result.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_truncate'>truncate</span>(<span class='int'>3</span>) <span class='comment'>#=&gt; 3.141
</span><span class='const'>BigDecimal</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13345.234</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_truncate'>truncate</span>(<span class='op'>-</span><span class='int'>2</span>) <span class='comment'>#=&gt; 13300.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L2188-L2192'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2188' data-end='2192'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 2188</span></pre>
<pre class='code cpp'>

static VALUE
BigDecimal_truncate(int argc, VALUE *argv, VALUE self)
{
    return BigDecimal_truncate_floor_ceil(argc, argv, self, VP_ROUND_DOWN);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="vpdivd-instance_method">
  <h3 class='signature '>
    #<strong>vpdivd</strong>(r, cprec)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3228-L3240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3228' data-end='3240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3228</span></pre>
<pre class='code cpp'>

VALUE
BigDecimal_vpdivd(VALUE self, VALUE r, VALUE cprec) {
    BDVALUE a,b,c,d;
    size_t cn = NUM2INT(cprec);
    a = GetBDValueMust(self);
    b = GetBDValueMust(r);
    c = NewZeroWrap(1, cn * BASE_FIG);
    d = NewZeroWrap(1, VPDIVD_REM_PREC(a.real, b.real, c.real) * BASE_FIG);
    VpDivd(c.real, d.real, a.real, b.real);
    RB_GC_GUARD(a.bigdecimal);
    RB_GC_GUARD(b.bigdecimal);
    return rb_assoc_new(c.bigdecimal, d.bigdecimal);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="vpmult-instance_method">
  <h3 class='signature '>
    #<strong>vpmult</strong>(v)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/bigdecimal/blob/v4.0.1/ext/bigdecimal/bigdecimal.c#L3242-L3252'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3242' data-end='3252'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/bigdecimal/bigdecimal.c', line 3242</span></pre>
<pre class='code cpp'>

VALUE
BigDecimal_vpmult(VALUE self, VALUE v) {
    BDVALUE a,b,c;
    a = GetBDValueMust(self);
    b = GetBDValueMust(v);
    c = NewZeroWrap(1, VPMULT_RESULT_PREC(a.real, b.real) * BASE_FIG);
    VpMult(c.real, a.real, b.real);
    RB_GC_GUARD(a.bigdecimal);
    RB_GC_GUARD(b.bigdecimal);
    return c.bigdecimal;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>