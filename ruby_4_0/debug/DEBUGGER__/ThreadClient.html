<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: DEBUGGER__::ThreadClient &mdash; debug  Ruby-4.0.0 p0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "DEBUGGER__::ThreadClient",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-4.0.0</a> &raquo; 
      <a href='../'>debug</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>ThreadClient&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: DEBUGGER__::ThreadClient</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="ThreadClient/Output.html" title="DEBUGGER__::ThreadClient::Output (class)"><code>Output</code></a>,
        <a href="ThreadClient/Recorder.html" title="DEBUGGER__::ThreadClient::Recorder (class)"><code>Recorder</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)"><code>SuspendReplay</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="GlobalVariablesHelper.html" title="DEBUGGER__::GlobalVariablesHelper (module)"><code>GlobalVariablesHelper</code></a>,
          <a href="SkipPathHelper.html" title="DEBUGGER__::SkipPathHelper (module)"><code>SkipPathHelper</code></a>,
          <a href="Color.html" title="DEBUGGER__::Color (module)"><code>Color</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L960'>lib/debug/server_cdp.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/irb_integration.rb#L17'>lib/debug/irb_integration.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L775'>lib/debug/server_dap.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L53'>lib/debug/thread_client.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='MAX_LENGTH-constant' class='summary_signature'>MAX_LENGTH =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L776-L776'># File 'lib/debug/server_dap.rb', line 776</a>    <pre class='code ruby'><span class='int'>180</span></pre>
  </li>
  <li>
    <span id='SPECIAL_LOCAL_VARS-constant' class='summary_signature'>SPECIAL_LOCAL_VARS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L432-L435'># File 'lib/debug/thread_client.rb', line 432</a>    <pre class='code ruby'>[
  [<span class='symbeg'>:</span><span class='id identifier rubyid_raised_exception'>raised_exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_raised</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span>
  [<span class='symbeg'>:</span><span class='id identifier rubyid_return_value'>return_value</span><span class='comma'>,</span>     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_return</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span>
]</pre>
  </li>
</ul>
  <h3 class='inherited'><a href="GlobalVariablesHelper.html" title="DEBUGGER__::GlobalVariablesHelper (module)"><code>GlobalVariablesHelper</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="GlobalVariablesHelper.html#SKIP_GLOBAL_LIST-constant" title="DEBUGGER__::GlobalVariablesHelper::SKIP_GLOBAL_LIST (constant)">SKIP_GLOBAL_LIST</a>
  </p>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#current-class_method" title=".current (class method)">.<strong>current</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(id, q_evt, q_cmd, thr = Thread.current)  &#x21d2; ThreadClient </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#check_bp_fulfillment_map-instance_method" title="#check_bp_fulfillment_map (instance method)">#<strong>check_bp_fulfillment_map</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#management%3F-instance_method" title="#management? (instance method)">#<strong>management?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#recorder-instance_method" title="#recorder (instance method)">#<strong>recorder</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#running%3F-instance_method" title="#running? (instance method)">#<strong>running?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#thread-instance_method" title="#thread (instance method)">#<strong>thread</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#waiting%3F-instance_method" title="#waiting? (instance method)">#<strong>waiting?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(req)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#activate_irb_integration-instance_method" title="#activate_irb_integration (instance method)">#<strong>activate_irb_integration</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assemble_arguments-instance_method" title="#assemble_arguments (instance method)">#<strong>assemble_arguments</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#class_method_map-instance_method" title="#class_method_map (instance method)">#<strong>class_method_map</strong>(classes)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collect_locals-instance_method" title="#collect_locals (instance method)">#<strong>collect_locals</strong>(frame)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#constant_name%3F-instance_method" title="#constant_name? (instance method)">#<strong>constant_name?</strong>(name)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>TODO: support non-ASCII Constant name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_frame-instance_method" title="#current_frame (instance method)">#<strong>current_frame</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dap_eval-instance_method" title="#dap_eval (instance method)">#<strong>dap_eval</strong>(b, expr, _context, prompt: &#39;(repl_eval)&#39;)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#deactivate-instance_method" title="#deactivate (instance method)">#<strong>deactivate</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug_cmd-instance_method" title="#debug_cmd (instance method)">#<strong>debug_cmd</strong>(cmds)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug_event-instance_method" title="#debug_event (instance method)">#<strong>debug_event</strong>(ev, args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug_mode-instance_method" title="#debug_mode (instance method)">#<strong>debug_mode</strong>(old_mode, new_mode)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug_suspend-instance_method" title="#debug_suspend (instance method)">#<strong>debug_suspend</strong>(event)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_frame_formatter-instance_method" title="#default_frame_formatter (instance method)">#<strong>default_frame_formatter</strong>(frame)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#evaluate_result-instance_method" title="#evaluate_result (instance method)">#<strong>evaluate_result</strong>(r)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at file lib/debug/server_cdp.rb line 1216.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#event!-instance_method" title="#event! (instance method)">#<strong>event!</strong>(ev, *args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exceptionDetails-instance_method" title="#exceptionDetails (instance method)">#<strong>exceptionDetails</strong>(exc, text)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#frame_eval-instance_method" title="#frame_eval (instance method)">#<strong>frame_eval</strong>(src, re_raise: false, binding_location: false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#frame_eval_core-instance_method" title="#frame_eval_core (instance method)">#<strong>frame_eval_core</strong>(src, b, binding_location: false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#frame_str-instance_method" title="#frame_str (instance method)">#<strong>frame_str</strong>(i, frame: )  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_info-instance_method" title="#generate_info (instance method)">#<strong>generate_info</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_consts-instance_method" title="#get_consts (instance method)">#<strong>get_consts</strong>(expr = nil, only_self: false, &amp;block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_frame-instance_method" title="#get_frame (instance method)">#<strong>get_frame</strong>(index)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_src-instance_method" title="#get_src (instance method)">#<strong>get_src</strong>(frame, max_lines:, start_line: nil, end_line: nil, dir: +1)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#internalProperty-instance_method" title="#internalProperty (instance method)">#<strong>internalProperty</strong>(name, obj)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#iter_consts-instance_method" title="#iter_consts (instance method)">#<strong>iter_consts</strong>(c, names = {})  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#location-instance_method" title="#location (instance method)">#<strong>location</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#make_breakpoint-instance_method" title="#make_breakpoint (instance method)">#<strong>make_breakpoint</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mark_as_management-instance_method" title="#mark_as_management (instance method)">#<strong>mark_as_management</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_breakpoint-instance_method" title="#on_breakpoint (instance method)">#<strong>on_breakpoint</strong>(tp, bp)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_init-instance_method" title="#on_init (instance method)">#<strong>on_init</strong>(name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_load-instance_method" title="#on_load (instance method)">#<strong>on_load</strong>(iseq, eval_src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_pause-instance_method" title="#on_pause (instance method)">#<strong>on_pause</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_trace-instance_method" title="#on_trace (instance method)">#<strong>on_trace</strong>(trace_id, msg)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_trap-instance_method" title="#on_trap (instance method)">#<strong>on_trap</strong>(sig)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#outline_method-instance_method" title="#outline_method (instance method)">#<strong>outline_method</strong>(o, klass, obj)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#preview-instance_method" title="#preview (instance method)">#<strong>preview</strong>(name, obj)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#preview_-instance_method" title="#preview_ (instance method)">#<strong>preview_</strong>(value, hash, overflow)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#process_cdp-instance_method" title="#process_cdp (instance method)">#<strong>process_cdp</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#process_dap-instance_method" title="#process_dap (instance method)">#<strong>process_dap</strong>(args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#propertyDescriptor-instance_method" title="#propertyDescriptor (instance method)">#<strong>propertyDescriptor</strong>(name, obj)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#propertyDescriptor_-instance_method" title="#propertyDescriptor_ (instance method)">#<strong>propertyDescriptor_</strong>(name, obj, type, description: nil, subtype: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#puts-instance_method" title="#puts (instance method)">#<strong>puts</strong>(str = &#39;&#39;)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#puts_variable_info-instance_method" title="#puts_variable_info (instance method)">#<strong>puts_variable_info</strong>(label, obj, pat)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replay_suspend-instance_method" title="#replay_suspend (instance method)">#<strong>replay_suspend</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#search_const-instance_method" title="#search_const (instance method)">#<strong>search_const</strong>(b, expr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at file lib/debug/server_cdp.rb line 1195.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_mode-instance_method" title="#set_mode (instance method)">#<strong>set_mode</strong>(mode)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_by_editor-instance_method" title="#show_by_editor (instance method)">#<strong>show_by_editor</strong>(path = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>cmd: show edit.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_consts-instance_method" title="#show_consts (instance method)">#<strong>show_consts</strong>(pat, expr = nil, only_self: false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_frame-instance_method" title="#show_frame (instance method)">#<strong>show_frame</strong>(i = 0)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_frames-instance_method" title="#show_frames (instance method)">#<strong>show_frames</strong>(max = nil, pattern = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>cmd: show frames.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_globals-instance_method" title="#show_globals (instance method)">#<strong>show_globals</strong>(pat)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_ivars-instance_method" title="#show_ivars (instance method)">#<strong>show_ivars</strong>(pat, expr = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_locals-instance_method" title="#show_locals (instance method)">#<strong>show_locals</strong>(pat)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_outline-instance_method" title="#show_outline (instance method)">#<strong>show_outline</strong>(expr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>cmd: show outline.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_src-instance_method" title="#show_src (instance method)">#<strong>show_src</strong>(frame_index: @current_frame_index, update_line: false, ignore_show_line: false, max_lines: , **options)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#special_local_variables-instance_method" title="#special_local_variables (instance method)">#<strong>special_local_variables</strong>(frame)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>cmd: show.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#step_tp-instance_method" title="#step_tp (instance method)">#<strong>step_tp</strong>(iter, events = [:line, :b_return, :return])  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#suspend-instance_method" title="#suspend (instance method)">#<strong>suspend</strong>(event, tp = nil, bp: nil, sig: nil, postmortem_frames: nil, replay_frames: nil, postmortem_exc: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tp_allow_reentry-instance_method" title="#tp_allow_reentry (instance method)">#<strong>tp_allow_reentry</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at line 388.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#truncate-instance_method" title="#truncate (instance method)">#<strong>truncate</strong>(string, width:)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#type_name-instance_method" title="#type_name (instance method)">#<strong>type_name</strong>(obj)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#value_inspect-instance_method" title="#value_inspect (instance method)">#<strong>value_inspect</strong>(obj, short: true)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#variable-instance_method" title="#variable (instance method)">#<strong>variable</strong>(name, obj)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at file lib/debug/server_cdp.rb line 1274.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#variable_-instance_method" title="#variable_ (instance method)">#<strong>variable_</strong>(name, obj, indexedVariables: 0, namedVariables: 0)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait_next_action-instance_method" title="#wait_next_action (instance method)">#<strong>wait_next_action</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait_next_action_-instance_method" title="#wait_next_action_ (instance method)">#<strong>wait_next_action_</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait_reply-instance_method" title="#wait_reply (instance method)">#<strong>wait_reply</strong>(event_arg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>events.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#fiber_blocking-instance_method" title="#fiber_blocking (instance method)">#<strong>fiber_blocking</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="GlobalVariablesHelper.html" title="DEBUGGER__::GlobalVariablesHelper (module)"><code>GlobalVariablesHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="GlobalVariablesHelper.html#safe_global_variables-instance_method" title="DEBUGGER__::GlobalVariablesHelper#safe_global_variables (method)">#safe_global_variables</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="SkipPathHelper.html" title="DEBUGGER__::SkipPathHelper (module)"><code>SkipPathHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="SkipPathHelper.html#skip_config_skip_path%3F-instance_method" title="DEBUGGER__::SkipPathHelper#skip_config_skip_path? (method)">#skip_config_skip_path?</a>,
        <a class='i_m ' href="SkipPathHelper.html#skip_internal_path%3F-instance_method" title="DEBUGGER__::SkipPathHelper#skip_internal_path? (method)">#skip_internal_path?</a>,
        <a class='i_m ' href="SkipPathHelper.html#skip_location%3F-instance_method" title="DEBUGGER__::SkipPathHelper#skip_location? (method)">#skip_location?</a>,
        <a class='i_m ' href="SkipPathHelper.html#skip_path%3F-instance_method" title="DEBUGGER__::SkipPathHelper#skip_path? (method)">#skip_path?</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Color.html" title="DEBUGGER__::Color (module)"><code>Color</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Color.html#color_pp-instance_method" title="DEBUGGER__::Color#color_pp (method)">#color_pp</a></td>
      <td><div class='inline'><p>See additional method definition at line 50.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Color.html#colored_inspect-instance_method" title="DEBUGGER__::Color#colored_inspect (method)">#colored_inspect</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Color.html#colorize-instance_method" title="DEBUGGER__::Color#colorize (method)">#colorize</a></td>
      <td><div class='inline'><p>See additional method definition at line 36.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Color.html#colorize_blue-instance_method" title="DEBUGGER__::Color#colorize_blue (method)">#colorize_blue</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Color.html#colorize_code-instance_method" title="DEBUGGER__::Color#colorize_code (method)">#colorize_code</a></td>
      <td><div class='inline'><p>See additional method definition at line 79.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Color.html#colorize_cyan-instance_method" title="DEBUGGER__::Color#colorize_cyan (method)">#colorize_cyan</a>,
        <a class='i_m ' href="Color.html#colorize_dim-instance_method" title="DEBUGGER__::Color#colorize_dim (method)">#colorize_dim</a>,
        <a class='i_m ' href="Color.html#colorize_magenta-instance_method" title="DEBUGGER__::Color#colorize_magenta (method)">#colorize_magenta</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Color.html#irb_colorize-instance_method" title="DEBUGGER__::Color#irb_colorize (method)">#irb_colorize</a></td>
      <td><div class='inline'><p>See additional method definition at line 27.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Color.html#with_inspection_error_guard-instance_method" title="DEBUGGER__::Color#with_inspection_error_guard (method)">#with_inspection_error_guard</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(id, q_evt, q_cmd, thr = Thread.current)  &#x21d2; <code>ThreadClient</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L111-L132'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='111' data-end='132'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='comma'>,</span> <span class='id identifier rubyid_q_evt'>q_evt</span><span class='comma'>,</span> <span class='id identifier rubyid_q_cmd'>q_cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_thr'>thr</span> <span class='op'>=</span> <span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'><a href="#current-class_method" title="DEBUGGER__::ThreadClient.current (method)">current</a></span>
  <span class='ivar'>@is_management</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@id</span> <span class='op'>=</span> <span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span>
  <span class='ivar'>@thread</span> <span class='op'>=</span> <span class='id identifier rubyid_thr'>thr</span>
  <span class='ivar'>@target_frames</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@q_evt</span> <span class='op'>=</span> <span class='id identifier rubyid_q_evt'>q_evt</span>
  <span class='ivar'>@q_cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_q_cmd'>q_cmd</span>
  <span class='ivar'>@step_tp</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@output</span> <span class='op'>=</span> []
  <span class='ivar'>@frame_formatter</span> <span class='op'>=</span> <span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_default_frame_formatter'><a href="#default_frame_formatter-instance_method" title="DEBUGGER__::ThreadClient#default_frame_formatter (method)">default_frame_formatter</a></span>)
  <span class='ivar'>@var_map</span> <span class='op'>=</span> {} <span class='comment'># { thread_local_var_id =&gt; obj } for DAP
</span>  <span class='ivar'>@obj_map</span> <span class='op'>=</span> {} <span class='comment'># { object_id =&gt; obj } for CDP
</span>  <span class='ivar'>@recorder</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>
  <span class='ivar'>@current_frame_index</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='comment'># every thread should maintain its own CheckBreakpoint fulfillment state
</span>  <span class='ivar'>@check_bp_fulfillment_map</span> <span class='op'>=</span> {} <span class='comment'># { check_bp =&gt; boolean }
</span>  <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_running'>running</span>
  <span class='id identifier rubyid_thr'>thr</span>.<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@__thread_client_id</span><span class='comma'>,</span> <span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span>)

  <span class='op'>::</span><span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_info'><a href="../DEBUGGER__.html#info-class_method" title="DEBUGGER__.info (method)">info</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thread \#</span><span class='embexpr_beg'>#{</span><span class='ivar'>@id</span><span class='embexpr_end'>}</span><span class='tstring_content'> is created.</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="current-class_method">
  <h3 class='signature  first'>
    .<strong>current</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L54-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='54' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_current'>current</span>
  <span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_debug_thread_client'>debug_thread_client</span> <span class='op'>||=</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_get_thread_client'>get_thread_client</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="check_bp_fulfillment_map-instance_method">
  <h3 class='signature ro first'>
    #<strong>check_bp_fulfillment_map</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L62-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_recorder'><a href="#recorder-instance_method" title="DEBUGGER__::ThreadClient#recorder (method)">recorder</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_check_bp_fulfillment_map'>check_bp_fulfillment_map</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="id-instance_method">
  <h3 class='signature ro'>
    #<strong>id</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L62-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_recorder'><a href="#recorder-instance_method" title="DEBUGGER__::ThreadClient#recorder (method)">recorder</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_check_bp_fulfillment_map'><a href="#check_bp_fulfillment_map-instance_method" title="DEBUGGER__::ThreadClient#check_bp_fulfillment_map (method)">check_bp_fulfillment_map</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="management?-instance_method">
  <h3 class='signature ro'>
    #<strong>management?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L138-L140'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='138' data-end='140'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_management?'>management?</span>
  <span class='ivar'>@is_management</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="recorder-instance_method">
  <h3 class='signature ro'>
    #<strong>recorder</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L62-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_recorder'>recorder</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_check_bp_fulfillment_map'><a href="#check_bp_fulfillment_map-instance_method" title="DEBUGGER__::ThreadClient#check_bp_fulfillment_map (method)">check_bp_fulfillment_map</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="running?-instance_method">
  <h3 class='signature ro'>
    #<strong>running?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L166-L168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='166' data-end='168'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_running?'>running?</span>
  <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_running'>running</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread-instance_method">
  <h3 class='signature ro'>
    #<strong>thread</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L62-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'>thread</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_recorder'><a href="#recorder-instance_method" title="DEBUGGER__::ThreadClient#recorder (method)">recorder</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_check_bp_fulfillment_map'><a href="#check_bp_fulfillment_map-instance_method" title="DEBUGGER__::ThreadClient#check_bp_fulfillment_map (method)">check_bp_fulfillment_map</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="waiting?-instance_method">
  <h3 class='signature ro'>
    #<strong>waiting?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L170-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='170' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 170</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_waiting?'>waiting?</span>
  <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(req)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L210-L213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='210' data-end='213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 210</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_req'>req</span>
  <span class='id identifier rubyid_debug_cmd'><a href="#debug_cmd-instance_method" title="DEBUGGER__::ThreadClient#debug_cmd (method)">debug_cmd</a></span>(<span class='id identifier rubyid_req'>req</span>)
  <span class='ivar'>@q_cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_req'>req</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="activate_irb_integration-instance_method">
  <h3 class='signature '>
    #<strong>activate_irb_integration</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/irb_integration.rb#L18-L25'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='18' data-end='25'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/irb_integration.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_activate_irb_integration'>activate_irb_integration</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'>setup</span>(<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span><span class='comma'>,</span> <span class='label'>argv:</span> [])
  <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'>WorkSpace</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_binding'>binding</span> <span class='op'>||</span> <span class='const'>TOPLEVEL_BINDING</span>)
  <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'>Irb</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='id identifier rubyid_workspace'>workspace</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'>conf</span>[<span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span>] <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_context'>context</span>
  <span class='const'>IRB</span><span class='op'>::</span><span class='const'>Debug</span>.<span class='id identifier rubyid_setup'>setup</span>(<span class='id identifier rubyid_irb'>irb</span>)
  <span class='const'>IRB</span><span class='op'>::</span><span class='const'>Context</span>.<span class='id identifier rubyid_prepend'>prepend</span>(<span class='const'><a href="IrbPatch.html" title="DEBUGGER__::IrbPatch (module)">IrbPatch</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="assemble_arguments-instance_method">
  <h3 class='signature '>
    #<strong>assemble_arguments</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L68-L72'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='68' data-end='72'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 68</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_assemble_arguments'>assemble_arguments</span>(<span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_cyan'>colorize_cyan</span>(<span class='id identifier rubyid_arg'>arg</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>])<span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="class_method_map-instance_method">
  <h3 class='signature '>
    #<strong>class_method_map</strong>(classes)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L798-L806'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='798' data-end='806'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 798</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_class_method_map'>class_method_map</span>(<span class='id identifier rubyid_classes'>classes</span>)
  <span class='id identifier rubyid_dumped'>dumped</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>
  <span class='id identifier rubyid_classes'>classes</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='op'>|</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>&gt;=</span> <span class='const'><a href="../Object.html" title="Object (class)">Object</a></span> }.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='op'>|</span>
    <span class='id identifier rubyid_methods'>methods</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span>(<span class='kw'>false</span>).<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_dumped'>dumped</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_m'>m</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_dumped'>dumped</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_m'>m</span>)
    <span class='kw'>end</span>
    [<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_methods'>methods</span>]
  <span class='kw'>end</span>.<span class='id identifier rubyid_reverse'>reverse</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="close-instance_method">
  <h3 class='signature '>
    #<strong>close</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L178-L180'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='180'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_close'>close</span>
  <span class='ivar'>@q_cmd</span>.<span class='id identifier rubyid_close'>close</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collect_locals-instance_method">
  <h3 class='signature '>
    #<strong>collect_locals</strong>(frame)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L550-L567'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='550' data-end='567'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 550</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collect_locals'>collect_locals</span>(<span class='id identifier rubyid_frame'>frame</span>)
  <span class='id identifier rubyid_locals'>locals</span> <span class='op'>=</span> []

  <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&amp;.</span><span class='id identifier rubyid_self'>self</span>
    <span class='id identifier rubyid_locals'>locals</span> <span class='op'>&lt;&lt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%self</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>]
  <span class='kw'>end</span>
  <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_frame'>frame</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='id identifier rubyid_locals'>locals</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>]
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&amp;.</span><span class='id identifier rubyid_local_variables'>local_variables</span>
    <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
      <span class='id identifier rubyid_locals'>locals</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>]
    }
  <span class='kw'>end</span>

  <span class='id identifier rubyid_locals'>locals</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="constant_name?-instance_method">
  <h3 class='signature '>
    #<strong>constant_name?</strong>(name)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>TODO: support non-ASCII Constant name</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L811-L825'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='811' data-end='825'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 811</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_constant_name?'>constant_name?</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A::\b</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_constant_name?'>constant_name?</span> <span class='gvar'>$~</span>.<span class='id identifier rubyid_post_match'>post_match</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[A-Z]\w*</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='gvar'>$~</span>.<span class='id identifier rubyid_post_match'>post_match</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_post'>post</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_constant_name?'>constant_name?</span> <span class='id identifier rubyid_post'>post</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_frame-instance_method">
  <h3 class='signature '>
    #<strong>current_frame</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L538-L540'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='538' data-end='540'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 538</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_frame'>current_frame</span>
  <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='ivar'>@current_frame_index</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dap_eval-instance_method">
  <h3 class='signature '>
    #<strong>dap_eval</strong>(b, expr, _context, prompt: &#39;(repl_eval)&#39;)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L789-L797'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='789' data-end='797'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 789</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dap_eval'>dap_eval</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='id identifier rubyid__context'>_context</span><span class='comma'>,</span> <span class='label'>prompt:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(repl_eval)</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_tp_allow_reentry'><a href="#tp_allow_reentry-instance_method" title="DEBUGGER__::ThreadClient#tp_allow_reentry (method)">tp_allow_reentry</a></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_prompt'>prompt</span>)
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deactivate-instance_method">
  <h3 class='signature '>
    #<strong>deactivate</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L134-L136'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='134' data-end='136'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 134</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_deactivate'>deactivate</span>
  <span class='ivar'>@step_tp</span>.<span class='id identifier rubyid_disable'>disable</span> <span class='kw'>if</span> <span class='ivar'>@step_tp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_cmd-instance_method">
  <h3 class='signature '>
    #<strong>debug_cmd</strong>(cmds)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L1273-L1279'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1273' data-end='1279'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 1273</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_cmd'>debug_cmd</span>(<span class='id identifier rubyid_cmds'>cmds</span>)
  <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_debug'><a href="../DEBUGGER__.html#debug-class_method" title="DEBUGGER__.debug (method)">debug</a></span>{
    <span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_cmds'>cmds</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span>(<span class='id identifier rubyid_arg'>arg</span>) }
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> receives Cmd { type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>, args: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_content'> } from Session</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_event-instance_method">
  <h3 class='signature '>
    #<strong>debug_event</strong>(ev, args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L1260-L1265'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1260' data-end='1265'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 1260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_event'>debug_event</span>(<span class='id identifier rubyid_ev'>ev</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>)
  <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_debug'><a href="../DEBUGGER__.html#debug-class_method" title="DEBUGGER__.debug (method)">debug</a></span>{
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span>(<span class='id identifier rubyid_arg'>arg</span>) }
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> sends Event { type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ev'>ev</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>, args: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_content'> } to Session</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_mode-instance_method">
  <h3 class='signature '>
    #<strong>debug_mode</strong>(old_mode, new_mode)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L1267-L1271'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1267' data-end='1271'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 1267</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_mode'>debug_mode</span>(<span class='id identifier rubyid_old_mode'>old_mode</span><span class='comma'>,</span> <span class='id identifier rubyid_new_mode'>new_mode</span>)
  <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_debug'><a href="../DEBUGGER__.html#debug-class_method" title="DEBUGGER__.debug (method)">debug</a></span>{
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> changes mode (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_mode'>old_mode</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_mode'>new_mode</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_suspend-instance_method">
  <h3 class='signature '>
    #<strong>debug_suspend</strong>(event)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L1281-L1285'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1281' data-end='1285'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 1281</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_suspend'>debug_suspend</span>(<span class='id identifier rubyid_event'>event</span>)
  <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_debug'><a href="../DEBUGGER__.html#debug-class_method" title="DEBUGGER__.debug (method)">debug</a></span>{
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> is suspended for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event'>event</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_frame_formatter-instance_method">
  <h3 class='signature '>
    #<strong>default_frame_formatter</strong>(frame)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L74-L109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='74' data-end='109'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 74</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_frame_formatter'>default_frame_formatter</span> <span class='id identifier rubyid_frame'>frame</span>
  <span class='id identifier rubyid_call_identifier_str'>call_identifier_str</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_frame_type'>frame_type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_block'>block</span>
      <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='id identifier rubyid_block_loc'>block_loc</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_block_identifier'>block_identifier</span>
      <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_parameters_info'>parameters_info</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_args_str'>args_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> {|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_assemble_arguments'><a href="#assemble_arguments-instance_method" title="DEBUGGER__::ThreadClient#assemble_arguments (method)">assemble_arguments</a></span>(<span class='id identifier rubyid_args'>args</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>|}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_blue'>colorize_blue</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>block</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args_str'>args_str</span><span class='embexpr_end'>}</span><span class='tstring_content'> in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_blue'>colorize_blue</span>(<span class='id identifier rubyid_block_loc'>block_loc</span> <span class='op'>+</span> <span class='id identifier rubyid_level'>level</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span>
      <span class='id identifier rubyid_ci'>ci</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_method_identifier'>method_identifier</span>
      <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_parameters_info'>parameters_info</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_args_str'>args_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_assemble_arguments'><a href="#assemble_arguments-instance_method" title="DEBUGGER__::ThreadClient#assemble_arguments (method)">assemble_arguments</a></span>(<span class='id identifier rubyid_args'>args</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_blue'>colorize_blue</span>(<span class='id identifier rubyid_ci'>ci</span>)<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args_str'>args_str</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span>
      <span class='id identifier rubyid_colorize_blue'>colorize_blue</span>(<span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_c_identifier'>c_identifier</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_other'>other</span>
      <span class='id identifier rubyid_colorize_blue'>colorize_blue</span>(<span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_other_identifier'>other_identifier</span>)
    <span class='kw'>end</span>

  <span class='id identifier rubyid_location_str'>location_str</span> <span class='op'>=</span> <span class='id identifier rubyid_colorize'>colorize</span>(<span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location_str'>location_str</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='const'>GREEN</span>])
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_call_identifier_str'>call_identifier_str</span><span class='embexpr_end'>}</span><span class='tstring_content'> at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location_str'>location_str</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_str'>return_str</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_return_str'>return_str</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> #=&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_magenta'>colorize_magenta</span>(<span class='id identifier rubyid_return_str'>return_str</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="evaluate_result-instance_method">
  <h3 class='signature '>
    #<strong>evaluate_result</strong>(r)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at file lib/debug/server_cdp.rb line 1216.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L1040-L1043'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1040' data-end='1043'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 1040</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_result'>evaluate_result</span> <span class='id identifier rubyid_r'>r</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_r'>r</span>
  <span class='id identifier rubyid_v'>v</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="event!-instance_method">
  <h3 class='signature '>
    #<strong>event!</strong>(ev, *args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L221-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='221' data-end='225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 221</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_event!'>event!</span> <span class='id identifier rubyid_ev'>ev</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
  <span class='id identifier rubyid_debug_event'><a href="#debug_event-instance_method" title="DEBUGGER__::ThreadClient#debug_event (method)">debug_event</a></span>(<span class='id identifier rubyid_ev'>ev</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>)
  <span class='ivar'>@q_evt</span> <span class='op'>&lt;&lt;</span> [<span class='kw'>self</span><span class='comma'>,</span> <span class='ivar'>@output</span><span class='comma'>,</span> <span class='id identifier rubyid_ev'>ev</span><span class='comma'>,</span> <span class='id identifier rubyid_generate_info'><a href="#generate_info-instance_method" title="DEBUGGER__::ThreadClient#generate_info (method)">generate_info</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>]
  <span class='ivar'>@output</span> <span class='op'>=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exceptionDetails-instance_method">
  <h3 class='signature '>
    #<strong>exceptionDetails</strong>(exc, text)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1164-L1193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1164' data-end='1193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1164</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exceptionDetails'>exceptionDetails</span> <span class='id identifier rubyid_exc'>exc</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span>
  <span class='id identifier rubyid_frames'>frames</span> <span class='op'>=</span> [
    {
      <span class='label'>columnNumber:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='label'>functionName:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eval</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>lineNumber:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='label'>url:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    }
  ]
  <span class='id identifier rubyid_exc'>exc</span>.<span class='id identifier rubyid_backtrace_locations'>backtrace_locations</span><span class='op'>&amp;.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_loc'>loc</span><span class='op'>|</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='kw'>__FILE__</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_absolute_path'>absolute_path</span> <span class='op'>||</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_frames'>frames</span> <span class='op'>&lt;&lt;</span> {
      <span class='label'>columnNumber:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='label'>functionName:</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_base_label'>base_label</span><span class='comma'>,</span>
      <span class='label'>lineNumber:</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span>
      <span class='label'>url:</span> <span class='id identifier rubyid_path'>path</span>
    }
  <span class='kw'>end</span>
  {
    <span class='label'>exceptionId:</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='label'>text:</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span>
    <span class='label'>lineNumber:</span> <span class='int'>0</span><span class='comma'>,</span>
    <span class='label'>columnNumber:</span> <span class='int'>0</span><span class='comma'>,</span>
    <span class='label'>exception:</span> <span class='id identifier rubyid_evaluate_result'><a href="#evaluate_result-instance_method" title="DEBUGGER__::ThreadClient#evaluate_result (method)">evaluate_result</a></span>(<span class='id identifier rubyid_exc'>exc</span>)<span class='comma'>,</span>
    <span class='label'>stackTrace:</span> {
      <span class='label'>callFrames:</span> <span class='id identifier rubyid_frames'>frames</span>
    }
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fiber_blocking-instance_method">
  <h3 class='signature priv'>
    #<strong>fiber_blocking</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L871-L873'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='871' data-end='873'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 871</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_fiber_blocking'>fiber_blocking</span>
  <span class='kw'>yield</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="frame_eval-instance_method">
  <h3 class='signature '>
    #<strong>frame_eval</strong>(src, re_raise: false, binding_location: false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L437-L463'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='437' data-end='463'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 437</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_frame_eval'>frame_eval</span> <span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='label'>re_raise:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>binding_location:</span> <span class='kw'>false</span>
  <span class='ivar'>@success_last_eval</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_eval_binding'>eval_binding</span> <span class='op'>||</span> <span class='const'>TOPLEVEL_BINDING</span>

  <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span><span class='op'>|</span>
    <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span>) <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\%</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval_core'><a href="#frame_eval_core-instance_method" title="DEBUGGER__::ThreadClient#frame_eval_core (method)">frame_eval_core</a></span>(<span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='label'>binding_location:</span> <span class='id identifier rubyid_binding_location'>binding_location</span>)

  <span class='ivar'>@success_last_eval</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_result'>result</span>

<span class='kw'>rescue</span> <span class='const'>SystemExit</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>return</span> <span class='kw'>yield</span>(<span class='id identifier rubyid_e'>e</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>eval error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace_locations'>backtrace_locations</span><span class='op'>&amp;.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_loc'>loc</span><span class='op'>|</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='kw'>__FILE__</span>
    <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loc'>loc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_re_raise'>re_raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="frame_eval_core-instance_method">
  <h3 class='signature '>
    #<strong>frame_eval_core</strong>(src, b, binding_location: false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L406-L430'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='406' data-end='430'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 406</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_frame_eval_core'>frame_eval_core</span> <span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='label'>binding_location:</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_saved_target_frames'>saved_target_frames</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>
  <span class='id identifier rubyid_saved_current_frame_index'>saved_current_frame_index</span> <span class='op'>=</span> <span class='ivar'>@current_frame_index</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span>
    <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_source_location'>source_location</span>

    <span class='id identifier rubyid_tp_allow_reentry'><a href="#tp_allow_reentry-instance_method" title="DEBUGGER__::ThreadClient#tp_allow_reentry (method)">tp_allow_reentry</a></span> <span class='kw'>do</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_binding_location'>binding_location</span>
        <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_lineno'>lineno</span>)
      <span class='kw'>else</span>
        <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(rdbg)/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_frame_self'>frame_self</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_self'>self</span>

    <span class='id identifier rubyid_tp_allow_reentry'><a href="#tp_allow_reentry-instance_method" title="DEBUGGER__::ThreadClient#tp_allow_reentry (method)">tp_allow_reentry</a></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_frame_self'>frame_self</span>.<span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='id identifier rubyid_src'>src</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@target_frames</span> <span class='op'>=</span> <span class='id identifier rubyid_saved_target_frames'>saved_target_frames</span>
  <span class='ivar'>@current_frame_index</span> <span class='op'>=</span> <span class='id identifier rubyid_saved_current_frame_index'>saved_current_frame_index</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="frame_str-instance_method">
  <h3 class='signature '>
    #<strong>frame_str</strong>(i, frame: )  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L754-L759'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='754' data-end='759'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 754</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_frame_str'>frame_str</span>(<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='label'>frame:</span> <span class='ivar'>@target_frames</span>[<span class='id identifier rubyid_i'>i</span>])
  <span class='id identifier rubyid_cur_str'>cur_str</span> <span class='op'>=</span> (<span class='ivar'>@current_frame_index</span> <span class='op'>==</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=&gt;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  </span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cur_str'>cur_str</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_frame_string'>frame_string</span> <span class='op'>=</span> <span class='ivar'>@frame_formatter</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_frame'>frame</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>\t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_frame_string'>frame_string</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_info-instance_method">
  <h3 class='signature '>
    #<strong>generate_info</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L215-L219'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='215' data-end='219'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 215</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_info'>generate_info</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>

  { <span class='label'>location:</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_location_str'>location_str</span><span class='comma'>,</span> <span class='label'>line:</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_consts-instance_method">
  <h3 class='signature '>
    #<strong>get_consts</strong>(expr = nil, only_self: false, &amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L614-L650'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='614' data-end='650'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 614</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_consts'>get_consts</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>only_self:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='label'>re_raise:</span> <span class='kw'>true</span>)
    <span class='kw'>rescue</span> <span class='const'>Exception</span>
      <span class='comment'># ignore
</span>    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#M_KIND_OF_P-constant" title="DEBUGGER__::M_KIND_OF_P (constant)">M_KIND_OF_P</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid__self'>_self</span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span>)
        <span class='id identifier rubyid_iter_consts'><a href="#iter_consts-instance_method" title="DEBUGGER__::ThreadClient#iter_consts (method)">iter_consts</a></span> <span class='id identifier rubyid__self'>_self</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
        <span class='kw'>return</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid__self'>_self</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> (by </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span><span class='embexpr_end'>}</span><span class='tstring_content'>) is not a Module.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_self'>self</span>
    <span class='id identifier rubyid_cs'>cs</span> <span class='op'>=</span> {}
    <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#M_KIND_OF_P-constant" title="DEBUGGER__::M_KIND_OF_P (constant)">M_KIND_OF_P</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid__self'>_self</span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span>)
      <span class='id identifier rubyid_cs'>cs</span>[<span class='id identifier rubyid__self'>_self</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='kw'>self</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid__self'>_self</span>)
      <span class='id identifier rubyid_cs'>cs</span>[<span class='id identifier rubyid__self'>_self</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='kw'>self</span> <span class='kw'>unless</span> <span class='id identifier rubyid_only_self'>only_self</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_only_self'>only_self</span>
      <span class='id identifier rubyid__self'>_self</span>.<span class='id identifier rubyid_ancestors'>ancestors</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>==</span> <span class='const'><a href="../Object.html" title="Object (class)">Object</a></span><span class='semicolon'>;</span> <span class='id identifier rubyid_cs'>cs</span>[<span class='id identifier rubyid_c'>c</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ancestors'>ancestors</span>}
      <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_binding'>binding</span>
        <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::Module.nesting</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_cs'>cs</span>[<span class='id identifier rubyid_c'>c</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nesting'>nesting</span> <span class='kw'>unless</span> <span class='id identifier rubyid_cs'>cs</span>.<span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_c'>c</span>}
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> {}

    <span class='id identifier rubyid_cs'>cs</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='op'>|</span>
      <span class='id identifier rubyid_iter_consts'><a href="#iter_consts-instance_method" title="DEBUGGER__::ThreadClient#iter_consts (method)">iter_consts</a></span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
    }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_frame-instance_method">
  <h3 class='signature '>
    #<strong>get_frame</strong>(index)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L542-L548'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='542' data-end='548'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 542</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_frame'>get_frame</span>(<span class='id identifier rubyid_index'>index</span>)
  <span class='kw'>if</span> <span class='ivar'>@target_frames</span>
    <span class='ivar'>@target_frames</span>[<span class='id identifier rubyid_index'>index</span>]
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_src-instance_method">
  <h3 class='signature '>
    #<strong>get_src</strong>(frame, max_lines:, start_line: nil, end_line: nil, dir: +1)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L465-L510'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='465' data-end='510'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 465</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_src'>get_src</span>(<span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span>
            <span class='label'>max_lines:</span><span class='comma'>,</span>
            <span class='label'>start_line:</span> <span class='kw'>nil</span><span class='comma'>,</span>
            <span class='label'>end_line:</span> <span class='kw'>nil</span><span class='comma'>,</span>
            <span class='label'>dir:</span> <span class='int'>+1</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_file_lines'>file_lines</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_file_lines'>file_lines</span>
    <span class='id identifier rubyid_frame_line'>frame_line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>-</span> <span class='int'>1</span>

    <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_no_lineno'>no_lineno</span>]
      <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='id identifier rubyid_file_lines'>file_lines</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='id identifier rubyid_file_lines'>file_lines</span>.<span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_with_index'>with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_cur'>cur</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='id identifier rubyid_frame_line'>frame_line</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=&gt;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  </span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_colorize_dim'>colorize_dim</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%4d|</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> (<span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span>))
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cur'>cur</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_start_line'>start_line</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_dir'>dir</span> <span class='op'>&gt;</span> <span class='int'>0</span>
          <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span> <span class='op'>-</span> <span class='id identifier rubyid_max_lines'>max_lines</span>
          <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>=</span> [<span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>-</span> <span class='id identifier rubyid_max_lines'>max_lines</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_max'>max</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>=</span> [<span class='id identifier rubyid_frame_line'>frame_line</span> <span class='op'>-</span> <span class='id identifier rubyid_max_lines'>max_lines</span><span class='op'>/</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_end_line'>end_line</span>
      <span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>=</span> [<span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>+</span> <span class='id identifier rubyid_max_lines'>max_lines</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_size'>size</span>].<span class='id identifier rubyid_min'>min</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>!=</span> <span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_max_lines'>max_lines</span>
      [<span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span>]
    <span class='kw'>end</span>
  <span class='kw'>else</span> <span class='comment'># no file lines
</span>    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>
  <span class='id identifier rubyid_exit!'>exit!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L182-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='182' data-end='188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 182</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_bt'>bt</span> <span class='op'>=</span> <span class='ivar'>@thread</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;DBG:TC </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@mode</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bt'>bt</span>[<span class='op'>-</span><span class='int'>1</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span> <span class='comment'># bt can be nil
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;DBG:TC </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@mode</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="internalProperty-instance_method">
  <h3 class='signature '>
    #<strong>internalProperty</strong>(name, obj)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1221-L1226'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1221' data-end='1226'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1221</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_internalProperty'>internalProperty</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='symbeg'>:</span><span class='id identifier rubyid_configurable'>configurable</span>
  <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='symbeg'>:</span><span class='id identifier rubyid_enumerable'>enumerable</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="iter_consts-instance_method">
  <h3 class='signature '>
    #<strong>iter_consts</strong>(c, names = {})  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L601-L612'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='601' data-end='612'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 601</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_iter_consts'>iter_consts</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_constants'>constants</span>(<span class='kw'>false</span>).<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_names'>names</span>.<span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
    <span class='id identifier rubyid_names'>names</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>] <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>)
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="location-instance_method">
  <h3 class='signature '>
    #<strong>location</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L64-L66'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='64' data-end='66'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 64</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_location'>location</span>
  <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_location'>location</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_breakpoint-instance_method">
  <h3 class='signature '>
    #<strong>make_breakpoint</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L827-L861'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='827' data-end='861'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 827</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_breakpoint'>make_breakpoint</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span>
    <span class='id identifier rubyid_klass_name'>klass_name</span><span class='comma'>,</span> <span class='id identifier rubyid_op'>op</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span><span class='op'>..</span>]
    <span class='id identifier rubyid_bp'>bp</span> <span class='op'>=</span> <span class='const'><a href="MethodBreakpoint.html" title="DEBUGGER__::MethodBreakpoint (class)">MethodBreakpoint</a></span>.<span class='id identifier rubyid_new'><a href="MethodBreakpoint.html#new-class_method" title="DEBUGGER__::MethodBreakpoint.new (method)">new</a></span>(<span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_eval_binding'>eval_binding</span> <span class='op'>||</span> <span class='const'>TOPLEVEL_BINDING</span><span class='comma'>,</span> <span class='id identifier rubyid_klass_name'>klass_name</span><span class='comma'>,</span> <span class='id identifier rubyid_op'>op</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>cond:</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='label'>command:</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span>)
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_bp'>bp</span>.<span class='id identifier rubyid_enable'>enable</span>
    <span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_bp'>bp</span>.<span class='id identifier rubyid_klass'>klass</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown method name: \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='comment'># klass_name can not be evaluated
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_constant_name?'><a href="#constant_name%3F-instance_method" title="DEBUGGER__::ThreadClient#constant_name? (method)">constant_name?</a></span> <span class='id identifier rubyid_klass_name'>klass_name</span>
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown constant name: \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>else</span>
          <span class='comment'># only Class name is allowed
</span>          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a constant name: \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass_name'>klass_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_bp'>bp</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='const'><a href="Session.html" title="DEBUGGER__::Session (class)">Session</a></span>.<span class='id identifier rubyid_activate_method_added_trackers'><a href="Session.html#activate_method_added_trackers-class_method" title="DEBUGGER__::Session.activate_method_added_trackers (method)">activate_method_added_trackers</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_bp'>bp</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
      <span class='id identifier rubyid_bp'>bp</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_bp'>bp</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_watch'>watch</span>
    <span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span><span class='op'>..</span>]
    <span class='const'><a href="WatchIVarBreakpoint.html" title="DEBUGGER__::WatchIVarBreakpoint (class)">WatchIVarBreakpoint</a></span>.<span class='id identifier rubyid_new'><a href="WatchIVarBreakpoint.html#new-class_method" title="DEBUGGER__::WatchIVarBreakpoint.new (method)">new</a></span>(<span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='label'>cond:</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='label'>command:</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown breakpoint: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mark_as_management-instance_method">
  <h3 class='signature '>
    #<strong>mark_as_management</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L142-L144'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='142' data-end='144'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 142</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mark_as_management'>mark_as_management</span>
  <span class='ivar'>@is_management</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature '>
    #<strong>name</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L174-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='ivar'>@id</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@thread</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='ivar'>@thread</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_breakpoint-instance_method">
  <h3 class='signature '>
    #<strong>on_breakpoint</strong>(tp, bp)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L250-L252'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='250' data-end='252'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 250</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_breakpoint'>on_breakpoint</span> <span class='id identifier rubyid_tp'>tp</span><span class='comma'>,</span> <span class='id identifier rubyid_bp'>bp</span>
  <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span><span class='comma'>,</span> <span class='label'>bp:</span> <span class='id identifier rubyid_bp'>bp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_init-instance_method">
  <h3 class='signature '>
    #<strong>on_init</strong>(name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L242-L244'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='242' data-end='244'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 242</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_init'>on_init</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
  <span class='id identifier rubyid_wait_reply'><a href="#wait_reply-instance_method" title="DEBUGGER__::ThreadClient#wait_reply (method)">wait_reply</a></span> [<span class='symbeg'>:</span><span class='id identifier rubyid_init'>init</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_load-instance_method">
  <h3 class='signature '>
    #<strong>on_load</strong>(iseq, eval_src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L238-L240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='238' data-end='240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 238</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_load'>on_load</span> <span class='id identifier rubyid_iseq'>iseq</span><span class='comma'>,</span> <span class='id identifier rubyid_eval_src'>eval_src</span>
  <span class='id identifier rubyid_wait_reply'><a href="#wait_reply-instance_method" title="DEBUGGER__::ThreadClient#wait_reply (method)">wait_reply</a></span> [<span class='symbeg'>:</span><span class='id identifier rubyid_load'>load</span><span class='comma'>,</span> <span class='id identifier rubyid_iseq'>iseq</span><span class='comma'>,</span> <span class='id identifier rubyid_eval_src'>eval_src</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_pause-instance_method">
  <h3 class='signature '>
    #<strong>on_pause</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L262-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='262' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 262</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_pause'>on_pause</span>
  <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_pause'>pause</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_trace-instance_method">
  <h3 class='signature '>
    #<strong>on_trace</strong>(trace_id, msg)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L246-L248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='246' data-end='248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 246</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_trace'>on_trace</span> <span class='id identifier rubyid_trace_id'>trace_id</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>
  <span class='id identifier rubyid_wait_reply'><a href="#wait_reply-instance_method" title="DEBUGGER__::ThreadClient#wait_reply (method)">wait_reply</a></span> [<span class='symbeg'>:</span><span class='id identifier rubyid_trace'>trace</span><span class='comma'>,</span> <span class='id identifier rubyid_trace_id'>trace_id</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_trap-instance_method">
  <h3 class='signature '>
    #<strong>on_trap</strong>(sig)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L254-L260'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='254' data-end='260'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_trap'>on_trap</span> <span class='id identifier rubyid_sig'>sig</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_waiting?'><a href="#waiting%3F-instance_method" title="DEBUGGER__::ThreadClient#waiting? (method)">waiting?</a></span>
    <span class='comment'># raise Interrupt
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_trap'>trap</span><span class='comma'>,</span> <span class='label'>sig:</span> <span class='id identifier rubyid_sig'>sig</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="outline_method-instance_method">
  <h3 class='signature '>
    #<strong>outline_method</strong>(o, klass, obj)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L784-L796'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='784' data-end='796'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 784</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_outline_method'>outline_method</span>(<span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_singleton_class'>singleton_class</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_SINGLETON_CLASS-constant" title="DEBUGGER__::M_SINGLETON_CLASS (constant)">M_SINGLETON_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>rescue</span> <span class='const'>TypeError</span>
    <span class='id identifier rubyid_singleton_class'>singleton_class</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_maps'>maps</span> <span class='op'>=</span> <span class='id identifier rubyid_class_method_map'><a href="#class_method_map-instance_method" title="DEBUGGER__::ThreadClient#class_method_map (method)">class_method_map</a></span>((<span class='id identifier rubyid_singleton_class'>singleton_class</span> <span class='op'>||</span> <span class='id identifier rubyid_klass'>klass</span>).<span class='id identifier rubyid_ancestors'>ancestors</span>)
  <span class='id identifier rubyid_maps'>maps</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_methods'>methods</span><span class='op'>|</span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>==</span> <span class='id identifier rubyid_singleton_class'>singleton_class</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>.methods</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mod'>mod</span><span class='embexpr_end'>}</span><span class='tstring_content'>#methods</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_methods'>methods</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preview-instance_method">
  <h3 class='signature '>
    #<strong>preview</strong>(name, obj)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1296-L1318'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1296' data-end='1318'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1296</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_preview'>preview</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_pd'>pd</span> <span class='op'>=</span> <span class='id identifier rubyid_propertyDescriptor'><a href="#propertyDescriptor-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor (method)">propertyDescriptor</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_overflow'>overflow</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>100</span>
      <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>99</span>]
      <span class='id identifier rubyid_overflow'>overflow</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>.<span class='id identifier rubyid_to_h'>to_h</span>{<span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> [<span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>]}
    <span class='id identifier rubyid_preview_'><a href="#preview_-instance_method" title="DEBUGGER__::ThreadClient#preview_ (method)">preview_</a></span> <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>]<span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='comma'>,</span> <span class='id identifier rubyid_overflow'>overflow</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_pd'>pd</span> <span class='op'>=</span> <span class='id identifier rubyid_propertyDescriptor'><a href="#propertyDescriptor-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor (method)">propertyDescriptor</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_overflow'>overflow</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>100</span>
      <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_to_a'>to_a</span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>99</span>].<span class='id identifier rubyid_to_h'>to_h</span>
      <span class='id identifier rubyid_overflow'>overflow</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_preview_'><a href="#preview_-instance_method" title="DEBUGGER__::ThreadClient#preview_ (method)">preview_</a></span> <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>]<span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_overflow'>overflow</span>
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preview_-instance_method">
  <h3 class='signature '>
    #<strong>preview_</strong>(value, hash, overflow)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1253-L1272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1253' data-end='1272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1253</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_preview_'>preview_</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='comma'>,</span> <span class='id identifier rubyid_overflow'>overflow</span>
  <span class='comment'># The reason for not using &quot;map&quot; method is to prevent the object overriding it from causing bugs.
</span>  <span class='comment'># https://github.com/ruby/debug/issues/781
</span>  <span class='id identifier rubyid_props'>props</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_pd'>pd</span> <span class='op'>=</span> <span class='id identifier rubyid_propertyDescriptor'><a href="#propertyDescriptor-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor (method)">propertyDescriptor</a></span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_props'>props</span> <span class='op'>&lt;&lt;</span> {
      <span class='label'>name:</span> <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>]<span class='comma'>,</span>
      <span class='label'>type:</span> <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span>]<span class='comma'>,</span>
      <span class='label'>value:</span> <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_description'>description</span>]
    }
  }
  {
    <span class='label'>type:</span> <span class='id identifier rubyid_value'>value</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span>]<span class='comma'>,</span>
    <span class='label'>subtype:</span> <span class='id identifier rubyid_value'>value</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_subtype'>subtype</span>]<span class='comma'>,</span>
    <span class='label'>description:</span> <span class='id identifier rubyid_value'>value</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_description'>description</span>]<span class='comma'>,</span>
    <span class='label'>overflow:</span> <span class='id identifier rubyid_overflow'>overflow</span><span class='comma'>,</span>
    <span class='label'>properties:</span> <span class='id identifier rubyid_props'>props</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_cdp-instance_method">
  <h3 class='signature '>
    #<strong>process_cdp</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L961-L1162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='961' data-end='1162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 961</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_cdp'>process_cdp</span> <span class='id identifier rubyid_args'>args</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace'>backtrace</span>
    <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> {
      <span class='label'>reason:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>other</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>callFrames:</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_with_index'>with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_raised_exception'>raised_exception</span> <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span> <span class='op'>==</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_has_raised_exception'>has_raised_exception</span>

        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_realpath'>realpath</span> <span class='op'>||</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_path'>path</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_iseq'>iseq</span>.<span class='id identifier rubyid_nil?'>nil?</span>
          <span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_iseq'>iseq</span>.<span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>-</span> <span class='int'>1</span>
        <span class='kw'>end</span>

        {
          <span class='label'>callFrameId:</span> <span class='const'>SecureRandom</span>.<span class='id identifier rubyid_hex'>hex</span>(<span class='int'>16</span>)<span class='comma'>,</span>
          <span class='label'>functionName:</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span>
          <span class='label'>functionLocation:</span> {
            <span class='comment'># scriptId: N, # filled by SESSION
</span>            <span class='label'>lineNumber:</span> <span class='id identifier rubyid_lineno'>lineno</span>
          }<span class='comma'>,</span>
          <span class='label'>location:</span> {
            <span class='comment'># scriptId: N, # filled by SESSION
</span>            <span class='label'>lineNumber:</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>-</span> <span class='int'>1</span> <span class='comment'># The line number is 0-based.
</span>          }<span class='comma'>,</span>
          <span class='label'>url:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>
          <span class='label'>scopeChain:</span> [
            {
              <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
              <span class='label'>object:</span> {
                <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='label'>objectId:</span> <span class='id identifier rubyid_rand'>rand</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
              }
            }<span class='comma'>,</span>
            {
              <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>script</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
              <span class='label'>object:</span> {
                <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='label'>objectId:</span> <span class='id identifier rubyid_rand'>rand</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
              }
            }<span class='comma'>,</span>
            {
              <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>global</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
              <span class='label'>object:</span> {
                <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='label'>objectId:</span> <span class='id identifier rubyid_rand'>rand</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
              }
            }
          ]<span class='comma'>,</span>
          <span class='label'>this:</span> {
            <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span>
          }
        }
      }
    }

    <span class='kw'>if</span> <span class='id identifier rubyid_exception'>exception</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_data'>data</span>] <span class='op'>=</span> <span class='id identifier rubyid_evaluate_result'><a href="#evaluate_result-instance_method" title="DEBUGGER__::ThreadClient#evaluate_result (method)">evaluate_result</a></span> <span class='id identifier rubyid_exception'>exception</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_reason'>reason</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exception</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_evaluate'>evaluate</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> {}
    <span class='id identifier rubyid_fid'>fid</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>[<span class='id identifier rubyid_fid'>fid</span>]
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_eval_binding'>eval_binding</span>)
      <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_frame'>frame</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span><span class='op'>|</span>
        <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span>) <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\%</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_group'>group</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>popover</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>case</span> <span class='id identifier rubyid_expr'>expr</span>
        <span class='comment'># Chrome doesn&#39;t read instance variables
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\$\S</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_safe_global_variables'>safe_global_variables</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_gvar'>gvar</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_gvar'>gvar</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span> <span class='op'>==</span> <span class='id identifier rubyid_expr'>expr</span>
              <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_gvar'>gvar</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>)
              <span class='kw'>break</span> <span class='kw'>false</span>
            <span class='kw'>end</span>
          } <span class='kw'>and</span> (<span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not defined global variable: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\A((::[A-Z]|[A-Z])\w*)+)</span><span class='regexp_end'>/</span></span>
          <span class='kw'>unless</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_search_const'><a href="#search_const-instance_method" title="DEBUGGER__::ThreadClient#search_const (method)">search_const</a></span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='backref'>$1</span>)
            <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not defined constant: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_get'>local_variable_get</span>(<span class='id identifier rubyid_expr'>expr</span>)
          <span class='kw'>rescue</span> <span class='const'>NameError</span>
            <span class='comment'># try to check method
</span>            <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#M_RESPOND_TO_P-constant" title="DEBUGGER__::M_RESPOND_TO_P (constant)">M_RESPOND_TO_P</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='label'>include_all:</span> <span class='kw'>true</span>)
              <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_METHOD-constant" title="DEBUGGER__::M_METHOD (constant)">M_METHOD</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>)
            <span class='kw'>else</span>
              <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Can not evaluate: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>console</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>watch-group</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_orig_stdout'>orig_stdout</span> <span class='op'>=</span> <span class='gvar'>$stdout</span>
          <span class='gvar'>$stdout</span> <span class='op'>=</span> <span class='const'>StringIO</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>
          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(DEBUG CONSOLE)</span><span class='tstring_end'>&#39;</span></span>)
        <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
          <span class='id identifier rubyid_res'>res</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_exceptionDetails'><a href="#exceptionDetails-instance_method" title="DEBUGGER__::ThreadClient#exceptionDetails (method)">exceptionDetails</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_exceptionDetails'><a href="#exceptionDetails-instance_method" title="DEBUGGER__::ThreadClient#exceptionDetails (method)">exceptionDetails</a></span>(<span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Uncaught</span><span class='tstring_end'>&#39;</span></span>)
        <span class='kw'>ensure</span>
          <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='gvar'>$stdout</span>.<span class='id identifier rubyid_string'>string</span>
          <span class='gvar'>$stdout</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_stdout'>orig_stdout</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: unknown objectGroup: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_group'>group</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>Exception</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Can not evaluate on this frame</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_res'>res</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span>] <span class='op'>=</span> <span class='id identifier rubyid_evaluate_result'><a href="#evaluate_result-instance_method" title="DEBUGGER__::ThreadClient#evaluate_result (method)">evaluate_result</a></span>(<span class='id identifier rubyid_result'>result</span>)
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_evaluate'>evaluate</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>response:</span> <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='label'>output:</span> <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span>
    <span class='id identifier rubyid_fid'>fid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>[<span class='id identifier rubyid_fid'>fid</span>]
    <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_binding'>binding</span>
      <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variables'>local_variables</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='op'>|</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_get'>local_variable_get</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>)
        <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)
      }
      <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_frame'>frame</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
        <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_unshift'>unshift</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_unshift'>unshift</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%self</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span>)
    <span class='kw'>elsif</span> <span class='id identifier rubyid_lvars'>lvars</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_local_variables'>local_variables</span>
      <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_lvars'>lvars</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
        <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>)
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> [<span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%self</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_self'>self</span>)]
      <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_frame'>frame</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
        <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_unshift'>unshift</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_vars'>vars</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_properties'>properties</span>
    <span class='id identifier rubyid_oid'>oid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> []
    <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> []

    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='ivar'>@obj_map</span>[<span class='id identifier rubyid_oid'>oid</span>]
      <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
      <span class='kw'>when</span> <span class='const'>Array</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_with_index'>with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
          <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>
        }
      <span class='kw'>when</span> <span class='const'>Hash</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
          <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)
        }
      <span class='kw'>when</span> <span class='const'>Struct</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_members'>members</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
          <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>[<span class='id identifier rubyid_m'>m</span>])
        }
      <span class='kw'>when</span> <span class='const'>String</span>
        <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> [
          <span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#length</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_length'>length</span>)<span class='comma'>,</span>
          <span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#encoding</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_encoding'>encoding</span>)
        ]
      <span class='kw'>when</span> <span class='const'>Class</span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_instance_variables'>instance_variables</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_iv'>iv</span><span class='op'>|</span>
          <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_iv'>iv</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span>(<span class='id identifier rubyid_iv'>iv</span>))
        }
        <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> [<span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%ancestors</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_ancestors'>ancestors</span>[<span class='int'>1</span><span class='op'>..</span>])]
      <span class='kw'>when</span> <span class='const'>Range</span>
        <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> [
          <span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#begin</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_begin'>begin</span>)<span class='comma'>,</span>
          <span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#end</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_end'>end</span>)<span class='comma'>,</span>
        ]
      <span class='kw'>end</span>

      <span class='id identifier rubyid_result'>result</span> <span class='op'>+=</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLES-constant" title="DEBUGGER__::M_INSTANCE_VARIABLES (constant)">M_INSTANCE_VARIABLES</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>).<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_iv'>iv</span><span class='op'>|</span>
        <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_iv'>iv</span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLE_GET-constant" title="DEBUGGER__::M_INSTANCE_VARIABLE_GET (constant)">M_INSTANCE_VARIABLE_GET</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_iv'>iv</span>))
      }
      <span class='id identifier rubyid_prop'>prop</span> <span class='op'>+=</span> [<span class='id identifier rubyid_internalProperty'><a href="#internalProperty-instance_method" title="DEBUGGER__::ThreadClient#internalProperty (method)">internalProperty</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#class</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>))]
    <span class='kw'>end</span>
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_properties'>properties</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>result:</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='label'>internalProperties:</span> <span class='id identifier rubyid_prop'>prop</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_exception'>exception</span>
    <span class='id identifier rubyid_oid'>oid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_exc'>exc</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='ivar'>@obj_map</span>[<span class='id identifier rubyid_oid'>oid</span>]
      <span class='id identifier rubyid_exc'>exc</span> <span class='op'>=</span> <span class='id identifier rubyid_exceptionDetails'><a href="#exceptionDetails-instance_method" title="DEBUGGER__::ThreadClient#exceptionDetails (method)">exceptionDetails</a></span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>exceptionDetails:</span> <span class='id identifier rubyid_exc'>exc</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_dap-instance_method">
  <h3 class='signature '>
    #<strong>process_dap</strong>(args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L799-L1017'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='799' data-end='1017'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 799</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_dap'>process_dap</span> <span class='id identifier rubyid_args'>args</span>
  <span class='comment'># pp tc: self, args: args
</span>  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace'>backtrace</span>
    <span class='id identifier rubyid_start_frame'>start_frame</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arguments</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>startFrame</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>||</span> <span class='int'>0</span>
    <span class='id identifier rubyid_levels'>levels</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arguments</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>levels</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>||</span> <span class='int'>1_000</span>
    <span class='id identifier rubyid_frames'>frames</span> <span class='op'>=</span> []
    <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_start_frame'>start_frame</span>

      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_realpath'>realpath</span> <span class='op'>||</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_path'>path</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_path?'>skip_path?</span>(<span class='id identifier rubyid_path'>path</span>) <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>SESSION</span>.<span class='id identifier rubyid_stop_stepping?'>stop_stepping?</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span>)
      <span class='kw'>break</span> <span class='kw'>if</span> (<span class='id identifier rubyid_levels'>levels</span> <span class='op'>-=</span> <span class='int'>1</span>) <span class='op'>&lt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_source_name'>source_name</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>?</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_path'>path</span>) <span class='op'>:</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>

      <span class='kw'>if</span> (<span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_path'>path</span>)) <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_local_path'>local_path</span> <span class='op'>=</span> <span class='const'><a href="UI_DAP.html" title="DEBUGGER__::UI_DAP (module)">UI_DAP</a></span>.<span class='id identifier rubyid_remote_to_local_path'><a href="UI_DAP.html#remote_to_local_path-class_method" title="DEBUGGER__::UI_DAP.remote_to_local_path (method)">remote_to_local_path</a></span>(<span class='id identifier rubyid_path'>path</span>))
        <span class='comment'># ok
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_file_lines'>file_lines</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_frames'>frames</span> <span class='op'>&lt;&lt;</span> {
        <span class='label'>id:</span> <span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='comment'># id is refilled by SESSION
</span>        <span class='label'>name:</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span>
        <span class='label'>line:</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span><span class='comma'>,</span>
        <span class='label'>column:</span> <span class='int'>1</span><span class='comma'>,</span>
        <span class='label'>source:</span> {
          <span class='label'>name:</span> <span class='id identifier rubyid_source_name'>source_name</span><span class='comma'>,</span>
          <span class='label'>path:</span> (<span class='id identifier rubyid_local_path'>local_path</span> <span class='op'>||</span> <span class='id identifier rubyid_path'>path</span>)<span class='comma'>,</span>
          <span class='label'>sourceReference:</span> <span class='id identifier rubyid_ref'>ref</span><span class='comma'>,</span>
        }<span class='comma'>,</span>
      }
    <span class='kw'>end</span>

    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> {
      <span class='label'>stackFrames:</span> <span class='id identifier rubyid_frames'>frames</span><span class='comma'>,</span>
      <span class='label'>totalFrames:</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_size'>size</span><span class='comma'>,</span>
    }
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scopes'>scopes</span>
    <span class='id identifier rubyid_fid'>fid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='id identifier rubyid_fid'>fid</span>)

    <span class='id identifier rubyid_lnum'>lnum</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_binding'>binding</span>
        <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_binding'>binding</span>.<span class='id identifier rubyid_local_variables'>local_variables</span>.<span class='id identifier rubyid_size'>size</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_local_variables'>local_variables</span>
        <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_size'>size</span>
      <span class='kw'>else</span>
        <span class='int'>0</span>
      <span class='kw'>end</span>

    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scopes'>scopes</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>scopes:</span> [{
      <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Local variables</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>presentationHint:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>locals</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='comment'># variablesReference: N, # filled by SESSION
</span>      <span class='label'>namedVariables:</span> <span class='id identifier rubyid_lnum'>lnum</span><span class='comma'>,</span>
      <span class='label'>indexedVariables:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='label'>expensive:</span> <span class='kw'>false</span><span class='comma'>,</span>
    }<span class='comma'>,</span> {
      <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Global variables</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>presentationHint:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>globals</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>variablesReference:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='comment'># GLOBAL
</span>      <span class='label'>namedVariables:</span> <span class='id identifier rubyid_safe_global_variables'>safe_global_variables</span>.<span class='id identifier rubyid_size'>size</span><span class='comma'>,</span>
      <span class='label'>indexedVariables:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='label'>expensive:</span> <span class='kw'>false</span><span class='comma'>,</span>
    }]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span>
    <span class='id identifier rubyid_fid'>fid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='id identifier rubyid_fid'>fid</span>)
    <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_collect_locals'><a href="#collect_locals-instance_method" title="DEBUGGER__::ThreadClient#collect_locals (method)">collect_locals</a></span>(<span class='id identifier rubyid_frame'>frame</span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
      <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>variables:</span> <span class='id identifier rubyid_vars'>vars</span><span class='comma'>,</span> <span class='label'>tid:</span> <span class='kw'>self</span>.<span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>
    <span class='id identifier rubyid_vid'>vid</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='ivar'>@var_map</span>[<span class='id identifier rubyid_vid'>vid</span>]
    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arguments</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filter</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>indexed</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_start'><a href="../DEBUGGER__.html#start-class_method" title="DEBUGGER__.start (method)">start</a></span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arguments</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>start</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>||</span> <span class='int'>0</span>
        <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>arguments</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>count</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>||</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> (<span class='id identifier rubyid_start'><a href="../DEBUGGER__.html#start-class_method" title="DEBUGGER__.start (method)">start</a></span> <span class='op'>...</span> (<span class='id identifier rubyid_start'><a href="../DEBUGGER__.html#start-class_method" title="DEBUGGER__.start (method)">start</a></span> <span class='op'>+</span> <span class='id identifier rubyid_count'>count</span>)).<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
          <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>[<span class='id identifier rubyid_i'>i</span>])
        }
      <span class='kw'>else</span>
        <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> []

        <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
        <span class='kw'>when</span> <span class='const'>Hash</span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_value_inspect'><a href="#value_inspect-instance_method" title="DEBUGGER__::ThreadClient#value_inspect (method)">value_inspect</a></span>(<span class='id identifier rubyid_k'>k</span>)<span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='comma'>,</span>)
          }
        <span class='kw'>when</span> <span class='const'>Struct</span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_members'>members</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>[<span class='id identifier rubyid_m'>m</span>])
          }
        <span class='kw'>when</span> <span class='const'>String</span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> [
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#length</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_length'>length</span>)<span class='comma'>,</span>
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#encoding</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_encoding'>encoding</span>)<span class='comma'>,</span>
          ]
          <span class='id identifier rubyid_printed_str'>printed_str</span> <span class='op'>=</span> <span class='id identifier rubyid_value_inspect'><a href="#value_inspect-instance_method" title="DEBUGGER__::ThreadClient#value_inspect (method)">value_inspect</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#dump</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'><a href="NaiveString.html" title="DEBUGGER__::NaiveString (class)">NaiveString</a></span>.<span class='id identifier rubyid_new'><a href="NaiveString.html#new-class_method" title="DEBUGGER__::NaiveString.new (method)">new</a></span>(<span class='id identifier rubyid_obj'>obj</span>)) <span class='kw'>if</span> <span class='id identifier rubyid_printed_str'>printed_str</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span>)
        <span class='kw'>when</span> <span class='const'>Class</span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%ancestors</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_ancestors'>ancestors</span>[<span class='int'>1</span><span class='op'>..</span>])
        <span class='kw'>when</span> <span class='const'>Range</span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> [
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#begin</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_begin'>begin</span>)<span class='comma'>,</span>
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#end</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_end'>end</span>)<span class='comma'>,</span>
          ]
        <span class='kw'>end</span>

        <span class='kw'>unless</span> <span class='const'><a href="NaiveString.html" title="DEBUGGER__::NaiveString (class)">NaiveString</a></span> <span class='op'>===</span> <span class='id identifier rubyid_obj'>obj</span>
          <span class='id identifier rubyid_vars'>vars</span> <span class='op'>+=</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLES-constant" title="DEBUGGER__::M_INSTANCE_VARIABLES (constant)">M_INSTANCE_VARIABLES</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>).<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_iv'>iv</span><span class='op'>|</span>
            <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='id identifier rubyid_iv'>iv</span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLE_GET-constant" title="DEBUGGER__::M_INSTANCE_VARIABLE_GET (constant)">M_INSTANCE_VARIABLE_GET</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_iv'>iv</span>))
          }
          <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_unshift'>unshift</span> <span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#class</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>))
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_variable'><a href="#variable-instance_method" title="DEBUGGER__::ThreadClient#variable (method)">variable</a></span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>variables:</span> (<span class='id identifier rubyid_vars'>vars</span> <span class='op'>||</span> [])<span class='comma'>,</span> <span class='label'>tid:</span> <span class='kw'>self</span>.<span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span>

  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_evaluate'>evaluate</span>
    <span class='id identifier rubyid_fid'>fid</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='id identifier rubyid_fid'>fid</span>)
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_eval_binding'>eval_binding</span>)
      <span class='id identifier rubyid_special_local_variables'><a href="#special_local_variables-instance_method" title="DEBUGGER__::ThreadClient#special_local_variables (method)">special_local_variables</a></span> <span class='id identifier rubyid_frame'>frame</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span><span class='op'>|</span>
        <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_var'>var</span>) <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\%</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
      <span class='kw'>end</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_context'>context</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>repl</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>watch</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dap_eval'><a href="#dap_eval-instance_method" title="DEBUGGER__::ThreadClient#dap_eval (method)">dap_eval</a></span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>prompt:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(DEBUG CONSOLE)</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hover</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>case</span> <span class='id identifier rubyid_expr'>expr</span>
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\@\S</span><span class='regexp_end'>/</span></span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLE_GET-constant" title="DEBUGGER__::M_INSTANCE_VARIABLE_GET (constant)">M_INSTANCE_VARIABLE_GET</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>)
          <span class='kw'>rescue</span> <span class='const'>NameError</span>
            <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not defined instance variable: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\$\S</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_safe_global_variables'>safe_global_variables</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_gvar'>gvar</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_gvar'>gvar</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span> <span class='op'>==</span> <span class='id identifier rubyid_expr'>expr</span>
              <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_gvar'>gvar</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>)
              <span class='kw'>break</span> <span class='kw'>false</span>
            <span class='kw'>end</span>
          } <span class='kw'>and</span> (<span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not defined global variable: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Aself$</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span>
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\A((::[A-Z]|[A-Z])\w*)+)</span><span class='regexp_end'>/</span></span>
          <span class='kw'>unless</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_search_const'><a href="#search_const-instance_method" title="DEBUGGER__::ThreadClient#search_const (method)">search_const</a></span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='backref'>$1</span>)
            <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Not defined constants: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_get'>local_variable_get</span>(<span class='id identifier rubyid_expr'>expr</span>)
          <span class='kw'>rescue</span> <span class='const'>NameError</span>
            <span class='comment'># try to check method
</span>            <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#M_RESPOND_TO_P-constant" title="DEBUGGER__::M_RESPOND_TO_P (constant)">M_RESPOND_TO_P</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='label'>include_all:</span> <span class='kw'>true</span>)
              <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_METHOD-constant" title="DEBUGGER__::M_METHOD (constant)">M_METHOD</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>)
            <span class='kw'>else</span>
              <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: Can not evaluate: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: unknown context: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_context'>context</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Error: Can not evaluate on this frame</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_evaluate'>evaluate</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>tid:</span> <span class='kw'>self</span>.<span class='id identifier rubyid_id'><a href="#id-instance_method" title="DEBUGGER__::ThreadClient#id (method)">id</a></span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_evaluate_result'><a href="#evaluate_result-instance_method" title="DEBUGGER__::ThreadClient#evaluate_result (method)">evaluate_result</a></span>(<span class='id identifier rubyid_result'>result</span>)

  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_completions'>completions</span>
    <span class='id identifier rubyid_fid'>fid</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='id identifier rubyid_fid'>fid</span>)

    <span class='kw'>if</span> (<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&amp;.</span><span class='id identifier rubyid_binding'>binding</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_word'>word</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='op'>&amp;.</span><span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\s\{]</span><span class='regexp_end'>/</span></span>)<span class='op'>&amp;.</span><span class='id identifier rubyid_last'>last</span>
      <span class='id identifier rubyid_words'>words</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'>InputCompletor</span><span class='op'>::</span><span class='id identifier rubyid_retrieve_completion_data'>retrieve_completion_data</span>(<span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='label'>bind:</span> <span class='id identifier rubyid_b'>b</span>).<span class='id identifier rubyid_compact'>compact</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_protocol_result'>protocol_result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_completions'>completions</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='label'>targets:</span> (<span class='id identifier rubyid_words'>words</span> <span class='op'>||</span> []).<span class='id identifier rubyid_map'>map</span>{<span class='op'>|</span><span class='id identifier rubyid_phrase'>phrase</span><span class='op'>|</span>
      <span class='id identifier rubyid_detail'>detail</span> <span class='op'>=</span> <span class='kw'>nil</span>

      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\b([_a-zA-Z]\w*[!\?]?)\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_phrase'>phrase</span>
        <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='id identifier rubyid_phrase'>phrase</span>
      <span class='kw'>end</span>

      <span class='kw'>begin</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_local_variable_get'>local_variable_get</span>(<span class='id identifier rubyid_w'>w</span>)
        <span class='id identifier rubyid_detail'>detail</span> <span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(variable: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_inspect'><a href="#value_inspect-instance_method" title="DEBUGGER__::ThreadClient#value_inspect (method)">value_inspect</a></span>(<span class='id identifier rubyid_v'>v</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>rescue</span> <span class='const'>NameError</span>
      <span class='kw'>end</span>

      {
        <span class='label'>label:</span> <span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span>
        <span class='label'>text:</span> <span class='id identifier rubyid_w'>w</span><span class='comma'>,</span>
        <span class='label'>detail:</span> <span class='id identifier rubyid_detail'>detail</span><span class='comma'>,</span>
      }
    }

  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='id identifier rubyid_mid'>mid</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>custom_dap_request_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid___send__'>__send__</span> <span class='id identifier rubyid_mid'>mid</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown request: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="propertyDescriptor-instance_method">
  <h3 class='signature '>
    #<strong>propertyDescriptor</strong>(name, obj)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1320-L1346'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1320' data-end='1346'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1320</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_propertyDescriptor'>propertyDescriptor</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>subtype:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>array</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>subtype:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>map</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>string</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>description:</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='const'>FalseClass</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>boolean</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>Symbol</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>symbol</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>Integer</span><span class='comma'>,</span> <span class='const'>Float</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>number</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>Exception</span>
    <span class='id identifier rubyid_bt'>bt</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_log'><a href="../DEBUGGER__.html#log-class_method" title="DEBUGGER__.log (method)">log</a></span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_backtrace_locations'>backtrace_locations</span>
      <span class='id identifier rubyid_log'><a href="../DEBUGGER__.html#log-class_method" title="DEBUGGER__.log (method)">log</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_loc'>loc</span><span class='op'>|</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='kw'>__FILE__</span>
        <span class='id identifier rubyid_bt'>bt</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loc'>loc</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bt'>bt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>subtype:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>error</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_propertyDescriptor_'><a href="#propertyDescriptor_-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor_ (method)">propertyDescriptor_</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="propertyDescriptor_-instance_method">
  <h3 class='signature '>
    #<strong>propertyDescriptor_</strong>(name, obj, type, description: nil, subtype: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_cdp.rb#L1228-L1251'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1228' data-end='1251'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_cdp.rb', line 1228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_propertyDescriptor_'>propertyDescriptor_</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>description:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>subtype:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='label'>short:</span> <span class='kw'>true</span>) <span class='kw'>if</span> <span class='id identifier rubyid_description'>description</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_oid'>oid</span> <span class='op'>=</span> <span class='id identifier rubyid_rand'>rand</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
  <span class='ivar'>@obj_map</span>[<span class='id identifier rubyid_oid'>oid</span>] <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> {
    <span class='label'>name:</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span>
    <span class='label'>value:</span> {
      <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span>
      <span class='label'>description:</span> <span class='id identifier rubyid_description'>description</span><span class='comma'>,</span>
      <span class='label'>value:</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span>
      <span class='label'>objectId:</span> <span class='id identifier rubyid_oid'>oid</span>
    }<span class='comma'>,</span>
    <span class='label'>configurable:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='comment'># TODO: Change these parts because
</span>    <span class='label'>enumerable:</span> <span class='kw'>true</span>    <span class='comment'>#       they are not necessarily `true`.
</span>  }

  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>object</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_prop'>prop</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>]
    <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>
    <span class='id identifier rubyid_v'>v</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_subtype'>subtype</span>] <span class='op'>=</span> <span class='id identifier rubyid_subtype'>subtype</span> <span class='kw'>if</span> <span class='id identifier rubyid_subtype'>subtype</span>
    <span class='id identifier rubyid_v'>v</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_className'>className</span>] <span class='op'>=</span> (<span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)).<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span> <span class='op'>||</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_prop'>prop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="puts-instance_method">
  <h3 class='signature '>
    #<strong>puts</strong>(str = &#39;&#39;)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L196-L208'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='196' data-end='208'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_replaying?'>replaying?</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_colorize_dim'>colorize_dim</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[replay] </span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_str'>str</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span>}
  <span class='kw'>else</span>
    <span class='ivar'>@output</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_chomp'>chomp</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="puts_variable_info-instance_method">
  <h3 class='signature '>
    #<strong>puts_variable_info</strong>(label, obj, pat)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L667-L690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='667' data-end='690'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 667</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_puts_variable_info'>puts_variable_info</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pat'>pat</span> <span class='op'>!~</span> <span class='id identifier rubyid_label'>label</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_inspected'>inspected</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_inspected'>inspected</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_mono_info'>mono_info</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspected'>inspected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='const'>SESSION</span><span class='op'>::</span><span class='id identifier rubyid_width'>width</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_mono_info'>mono_info</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_w'>w</span>
    <span class='id identifier rubyid_maximum_value_width'>maximum_value_width</span> <span class='op'>=</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>-</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='id identifier rubyid_truncate'><a href="#truncate-instance_method" title="DEBUGGER__::ThreadClient#truncate (method)">truncate</a></span>(<span class='id identifier rubyid_inspected'>inspected</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='id identifier rubyid_maximum_value_width'>maximum_value_width</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='id identifier rubyid_colored_inspect'>colored_inspect</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>2</span> <span class='op'>**</span> <span class='int'>30</span>)
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='id identifier rubyid_inspected'>inspected</span> <span class='kw'>if</span> <span class='id identifier rubyid_valstr'>valstr</span>.<span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_info'><a href="../DEBUGGER__.html#info-class_method" title="DEBUGGER__.info (method)">info</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_colorize_cyan'>colorize_cyan</span>(<span class='id identifier rubyid_label'>label</span>)<span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valstr'>valstr</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_info'><a href="../DEBUGGER__.html#info-class_method" title="DEBUGGER__.info (method)">info</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replay_suspend-instance_method">
  <h3 class='signature '>
    #<strong>replay_suspend</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L323-L326'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='323' data-end='326'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_replay_suspend'>replay_suspend</span>
  <span class='comment'># @recorder.current_position
</span>  <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_replay'>replay</span><span class='comma'>,</span> <span class='label'>replay_frames:</span> <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search_const-instance_method">
  <h3 class='signature '>
    #<strong>search_const</strong>(b, expr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at file lib/debug/server_cdp.rb line 1195.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L1019-L1038'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1019' data-end='1038'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 1019</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_const'>search_const</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>
  <span class='id identifier rubyid_cs'>cs</span> <span class='op'>=</span> <span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>)
  [<span class='const'><a href="../Object.html" title="Object (class)">Object</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_eval'>eval</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::Module.nesting</span><span class='tstring_end'>&#39;</span></span>)].<span class='id identifier rubyid_reverse_each'>reverse_each</span>{<span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_cs'>cs</span>.<span class='id identifier rubyid_all?'>all?</span>{<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
         <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_c'>c</span>)
           <span class='kw'>begin</span>
             <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_c'>c</span>)
           <span class='kw'>rescue</span> <span class='const'>Exception</span>
             <span class='kw'>false</span>
           <span class='kw'>end</span>
         <span class='kw'>else</span>
           <span class='kw'>false</span>
         <span class='kw'>end</span>
       }
      <span class='comment'># if-body
</span>      <span class='kw'>return</span> <span class='id identifier rubyid_mod'>mod</span>
    <span class='kw'>end</span>
  }
  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_mode-instance_method">
  <h3 class='signature '>
    #<strong>set_mode</strong>(mode)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L146-L164'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='146' data-end='164'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_mode'>set_mode</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='id identifier rubyid_debug_mode'><a href="#debug_mode-instance_method" title="DEBUGGER__::ThreadClient#debug_mode (method)">debug_mode</a></span>(<span class='ivar'>@mode</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span>)
  <span class='comment'># STDERR.puts &quot;#{@mode} =&gt; #{mode} @ #{caller.inspect}&quot;
</span>  <span class='comment'># pp caller
</span>
  <span class='comment'># mode transition check
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_mode'>mode</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_running'>running</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mode'>mode</span><span class='embexpr_end'>}</span><span class='tstring_content'> is given, but </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mode'>mode</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_waiting?'><a href="#waiting%3F-instance_method" title="DEBUGGER__::ThreadClient#waiting? (method)">waiting?</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>
    <span class='comment'># TODO: there is waiting -&gt; waiting
</span>    <span class='comment'># raise &quot;#{mode} is given, but #{mode}&quot; unless self.running?
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown mode: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mode'>mode</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># DEBUGGER__.warn &quot;#{@mode} =&gt; #{mode} @ #{self.inspect}&quot;
</span>  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_by_editor-instance_method">
  <h3 class='signature '>
    #<strong>show_by_editor</strong>(path = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>cmd: show edit</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L702-L723'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='702' data-end='723'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 702</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_by_editor'>show_by_editor</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_path'>path</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='comment'># can&#39;t get path
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_path'>path</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_editor'>editor</span> <span class='op'>=</span> (<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUBY_DEBUG_EDITOR</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDITOR</span><span class='tstring_end'>&#39;</span></span>])
      <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>command: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_editor'>editor</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   path: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shellwords</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_system'>system</span>(<span class='op'>*</span><span class='const'>Shellwords</span>.<span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_editor'>editor</span>)<span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not find editor setting: ENV[&#39;RUBY_DEBUG_EDITOR&#39;] or ENV[&#39;EDITOR&#39;]</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can not find file: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_consts-instance_method">
  <h3 class='signature '>
    #<strong>show_consts</strong>(pat, expr = nil, only_self: false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L652-L656'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='652' data-end='656'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 652</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_consts'>show_consts</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>only_self:</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_get_consts'><a href="#get_consts-instance_method" title="DEBUGGER__::ThreadClient#get_consts (method)">get_consts</a></span> <span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='label'>only_self:</span> <span class='id identifier rubyid_only_self'>only_self</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts_variable_info'><a href="#puts_variable_info-instance_method" title="DEBUGGER__::ThreadClient#puts_variable_info (method)">puts_variable_info</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_frame-instance_method">
  <h3 class='signature '>
    #<strong>show_frame</strong>(i = 0)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L750-L752'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='750' data-end='752'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 750</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_frame'>show_frame</span> <span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
  <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_frame_str'><a href="#frame_str-instance_method" title="DEBUGGER__::ThreadClient#frame_str (method)">frame_str</a></span>(<span class='id identifier rubyid_i'>i</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_frames-instance_method">
  <h3 class='signature '>
    #<strong>show_frames</strong>(max = nil, pattern = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>cmd: show frames</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L727-L748'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='727' data-end='748'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 727</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_frames'>show_frames</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='ivar'>@target_frames</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_max'>max</span> <span class='op'>||=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_size'>size</span>) <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_frames'>frames</span> <span class='op'>=</span> []
    <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='comment'># we need to use FrameInfo#matchable_location because #location_str is for display
</span>      <span class='comment'># and it may change based on configs (e.g. use_short_path)
</span>      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span>(<span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_pattern'>pattern</span>) <span class='op'>||</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_matchable_location'>matchable_location</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_pattern'>pattern</span>))
      <span class='comment'># avoid using skip_path? because we still want to display internal frames
</span>      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_config_skip_path?'>skip_config_skip_path?</span>(<span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_matchable_location'>matchable_location</span>)

      <span class='id identifier rubyid_frames'>frames</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>]
    }

    <span class='id identifier rubyid_size'>size</span> <span class='op'>=</span> <span class='id identifier rubyid_frames'>frames</span>.<span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_max'>max</span>.<span class='id identifier rubyid_times'>times</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_frames'>frames</span>[<span class='id identifier rubyid_i'>i</span>]
      <span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_frames'>frames</span>[<span class='id identifier rubyid_i'>i</span>]
      <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_frame_str'><a href="#frame_str-instance_method" title="DEBUGGER__::ThreadClient#frame_str (method)">frame_str</a></span>(<span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='label'>frame:</span> <span class='id identifier rubyid_frame'>frame</span>)
    }
    <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  # and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='id identifier rubyid_max'>max</span><span class='embexpr_end'>}</span><span class='tstring_content'> frames (use `bt&#39; command for all frames)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_size'>size</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_globals-instance_method">
  <h3 class='signature '>
    #<strong>show_globals</strong>(pat)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L658-L665'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='658' data-end='665'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 658</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_globals'>show_globals</span> <span class='id identifier rubyid_pat'>pat</span>
  <span class='id identifier rubyid_safe_global_variables'>safe_global_variables</span>.<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'><a href="GlobalVariablesHelper.html#SKIP_GLOBAL_LIST-constant" title="DEBUGGER__::GlobalVariablesHelper::SKIP_GLOBAL_LIST (constant)">SKIP_GLOBAL_LIST</a></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>

    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>)
    <span class='id identifier rubyid_puts_variable_info'><a href="#puts_variable_info-instance_method" title="DEBUGGER__::ThreadClient#puts_variable_info (method)">puts_variable_info</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_ivars-instance_method">
  <h3 class='signature '>
    #<strong>show_ivars</strong>(pat, expr = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L585-L599'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='585' data-end='599'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 585</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_ivars'>show_ivars</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_expr'>expr</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_expr'>expr</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_expr'>expr</span>)<span class='semicolon'>;</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_self'>self</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid__self'>_self</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid__self'>_self</span>
    <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLES-constant" title="DEBUGGER__::M_INSTANCE_VARIABLES (constant)">M_INSTANCE_VARIABLES</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid__self'>_self</span>).<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_iv'>iv</span><span class='op'>|</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLE_GET-constant" title="DEBUGGER__::M_INSTANCE_VARIABLE_GET (constant)">M_INSTANCE_VARIABLE_GET</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid__self'>_self</span><span class='comma'>,</span> <span class='id identifier rubyid_iv'>iv</span>)
      <span class='id identifier rubyid_puts_variable_info'><a href="#puts_variable_info-instance_method" title="DEBUGGER__::ThreadClient#puts_variable_info (method)">puts_variable_info</a></span> <span class='id identifier rubyid_iv'>iv</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span>
    }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_locals-instance_method">
  <h3 class='signature '>
    #<strong>show_locals</strong>(pat)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L579-L583'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='579' data-end='583'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 579</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_locals'>show_locals</span> <span class='id identifier rubyid_pat'>pat</span>
  <span class='id identifier rubyid_collect_locals'><a href="#collect_locals-instance_method" title="DEBUGGER__::ThreadClient#collect_locals (method)">collect_locals</a></span>(<span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts_variable_info'><a href="#puts_variable_info-instance_method" title="DEBUGGER__::ThreadClient#puts_variable_info (method)">puts_variable_info</a></span>(<span class='id identifier rubyid_var'>var</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_outline-instance_method">
  <h3 class='signature '>
    #<strong>show_outline</strong>(expr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>cmd: show outline</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L763-L782'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='763' data-end='782'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 763</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_outline'>show_outline</span> <span class='id identifier rubyid_expr'>expr</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_expr'>expr</span><span class='comma'>,</span> <span class='label'>re_raise:</span> <span class='kw'>true</span>)
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='comment'># ignore
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="ThreadClient/Output.html" title="DEBUGGER__::ThreadClient::Output (class)">Output</a></span>.<span class='id identifier rubyid_new'><a href="ThreadClient/Output.html#new-class_method" title="DEBUGGER__::ThreadClient::Output.new (method)">new</a></span>(<span class='ivar'>@output</span>)

    <span class='id identifier rubyid_locals'>locals</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_local_variables'>local_variables</span>

    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span> <span class='kw'>if</span> <span class='const'>Class</span> <span class='op'>==</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>||</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span> <span class='op'>==</span> <span class='id identifier rubyid_klass'>klass</span>

    <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>constants</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_constants'>constants</span>) <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#M_RESPOND_TO_P-constant" title="DEBUGGER__::M_RESPOND_TO_P (constant)">M_RESPOND_TO_P</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_constants'>constants</span>)
    <span class='id identifier rubyid_outline_method'><a href="#outline_method-instance_method" title="DEBUGGER__::ThreadClient#outline_method (method)">outline_method</a></span>(<span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>)
    <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>instance variables</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLES-constant" title="DEBUGGER__::M_INSTANCE_VARIABLES (constant)">M_INSTANCE_VARIABLES</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>))
    <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class variables</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_class_variables'>class_variables</span>)
    <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>locals</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_locals'>locals</span>.<span class='id identifier rubyid_keys'>keys</span>) <span class='kw'>if</span> <span class='id identifier rubyid_locals'>locals</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_src-instance_method">
  <h3 class='signature '>
    #<strong>show_src</strong>(frame_index: @current_frame_index, update_line: false, ignore_show_line: false, max_lines: , **options)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L512-L536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='512' data-end='536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 512</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_src'>show_src</span>(<span class='label'>frame_index:</span> <span class='ivar'>@current_frame_index</span><span class='comma'>,</span> <span class='label'>update_line:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>ignore_show_line:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>max_lines:</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_src_lines'>show_src_lines</span>]<span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='id identifier rubyid_get_frame'><a href="#get_frame-instance_method" title="DEBUGGER__::ThreadClient#get_frame (method)">get_frame</a></span>(<span class='id identifier rubyid_frame_index'>frame_index</span>)
    <span class='kw'>begin</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_ignore_show_line'>ignore_show_line</span>
        <span class='id identifier rubyid_prev_show_line'>prev_show_line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span>
        <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_get_src'><a href="#get_src-instance_method" title="DEBUGGER__::ThreadClient#get_src (method)">get_src</a></span>(<span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='label'>max_lines:</span> <span class='id identifier rubyid_max_lines'>max_lines</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)

      <span class='kw'>if</span> <span class='id identifier rubyid_start_line'>start_line</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_update_line'>update_line</span>
          <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span> <span class='op'>=</span> <span class='id identifier rubyid_end_line'>end_line</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_start_line'>start_line</span><span class='op'>+</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_line'>end_line</span><span class='embexpr_end'>}</span><span class='tstring_content'>] in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_pretty_path'>pretty_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_update_line'>update_line</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_max_lines'>max_lines</span> <span class='op'>!=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_lines'>lines</span>[<span class='id identifier rubyid_start_line'>start_line</span><span class='op'>...</span><span class='id identifier rubyid_end_line'>end_line</span>]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># No sourcefile available for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_show_line'>show_line</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_show_line'>prev_show_line</span> <span class='kw'>if</span> <span class='id identifier rubyid_prev_show_line'>prev_show_line</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="special_local_variables-instance_method">
  <h3 class='signature '>
    #<strong>special_local_variables</strong>(frame)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>cmd: show</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L571-L577'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='571' data-end='577'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 571</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_special_local_variables'>special_local_variables</span> <span class='id identifier rubyid_frame'>frame</span>
  <span class='const'><a href="#SPECIAL_LOCAL_VARS-constant" title="DEBUGGER__::ThreadClient::SPECIAL_LOCAL_VARS (constant)">SPECIAL_LOCAL_VARS</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mid'>mid</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&amp;.</span><span class='id identifier rubyid_send'>send</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>has_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mid'>mid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_eval_binding'>eval_binding</span>.<span class='id identifier rubyid_local_variable_defined?'>local_variable_defined?</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>)
    <span class='kw'>yield</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_mid'>mid</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="step_tp-instance_method">
  <h3 class='signature '>
    #<strong>step_tp</strong>(iter, events = [:line, :b_return, :return])  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L337-L383'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='337' data-end='383'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 337</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_step_tp'>step_tp</span> <span class='id identifier rubyid_iter'>iter</span><span class='comma'>,</span> <span class='id identifier rubyid_events'>events</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b_return'>b_return</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>return</span>]
  <span class='ivar'>@step_tp</span>.<span class='id identifier rubyid_disable'>disable</span> <span class='kw'>if</span> <span class='ivar'>@step_tp</span>

  <span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span> <span class='op'>=</span> <span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'><a href="#current-class_method" title="DEBUGGER__::ThreadClient.current (method)">current</a></span>
  <span class='id identifier rubyid_subsession_id'>subsession_id</span> <span class='op'>=</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_subsession_id'>subsession_id</span>

  <span class='kw'>if</span> <span class='const'>SUPPORT_TARGET_THREAD</span>
    <span class='ivar'>@step_tp</span> <span class='op'>=</span> <span class='const'>TracePoint</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_events'>events</span>){<span class='op'>|</span><span class='id identifier rubyid_tp'>tp</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_stop_stepping?'>stop_stepping?</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_lineno'>lineno</span><span class='comma'>,</span> <span class='id identifier rubyid_subsession_id'>subsession_id</span>
        <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_disable'>disable</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>yield</span>(<span class='id identifier rubyid_tp'>tp</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='id identifier rubyid___dir__'>__dir__</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;internal:trace_point&gt;</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>) <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_skip_nosrc'>skip_nosrc</span>]
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_internal_path?'>skip_internal_path?</span>(<span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>)
      <span class='id identifier rubyid_loc'>loc</span> <span class='op'>=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>).<span class='id identifier rubyid_first'>first</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_location?'>skip_location?</span>(<span class='id identifier rubyid_loc'>loc</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_iter'>iter</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_iter'>iter</span> <span class='op'>-=</span> <span class='int'>1</span>) <span class='op'>&gt;</span> <span class='int'>0</span>

      <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_disable'>disable</span>
      <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span>
    }
    <span class='ivar'>@step_tp</span>.<span class='id identifier rubyid_enable'>enable</span>(<span class='label'>target_thread:</span> <span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span>)
  <span class='kw'>else</span>
    <span class='ivar'>@step_tp</span> <span class='op'>=</span> <span class='const'>TracePoint</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_events'>events</span>){<span class='op'>|</span><span class='id identifier rubyid_tp'>tp</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DEBUGGER__::ThreadClient#thread (method)">thread</a></span> <span class='op'>!=</span> <span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'><a href="#current-class_method" title="DEBUGGER__::ThreadClient.current (method)">current</a></span>
      <span class='kw'>if</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_stop_stepping?'>stop_stepping?</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_lineno'>lineno</span><span class='comma'>,</span> <span class='id identifier rubyid_subsession_id'>subsession_id</span>
        <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_disable'>disable</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>yield</span>(<span class='id identifier rubyid_tp'>tp</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='id identifier rubyid___dir__'>__dir__</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;internal:trace_point&gt;</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>) <span class='kw'>if</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_skip_nosrc'>skip_nosrc</span>]
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_internal_path?'>skip_internal_path?</span>(<span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>)
      <span class='id identifier rubyid_loc'>loc</span> <span class='op'>=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>).<span class='id identifier rubyid_first'>first</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_skip_location?'>skip_location?</span>(<span class='id identifier rubyid_loc'>loc</span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_iter'>iter</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_iter'>iter</span> <span class='op'>-=</span> <span class='int'>1</span>) <span class='op'>&gt;</span> <span class='int'>0</span>

      <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_disable'>disable</span>
      <span class='id identifier rubyid_suspend'><a href="#suspend-instance_method" title="DEBUGGER__::ThreadClient#suspend (method)">suspend</a></span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span>
    }
    <span class='ivar'>@step_tp</span>.<span class='id identifier rubyid_enable'>enable</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="suspend-instance_method">
  <h3 class='signature '>
    #<strong>suspend</strong>(event, tp = nil, bp: nil, sig: nil, postmortem_frames: nil, replay_frames: nil, postmortem_exc: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L266-L321'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='266' data-end='321'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 266</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_suspend'>suspend</span> <span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_tp'>tp</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>bp:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sig:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>postmortem_frames:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>replay_frames:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>postmortem_exc:</span> <span class='kw'>nil</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_management?'><a href="#management%3F-instance_method" title="DEBUGGER__::ThreadClient#management? (method)">management?</a></span>
  <span class='id identifier rubyid_debug_suspend'><a href="#debug_suspend-instance_method" title="DEBUGGER__::ThreadClient#debug_suspend (method)">debug_suspend</a></span>(<span class='id identifier rubyid_event'>event</span>)

  <span class='ivar'>@current_frame_index</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='kw'>case</span>
  <span class='kw'>when</span> <span class='id identifier rubyid_postmortem_frames'>postmortem_frames</span>
    <span class='ivar'>@target_frames</span> <span class='op'>=</span> <span class='id identifier rubyid_postmortem_frames'>postmortem_frames</span>
    <span class='ivar'>@postmortem</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='id identifier rubyid_replay_frames'>replay_frames</span>
    <span class='ivar'>@target_frames</span> <span class='op'>=</span> <span class='id identifier rubyid_replay_frames'>replay_frames</span>
  <span class='kw'>else</span>
    <span class='ivar'>@target_frames</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_capture_frames'>capture_frames</span>(<span class='id identifier rubyid___dir__'>__dir__</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cf'>cf</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_cf'>cf</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_event'>event</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>return</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b_return'>b_return</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c_return'>c_return</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_has_return_value'>has_return_value</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_return_value'>return_value</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='const'><a href="CatchBreakpoint.html" title="DEBUGGER__::CatchBreakpoint (class)">CatchBreakpoint</a></span> <span class='op'>===</span> <span class='id identifier rubyid_bp'>bp</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_has_raised_exception'>has_raised_exception</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_raised_exception'>raised_exception</span> <span class='op'>=</span> <span class='id identifier rubyid_bp'>bp</span>.<span class='id identifier rubyid_last_exc'>last_exc</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_postmortem_exc'>postmortem_exc</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_has_raised_exception'>has_raised_exception</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_cf'>cf</span>.<span class='id identifier rubyid_raised_exception'>raised_exception</span> <span class='op'>=</span> <span class='id identifier rubyid_postmortem_exc'>postmortem_exc</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_event'>event</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_pause'>pause</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_bp'>bp</span><span class='op'>&amp;.</span><span class='id identifier rubyid_skip_src'>skip_src</span>
      <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span>
      <span class='id identifier rubyid_show_frames'><a href="#show_frames-instance_method" title="DEBUGGER__::ThreadClient#show_frames (method)">show_frames</a></span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_frames'><a href="#show_frames-instance_method" title="DEBUGGER__::ThreadClient#show_frames (method)">show_frames</a></span>]
    <span class='kw'>end</span>

    <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_bp'>bp</span>
      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_suspend'>suspend</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_breakpoint'>breakpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_bp'>bp</span>.<span class='id identifier rubyid_key'>key</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_sig'>sig</span>
      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_suspend'>suspend</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_trap'>trap</span><span class='comma'>,</span> <span class='id identifier rubyid_sig'>sig</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_suspend'>suspend</span><span class='comma'>,</span> <span class='id identifier rubyid_event'>event</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_wait_next_action'><a href="#wait_next_action-instance_method" title="DEBUGGER__::ThreadClient#wait_next_action (method)">wait_next_action</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L190-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='190' data-end='194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 190</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='ivar'>@thread</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span> <span class='op'>||</span> <span class='ivar'>@thread</span>.<span class='id identifier rubyid_status'>status</span><span class='embexpr_end'>}</span><span class='tstring_content'>)@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span> <span class='op'>||</span> <span class='ivar'>@thread</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (not under control)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_waiting?'><a href="#waiting%3F-instance_method" title="DEBUGGER__::ThreadClient#waiting? (method)">waiting?</a></span>
  <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tp_allow_reentry-instance_method">
  <h3 class='signature '>
    #<strong>tp_allow_reentry</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at line 388.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L401-L412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tp_allow_reentry'>tp_allow_reentry</span>
  <span class='const'>TracePoint</span>.<span class='id identifier rubyid_allow_reentry'>allow_reentry</span> <span class='kw'>do</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>RuntimeError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='comment'># on the postmortem mode, it is not stopped in TracePoint
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No need to allow reentrance.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>yield</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="truncate-instance_method">
  <h3 class='signature '>
    #<strong>truncate</strong>(string, width:)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L692-L698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='692' data-end='698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 692</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_truncate'>truncate</span>(<span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='label'>width:</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span> <span class='op'>..</span> (<span class='id identifier rubyid_width'>width</span><span class='op'>-</span><span class='int'>5</span>)] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...&gt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string'>string</span>[<span class='int'>0</span> <span class='op'>..</span> (<span class='id identifier rubyid_width'>width</span><span class='op'>-</span><span class='int'>4</span>)] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_name-instance_method">
  <h3 class='signature '>
    #<strong>type_name</strong>(obj)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L1044-L1052'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1044' data-end='1052'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 1044</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_type_name'>type_name</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html#M_CLASS-constant" title="DEBUGGER__::M_CLASS (constant)">M_CLASS</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)

  <span class='kw'>begin</span>
    <span class='const'><a href="../DEBUGGER__.html#M_NAME-constant" title="DEBUGGER__::M_NAME (constant)">M_NAME</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_klass'>klass</span>) <span class='op'>||</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;Error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="value_inspect-instance_method">
  <h3 class='signature '>
    #<strong>value_inspect</strong>(obj, short: true)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L778-L787'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='778' data-end='787'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 778</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_value_inspect'>value_inspect</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='label'>short:</span> <span class='kw'>true</span>
  <span class='comment'># TODO: max length should be configuarable?
</span>  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='label'>short:</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='label'>max_length:</span> <span class='const'><a href="#MAX_LENGTH-constant" title="DEBUGGER__::ThreadClient::MAX_LENGTH (constant)">MAX_LENGTH</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>==</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>
    <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_scrub'>scrub</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='comma'>,</span> <span class='label'>invalid:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span><span class='comma'>,</span> <span class='label'>undef:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="variable-instance_method">
  <h3 class='signature '>
    #<strong>variable</strong>(name, obj)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at file lib/debug/server_cdp.rb line 1274.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L1089-L1109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1089' data-end='1109'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 1089</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_variable'>variable</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='id identifier rubyid_pd'>pd</span> <span class='op'>=</span> <span class='id identifier rubyid_propertyDescriptor'><a href="#propertyDescriptor-instance_method" title="DEBUGGER__::ThreadClient#propertyDescriptor (method)">propertyDescriptor</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_valuePreview'>valuePreview</span> <span class='op'>=</span> <span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>(<span class='id identifier rubyid_idx'>idx</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span>)
        <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>][<span class='symbeg'>:</span><span class='id identifier rubyid_properties'>properties</span>][<span class='id identifier rubyid_idx'>idx</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_valuePreview'>valuePreview</span>] <span class='op'>=</span> <span class='id identifier rubyid_valuePreview'>valuePreview</span>
      <span class='kw'>end</span>
    }
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
      <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_valuePreview'>valuePreview</span> <span class='op'>=</span> <span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>)
        <span class='id identifier rubyid_pd'>pd</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_preview'><a href="#preview-instance_method" title="DEBUGGER__::ThreadClient#preview (method)">preview</a></span>][<span class='symbeg'>:</span><span class='id identifier rubyid_properties'>properties</span>][<span class='id identifier rubyid_idx'>idx</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_valuePreview'>valuePreview</span>] <span class='op'>=</span> <span class='id identifier rubyid_valuePreview'>valuePreview</span>
      <span class='kw'>end</span>
    }
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pd'>pd</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="variable_-instance_method">
  <h3 class='signature '>
    #<strong>variable_</strong>(name, obj, indexedVariables: 0, namedVariables: 0)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/server_dap.rb#L1054-L1087'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1054' data-end='1087'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/server_dap.rb', line 1054</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_variable_'>variable_</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='label'>indexedVariables:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>namedVariables:</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_indexedVariables'>indexedVariables</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_namedVariables'>namedVariables</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_vid'>vid</span> <span class='op'>=</span> <span class='ivar'>@var_map</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='ivar'>@var_map</span>[<span class='id identifier rubyid_vid'>vid</span>] <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_vid'>vid</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_namedVariables'>namedVariables</span> <span class='op'>+=</span> <span class='const'><a href="../DEBUGGER__.html#M_INSTANCE_VARIABLES-constant" title="DEBUGGER__::M_INSTANCE_VARIABLES (constant)">M_INSTANCE_VARIABLES</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>).<span class='id identifier rubyid_size'>size</span>

  <span class='kw'>if</span> <span class='const'><a href="NaiveString.html" title="DEBUGGER__::NaiveString (class)">NaiveString</a></span> <span class='op'>===</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_dump'>dump</span>
    <span class='id identifier rubyid_vid'>vid</span> <span class='op'>=</span> <span class='id identifier rubyid_indexedVariables'>indexedVariables</span> <span class='op'>=</span> <span class='id identifier rubyid_namedVariables'>namedVariables</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_value_inspect'><a href="#value_inspect-instance_method" title="DEBUGGER__::ThreadClient#value_inspect (method)">value_inspect</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span>
    { <span class='label'>name:</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="DEBUGGER__::ThreadClient#name (method)">name</a></span><span class='comma'>,</span>
      <span class='label'>value:</span> <span class='id identifier rubyid_str'>str</span><span class='comma'>,</span>
      <span class='label'>type:</span> <span class='id identifier rubyid_type_name'><a href="#type_name-instance_method" title="DEBUGGER__::ThreadClient#type_name (method)">type_name</a></span>(<span class='id identifier rubyid_obj'>obj</span>)<span class='comma'>,</span>
      <span class='label'>variablesReference:</span> <span class='id identifier rubyid_vid'>vid</span><span class='comma'>,</span>
      <span class='label'>indexedVariables:</span> <span class='id identifier rubyid_indexedVariables'>indexedVariables</span><span class='comma'>,</span>
      <span class='label'>namedVariables:</span> <span class='id identifier rubyid_namedVariables'>namedVariables</span><span class='comma'>,</span>
    }
  <span class='kw'>else</span>
    { <span class='label'>result:</span> <span class='id identifier rubyid_str'>str</span><span class='comma'>,</span>
      <span class='label'>type:</span> <span class='id identifier rubyid_type_name'><a href="#type_name-instance_method" title="DEBUGGER__::ThreadClient#type_name (method)">type_name</a></span>(<span class='id identifier rubyid_obj'>obj</span>)<span class='comma'>,</span>
      <span class='label'>variablesReference:</span> <span class='id identifier rubyid_vid'>vid</span><span class='comma'>,</span>
      <span class='label'>indexedVariables:</span> <span class='id identifier rubyid_indexedVariables'>indexedVariables</span><span class='comma'>,</span>
      <span class='label'>namedVariables:</span> <span class='id identifier rubyid_namedVariables'>namedVariables</span><span class='comma'>,</span>
    }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_next_action-instance_method">
  <h3 class='signature '>
    #<strong>wait_next_action</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L876-L880'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='876' data-end='880'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 876</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait_next_action'>wait_next_action</span>
  <span class='id identifier rubyid_fiber_blocking'><a href="#fiber_blocking-instance_method" title="DEBUGGER__::ThreadClient#fiber_blocking (method)">fiber_blocking</a></span>{<span class='id identifier rubyid_wait_next_action_'><a href="#wait_next_action_-instance_method" title="DEBUGGER__::ThreadClient#wait_next_action_ (method)">wait_next_action_</a></span>}
<span class='kw'>rescue</span> <span class='const'><a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)">SuspendReplay</a></span>
  <span class='id identifier rubyid_replay_suspend'><a href="#replay_suspend-instance_method" title="DEBUGGER__::ThreadClient#replay_suspend (method)">replay_suspend</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_next_action_-instance_method">
  <h3 class='signature '>
    #<strong>wait_next_action_</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L882-L1258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='882' data-end='1258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 882</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait_next_action_'>wait_next_action_</span>
  <span class='comment'># assertions
</span>  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@mode is </span><span class='embexpr_beg'>#{</span><span class='ivar'>@mode</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_waiting?'><a href="#waiting%3F-instance_method" title="DEBUGGER__::ThreadClient#waiting? (method)">waiting?</a></span>

  <span class='kw'>unless</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_active?'>active?</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_caller'>caller</span>
    <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_running'>running</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_waiting?'><a href="#waiting%3F-instance_method" title="DEBUGGER__::ThreadClient#waiting? (method)">waiting?</a></span>
      <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>=</span> <span class='ivar'>@q_cmd</span>.<span class='id identifier rubyid_pop'>pop</span>
      <span class='comment'># pp [self, cmds: cmds]
</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_cmds'>cmds</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_running'>running</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_cmds'>cmds</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_cmd'>cmd</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_continue'>continue</span>
      <span class='kw'>break</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_step'>step</span>
      <span class='id identifier rubyid_step_type'>step_type</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
      <span class='id identifier rubyid_iter'>iter</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span>]

      <span class='kw'>case</span> <span class='id identifier rubyid_step_type'>step_type</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>in</span>
        <span class='id identifier rubyid_iter'>iter</span> <span class='op'>=</span> <span class='id identifier rubyid_iter'>iter</span> <span class='op'>||</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_replaying?'>replaying?</span>
          <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_step_forward'>step_forward</span> <span class='id identifier rubyid_iter'>iter</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)">SuspendReplay</a></span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_step_tp'><a href="#step_tp-instance_method" title="DEBUGGER__::ThreadClient#step_tp (method)">step_tp</a></span> <span class='id identifier rubyid_iter'>iter</span> <span class='kw'>do</span>
            <span class='kw'>true</span>
          <span class='kw'>end</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>next</span>
        <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_absolute_path'>absolute_path</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!eval:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_base_label'>base_label</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_iseq'>iseq</span>
          <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_iseq'>iseq</span>.<span class='id identifier rubyid_traceable_lines_norec'>traceable_lines_norec</span>(<span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> {})
          <span class='id identifier rubyid_next_line'>next_line</span> <span class='op'>=</span> <span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_bsearch'>bsearch</span>{<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_line'>line</span>}
          <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_next_line'>next_line</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_last_line'>last_line</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_iseq'>iseq</span>.<span class='id identifier rubyid_last_line'>last_line</span>) <span class='op'>&gt;</span> <span class='id identifier rubyid_line'>line</span>
            <span class='id identifier rubyid_next_line'>next_line</span> <span class='op'>=</span> <span class='id identifier rubyid_last_line'>last_line</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_depth'>depth</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span>

        <span class='id identifier rubyid_step_tp'><a href="#step_tp-instance_method" title="DEBUGGER__::ThreadClient#step_tp (method)">step_tp</a></span> <span class='id identifier rubyid_iter'>iter</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tp'>tp</span><span class='op'>|</span>
          <span class='id identifier rubyid_loc'>loc</span> <span class='op'>=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>).<span class='id identifier rubyid_first'>first</span>
          <span class='id identifier rubyid_loc_path'>loc_path</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_absolute_path'>absolute_path</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!eval:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_loc_label'>loc_label</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_base_label'>base_label</span>
          <span class='id identifier rubyid_loc_depth'>loc_depth</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='int'>3</span>

          <span class='kw'>case</span>
          <span class='kw'>when</span> <span class='id identifier rubyid_loc_depth'>loc_depth</span> <span class='op'>==</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_loc_label'>loc_label</span> <span class='op'>==</span> <span class='id identifier rubyid_label'>label</span>
            <span class='kw'>true</span>
          <span class='kw'>when</span> <span class='id identifier rubyid_loc_depth'>loc_depth</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_depth'>depth</span>
            <span class='comment'># lower stack depth
</span>            <span class='kw'>true</span>
          <span class='kw'>when</span> (<span class='id identifier rubyid_next_line'>next_line</span> <span class='op'>&amp;&amp;</span>
                <span class='id identifier rubyid_loc_path'>loc_path</span> <span class='op'>==</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span>
                (<span class='id identifier rubyid_loc_lineno'>loc_lineno</span> <span class='op'>=</span> <span class='id identifier rubyid_loc'>loc</span>.<span class='id identifier rubyid_lineno'>lineno</span>) <span class='op'>&gt;</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>&amp;&amp;</span>
                <span class='id identifier rubyid_loc_lineno'>loc_lineno</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_next_line'>next_line</span>)
            <span class='comment'># different frame (maybe block) but the line is before next_line
</span>            <span class='kw'>true</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_finish'>finish</span>
        <span class='id identifier rubyid_finish_frames'>finish_frames</span> <span class='op'>=</span> (<span class='id identifier rubyid_iter'>iter</span> <span class='op'>||</span> <span class='int'>1</span>) <span class='op'>-</span> <span class='int'>1</span>
        <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_goal_depth'>goal_depth</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='id identifier rubyid_finish_frames'>finish_frames</span> <span class='op'>-</span> (<span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_has_return_value'>has_return_value</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span>)

        <span class='id identifier rubyid_step_tp'><a href="#step_tp-instance_method" title="DEBUGGER__::ThreadClient#step_tp (method)">step_tp</a></span> <span class='kw'>nil</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='kw'>return</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b_return'>b_return</span>] <span class='kw'>do</span>
          <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='int'>3</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_goal_depth'>goal_depth</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>until</span>
        <span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span> <span class='op'>=</span> <span class='id identifier rubyid_iter'>iter</span><span class='op'>&amp;.</span><span class='id identifier rubyid_strip'>strip</span>
        <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_depth'>depth</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> (<span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_has_return_value'>has_return_value</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span>)
        <span class='id identifier rubyid_target_location_label'>target_location_label</span> <span class='op'>=</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_base_label'>base_label</span>

        <span class='kw'>case</span> <span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>
        <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:(.):)?(\d)\z</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_no_loc'>no_loc</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>
          <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_path'>path</span>
          <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> (<span class='backref'>$2</span> <span class='op'>||</span>  <span class='id identifier rubyid_frame'>frame</span>.<span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>.<span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>+</span> <span class='int'>1</span>).<span class='id identifier rubyid_to_i'>to_i</span>

          <span class='id identifier rubyid_step_tp'><a href="#step_tp-instance_method" title="DEBUGGER__::ThreadClient#step_tp (method)">step_tp</a></span> <span class='kw'>nil</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>return</span>] <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tp'>tp</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_event'>event</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_line'>line</span>
              <span class='kw'>next</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_no_loc'>no_loc</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&lt;</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='int'>3</span>
              <span class='kw'>next</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='id identifier rubyid_file'>file</span>)
              <span class='kw'>next</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_line'>line</span>
              <span class='kw'>true</span>
            <span class='kw'>else</span>
              <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&gt;=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='int'>3</span> <span class='op'>&amp;&amp;</span>
                      <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>).<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_base_label'>base_label</span> <span class='op'>==</span> <span class='id identifier rubyid_target_location_label'>target_location_label</span>
                      <span class='comment'># TODO: imcomplete condition
</span>            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_location'><a href="#location-instance_method" title="DEBUGGER__::ThreadClient#location (method)">location</a></span>
          <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\/(.+)\/\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_pat'>pat</span>
            <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="DEBUGGER__::ThreadClient.new (method)">new</a></span>(<span class='backref'>$1</span>)
          <span class='kw'>end</span>

          <span class='id identifier rubyid_step_tp'><a href="#step_tp-instance_method" title="DEBUGGER__::ThreadClient#step_tp (method)">step_tp</a></span> <span class='kw'>nil</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c_call'>c_call</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>return</span>] <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tp'>tp</span><span class='op'>|</span>
            <span class='kw'>case</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_event'>event</span>
            <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c_call'>c_call</span>
              <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span> <span class='op'>===</span> <span class='id identifier rubyid_tp'>tp</span>.<span class='id identifier rubyid_callee_id'>callee_id</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="DEBUGGER__::ThreadClient#to_s (method)">to_s</a></span>
            <span class='kw'>else</span> <span class='comment'># :return, :b_return
</span>              <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span> <span class='op'>&gt;=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_frame_depth'>frame_depth</span> <span class='op'>-</span> <span class='int'>3</span> <span class='op'>&amp;&amp;</span>
                      <span class='id identifier rubyid_caller_locations'>caller_locations</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>).<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_base_label'>base_label</span> <span class='op'>==</span> <span class='id identifier rubyid_target_location_label'>target_location_label</span>
                      <span class='comment'># TODO: imcomplete condition
</span>            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='kw'>break</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_back'>back</span>
        <span class='id identifier rubyid_iter'>iter</span> <span class='op'>=</span> <span class='id identifier rubyid_iter'>iter</span> <span class='op'>||</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_can_step_back?'>can_step_back?</span>
          <span class='kw'>unless</span> <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_backup_frames'>backup_frames</span>
            <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_backup_frames'>backup_frames</span> <span class='op'>=</span> <span class='ivar'>@target_frames</span>
          <span class='kw'>end</span>
          <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_step_back'>step_back</span> <span class='id identifier rubyid_iter'>iter</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)">SuspendReplay</a></span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can not step back more.</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reset'>reset</span>
        <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_replaying?'>replaying?</span>
          <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_step_reset'>step_reset</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)">SuspendReplay</a></span>
        <span class='kw'>end</span>

      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eval'>eval</span>
      <span class='id identifier rubyid_eval_type'>eval_type</span><span class='comma'>,</span> <span class='id identifier rubyid_eval_src'>eval_src</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>

      <span class='id identifier rubyid_result_type'>result_type</span> <span class='op'>=</span> <span class='kw'>nil</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_eval_type'>eval_type</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_p'>p</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_eval_src'>eval_src</span>)
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_color_pp'>color_pp</span>(<span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>**</span> <span class='int'>30</span>)
        <span class='kw'>if</span> <span class='id identifier rubyid_alloc_path'>alloc_path</span> <span class='op'>=</span> <span class='const'>ObjectSpace</span>.<span class='id identifier rubyid_allocation_sourcefile'>allocation_sourcefile</span>(<span class='id identifier rubyid_result'>result</span>)
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>allocated at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alloc_path'>alloc_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='const'>ObjectSpace</span>.<span class='id identifier rubyid_allocation_sourceline'>allocation_sourceline</span>(<span class='id identifier rubyid_result'>result</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_pp'>pp</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_eval_src'>eval_src</span>)
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_color_pp'>color_pp</span>(<span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='const'>SESSION</span>.<span class='id identifier rubyid_width'>width</span>)
        <span class='kw'>if</span> <span class='id identifier rubyid_alloc_path'>alloc_path</span> <span class='op'>=</span> <span class='const'>ObjectSpace</span>.<span class='id identifier rubyid_allocation_sourcefile'>allocation_sourcefile</span>(<span class='id identifier rubyid_result'>result</span>)
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>allocated at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alloc_path'>alloc_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='const'>ObjectSpace</span>.<span class='id identifier rubyid_allocation_sourceline'>allocation_sourceline</span>(<span class='id identifier rubyid_result'>result</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_eval_src'>eval_src</span>)
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_display'>display</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_try_display'>try_display</span>
        <span class='id identifier rubyid_failed_results'>failed_results</span> <span class='op'>=</span> []
        <span class='id identifier rubyid_eval_src'>eval_src</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span>{<span class='op'>|</span><span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
          <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_src'>src</span>){<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
            <span class='id identifier rubyid_failed_results'>failed_results</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span>]
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
          }
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_src'>src</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        }

        <span class='id identifier rubyid_result_type'>result_type</span> <span class='op'>=</span> <span class='id identifier rubyid_eval_type'>eval_type</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_failed_results'>failed_results</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown error option: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_result_type'>result_type</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>
      <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_up'>up</span>
        <span class='kw'>if</span> <span class='ivar'>@current_frame_index</span> <span class='op'>+</span> <span class='int'>1</span> <span class='op'>&lt;</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_size'>size</span>
          <span class='ivar'>@current_frame_index</span> <span class='op'>+=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span> <span class='label'>max_lines:</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_src_lines_frame'>show_src_lines_frame</span>]
          <span class='id identifier rubyid_show_frame'><a href="#show_frame-instance_method" title="DEBUGGER__::ThreadClient#show_frame (method)">show_frame</a></span>(<span class='ivar'>@current_frame_index</span>)
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_down'>down</span>
        <span class='kw'>if</span> <span class='ivar'>@current_frame_index</span> <span class='op'>&gt;</span> <span class='int'>0</span>
          <span class='ivar'>@current_frame_index</span> <span class='op'>-=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span> <span class='label'>max_lines:</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_src_lines_frame'>show_src_lines_frame</span>]
          <span class='id identifier rubyid_show_frame'><a href="#show_frame-instance_method" title="DEBUGGER__::ThreadClient#show_frame (method)">show_frame</a></span>(<span class='ivar'>@current_frame_index</span>)
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_set'>set</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
          <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_to_i'>to_i</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>&gt;=</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>&lt;</span> <span class='ivar'>@target_frames</span>.<span class='id identifier rubyid_size'>size</span>
            <span class='ivar'>@current_frame_index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>out of frame index: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span> <span class='label'>max_lines:</span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_src_lines_frame'>show_src_lines_frame</span>]
        <span class='id identifier rubyid_show_frame'><a href="#show_frame-instance_method" title="DEBUGGER__::ThreadClient#show_frame (method)">show_frame</a></span>(<span class='ivar'>@current_frame_index</span>)
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unsupported frame operation: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show'>show</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_backtrace'>backtrace</span>
        <span class='id identifier rubyid_max_lines'>max_lines</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
        <span class='id identifier rubyid_show_frames'><a href="#show_frames-instance_method" title="DEBUGGER__::ThreadClient#show_frames (method)">show_frames</a></span> <span class='id identifier rubyid_max_lines'>max_lines</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_list'>list</span>
        <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span>(<span class='label'>update_line:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>**</span>(<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>||</span> {}))

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_whereami'>whereami</span>
        <span class='id identifier rubyid_show_src'><a href="#show_src-instance_method" title="DEBUGGER__::ThreadClient#show_src (method)">show_src</a></span> <span class='label'>ignore_show_line:</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_show_frames'><a href="#show_frames-instance_method" title="DEBUGGER__::ThreadClient#show_frames (method)">show_frames</a></span> <span class='const'><a href="../DEBUGGER__.html#CONFIG-constant" title="DEBUGGER__::CONFIG (constant)">CONFIG</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_show_frames'><a href="#show_frames-instance_method" title="DEBUGGER__::ThreadClient#show_frames (method)">show_frames</a></span>]

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span>
        <span class='id identifier rubyid_show_by_editor'><a href="#show_by_editor-instance_method" title="DEBUGGER__::ThreadClient#show_by_editor (method)">show_by_editor</a></span>(<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>)

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span>
        <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_show_locals'><a href="#show_locals-instance_method" title="DEBUGGER__::ThreadClient#show_locals (method)">show_locals</a></span> <span class='id identifier rubyid_pat'>pat</span>
        <span class='id identifier rubyid_show_ivars'><a href="#show_ivars-instance_method" title="DEBUGGER__::ThreadClient#show_ivars (method)">show_ivars</a></span>  <span class='id identifier rubyid_pat'>pat</span>
        <span class='id identifier rubyid_show_consts'><a href="#show_consts-instance_method" title="DEBUGGER__::ThreadClient#show_consts (method)">show_consts</a></span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='label'>only_self:</span> <span class='kw'>true</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_locals'>locals</span>
        <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_show_locals'><a href="#show_locals-instance_method" title="DEBUGGER__::ThreadClient#show_locals (method)">show_locals</a></span> <span class='id identifier rubyid_pat'>pat</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ivars'>ivars</span>
        <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_show_ivars'><a href="#show_ivars-instance_method" title="DEBUGGER__::ThreadClient#show_ivars (method)">show_ivars</a></span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_consts'>consts</span>
        <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_expr'>expr</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_show_consts'><a href="#show_consts-instance_method" title="DEBUGGER__::ThreadClient#show_consts (method)">show_consts</a></span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_expr'>expr</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_globals'>globals</span>
        <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='id identifier rubyid_show_globals'><a href="#show_globals-instance_method" title="DEBUGGER__::ThreadClient#show_globals (method)">show_globals</a></span> <span class='id identifier rubyid_pat'>pat</span>

      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_outline'>outline</span>
        <span class='id identifier rubyid_show_outline'><a href="#show_outline-instance_method" title="DEBUGGER__::ThreadClient#show_outline (method)">show_outline</a></span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span>

      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown show param: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> [<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>].<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_breakpoint'>breakpoint</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span>
        <span class='id identifier rubyid_bp'>bp</span> <span class='op'>=</span> <span class='id identifier rubyid_make_breakpoint'><a href="#make_breakpoint-instance_method" title="DEBUGGER__::ThreadClient#make_breakpoint (method)">make_breakpoint</a></span> <span class='id identifier rubyid_args'>args</span>
        <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method_breakpoint'>method_breakpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_bp'>bp</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_watch'>watch</span>
        <span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span><span class='op'>..</span>]
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span>(<span class='id identifier rubyid_ivar'>ivar</span>)

        <span class='kw'>if</span> <span class='ivar'>@success_last_eval</span>
          <span class='id identifier rubyid_object'>object</span> <span class='op'>=</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_binding'>binding</span>
              <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_receiver'>receiver</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_current_frame'><a href="#current_frame-instance_method" title="DEBUGGER__::ThreadClient#current_frame (method)">current_frame</a></span>.<span class='id identifier rubyid_self'>self</span>
            <span class='kw'>end</span>
          <span class='id identifier rubyid_bp'>bp</span> <span class='op'>=</span> <span class='id identifier rubyid_make_breakpoint'><a href="#make_breakpoint-instance_method" title="DEBUGGER__::ThreadClient#make_breakpoint (method)">make_breakpoint</a></span> [<span class='symbeg'>:</span><span class='id identifier rubyid_watch'>watch</span><span class='comma'>,</span> <span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_cond'>cond</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>]
          <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_watch_breakpoint'>watch_breakpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_bp'>bp</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_trace'>trace</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_object'>object</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_frame_eval'><a href="#frame_eval-instance_method" title="DEBUGGER__::ThreadClient#frame_eval (method)">frame_eval</a></span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span><span class='comma'>,</span> <span class='label'>re_raise:</span> <span class='kw'>true</span>
          <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span>
          <span class='id identifier rubyid_obj_inspect'>obj_inspect</span> <span class='op'>=</span> <span class='const'><a href="../DEBUGGER__.html" title="DEBUGGER__ (module)">DEBUGGER__</a></span>.<span class='id identifier rubyid_safe_inspect'><a href="../DEBUGGER__.html#safe_inspect-class_method" title="DEBUGGER__.safe_inspect (method)">safe_inspect</a></span>(<span class='id identifier rubyid_obj'>obj</span>)

          <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='int'>50</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_obj_inspect'>obj_inspect</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_width'>width</span>
            <span class='id identifier rubyid_obj_inspect'>obj_inspect</span> <span class='op'>=</span> <span class='id identifier rubyid_truncate'><a href="#truncate-instance_method" title="DEBUGGER__::ThreadClient#truncate (method)">truncate</a></span>(<span class='id identifier rubyid_obj_inspect'>obj_inspect</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='id identifier rubyid_width'>width</span>)
          <span class='kw'>end</span>

          <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_trace_pass'>trace_pass</span><span class='comma'>,</span> <span class='const'><a href="../DEBUGGER__.html#M_OBJECT_ID-constant" title="DEBUGGER__::M_OBJECT_ID (constant)">M_OBJECT_ID</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)<span class='comma'>,</span> <span class='id identifier rubyid_obj_inspect'>obj_inspect</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
          <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span>
          <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unreachable</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_record'>record</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
      <span class='kw'>when</span> <span class='kw'>nil</span>
        <span class='comment'># ok
</span>      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on'>on</span>
        <span class='comment'># enable recording
</span>        <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@recorder</span>
          <span class='ivar'>@recorder</span> <span class='op'>=</span> <span class='const'><a href="ThreadClient/Recorder.html" title="DEBUGGER__::ThreadClient::Recorder (class)">Recorder</a></span>.<span class='id identifier rubyid_new'><a href="ThreadClient/Recorder.html#new-class_method" title="DEBUGGER__::ThreadClient::Recorder.new (method)">new</a></span>
        <span class='kw'>end</span>
        <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_enable'>enable</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_off'>off</span>
        <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_enabled?'>enabled?</span>
          <span class='ivar'>@recorder</span>.<span class='id identifier rubyid_disable'>disable</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='ivar'>@recorder</span><span class='op'>&amp;.</span><span class='id identifier rubyid_enabled?'>enabled?</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Recorder for </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'><a href="#current-class_method" title="DEBUGGER__::ThreadClient.current (method)">current</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: on (</span><span class='embexpr_beg'>#{</span><span class='ivar'>@recorder</span>.<span class='id identifier rubyid_log'><a href="../DEBUGGER__.html#log-class_method" title="DEBUGGER__.log (method)">log</a></span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> records)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Recorder for </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_current'><a href="#current-class_method" title="DEBUGGER__::ThreadClient.current (method)">current</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: off</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='kw'>nil</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_quit'>quit</span>
      <span class='id identifier rubyid_sleep'>sleep</span> <span class='comment'># wait for SystemExit
</span>    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dap'>dap</span>
      <span class='id identifier rubyid_process_dap'><a href="#process_dap-instance_method" title="DEBUGGER__::ThreadClient#process_dap (method)">process_dap</a></span> <span class='id identifier rubyid_args'>args</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cdp'>cdp</span>
      <span class='id identifier rubyid_process_cdp'><a href="#process_cdp-instance_method" title="DEBUGGER__::ThreadClient#process_cdp (method)">process_cdp</a></span> <span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> [<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>].<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

<span class='kw'>rescue</span> <span class='const'><a href="ThreadClient/SuspendReplay.html" title="DEBUGGER__::ThreadClient::SuspendReplay (class)">SuspendReplay</a></span><span class='comma'>,</span> <span class='const'>SystemExit</span><span class='comma'>,</span> <span class='const'>Interrupt</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='const'>STDERR</span>.<span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_cause'>cause</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
  <span class='const'>STDERR</span>.<span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="DEBUGGER__::ThreadClient#inspect (method)">inspect</a></span>
  <span class='const'><a href="../Thread.html" title="Thread (class)">Thread</a></span>.<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_th'>th</span><span class='op'>|</span>
    <span class='const'>STDERR</span>.<span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@@@ </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_th'>th</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_th'>th</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
      <span class='const'>STDERR</span>.<span class='id identifier rubyid_puts'><a href="#puts-instance_method" title="DEBUGGER__::ThreadClient#puts (method)">puts</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> &gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_b'>b</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    }
  }
  <span class='id identifier rubyid_p'>p</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DEBUGGER Exception: </span><span class='embexpr_beg'>#{</span><span class='kw'>__FILE__</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='kw'>__LINE__</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>]
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@returning</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_reply-instance_method">
  <h3 class='signature '>
    #<strong>wait_reply</strong>(event_arg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>events</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/debug/blob/v1.11.1/lib/debug/thread_client.rb#L229-L236'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='229' data-end='236'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/debug/thread_client.rb', line 229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait_reply'>wait_reply</span> <span class='id identifier rubyid_event_arg'>event_arg</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_management?'><a href="#management%3F-instance_method" title="DEBUGGER__::ThreadClient#management? (method)">management?</a></span>

  <span class='id identifier rubyid_set_mode'><a href="#set_mode-instance_method" title="DEBUGGER__::ThreadClient#set_mode (method)">set_mode</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_waiting'>waiting</span>

  <span class='id identifier rubyid_event!'><a href="#event!-instance_method" title="DEBUGGER__::ThreadClient#event! (method)">event!</a></span>(<span class='op'>*</span><span class='id identifier rubyid_event_arg'>event_arg</span>)
  <span class='id identifier rubyid_wait_next_action'><a href="#wait_next_action-instance_method" title="DEBUGGER__::ThreadClient#wait_next_action (method)">wait_next_action</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>