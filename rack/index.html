<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: README &mdash; Rack main</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "README",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Rack main</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: README&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1><img src="contrib/logo.webp" alt="Rack"></h1>

<blockquote>
<p><strong><em>NOTE:</em></strong> <a href="Rack.html" title="Rack (module)"><code>Rack</code></a> v3.0.0 was recently released. Please check the <a href="file.UPGRADE-GUIDE.html">Upgrade
Guide</a> for more details about migrating your existing
servers, middlewares and applications. For detailed information on specific
changes, check the <a href="file.CHANGELOG.html">Change Log</a>.</p>
</blockquote>

<p><a href="Rack.html" title="Rack (module)"><code>Rack</code></a> provides a minimal, modular, and adaptable interface for developing web
applications in Ruby. By wrapping HTTP requests and responses in the simplest
way possible, it unifies and distills the bridge between web servers, web
frameworks, and web application into a single method call.</p>

<p>The exact details of this are described in the <a href="SPEC.rdoc">Rack Specification</a>, which all
<a href="Rack.html" title="Rack (module)"><code>Rack</code></a> applications should conform to.</p>

<h2>Installation</h2>

<p>Add the rack gem to your application bundle, or follow the instructions provided
by a <a href="#supported-web-frameworks">supported web framework</a>:</p>

<pre class="code bash"><code class="bash"># Install it generally:
$ gem install rack

# or, add it to your current application gemfile:
$ bundle add rack --version 3.0.0
</code></pre>

<p>If you need features from <code>Rack::Session</code> or <code>bin/rackup</code> please add those gems separately.</p>

<pre class="code bash"><code class="bash">$ gem install rack-session rackup
</code></pre>

<h2>Usage</h2>

<p>Create a file called <code>config.ru</code> with the following contents:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_run'>run</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_env'>env</span><span class='op'>|</span>
  [<span class='int'>200</span><span class='comma'>,</span> {}<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello World</span><span class='tstring_end'>&quot;</span></span>]]
<span class='kw'>end</span></code></pre>

<p>Run this using the rackup gem or another <a href="#supported-web-servers">supported web
server</a>.</p>

<pre class="code bash"><code class="bash">$ gem install rackup
$ rackup
$ curl http://localhost:9292
Hello World
</code></pre>

<h2>Supported web servers</h2>

<p>Rack is supported by a wide range of servers, including:</p>

<ul>
<li><a href="https://github.com/ohler55/agoo">Agoo</a></li>
<li><a href="https://github.com/socketry/falcon">Falcon</a></li>
<li><a href="https://github.com/boazsegev/iodine">Iodine</a></li>
<li><a href="https://unit.nginx.org/">NGINX Unit</a></li>
<li><a href="https://www.phusionpassenger.com/">Phusion Passenger</a> (which is mod_rack for
Apache and for nginx)</li>
<li><a href="https://puma.io/">Puma</a></li>
<li><a href="https://github.com/macournoyer/thin">Thin</a></li>
<li><a href="https://yhbt.net/unicorn/">Unicorn</a></li>
<li><a href="https://uwsgi-docs.readthedocs.io/en/latest/">uWSGI</a></li>
<li><a href="https://lamby.custominktech.com">Lamby</a> (for AWS Lambda)</li>
</ul>

<p>You will need to consult the server documentation to find out what features and
limitations they may have. In general, any valid Rack app will run the same on
all these servers, without changing anything.</p>

<h3>Rackup</h3>

<p>Rack provides a separate gem, <a href="https://github.com/rack/rackup">rackup</a> which is
a generic interface for running a Rack application on supported servers, which
include <code>WEBRick</code>, <code>Puma</code>, <code>Falcon</code> and others.</p>

<h2>Supported web frameworks</h2>

<p>These frameworks and many others support the <a href="SPEC.rdoc">Rack Specification</a>:</p>

<ul>
<li><a href="https://github.com/camping/camping">Camping</a></li>
<li><a href="https://hanamirb.org/">Hanami</a></li>
<li><a href="https://github.com/ramaze/ramaze">Ramaze</a></li>
<li><a href="https://padrinorb.com/">Padrino</a></li>
<li><a href="https://github.com/jeremyevans/roda">Roda</a></li>
<li><a href="https://rubyonrails.org/">Ruby on Rails</a></li>
<li><a href="https://github.com/leahneukirchen/rum">Rum</a></li>
<li><a href="https://sinatrarb.com/">Sinatra</a></li>
<li><a href="https://github.com/socketry/utopia">Utopia</a></li>
<li><a href="https://github.com/ohler55/wabur">WABuR</a></li>
</ul>

<h2>Available middleware shipped with Rack</h2>

<p>Between the server and the framework, Rack can be customized to your
applications needs using middleware. Rack itself ships with the following
middleware:</p>

<ul>
<li><a href="Rack/CommonLogger.html" title="Rack::CommonLogger (class)"><code>CommonLogger</code></a> for creating Apache-style logfiles.</li>
<li><a href="Rack/ConditionalGet.html" title="Rack::ConditionalGet (class)"><code>ConditionalGet</code></a> for returning <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304">Not
Modified</a>
responses when the response has not changed.</li>
<li><a href="Rack/Config.html" title="Rack::Config (class)"><code>Config</code></a> for modifying the environment before processing the request.</li>
<li><a href="Rack/ContentLength.html" title="Rack::ContentLength (class)"><code>ContentLength</code></a> for setting a <code>content-length</code> header based on body
size.</li>
<li><a href="Rack/ContentType.html" title="Rack::ContentType (class)"><code>ContentType</code></a> for setting a default <code>content-type</code> header for responses.</li>
<li><a href="Rack/Deflater.html" title="Rack::Deflater (class)"><code>Deflater</code></a> for compressing responses with gzip.</li>
<li><a href="Rack/ETag.html" title="Rack::ETag (class)"><code>ETag</code></a> for setting <code>etag</code> header on bodies that can be buffered.</li>
<li><a href="Rack/Events.html" title="Rack::Events (class)"><code>Events</code></a> for providing easy hooks when a request is received and when
the response is sent.</li>
<li><a href="Rack/Files.html" title="Rack::Files (class)"><code>Files</code></a> for serving static files.</li>
<li><a href="Rack/Head.html" title="Rack::Head (class)"><code>Head</code></a> for returning an empty body for HEAD requests.</li>
<li><a href="Rack/Lint.html" title="Rack::Lint (class)"><code>Lint</code></a> for checking conformance to the <a href="SPEC.rdoc">Rack Specification</a>.</li>
<li><a href="Rack/Lock.html" title="Rack::Lock (class)"><code>Lock</code></a> for serializing requests using a mutex.</li>
<li><a href="Rack/Logger.html" title="Rack::Logger (class)"><code>Logger</code></a> for setting a logger to handle logging errors.</li>
<li><a href="Rack/MethodOverride.html" title="Rack::MethodOverride (class)"><code>MethodOverride</code></a> for modifying the request method based on a submitted
parameter.</li>
<li><a href="Rack/Recursive.html" title="Rack::Recursive (class)"><code>Recursive</code></a> for including data from other paths in the application, and
for performing internal redirects.</li>
<li><a href="Rack/Reloader.html" title="Rack::Reloader (class)"><code>Reloader</code></a> for reloading files if they have been modified.</li>
<li><a href="Rack/Runtime.html" title="Rack::Runtime (class)"><code>Runtime</code></a> for including a response header with the time taken to process
the request.</li>
<li><a href="Rack/Sendfile.html" title="Rack::Sendfile (class)"><code>Sendfile</code></a> for working with web servers that can use optimized file
serving for file system paths.</li>
<li><code>Rack::ShowException</code> for catching unhandled exceptions and presenting them in
a nice and helpful way with clickable backtrace.</li>
<li><a href="Rack/ShowStatus.html" title="Rack::ShowStatus (class)"><code>ShowStatus</code></a> for using nice error pages for empty client error
responses.</li>
<li><a href="Rack/Static.html" title="Rack::Static (class)"><code>Static</code></a> for more configurable serving of static files.</li>
<li><a href="Rack/TempfileReaper.html" title="Rack::TempfileReaper (class)"><code>TempfileReaper</code></a> for removing temporary files creating during a request.</li>
</ul>

<p>All these components use the same interface, which is described in detail in the
<a href="SPEC.rdoc">Rack Specification</a>. These optional components can be used in any way you wish.</p>

<h3>Convenience interfaces</h3>

<p>If you want to develop outside of existing frameworks, implement your own ones,
or develop middleware, Rack provides many helpers to create Rack applications
quickly and without doing the same web stuff all over:</p>

<ul>
<li><a href="Rack/Request.html" title="Rack::Request (class)"><code>Request</code></a> which also provides query string parsing and multipart
handling.</li>
<li><a href="Rack/Response.html" title="Rack::Response (class)"><code>Response</code></a> for convenient generation of HTTP replies and cookie
handling.</li>
<li><a href="Rack/MockRequest.html" title="Rack::MockRequest (class)"><code>MockRequest</code></a> and <a href="Rack/MockResponse.html" title="Rack::MockResponse (class)"><code>MockResponse</code></a> for efficient and quick testing
of Rack application without real HTTP round-trips.</li>
<li><a href="Rack/Cascade.html" title="Rack::Cascade (class)"><code>Cascade</code></a> for trying additional Rack applications if an application
returns a not found or method not supported response.</li>
<li><a href="Rack/Directory.html" title="Rack::Directory (class)"><code>Directory</code></a> for serving files under a given directory, with directory
indexes.</li>
<li><a href="Rack/MediaType.html" title="Rack::MediaType (class)"><code>MediaType</code></a> for parsing content-type headers.</li>
<li><a href="Rack/Mime.html" title="Rack::Mime (module)"><code>Mime</code></a> for determining content-type based on file extension.</li>
<li><a href="Rack/RewindableInput.html" title="Rack::RewindableInput (class)"><code>RewindableInput</code></a> for making any IO object rewindable, using a temporary
file buffer.</li>
<li><a href="Rack/URLMap.html" title="Rack::URLMap (class)"><code>URLMap</code></a> to route to multiple applications inside the same process.</li>
</ul>

<h2>Configuration</h2>

<p>Rack exposes several configuration parameters to control various features of the
implementation.</p>

<h3><code>param_depth_limit</code></h3>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="Rack/Utils.html" title="Rack::Utils (module)">Utils</a></span>.<span class='id identifier rubyid_param_depth_limit'><a href="Rack/Utils.html#param_depth_limit-class_method" title="Rack::Utils.param_depth_limit (method)">param_depth_limit</a></span> <span class='op'>=</span> <span class='int'>32</span> <span class='comment'># default</span></code></pre>

<p>The maximum amount of nesting allowed in parameters. For example, if set to 3,
this query string would be allowed:</p>

<pre class="code ruby"><code class="ruby"><span class='CHAR'>?a</span>[<span class='id identifier rubyid_b'>b</span>][<span class='id identifier rubyid_c'>c</span>]<span class='op'>=</span><span class='id identifier rubyid_d'>d</span></code></pre>

<p>but this query string would not be allowed:</p>

<pre class="code ruby"><code class="ruby"><span class='CHAR'>?a</span>[<span class='id identifier rubyid_b'>b</span>][<span class='id identifier rubyid_c'>c</span>][<span class='id identifier rubyid_d'>d</span>]<span class='op'>=</span><span class='id identifier rubyid_e'>e</span></code></pre>

<p>Limiting the depth prevents a possible stack overflow when parsing parameters.</p>

<h3><code>multipart_file_limit</code></h3>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="Rack/Utils.html" title="Rack::Utils (module)">Utils</a></span>.<span class='id identifier rubyid_multipart_file_limit'><a href="Rack/Utils.html#multipart_file_limit-class_method" title="Rack::Utils.multipart_file_limit (method)">multipart_file_limit</a></span> <span class='op'>=</span> <span class='int'>128</span> <span class='comment'># default</span></code></pre>

<p>The maximum number of parts with a filename a request can contain. Accepting
too many parts can lead to the server running out of file handles.</p>

<p>The default is 128, which means that a single request can&#39;t upload more than 128
files at once. Set to 0 for no limit.</p>

<p>Can also be set via the <code>RACK_MULTIPART_FILE_LIMIT</code> environment variable.</p>

<p>(This is also aliased as <code>multipart_part_limit</code> and <code>RACK_MULTIPART_PART_LIMIT</code> for compatibility)</p>

<h3><code>multipart_total_part_limit</code></h3>

<p>The maximum total number of parts a request can contain of any type, including
both file and non-file form fields.</p>

<p>The default is 4096, which means that a single request can&#39;t contain more than
4096 parts.</p>

<p>Set to 0 for no limit.</p>

<p>Can also be set via the <code>RACK_MULTIPART_TOTAL_PART_LIMIT</code> environment variable.</p>

<h2>Changelog</h2>

<p>See <a href="file.CHANGELOG.html">CHANGELOG.md</a>.</p>

<h2>Contributing</h2>

<p>See <a href="file.CONTRIBUTING.html">CONTRIBUTING.md</a> for specific details about how to make a
contribution to Rack.</p>

<p>Please post bugs, suggestions and patches to <a href="https://github.com/rack/rack/issues">GitHub
Issues</a>.</p>

<p>Please check our <a href="https://github.com/rack/rack/security/policy">Security Policy</a>
for responsible disclosure and security bug reporting process. Due to wide usage
of the library, it is strongly preferred that we manage timing in order to
provide viable patches at the time of disclosure. Your assistance in this matter
is greatly appreciated.</p>

<h2>See Also</h2>

<h3><code>rack-contrib</code></h3>

<p>The plethora of useful middleware created the need for a project that collects
fresh Rack middleware. <code>rack-contrib</code> includes a variety of add-on components
for Rack and it is easy to contribute new modules.</p>

<ul>
<li><a href="https://github.com/rack/rack-contrib">https://github.com/rack/rack-contrib</a></li>
</ul>

<h3><code>rack-session</code></h3>

<p>Provides convenient session management for Rack.</p>

<ul>
<li><a href="https://github.com/rack/rack-session">https://github.com/rack/rack-session</a></li>
</ul>

<h2>Thanks</h2>

<p>The Rack Core Team, consisting of</p>

<ul>
<li>Aaron Patterson <a href="https://github.com/tenderlove">tenderlove</a></li>
<li>Samuel Williams <a href="https://github.com/ioquatix">ioquatix</a></li>
<li>Jeremy Evans <a href="https://github.com/jeremyevans">jeremyevans</a></li>
<li>Eileen Uchitelle <a href="https://github.com/eileencodes">eileencodes</a></li>
<li>Matthew Draper <a href="https://github.com/matthewd">matthewd</a></li>
<li>Rafael França <a href="https://github.com/rafaelfranca">rafaelfranca</a></li>
</ul>

<p>and the Rack Alumni</p>

<ul>
<li>Ryan Tomayko <a href="https://github.com/rtomayko">rtomayko</a></li>
<li>Scytrin dai Kinthra <a href="https://github.com/scytrin">scytrin</a></li>
<li>Leah Neukirchen <a href="https://github.com/leahneukirchen">leahneukirchen</a></li>
<li>James Tucker <a href="https://github.com/raggi">raggi</a></li>
<li>Josh Peek <a href="https://github.com/josh">josh</a></li>
<li>José Valim <a href="https://github.com/josevalim">josevalim</a></li>
<li>Michael Fellinger <a href="https://github.com/manveru">manveru</a></li>
<li>Santiago Pastorino <a href="https://github.com/spastorino">spastorino</a></li>
<li>Konstantin Haase <a href="https://github.com/rkh">rkh</a></li>
</ul>

<p>would like to thank:</p>

<ul>
<li>Adrian Madrid, for the LiteSpeed handler.</li>
<li>Christoffer Sawicki, for the first Rails adapter and <a href="Rack/Deflater.html" title="Rack::Deflater (class)"><code>Deflater</code></a>.</li>
<li>Tim Fletcher, for the HTTP authentication code.</li>
<li>Luc Heinrich for the Cookie sessions, the static file handler and bugfixes.</li>
<li>Armin Ronacher, for the logo and racktools.</li>
<li>Alex Beregszaszi, Alexander Kahn, Anil Wadghule, Aredridel, Ben Alpert, Dan
Kubb, Daniel Roethlisberger, Matt Todd, Tom Robinson, Phil Hagelberg, S. Brent
Faulkner, Bosko Milekic, Daniel Rodríguez Troitiño, Genki Takiuchi, Geoffrey
Grosenbach, Julien Sanchez, Kamal Fariz Mahyuddin, Masayoshi Takahashi,
Patrick Aljordm, Mig, Kazuhiro Nishiyama, Jon Bardin, Konstantin Haase, Larry
Siden, Matias Korhonen, Sam Ruby, Simon Chiang, Tim Connor, Timur Batyrshin,
and Zach Brock for bug fixing and other improvements.</li>
<li>Eric Wong, Hongli Lai, Jeremy Kemper for their continuous support and API
improvements.</li>
<li>Yehuda Katz and Carl Lerche for refactoring rackup.</li>
<li>Brian Candler, for <a href="Rack/ContentType.html" title="Rack::ContentType (class)"><code>ContentType</code></a>.</li>
<li>Graham Batty, for improved handler loading.</li>
<li>Stephen Bannasch, for bug reports and documentation.</li>
<li>Gary Wright, for proposing a better <a href="Rack/Response.html" title="Rack::Response (class)"><code>Response</code></a> interface.</li>
<li>Jonathan Buch, for improvements regarding <a href="Rack/Response.html" title="Rack::Response (class)"><code>Response</code></a>.</li>
<li>Armin Röhrl, for tracking down bugs in the Cookie generator.</li>
<li>Alexander Kellett for testing the Gem and reviewing the announcement.</li>
<li>Marcus Rückert, for help with configuring and debugging lighttpd.</li>
<li>The WSGI team for the well-done and documented work they&#39;ve done and Rack
builds up on.</li>
<li>All bug reporters and patch contributors not mentioned above.</li>
</ul>

<h2>License</h2>

<p>Rack is released under the <a href="MIT-LICENSE">MIT License</a>.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>