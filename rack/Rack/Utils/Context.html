<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Rack::Utils::Context &mdash; Rack main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Rack::Utils::Context",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rack main</a> &raquo; 
      <a href='../../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../../Rack.html" title="Rack (module)">Rack</a> &raquo; 
        <a href="../Utils.html" title="Rack::Utils (module)">Utils</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Context&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Rack::Utils::Context</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L454'>lib/rack/utils.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Context</code> allows the use of a compatible middleware at different points in a request handling stack. A compatible middleware must define <a href="#context-instance_method" title="Rack::Utils::Context#context (method)">#context</a> which should take the arguments env and app. The first of which would be the request environment. The second of which would be the rack application that the request would be forwarded to.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature mf'>
      <a href="#call-class_method" title=".call (class method)">.<strong>call</strong>(env)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#context-class_method" title=".context (class method)">.<strong>context</strong>(env, app = @app)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#initialize-class_method" title=".initialize (class method)">.<strong>initialize</strong>(app_f, app_r)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#recontext-class_method" title=".recontext (class method)">.<strong>recontext</strong>(app)  </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(app_f, app_r)  </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature priv first'>
    .<strong>new</strong>(app_f, app_r)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L457-L460'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='457' data-end='460'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/utils.rb', line 457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="#initialize-class_method" title="Rack::Utils::Context.initialize (method)">initialize</a></span>(<span class='id identifier rubyid_app_f'>app_f</span><span class='comma'>,</span> <span class='id identifier rubyid_app_r'>app_r</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>running context does not respond to #context</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_app_f'>app_f</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_context'><a href="#context-class_method" title="Rack::Utils::Context.context (method)">context</a></span>
  <span class='ivar'>@for</span><span class='comma'>,</span> <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app_f'>app_f</span><span class='comma'>,</span> <span class='id identifier rubyid_app_r'>app_r</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="call-class_method">
  <h3 class='signature private first'>
    .<strong>call</strong>(env)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L462-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='462' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/utils.rb', line 462</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_env'>env</span>)
  <span class='ivar'>@for</span>.<span class='id identifier rubyid_context'><a href="#context-class_method" title="Rack::Utils::Context.context (method)">context</a></span>(<span class='id identifier rubyid_env'>env</span><span class='comma'>,</span> <span class='ivar'>@app</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="context-class_method">
  <h3 class='signature private'>
    .<strong>context</strong>(env, app = @app)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L470-L472'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='470' data-end='472'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/utils.rb', line 470</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>(<span class='id identifier rubyid_env'>env</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>=</span> <span class='ivar'>@app</span>)
  <span class='id identifier rubyid_recontext'><a href="#recontext-class_method" title="Rack::Utils::Context.recontext (method)">recontext</a></span>(<span class='id identifier rubyid_app'>app</span>).<span class='id identifier rubyid_call'><a href="#call-class_method" title="Rack::Utils::Context.call (method)">call</a></span>(<span class='id identifier rubyid_env'>env</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize-class_method">
  <h3 class='signature private'>
    .<strong>initialize</strong>(app_f, app_r)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L457-L460'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='457' data-end='460'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/utils.rb', line 457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_app_f'>app_f</span><span class='comma'>,</span> <span class='id identifier rubyid_app_r'>app_r</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>running context does not respond to #context</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_app_f'>app_f</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_context'><a href="#context-class_method" title="Rack::Utils::Context.context (method)">context</a></span>
  <span class='ivar'>@for</span><span class='comma'>,</span> <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app_f'>app_f</span><span class='comma'>,</span> <span class='id identifier rubyid_app_r'>app_r</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="recontext-class_method">
  <h3 class='signature private'>
    .<strong>recontext</strong>(app)   <span class="extras">(<span class='mod_func'>mod_func</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/utils.rb#L466-L468'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='466' data-end='468'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/utils.rb', line 466</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_recontext'>recontext</span>(<span class='id identifier rubyid_app'>app</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Rack::Utils::Context.new (method)">new</a></span>(<span class='ivar'>@for</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>