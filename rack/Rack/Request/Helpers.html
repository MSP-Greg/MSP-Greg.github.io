<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Rack::Request::Helpers &mdash; Rack main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Rack::Request::Helpers",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rack main</a> &raquo; 
      <a href='../../_index.html#alpha_H'>Index (H)</a> &raquo; 
        <a href="../../Rack.html" title="Rack (module)">Rack</a> &raquo; 
        <a href="../Request.html" title="Rack::Request (class)">Request</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Helpers&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Rack::Request::Helpers</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../Request.html" title="Rack::Request (class)"><code>Request</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L154'>lib/rack/request.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='AUTHORITY-constant' class='summary_signature priv'>AUTHORITY =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L720-L731'># File 'lib/rack/request.rb', line 720</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  \A
  (?&lt;host&gt;
    # Match IPv6 as a string of hex digits and colons in square brackets
    \[(?&lt;address&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ipv6'>ipv6</span><span class='embexpr_end'>}</span><span class='tstring_content'>)\]
    |
    # Match any other printable string (except square brackets) as a hostname
    (?&lt;address&gt;[[[:graph:]&amp;&amp;[^\[\]]]]*?)
  )
  (:(?&lt;port&gt;\d+))?
  \z
</span><span class='regexp_end'>/x</span></span></pre>
  </li>
  <li>
    <span id='DEFAULT_PORTS-constant' class='summary_signature'>DEFAULT_PORTS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Default ports depending on scheme. Used to decide whether or not to include the port in a generated URI.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L173-L173'># File 'lib/rack/request.rb', line 173</a>    <pre class='code ruby'>{ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>80</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>443</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>coffee</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>80</span> }</pre>
  </li>
  <li>
    <span id='FORM_DATA_MEDIA_TYPES-constant' class='summary_signature'>FORM_DATA_MEDIA_TYPES =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The set of form-data media-types. Requests that do not indicate one of the media types present in this list will not be eligible for form-data / param parsing.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L158-L161'># File 'lib/rack/request.rb', line 158</a>    <pre class='code ruby'>[
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/x-www-form-urlencoded</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>multipart/form-data</span><span class='tstring_end'>&#39;</span></span>
]</pre>
  </li>
  <li>
    <span id='FORWARDED_SCHEME_HEADERS-constant' class='summary_signature priv'>FORWARDED_SCHEME_HEADERS =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L741-L744'># File 'lib/rack/request.rb', line 741</a>    <pre class='code ruby'>{
  <span class='label'>proto:</span> <span class='const'><a href="#HTTP_X_FORWARDED_PROTO-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_PROTO (constant)">HTTP_X_FORWARDED_PROTO</a></span><span class='comma'>,</span>
  <span class='label'>scheme:</span> <span class='const'><a href="#HTTP_X_FORWARDED_SCHEME-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_SCHEME (constant)">HTTP_X_FORWARDED_SCHEME</a></span>
}.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='HTTP_FORWARDED-constant' class='summary_signature'>HTTP_FORWARDED =</span>
    <br/>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L181-L181'># File 'lib/rack/request.rb', line 181</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_FORWARDED</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_FOR-constant' class='summary_signature'>HTTP_X_FORWARDED_FOR =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The address of the client which connected to the proxy.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L176-L176'># File 'lib/rack/request.rb', line 176</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_FOR</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_HOST-constant' class='summary_signature'>HTTP_X_FORWARDED_HOST =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The contents of the host/:authority header sent to the proxy.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L179-L179'># File 'lib/rack/request.rb', line 179</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_HOST</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_PORT-constant' class='summary_signature'>HTTP_X_FORWARDED_PORT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The port used to connect to the proxy.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L190-L190'># File 'lib/rack/request.rb', line 190</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_PORT</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_PROTO-constant' class='summary_signature'>HTTP_X_FORWARDED_PROTO =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The protocol used to connect to the proxy.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L187-L187'># File 'lib/rack/request.rb', line 187</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_PROTO</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_SCHEME-constant' class='summary_signature'>HTTP_X_FORWARDED_SCHEME =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The value of the scheme sent to the proxy.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L184-L184'># File 'lib/rack/request.rb', line 184</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_SCHEME</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='HTTP_X_FORWARDED_SSL-constant' class='summary_signature'>HTTP_X_FORWARDED_SSL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Another way for specifying https scheme was used.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L193-L193'># File 'lib/rack/request.rb', line 193</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_X_FORWARDED_SSL</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='PARSEABLE_DATA_MEDIA_TYPES-constant' class='summary_signature'>PARSEABLE_DATA_MEDIA_TYPES =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The set of media-types. Requests that do not indicate one of the media types present in this list will not be eligible for param parsing like soap attachments or generic multiparts</p>

  </div>
</div>
    <a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L166-L169'># File 'lib/rack/request.rb', line 166</a>    <pre class='code ruby'>[
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>multipart/related</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>multipart/mixed</span><span class='tstring_end'>&#39;</span></span>
]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#delete%3F-instance_method" title="#delete? (instance method)">#<strong>delete?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#DELETE-constant" title="Rack::DELETE (constant)">DELETE</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#form_data%3F-instance_method" title="#form_data? (instance method)">#<strong>form_data?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether the request body contains form-data by checking the request content-type for one of the media-types: “application/x-www-form-urlencoded” or “multipart/form-data”.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#get%3F-instance_method" title="#get? (instance method)">#<strong>get?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#head%3F-instance_method" title="#head? (instance method)">#<strong>head?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#HEAD-constant" title="Rack::HEAD (constant)">HEAD</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#link%3F-instance_method" title="#link? (instance method)">#<strong>link?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#LINK-constant" title="Rack::LINK (constant)">LINK</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#options%3F-instance_method" title="#options? (instance method)">#<strong>options?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#OPTIONS-constant" title="Rack::OPTIONS (constant)">OPTIONS</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#parseable_data%3F-instance_method" title="#parseable_data? (instance method)">#<strong>parseable_data?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether the request body contains data by checking the request media_type against registered parse-data media-types.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#patch%3F-instance_method" title="#patch? (instance method)">#<strong>patch?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#PATCH-constant" title="Rack::PATCH (constant)">PATCH</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#path_info-instance_method" title="#path_info (instance method)">#<strong>path_info</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#path_info=-instance_method" title="#path_info= (instance method)">#<strong>path_info=</strong>(s)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#post%3F-instance_method" title="#post? (instance method)">#<strong>post?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#put%3F-instance_method" title="#put? (instance method)">#<strong>put?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#PUT-constant" title="Rack::PUT (constant)">PUT</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#query_parser=-instance_method" title="#query_parser= (instance method)">#<strong>query_parser=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Allow overriding the query parser that the receiver will use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#script_name-instance_method" title="#script_name (instance method)">#<strong>script_name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#script_name=-instance_method" title="#script_name= (instance method)">#<strong>script_name=</strong>(s)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#ssl%3F-instance_method" title="#ssl? (instance method)">#<strong>ssl?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#trace%3F-instance_method" title="#trace? (instance method)">#<strong>trace?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#TRACE-constant" title="Rack::TRACE (constant)">TRACE</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#unlink%3F-instance_method" title="#unlink? (instance method)">#<strong>unlink?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#UNLINK-constant" title="Rack::UNLINK (constant)">UNLINK</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#xhr%3F-instance_method" title="#xhr? (instance method)">#<strong>xhr?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature rw priv'>
      <a href="#query_parser-instance_method" title="#query_parser (instance method)">#<strong>query_parser</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#accept_encoding-instance_method" title="#accept_encoding (instance method)">#<strong>accept_encoding</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#accept_language-instance_method" title="#accept_language (instance method)">#<strong>accept_language</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#authority-instance_method" title="#authority (instance method)">#<strong>authority</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The authority of the incoming request as defined by RFC3976.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#base_url-instance_method" title="#base_url (instance method)">#<strong>base_url</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#body-instance_method" title="#body (instance method)">#<strong>body</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#content_charset-instance_method" title="#content_charset (instance method)">#<strong>content_charset</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The character set of the request body if a “charset” media type parameter was given, or nil if no “charset” was specified.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#content_length-instance_method" title="#content_length (instance method)">#<strong>content_length</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#content_type-instance_method" title="#content_type (instance method)">#<strong>content_type</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cookies-instance_method" title="#cookies (instance method)">#<strong>cookies</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_param-instance_method" title="#delete_param (instance method)">#<strong>delete_param</strong>(k)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Destructively delete a parameter, whether it’s in <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> or <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#form_pairs-instance_method" title="#form_pairs (instance method)">#<strong>form_pairs</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the form data pairs received in the request body.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#forwarded_authority-instance_method" title="#forwarded_authority (instance method)">#<strong>forwarded_authority</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#forwarded_for-instance_method" title="#forwarded_for (instance method)">#<strong>forwarded_for</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#forwarded_port-instance_method" title="#forwarded_port (instance method)">#<strong>forwarded_port</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fullpath-instance_method" title="#fullpath (instance method)">#<strong>fullpath</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#GET-instance_method" title="#GET (instance method)"><strong>GET</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the data received in the query string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#host-instance_method" title="#host (instance method)">#<strong>host</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a formatted host, suitable for being used in a URI.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#host_authority-instance_method" title="#host_authority (instance method)">#<strong>host_authority</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="../../Rack.html#HTTP_HOST-constant" title="Rack::HTTP_HOST (constant)">HTTP_HOST</a> header.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#host_with_port-instance_method" title="#host_with_port (instance method)">#<strong>host_with_port</strong>(authority = self.authority)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hostname-instance_method" title="#hostname (instance method)">#<strong>hostname</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an address suitable for being to resolve to an address.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ip-instance_method" title="#ip (instance method)">#<strong>ip</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#logger-instance_method" title="#logger (instance method)">#<strong>logger</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#media_type-instance_method" title="#media_type (instance method)">#<strong>media_type</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The media type (type/subtype) portion of the <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> header without any media type parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#media_type_params-instance_method" title="#media_type_params (instance method)">#<strong>media_type_params</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The media type parameters provided in <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> as a Hash, or an empty Hash if no <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> or media-type parameters were provided.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#params-instance_method" title="#params (instance method)">#<strong>params</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The union of <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> and <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a> data.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#POST-instance_method" title="#POST (instance method)"><strong>POST</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the data received in the request body.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#query_string-instance_method" title="#query_string (instance method)">#<strong>query_string</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#referer-instance_method" title="#referer (instance method)">#<strong>referer</strong>  </a>
      (also: #referrer)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>the referer of the client.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#referrer-instance_method" title="#referrer (instance method)">#<strong>referrer</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#referer-instance_method" title="Rack::Request::Helpers#referer (method)">#referer</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#request_method-instance_method" title="#request_method (instance method)">#<strong>request_method</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scheme-instance_method" title="#scheme (instance method)">#<strong>scheme</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#server_authority-instance_method" title="#server_authority (instance method)">#<strong>server_authority</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The authority as defined by the <a href="../../Rack.html#SERVER_NAME-constant" title="Rack::SERVER_NAME (constant)">SERVER_NAME</a> and <a href="../../Rack.html#SERVER_PORT-constant" title="Rack::SERVER_PORT (constant)">SERVER_PORT</a> variables.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#server_name-instance_method" title="#server_name (instance method)">#<strong>server_name</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#server_port-instance_method" title="#server_port (instance method)">#<strong>server_port</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#session-instance_method" title="#session (instance method)">#<strong>session</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#session_options-instance_method" title="#session_options (instance method)">#<strong>session_options</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#trusted_proxy%3F-instance_method" title="#trusted_proxy? (instance method)">#<strong>trusted_proxy?</strong>(ip)  &#x21d2; Boolean </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#update_param-instance_method" title="#update_param (instance method)">#<strong>update_param</strong>(k, v)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Destructively update a parameter, whether it’s in <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> and/or <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#url-instance_method" title="#url (instance method)">#<strong>url</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Tries to return a remake of the original request URL as a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#user_agent-instance_method" title="#user_agent (instance method)">#<strong>user_agent</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#allowed_scheme-instance_method" title="#allowed_scheme (instance method)">#<strong>allowed_scheme</strong>(header)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#default_session-instance_method" title="#default_session (instance method)">#<strong>default_session</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#expand_param_pairs-instance_method" title="#expand_param_pairs (instance method)">#<strong>expand_param_pairs</strong>(pairs, query_parser = query_parser())  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#forwarded_priority-instance_method" title="#forwarded_priority (instance method)">#<strong>forwarded_priority</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#forwarded_scheme-instance_method" title="#forwarded_scheme (instance method)">#<strong>forwarded_scheme</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_http_forwarded-instance_method" title="#get_http_forwarded (instance method)">#<strong>get_http_forwarded</strong>(token)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get an array of values set in the RFC 7239 <code>Forwarded</code> request header.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_http_accept_header-instance_method" title="#parse_http_accept_header (instance method)">#<strong>parse_http_accept_header</strong>(header)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_multipart-instance_method" title="#parse_multipart (instance method)">#<strong>parse_multipart</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_query-instance_method" title="#parse_query (instance method)">#<strong>parse_query</strong>(qs, d = &#39;&amp;&#39;)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#split_authority-instance_method" title="#split_authority (instance method)">#<strong>split_authority</strong>(authority)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#split_header-instance_method" title="#split_header (instance method)">#<strong>split_header</strong>(value)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#wrap_ipv6-instance_method" title="#wrap_ipv6 (instance method)">#<strong>wrap_ipv6</strong>(host)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Assist with compatibility when processing <code>X-Forwarded-For</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#x_forwarded_proto_priority-instance_method" title="#x_forwarded_proto_priority (instance method)">#<strong>x_forwarded_proto_priority</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="delete?-instance_method">
  <h3 class='signature ro first'>
    #<strong>delete?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#DELETE-constant" title="Rack::DELETE (constant)">DELETE</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L225-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='225' data-end='225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 225</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete?'>delete?</span><span class='semicolon'>;</span>  <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#DELETE-constant" title="Rack::DELETE (constant)">DELETE</a></span>  <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="form_data?-instance_method">
  <h3 class='signature ro'>
    #<strong>form_data?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether the request body contains form-data by checking the request content-type for one of the media-types: “application/x-www-form-urlencoded” or “multipart/form-data”. The list of form-data media types can be modified through the <a href="#FORM_DATA_MEDIA_TYPES-constant" title="Rack::Request::Helpers::FORM_DATA_MEDIA_TYPES (constant)">FORM_DATA_MEDIA_TYPES</a> array.</p>

<p>A request body is also assumed to contain form-data when no content-type header is provided and the request_method is <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L477-L482'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='477' data-end='482'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 477</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_form_data?'>form_data?</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_media_type'><a href="#media_type-instance_method" title="Rack::Request::Helpers#media_type (method)">media_type</a></span>
  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_METHODOVERRIDE_ORIGINAL_METHOD-constant" title="Rack::RACK_METHODOVERRIDE_ORIGINAL_METHOD (constant)">RACK_METHODOVERRIDE_ORIGINAL_METHOD</a></span>) <span class='op'>||</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#REQUEST_METHOD-constant" title="Rack::REQUEST_METHOD (constant)">REQUEST_METHOD</a></span>)

  (<span class='id identifier rubyid_meth'>meth</span> <span class='op'>==</span> <span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_nil?'>nil?</span>) <span class='op'>||</span> <span class='const'><a href="#FORM_DATA_MEDIA_TYPES-constant" title="Rack::Request::Helpers::FORM_DATA_MEDIA_TYPES (constant)">FORM_DATA_MEDIA_TYPES</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_type'>type</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get?-instance_method">
  <h3 class='signature ro'>
    #<strong>get?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L228-L228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='228' data-end='228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get?'>get?</span><span class='semicolon'>;</span>     <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>     <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="head?-instance_method">
  <h3 class='signature ro'>
    #<strong>head?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#HEAD-constant" title="Rack::HEAD (constant)">HEAD</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L231-L231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='231' data-end='231'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_head?'>head?</span><span class='semicolon'>;</span>    <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#HEAD-constant" title="Rack::HEAD (constant)">HEAD</a></span>    <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="link?-instance_method">
  <h3 class='signature ro'>
    #<strong>link?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#LINK-constant" title="Rack::LINK (constant)">LINK</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L237-L237'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='237' data-end='237'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 237</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link?'>link?</span><span class='semicolon'>;</span>    <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#LINK-constant" title="Rack::LINK (constant)">LINK</a></span>    <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options?-instance_method">
  <h3 class='signature ro'>
    #<strong>options?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#OPTIONS-constant" title="Rack::OPTIONS (constant)">OPTIONS</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L234-L234'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='234' data-end='234'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 234</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_options?'>options?</span><span class='semicolon'>;</span> <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#OPTIONS-constant" title="Rack::OPTIONS (constant)">OPTIONS</a></span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parseable_data?-instance_method">
  <h3 class='signature ro'>
    #<strong>parseable_data?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether the request body contains data by checking the request media_type against registered parse-data media-types</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L486-L488'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='486' data-end='488'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 486</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parseable_data?'>parseable_data?</span>
  <span class='const'><a href="#PARSEABLE_DATA_MEDIA_TYPES-constant" title="Rack::Request::Helpers::PARSEABLE_DATA_MEDIA_TYPES (constant)">PARSEABLE_DATA_MEDIA_TYPES</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_media_type'><a href="#media_type-instance_method" title="Rack::Request::Helpers#media_type (method)">media_type</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="patch?-instance_method">
  <h3 class='signature ro'>
    #<strong>patch?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#PATCH-constant" title="Rack::PATCH (constant)">PATCH</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L240-L240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='240' data-end='240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 240</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_patch?'>patch?</span><span class='semicolon'>;</span>   <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#PATCH-constant" title="Rack::PATCH (constant)">PATCH</a></span>   <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path_info-instance_method">
  <h3 class='signature rw'>
    #<strong>path_info</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L199-L199'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='199' data-end='199'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_path_info'>path_info</span><span class='semicolon'>;</span>       <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#PATH_INFO-constant" title="Rack::PATH_INFO (constant)">PATH_INFO</a></span>).<span class='id identifier rubyid_to_s'>to_s</span>                     <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path_info=-instance_method">
  <h3 class='signature rw'>
    #<strong>path_info=</strong>(s)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L200-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='200' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 200</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_path_info='>path_info=</span>(<span class='id identifier rubyid_s'>s</span>)<span class='semicolon'>;</span>   <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#PATH_INFO-constant" title="Rack::PATH_INFO (constant)">PATH_INFO</a></span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_to_s'>to_s</span>)                  <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="post?-instance_method">
  <h3 class='signature ro'>
    #<strong>post?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L243-L243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='243' data-end='243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 243</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_post?'>post?</span><span class='semicolon'>;</span>    <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span>    <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="put?-instance_method">
  <h3 class='signature ro'>
    #<strong>put?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#PUT-constant" title="Rack::PUT (constant)">PUT</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L246-L246'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='246' data-end='246'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 246</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_put?'>put?</span><span class='semicolon'>;</span>     <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#PUT-constant" title="Rack::PUT (constant)">PUT</a></span>     <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="query_parser-instance_method">
  <h3 class='signature rw priv'>
    #<strong>query_parser</strong>   <span class="extras">(<span class='rw'>rw</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L669-L671'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='669' data-end='671'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 669</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_query_parser'>query_parser</span>
  <span class='ivar'>@query_parser</span> <span class='op'>||</span> <span class='const'><a href="../Utils.html" title="Rack::Utils (module)">Utils</a></span>.<span class='id identifier rubyid_default_query_parser'><a href="../Utils.html#default_query_parser-class_method" title="Rack::Utils.default_query_parser (method)">default_query_parser</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="query_parser=-instance_method">
  <h3 class='signature rw'>
    #<strong>query_parser=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Allow overriding the query parser that the receiver will use. By default <a href="../Utils.html#default_query_parser-class_method" title="Rack::Utils.default_query_parser (method)">Utils.default_query_parser</a> is used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L562-L562'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='562' data-end='562'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 562</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="script_name-instance_method">
  <h3 class='signature rw'>
    #<strong>script_name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L196-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='196' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_script_name'>script_name</span><span class='semicolon'>;</span>     <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#SCRIPT_NAME-constant" title="Rack::SCRIPT_NAME (constant)">SCRIPT_NAME</a></span>).<span class='id identifier rubyid_to_s'>to_s</span>                   <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="script_name=-instance_method">
  <h3 class='signature rw'>
    #<strong>script_name=</strong>(s)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L197-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_script_name='>script_name=</span>(<span class='id identifier rubyid_s'>s</span>)<span class='semicolon'>;</span> <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#SCRIPT_NAME-constant" title="Rack::SCRIPT_NAME (constant)">SCRIPT_NAME</a></span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_to_s'>to_s</span>)                <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl?-instance_method">
  <h3 class='signature ro'>
    #<strong>ssl?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L415-L417'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='415' data-end='417'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 415</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl?'>ssl?</span>
  <span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wss</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="trace?-instance_method">
  <h3 class='signature ro'>
    #<strong>trace?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#TRACE-constant" title="Rack::TRACE (constant)">TRACE</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L249-L249'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='249' data-end='249'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_trace?'>trace?</span><span class='semicolon'>;</span>   <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#TRACE-constant" title="Rack::TRACE (constant)">TRACE</a></span>   <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unlink?-instance_method">
  <h3 class='signature ro'>
    #<strong>unlink?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the HTTP request method (or verb) to see if it was of type <a href="../../Rack.html#UNLINK-constant" title="Rack::UNLINK (constant)">UNLINK</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L252-L252'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='252' data-end='252'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 252</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unlink?'>unlink?</span><span class='semicolon'>;</span>  <span class='id identifier rubyid_request_method'><a href="#request_method-instance_method" title="Rack::Request::Helpers#request_method (method)">request_method</a></span> <span class='op'>==</span> <span class='const'><a href="../../Rack.html#UNLINK-constant" title="Rack::UNLINK (constant)">UNLINK</a></span>  <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xhr?-instance_method">
  <h3 class='signature ro'>
    #<strong>xhr?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L318-L320'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='320'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_xhr?'>xhr?</span>
  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_X_REQUESTED_WITH</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XMLHttpRequest</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="accept_encoding-instance_method">
  <h3 class='signature  first'>
    #<strong>accept_encoding</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L611-L613'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='611' data-end='613'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 611</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_encoding'>accept_encoding</span>
  <span class='id identifier rubyid_parse_http_accept_header'><a href="#parse_http_accept_header-instance_method" title="Rack::Request::Helpers#parse_http_accept_header (method)">parse_http_accept_header</a></span>(<span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT_ENCODING</span><span class='tstring_end'>&quot;</span></span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept_language-instance_method">
  <h3 class='signature '>
    #<strong>accept_language</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L615-L617'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='615' data-end='617'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_language'>accept_language</span>
  <span class='id identifier rubyid_parse_http_accept_header'><a href="#parse_http_accept_header-instance_method" title="Rack::Request::Helpers#parse_http_accept_header (method)">parse_http_accept_header</a></span>(<span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT_LANGUAGE</span><span class='tstring_end'>&quot;</span></span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="allowed_scheme-instance_method">
  <h3 class='signature priv'>
    #<strong>allowed_scheme</strong>(header)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L770-L772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='770' data-end='772'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 770</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_allowed_scheme'>allowed_scheme</span>(<span class='id identifier rubyid_header'>header</span>)
  <span class='id identifier rubyid_header'>header</span> <span class='kw'>if</span> <span class='const'><a href="../Request.html#ALLOWED_SCHEMES-constant" title="Rack::Request::ALLOWED_SCHEMES (constant)">ALLOWED_SCHEMES</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_header'>header</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="authority-instance_method">
  <h3 class='signature '>
    #<strong>authority</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The authority of the incoming request as defined by RFC3976. <a href="https://tools.ietf.org/html/rfc3986#section-3.2">tools.ietf.org/html/rfc3986#section-3.2</a></p>

<p>In HTTP/1, this is the <a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">#host</a> header. In HTTP/2, this is the <code>:authority</code> pseudo-header.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L271-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='271' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 271</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_authority'>authority</span>
  <span class='id identifier rubyid_forwarded_authority'><a href="#forwarded_authority-instance_method" title="Rack::Request::Helpers#forwarded_authority (method)">forwarded_authority</a></span> <span class='op'>||</span> <span class='id identifier rubyid_host_authority'><a href="#host_authority-instance_method" title="Rack::Request::Helpers#host_authority (method)">host_authority</a></span> <span class='op'>||</span> <span class='id identifier rubyid_server_authority'><a href="#server_authority-instance_method" title="Rack::Request::Helpers#server_authority (method)">server_authority</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="base_url-instance_method">
  <h3 class='signature '>
    #<strong>base_url</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L594-L596'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='594' data-end='596'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 594</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_base_url'>base_url</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host_with_port'><a href="#host_with_port-instance_method" title="Rack::Request::Helpers#host_with_port (method)">host_with_port</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="body-instance_method">
  <h3 class='signature '>
    #<strong>body</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L195-L195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='195' data-end='195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 195</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_body'>body</span><span class='semicolon'>;</span>            <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_INPUT-constant" title="Rack::RACK_INPUT (constant)">RACK_INPUT</a></span>)                         <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content_charset-instance_method">
  <h3 class='signature '>
    #<strong>content_charset</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The character set of the request body if a “charset” media type parameter was given, or nil if no “charset” was specified. Note that, per RFC2616, text/* media types that specify no explicit charset are to be considered ISO-8859-1.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L465-L467'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='465' data-end='467'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 465</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_charset'>content_charset</span>
  <span class='id identifier rubyid_media_type_params'><a href="#media_type_params-instance_method" title="Rack::Request::Helpers#media_type_params (method)">media_type_params</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>charset</span><span class='tstring_end'>&#39;</span></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content_length-instance_method">
  <h3 class='signature '>
    #<strong>content_length</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L204-L204'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='204'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_length'>content_length</span><span class='semicolon'>;</span>  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CONTENT_LENGTH</span><span class='tstring_end'>&#39;</span></span>)                   <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="content_type-instance_method">
  <h3 class='signature '>
    #<strong>content_type</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L313-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='313' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 313</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_type'>content_type</span>
  <span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CONTENT_TYPE</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_content_type'>content_type</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_content_type'>content_type</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_content_type'>content_type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cookies-instance_method">
  <h3 class='signature '>
    #<strong>cookies</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L298-L311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='298' data-end='311'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 298</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cookies'>cookies</span>
  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_header'>fetch_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_COOKIE_HASH-constant" title="Rack::RACK_REQUEST_COOKIE_HASH (constant)">RACK_REQUEST_COOKIE_HASH</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
    <span class='id identifier rubyid_set_header'>set_header</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> {})
  <span class='kw'>end</span>

  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#HTTP_COOKIE-constant" title="Rack::HTTP_COOKIE (constant)">HTTP_COOKIE</a></span>)

  <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>==</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_COOKIE_STRING-constant" title="Rack::RACK_REQUEST_COOKIE_STRING (constant)">RACK_REQUEST_COOKIE_STRING</a></span>)
    <span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_replace'>replace</span> <span class='const'><a href="../Utils.html" title="Rack::Utils (module)">Utils</a></span>.<span class='id identifier rubyid_parse_cookies_header'><a href="../Utils.html#parse_cookies_header-class_method" title="Rack::Utils.parse_cookies_header (method)">parse_cookies_header</a></span>(<span class='id identifier rubyid_string'>string</span>)
    <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_COOKIE_STRING-constant" title="Rack::RACK_REQUEST_COOKIE_STRING (constant)">RACK_REQUEST_COOKIE_STRING</a></span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_session-instance_method">
  <h3 class='signature priv'>
    #<strong>default_session</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L625-L625'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='625' data-end='625'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 625</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_session'>default_session</span><span class='semicolon'>;</span> {}<span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_param-instance_method">
  <h3 class='signature '>
    #<strong>delete_param</strong>(k)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Destructively delete a parameter, whether it’s in <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> or <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>. Returns the value of the deleted parameter.</p>

<p>If the parameter is in both <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> and <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>, the <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a> value takes precedence since that’s how <a href="#params-instance_method" title="Rack::Request::Helpers#params (method)">#params</a> works.</p>

<p><code>env[&#39;rack.input&#39;]</code> is not touched.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L589-L592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='589' data-end='592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 589</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_param'>delete_param</span>(<span class='id identifier rubyid_k'>k</span>)
  <span class='id identifier rubyid_post_value'>post_value</span><span class='comma'>,</span> <span class='id identifier rubyid_get_value'>get_value</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_k'>k</span>)<span class='comma'>,</span> <span class='kw'>self</span>.<span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_k'>k</span>)
  <span class='id identifier rubyid_post_value'>post_value</span> <span class='op'>||</span> <span class='id identifier rubyid_get_value'>get_value</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expand_param_pairs-instance_method">
  <h3 class='signature priv'>
    #<strong>expand_param_pairs</strong>(pairs, query_parser = query_parser())   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L682-L690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='682' data-end='690'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 682</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_param_pairs'>expand_param_pairs</span>(<span class='id identifier rubyid_pairs'>pairs</span><span class='comma'>,</span> <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span> <span class='op'>=</span> <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>())
  <span class='id identifier rubyid_params'><a href="#params-instance_method" title="Rack::Request::Helpers#params (method)">params</a></span> <span class='op'>=</span> <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>.<span class='id identifier rubyid_make_params'>make_params</span>

  <span class='id identifier rubyid_pairs'>pairs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>.<span class='id identifier rubyid_normalize_params'>normalize_params</span>(<span class='id identifier rubyid_params'><a href="#params-instance_method" title="Rack::Request::Helpers#params (method)">params</a></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_params'><a href="#params-instance_method" title="Rack::Request::Helpers#params (method)">params</a></span>.<span class='id identifier rubyid_to_params_hash'>to_params_hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="form_pairs-instance_method">
  <h3 class='signature '>
    #<strong>form_pairs</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the form data pairs received in the request body.</p>

<p>This method support both application/x-www-form-urlencoded and multipart/form-data.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L499-L536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='499' data-end='536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 499</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_form_pairs'>form_pairs</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_PAIRS-constant" title="Rack::RACK_REQUEST_FORM_PAIRS (constant)">RACK_REQUEST_FORM_PAIRS</a></span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_pairs'>pairs</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_ERROR-constant" title="Rack::RACK_REQUEST_FORM_ERROR (constant)">RACK_REQUEST_FORM_ERROR</a></span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>cause:</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_cause'>cause</span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_rack_input'>rack_input</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_INPUT-constant" title="Rack::RACK_INPUT (constant)">RACK_INPUT</a></span>)

    <span class='comment'># Otherwise, figure out how to parse the input:
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_rack_input'>rack_input</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_PAIRS-constant" title="Rack::RACK_REQUEST_FORM_PAIRS (constant)">RACK_REQUEST_FORM_PAIRS</a></span><span class='comma'>,</span> [])
    <span class='kw'>elsif</span> <span class='id identifier rubyid_form_data?'><a href="#form_data%3F-instance_method" title="Rack::Request::Helpers#form_data? (method)">form_data?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_parseable_data?'><a href="#parseable_data%3F-instance_method" title="Rack::Request::Helpers#parseable_data? (method)">parseable_data?</a></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="../Multipart.html" title="Rack::Multipart (module)">Multipart</a></span>.<span class='id identifier rubyid_parse_multipart'><a href="../Multipart.html#parse_multipart-class_method" title="Rack::Multipart.parse_multipart (method)">parse_multipart</a></span>(<span class='id identifier rubyid_env'>env</span><span class='comma'>,</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="../Multipart.html" title="Rack::Multipart (module)">Multipart</a></span><span class='op'>::</span><span class='const'><a href="../Multipart/ParamList.html" title="Rack::Multipart::ParamList (class)">ParamList</a></span>)
        <span class='id identifier rubyid_set_header'>set_header</span> <span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_PAIRS-constant" title="Rack::RACK_REQUEST_FORM_PAIRS (constant)">RACK_REQUEST_FORM_PAIRS</a></span><span class='comma'>,</span> <span class='id identifier rubyid_pairs'>pairs</span>
      <span class='kw'>else</span>
        <span class='comment'># Add 2 bytes. One to check whether it is over the limit, and a second
</span>        <span class='comment'># in case the slice! call below removes the last byte
</span>        <span class='comment'># If read returns nil, use the empty string
</span>        <span class='id identifier rubyid_form_vars'>form_vars</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_INPUT-constant" title="Rack::RACK_INPUT (constant)">RACK_INPUT</a></span>).<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>.<span class='id identifier rubyid_bytesize_limit'>bytesize_limit</span> <span class='op'>+</span> <span class='int'>2</span>) <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

        <span class='comment'># Fix for Safari Ajax postings that always append \0
</span>        <span class='comment'># form_vars.sub!(/\0\z/, &#39;&#39;) # performance replacement:
</span>        <span class='id identifier rubyid_form_vars'>form_vars</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='op'>-</span><span class='int'>1</span>) <span class='kw'>if</span> <span class='id identifier rubyid_form_vars'>form_vars</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span>)

        <span class='id identifier rubyid_set_header'>set_header</span> <span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_VARS-constant" title="Rack::RACK_REQUEST_FORM_VARS (constant)">RACK_REQUEST_FORM_VARS</a></span><span class='comma'>,</span> <span class='id identifier rubyid_form_vars'>form_vars</span>
        <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>.<span class='id identifier rubyid_parse_query_pairs'>parse_query_pairs</span>(<span class='id identifier rubyid_form_vars'>form_vars</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span>)
        <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_PAIRS-constant" title="Rack::RACK_REQUEST_FORM_PAIRS (constant)">RACK_REQUEST_FORM_PAIRS</a></span><span class='comma'>,</span> <span class='id identifier rubyid_pairs'>pairs</span>)
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_PAIRS-constant" title="Rack::RACK_REQUEST_FORM_PAIRS (constant)">RACK_REQUEST_FORM_PAIRS</a></span><span class='comma'>,</span> [])
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_ERROR-constant" title="Rack::RACK_REQUEST_FORM_ERROR (constant)">RACK_REQUEST_FORM_ERROR</a></span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>)
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="forwarded_authority-instance_method">
  <h3 class='signature '>
    #<strong>forwarded_authority</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L398-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='398' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 398</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_forwarded_authority'>forwarded_authority</span>
  <span class='id identifier rubyid_forwarded_priority'><a href="#forwarded_priority-instance_method" title="Rack::Request::Helpers#forwarded_priority (method)">forwarded_priority</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_forwarded'>forwarded</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_forwarded'>forwarded</span> <span class='op'>=</span> <span class='id identifier rubyid_get_http_forwarded'><a href="#get_http_forwarded-instance_method" title="Rack::Request::Helpers#get_http_forwarded (method)">get_http_forwarded</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>)
        <span class='kw'>return</span> <span class='id identifier rubyid_forwarded'>forwarded</span>.<span class='id identifier rubyid_last'>last</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_x_forwarded'>x_forwarded</span>
      <span class='kw'>if</span> (<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="#HTTP_X_FORWARDED_HOST-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_HOST (constant)">HTTP_X_FORWARDED_HOST</a></span>)) <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_x_forwarded_host'>x_forwarded_host</span> <span class='op'>=</span> <span class='id identifier rubyid_split_header'><a href="#split_header-instance_method" title="Rack::Request::Helpers#split_header (method)">split_header</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_last'>last</span>)
        <span class='kw'>return</span> <span class='id identifier rubyid_wrap_ipv6'><a href="#wrap_ipv6-instance_method" title="Rack::Request::Helpers#wrap_ipv6 (method)">wrap_ipv6</a></span>(<span class='id identifier rubyid_x_forwarded_host'>x_forwarded_host</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="forwarded_for-instance_method">
  <h3 class='signature '>
    #<strong>forwarded_for</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L358-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='358' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 358</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_forwarded_for'>forwarded_for</span>
  <span class='id identifier rubyid_forwarded_priority'><a href="#forwarded_priority-instance_method" title="Rack::Request::Helpers#forwarded_priority (method)">forwarded_priority</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_forwarded'>forwarded</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_forwarded_for'>forwarded_for</span> <span class='op'>=</span> <span class='id identifier rubyid_get_http_forwarded'><a href="#get_http_forwarded-instance_method" title="Rack::Request::Helpers#get_http_forwarded (method)">get_http_forwarded</a></span>(<span class='symbeg'>:</span><span class='kw'>for</span>)
        <span class='kw'>return</span>(<span class='id identifier rubyid_forwarded_for'>forwarded_for</span>.<span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span><span class='op'>|</span>
          <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)[<span class='int'>1</span>]
        <span class='kw'>end</span>)
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_x_forwarded'>x_forwarded</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="#HTTP_X_FORWARDED_FOR-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_FOR (constant)">HTTP_X_FORWARDED_FOR</a></span>)
        <span class='kw'>return</span>(<span class='id identifier rubyid_split_header'><a href="#split_header-instance_method" title="Rack::Request::Helpers#split_header (method)">split_header</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span><span class='op'>|</span>
          <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='id identifier rubyid_wrap_ipv6'><a href="#wrap_ipv6-instance_method" title="Rack::Request::Helpers#wrap_ipv6 (method)">wrap_ipv6</a></span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>))[<span class='int'>1</span>]
        <span class='kw'>end</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="forwarded_port-instance_method">
  <h3 class='signature '>
    #<strong>forwarded_port</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L379-L396'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='379' data-end='396'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 379</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_forwarded_port'>forwarded_port</span>
  <span class='id identifier rubyid_forwarded_priority'><a href="#forwarded_priority-instance_method" title="Rack::Request::Helpers#forwarded_priority (method)">forwarded_priority</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_forwarded'>forwarded</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_forwarded'>forwarded</span> <span class='op'>=</span> <span class='id identifier rubyid_get_http_forwarded'><a href="#get_http_forwarded-instance_method" title="Rack::Request::Helpers#get_http_forwarded (method)">get_http_forwarded</a></span>(<span class='symbeg'>:</span><span class='kw'>for</span>)
        <span class='kw'>return</span>(<span class='id identifier rubyid_forwarded'>forwarded</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span><span class='op'>|</span>
          <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)[<span class='int'>2</span>]
        <span class='kw'>end</span>.<span class='id identifier rubyid_compact'>compact</span>)
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_x_forwarded'>x_forwarded</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="#HTTP_X_FORWARDED_PORT-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_PORT (constant)">HTTP_X_FORWARDED_PORT</a></span>)
        <span class='kw'>return</span> <span class='id identifier rubyid_split_header'><a href="#split_header-instance_method" title="Rack::Request::Helpers#split_header (method)">split_header</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_i'>to_i</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="forwarded_priority-instance_method">
  <h3 class='signature priv'>
    #<strong>forwarded_priority</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L774-L776'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='774' data-end='776'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 774</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_forwarded_priority'>forwarded_priority</span>
  <span class='const'><a href="../Request.html" title="Rack::Request (class)">Request</a></span>.<span class='id identifier rubyid_forwarded_priority'><a href="../Request.html#forwarded_priority-class_method" title="Rack::Request.forwarded_priority (method)">forwarded_priority</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="forwarded_scheme-instance_method">
  <h3 class='signature priv'>
    #<strong>forwarded_scheme</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L746-L768'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='746' data-end='768'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 746</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_forwarded_scheme'>forwarded_scheme</span>
  <span class='id identifier rubyid_forwarded_priority'><a href="#forwarded_priority-instance_method" title="Rack::Request::Helpers#forwarded_priority (method)">forwarded_priority</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_forwarded'>forwarded</span>
      <span class='kw'>if</span> (<span class='id identifier rubyid_forwarded_proto'>forwarded_proto</span> <span class='op'>=</span> <span class='id identifier rubyid_get_http_forwarded'><a href="#get_http_forwarded-instance_method" title="Rack::Request::Helpers#get_http_forwarded (method)">get_http_forwarded</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_proto'>proto</span>)) <span class='op'>&amp;&amp;</span>
         (<span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span> <span class='op'>=</span> <span class='id identifier rubyid_allowed_scheme'><a href="#allowed_scheme-instance_method" title="Rack::Request::Helpers#allowed_scheme (method)">allowed_scheme</a></span>(<span class='id identifier rubyid_forwarded_proto'>forwarded_proto</span>.<span class='id identifier rubyid_last'>last</span>))
        <span class='kw'>return</span> <span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_x_forwarded'>x_forwarded</span>
      <span class='id identifier rubyid_x_forwarded_proto_priority'><a href="#x_forwarded_proto_priority-instance_method" title="Rack::Request::Helpers#x_forwarded_proto_priority (method)">x_forwarded_proto_priority</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x_type'>x_type</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='const'><a href="#FORWARDED_SCHEME_HEADERS-constant" title="Rack::Request::Helpers::FORWARDED_SCHEME_HEADERS (constant)">FORWARDED_SCHEME_HEADERS</a></span>[<span class='id identifier rubyid_x_type'>x_type</span>]
          <span class='id identifier rubyid_split_header'><a href="#split_header-instance_method" title="Rack::Request::Helpers#split_header (method)">split_header</a></span>(<span class='id identifier rubyid_get_header'>get_header</span>(<span class='id identifier rubyid_header'>header</span>)).<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_allowed_scheme'><a href="#allowed_scheme-instance_method" title="Rack::Request::Helpers#allowed_scheme (method)">allowed_scheme</a></span>(<span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span>)
              <span class='kw'>return</span> <span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fullpath-instance_method">
  <h3 class='signature '>
    #<strong>fullpath</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L607-L609'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='607' data-end='609'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 607</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fullpath'>fullpath</span>
  <span class='id identifier rubyid_query_string'><a href="#query_string-instance_method" title="Rack::Request::Helpers#query_string (method)">query_string</a></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_path'><a href="#path-instance_method" title="Rack::Request::Helpers#path (method)">path</a></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'><a href="#path-instance_method" title="Rack::Request::Helpers#path (method)">path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query_string'><a href="#query_string-instance_method" title="Rack::Request::Helpers#query_string (method)">query_string</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="GET-instance_method">
  <h3 class='signature '>
    <strong>GET</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the data received in the query string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L491-L493'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='491' data-end='493'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 491</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>GET</span>
  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_QUERY_HASH-constant" title="Rack::RACK_REQUEST_QUERY_HASH (constant)">RACK_REQUEST_QUERY_HASH</a></span>) <span class='op'>||</span> <span class='id identifier rubyid_set_header'>set_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_QUERY_HASH-constant" title="Rack::RACK_REQUEST_QUERY_HASH (constant)">RACK_REQUEST_QUERY_HASH</a></span><span class='comma'>,</span> <span class='id identifier rubyid_parse_query'><a href="#parse_query-instance_method" title="Rack::Request::Helpers#parse_query (method)">parse_query</a></span>(<span class='id identifier rubyid_query_string'><a href="#query_string-instance_method" title="Rack::Request::Helpers#query_string (method)">query_string</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_http_forwarded-instance_method">
  <h3 class='signature priv'>
    #<strong>get_http_forwarded</strong>(token)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get an array of values set in the RFC 7239 <code>Forwarded</code> request header.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L665-L667'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='665' data-end='667'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 665</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_http_forwarded'>get_http_forwarded</span>(<span class='id identifier rubyid_token'>token</span>)
  <span class='const'><a href="../Utils.html" title="Rack::Utils (module)">Utils</a></span>.<span class='id identifier rubyid_forwarded_values'><a href="../Utils.html#forwarded_values-class_method" title="Rack::Utils.forwarded_values (method)">forwarded_values</a></span>(<span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="#HTTP_FORWARDED-constant" title="Rack::Request::Helpers::HTTP_FORWARDED (constant)">HTTP_FORWARDED</a></span>))<span class='op'>&amp;.</span><span class='op'>[]</span>(<span class='id identifier rubyid_token'>token</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="host-instance_method">
  <h3 class='signature '>
    #<strong>host</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a formatted host, suitable for being used in a URI.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L338-L340'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='338' data-end='340'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 338</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host'>host</span>
  <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='kw'>self</span>.<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)[<span class='int'>0</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="host_authority-instance_method">
  <h3 class='signature '>
    #<strong>host_authority</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <a href="../../Rack.html#HTTP_HOST-constant" title="Rack::HTTP_HOST (constant)">HTTP_HOST</a> header.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L323-L325'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='323' data-end='325'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host_authority'>host_authority</span>
  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#HTTP_HOST-constant" title="Rack::HTTP_HOST (constant)">HTTP_HOST</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="host_with_port-instance_method">
  <h3 class='signature '>
    #<strong>host_with_port</strong>(authority = self.authority)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L327-L335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='327' data-end='335'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 327</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host_with_port'>host_with_port</span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)
  <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span> <span class='op'>=</span> <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span> <span class='op'>==</span> <span class='const'><a href="#DEFAULT_PORTS-constant" title="Rack::Request::Helpers::DEFAULT_PORTS (constant)">DEFAULT_PORTS</a></span>[<span class='kw'>self</span>.<span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span>]
    <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hostname-instance_method">
  <h3 class='signature '>
    #<strong>hostname</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an address suitable for being to resolve to an address. In the case of a domain name or IPv4 address, the result is the same as <a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">#host</a>. In the case of IPv6 or future address formats, the square brackets are removed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L346-L348'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='346' data-end='348'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 346</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_hostname'>hostname</span>
  <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='kw'>self</span>.<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)[<span class='int'>1</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ip-instance_method">
  <h3 class='signature '>
    #<strong>ip</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L419-L440'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='419' data-end='440'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 419</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ip'>ip</span>
  <span class='id identifier rubyid_remote_addresses'>remote_addresses</span> <span class='op'>=</span> <span class='id identifier rubyid_split_header'><a href="#split_header-instance_method" title="Rack::Request::Helpers#split_header (method)">split_header</a></span>(<span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>REMOTE_ADDR</span><span class='tstring_end'>&#39;</span></span>))

  <span class='id identifier rubyid_remote_addresses'>remote_addresses</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ip'>ip</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_ip'>ip</span> <span class='kw'>unless</span> <span class='id identifier rubyid_trusted_proxy?'><a href="#trusted_proxy%3F-instance_method" title="Rack::Request::Helpers#trusted_proxy? (method)">trusted_proxy?</a></span>(<span class='id identifier rubyid_ip'>ip</span>)
  <span class='kw'>end</span>

  <span class='kw'>if</span> (<span class='id identifier rubyid_forwarded_for'><a href="#forwarded_for-instance_method" title="Rack::Request::Helpers#forwarded_for (method)">forwarded_for</a></span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_forwarded_for'><a href="#forwarded_for-instance_method" title="Rack::Request::Helpers#forwarded_for (method)">forwarded_for</a></span>) <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_forwarded_for'><a href="#forwarded_for-instance_method" title="Rack::Request::Helpers#forwarded_for (method)">forwarded_for</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='comment'># The forwarded for addresses are ordered: client, proxy1, proxy2.
</span>    <span class='comment'># So we reject all the trusted addresses (proxy*) and return the
</span>    <span class='comment'># last client. Or if we trust everyone, we just return the first
</span>    <span class='comment'># address.
</span>    <span class='id identifier rubyid_forwarded_for'><a href="#forwarded_for-instance_method" title="Rack::Request::Helpers#forwarded_for (method)">forwarded_for</a></span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ip'>ip</span><span class='op'>|</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_ip'>ip</span> <span class='kw'>unless</span> <span class='id identifier rubyid_trusted_proxy?'><a href="#trusted_proxy%3F-instance_method" title="Rack::Request::Helpers#trusted_proxy? (method)">trusted_proxy?</a></span>(<span class='id identifier rubyid_ip'>ip</span>)
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_forwarded_for'><a href="#forwarded_for-instance_method" title="Rack::Request::Helpers#forwarded_for (method)">forwarded_for</a></span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>

  <span class='comment'># If all the addresses are trusted, and we aren&#39;t forwarded, just return
</span>  <span class='comment'># the first remote address, which represents the source of the request.
</span>  <span class='id identifier rubyid_remote_addresses'>remote_addresses</span>.<span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logger-instance_method">
  <h3 class='signature '>
    #<strong>logger</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L205-L205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='205' data-end='205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 205</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span><span class='semicolon'>;</span>          <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_LOGGER-constant" title="Rack::RACK_LOGGER (constant)">RACK_LOGGER</a></span>)                        <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="media_type-instance_method">
  <h3 class='signature '>
    #<strong>media_type</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The media type (type/subtype) portion of the <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> header without any media type parameters. e.g., when <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> is “text/plain;charset=utf-8”, the media-type is “text/plain”.</p>

<p>For more information on the use of media types in HTTP, see: <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7">www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L448-L450'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='448' data-end='450'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 448</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_media_type'>media_type</span>
  <span class='const'><a href="../MediaType.html" title="Rack::MediaType (class)">MediaType</a></span>.<span class='id identifier rubyid_type'><a href="../MediaType.html#type-class_method" title="Rack::MediaType.type (method)">type</a></span>(<span class='id identifier rubyid_content_type'><a href="#content_type-instance_method" title="Rack::Request::Helpers#content_type (method)">content_type</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="media_type_params-instance_method">
  <h3 class='signature '>
    #<strong>media_type_params</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The media type parameters provided in <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> as a Hash, or an empty Hash if no <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> or media-type parameters were provided.  e.g., when the <a href="../../Rack.html#CONTENT_TYPE-constant" title="Rack::CONTENT_TYPE (constant)">CONTENT_TYPE</a> is “text/plain;charset=utf-8”, this method responds with the following Hash:</p>

<pre class="code ruby"><code class="ruby">{ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>charset</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span> }</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L457-L459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='457' data-end='459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_media_type_params'>media_type_params</span>
  <span class='const'><a href="../MediaType.html" title="Rack::MediaType (class)">MediaType</a></span>.<span class='id identifier rubyid_params'><a href="../MediaType.html#params-class_method" title="Rack::MediaType.params (method)">params</a></span>(<span class='id identifier rubyid_content_type'><a href="#content_type-instance_method" title="Rack::Request::Helpers#content_type (method)">content_type</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="params-instance_method">
  <h3 class='signature '>
    #<strong>params</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The union of <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> and <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a> data.</p>

<p>Note that modifications will not be persisted in the env. Use update_param or delete_param if you want to destructively modify params.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L556-L558'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='556' data-end='558'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 556</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_params'>params</span>
  <span class='kw'>self</span>.<span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='kw'>self</span>.<span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_http_accept_header-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_http_accept_header</strong>(header)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L641-L662'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='641' data-end='662'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 641</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_http_accept_header'>parse_http_accept_header</span>(<span class='id identifier rubyid_header'>header</span>)
  <span class='comment'># It would be nice to use filter_map here, but it&#39;s Ruby 2.7+
</span>  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='id identifier rubyid_header'>header</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span>)

  <span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
    <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_strip!'>strip!</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_attribute'>attribute</span><span class='comma'>,</span> <span class='id identifier rubyid_parameters'>parameters</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='id identifier rubyid_attribute'>attribute</span>.<span class='id identifier rubyid_strip!'>strip!</span>
    <span class='id identifier rubyid_parameters'>parameters</span><span class='op'>&amp;.</span><span class='id identifier rubyid_strip!'>strip!</span>
    <span class='id identifier rubyid_quality'>quality</span> <span class='op'>=</span> <span class='float'>1.0</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_parameters'>parameters</span> <span class='kw'>and</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Aq=([\d.]+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_parameters'>parameters</span>
      <span class='id identifier rubyid_quality'>quality</span> <span class='op'>=</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_to_f'>to_f</span>
    <span class='kw'>end</span>
    [<span class='id identifier rubyid_attribute'>attribute</span><span class='comma'>,</span> <span class='id identifier rubyid_quality'>quality</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_compact!'>compact!</span>

  <span class='id identifier rubyid_parts'>parts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_multipart-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_multipart</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L677-L680'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='677' data-end='680'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 677</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_multipart'>parse_multipart</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rack::Request#parse_multipart is deprecated and will be removed in a future version of Rack.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>uplevel:</span> <span class='int'>1</span>
  <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="../Multipart.html" title="Rack::Multipart (module)">Multipart</a></span>.<span class='id identifier rubyid_extract_multipart'><a href="../Multipart.html#extract_multipart-class_method" title="Rack::Multipart.extract_multipart (method)">extract_multipart</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_query-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_query</strong>(qs, d = &#39;&amp;&#39;)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L673-L675'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='673' data-end='675'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 673</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_query'>parse_query</span>(<span class='id identifier rubyid_qs'>qs</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_query_parser'><a href="#query_parser-instance_method" title="Rack::Request::Helpers#query_parser (method)">query_parser</a></span>.<span class='id identifier rubyid_parse_nested_query'>parse_nested_query</span>(<span class='id identifier rubyid_qs'>qs</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path-instance_method">
  <h3 class='signature '>
    #<strong>path</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L603-L605'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='603' data-end='605'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 603</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_script_name'><a href="#script_name-instance_method" title="Rack::Request::Helpers#script_name (method)">script_name</a></span> <span class='op'>+</span> <span class='id identifier rubyid_path_info'><a href="#path_info-instance_method" title="Rack::Request::Helpers#path_info (method)">path_info</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="port-instance_method">
  <h3 class='signature '>
    #<strong>port</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L350-L356'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='350' data-end='356'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 350</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_split_authority'><a href="#split_authority-instance_method" title="Rack::Request::Helpers#split_authority (method)">split_authority</a></span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_port'>port</span> <span class='op'>||</span> <span class='id identifier rubyid_forwarded_port'><a href="#forwarded_port-instance_method" title="Rack::Request::Helpers#forwarded_port (method)">forwarded_port</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>||</span> <span class='const'><a href="#DEFAULT_PORTS-constant" title="Rack::Request::Helpers::DEFAULT_PORTS (constant)">DEFAULT_PORTS</a></span>[<span class='id identifier rubyid_scheme'><a href="#scheme-instance_method" title="Rack::Request::Helpers#scheme (method)">scheme</a></span>] <span class='op'>||</span> <span class='id identifier rubyid_server_port'><a href="#server_port-instance_method" title="Rack::Request::Helpers#server_port (method)">server_port</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="POST-instance_method">
  <h3 class='signature '>
    <strong>POST</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the data received in the request body.</p>

<p>This method support both application/x-www-form-urlencoded and multipart/form-data.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L542-L551'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='542' data-end='551'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 542</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>POST</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_form_hash'>form_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_HASH-constant" title="Rack::RACK_REQUEST_FORM_HASH (constant)">RACK_REQUEST_FORM_HASH</a></span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_form_hash'>form_hash</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_ERROR-constant" title="Rack::RACK_REQUEST_FORM_ERROR (constant)">RACK_REQUEST_FORM_ERROR</a></span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>cause:</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_cause'>cause</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_form_pairs'><a href="#form_pairs-instance_method" title="Rack::Request::Helpers#form_pairs (method)">form_pairs</a></span>
  <span class='id identifier rubyid_set_header'>set_header</span> <span class='const'><a href="../../Rack.html#RACK_REQUEST_FORM_HASH-constant" title="Rack::RACK_REQUEST_FORM_HASH (constant)">RACK_REQUEST_FORM_HASH</a></span><span class='comma'>,</span> <span class='id identifier rubyid_expand_param_pairs'><a href="#expand_param_pairs-instance_method" title="Rack::Request::Helpers#expand_param_pairs (method)">expand_param_pairs</a></span>(<span class='id identifier rubyid_pairs'>pairs</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="query_string-instance_method">
  <h3 class='signature '>
    #<strong>query_string</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L203-L203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_query_string'>query_string</span><span class='semicolon'>;</span>    <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#QUERY_STRING-constant" title="Rack::QUERY_STRING (constant)">QUERY_STRING</a></span>).<span class='id identifier rubyid_to_s'>to_s</span>                  <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="referer-instance_method">
  <h3 class='signature '>
    #<strong>referer</strong>  
    <span class='aliases'>Also known as: <span class='names'>#referrer</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>the referer of the client</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L209-L209'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='209' data-end='209'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 209</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_referer'>referer</span><span class='semicolon'>;</span>         <span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_REFERER</span><span class='tstring_end'>&#39;</span></span>)                     <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="referrer-instance_method">
  <h3 class='signature '>
    #<strong>referrer</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#referer-instance_method" title="Rack::Request::Helpers#referer (method)">#referer</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L210-L210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='210' data-end='210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 210</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_referrer'>referrer</span> <span class='id identifier rubyid_referer'><a href="#referer-instance_method" title="Rack::Request::Helpers#referer (method)">referer</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="request_method-instance_method">
  <h3 class='signature '>
    #<strong>request_method</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L202-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='202' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 202</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_request_method'>request_method</span><span class='semicolon'>;</span>  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#REQUEST_METHOD-constant" title="Rack::REQUEST_METHOD (constant)">REQUEST_METHOD</a></span>)                     <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scheme-instance_method">
  <h3 class='signature '>
    #<strong>scheme</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L254-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='254' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scheme'>scheme</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#HTTPS-constant" title="Rack::HTTPS (constant)">HTTPS</a></span>) <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>on</span><span class='tstring_end'>&#39;</span></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="#HTTP_X_FORWARDED_SSL-constant" title="Rack::Request::Helpers::HTTP_X_FORWARDED_SSL (constant)">HTTP_X_FORWARDED_SSL</a></span>) <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>on</span><span class='tstring_end'>&#39;</span></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_forwarded_scheme'><a href="#forwarded_scheme-instance_method" title="Rack::Request::Helpers#forwarded_scheme (method)">forwarded_scheme</a></span>
    <span class='id identifier rubyid_forwarded_scheme'><a href="#forwarded_scheme-instance_method" title="Rack::Request::Helpers#forwarded_scheme (method)">forwarded_scheme</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#RACK_URL_SCHEME-constant" title="Rack::RACK_URL_SCHEME (constant)">RACK_URL_SCHEME</a></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="server_authority-instance_method">
  <h3 class='signature '>
    #<strong>server_authority</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The authority as defined by the <a href="../../Rack.html#SERVER_NAME-constant" title="Rack::SERVER_NAME (constant)">SERVER_NAME</a> and <a href="../../Rack.html#SERVER_PORT-constant" title="Rack::SERVER_PORT (constant)">SERVER_PORT</a> variables.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L277-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='277' data-end='288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 277</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_server_authority'>server_authority</span>
  <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_server_name'><a href="#server_name-instance_method" title="Rack::Request::Helpers#server_name (method)">server_name</a></span>
  <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_server_port'><a href="#server_port-instance_method" title="Rack::Request::Helpers#server_port (method)">server_port</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="server_name-instance_method">
  <h3 class='signature '>
    #<strong>server_name</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L290-L292'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='290' data-end='292'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 290</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_server_name'>server_name</span>
  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#SERVER_NAME-constant" title="Rack::SERVER_NAME (constant)">SERVER_NAME</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="server_port-instance_method">
  <h3 class='signature '>
    #<strong>server_port</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L294-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='294' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_server_port'>server_port</span>
  <span class='id identifier rubyid_get_header'>get_header</span>(<span class='const'><a href="../../Rack.html#SERVER_PORT-constant" title="Rack::SERVER_PORT (constant)">SERVER_PORT</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="session-instance_method">
  <h3 class='signature '>
    #<strong>session</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L212-L216'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='212' data-end='216'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_session'>session</span>
  <span class='id identifier rubyid_fetch_header'>fetch_header</span>(<span class='const'><a href="../../Rack.html#RACK_SESSION-constant" title="Rack::RACK_SESSION (constant)">RACK_SESSION</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_set_header'>set_header</span> <span class='const'><a href="../../Rack.html#RACK_SESSION-constant" title="Rack::RACK_SESSION (constant)">RACK_SESSION</a></span><span class='comma'>,</span> <span class='id identifier rubyid_default_session'><a href="#default_session-instance_method" title="Rack::Request::Helpers#default_session (method)">default_session</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="session_options-instance_method">
  <h3 class='signature '>
    #<strong>session_options</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L218-L222'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='218' data-end='222'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 218</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_session_options'>session_options</span>
  <span class='id identifier rubyid_fetch_header'>fetch_header</span>(<span class='const'><a href="../../Rack.html#RACK_SESSION_OPTIONS-constant" title="Rack::RACK_SESSION_OPTIONS (constant)">RACK_SESSION_OPTIONS</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_set_header'>set_header</span> <span class='const'><a href="../../Rack.html#RACK_SESSION_OPTIONS-constant" title="Rack::RACK_SESSION_OPTIONS (constant)">RACK_SESSION_OPTIONS</a></span><span class='comma'>,</span> {}
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split_authority-instance_method">
  <h3 class='signature priv'>
    #<strong>split_authority</strong>(authority)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L735-L739'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='735' data-end='739'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 735</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split_authority'>split_authority</span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> [] <span class='kw'>unless</span> <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='const'><a href="#AUTHORITY-constant" title="Rack::Request::Helpers::AUTHORITY (constant)">AUTHORITY</a></span>.<span class='id identifier rubyid_match'>match</span>(<span class='id identifier rubyid_authority'><a href="#authority-instance_method" title="Rack::Request::Helpers#authority (method)">authority</a></span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_match'>match</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>]<span class='comma'>,</span> <span class='id identifier rubyid_match'>match</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_address'>address</span>]<span class='comma'>,</span> <span class='id identifier rubyid_match'>match</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Rack::Request::Helpers#port (method)">port</a></span>]<span class='op'>&amp;.</span><span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split_header-instance_method">
  <h3 class='signature priv'>
    #<strong>split_header</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L692-L694'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='692' data-end='694'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 692</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split_header'>split_header</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_value'>value</span> <span class='op'>?</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_strip'>strip</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[, \t]+</span><span class='regexp_end'>/</span></span>) <span class='op'>:</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="trusted_proxy?-instance_method">
  <h3 class='signature '>
    #<strong>trusted_proxy?</strong>(ip)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L619-L621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='619' data-end='621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_trusted_proxy?'>trusted_proxy?</span>(<span class='id identifier rubyid_ip'><a href="#ip-instance_method" title="Rack::Request::Helpers#ip (method)">ip</a></span>)
  <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'><a href="../Request.html" title="Rack::Request (class)">Request</a></span>.<span class='id identifier rubyid_ip_filter'><a href="../Request.html#ip_filter-class_method" title="Rack::Request.ip_filter (method)">ip_filter</a></span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_ip'><a href="#ip-instance_method" title="Rack::Request::Helpers#ip (method)">ip</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update_param-instance_method">
  <h3 class='signature '>
    #<strong>update_param</strong>(k, v)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Destructively update a parameter, whether it’s in <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a> and/or <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>. Returns nil.</p>

<p>The parameter is updated wherever it was previous defined, so <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a>, <a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">#POST</a>, or both. If it wasn’t previously defined, it’s inserted into <a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">#GET</a>.</p>

<p><code>env[&#39;rack.input&#39;]</code> is not touched.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L569-L582'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='569' data-end='582'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 569</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_update_param'>update_param</span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)
  <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='kw'>self</span>.<span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='id identifier rubyid_k'>k</span>)
    <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>self</span>.<span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='kw'>self</span>.<span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='id identifier rubyid_k'>k</span>)
    <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>self</span>.<span class='const'><a href="#POST-instance_method" title="Rack::Request::Helpers#POST (method)">POST</a></span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_found'>found</span>
    <span class='kw'>self</span>.<span class='const'><a href="#GET-instance_method" title="Rack::Request::Helpers#GET (method)">GET</a></span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="url-instance_method">
  <h3 class='signature '>
    #<strong>url</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Tries to return a remake of the original request URL as a string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L599-L601'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='599' data-end='601'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 599</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_url'>url</span>
  <span class='id identifier rubyid_base_url'><a href="#base_url-instance_method" title="Rack::Request::Helpers#base_url (method)">base_url</a></span> <span class='op'>+</span> <span class='id identifier rubyid_fullpath'><a href="#fullpath-instance_method" title="Rack::Request::Helpers#fullpath (method)">fullpath</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="user_agent-instance_method">
  <h3 class='signature '>
    #<strong>user_agent</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L206-L206'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='206' data-end='206'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 206</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_user_agent'>user_agent</span><span class='semicolon'>;</span>      <span class='id identifier rubyid_get_header'>get_header</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_USER_AGENT</span><span class='tstring_end'>&#39;</span></span>)                  <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wrap_ipv6-instance_method">
  <h3 class='signature priv'>
    #<strong>wrap_ipv6</strong>(host)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Assist with compatibility when processing <code>X-Forwarded-For</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L628-L639'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='628' data-end='639'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 628</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wrap_ipv6'>wrap_ipv6</span>(<span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>)
  <span class='comment'># Even thought IPv6 addresses should be wrapped in square brackets,
</span>  <span class='comment'># sometimes this is not done in various legacy/underspecified headers.
</span>  <span class='comment'># So we try to fix this situation for compatibility reasons.
</span>
  <span class='comment'># Try to detect IPv6 addresses which aren&#39;t escaped yet:
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>.<span class='id identifier rubyid_count'>count</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_host'><a href="#host-instance_method" title="Rack::Request::Helpers#host (method)">host</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="x_forwarded_proto_priority-instance_method">
  <h3 class='signature priv'>
    #<strong>x_forwarded_proto_priority</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rack/rack/blob/main/lib/rack/request.rb#L778-L780'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='778' data-end='780'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rack/request.rb', line 778</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_x_forwarded_proto_priority'>x_forwarded_proto_priority</span>
  <span class='const'><a href="../Request.html" title="Rack::Request (class)">Request</a></span>.<span class='id identifier rubyid_x_forwarded_proto_priority'><a href="../Request.html#x_forwarded_proto_priority-class_method" title="Rack::Request.x_forwarded_proto_priority (method)">x_forwarded_proto_priority</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>