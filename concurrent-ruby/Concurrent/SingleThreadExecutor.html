<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Concurrent::SingleThreadExecutor &mdash; Concurrent Ruby master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Concurrent::SingleThreadExecutor",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Concurrent</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SingleThreadExecutor&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Concurrent::SingleThreadExecutor</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">Concurrent::SingleThreadExecutorImplementation</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'>Concurrent::SingleThreadExecutor</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37'>lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A thread pool with a single thread an unlimited queue. Should the thread die for any reason it will be removed and replaced, thus ensuring that the executor will always remain viable and available to process jobs.</p>

<p>A common pattern for background processing is to create a single thread on which an infinite loop is run. The thread’s loop blocks on an input source (perhaps blocking I/O or a queue) and processes each input as it is received. This pattern has several issues. The thread itself is highly susceptible to errors during processing. Also, the thread itself must be constantly monitored and restarted should it die. <code>SingleThreadExecutor</code> encapsulates all these behaviors. The task processor is highly resilient to errors from within tasks. Also, should the thread die it will automatically be restarted.</p>

<p>The API and behavior of this class are based on Java’s <code>SingleThreadExecutor</code>.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#fallback_policy-instance_method" title="#fallback_policy (instance method)">#<strong>fallback_policy</strong>  &#x21d2; Symbol </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(task)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div>
    </div>
  </li>
  <li class='deprecated'>
    <span class='summary_signature deprecated'>
      <a href="#auto_terminate=-instance_method" title="#auto_terminate= (instance method)">#<strong>auto_terminate=</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <span class='deprecated note title'>deprecated</span>
    <span class='summary_desc'><strong>Deprecated.</strong>
      <div class='inline'>
<p>Has no effect</p>
</div>    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#auto_terminate%3F-instance_method" title="#auto_terminate? (instance method)">#<strong>auto_terminate?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor auto-terminate when the application exits?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#can_overflow%3F-instance_method" title="#can_overflow? (instance method)">#<strong>can_overflow?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does the task queue have a maximum size?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kill-instance_method" title="#kill (instance method)">#<strong>kill</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Begin an immediate shutdown.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#post-instance_method" title="#post (instance method)">#<strong>post</strong>(*args) { ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#running%3F-instance_method" title="#running? (instance method)">#<strong>running?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor running?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#serialized%3F-instance_method" title="#serialized? (instance method)">#<strong>serialized?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does this executor guarantee serialization of its operations?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Begin an orderly shutdown.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shutdown%3F-instance_method" title="#shutdown? (instance method)">#<strong>shutdown?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor shutdown?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shuttingdown%3F-instance_method" title="#shuttingdown? (instance method)">#<strong>shuttingdown?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor shuttingdown?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait_for_termination-instance_method" title="#wait_for_termination (instance method)">#<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block until executor shutdown is complete or until <code>timeout</code> seconds have passed.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="fallback_policy-instance_method">
  <h3 class='signature ro first'>
    #<strong>fallback_policy</strong>  &#x21d2; <code>Symbol</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>The fallback policy in effect. Either <code>:abort</code>, <code>:discard</code>, or <code>:caller_runs</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(task)  &#x21d2; <code>self</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Submit a task to the executor for asynchronous processing.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>task</span>
    <span class='type'>(<code>Proc</code>)</span>
&mdash;    <div class='inline'>
<p>the asynchronous task to perform</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>self</code>)</span>
&mdash;    <div class='inline'>
<p>returns itself</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auto_terminate=-instance_method">
  <h3 class='signature deprecated'>
    #<strong>auto_terminate=</strong>(value)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>Has no effect</p>
</div></div>

<p><a href="Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the auto-terminate behavior for this executor.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>The new auto-terminate value to set for this executor.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auto_terminate?-instance_method">
  <h3 class='signature '>
    #<strong>auto_terminate?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor auto-terminate when the application exits?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="can_overflow?-instance_method">
  <h3 class='signature '>
    #<strong>can_overflow?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does the task queue have a maximum size?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>True if the task queue has a maximum size else false.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kill-instance_method">
  <h3 class='signature '>
    #<strong>kill</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Begin an immediate shutdown. In-progress tasks will be allowed to complete but enqueued tasks will be dismissed and no new tasks will be accepted. Has no additional effect if the thread pool is not running.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="post-instance_method">
  <h3 class='signature '>
    #<strong>post</strong>(*args) { ... } &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Submit a task to the executor for asynchronous processing.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="Array.html" title="Concurrent::Array (class)">Array</a>)</span>
&mdash;    <div class='inline'>
<p>zero or more arguments to be passed to the task</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>the asynchronous task to perform</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> if the task is queued, <code>false</code> if the executor is not running</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'>
<p>if no task is given</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="running?-instance_method">
  <h3 class='signature '>
    #<strong>running?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor running?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when running, <code>false</code> when shutting down or shutdown</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="serialized?-instance_method">
  <h3 class='signature '>
    #<strong>serialized?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does this executor guarantee serialization of its operations?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>True if the executor guarantees that all operations will be post in the order they are received and no two operations may occur simultaneously. Else false.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown-instance_method">
  <h3 class='signature '>
    #<strong>shutdown</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Begin an orderly shutdown. Tasks already in the queue will be executed, but no new tasks will be accepted. Has no additional effect if the thread pool is not running.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown?-instance_method">
  <h3 class='signature '>
    #<strong>shutdown?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor shutdown?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when shutdown, <code>false</code> when shutting down or running</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shuttingdown?-instance_method">
  <h3 class='signature '>
    #<strong>shuttingdown?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor shuttingdown?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when not running and not shutdown, else <code>false</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_for_termination-instance_method">
  <h3 class='signature '>
    #<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Does not initiate shutdown or termination. Either <a href="#shutdown-instance_method" title="Concurrent::SingleThreadExecutor#shutdown (method)">#shutdown</a> or <a href="#kill-instance_method" title="Concurrent::SingleThreadExecutor#kill (method)">#kill</a> must be called before this method (or on another thread).</p>
</div>
  </div>


<p>Block until executor shutdown is complete or until <code>timeout</code> seconds have passed.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>timeout</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the maximum number of seconds to wait for shutdown to complete</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> if shutdown complete or false on <code>timeout</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb#L37-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/single_thread_executor.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>SingleThreadExecutor</span> <span class='op'>&lt;</span> <span class='const'><a href="../Concurrent.html#SingleThreadExecutorImplementation-constant" title="Concurrent::SingleThreadExecutorImplementation (constant)">SingleThreadExecutorImplementation</a></span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>