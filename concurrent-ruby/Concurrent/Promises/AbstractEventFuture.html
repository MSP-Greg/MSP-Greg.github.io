<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Concurrent::Promises::AbstractEventFuture &mdash; Concurrent RubyÂ master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Concurrent::Promises::AbstractEventFuture",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Concurrent</a> &raquo; 
      <a href='../../_index.html#alpha_A'>Index (A)</a> &raquo; 
        <a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a> &raquo; 
        <a href="../Promises.html" title="Concurrent::Promises (module)">Promises</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>AbstractEventFuture&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Concurrent::Promises::AbstractEventFuture</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="Event.html" title="Concurrent::Promises::Event (class)">Event</a>, <a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a>, <a href="ResolvableEvent.html" title="Concurrent::Promises::ResolvableEvent (class)">ResolvableEvent</a>, <a href="ResolvableFuture.html" title="Concurrent::Promises::ResolvableFuture (class)">ResolvableFuture</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)"><code>Synchronization::Object</code></a>,
          <a href="../Synchronization/AbstractObject.html" title="Concurrent::Synchronization::AbstractObject (class)"><code>Synchronization::AbstractObject</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="InternalStates.html" title="Concurrent::Promises::InternalStates (module)"><code>InternalStates</code></a>,
          <a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)"><code>Synchronization::Object</code></a>,
          <a href="../Synchronization/Volatile.html" title="Concurrent::Synchronization::Volatile (module)"><code>Synchronization::Volatile</code></a>,
          <a href="../Synchronization/AbstractObject.html" title="Concurrent::Synchronization::AbstractObject (class)"><code>Synchronization::AbstractObject</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)">Concurrent::Synchronization::Object</a></span>
        <ul class='fullTree'>
          <li><a href="../../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="../Synchronization/AbstractObject.html" title="Concurrent::Synchronization::AbstractObject (class)">Concurrent::Synchronization::AbstractObject</a></li>
          <li class='next'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)">Concurrent::Synchronization::Object</a></li>
          <li class='next'>Concurrent::Promises::AbstractEventFuture</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L513'>lib/concurrent-ruby/concurrent/promises.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Common ancestor of <a href="Event.html" title="Concurrent::Promises::Event (class)"><code>Event</code></a> and <a href="Future.html" title="Concurrent::Promises::Future (class)"><code>Future</code></a> classes, many shared methods are defined here.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="InternalStates.html" title="Concurrent::Promises::InternalStates (module)"><code>InternalStates</code></a> - Included</h3>
  <p  class='inherited'>
    <a class='priv ' href="InternalStates.html#PENDING-constant" title="Concurrent::Promises::InternalStates::PENDING (constant)">PENDING</a>, 
    <a class='priv ' href="InternalStates.html#RESERVED-constant" title="Concurrent::Promises::InternalStates::RESERVED (constant)">RESERVED</a>, 
    <a class='priv ' href="InternalStates.html#RESOLVED-constant" title="Concurrent::Promises::InternalStates::RESOLVED (constant)">RESOLVED</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)"><code>Synchronization::Object</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../Synchronization/Object.html#safe_initialization%3F-class_method" title="Concurrent::Synchronization::Object.safe_initialization? (method)">.safe_initialization?</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(promise, default_executor)  &#x21d2; AbstractEventFuture </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)"><code>Synchronization::Object</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Synchronization/Object.html#atomic_attribute%3F-class_method" title="Concurrent::Synchronization::Object.atomic_attribute? (method)">.atomic_attribute?</a>,
        <a class='i_m ' href="../Synchronization/Object.html#atomic_attributes-class_method" title="Concurrent::Synchronization::Object.atomic_attributes (method)">.atomic_attributes</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Synchronization/Object.html#attr_atomic-class_method" title="Concurrent::Synchronization::Object.attr_atomic (method)">.attr_atomic</a></td>
      <td><div class='inline'><p>Creates methods for reading and writing to a instance variable with volatile (Java) semantic as <code>.attr_volatile</code> does.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Synchronization/Object.html#attr_volatile-class_method" title="Concurrent::Synchronization::Object.attr_volatile (method)">.attr_volatile</a></td>
      <td><div class='inline'><p>Creates methods for reading and writing (as <code>attr_accessor</code> does) to a instance variable with volatile (Java) semantic.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Synchronization/Object.html#ensure_safe_initialization_when_final_fields_are_present-class_method" title="Concurrent::Synchronization::Object.ensure_safe_initialization_when_final_fields_are_present (method)">.ensure_safe_initialization_when_final_fields_are_present</a></td>
      <td><div class='inline'><p>For testing purposes, quite slow.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Synchronization/Object.html#new-class_method" title="Concurrent::Synchronization::Object.new (method)">.new</a></td>
      <td><div class='inline'><p>Has to be called by children.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Synchronization/Object.html#safe_initialization!-class_method" title="Concurrent::Synchronization::Object.safe_initialization! (method)">.safe_initialization!</a>,
        <a class='i_m priv' href="../Synchronization/Object.html#define_initialize_atomic_fields-class_method" title="Concurrent::Synchronization::Object.define_initialize_atomic_fields (method)">.define_initialize_atomic_fields</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Synchronization/AbstractObject.html" title="Concurrent::Synchronization::AbstractObject (class)"><code>Synchronization::AbstractObject</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Synchronization/AbstractObject.html#attr_volatile-class_method" title="Concurrent::Synchronization::AbstractObject.attr_volatile (method)">.attr_volatile</a>,
        <a class='i_m ' href="../Synchronization/AbstractObject.html#new-class_method" title="Concurrent::Synchronization::AbstractObject.new (method)">.new</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#pending%3F-instance_method" title="#pending? (instance method)">#<strong>pending?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is it in pending state?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#resolved%3F-instance_method" title="#resolved? (instance method)">#<strong>resolved?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is it in resolved state?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#touched%3F-instance_method" title="#touched? (instance method)">#<strong>touched?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>For inspection.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#chain-instance_method" title="#chain (instance method)">#<strong>chain</strong>(*args, &amp;task)  &#x21d2; Future </a>
      (also: #then)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shortcut of <a href="#chain_on-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_on (method)">#chain_on</a> with default <code>:io</code> executor supplied.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chain_on-instance_method" title="#an_event.chain_on (instance method)">#<strong>an_event.chain_on</strong>(executor, *args) {|*args| ... } &#x21d2; Future </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Chains the task to be executed asynchronously on executor after it is resolved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chain_resolvable-instance_method" title="#chain_resolvable (instance method)">#<strong>chain_resolvable</strong>(resolvable)  &#x21d2; self </a>
      (also: #tangle)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resolves the resolvable when receiver is resolved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_executor-instance_method" title="#default_executor (instance method)">#<strong>default_executor</strong>  &#x21d2; Executor </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns default executor.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="Concurrent::Promises::AbstractEventFuture#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#internal_state-instance_method" title="#internal_state (instance method)">#<strong>internal_state</strong>  &#x21d2; Object </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_resolution-instance_method" title="#on_resolution (instance method)">#<strong>on_resolution</strong>(*args, &amp;callback)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shortcut of <a href="#on_resolution_using-instance_method" title="Concurrent::Promises::AbstractEventFuture#on_resolution_using (method)">#on_resolution_using</a> with default <code>:io</code> executor supplied.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_resolution!-instance_method" title="#an_event.on_resolution! (instance method)">#<strong>an_event.on_resolution!</strong>(*args) {|*args| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Stores the callback to be executed synchronously on resolving thread after it is resolved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_resolution_using-instance_method" title="#an_event.on_resolution_using (instance method)">#<strong>an_event.on_resolution_using</strong>(executor, *args) {|*args| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Stores the callback to be executed asynchronously on executor after it is resolved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#state-instance_method" title="#an_event.state (instance method)">#<strong>an_event.state</strong>  &#x21d2; :pending, :resolved </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns its state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tangle-instance_method" title="#tangle (instance method)">#<strong>tangle</strong>(resolvable)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#chain_resolvable-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_resolvable (method)">#chain_resolvable</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #inspect)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#touch-instance_method" title="#touch (instance method)">#<strong>touch</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Propagates touch.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait-instance_method" title="#wait (instance method)">#<strong>wait</strong>(timeout = nil)  &#x21d2; self, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Wait (block the Thread) until receiver is <a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">#resolved?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#with_default_executor-instance_method" title="#with_default_executor (instance method)">#<strong>with_default_executor</strong>(executor)  &#x21d2; AbstractEventFuture </a>
    </span>
    <span class='abstract note title'>abstract</span>
    <div class='summary_desc'>
      <div class='inline'><p>Crates new object with same class with the executor set as its new default executor.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#add_callback-instance_method" title="#add_callback (instance method)">#<strong>add_callback</strong>(method, *args)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#add_callback_clear_delayed_node-instance_method" title="#add_callback_clear_delayed_node (instance method)">#<strong>add_callback_clear_delayed_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#add_callback_notify_blocked-instance_method" title="#add_callback_notify_blocked (instance method)">#<strong>add_callback_notify_blocked</strong>(promise, index)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#async_callback_on_resolution-instance_method" title="#async_callback_on_resolution (instance method)">#<strong>async_callback_on_resolution</strong>(state, executor, args, callback)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#blocks-instance_method" title="#blocks (instance method)">#<strong>blocks</strong>  &#x21d2; Array&lt;AbstractPromise&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>For inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#call_callback-instance_method" title="#call_callback (instance method)">#<strong>call_callback</strong>(method, state, args)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#call_callbacks-instance_method" title="#call_callbacks (instance method)">#<strong>call_callbacks</strong>(state)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#callback_clear_delayed_node-instance_method" title="#callback_clear_delayed_node (instance method)">#<strong>callback_clear_delayed_node</strong>(state, node)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#callback_notify_blocked-instance_method" title="#callback_notify_blocked (instance method)">#<strong>callback_notify_blocked</strong>(state, promise, index)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#callbacks-instance_method" title="#callbacks (instance method)">#<strong>callbacks</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>For inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compare_and_set_internal_state-instance_method" title="#compare_and_set_internal_state (instance method)">#<strong>compare_and_set_internal_state</strong>(expected_internal_state, new_internal_state)  &#x21d2; true, false </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the internal_state to new_internal_state if the current internal_state is expected_internal_state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#internal_state=-instance_method" title="#internal_state= (instance method)">#<strong>internal_state=</strong>(new_internal_state)  &#x21d2; Object </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="../Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the internal_state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#promise-instance_method" title="#promise (instance method)">#<strong>promise</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>For inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#resolve_with-instance_method" title="#resolve_with (instance method)">#<strong>resolve_with</strong>(state, raise_on_reassign = true, reserved = false)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#swap_internal_state-instance_method" title="#swap_internal_state (instance method)">#<strong>swap_internal_state</strong>(new_internal_state)  &#x21d2; Object </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="../Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the internal_state to new_internal_state and return the old internal_state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#update_internal_state-instance_method" title="#update_internal_state (instance method)">#<strong>update_internal_state</strong> {|Object| ... } &#x21d2; Object </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Updates the internal_state using the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#wait_until_resolved-instance_method" title="#wait_until_resolved (instance method)">#<strong>wait_until_resolved</strong>(timeout)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#waiting_threads-instance_method" title="#waiting_threads (instance method)">#<strong>waiting_threads</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>For inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#with_async-instance_method" title="#with_async (instance method)">#<strong>with_async</strong>(executor, *args, &amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#with_hidden_resolvable-instance_method" title="#with_hidden_resolvable (instance method)">#<strong>with_hidden_resolvable</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)"><code>Synchronization::Object</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Synchronization/Object.html#__initialize_atomic_fields__-instance_method" title="Concurrent::Synchronization::Object#__initialize_atomic_fields__ (method)">#__initialize_atomic_fields__</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Synchronization/Volatile.html" title="Concurrent::Synchronization::Volatile (module)"><code>Synchronization::Volatile</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Synchronization/Volatile.html#full_memory_barrier-instance_method" title="Concurrent::Synchronization::Volatile#full_memory_barrier (method)">#full_memory_barrier</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Synchronization/AbstractObject.html" title="Concurrent::Synchronization::AbstractObject (class)"><code>Synchronization::AbstractObject</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Synchronization/AbstractObject.html#full_memory_barrier-instance_method" title="Concurrent::Synchronization::AbstractObject#full_memory_barrier (method)">#full_memory_barrier</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(promise, default_executor)  &#x21d2; <code>AbstractEventFuture</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L522-L531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='522' data-end='531'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 522</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span><span class='comma'>,</span> <span class='id identifier rubyid_default_executor'><a href="#default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#default_executor (method)">default_executor</a></span>)
  <span class='kw'>super</span>()
  <span class='ivar'>@Lock</span>               <span class='op'>=</span> <span class='const'>Mutex</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@Condition</span>          <span class='op'>=</span> <span class='const'>ConditionVariable</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@Promise</span>            <span class='op'>=</span> <span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span>
  <span class='ivar'>@DefaultExecutor</span>    <span class='op'>=</span> <span class='id identifier rubyid_default_executor'><a href="#default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#default_executor (method)">default_executor</a></span>
  <span class='ivar'>@Callbacks</span>          <span class='op'>=</span> <span class='const'><a href="../LockFreeStack.html" title="Concurrent::LockFreeStack (class)">LockFreeStack</a></span>.<span class='id identifier rubyid_new'><a href="../LockFreeStack.html#new-class_method" title="Concurrent::LockFreeStack.new (method)">new</a></span>
  <span class='ivar'>@Waiters</span>            <span class='op'>=</span> <span class='const'><a href="../AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span>.<span class='id identifier rubyid_new'><a href="../AtomicFixnum.html#new-class_method" title="Concurrent::AtomicFixnum.new (method)">new</a></span> <span class='int'>0</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span> <span class='op'>=</span> <span class='const'><a href="InternalStates.html#PENDING-constant" title="Concurrent::Promises::InternalStates::PENDING (constant)">PENDING</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="pending?-instance_method">
  <h3 class='signature ro first'>
    #<strong>pending?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is it in pending state?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L549-L551'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='549' data-end='551'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 549</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pending?'>pending?</span>
  <span class='op'>!</span><span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>.<span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolved?-instance_method">
  <h3 class='signature ro'>
    #<strong>resolved?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is it in resolved state?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L555-L557'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='555' data-end='557'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 555</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolved?'>resolved?</span>
  <span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>.<span class='id identifier rubyid_resolved?'>resolved?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="touched?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>touched?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For inspection.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L722-L724'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='722' data-end='724'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 722</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_touched?'>touched?</span>
  <span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span>.<span class='id identifier rubyid_touched?'>touched?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="add_callback-instance_method">
  <h3 class='signature priv first'>
    #<strong>add_callback</strong>(method, *args)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L750-L761'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='750' data-end='761'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 750</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_callback'>add_callback</span>(<span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span> <span class='op'>=</span> <span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>.<span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
    <span class='id identifier rubyid_call_callback'><a href="#call_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#call_callback (method)">call_callback</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>else</span>
    <span class='ivar'>@Callbacks</span>.<span class='id identifier rubyid_push'>push</span> [<span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>]
    <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span> <span class='op'>=</span> <span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>
    <span class='comment'># take back if it was resolved in the meanwhile
</span>    <span class='id identifier rubyid_call_callbacks'><a href="#call_callbacks-instance_method" title="Concurrent::Promises::AbstractEventFuture#call_callbacks (method)">call_callbacks</a></span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>.<span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_callback_clear_delayed_node-instance_method">
  <h3 class='signature priv'>
    #<strong>add_callback_clear_delayed_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L738-L740'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='738' data-end='740'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 738</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_callback_clear_delayed_node'>add_callback_clear_delayed_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_add_callback'><a href="#add_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#add_callback (method)">add_callback</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_callback_clear_delayed_node'><a href="#callback_clear_delayed_node-instance_method" title="Concurrent::Promises::AbstractEventFuture#callback_clear_delayed_node (method)">callback_clear_delayed_node</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_callback_notify_blocked-instance_method">
  <h3 class='signature priv'>
    #<strong>add_callback_notify_blocked</strong>(promise, index)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L733-L735'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='733' data-end='735'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 733</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_callback_notify_blocked'>add_callback_notify_blocked</span>(<span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>)
  <span class='id identifier rubyid_add_callback'><a href="#add_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#add_callback (method)">add_callback</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_callback_notify_blocked'><a href="#callback_notify_blocked-instance_method" title="Concurrent::Promises::AbstractEventFuture#callback_notify_blocked (method)">callback_notify_blocked</a></span><span class='comma'>,</span> <span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="async_callback_on_resolution-instance_method">
  <h3 class='signature priv'>
    #<strong>async_callback_on_resolution</strong>(state, executor, args, callback)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L812-L816'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='812' data-end='816'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 812</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_async_callback_on_resolution'>async_callback_on_resolution</span>(<span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_callback'>callback</span>)
  <span class='id identifier rubyid_with_async'><a href="#with_async-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_async (method)">with_async</a></span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_callback'>callback</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_st'>st</span><span class='comma'>,</span> <span class='id identifier rubyid_ar'>ar</span><span class='comma'>,</span> <span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='id identifier rubyid_callback_on_resolution'>callback_on_resolution</span> <span class='id identifier rubyid_st'>st</span><span class='comma'>,</span> <span class='id identifier rubyid_ar'>ar</span><span class='comma'>,</span> <span class='id identifier rubyid_cb'>cb</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="blocks-instance_method">
  <h3 class='signature priv'>
    #<strong>blocks</strong>  &#x21d2; <a href="../Array.html" title="Concurrent::Array (class)">Array</a>&lt;<a href="AbstractPromise.html" title="Concurrent::Promises::AbstractPromise (class)">AbstractPromise</a>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For inspection.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L702-L706'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='702' data-end='706'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 702</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_blocks'>blocks</span>
  <span class='ivar'>@Callbacks</span>.<span class='id identifier rubyid_each_with_object'>each_with_object</span>([]) <span class='kw'>do</span> <span class='op'>|</span>(<span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>)<span class='comma'>,</span> <span class='id identifier rubyid_promises'>promises</span><span class='op'>|</span>
    <span class='id identifier rubyid_promises'>promises</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]) <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_callback_notify_blocked'><a href="#callback_notify_blocked-instance_method" title="Concurrent::Promises::AbstractEventFuture#callback_notify_blocked (method)">callback_notify_blocked</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="call_callback-instance_method">
  <h3 class='signature priv'>
    #<strong>call_callback</strong>(method, state, args)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L796-L798'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='796' data-end='798'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 796</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call_callback'>call_callback</span>(<span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="call_callbacks-instance_method">
  <h3 class='signature priv'>
    #<strong>call_callbacks</strong>(state)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L800-L806'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='800' data-end='806'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 800</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call_callbacks'>call_callbacks</span>(<span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>)
  <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='ivar'>@Callbacks</span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_method'>method</span>
    <span class='id identifier rubyid_call_callback'><a href="#call_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#call_callback (method)">call_callback</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='ivar'>@Callbacks</span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="callback_clear_delayed_node-instance_method">
  <h3 class='signature priv'>
    #<strong>callback_clear_delayed_node</strong>(state, node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L763-L765'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='763' data-end='765'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 763</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_callback_clear_delayed_node'>callback_clear_delayed_node</span>(<span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="callback_notify_blocked-instance_method">
  <h3 class='signature priv'>
    #<strong>callback_notify_blocked</strong>(state, promise, index)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L818-L820'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='818' data-end='820'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 818</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_callback_notify_blocked'>callback_notify_blocked</span>(<span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>)
  <span class='id identifier rubyid_promise'><a href="#promise-instance_method" title="Concurrent::Promises::AbstractEventFuture#promise (method)">promise</a></span>.<span class='id identifier rubyid_on_blocker_resolution'>on_blocker_resolution</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="callbacks-instance_method">
  <h3 class='signature priv'>
    #<strong>callbacks</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For inspection.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L710-L712'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='710' data-end='712'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 710</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_callbacks'>callbacks</span>
  <span class='ivar'>@Callbacks</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chain-instance_method">
  <h3 class='signature '>
    #<strong>chain</strong>(*args, &amp;task)  &#x21d2; <a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a> 
    <span class='aliases'>Also known as: <span class='names'>#then</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shortcut of <a href="#chain_on-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_on (method)">#chain_on</a> with default <code>:io</code> executor supplied.</p>

  </div>
</div>
<div class='tags'>
    <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#chain_on-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_on (method)">#chain_on</a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L596-L598'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='596' data-end='598'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 596</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_chain'>chain</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
  <span class='id identifier rubyid_chain_on'><a href="#chain_on-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_on (method)">chain_on</a></span> <span class='ivar'>@DefaultExecutor</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chain_on-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>an_event.chain_on</strong>(executor, *args) {|*args| ... } &#x21d2; <a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a> </span>
      <span class='overload'>#<strong>a_future.chain_on</strong>(executor, *args) {|fulfilled, value, reason, *args| ... } &#x21d2; <a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Chains the task to be executed asynchronously on executor after it is resolved.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>executor</span>
    <span class='type'>(<code>Executor</code>, <code>:io</code>, <code>:fast</code>)</span>
&mdash;    <div class='inline'>
<p>Instance of an executor or a name of the global executor. The task is executed on it, default executor remains unchanged.</p>
</div>
  </li>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>arguments which are passed to the task when itâs executed. (It might be prepended with other arguments, see the @yield section).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>will become result of the returned <a href="Future.html" title="Concurrent::Promises::Future (class)"><code>Future</code></a>. Its returned value becomes <a href="Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Future#value</a> fulfilling it, raised exception becomes <a href="Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Future#reason</a> rejecting it.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L614-L616'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='614' data-end='616'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 614</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_chain_on'>chain_on</span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
  <span class='const'><a href="ChainPromise.html" title="Concurrent::Promises::ChainPromise (class)">ChainPromise</a></span>.<span class='id identifier rubyid_new_blocked_by1'><a href="BlockedPromise.html#new_blocked_by1-class_method" title="Concurrent::Promises::BlockedPromise.new_blocked_by1 (method)">new_blocked_by1</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>).<span class='id identifier rubyid_future'>future</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chain_resolvable-instance_method">
  <h3 class='signature '>
    #<strong>chain_resolvable</strong>(resolvable)  &#x21d2; <code>self</code> 
    <span class='aliases'>Also known as: <span class='names'>#tangle</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resolves the resolvable when receiver is resolved.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>resolvable</span>
    <span class='type'>(<a href="Resolvable.html" title="Concurrent::Promises::Resolvable (module)">Resolvable</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L629-L631'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='629' data-end='631'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 629</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_chain_resolvable'>chain_resolvable</span>(<span class='id identifier rubyid_resolvable'>resolvable</span>)
  <span class='id identifier rubyid_on_resolution!'><a href="#on_resolution!-instance_method" title="Concurrent::Promises::AbstractEventFuture#on_resolution! (method)">on_resolution!</a></span> { <span class='id identifier rubyid_resolvable'>resolvable</span>.<span class='id identifier rubyid_resolve_with'><a href="#resolve_with-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolve_with (method)">resolve_with</a></span> <span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare_and_set_internal_state-instance_method">
  <h3 class='signature priv'>
    #<strong>compare_and_set_internal_state</strong>(expected_internal_state, new_internal_state)  &#x21d2; <code>true</code>, <code>false</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the internal_state to new_internal_state if the current internal_state is expected_internal_state</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L515-L515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_atomic'>attr_atomic</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>)
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_executor-instance_method">
  <h3 class='signature '>
    #<strong>default_executor</strong>  &#x21d2; <code>Executor</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns default executor.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Executor</code>)</span>
&mdash;    <div class='inline'>
<p>default executor</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">#with_default_executor</a></li>
          <li><a href="FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">FactoryMethods#future_on</a></li>
          <li><a href="FactoryMethods.html#resolvable_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future (method)">FactoryMethods#resolvable_future</a></li>
          <li><a href="FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">FactoryMethods#any_fulfilled_future_on</a></li>
          <li><code>similar</code></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L590-L592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='590' data-end='592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_executor'>default_executor</span>
  <span class='ivar'>@DefaultExecutor</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="Concurrent::Promises::AbstractEventFuture#to_s (method)">#to_s</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L623-L623'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='623' data-end='623'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 623</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inspect'>inspect</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::Promises::AbstractEventFuture#to_s (method)">to_s</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="internal_state-instance_method">
  <h3 class='signature '>
    #<strong>internal_state</strong>  &#x21d2; <a href="../../Object.html" title="Object (class)">Object</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>The internal_state.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L515-L515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_atomic'>attr_atomic</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_internal_state'>internal_state</span>)
</pre>
  </div>
</div>
</section>

<section class='method_details' id="internal_state=-instance_method">
  <h3 class='signature priv'>
    #<strong>internal_state=</strong>(new_internal_state)  &#x21d2; <a href="../../Object.html" title="Object (class)">Object</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="../Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the internal_state.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>new_internal_state.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L515-L515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_atomic'>attr_atomic</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>)
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_resolution-instance_method">
  <h3 class='signature '>
    #<strong>on_resolution</strong>(*args, &amp;callback)  &#x21d2; <code>self</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shortcut of <a href="#on_resolution_using-instance_method" title="Concurrent::Promises::AbstractEventFuture#on_resolution_using (method)">#on_resolution_using</a> with default <code>:io</code> executor supplied.</p>

  </div>
</div>
<div class='tags'>
    <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#on_resolution_using-instance_method" title="Concurrent::Promises::AbstractEventFuture#on_resolution_using (method)">#on_resolution_using</a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L637-L639'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='637' data-end='639'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 637</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_resolution'>on_resolution</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_callback'>callback</span>)
  <span class='id identifier rubyid_on_resolution_using'><a href="#on_resolution_using-instance_method" title="Concurrent::Promises::AbstractEventFuture#on_resolution_using (method)">on_resolution_using</a></span> <span class='ivar'>@DefaultExecutor</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_callback'>callback</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_resolution!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>an_event.on_resolution!</strong>(*args) {|*args| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>a_future.on_resolution!</strong>(*args) {|fulfilled, value, reason, *args| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Stores the callback to be executed synchronously on resolving thread after it is resolved.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>arguments which are passed to the task when itâs executed. (It might be prepended with other arguments, see the @yield section).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>is forgotten.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L655-L657'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='655' data-end='657'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 655</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_resolution!'>on_resolution!</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_callback'>callback</span>)
  <span class='id identifier rubyid_add_callback'><a href="#add_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#add_callback (method)">add_callback</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_callback_on_resolution'>callback_on_resolution</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_callback'>callback</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_resolution_using-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>an_event.on_resolution_using</strong>(executor, *args) {|*args| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>a_future.on_resolution_using</strong>(executor, *args) {|fulfilled, value, reason, *args| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Stores the callback to be executed asynchronously on executor after it is resolved.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>executor</span>
    <span class='type'>(<code>Executor</code>, <code>:io</code>, <code>:fast</code>)</span>
&mdash;    <div class='inline'>
<p>Instance of an executor or a name of the global executor. The task is executed on it, default executor remains unchanged.</p>
</div>
  </li>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>arguments which are passed to the task when itâs executed. (It might be prepended with other arguments, see the @yield section).</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>is forgotten.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L673-L675'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='673' data-end='675'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 673</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_resolution_using'>on_resolution_using</span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_callback'>callback</span>)
  <span class='id identifier rubyid_add_callback'><a href="#add_callback-instance_method" title="Concurrent::Promises::AbstractEventFuture#add_callback (method)">add_callback</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_async_callback_on_resolution'><a href="#async_callback_on_resolution-instance_method" title="Concurrent::Promises::AbstractEventFuture#async_callback_on_resolution (method)">async_callback_on_resolution</a></span><span class='comma'>,</span> <span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_callback'>callback</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="promise-instance_method">
  <h3 class='signature priv'>
    #<strong>promise</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For inspection.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L716-L718'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='716' data-end='718'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 716</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_promise'>promise</span>
  <span class='ivar'>@Promise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_with-instance_method">
  <h3 class='signature priv'>
    #<strong>resolve_with</strong>(state, raise_on_reassign = true, reserved = false)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L688-L697'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='688' data-end='697'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 688</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_with'>resolve_with</span>(<span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_compare_and_set_internal_state'><a href="#compare_and_set_internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#compare_and_set_internal_state (method)">compare_and_set_internal_state</a></span>(<span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>?</span> <span class='const'><a href="InternalStates.html#RESERVED-constant" title="Concurrent::Promises::InternalStates::RESERVED (constant)">RESERVED</a></span> <span class='op'>:</span> <span class='const'><a href="InternalStates.html#PENDING-constant" title="Concurrent::Promises::InternalStates::PENDING (constant)">PENDING</a></span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>)
    <span class='comment'># go to synchronized block only if there were waiting threads
</span>    <span class='ivar'>@Lock</span>.<span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@Condition</span>.<span class='id identifier rubyid_broadcast'>broadcast</span> } <span class='kw'>unless</span> <span class='ivar'>@Waiters</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='id identifier rubyid_call_callbacks'><a href="#call_callbacks-instance_method" title="Concurrent::Promises::AbstractEventFuture#call_callbacks (method)">call_callbacks</a></span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rejected_resolution'>rejected_resolution</span>(<span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span><span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>)
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="state-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>an_event.state</strong>  &#x21d2; <code>:pending</code>, <code>:resolved</code> </span>
      <span class='overload'>#<strong>a_future.state</strong>  &#x21d2; <code>:pending</code>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns its state.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L543-L545'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='543' data-end='545'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 543</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_state'>state</span>
  <span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>.<span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swap_internal_state-instance_method">
  <h3 class='signature priv'>
    #<strong>swap_internal_state</strong>(new_internal_state)  &#x21d2; <a href="../../Object.html" title="Object (class)">Object</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="../Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the internal_state to new_internal_state and return the old internal_state.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>old internal_state</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L515-L515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_atomic'>attr_atomic</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>)
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tangle-instance_method">
  <h3 class='signature '>
    #<strong>tangle</strong>(resolvable)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#chain_resolvable-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_resolvable (method)">#chain_resolvable</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L633-L633'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='633' data-end='633'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 633</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tangle'>tangle</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_chain_resolvable'><a href="#chain_resolvable-instance_method" title="Concurrent::Promises::AbstractEventFuture#chain_resolvable (method)">chain_resolvable</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <code>String</code> 
    <span class='aliases'>Also known as: <span class='names'>#inspect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Short string representation.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L619-L621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='619' data-end='621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s %s&gt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='comma'>,</span> <span class='id identifier rubyid_state'><a href="#state-instance_method" title="Concurrent::Promises::AbstractEventFuture#state (method)">state</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="touch-instance_method">
  <h3 class='signature '>
    #<strong>touch</strong>  &#x21d2; <code>self</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Propagates touch. Requests all the delayed futures, which it depends on, to be executed. This method is called by any other method requiring resolved state, like <a href="#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">#wait</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L562-L565'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='562' data-end='565'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 562</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_touch'>touch</span>
  <span class='ivar'>@Promise</span>.<span class='id identifier rubyid_touch'>touch</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update_internal_state-instance_method">
  <h3 class='signature priv'>
    #<strong>update_internal_state</strong> {|Object| ... } &#x21d2; <a href="../../Object.html" title="Object (class)">Object</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Updates the internal_state using the block.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>Calculate a new internal_state using given (old) internal_state</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>old</span>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>internal_state</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Object.html" title="Object (class)">Object</a>)</span>
&mdash;    <div class='inline'>
<p>new internal_state</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L515-L515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_atomic'>attr_atomic</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_internal_state'><a href="#internal_state-instance_method" title="Concurrent::Promises::AbstractEventFuture#internal_state (method)">internal_state</a></span>)
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait-instance_method">
  <h3 class='signature '>
    #<strong>wait</strong>(timeout = nil)  &#x21d2; <code>self</code>, ... 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This function potentially blocks current thread until the <a href="Future.html" title="Concurrent::Promises::Future (class)"><code>Future</code></a> is resolved. Be careful it can deadlock. Try to chain instead.</p>
</div>
  </div>


<p>Wait (block the Thread) until receiver is <a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">#resolved?</a>. Calls <code>Concurrent::AbstractEventFuture#touch</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>timeout</span>
    <span class='type'>(<code>Numeric</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the maximum time in second to wait.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>self</code>, <code>true</code>, <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>self implies timeout was not used, true implies timeout was used and it was resolved, false implies it was not resolved within timeout.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L578-L581'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='578' data-end='581'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 578</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_wait_until_resolved'><a href="#wait_until_resolved-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait_until_resolved (method)">wait_until_resolved</a></span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>?</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>:</span> <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_until_resolved-instance_method">
  <h3 class='signature priv'>
    #<strong>wait_until_resolved</strong>(timeout)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L768-L794'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='768' data-end='794'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 768</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait_until_resolved'>wait_until_resolved</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>

  <span class='id identifier rubyid_touch'><a href="#touch-instance_method" title="Concurrent::Promises::AbstractEventFuture#touch (method)">touch</a></span>

  <span class='ivar'>@Lock</span>.<span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@Waiters</span>.<span class='id identifier rubyid_increment'>increment</span>
    <span class='kw'>begin</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span>
        <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='const'><a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a></span>.<span class='id identifier rubyid_monotonic_time'><a href="../../Concurrent.html#monotonic_time-class_method" title="Concurrent.monotonic_time (method)">monotonic_time</a></span>
        <span class='kw'>until</span> <span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='ivar'>@Condition</span>.<span class='id identifier rubyid_wait'><a href="#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">wait</a></span>(<span class='ivar'>@Lock</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span>) <span class='op'>==</span> <span class='kw'>nil</span> <span class='comment'># nil means timeout
</span>          <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>-=</span> (<span class='const'><a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a></span>.<span class='id identifier rubyid_monotonic_time'><a href="../../Concurrent.html#monotonic_time-class_method" title="Concurrent.monotonic_time (method)">monotonic_time</a></span> <span class='op'>-</span> <span class='id identifier rubyid_start'>start</span>)
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='kw'>until</span> <span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
          <span class='ivar'>@Condition</span>.<span class='id identifier rubyid_wait'><a href="#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">wait</a></span>(<span class='ivar'>@Lock</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='comment'># JRuby may raise ConcurrencyError
</span>      <span class='ivar'>@Waiters</span>.<span class='id identifier rubyid_decrement'>decrement</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_resolved?'><a href="#resolved%3F-instance_method" title="Concurrent::Promises::AbstractEventFuture#resolved? (method)">resolved?</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="waiting_threads-instance_method">
  <h3 class='signature priv'>
    #<strong>waiting_threads</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For inspection.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L728-L730'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='728' data-end='730'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 728</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_waiting_threads'>waiting_threads</span>
  <span class='ivar'>@Waiters</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_async-instance_method">
  <h3 class='signature priv'>
    #<strong>with_async</strong>(executor, *args, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L808-L810'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='808' data-end='810'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 808</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_async'>with_async</span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a></span>.<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span>).<span class='id identifier rubyid_post'>post</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_default_executor-instance_method">
  <h3 class='signature '>
    #<strong>with_default_executor</strong>(executor)  &#x21d2; <code>AbstractEventFuture</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="note abstract">
  <strong>This method is abstract.</strong>
  <div class='inline'></div>
</div>

<p>Crates new object with same class with the executor set as its new default executor. Any futures depending on it will use the new default executor.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="Event.html#with_default_executor-instance_method" title="Concurrent::Promises::Event#with_default_executor (method)">Event#with_default_executor</a></li>
          <li><a href="Future.html#with_default_executor-instance_method" title="Concurrent::Promises::Future#with_default_executor (method)">Future#with_default_executor</a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L683-L685'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='683' data-end='685'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 683</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_default_executor'>with_default_executor</span>(<span class='id identifier rubyid_executor'><a href="../../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_hidden_resolvable-instance_method">
  <h3 class='signature priv'>
    #<strong>with_hidden_resolvable</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/promises.rb#L743-L746'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='743' data-end='746'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/promises.rb', line 743</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_hidden_resolvable'>with_hidden_resolvable</span>
  <span class='comment'># TODO (pitr-ch 10-Dec-2018): documentation, better name if in edge
</span>  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>