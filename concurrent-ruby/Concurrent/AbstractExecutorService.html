<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Concurrent::AbstractExecutorService &mdash; Concurrent RubyÂ master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Concurrent::AbstractExecutorService",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Concurrent</a> &raquo; 
      <a href='../_index.html#alpha_A'>Index (A)</a> &raquo; 
        <a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>AbstractExecutorService&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Concurrent::AbstractExecutorService</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="ImmediateExecutor.html" title="Concurrent::ImmediateExecutor (class)">ImmediateExecutor</a>, <a href="IndirectImmediateExecutor.html" title="Concurrent::IndirectImmediateExecutor (class)">IndirectImmediateExecutor</a>, <a href="JavaExecutorService.html" title="Concurrent::JavaExecutorService (class)">JavaExecutorService</a>, <a href="JavaSingleThreadExecutor.html" title="Concurrent::JavaSingleThreadExecutor (class)">JavaSingleThreadExecutor</a>, <a href="JavaThreadPoolExecutor.html" title="Concurrent::JavaThreadPoolExecutor (class)">JavaThreadPoolExecutor</a>, <a href="RubyExecutorService.html" title="Concurrent::RubyExecutorService (class)">RubyExecutorService</a>, <a href="RubySingleThreadExecutor.html" title="Concurrent::RubySingleThreadExecutor (class)">RubySingleThreadExecutor</a>, <a href="RubyThreadPoolExecutor.html" title="Concurrent::RubyThreadPoolExecutor (class)">RubyThreadPoolExecutor</a>, <a href="SimpleExecutorService.html" title="Concurrent::SimpleExecutorService (class)">SimpleExecutorService</a>, <a href="TimerSet.html" title="Concurrent::TimerSet (class)">TimerSet</a>, <a href="TimerTask.html" title="Concurrent::TimerTask (class)">TimerTask</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)"><code>Synchronization::LockableObject</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)"><code>Concern::Deprecation</code></a>,
          <a href="ExecutorService.html" title="Concurrent::ExecutorService (module)"><code>ExecutorService</code></a>,
          <a href="Concern/Logging.html" title="Concurrent::Concern::Logging (module)"><code>Concern::Logging</code></a>,
          <a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)"><code>Synchronization::LockableObject</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">Concurrent::Synchronization::LockableObject</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">Concurrent::Synchronization::LockableObject</a></li>
          <li class='next'>Concurrent::AbstractExecutorService</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10'>lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='FALLBACK_POLICIES-constant' class='summary_signature'>FALLBACK_POLICIES =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The set of possible fallback policies that may be set at thread pool creation.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L15-L15'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 15</a>    <pre class='code ruby'>[<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="Concern/Logging.html" title="Concurrent::Concern::Logging (module)"><code>Concern::Logging</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="Concern/Logging.html#SEV_LABEL-constant" title="Concurrent::Concern::Logging::SEV_LABEL (constant)">SEV_LABEL</a>
  </p>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(opts = {}, &amp;block)  &#x21d2; AbstractExecutorService </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a new thread pool.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li class='deprecated'>
    <span class='summary_signature rw deprecated'>
      <a href="#auto_terminate=-instance_method" title="#auto_terminate= (instance method)">#<strong>auto_terminate=</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='deprecated note title'>deprecated</span>
    <span class='summary_desc'><strong>Deprecated.</strong>
      <div class='inline'>
<p>Has no effect</p>
</div>    </span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#auto_terminate%3F-instance_method" title="#auto_terminate? (instance method)">#<strong>auto_terminate?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor auto-terminate when the application exits?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#fallback_policy-instance_method" title="#fallback_policy (instance method)">#<strong>fallback_policy</strong>  &#x21d2; Symbol </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#running%3F-instance_method" title="#running? (instance method)">#<strong>running?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor running?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Begin an orderly shutdown.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#shutdown%3F-instance_method" title="#shutdown? (instance method)">#<strong>shutdown?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor shutdown?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#shuttingdown%3F-instance_method" title="#shuttingdown? (instance method)">#<strong>shuttingdown?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the executor shuttingdown?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#ns_auto_terminate%3F-instance_method" title="#ns_auto_terminate? (instance method)">#<strong>ns_auto_terminate?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)"><code>ExecutorService</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="ExecutorService.html#can_overflow%3F-instance_method" title="Concurrent::ExecutorService#can_overflow? (method)">#can_overflow?</a></td>
      <td><div class='inline'><p>Does the task queue have a maximum size?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="ExecutorService.html#serialized%3F-instance_method" title="Concurrent::ExecutorService#serialized? (method)">#serialized?</a></td>
      <td><div class='inline'><p>Does this executor guarantee serialization of its operations?</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(task)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#can_overflow%3F-instance_method" title="#can_overflow? (instance method)">#<strong>can_overflow?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does the task queue have a maximum size?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#kill-instance_method" title="#kill (instance method)">#<strong>kill</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Begin an immediate shutdown.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#post-instance_method" title="#post (instance method)">#<strong>post</strong>(*args) { ... } &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#serialized%3F-instance_method" title="#serialized? (instance method)">#<strong>serialized?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does this executor guarantee serialization of its operations?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait_for_termination-instance_method" title="#wait_for_termination (instance method)">#<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Block until executor shutdown is complete or until <code>timeout</code> seconds have passed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#fallback_action-instance_method" title="#fallback_action (instance method)">#<strong>fallback_action</strong>(*args)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an action which executes the <a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">#fallback_policy</a> once the queue size reaches <code>max_queue</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#ns_execute-instance_method" title="#ns_execute (instance method)">#<strong>ns_execute</strong>(*args, &amp;task)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#ns_kill_execution-instance_method" title="#ns_kill_execution (instance method)">#<strong>ns_kill_execution</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Callback method called when the executor has been killed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#ns_shutdown_execution-instance_method" title="#ns_shutdown_execution (instance method)">#<strong>ns_shutdown_execution</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Callback method called when an orderly shutdown has completed.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)"><code>Concern::Deprecation</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Concern/Deprecation.html#deprecated-instance_method" title="Concurrent::Concern::Deprecation#deprecated (method)">#deprecated</a>,
        <a class='i_m ' href="Concern/Deprecation.html#deprecated_method-instance_method" title="Concurrent::Concern::Deprecation#deprecated_method (method)">#deprecated_method</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)"><code>ExecutorService</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="ExecutorService.html#<<-instance_method" title="Concurrent::ExecutorService#&lt;&lt; (method)">#<<</a></td>
      <td><div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="ExecutorService.html#post-instance_method" title="Concurrent::ExecutorService#post (method)">#post</a></td>
      <td><div class='inline'><p>Submit a task to the executor for asynchronous processing.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Concern/Logging.html" title="Concurrent::Concern::Logging (module)"><code>Concern::Logging</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Concern/Logging.html#log-instance_method" title="Concurrent::Concern::Logging#log (method)">#log</a></td>
      <td><div class='inline'><p>Logs through <a href="../Concurrent.html#global_logger-class_method" title="Concurrent.global_logger (method)">global_logger</a>, it can be overridden by setting @logger.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)"><code>Synchronization::LockableObject</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Synchronization/LockableObject.html#new_condition-instance_method" title="Concurrent::Synchronization::LockableObject#new_condition (method)">#new_condition</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(opts = {}, &amp;block)  &#x21d2; <code>AbstractExecutorService</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a new thread pool.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L23-L30'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='23' data-end='30'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 23</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
    <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
    <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="auto_terminate=-instance_method">
  <h3 class='signature rw  deprecated first'>
    #<strong>auto_terminate=</strong>(value)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>Has no effect</p>
</div></div>

<p><a href="Set.html" title="Concurrent::Set (class)"><code>Set</code></a> the auto-terminate behavior for this executor.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>The new auto-terminate value to set for this executor.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L72-L192'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='72' data-end='192'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 72</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='>auto_terminate=</span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auto_terminate?-instance_method">
  <h3 class='signature rw'>
    #<strong>auto_terminate?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor auto-terminate when the application exits?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L67-L187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'>auto_terminate?</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fallback_policy-instance_method">
  <h3 class='signature ro'>
    #<strong>fallback_policy</strong>  &#x21d2; <code>Symbol</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>The fallback policy in effect. Either <code>:abort</code>, <code>:discard</code>, or <code>:caller_runs</code>.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'>fallback_policy</span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'>fallback_policy</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'>fallback_policy</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature ro'>
    #<strong>name</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L20-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='20' data-end='20'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 20</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ns_auto_terminate?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>ns_auto_terminate?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L126-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='126' data-end='128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'>ns_auto_terminate?</span>
  <span class='ivar'>@auto_terminate</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="running?-instance_method">
  <h3 class='signature ro'>
    #<strong>running?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor running?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when running, <code>false</code> when shutting down or shutdown</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L52-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='52' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'>running?</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown-instance_method">
  <h3 class='signature ro'>
    #<strong>shutdown</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Begin an orderly shutdown. Tasks already in the queue will be executed, but no new tasks will be accepted. Has no additional effect if the thread pool is not running.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L37-L157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'>shutdown</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown?-instance_method">
  <h3 class='signature ro'>
    #<strong>shutdown?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor shutdown?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when shutdown, <code>false</code> when shutting down or running</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L62-L182'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='182'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'>shutdown?</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shuttingdown?-instance_method">
  <h3 class='signature ro'>
    #<strong>shuttingdown?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the executor shuttingdown?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> when not running and not shutdown, else <code>false</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L57-L177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='57' data-end='177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'>shuttingdown?</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(task)  &#x21d2; <code>self</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Submit a task to the executor for asynchronous processing.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>task</span>
    <span class='type'>(<code>Proc</code>)</span>
&mdash;    <div class='inline'>
<p>the asynchronous task to perform</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>self</code>)</span>
&mdash;    <div class='inline'>
<p>returns itself</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="can_overflow?-instance_method">
  <h3 class='signature '>
    #<strong>can_overflow?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does the task queue have a maximum size?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>True if the task queue has a maximum size else false.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fallback_action-instance_method">
  <h3 class='signature priv'>
    #<strong>fallback_action</strong>(*args)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an action which executes the <a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">#fallback_policy</a> once the queue size reaches <code>max_queue</code>. The reason for the indirection of an action is so that the work can be deferred outside of synchronization.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="Array.html" title="Concurrent::Array (class)">Array</a>)</span>
&mdash;    <div class='inline'>
<p>the arguments to the task which is being handled.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L85-L104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='85' data-end='104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'>fallback_action</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
    <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
    <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
    <span class='id identifier rubyid_lambda'>lambda</span> {
      <span class='kw'>begin</span>
        <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
      <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='comment'># let it fail
</span>        <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
      <span class='kw'>end</span>
      <span class='kw'>true</span>
    }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kill-instance_method">
  <h3 class='signature '>
    #<strong>kill</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Begin an immediate shutdown. In-progress tasks will be allowed to complete but enqueued tasks will be dismissed and no new tasks will be accepted. Has no additional effect if the thread pool is not running.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L42-L162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='42' data-end='162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 42</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'>kill</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ns_execute-instance_method">
  <h3 class='signature priv'>
    #<strong>ns_execute</strong>(*args, &amp;task)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L106-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='106' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'>ns_execute</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ns_kill_execution-instance_method">
  <h3 class='signature priv'>
    #<strong>ns_kill_execution</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Callback method called when the executor has been killed. The default behavior is to do nothing.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L122-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'>ns_kill_execution</span>
  <span class='comment'># do nothing
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ns_shutdown_execution-instance_method">
  <h3 class='signature priv'>
    #<strong>ns_shutdown_execution</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Callback method called when an orderly shutdown has completed. The default behavior is to signal all waiting threads.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L114-L116'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='114' data-end='116'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'>ns_shutdown_execution</span>
  <span class='comment'># do nothing
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="post-instance_method">
  <h3 class='signature '>
    #<strong>post</strong>(*args) { ... } &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Submit a task to the executor for asynchronous processing.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<a href="Array.html" title="Concurrent::Array (class)">Array</a>)</span>
&mdash;    <div class='inline'>
<p>zero or more arguments to be passed to the task</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>the asynchronous task to perform</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> if the task is queued, <code>false</code> if the executor is not running</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'>
<p>if no task is given</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="serialized?-instance_method">
  <h3 class='signature '>
    #<strong>serialized?</strong>  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does this executor guarantee serialization of its operations?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p>True if the executor guarantees that all operations will be post in the order they are received and no two operations may occur simultaneously. Else false.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L10-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'><a href="#wait_for_termination-instance_method" title="Concurrent::AbstractExecutorService#wait_for_termination (method)">wait_for_termination</a></span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L32-L34'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='32' data-end='34'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 32</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait_for_termination-instance_method">
  <h3 class='signature '>
    #<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Does not initiate shutdown or termination. Either <a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">#shutdown</a> or <a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">#kill</a> must be called before this method (or on another thread).</p>
</div>
  </div>


<p>Block until executor shutdown is complete or until <code>timeout</code> seconds have passed.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>timeout</span>
    <span class='type'>(<code>Integer</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the maximum number of seconds to wait for shutdown to complete</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'>
<p><code>true</code> if shutdown complete or false on <code>timeout</code></p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>NotImplementedError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby-concurrency/concurrent-ruby/blob/master/lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb#L47-L167'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='47' data-end='167'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/concurrent-ruby/concurrent/executor/abstract_executor_service.rb', line 47</span></pre>
<pre class='code ruby'>

<span class='kw'>class</span> <span class='const'>AbstractExecutorService</span> <span class='op'>&lt;</span> <span class='const'><a href="Synchronization.html" title="Concurrent::Synchronization (module)">Synchronization</a></span><span class='op'>::</span><span class='const'><a href="Synchronization/LockableObject.html" title="Concurrent::Synchronization::LockableObject (class)">LockableObject</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="ExecutorService.html" title="Concurrent::ExecutorService (module)">ExecutorService</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Concern.html" title="Concurrent::Concern (module)">Concern</a></span><span class='op'>::</span><span class='const'><a href="Concern/Deprecation.html" title="Concurrent::Concern::Deprecation (module)">Deprecation</a></span>

  <span class='comment'># The set of possible fallback policies that may be set at thread pool creation.
</span>  <span class='const'><a href="#FALLBACK_POLICIES-constant" title="Concurrent::AbstractExecutorService::FALLBACK_POLICIES (constant)">FALLBACK_POLICIES</a></span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>].<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='comment'># @!macro executor_service_attr_reader_fallback_policy
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>

  <span class='comment'># Create a new thread pool.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'><a href="../Concurrent.html#initialize-instance_method" title="Concurrent#initialize (method)">initialize</a></span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>(<span class='op'>&amp;</span><span class='kw'>nil</span>)
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@auto_terminate</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auto_terminate'>auto_terminate</span><span class='comma'>,</span> <span class='kw'>true</span>)
      <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span>)
      <span class='id identifier rubyid_ns_initialize'>ns_initialize</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Concurrent::AbstractExecutorService#to_s (method)">to_s</a></span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>super</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]<span class='embexpr_end'>}</span><span class='tstring_content'> name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Concurrent::AbstractExecutorService#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="Concurrent::AbstractExecutorService#shutdown (method)">shutdown</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_kill
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_kill'><a href="#kill-instance_method" title="Concurrent::AbstractExecutorService#kill (method)">kill</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_wait_for_termination
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wait_for_termination'>wait_for_termination</span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_running_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_running?'><a href="#running%3F-instance_method" title="Concurrent::AbstractExecutorService#running? (method)">running?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_running?'>ns_running?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shuttingdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shuttingdown?'><a href="#shuttingdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shuttingdown? (method)">shuttingdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shuttingdown?'>ns_shuttingdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_shutdown_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_shutdown?'><a href="#shutdown%3F-instance_method" title="Concurrent::AbstractExecutorService#shutdown? (method)">shutdown?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='id identifier rubyid_ns_shutdown?'>ns_shutdown?</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_question
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate?'><a href="#auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate? (method)">auto_terminate?</a></span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> { <span class='ivar'>@auto_terminate</span> }
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_auto_terminate_setter
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_auto_terminate='><a href="#auto_terminate=-instance_method" title="Concurrent::AbstractExecutorService#auto_terminate= (method)">auto_terminate=</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_deprecated'>deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method #auto_terminate= has no effect. Set :auto_terminate option when executor is initialized.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='comment'># Returns an action which executes the `fallback_policy` once the queue
</span>  <span class='comment'># size reaches `max_queue`. The reason for the indirection of an action
</span>  <span class='comment'># is so that the work can be deferred outside of synchronization.
</span>  <span class='comment'>#
</span>  <span class='comment'># @param [Array] args the arguments to the task which is being handled.
</span>  <span class='comment'>#
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_fallback_action'><a href="#fallback_action-instance_method" title="Concurrent::AbstractExecutorService#fallback_action (method)">fallback_action</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_abort'>abort</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Concurrent.html#RejectedExecutionError-constant" title="Concurrent::RejectedExecutionError (constant)">RejectedExecutionError</a></span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_discard'>discard</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='kw'>false</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_caller_runs'>caller_runs</span>
      <span class='id identifier rubyid_lambda'>lambda</span> {
        <span class='kw'>begin</span>
          <span class='kw'>yield</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
          <span class='comment'># let it fail
</span>          <span class='id identifier rubyid_log'>log</span> <span class='const'>DEBUG</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='kw'>end</span>
        <span class='kw'>true</span>
      }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_lambda'>lambda</span> { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown fallback policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fallback_policy'><a href="#fallback_policy-instance_method" title="Concurrent::AbstractExecutorService#fallback_policy (method)">fallback_policy</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_execute'><a href="#ns_execute-instance_method" title="Concurrent::AbstractExecutorService#ns_execute (method)">ns_execute</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_task'>task</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_shutdown_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when an orderly shutdown has completed.
</span>  <span class='comment'>#   The default behavior is to signal all waiting threads.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_shutdown_execution'><a href="#ns_shutdown_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_shutdown_execution (method)">ns_shutdown_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='comment'># @!macro executor_service_method_ns_kill_execution
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Callback method called when the executor has been killed.
</span>  <span class='comment'>#   The default behavior is to do nothing.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_ns_kill_execution'><a href="#ns_kill_execution-instance_method" title="Concurrent::AbstractExecutorService#ns_kill_execution (method)">ns_kill_execution</a></span>
    <span class='comment'># do nothing
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_ns_auto_terminate?'><a href="#ns_auto_terminate%3F-instance_method" title="Concurrent::AbstractExecutorService#ns_auto_terminate? (method)">ns_auto_terminate?</a></span>
    <span class='ivar'>@auto_terminate</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>