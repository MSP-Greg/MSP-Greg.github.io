<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Redis::Commands::Keys &mdash; Redis master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Redis::Commands::Keys",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Redis master</a> &raquo; 
      <a href='../../_index.html#alpha_K'>Index (K)</a> &raquo; 
        <a href="../../Redis.html" title="Redis (class)">Redis</a> &raquo; 
        <a href="../Commands.html" title="Redis::Commands (module)">Commands</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Keys&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Redis::Commands::Keys</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../../Redis.html" title="Redis (class)"><code>::Redis</code></a>,
          <a href="../Commands.html" title="Redis::Commands (module)"><code>::Redis::Commands</code></a>,
          <a href="../MultiConnection.html" title="Redis::MultiConnection (class)"><code>::Redis::MultiConnection</code></a>,
          <a href="../PipelinedConnection.html" title="Redis::PipelinedConnection (class)"><code>::Redis::PipelinedConnection</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L5'>lib/redis/commands/keys.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#copy-instance_method" title="#copy (instance method)">#<strong>copy</strong>(source, destination, db: nil, replace: false)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Copy a value from one key to another.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#del-instance_method" title="#del (instance method)">#<strong>del</strong>(*keys)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delete one or more keys.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>(key)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a serialized version of the value stored at a key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exists-instance_method" title="#exists (instance method)">#<strong>exists</strong>(*keys)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine how many of the keys exists.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">#<strong>exists?</strong>(*keys)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine if any of the keys exists.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expire-instance_method" title="#expire (instance method)">#<strong>expire</strong>(key, seconds, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set a key&#39;s time to live in seconds.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expireat-instance_method" title="#expireat (instance method)">#<strong>expireat</strong>(key, unix_time, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the expiration for a key as a UNIX timestamp.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expiretime-instance_method" title="#expiretime (instance method)">#<strong>expiretime</strong>(key)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get a key&#39;s expiry time specified as number of seconds from UNIX Epoch.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keys-instance_method" title="#keys (instance method)">#<strong>keys</strong>(pattern = &quot;*&quot;)  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Find all keys matching the given pattern.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#migrate-instance_method" title="#migrate (instance method)">#<strong>migrate</strong>(key, options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Transfer a key from the connected instance to another instance.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#move-instance_method" title="#move (instance method)">#<strong>move</strong>(key, db)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Move a key to another database.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#object-instance_method" title="#object (instance method)">#<strong>object</strong>(*args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#persist-instance_method" title="#persist (instance method)">#<strong>persist</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove the expiration from a key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pexpire-instance_method" title="#pexpire (instance method)">#<strong>pexpire</strong>(key, milliseconds, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set a key&#39;s time to live in milliseconds.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pexpireat-instance_method" title="#pexpireat (instance method)">#<strong>pexpireat</strong>(key, ms_unix_time, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the expiration for a key as number of milliseconds from UNIX Epoch.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pexpiretime-instance_method" title="#pexpiretime (instance method)">#<strong>pexpiretime</strong>(key)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get a key&#39;s expiry time specified as number of milliseconds from UNIX Epoch.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pttl-instance_method" title="#pttl (instance method)">#<strong>pttl</strong>(key)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the time to live (in milliseconds) for a key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#randomkey-instance_method" title="#randomkey (instance method)">#<strong>randomkey</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a random key from the keyspace.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rename-instance_method" title="#rename (instance method)">#<strong>rename</strong>(old_name, new_name)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Rename a key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#renamenx-instance_method" title="#renamenx (instance method)">#<strong>renamenx</strong>(old_name, new_name)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Rename a key, only if the new key does not exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#restore-instance_method" title="#restore (instance method)">#<strong>restore</strong>(key, ttl, serialized_value, replace: nil)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a key using the serialized value, previously obtained using DUMP.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(cursor, **options)  &#x21d2; String<sup>+</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scan the keyspace.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan_each-instance_method" title="#scan_each (instance method)">#<strong>scan_each</strong>(**options, &amp;block)  &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scan the keyspace.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>(key, by: nil, limit: nil, get: nil, order: nil, store: nil)  &#x21d2; Array&lt;String&gt;, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sort the elements in a list, set or sorted set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ttl-instance_method" title="#ttl (instance method)">#<strong>ttl</strong>(key)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the time to live (in seconds) for a key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>(key)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine the type stored at key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unlink-instance_method" title="#unlink (instance method)">#<strong>unlink</strong>(*keys)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Unlink one or more keys.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_scan-instance_method" title="#_scan (instance method)">#<strong>_scan</strong>(command, cursor, args, match: nil, count: nil, type: nil, &amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_scan-instance_method">
  <h3 class='signature priv first'>
    #<strong>_scan</strong>(command, cursor, args, match: nil, count: nil, type: nil, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L450-L459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='450' data-end='459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 450</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__scan'>_scan</span>(<span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_cursor'>cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='label'>match:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='comment'># SSCAN/ZSCAN/HSCAN already prepend the key to +args+.
</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cursor'>cursor</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MATCH</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_match'>match</span> <span class='kw'>if</span> <span class='id identifier rubyid_match'>match</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>COUNT</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_count'>count</span>) <span class='kw'>if</span> <span class='id identifier rubyid_count'>count</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TYPE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Redis::Commands::Keys#type (method)">type</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_type'><a href="#type-instance_method" title="Redis::Commands::Keys#type (method)">type</a></span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='id identifier rubyid_command'>command</span>] <span class='op'>+</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="copy-instance_method">
  <h3 class='signature '>
    #<strong>copy</strong>(source, destination, db: nil, replace: false)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Copy a value from one key to another.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'><p>Copy a value to another key</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_set'>set</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;OK&quot;
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_copy'>copy</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_get'>get</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;value&quot;</span></code></pre>
        <p class='example_title'><div class='inline'><p>Copy a value to a key in another database</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_set'>set</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;OK&quot;
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_copy'>copy</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>db:</span> <span class='int'>2</span>
  <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_select'>select</span> <span class='int'>2</span>
  <span class='comment'># =&gt; &quot;OK&quot;
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_get'>get</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;value&quot;</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>source</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>destination</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>db</span>
    <span class='type'>(<code>Integer</code>)</span>
  </li>
  <li>
    <span class='name'>replace</span>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>removes the <code>destination</code> key before copying value to it</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the key was copied or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L352-L358'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='352' data-end='358'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 352</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_copy'>copy</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span><span class='comma'>,</span> <span class='label'>db:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>replace:</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_copy'>copy</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span>]
  <span class='id identifier rubyid_command'>command</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DB</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_db'>db</span> <span class='kw'>if</span> <span class='id identifier rubyid_db'>db</span>
  <span class='id identifier rubyid_command'>command</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REPLACE</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_replace'>replace</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="del-instance_method">
  <h3 class='signature '>
    #<strong>del</strong>(*keys)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Delete one or more keys.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>keys</span>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>number of keys that were deleted</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L252-L257'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='252' data-end='257'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 252</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_del'>del</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
  <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>.<span class='id identifier rubyid_flatten!'>flatten!</span>(<span class='int'>1</span>)
  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_del'>del</span>] <span class='op'>+</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-instance_method">
  <h3 class='signature '>
    #<strong>dump</strong>(key)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Return a serialized version of the value stored at a key.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p>serialized_value</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L203-L205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_dump'>dump</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exists-instance_method">
  <h3 class='signature '>
    #<strong>exists</strong>(*keys)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Determine how many of the keys exists.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>keys</span>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L274-L276'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='274' data-end='276'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 274</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exists'>exists</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_exists'>exists</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exists?-instance_method">
  <h3 class='signature '>
    #<strong>exists?</strong>(*keys)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Determine if any of the keys exists.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>keys</span>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L282-L286'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='282' data-end='286'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 282</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exists?'>exists?</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_exists'><a href="#exists-instance_method" title="Redis::Commands::Keys#exists (method)">exists</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>]) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expire-instance_method">
  <h3 class='signature '>
    #<strong>expire</strong>(key, seconds, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Set a key&#39;s time to live in seconds.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>seconds</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>time to live</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:nx =&gt; true</code>: Set expiry only when the key has no expiry.</li>
<li><code>:xx =&gt; true</code>: Set expiry only when the key has an existing expiry.</li>
<li><code>:gt =&gt; true</code>: Set expiry only when the new expiry is greater than current one.</li>
<li><code>:lt =&gt; true</code>: Set expiry only when the new expiry is less than current one.</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the timeout was set or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L82-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='82' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expire'>expire</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='label'>nx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>gt:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>lt:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_expire'>expire</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_seconds'>seconds</span>)]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_nx'>nx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_xx'>xx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_gt'>gt</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_lt'>lt</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expireat-instance_method">
  <h3 class='signature '>
    #<strong>expireat</strong>(key, unix_time, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Set the expiration for a key as a UNIX timestamp.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>unix_time</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>expiry time specified as a UNIX timestamp</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:nx =&gt; true</code>: Set expiry only when the key has no expiry.</li>
<li><code>:xx =&gt; true</code>: Set expiry only when the key has an existing expiry.</li>
<li><code>:gt =&gt; true</code>: Set expiry only when the new expiry is greater than current one.</li>
<li><code>:lt =&gt; true</code>: Set expiry only when the new expiry is less than current one.</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the timeout was set or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L102-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expireat'>expireat</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_unix_time'>unix_time</span><span class='comma'>,</span> <span class='label'>nx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>gt:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>lt:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_expireat'>expireat</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_unix_time'>unix_time</span>)]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_nx'>nx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_xx'>xx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_gt'>gt</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_lt'>lt</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expiretime-instance_method">
  <h3 class='signature '>
    #<strong>expiretime</strong>(key)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Get a key&#39;s expiry time specified as number of seconds from UNIX Epoch</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>expiry time specified as number of seconds from UNIX Epoch</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L116-L118'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='116' data-end='118'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 116</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expiretime'>expiretime</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_expiretime'>expiretime</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keys-instance_method">
  <h3 class='signature '>
    #<strong>keys</strong>(pattern = &quot;*&quot;)  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Find all keys matching the given pattern.</p>

<p>See the <a href="https://redis.io/docs/latest/commands/keys/">Redis <a href="Server.html" title="Redis::Commands::Server (module)"><code>Server</code></a> KEYS documentation</a> for further details</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>pattern</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>&quot;*&quot;</tt>)</em>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L294-L302'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='294' data-end='302'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_keys'>keys</span>(<span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span>]) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_reply'>reply</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_reply'>reply</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>String</span>)
      <span class='id identifier rubyid_reply'>reply</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_reply'>reply</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="migrate-instance_method">
  <h3 class='signature '>
    #<strong>migrate</strong>(key, options)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Transfer a key from the connected instance to another instance.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:host =&gt; String</code>: host of instance to migrate to</li>
<li><code>:port =&gt; Integer</code>: port of instance to migrate to</li>
<li><code>:db =&gt; Integer</code>: database to migrate to (default: same as source)</li>
<li><code>:timeout =&gt; Integer</code>: timeout (default: same as connection timeout)</li>
<li><code>:copy =&gt; Boolean</code>: Do not remove the key from the local instance.</li>
<li><code>:replace =&gt; Boolean</code>: Replace existing key on the remote instance.</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p><code>&quot;OK&quot;</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L234-L246'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='234' data-end='246'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 234</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_migrate'>migrate</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_migrate'>migrate</span>]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span>] <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:host not specified</span><span class='tstring_end'>&#39;</span></span>))
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>] <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:port not specified</span><span class='tstring_end'>&#39;</span></span>))
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>String</span>) <span class='op'>?</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_db'>db</span>] <span class='op'>||</span> <span class='ivar'>@client</span>.<span class='id identifier rubyid_db'>db</span>).<span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_timeout'>timeout</span>] <span class='op'>||</span> <span class='ivar'>@client</span>.<span class='id identifier rubyid_timeout'>timeout</span>).<span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>COPY</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_copy'><a href="#copy-instance_method" title="Redis::Commands::Keys#copy (method)">copy</a></span>]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>REPLACE</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span>]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>+=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KEYS</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_key'>key</span>] <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Array</span>)

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="move-instance_method">
  <h3 class='signature '>
    #<strong>move</strong>(key, db)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Move a key to another database.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'><p>Move a key to another database</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_set'>set</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;OK&quot;
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_move'>move</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span>
  <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_exists'><a href="#exists-instance_method" title="Redis::Commands::Keys#exists (method)">exists</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_select'>select</span> <span class='int'>2</span>
  <span class='comment'># =&gt; &quot;OK&quot;
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_exists'><a href="#exists-instance_method" title="Redis::Commands::Keys#exists (method)">exists</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_get'>get</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &quot;bar&quot;</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>db</span>
    <span class='type'>(<code>Integer</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the key was moved or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L323-L325'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='323' data-end='325'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_move'>move</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_db'>db</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_move'>move</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_db'>db</span>]<span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="object-instance_method">
  <h3 class='signature '>
    #<strong>object</strong>(*args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L360-L362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='360' data-end='362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 360</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_object'>object</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_object'>object</span>] <span class='op'>+</span> <span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="persist-instance_method">
  <h3 class='signature '>
    #<strong>persist</strong>(key)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Remove the expiration from a key.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the timeout was removed or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L68-L70'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='68' data-end='70'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 68</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_persist'>persist</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_persist'>persist</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>]<span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pexpire-instance_method">
  <h3 class='signature '>
    #<strong>pexpire</strong>(key, milliseconds, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Set a key&#39;s time to live in milliseconds.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>milliseconds</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>time to live</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:nx =&gt; true</code>: Set expiry only when the key has no expiry.</li>
<li><code>:xx =&gt; true</code>: Set expiry only when the key has an existing expiry.</li>
<li><code>:gt =&gt; true</code>: Set expiry only when the new expiry is greater than current one.</li>
<li><code>:lt =&gt; true</code>: Set expiry only when the new expiry is less than current one.</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the timeout was set or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L146-L154'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='146' data-end='154'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pexpire'>pexpire</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_milliseconds'>milliseconds</span><span class='comma'>,</span> <span class='label'>nx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>gt:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>lt:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_pexpire'>pexpire</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_milliseconds'>milliseconds</span>)]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_nx'>nx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_xx'>xx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_gt'>gt</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_lt'>lt</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pexpireat-instance_method">
  <h3 class='signature '>
    #<strong>pexpireat</strong>(key, ms_unix_time, nx: nil, xx: nil, gt: nil, lt: nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Set the expiration for a key as number of milliseconds from UNIX Epoch.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>ms_unix_time</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>expiry time specified as number of milliseconds from UNIX Epoch.</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:nx =&gt; true</code>: Set expiry only when the key has no expiry.</li>
<li><code>:xx =&gt; true</code>: Set expiry only when the key has an existing expiry.</li>
<li><code>:gt =&gt; true</code>: Set expiry only when the new expiry is greater than current one.</li>
<li><code>:lt =&gt; true</code>: Set expiry only when the new expiry is less than current one.</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the timeout was set or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L166-L174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='166' data-end='174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pexpireat'>pexpireat</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ms_unix_time'>ms_unix_time</span><span class='comma'>,</span> <span class='label'>nx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xx:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>gt:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>lt:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_pexpireat'>pexpireat</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_ms_unix_time'>ms_unix_time</span>)]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_nx'>nx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XX</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_xx'>xx</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_gt'>gt</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_lt'>lt</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pexpiretime-instance_method">
  <h3 class='signature '>
    #<strong>pexpiretime</strong>(key)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Get a key&#39;s expiry time specified as number of milliseconds from UNIX Epoch</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>expiry time specified as number of milliseconds from UNIX Epoch</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L180-L182'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='180' data-end='182'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 180</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pexpiretime'>pexpiretime</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_pexpiretime'>pexpiretime</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pttl-instance_method">
  <h3 class='signature '>
    #<strong>pttl</strong>(key)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Get the time to live (in milliseconds) for a key.</p>

<p>In Redis 2.6 or older the command returns -1 if the key does not exist or if
the key exist but has no associated expire.</p>

<p>Starting with <a href="../../Redis.html" title="Redis (class)"><code>::Redis</code></a> 2.8 the return value in case of error changed:</p>

<pre class="code ruby"><code class="ruby"><span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_command'>command</span> <span class='id identifier rubyid_returns'>returns</span> <span class='op'>-</span><span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_key'>key</span> <span class='id identifier rubyid_does'>does</span> <span class='kw'>not</span> <span class='id identifier rubyid_exist'>exist</span>.
<span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_command'>command</span> <span class='id identifier rubyid_returns'>returns</span> <span class='op'>-</span><span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_key'>key</span> <span class='id identifier rubyid_exists'><a href="#exists-instance_method" title="Redis::Commands::Keys#exists (method)">exists</a></span> <span class='id identifier rubyid_but'>but</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_associated'>associated</span> <span class='id identifier rubyid_expire'><a href="#expire-instance_method" title="Redis::Commands::Keys#expire (method)">expire</a></span>.</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>remaining time to live in milliseconds</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L195-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='195' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 195</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pttl'>pttl</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_pttl'>pttl</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="randomkey-instance_method">
  <h3 class='signature '>
    #<strong>randomkey</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Return a random key from the keyspace.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L367-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='367' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 367</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_randomkey'>randomkey</span>
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_randomkey'>randomkey</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rename-instance_method">
  <h3 class='signature '>
    #<strong>rename</strong>(old_name, new_name)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Rename a key. If the new key already exists it is overwritten.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>old_name</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>new_name</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p><code>OK</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L376-L378'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='376' data-end='378'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 376</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rename'>rename</span>(<span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_rename'>rename</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="renamenx-instance_method">
  <h3 class='signature '>
    #<strong>renamenx</strong>(old_name, new_name)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Rename a key, only if the new key does not exist.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>old_name</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>new_name</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Boolean</code>)</span>
&mdash;    <div class='inline'><p>whether the key was renamed or not</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L385-L387'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='385' data-end='387'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 385</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_renamenx'>renamenx</span>(<span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_renamenx'>renamenx</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span>]<span class='comma'>,</span> <span class='op'>&amp;</span><span class='const'><a href="../Commands.html#Boolify-constant" title="Redis::Commands::Boolify (constant)">Boolify</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="restore-instance_method">
  <h3 class='signature '>
    #<strong>restore</strong>(key, ttl, serialized_value, replace: nil)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Create a key using the serialized value, previously obtained using DUMP.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>ttl</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>serialized_value</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:replace =&gt; Boolean</code>: if false, raises an error if key already exists</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p><code>&quot;OK&quot;</code></p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="../CommandError.html" title="Redis::CommandError (class)">Redis::CommandError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L216-L221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='216' data-end='221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 216</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_restore'>restore</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ttl'><a href="#ttl-instance_method" title="Redis::Commands::Keys#ttl (method)">ttl</a></span><span class='comma'>,</span> <span class='id identifier rubyid_serialized_value'>serialized_value</span><span class='comma'>,</span> <span class='label'>replace:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_restore'>restore</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ttl'><a href="#ttl-instance_method" title="Redis::Commands::Keys#ttl (method)">ttl</a></span><span class='comma'>,</span> <span class='id identifier rubyid_serialized_value'>serialized_value</span>]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>REPLACE</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_replace'>replace</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    #<strong>scan</strong>(cursor, **options)  &#x21d2; <code>String</code><sup>+</sup> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Scan the keyspace</p>

<p>See the <a href="https://redis.io/docs/latest/commands/scan/">Redis <a href="Server.html" title="Redis::Commands::Server (module)"><code>Server</code></a> SCAN documentation</a> for further details</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'><p>Retrieve the first batch of keys</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='int'>0</span>)
  <span class='comment'># =&gt; [&quot;4&quot;, [&quot;key:21&quot;, &quot;key:47&quot;, &quot;key:42&quot;]]</span></code></pre>
        <p class='example_title'><div class='inline'><p>Retrieve a batch of keys matching a pattern</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_match'>match</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key:1?</span><span class='tstring_end'>&quot;</span></span>)
  <span class='comment'># =&gt; [&quot;92&quot;, [&quot;key:13&quot;, &quot;key:18&quot;]]</span></code></pre>
        <p class='example_title'><div class='inline'><p>Retrieve a batch of keys of a certain type</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='int'>92</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_type'><a href="#type-instance_method" title="Redis::Commands::Keys#type (method)">type</a></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zset</span><span class='tstring_end'>&quot;</span></span>)
  <span class='comment'># =&gt; [&quot;173&quot;, [&quot;sortedset:14&quot;, &quot;sortedset:78&quot;]]</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>cursor</span>
    <span class='type'>(<code>String</code>, <code>Integer</code>)</span>
&mdash;    <div class='inline'><p>the cursor of the iteration</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:match =&gt; String</code>: only return keys matching the pattern</li>
<li><code>:count =&gt; Integer</code>: return count keys at most per iteration</li>
<li><code>:type =&gt; String</code>: return keys only of the given type</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
&mdash;    <div class='inline'><p>the next cursor and all found keys</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L27-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='27' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 27</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>(<span class='id identifier rubyid_cursor'>cursor</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid__scan'><a href="#_scan-instance_method" title="Redis::Commands::Keys#_scan (method)">_scan</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_scan'>scan</span><span class='comma'>,</span> <span class='id identifier rubyid_cursor'>cursor</span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan_each-instance_method">
  <h3 class='signature '>
    #<strong>scan_each</strong>(**options, &amp;block)  &#x21d2; <code>Enumerator</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Scan the keyspace</p>

<p>See the <a href="https://redis.io/docs/latest/commands/scan/">Redis <a href="Server.html" title="Redis::Commands::Server (module)"><code>Server</code></a> SCAN documentation</a> for further details</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'><p>Retrieve all of the keys (with possible duplicates)</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan_each'>scan_each</span>.<span class='id identifier rubyid_to_a'>to_a</span>
  <span class='comment'># =&gt; [&quot;key:21&quot;, &quot;key:47&quot;, &quot;key:42&quot;]</span></code></pre>
        <p class='example_title'><div class='inline'><p>Execute block for each key matching a pattern</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan_each'>scan_each</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_match'>match</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key:1?</span><span class='tstring_end'>&quot;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_key'>key</span>}
  <span class='comment'># =&gt; key:13
</span>  <span class='comment'># =&gt; key:18</span></code></pre>
        <p class='example_title'><div class='inline'><p>Execute block for each key of a type</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_scan_each'>scan_each</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_type'><a href="#type-instance_method" title="Redis::Commands::Keys#type (method)">type</a></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hash</span><span class='tstring_end'>&quot;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_type'><a href="#type-instance_method" title="Redis::Commands::Keys#type (method)">type</a></span>(<span class='id identifier rubyid_key'>key</span>)}
  <span class='comment'># =&gt; &quot;hash&quot;
</span>  <span class='comment'># =&gt; &quot;hash&quot;</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:match =&gt; String</code>: only return keys matching the pattern</li>
<li><code>:count =&gt; Integer</code>: return count keys at most per iteration</li>
<li><code>:type =&gt; String</code>: return keys only of the given type</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Enumerator</code>)</span>
&mdash;    <div class='inline'><p>an enumerator for all found keys</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L53-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='53' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 53</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan_each'>scan_each</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_scan_each'>scan_each</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_cursor'>cursor</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_cursor'>cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span> <span class='op'>=</span> <span class='id identifier rubyid_scan'><a href="#scan-instance_method" title="Redis::Commands::Keys#scan (method)">scan</a></span>(<span class='id identifier rubyid_cursor'>cursor</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>.<span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_cursor'>cursor</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort-instance_method">
  <h3 class='signature '>
    #<strong>sort</strong>(key, by: nil, limit: nil, get: nil, order: nil, store: nil)  &#x21d2; <code>Array</code>&lt;<code>String</code>&gt;, ... 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Sort the elements in a list, set or sorted set.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'><p>Retrieve the first 2 elements from an alphabetically sorted &quot;list&quot;</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_sort'>sort</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_order'>order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>alpha</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_limit'>limit</span> <span class='op'>=&gt;</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>])
  <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;]</span></code></pre>
        <p class='example_title'><div class='inline'><p>Store an alphabetically descending list in &quot;target&quot;</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_redis'>redis</span>.<span class='id identifier rubyid_sort'>sort</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_order'>order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>desc alpha</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_store'>store</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>target</span><span class='tstring_end'>&quot;</span></span>)
  <span class='comment'># =&gt; 26</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'><ul>
<li><code>:by =&gt; String</code>: use external key to sort elements by</li>
<li><code>:limit =&gt; [offset, count]</code>: skip <code>offset</code> elements, return a maximum
of <code>count</code> elements</li>
<li><code>:get =&gt; [String, Array&lt;String&gt;]</code>: single key or array of keys to
retrieve per element in the result</li>
<li><code>:order =&gt; String</code>: combination of <code>ASC</code>, <code>DESC</code> and optionally <code>ALPHA</code></li>
<li><code>:store =&gt; String</code>: key to store the result at</li>
</ul>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<code>String</code>&gt;, <code>Array</code>&lt;<code>Array</code>&lt;<code>String</code>&gt;&gt;, <code>Integer</code>)</span>
&mdash;    <div class='inline'><ul>
<li>when <code>:get</code> is not specified, or holds a single element, an array of elements</li>
<li>when <code>:get</code> is specified, and holds more than one element, an array of
elements where every element is an array with the result for every
element specified in <code>:get</code></li>
<li>when <code>:store</code> is specified, the number of elements in the stored result</li>
</ul>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L414-L438'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='414' data-end='438'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 414</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sort'>sort</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='label'>by:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>limit:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>get:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>order:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>store:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>]
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BY</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_by'>by</span> <span class='kw'>if</span> <span class='id identifier rubyid_by'>by</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_limit'>limit</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIMIT</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_limit'>limit</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get'>get</span> <span class='op'>=</span> <span class='const'>Array</span>(<span class='id identifier rubyid_get'>get</span>)
  <span class='id identifier rubyid_get'>get</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_item'>item</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_order'>order</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)) <span class='kw'>if</span> <span class='id identifier rubyid_order'>order</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STORE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_store'>store</span> <span class='kw'>if</span> <span class='id identifier rubyid_store'>store</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_args'>args</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_reply'>reply</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_get'>get</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_store'>store</span>
      <span class='id identifier rubyid_reply'>reply</span>.<span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='id identifier rubyid_get'>get</span>.<span class='id identifier rubyid_size'>size</span>).<span class='id identifier rubyid_to_a'>to_a</span> <span class='kw'>if</span> <span class='id identifier rubyid_reply'>reply</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_reply'>reply</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ttl-instance_method">
  <h3 class='signature '>
    #<strong>ttl</strong>(key)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Get the time to live (in seconds) for a key.</p>

<p>In Redis 2.6 or older the command returns -1 if the key does not exist or if
the key exist but has no associated expire.</p>

<p>Starting with <a href="../../Redis.html" title="Redis (class)"><code>::Redis</code></a> 2.8 the return value in case of error changed:</p>

<pre class="code ruby"><code class="ruby"><span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_command'>command</span> <span class='id identifier rubyid_returns'>returns</span> <span class='op'>-</span><span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_key'>key</span> <span class='id identifier rubyid_does'>does</span> <span class='kw'>not</span> <span class='id identifier rubyid_exist'>exist</span>.
<span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_command'>command</span> <span class='id identifier rubyid_returns'>returns</span> <span class='op'>-</span><span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_key'>key</span> <span class='id identifier rubyid_exists'><a href="#exists-instance_method" title="Redis::Commands::Keys#exists (method)">exists</a></span> <span class='id identifier rubyid_but'>but</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_associated'>associated</span> <span class='id identifier rubyid_expire'><a href="#expire-instance_method" title="Redis::Commands::Keys#expire (method)">expire</a></span>.</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>remaining time to live in seconds.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L132-L134'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='132' data-end='134'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ttl'>ttl</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_ttl'>ttl</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type-instance_method">
  <h3 class='signature '>
    #<strong>type</strong>(key)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Determine the type stored at key.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>key</span>
    <span class='type'>(<code>String</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'><p><code>string</code>, <code>list</code>, <code>set</code>, <code>zset</code>, <code>hash</code> or <code>none</code></p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L444-L446'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='444' data-end='446'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 444</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_type'>type</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unlink-instance_method">
  <h3 class='signature '>
    #<strong>unlink</strong>(*keys)  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <p>Unlink one or more keys.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>keys</span>
    <span class='type'>(<code>String</code>, <code>Array</code>&lt;<code>String</code>&gt;)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'><p>number of keys that were unlinked</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/redis/redis-rb/blob/master/lib/redis/commands/keys.rb#L263-L268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='263' data-end='268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/redis/commands/keys.rb', line 263</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unlink'>unlink</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
  <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>.<span class='id identifier rubyid_flatten!'>flatten!</span>(<span class='int'>1</span>)
  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_send_command'><a href="../../Redis.html#send_command-instance_method" title="Redis#send_command (method)">send_command</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_unlink'>unlink</span>] <span class='op'>+</span> <span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Redis::Commands::Keys#keys (method)">keys</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>