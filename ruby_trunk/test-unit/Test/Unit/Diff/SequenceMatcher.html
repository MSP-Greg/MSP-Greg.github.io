<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Test::Unit::Diff::SequenceMatcher &mdash; test-unit  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Test::Unit::Diff::SequenceMatcher",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../../'>Ruby-master</a> &raquo; 
      <a href='../../../'>test-unit</a> &raquo; 
      <a href='../../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../../Test.html" title="Test (module)">Test</a> &raquo; 
        <a href="../../Unit.html" title="Test::Unit (module)">Unit</a> &raquo; 
        <a href="../Diff.html" title="Test::Unit::Diff (module)">Diff</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SequenceMatcher&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Test::Unit::Diff::SequenceMatcher</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L12'>lib/test/unit/diff.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(from, to, &amp;junk_predicate)  &#x21d2; SequenceMatcher </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#blocks-instance_method" title="#blocks (instance method)">#<strong>blocks</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grouped_operations-instance_method" title="#grouped_operations (instance method)">#<strong>grouped_operations</strong>(context_size = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#longest_match-instance_method" title="#longest_match (instance method)">#<strong>longest_match</strong>(from_start, from_end, to_start, to_end)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#operations-instance_method" title="#operations (instance method)">#<strong>operations</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ratio-instance_method" title="#ratio (instance method)">#<strong>ratio</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#adjust_best_info_with_junk_predicate-instance_method" title="#adjust_best_info_with_junk_predicate (instance method)">#<strong>adjust_best_info_with_junk_predicate</strong>(should_junk, best_info, from_start, from_end, to_start, to_end)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compute_blocks-instance_method" title="#compute_blocks (instance method)">#<strong>compute_blocks</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compute_matches-instance_method" title="#compute_matches (instance method)">#<strong>compute_matches</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compute_operations-instance_method" title="#compute_operations (instance method)">#<strong>compute_operations</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compute_ratio-instance_method" title="#compute_ratio (instance method)">#<strong>compute_ratio</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#determine_tag-instance_method" title="#determine_tag (instance method)">#<strong>determine_tag</strong>(from_index, to_index, match_from_index, match_to_index)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#expand_edge_equal_operations!-instance_method" title="#expand_edge_equal_operations! (instance method)">#<strong>expand_edge_equal_operations!</strong>(_operations, context_size)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#find_best_match_position-instance_method" title="#find_best_match_position (instance method)">#<strong>find_best_match_position</strong>(from_start, from_end, to_start, to_end)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#matches-instance_method" title="#matches (instance method)">#<strong>matches</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#update_to_indexes-instance_method" title="#update_to_indexes (instance method)">#<strong>update_to_indexes</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(from, to, &amp;junk_predicate)  &#x21d2; <code>SequenceMatcher</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L13-L18'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='13' data-end='18'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 13</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_from'>from</span><span class='comma'>,</span> <span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_junk_predicate'>junk_predicate</span>)
  <span class='ivar'>@from</span> <span class='op'>=</span> <span class='id identifier rubyid_from'>from</span>
  <span class='ivar'>@to</span> <span class='op'>=</span> <span class='id identifier rubyid_to'>to</span>
  <span class='ivar'>@junk_predicate</span> <span class='op'>=</span> <span class='id identifier rubyid_junk_predicate'>junk_predicate</span>
  <span class='id identifier rubyid_update_to_indexes'><a href="#update_to_indexes-instance_method" title="Test::Unit::Diff::SequenceMatcher#update_to_indexes (method)">update_to_indexes</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="adjust_best_info_with_junk_predicate-instance_method">
  <h3 class='signature priv first'>
    #<strong>adjust_best_info_with_junk_predicate</strong>(should_junk, best_info, from_start, from_end, to_start, to_end)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L117-L141'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='117' data-end='141'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 117</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_adjust_best_info_with_junk_predicate'>adjust_best_info_with_junk_predicate</span>(<span class='id identifier rubyid_should_junk'>should_junk</span><span class='comma'>,</span> <span class='id identifier rubyid_best_info'>best_info</span><span class='comma'>,</span>
                                         <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span>
                                         <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>)
  <span class='id identifier rubyid_best_from'>best_from</span><span class='comma'>,</span> <span class='id identifier rubyid_best_to'>best_to</span><span class='comma'>,</span> <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>=</span> <span class='id identifier rubyid_best_info'>best_info</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_from_start'>from_start</span> <span class='kw'>and</span> <span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_to_start'>to_start</span> <span class='kw'>and</span>
      (<span class='id identifier rubyid_should_junk'>should_junk</span> <span class='op'>?</span>
       <span class='ivar'>@junks</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>-</span> <span class='int'>1</span>]) <span class='op'>:</span>
       <span class='op'>!</span><span class='ivar'>@junks</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>-</span> <span class='int'>1</span>])) <span class='kw'>and</span>
      <span class='ivar'>@from</span>[<span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>-</span> <span class='int'>1</span>] <span class='op'>==</span> <span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>-</span> <span class='int'>1</span>]
    <span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='kw'>and</span>
      <span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='kw'>and</span>
      (<span class='id identifier rubyid_should_junk'>should_junk</span> <span class='op'>?</span>
       <span class='ivar'>@junks</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span>]) <span class='op'>:</span>
       <span class='op'>!</span><span class='ivar'>@junks</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span>])) <span class='kw'>and</span>
      <span class='ivar'>@from</span>[<span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span>] <span class='op'>==</span> <span class='ivar'>@to</span>[<span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>+</span> <span class='id identifier rubyid_best_size'>best_size</span>]
    <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  [<span class='id identifier rubyid_best_from'>best_from</span><span class='comma'>,</span> <span class='id identifier rubyid_best_to'>best_to</span><span class='comma'>,</span> <span class='id identifier rubyid_best_size'>best_size</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="blocks-instance_method">
  <h3 class='signature '>
    #<strong>blocks</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L34-L36'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='34' data-end='36'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 34</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_blocks'>blocks</span>
  <span class='ivar'>@blocks</span> <span class='op'>||=</span> <span class='id identifier rubyid_compute_blocks'><a href="#compute_blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#compute_blocks (method)">compute_blocks</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compute_blocks-instance_method">
  <h3 class='signature priv'>
    #<strong>compute_blocks</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L173-L195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_blocks'>compute_blocks</span>
  <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span> <span class='op'>=</span> []
  <span class='id identifier rubyid_current_from_index'>current_from_index</span> <span class='op'>=</span> <span class='id identifier rubyid_current_to_index'>current_to_index</span> <span class='op'>=</span> <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_to_index'>to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_current_from_index'>current_from_index</span> <span class='op'>+</span> <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>==</span> <span class='id identifier rubyid_from_index'>from_index</span> <span class='kw'>and</span>
        <span class='id identifier rubyid_current_to_index'>current_to_index</span> <span class='op'>+</span> <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>==</span> <span class='id identifier rubyid_to_index'>to_index</span>
      <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>+=</span> <span class='id identifier rubyid_size'>size</span>
    <span class='kw'>else</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_current_size'>current_size</span>.<span class='id identifier rubyid_zero?'>zero?</span>
        <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_current_from_index'>current_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_current_to_index'>current_to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_current_size'>current_size</span>]
      <span class='kw'>end</span>
      <span class='id identifier rubyid_current_from_index'>current_from_index</span> <span class='op'>=</span> <span class='id identifier rubyid_from_index'>from_index</span>
      <span class='id identifier rubyid_current_to_index'>current_to_index</span> <span class='op'>=</span> <span class='id identifier rubyid_to_index'>to_index</span>
      <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>=</span> <span class='id identifier rubyid_size'>size</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_current_size'>current_size</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_current_from_index'>current_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_current_to_index'>current_to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_current_size'>current_size</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span> <span class='op'>&lt;&lt;</span> [<span class='ivar'>@from</span>.<span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='ivar'>@to</span>.<span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='int'>0</span>]
  <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compute_matches-instance_method">
  <h3 class='signature priv'>
    #<strong>compute_matches</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L147-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='147' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 147</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_matches'>compute_matches</span>
  <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span> <span class='op'>=</span> []
  <span class='id identifier rubyid_queue'>queue</span> <span class='op'>=</span> [[<span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@from</span>.<span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@to</span>.<span class='id identifier rubyid_size'>size</span>]]
  <span class='kw'>until</span> <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>=</span> <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='id identifier rubyid_longest_match'><a href="#longest_match-instance_method" title="Test::Unit::Diff::SequenceMatcher#longest_match (method)">longest_match</a></span>(<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>-</span> <span class='int'>1</span>)
    <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>=</span> <span class='id identifier rubyid_match'>match</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_size'>size</span>.<span class='id identifier rubyid_zero?'>zero?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_from_start'>from_start</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span> <span class='kw'>and</span>
          <span class='id identifier rubyid_to_start'>to_start</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>
        <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_push'>push</span>([<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span>
                    <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>])
      <span class='kw'>end</span>
      <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_match'>match</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='kw'>and</span>
          <span class='id identifier rubyid_match_to_index'>match_to_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_to_end'>to_end</span>
        <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_push'>push</span>([<span class='id identifier rubyid_match_from_index'>match_from_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span>
                    <span class='id identifier rubyid_match_to_index'>match_to_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>])
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span>.<span class='id identifier rubyid_sort_by'>sort_by</span> <span class='kw'>do</span> <span class='op'>|</span>(<span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span>)<span class='op'>|</span>
    <span class='id identifier rubyid_from_index'>from_index</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compute_operations-instance_method">
  <h3 class='signature priv'>
    #<strong>compute_operations</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L197-L217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_operations'>compute_operations</span>
  <span class='id identifier rubyid_from_index'>from_index</span> <span class='op'>=</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_operations'><a href="#operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#operations (method)">operations</a></span> <span class='op'>=</span> []
  <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='op'>|</span>
    <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='id identifier rubyid_determine_tag'><a href="#determine_tag-instance_method" title="Test::Unit::Diff::SequenceMatcher#determine_tag (method)">determine_tag</a></span>(<span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_to_index'>to_index</span><span class='comma'>,</span>
                        <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span>
      <span class='id identifier rubyid_operations'><a href="#operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#operations (method)">operations</a></span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_to_index'>to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>]
    <span class='kw'>end</span>

    <span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>=</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span> <span class='op'>+</span> <span class='id identifier rubyid_size'>size</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_operations'><a href="#operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#operations (method)">operations</a></span> <span class='op'>&lt;&lt;</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_match_to_index'>match_to_index</span><span class='comma'>,</span> <span class='id identifier rubyid_to_index'>to_index</span>]
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_operations'><a href="#operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#operations (method)">operations</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compute_ratio-instance_method">
  <h3 class='signature priv'>
    #<strong>compute_ratio</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L219-L227'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='219' data-end='227'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 219</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_ratio'>compute_ratio</span>
  <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span> <span class='op'>=</span> <span class='id identifier rubyid_blocks'><a href="#blocks-instance_method" title="Test::Unit::Diff::SequenceMatcher#blocks (method)">blocks</a></span>.<span class='id identifier rubyid_inject'>inject</span>(<span class='int'>0</span>) {<span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='op'>|</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>+</span> <span class='id identifier rubyid_block'>block</span>[<span class='op'>-</span><span class='int'>1</span>]}
  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='ivar'>@from</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>+</span> <span class='ivar'>@to</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_length'>length</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='float'>1.0</span>
  <span class='kw'>else</span>
    <span class='float'>2.0</span> <span class='op'>*</span> <span class='id identifier rubyid_matches'><a href="#matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#matches (method)">matches</a></span> <span class='op'>/</span> <span class='id identifier rubyid_length'>length</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="determine_tag-instance_method">
  <h3 class='signature priv'>
    #<strong>determine_tag</strong>(from_index, to_index, match_from_index, match_to_index)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L229-L240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='229' data-end='240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_determine_tag'>determine_tag</span>(<span class='id identifier rubyid_from_index'>from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_to_index'>to_index</span><span class='comma'>,</span>
                  <span class='id identifier rubyid_match_from_index'>match_from_index</span><span class='comma'>,</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_from_index'>from_index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span> <span class='kw'>and</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_replace'>replace</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_from_index'>from_index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_from_index'>match_from_index</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_delete'>delete</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_match_to_index'>match_to_index</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_insert'>insert</span>
  <span class='kw'>else</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expand_edge_equal_operations!-instance_method">
  <h3 class='signature priv'>
    #<strong>expand_edge_equal_operations!</strong>(_operations, context_size)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L242-L260'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='242' data-end='260'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 242</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_edge_equal_operations!'>expand_edge_equal_operations!</span>(<span class='id identifier rubyid__operations'>_operations</span><span class='comma'>,</span> <span class='id identifier rubyid_context_size'>context_size</span>)
  <span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>=</span> <span class='id identifier rubyid__operations'>_operations</span>[<span class='int'>0</span>]
  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span>
    <span class='id identifier rubyid__operations'>_operations</span>[<span class='int'>0</span>] <span class='op'>=</span> [<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span>
                      [<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='op'>-</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_max'>max</span><span class='comma'>,</span>
                      <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span>
                      [<span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>-</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_max'>max</span><span class='comma'>,</span>
                      <span class='id identifier rubyid_to_end'>to_end</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>=</span> <span class='id identifier rubyid__operations'>_operations</span>[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span>
    <span class='id identifier rubyid__operations'>_operations</span>[<span class='op'>-</span><span class='int'>1</span>] <span class='op'>=</span> [<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span>
                       <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span>
                       [<span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span> <span class='op'>+</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span>
                       <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span>
                       [<span class='id identifier rubyid_to_end'>to_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span> <span class='op'>+</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_min'>min</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_best_match_position-instance_method">
  <h3 class='signature priv'>
    #<strong>find_best_match_position</strong>(from_start, from_end, to_start, to_end)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L97-L115'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='115'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_best_match_position'>find_best_match_position</span>(<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>)
  <span class='id identifier rubyid_best_from'>best_from</span><span class='comma'>,</span> <span class='id identifier rubyid_best_to'>best_to</span><span class='comma'>,</span> <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>=</span> <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sizes'>sizes</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_from_start'>from_start</span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='id identifier rubyid_from_end'>from_end</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_from_index'>from_index</span><span class='op'>|</span>
    <span class='id identifier rubyid__sizes'>_sizes</span> <span class='op'>=</span> {}
    (<span class='ivar'>@to_indexes</span>[<span class='ivar'>@from</span>[<span class='id identifier rubyid_from_index'>from_index</span>]] <span class='op'>||</span> []).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_to_index'>to_index</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_to_start'>to_start</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_to_end'>to_end</span>
      <span class='id identifier rubyid_size'>size</span> <span class='op'>=</span> <span class='id identifier rubyid__sizes'>_sizes</span>[<span class='id identifier rubyid_to_index'>to_index</span>] <span class='op'>=</span> (<span class='id identifier rubyid_sizes'>sizes</span>[<span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>-</span> <span class='int'>1</span>] <span class='op'>||</span> <span class='int'>0</span>) <span class='op'>+</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_best_size'>best_size</span>
        <span class='id identifier rubyid_best_from'>best_from</span> <span class='op'>=</span> <span class='id identifier rubyid_from_index'>from_index</span> <span class='op'>-</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>
        <span class='id identifier rubyid_best_to'>best_to</span> <span class='op'>=</span> <span class='id identifier rubyid_to_index'>to_index</span> <span class='op'>-</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>
        <span class='id identifier rubyid_best_size'>best_size</span> <span class='op'>=</span> <span class='id identifier rubyid_size'>size</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_sizes'>sizes</span> <span class='op'>=</span> <span class='id identifier rubyid__sizes'>_sizes</span>
  <span class='kw'>end</span>
  [<span class='id identifier rubyid_best_from'>best_from</span><span class='comma'>,</span> <span class='id identifier rubyid_best_to'>best_to</span><span class='comma'>,</span> <span class='id identifier rubyid_best_size'>best_size</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grouped_operations-instance_method">
  <h3 class='signature '>
    #<strong>grouped_operations</strong>(context_size = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L42-L67'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='42' data-end='67'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 42</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_grouped_operations'>grouped_operations</span>(<span class='id identifier rubyid_context_size'>context_size</span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='id identifier rubyid_context_size'>context_size</span> <span class='op'>||=</span> <span class='int'>3</span>
  <span class='id identifier rubyid__operations'>_operations</span> <span class='op'>=</span> <span class='id identifier rubyid_operations'><a href="#operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#operations (method)">operations</a></span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid__operations'>_operations</span> <span class='op'>=</span> [[<span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>]] <span class='kw'>if</span> <span class='id identifier rubyid__operations'>_operations</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_expand_edge_equal_operations!'><a href="#expand_edge_equal_operations!-instance_method" title="Test::Unit::Diff::SequenceMatcher#expand_edge_equal_operations! (method)">expand_edge_equal_operations!</a></span>(<span class='id identifier rubyid__operations'>_operations</span><span class='comma'>,</span> <span class='id identifier rubyid_context_size'>context_size</span>)

  <span class='id identifier rubyid_group_window'>group_window</span> <span class='op'>=</span> <span class='id identifier rubyid_context_size'>context_size</span> <span class='op'>*</span> <span class='int'>2</span>
  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> []
  <span class='id identifier rubyid__operations'>_operations</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_equal'>equal</span> <span class='kw'>and</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='op'>-</span> <span class='id identifier rubyid_from_start'>from_start</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_group_window'>group_window</span>
      <span class='id identifier rubyid_group'>group</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span>
                <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span>
                [<span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span> <span class='op'>+</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span>
                <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span>
                [<span class='id identifier rubyid_to_end'>to_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span> <span class='op'>+</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_min'>min</span>]
      <span class='id identifier rubyid_groups'>groups</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_group'>group</span>
      <span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> []
      <span class='id identifier rubyid_from_start'>from_start</span> <span class='op'>=</span> [<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span> <span class='op'>-</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_max'>max</span>
      <span class='id identifier rubyid_to_start'>to_start</span> <span class='op'>=</span> [<span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span> <span class='op'>-</span> <span class='id identifier rubyid_context_size'>context_size</span>].<span class='id identifier rubyid_max'>max</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_group'>group</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>]
  <span class='kw'>end</span>
  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_group'>group</span> <span class='kw'>unless</span> <span class='id identifier rubyid_group'>group</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_groups'>groups</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="longest_match-instance_method">
  <h3 class='signature '>
    #<strong>longest_match</strong>(from_start, from_end, to_start, to_end)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L20-L32'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='20' data-end='32'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 20</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_longest_match'>longest_match</span>(<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>)
  <span class='id identifier rubyid_best_info'>best_info</span> <span class='op'>=</span> <span class='id identifier rubyid_find_best_match_position'><a href="#find_best_match_position-instance_method" title="Test::Unit::Diff::SequenceMatcher#find_best_match_position (method)">find_best_match_position</a></span>(<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span>
                                       <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>)
  <span class='kw'>unless</span> <span class='ivar'>@junks</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> [<span class='id identifier rubyid_from_start'>from_start</span><span class='comma'>,</span> <span class='id identifier rubyid_from_end'>from_end</span><span class='comma'>,</span> <span class='id identifier rubyid_to_start'>to_start</span><span class='comma'>,</span> <span class='id identifier rubyid_to_end'>to_end</span>]
    <span class='id identifier rubyid_best_info'>best_info</span> <span class='op'>=</span> <span class='id identifier rubyid_adjust_best_info_with_junk_predicate'><a href="#adjust_best_info_with_junk_predicate-instance_method" title="Test::Unit::Diff::SequenceMatcher#adjust_best_info_with_junk_predicate (method)">adjust_best_info_with_junk_predicate</a></span>(<span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_best_info'>best_info</span><span class='comma'>,</span>
                                                     <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
    <span class='id identifier rubyid_best_info'>best_info</span> <span class='op'>=</span> <span class='id identifier rubyid_adjust_best_info_with_junk_predicate'><a href="#adjust_best_info_with_junk_predicate-instance_method" title="Test::Unit::Diff::SequenceMatcher#adjust_best_info_with_junk_predicate (method)">adjust_best_info_with_junk_predicate</a></span>(<span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_best_info'>best_info</span><span class='comma'>,</span>
                                                     <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_best_info'>best_info</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="matches-instance_method">
  <h3 class='signature priv'>
    #<strong>matches</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L143-L145'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='143' data-end='145'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 143</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_matches'>matches</span>
  <span class='ivar'>@matches</span> <span class='op'>||=</span> <span class='id identifier rubyid_compute_matches'><a href="#compute_matches-instance_method" title="Test::Unit::Diff::SequenceMatcher#compute_matches (method)">compute_matches</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="operations-instance_method">
  <h3 class='signature '>
    #<strong>operations</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L38-L40'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='38' data-end='40'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 38</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_operations'>operations</span>
  <span class='ivar'>@operations</span> <span class='op'>||=</span> <span class='id identifier rubyid_compute_operations'><a href="#compute_operations-instance_method" title="Test::Unit::Diff::SequenceMatcher#compute_operations (method)">compute_operations</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ratio-instance_method">
  <h3 class='signature '>
    #<strong>ratio</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L69-L71'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='69' data-end='71'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 69</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ratio'>ratio</span>
  <span class='ivar'>@ratio</span> <span class='op'>||=</span> <span class='id identifier rubyid_compute_ratio'><a href="#compute_ratio-instance_method" title="Test::Unit::Diff::SequenceMatcher#compute_ratio (method)">compute_ratio</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update_to_indexes-instance_method">
  <h3 class='signature priv'>
    #<strong>update_to_indexes</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/test-unit/test-unit/blob/3.7.0/lib/test/unit/diff.rb#L74-L95'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='74' data-end='95'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/test/unit/diff.rb', line 74</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_update_to_indexes'>update_to_indexes</span>
  <span class='ivar'>@to_indexes</span> <span class='op'>=</span> {}
  <span class='ivar'>@junks</span> <span class='op'>=</span> {}
  <span class='kw'>if</span> <span class='ivar'>@to</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>String</span>)
    <span class='id identifier rubyid_each'>each</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>[<span class='int'>0</span>].<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each_byte'>each_byte</span> <span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each_char'>each_char</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_each'>each</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@to</span>.<span class='id identifier rubyid___send__'>__send__</span>(<span class='id identifier rubyid_each'>each</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='ivar'>@to_indexes</span>[<span class='id identifier rubyid_item'>item</span>] <span class='op'>||=</span> []
    <span class='ivar'>@to_indexes</span>[<span class='id identifier rubyid_item'>item</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_i'>i</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@junk_predicate</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='ivar'>@to_indexes</span> <span class='op'>=</span> <span class='ivar'>@to_indexes</span>.<span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_junk'>junk</span> <span class='op'>=</span> <span class='ivar'>@junk_predicate</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_key'>key</span>)
    <span class='ivar'>@junks</span>[<span class='id identifier rubyid_key'>key</span>] <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_junk'>junk</span>
    <span class='id identifier rubyid_junk'>junk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>