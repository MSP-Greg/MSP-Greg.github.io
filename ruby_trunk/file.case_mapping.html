<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Case Mapping &mdash; Ruby-master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "case_mapping",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Ruby-master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Case Mapping&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="file_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>

<h1 id="label-Case+Mapping">Case Mapping</h1>

<p>Some string-oriented methods use case mapping.</p>

<p>In String:</p>
<ul><li>
<p>String#capitalize</p>
</li><li>
<p>String#capitalize!</p>
</li><li>
<p>String#casecmp</p>
</li><li>
<p>String#casecmp?</p>
</li><li>
<p>String#downcase</p>
</li><li>
<p>String#downcase!</p>
</li><li>
<p>String#swapcase</p>
</li><li>
<p>String#swapcase!</p>
</li><li>
<p>String#upcase</p>
</li><li>
<p>String#upcase!</p>
</li></ul>

<p>In Symbol:</p>
<ul><li>
<p>Symbol#capitalize</p>
</li><li>
<p>Symbol#casecmp</p>
</li><li>
<p>Symbol#casecmp?</p>
</li><li>
<p>Symbol#downcase</p>
</li><li>
<p>Symbol#swapcase</p>
</li><li>
<p>Symbol#upcase</p>
</li></ul>

<h2 id="label-Default+Case+Mapping">Default Case Mapping</h2>

<p>By default, all of these methods use full Unicode case mapping, which is suitable for most languages. See <a href="https://www.unicode.org/versions/latest/ch03.pdf" target="_parent" title="Section 3.13 (Default Case Algorithms) of the Unicode standard">Section 3.13 (Default Case Algorithms) of the Unicode standard</a>.</p>

<p>Non-ASCII case mapping and folding are supported for UTF-8, UTF-16BE/LE, UTF-32BE/LE, and ISO-8859-1~16 Strings/Symbols.</p>

<p>Context-dependent case mapping as described in <a href="https://www.unicode.org/versions/latest/ch03.pdf" target="_parent" title="Table 3-17 (Context Specification for Casing) of the Unicode standard">Table 3-17 (Context Specification for Casing) of the Unicode standard</a> is currently not supported.</p>

<p>In most cases, the case conversion of a string has the same number of characters as before. There are exceptions (see also <code>:fold</code> below):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00DF</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;ß&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>     <span class='comment'># =&gt; &quot;SS&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u0149</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;ŉ&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>     <span class='comment'># =&gt; &quot;ʼN&quot;</span></code></pre>

<p>Case mapping may also depend on locale (see also <code>:turkic</code> below):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u0049</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'># =&gt; &quot;I&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>          <span class='comment'># =&gt; &quot;i&quot; # Dot above.
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_turkic'>turkic</span>) <span class='comment'># =&gt; &quot;ı&quot; # No dot above.</span></code></pre>

<p>Case changes may not be reversible:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>         <span class='comment'># =&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>.<span class='id identifier rubyid_upcase'>upcase</span>  <span class='comment'># =&gt; &quot;HELLO WORLD!&quot; # Different from original s.</span></code></pre>

<p>Case changing methods may not maintain Unicode normalization. See String#unicode_normalize.</p>

<h2 id="label-Case+Mappings">Case Mappings</h2>

<p>Except for <code>casecmp</code> and <code>casecmp?</code>, each of the case-mapping methods listed above accepts an optional argument, <code>mapping</code>.</p>

<p>The argument is one of:</p>
<ul><li>
<p><code>:ascii</code>: ASCII-only mapping. Uppercase letters (‘A’..‘Z’) are mapped to lowercase letters (‘a’..‘z); other characters are not changed</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Foo \u00D8 \u00F8 Bar</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;Foo Ø ø Bar&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>                    <span class='comment'># =&gt; &quot;FOO Ø Ø BAR&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>                  <span class='comment'># =&gt; &quot;foo ø ø bar&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_ascii'>ascii</span>)            <span class='comment'># =&gt; &quot;FOO Ø ø BAR&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_ascii'>ascii</span>)          <span class='comment'># =&gt; &quot;foo Ø ø bar&quot;</span></code></pre>
</li><li>
<p><code>:turkic</code>: Full Unicode case mapping. For the Turkic languages that distinguish dotted and dotless I, for example Turkish and Azeri.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Türkiye</span><span class='tstring_end'>&#39;</span></span>       <span class='comment'># =&gt; &quot;Türkiye&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>            <span class='comment'># =&gt; &quot;TÜRKIYE&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_turkic'>turkic</span>)   <span class='comment'># =&gt; &quot;TÜRKİYE&quot; # Dot above.
</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TÜRKIYE</span><span class='tstring_end'>&#39;</span></span>       <span class='comment'># =&gt; &quot;TÜRKIYE&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>          <span class='comment'># =&gt; &quot;türkiye&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_turkic'>turkic</span>) <span class='comment'># =&gt; &quot;türkıye&quot; # No dot above.</span></code></pre>
</li><li>
<p><code>:fold</code> (available only for String#downcase, String#downcase!, and Symbol#downcase). Unicode case folding, which is more far-reaching than Unicode case mapping.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00DF</span><span class='tstring_end'>&quot;</span></span>      <span class='comment'># =&gt; &quot;ß&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>        <span class='comment'># =&gt; &quot;ß&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_fold'>fold</span>) <span class='comment'># =&gt; &quot;ss&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>          <span class='comment'># =&gt; &quot;SS&quot;
</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\uFB04</span><span class='tstring_end'>&quot;</span></span>      <span class='comment'># =&gt; &quot;ﬄ&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>        <span class='comment'># =&gt; &quot;ﬄ&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>          <span class='comment'># =&gt; &quot;FFL&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_fold'>fold</span>) <span class='comment'># =&gt; &quot;ffl&quot;</span></code></pre>
</li></ul>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>