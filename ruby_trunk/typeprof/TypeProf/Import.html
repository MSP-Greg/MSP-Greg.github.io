<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: TypeProf::Import &mdash; typeprof  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "TypeProf::Import",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-master</a> &raquo; 
      <a href='../'>typeprof</a> &raquo; 
      <a href='../_index.html#alpha_I'>Index (I)</a> &raquo; 
        <a href="../TypeProf.html" title="TypeProf (module)">TypeProf</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Import&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: TypeProf::Import</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L566'>lib/typeprof/import.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#import_builtin-class_method" title=".import_builtin (class method)">.<strong>import_builtin</strong>(scratch)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#import_library-class_method" title=".import_library (class method)">.<strong>import_library</strong>(scratch, feature)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#import_rbs_code-class_method" title=".import_rbs_code (class method)">.<strong>import_rbs_code</strong>(scratch, rbs_name, rbs_code)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#import_rbs_files-class_method" title=".import_rbs_files (class method)">.<strong>import_rbs_files</strong>(scratch, rbs_paths)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(scratch, json)  &#x21d2; Import </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#conv_attr_defs-instance_method" title="#conv_attr_defs (instance method)">#<strong>conv_attr_defs</strong>(mdef, rbs_source)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#conv_block-instance_method" title="#conv_block (instance method)">#<strong>conv_block</strong>(blk)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#conv_func-instance_method" title="#conv_func (instance method)">#<strong>conv_func</strong>(sig_ret)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#conv_method_def-instance_method" title="#conv_method_def (instance method)">#<strong>conv_method_def</strong>(method_name, mdef, rbs_source)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#conv_type-instance_method" title="#conv_type (instance method)">#<strong>conv_type</strong>(ty)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#import-instance_method" title="#import (instance method)">#<strong>import</strong>(explicit = false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#path_to_klass-instance_method" title="#path_to_klass (instance method)">#<strong>path_to_klass</strong>(path)  </a>
    </span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(scratch, json)  &#x21d2; <code>Import</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L592-L595'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='592' data-end='595'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 592</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_json'>json</span>)
  <span class='ivar'>@scratch</span> <span class='op'>=</span> <span class='id identifier rubyid_scratch'>scratch</span>
  <span class='ivar'>@json</span> <span class='op'>=</span> <span class='id identifier rubyid_json'>json</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="import_builtin-class_method">
  <h3 class='signature  first'>
    .<strong>import_builtin</strong>(scratch)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L567-L569'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='567' data-end='569'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 567</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_import_builtin'>import_builtin</span>(<span class='id identifier rubyid_scratch'>scratch</span>)
  <span class='const'>Import</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="TypeProf::Import.new (method)">new</a></span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_scratch'>scratch</span>.<span class='id identifier rubyid_rbs_reader'>rbs_reader</span>.<span class='id identifier rubyid_load_builtin'>load_builtin</span>).<span class='id identifier rubyid_import'><a href="#import-instance_method" title="TypeProf::Import#import (method)">import</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="import_library-class_method">
  <h3 class='signature '>
    .<strong>import_library</strong>(scratch, feature)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L571-L581'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='571' data-end='581'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 571</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_import_library'>import_library</span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_feature'>feature</span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='id identifier rubyid_scratch'>scratch</span>.<span class='id identifier rubyid_rbs_reader'>rbs_reader</span>.<span class='id identifier rubyid_load_library'>load_library</span>(<span class='id identifier rubyid_feature'>feature</span>)
  <span class='kw'>rescue</span> <span class='const'>RBS</span><span class='op'>::</span><span class='const'>EnvironmentLoader</span><span class='op'>::</span><span class='const'>UnknownLibraryError</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>rescue</span> <span class='const'>RBS</span><span class='op'>::</span><span class='const'>DuplicatedDeclarationError</span><span class='comma'>,</span> <span class='const'><a href="RBSReader.html" title="TypeProf::RBSReader (class)">RBSReader</a></span><span class='op'>::</span><span class='const'><a href="RBSReader/RBSCollectionDefined.html" title="TypeProf::RBSReader::RBSCollectionDefined (class)">RBSCollectionDefined</a></span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='comment'># need cache?
</span>  <span class='const'>Import</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="TypeProf::Import.new (method)">new</a></span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_json'>json</span>).<span class='id identifier rubyid_import'><a href="#import-instance_method" title="TypeProf::Import#import (method)">import</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="import_rbs_code-class_method">
  <h3 class='signature '>
    .<strong>import_rbs_code</strong>(scratch, rbs_name, rbs_code)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L588-L590'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='588' data-end='590'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 588</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_import_rbs_code'>import_rbs_code</span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_name'>rbs_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_code'>rbs_code</span>)
  <span class='const'>Import</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="TypeProf::Import.new (method)">new</a></span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_scratch'>scratch</span>.<span class='id identifier rubyid_rbs_reader'>rbs_reader</span>.<span class='id identifier rubyid_load_rbs_string'>load_rbs_string</span>(<span class='id identifier rubyid_rbs_name'>rbs_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_code'>rbs_code</span>)).<span class='id identifier rubyid_import'><a href="#import-instance_method" title="TypeProf::Import#import (method)">import</a></span>(<span class='kw'>true</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="import_rbs_files-class_method">
  <h3 class='signature '>
    .<strong>import_rbs_files</strong>(scratch, rbs_paths)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L583-L586'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='583' data-end='586'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_import_rbs_files'>import_rbs_files</span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_paths'>rbs_paths</span>)
  <span class='id identifier rubyid_rbs_paths'>rbs_paths</span> <span class='op'>=</span> <span class='id identifier rubyid_rbs_paths'>rbs_paths</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_rbs_path'>rbs_path</span><span class='op'>|</span> <span class='const'>Pathname</span>(<span class='id identifier rubyid_rbs_path'>rbs_path</span>) }
  <span class='const'>Import</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="TypeProf::Import.new (method)">new</a></span>(<span class='id identifier rubyid_scratch'>scratch</span><span class='comma'>,</span> <span class='id identifier rubyid_scratch'>scratch</span>.<span class='id identifier rubyid_rbs_reader'>rbs_reader</span>.<span class='id identifier rubyid_load_paths'>load_paths</span>(<span class='id identifier rubyid_rbs_paths'>rbs_paths</span>)).<span class='id identifier rubyid_import'><a href="#import-instance_method" title="TypeProf::Import#import (method)">import</a></span>(<span class='kw'>true</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="conv_attr_defs-instance_method">
  <h3 class='signature  first'>
    #<strong>conv_attr_defs</strong>(mdef, rbs_source)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L700-L714'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='700' data-end='714'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 700</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_conv_attr_defs'>conv_attr_defs</span>(<span class='id identifier rubyid_mdef'>mdef</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
  <span class='id identifier rubyid_ivar'>ivar</span> <span class='op'>=</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ivar'>ivar</span>] <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_kind'>kind</span> <span class='op'>=</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
  <span class='id identifier rubyid_pub_meth'>pub_meth</span> <span class='op'>=</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_visibility'>visibility</span>]

  <span class='id identifier rubyid_defs'>defs</span> <span class='op'>=</span> []
  <span class='kw'>if</span> <span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reader'>reader</span> <span class='op'>||</span> <span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_accessor'>accessor</span>
    <span class='id identifier rubyid_defs'>defs</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="TypedAttrMethodDef.html" title="TypeProf::TypedAttrMethodDef (class)">TypedAttrMethodDef</a></span>.<span class='id identifier rubyid_new'><a href="TypedAttrMethodDef.html#new-class_method" title="TypeProf::TypedAttrMethodDef.new (method)">new</a></span>(<span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reader'>reader</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_meth'>pub_meth</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_writer'>writer</span> <span class='op'>||</span> <span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_accessor'>accessor</span>
    <span class='id identifier rubyid_defs'>defs</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="TypedAttrMethodDef.html" title="TypeProf::TypedAttrMethodDef (class)">TypedAttrMethodDef</a></span>.<span class='id identifier rubyid_new'><a href="TypedAttrMethodDef.html#new-class_method" title="TypeProf::TypedAttrMethodDef.new (method)">new</a></span>(<span class='id identifier rubyid_ivar'>ivar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_writer'>writer</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_meth'>pub_meth</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_defs'>defs</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_defs'>defs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="conv_block-instance_method">
  <h3 class='signature '>
    #<strong>conv_block</strong>(blk)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L750-L783'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='750' data-end='783'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 750</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_conv_block'>conv_block</span>(<span class='id identifier rubyid_blk'>blk</span>)
  <span class='kw'>return</span> [<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_nil'><a href="Type.html#nil-class_method" title="TypeProf::Type.nil (method)">nil</a></span>] <span class='kw'>unless</span> <span class='id identifier rubyid_blk'>blk</span>

  <span class='id identifier rubyid_required_block'>required_block</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_required_block'>required_block</span>]
  <span class='id identifier rubyid_lead_tys'>lead_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_lead_tys'>lead_tys</span>]
  <span class='id identifier rubyid_opt_tys'>opt_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_opt_tys'>opt_tys</span>]
  <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rest_ty'>rest_ty</span>]
  <span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span>]
  <span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span>]
  <span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>]
  <span class='id identifier rubyid_ret_ty'>ret_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ret_ty'>ret_ty</span>]

  <span class='id identifier rubyid_lead_tys'>lead_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_lead_tys'>lead_tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) }
  <span class='id identifier rubyid_opt_tys'>opt_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_opt_tys'>opt_tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) }
  <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_rest_ty'>rest_ty</span>) <span class='kw'>if</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span>
  <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>&lt;&lt;</span> [<span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>)] }
  <span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>&lt;&lt;</span> [<span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>)] }
  <span class='kw'>if</span> <span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>
    <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>)
    <span class='id identifier rubyid_kw_rest_ty'>kw_rest_ty</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_gen_hash'><a href="Type.html#gen_hash-class_method" title="TypeProf::Type.gen_hash (method)">gen_hash</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_k_ty'>k_ty</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span>])
      <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k_ty'>k_ty</span>] <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_msig'>msig</span> <span class='op'>=</span> <span class='const'><a href="MethodSignature.html" title="TypeProf::MethodSignature (class)">MethodSignature</a></span>.<span class='id identifier rubyid_new'><a href="MethodSignature.html#new-class_method" title="TypeProf::MethodSignature.new (method)">new</a></span>(<span class='id identifier rubyid_lead_tys'>lead_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_opt_tys'>opt_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_kw_rest_ty'>kw_rest_ty</span><span class='comma'>,</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_nil'><a href="Type.html#nil-class_method" title="TypeProf::Type.nil (method)">nil</a></span>)

  <span class='id identifier rubyid_ret_ty'>ret_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ret_ty'>ret_ty</span>)

  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> [<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Proc.html" title="TypeProf::Type::Proc (class)">Proc</a></span>.<span class='id identifier rubyid_new'><a href="Type/Proc.html#new-class_method" title="TypeProf::Type::Proc.new (method)">new</a></span>(<span class='const'><a href="TypedBlock.html" title="TypeProf::TypedBlock (class)">TypedBlock</a></span>.<span class='id identifier rubyid_new'><a href="TypedBlock.html#new-class_method" title="TypeProf::TypedBlock.new (method)">new</a></span>(<span class='id identifier rubyid_msig'>msig</span><span class='comma'>,</span> <span class='id identifier rubyid_ret_ty'>ret_ty</span>)<span class='comma'>,</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_proc'>proc</span>])]
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_nil'><a href="Type.html#nil-class_method" title="TypeProf::Type.nil (method)">nil</a></span> <span class='kw'>unless</span> <span class='id identifier rubyid_required_block'>required_block</span>
  <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="conv_func-instance_method">
  <h3 class='signature '>
    #<strong>conv_func</strong>(sig_ret)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L716-L748'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='716' data-end='748'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 716</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_conv_func'>conv_func</span>(<span class='id identifier rubyid_sig_ret'>sig_ret</span>)
  <span class='comment'>#type_params = sig_ret[:type_params] # XXX
</span>  <span class='id identifier rubyid_lead_tys'>lead_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_lead_tys'>lead_tys</span>]
  <span class='id identifier rubyid_opt_tys'>opt_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_opt_tys'>opt_tys</span>]
  <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rest_ty'>rest_ty</span>]
  <span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span>]
  <span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span>]
  <span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>]
  <span class='id identifier rubyid_blk'>blk</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_blk'>blk</span>]
  <span class='id identifier rubyid_ret_ty'>ret_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_sig_ret'>sig_ret</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ret_ty'>ret_ty</span>]

  <span class='id identifier rubyid_lead_tys'>lead_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_lead_tys'>lead_tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) }
  <span class='id identifier rubyid_opt_tys'>opt_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_opt_tys'>opt_tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) }
  <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_rest_ty'>rest_ty</span>) <span class='kw'>if</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span>
  <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_req_kw_tys'>req_kw_tys</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>&lt;&lt;</span> [<span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>)] }
  <span class='id identifier rubyid_opt_kw_tys'>opt_kw_tys</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span> <span class='op'>&lt;&lt;</span> [<span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>)] }
  <span class='kw'>if</span> <span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>
    <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_rest_kw_ty'>rest_kw_ty</span>)
    <span class='id identifier rubyid_kw_rest_ty'>kw_rest_ty</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_gen_hash'><a href="Type.html#gen_hash-class_method" title="TypeProf::Type.gen_hash (method)">gen_hash</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_k_ty'>k_ty</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span>])
      <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k_ty'>k_ty</span>] <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_blks'>blks</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_block'><a href="#conv_block-instance_method" title="TypeProf::Import#conv_block (method)">conv_block</a></span>(<span class='id identifier rubyid_blk'>blk</span>)

  <span class='id identifier rubyid_ret_ty'>ret_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ret_ty'>ret_ty</span>)

  <span class='id identifier rubyid_blks'>blks</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_blk'>blk</span><span class='op'>|</span>
    [<span class='const'><a href="MethodSignature.html" title="TypeProf::MethodSignature (class)">MethodSignature</a></span>.<span class='id identifier rubyid_new'><a href="MethodSignature.html#new-class_method" title="TypeProf::MethodSignature.new (method)">new</a></span>(<span class='id identifier rubyid_lead_tys'>lead_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_opt_tys'>opt_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='id identifier rubyid_kw_tys'>kw_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_kw_rest_ty'>kw_rest_ty</span><span class='comma'>,</span> <span class='id identifier rubyid_blk'>blk</span>)<span class='comma'>,</span> <span class='id identifier rubyid_ret_ty'>ret_ty</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="conv_method_def-instance_method">
  <h3 class='signature '>
    #<strong>conv_method_def</strong>(method_name, mdef, rbs_source)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L692-L698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='692' data-end='698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 692</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_conv_method_def'>conv_method_def</span>(<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
  <span class='id identifier rubyid_sig_rets'>sig_rets</span> <span class='op'>=</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sig_rets'>sig_rets</span>].<span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sig_ret'>sig_ret</span><span class='op'>|</span>
    <span class='id identifier rubyid_conv_func'><a href="#conv_func-instance_method" title="TypeProf::Import#conv_func (method)">conv_func</a></span>(<span class='id identifier rubyid_sig_ret'>sig_ret</span>)
  <span class='kw'>end</span>

  <span class='const'><a href="TypedMethodDef.html" title="TypeProf::TypedMethodDef (class)">TypedMethodDef</a></span>.<span class='id identifier rubyid_new'><a href="TypedMethodDef.html#new-class_method" title="TypeProf::TypedMethodDef.new (method)">new</a></span>(<span class='id identifier rubyid_sig_rets'>sig_rets</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span><span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_visibility'>visibility</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="conv_type-instance_method">
  <h3 class='signature '>
    #<strong>conv_type</strong>(ty)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L785-L839'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='785' data-end='839'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 785</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_ty'>ty</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>class</span> <span class='kw'>then</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_instance'>instance</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]))
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cell'>cell</span>
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Cell.html" title="TypeProf::Type::Cell (class)">Cell</a></span>.<span class='id identifier rubyid_new'><a href="Type/Cell.html#new-class_method" title="TypeProf::Type::Cell.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Cell.html" title="TypeProf::Type::Cell (class)">Cell</a></span><span class='op'>::</span><span class='const'><a href="Type/Cell/Elements.html" title="TypeProf::Type::Cell::Elements (class)">Elements</a></span>.<span class='id identifier rubyid_new'><a href="Type/Cell/Elements.html#new-class_method" title="TypeProf::Type::Cell::Elements.new (method)">new</a></span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>2</span>].<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>) })<span class='comma'>,</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]))
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_any'>any</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_any'><a href="Type.html#any-class_method" title="TypeProf::Type.any (method)">any</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_void'>void</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Void.html" title="TypeProf::Type::Void (class)">Void</a></span>.<span class='id identifier rubyid_new'><a href="Type/Any.html#new-class_method" title="TypeProf::Type::Any.new (method)">new</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>nil</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_nil'><a href="Type.html#nil-class_method" title="TypeProf::Type.nil (method)">nil</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_optional'>optional</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_optional'><a href="Type.html#optional-class_method" title="TypeProf::Type.optional (method)">optional</a></span>(<span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]))
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bool'>bool</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_bool'><a href="Type.html#bool-class_method" title="TypeProf::Type.bool (method)">bool</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>self</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Var.html" title="TypeProf::Type::Var (class)">Var</a></span>.<span class='id identifier rubyid_new'><a href="Type/Var.html#new-class_method" title="TypeProf::Type::Var.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='kw'>self</span>)
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_int'>int</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_int'>int</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_str'>str</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_str'>str</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Symbol.html" title="TypeProf::Type::Symbol (class)">Symbol</a></span>.<span class='id identifier rubyid_new'><a href="Type/Symbol.html#new-class_method" title="TypeProf::Type::Symbol.new (method)">new</a></span>(<span class='id identifier rubyid_ty'>ty</span>.<span class='id identifier rubyid_last'>last</span><span class='comma'>,</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span>]))
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>true</span>  <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='kw'>true</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>false</span> <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='kw'>false</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_array'>array</span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_lead_tys'>lead_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='id identifier rubyid_lead_tys'>lead_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_lead_tys'>lead_tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>) }
    <span class='id identifier rubyid_rest_ty'>rest_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_rest_ty'>rest_ty</span>)
    <span class='id identifier rubyid_base_type'>base_type</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_path'>path</span>))
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Array.html" title="TypeProf::Type::Array (class)">Array</a></span>.<span class='id identifier rubyid_new'><a href="Type/Array.html#new-class_method" title="TypeProf::Type::Array.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Array.html" title="TypeProf::Type::Array (class)">Array</a></span><span class='op'>::</span><span class='const'><a href="Type/Array/Elements.html" title="TypeProf::Type::Array::Elements (class)">Elements</a></span>.<span class='id identifier rubyid_new'><a href="Type/Array/Elements.html#new-class_method" title="TypeProf::Type::Array::Elements.new (method)">new</a></span>(<span class='id identifier rubyid_lead_tys'>lead_tys</span><span class='comma'>,</span> <span class='id identifier rubyid_rest_ty'>rest_ty</span>)<span class='comma'>,</span> <span class='id identifier rubyid_base_type'>base_type</span>)
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hash'>hash</span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> (<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>) <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_gen_hash'><a href="Type.html#gen_hash-class_method" title="TypeProf::Type.gen_hash (method)">gen_hash</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_path'>path</span>))) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_k_ty'>k_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_k'>k</span>)
      <span class='id identifier rubyid_v_ty'>v_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_v'>v</span>)
      <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k_ty'>k_ty</span>] <span class='op'>=</span> <span class='id identifier rubyid_v_ty'>v_ty</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hash_record'>hash_record</span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_key_tys'>key_tys</span> <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_gen_hash'><a href="Type.html#gen_hash-class_method" title="TypeProf::Type.gen_hash (method)">gen_hash</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_path'>path</span>))) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='id identifier rubyid_key_tys'>key_tys</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span>
        <span class='id identifier rubyid_k_ty'>k_ty</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Symbol.html" title="TypeProf::Type::Symbol (class)">Symbol</a></span>.<span class='id identifier rubyid_new'><a href="Type/Symbol.html#new-class_method" title="TypeProf::Type::Symbol.new (method)">new</a></span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span>]))
        <span class='id identifier rubyid_v_ty'>v_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty'>ty</span>)
        <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k_ty'>k_ty</span>] <span class='op'>=</span> <span class='id identifier rubyid_v_ty'>v_ty</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_union'>union</span>
    <span class='id identifier rubyid_tys'>tys</span> <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Union.html" title="TypeProf::Type::Union (class)">Union</a></span>.<span class='id identifier rubyid_create'><a href="Type/Union.html#create-class_method" title="TypeProf::Type::Union.create (method)">create</a></span>(<span class='const'><a href="Utils.html" title="TypeProf::Utils (module)">Utils</a></span><span class='op'>::</span><span class='const'><a href="Utils/Set.html" title="TypeProf::Utils::Set (class)">Set</a></span>[<span class='op'>*</span><span class='id identifier rubyid_tys'>tys</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty2'>ty2</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_ty2'>ty2</span>) }]<span class='comma'>,</span> <span class='kw'>nil</span>) <span class='comment'># XXX: Array and Hash support
</span>  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_intersection'>intersection</span>
    <span class='id identifier rubyid_tys'>tys</span> <span class='op'>=</span> <span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]
    <span class='id identifier rubyid_conv_type'>conv_type</span>(<span class='id identifier rubyid_tys'>tys</span>.<span class='id identifier rubyid_first'>first</span>) <span class='comment'># XXX: This is wrong! We need to support intersection type
</span>  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_var'>var</span>
    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Var.html" title="TypeProf::Type::Var (class)">Var</a></span>.<span class='id identifier rubyid_new'><a href="Type/Var.html#new-class_method" title="TypeProf::Type::Var.new (method)">new</a></span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>])
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_proc'>proc</span>
    <span class='id identifier rubyid_msig'>msig</span><span class='comma'>,</span> <span class='id identifier rubyid_ret_ty'>ret_ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_func'><a href="#conv_func-instance_method" title="TypeProf::Import#conv_func (method)">conv_func</a></span>(<span class='id identifier rubyid_ty'>ty</span>[<span class='int'>1</span>]).<span class='id identifier rubyid_first'>first</span> <span class='comment'># Currently, RBS Proc does not accept a block, so the size should be always one
</span>    <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Proc.html" title="TypeProf::Type::Proc (class)">Proc</a></span>.<span class='id identifier rubyid_new'><a href="Type/Proc.html#new-class_method" title="TypeProf::Type::Proc.new (method)">new</a></span>(<span class='const'><a href="TypedBlock.html" title="TypeProf::TypedBlock (class)">TypedBlock</a></span>.<span class='id identifier rubyid_new'><a href="TypedBlock.html#new-class_method" title="TypeProf::TypedBlock.new (method)">new</a></span>(<span class='id identifier rubyid_msig'>msig</span><span class='comma'>,</span> <span class='id identifier rubyid_ret_ty'>ret_ty</span>)<span class='comma'>,</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_proc'>proc</span>]))
  <span class='kw'>else</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_ty'>ty</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="import-instance_method">
  <h3 class='signature '>
    #<strong>import</strong>(explicit = false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L597-L690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='597' data-end='690'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 597</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_import'>import</span>(<span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_classes'>classes</span> <span class='op'>=</span> <span class='ivar'>@json</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_classes'>classes</span>].<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_classpath'>classpath</span><span class='comma'>,</span> <span class='id identifier rubyid_cdef'>cdef</span><span class='op'>|</span>
    <span class='id identifier rubyid_type_params'>type_params</span> <span class='op'>=</span> <span class='id identifier rubyid_cdef'>cdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_type_params'>type_params</span>]
    <span class='id identifier rubyid_superclass'>superclass</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass_type_args'>superclass_type_args</span> <span class='op'>=</span> <span class='id identifier rubyid_cdef'>cdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_superclass'>superclass</span>]
    <span class='id identifier rubyid_members'>members</span> <span class='op'>=</span> <span class='id identifier rubyid_cdef'>cdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_members'>members</span>]

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_classpath'>classpath</span>.<span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_superclass'>superclass</span>) <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span>
    <span class='id identifier rubyid_base_klass'>base_klass</span> <span class='op'>=</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_classpath'>classpath</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>])

    <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='op'>=</span> <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_get_constant'>get_constant</span>(<span class='id identifier rubyid_base_klass'>base_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Any.html" title="TypeProf::Type::Any (class)">Any</a></span>)
      <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_new_class'>new_class</span>(<span class='id identifier rubyid_base_klass'>base_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type_params'>type_params</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='comma'>,</span> <span class='kw'>nil</span>)

      <span class='comment'># There builtin classes are needed to interpret RBS declarations
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_classpath'>classpath</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>NilClass</span>]   <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='kw'>nil</span>]   <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>TrueClass</span>]  <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='kw'>true</span>]  <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>FalseClass</span>] <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='kw'>false</span>] <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>Integer</span>]    <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_int'>int</span>]   <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>String</span>]     <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_str'>str</span>]   <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>Symbol</span>]     <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_sym'>sym</span>]   <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>Array</span>]      <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ary'>ary</span>]   <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>Hash</span>]       <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_hash'>hash</span>]  <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>when</span> [<span class='symbeg'>:</span><span class='const'>Proc</span>]       <span class='kw'>then</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_proc'>proc</span>]  <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    [<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass_type_args'>superclass_type_args</span><span class='comma'>,</span> <span class='id identifier rubyid_members'>members</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_classes'>classes</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass_type_args'>superclass_type_args</span><span class='comma'>,</span> <span class='id identifier rubyid_members'>members</span><span class='op'>|</span>
    <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_superclass_type_args!'>add_superclass_type_args!</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass_type_args'>superclass_type_args</span><span class='op'>&amp;.</span><span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) })
    <span class='id identifier rubyid_modules'>modules</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_modules'>modules</span>]
    <span class='id identifier rubyid_methods'>methods</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_methods'>methods</span>]
    <span class='id identifier rubyid_attr_methods'>attr_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_attr_methods'>attr_methods</span>]
    <span class='id identifier rubyid_ivars'>ivars</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ivars'>ivars</span>]
    <span class='id identifier rubyid_cvars'>cvars</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_cvars'>cvars</span>]
    <span class='id identifier rubyid_rbs_sources'>rbs_sources</span> <span class='op'>=</span> <span class='id identifier rubyid_members'>members</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rbs_sources'>rbs_sources</span>]

    <span class='id identifier rubyid_modules'>modules</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_kind'>kind</span><span class='comma'>,</span> <span class='id identifier rubyid_mods'>mods</span><span class='op'>|</span>
      <span class='id identifier rubyid_mods'>mods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_type_args'>type_args</span><span class='op'>|</span>
        <span class='id identifier rubyid_type_args'>type_args</span> <span class='op'>=</span> <span class='id identifier rubyid_type_args'>type_args</span><span class='op'>&amp;.</span><span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>) }
        <span class='kw'>case</span> <span class='id identifier rubyid_kind'>kind</span>
        <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_include'>include</span>
          <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_mix_module'>mix_module</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_after'>after</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_mod'>mod</span>)<span class='comma'>,</span> <span class='id identifier rubyid_type_args'>type_args</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span>)
        <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_extend'>extend</span>
          <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_mix_module'>mix_module</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_after'>after</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_mod'>mod</span>)<span class='comma'>,</span> <span class='id identifier rubyid_type_args'>type_args</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>nil</span>)
        <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_prepend'>prepend</span>
          <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_mix_module'>mix_module</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_before'>before</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_mod'>mod</span>)<span class='comma'>,</span> <span class='id identifier rubyid_type_args'>type_args</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_methods'>methods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span>(<span class='id identifier rubyid_singleton'>singleton</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>)<span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span><span class='op'>|</span>
      <span class='id identifier rubyid_rbs_source'>rbs_source</span> <span class='op'>=</span> <span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>?</span> <span class='id identifier rubyid_rbs_sources'>rbs_sources</span>[[<span class='id identifier rubyid_singleton'>singleton</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>]] <span class='op'>:</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_mdef'>mdef</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_method_def'><a href="#conv_method_def-instance_method" title="TypeProf::Import#conv_method_def (method)">conv_method_def</a></span>(<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
      <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_method'>add_method</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span><span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_attr_methods'>attr_methods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span>(<span class='id identifier rubyid_singleton'>singleton</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>)<span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span><span class='op'>|</span>
      <span class='id identifier rubyid_rbs_source'>rbs_source</span> <span class='op'>=</span> <span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>?</span> <span class='id identifier rubyid_rbs_sources'>rbs_sources</span>[[<span class='id identifier rubyid_singleton'>singleton</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>]] <span class='op'>:</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ty'>ty</span>]).<span class='id identifier rubyid_remove_type_vars'>remove_type_vars</span>
      <span class='id identifier rubyid_mdefs'>mdefs</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_attr_defs'><a href="#conv_attr_defs-instance_method" title="TypeProf::Import#conv_attr_defs (method)">conv_attr_defs</a></span>(<span class='id identifier rubyid_mdef'>mdef</span><span class='comma'>,</span> <span class='id identifier rubyid_rbs_source'>rbs_source</span>)
      <span class='id identifier rubyid_mdefs'>mdefs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mdef'>mdef</span><span class='op'>|</span>
        <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_typed_attr_method'>add_typed_attr_method</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_mdef'>mdef</span>)
      <span class='kw'>end</span>
      <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_ivar_write!'>add_ivar_write!</span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_klass'>klass</span>)<span class='comma'>,</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_mdef'>mdef</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ivar'>ivar</span>] <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='kw'>nil</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_ivars'>ivars</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ivar_name'>ivar_name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span>
      <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>).<span class='id identifier rubyid_remove_type_vars'>remove_type_vars</span>
      <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_ivar_write!'>add_ivar_write!</span>(<span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type/Instance.html" title="TypeProf::Type::Instance (class)">Instance</a></span>.<span class='id identifier rubyid_new'><a href="Type/Instance.html#new-class_method" title="TypeProf::Type::Instance.new (method)">new</a></span>(<span class='id identifier rubyid_klass'>klass</span>)<span class='comma'>,</span> <span class='id identifier rubyid_ivar_name'>ivar_name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='kw'>nil</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_cvars'>cvars</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ivar_name'>ivar_name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span>
      <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>).<span class='id identifier rubyid_remove_type_vars'>remove_type_vars</span>
      <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_cvar_write!'>add_cvar_write!</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_ivar_name'>ivar_name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='kw'>nil</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@json</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_constants'>constants</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_classpath'>classpath</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_base_klass'>base_klass</span> <span class='op'>=</span> <span class='id identifier rubyid_path_to_klass'><a href="#path_to_klass-instance_method" title="TypeProf::Import#path_to_klass (method)">path_to_klass</a></span>(<span class='id identifier rubyid_classpath'>classpath</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>])
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_remove_type_vars'>remove_type_vars</span>
    <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_constant'>add_constant</span>(<span class='id identifier rubyid_base_klass'>base_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_classpath'>classpath</span>[<span class='op'>-</span><span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='kw'>end</span>

  <span class='ivar'>@json</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_globals'>globals</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='op'>|</span>
    <span class='id identifier rubyid_ty'>ty</span> <span class='op'>=</span> <span class='id identifier rubyid_conv_type'><a href="#conv_type-instance_method" title="TypeProf::Import#conv_type (method)">conv_type</a></span>(<span class='id identifier rubyid_ty'>ty</span>).<span class='id identifier rubyid_remove_type_vars'>remove_type_vars</span>
    <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_add_gvar_write!'>add_gvar_write!</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_ty'>ty</span><span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path_to_klass-instance_method">
  <h3 class='signature '>
    #<strong>path_to_klass</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/typeprof/blob/v0.21.11/lib/typeprof/import.rb#L841-L850'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='841' data-end='850'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/typeprof/import.rb', line 841</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_path_to_klass'>path_to_klass</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span><span class='op'>::</span><span class='const'><a href="Type.html#Builtin-constant" title="TypeProf::Type::Builtin (constant)">Builtin</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_obj'>obj</span>]
  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='op'>=</span> <span class='ivar'>@scratch</span>.<span class='id identifier rubyid_get_constant'>get_constant</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'><a href="Type.html" title="TypeProf::Type (class)">Type</a></span>.<span class='id identifier rubyid_any'><a href="Type.html#any-class_method" title="TypeProf::Type.any (method)">any</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="TypeProfError.html" title="TypeProf::TypeProfError (class)">TypeProfError</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="TypeProf::Import.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A constant `</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span>) <span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is used but not defined in RBS</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>