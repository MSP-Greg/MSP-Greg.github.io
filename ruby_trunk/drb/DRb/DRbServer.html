<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: DRb::DRbServer &mdash; drb  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "DRb::DRbServer",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-master</a> &raquo; 
      <a href='../'>drb</a> &raquo; 
      <a href='../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../DRb.html" title="DRb (module)">DRb</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>DRbServer&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: DRb::DRbServer</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="DRbServer/InvokeMethod.html" title="DRb::DRbServer::InvokeMethod (class)"><code>InvokeMethod</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1378'>lib/drb/drb.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Class representing a drb server instance.</p>

<p>A DRbServer must be running in the local process before any incoming dRuby calls can be accepted, or any local objects can be passed as dRuby references to remote processes, even if those local objects are never actually called remotely. You do not need to start a <code>DRbServer</code> in the local process if you are only making outgoing dRuby calls passing marshalled parameters.</p>

<p>Unless multiple servers are being used, the local <code>DRbServer</code> is normally started by calling <a href="../DRb.html#start_service-class_method" title="DRb.start_service (method)">start_service</a>.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='INSECURE_METHOD-constant' class='summary_signature nodoc'>INSECURE_METHOD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>List of insecure methods.</p>

<p>These methods are not callable via dRuby.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1597-L1599'># File 'lib/drb/drb.rb', line 1597</a>    <pre class='code ruby'>[
  <span class='symbeg'>:</span><span class='id identifier rubyid___send__'>__send__</span>
]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#verbose-class_method" title=".verbose (class method)">.<strong>verbose</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the default value of the <code>:verbose</code> option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#verbose=-class_method" title=".verbose= (class method)">.<strong>verbose=</strong>(on)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value of the <code>:verbose</code> option.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#default_acl-class_method" title=".default_acl (class method)">.<strong>default_acl</strong>(acl)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default access control list to <code>acl</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#default_argc_limit-class_method" title=".default_argc_limit (class method)">.<strong>default_argc_limit</strong>(argc)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the <code>:argc_limit</code> option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#default_id_conv-class_method" title=".default_id_conv (class method)">.<strong>default_id_conv</strong>(idconv)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the <code>:id_conv</code> option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#default_load_limit-class_method" title=".default_load_limit (class method)">.<strong>default_load_limit</strong>(sz)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the default value for the <code>:load_limit</code> option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#make_config-class_method" title=".make_config (class method)">.<strong>make_config</strong>(hash = {})  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; DRbServer </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a new <code>DRbServer</code> instance.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#alive%3F-instance_method" title="#alive? (instance method)">#<strong>alive?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this server alive?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#config-instance_method" title="#config (instance method)">#<strong>config</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The configuration of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#front-instance_method" title="#front (instance method)">#<strong>front</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The front object of the <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#thread-instance_method" title="#thread (instance method)">#<strong>thread</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The main thread of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#uri-instance_method" title="#uri (instance method)">#<strong>uri</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The URI of this <code>DRbServer</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#verbose-instance_method" title="#verbose (instance method)">#<strong>verbose</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get whether the server is in verbose mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#verbose=-instance_method" title="#verbose= (instance method)">#<strong>verbose=</strong>(v)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set whether to operate in verbose mode.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#error_print-instance_method" title="#error_print (instance method)">#<strong>error_print</strong>(exception)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#main_loop-instance_method" title="#main_loop (instance method)">#<strong>main_loop</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The main loop performed by a DRbServer’s internal thread.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#check_insecure_method-instance_method" title="#check_insecure_method (instance method)">#<strong>check_insecure_method</strong>(obj, msg_id)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Check that a method is callable via dRuby.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#here%3F-instance_method" title="#here? (instance method)">#<strong>here?</strong>(uri)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> the URI for this server?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#stop_service-instance_method" title="#stop_service (instance method)">#<strong>stop_service</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Stop this server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#to_id-instance_method" title="#to_id (instance method)">#<strong>to_id</strong>(obj)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert a local object to a dRuby reference.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#to_obj-instance_method" title="#to_obj (instance method)">#<strong>to_obj</strong>(ref)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert a dRuby reference to the local object it refers to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#any_to_s-instance_method" title="#any_to_s (instance method)">#<strong>any_to_s</strong>(obj)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Coerce an object to a string, providing our own representation if to_s is not defined for the object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#insecure_method%3F-instance_method" title="#insecure_method? (instance method)">#<strong>insecure_method?</strong>(msg_id)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Has a method been included in the list of insecure methods?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Starts the <a href="../DRb.html" title="DRb (module)"><code>::DRb</code></a> main loop in a new thread.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature nodoc first'>
    .<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; <code>DRbServer</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a new <code>DRbServer</code> instance.</p>

<p><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> is the URI to bind to.  This is normally of the form ‘druby://&lt;hostname&gt;:&lt;port&gt;’ where &lt;hostname&gt; is a hostname of the local machine.  If nil, then the system’s default hostname will be bound to, on a port selected by the system; these value can be retrieved from the <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> attribute.  ‘druby:’ specifies the default dRuby transport protocol: another protocol, such as ‘drbunix:’, can be specified instead.</p>

<p><a href="#front-instance_method" title="DRb::DRbServer#front (method)">#front</a> is the front object for the server, that is, the object to which remote method calls on the server will be passed.  If nil, then the server will not accept remote method calls.</p>

<p>If <code>config_or_acl</code> is a hash, it is the configuration to use for this server.  The following options are recognised:</p>
<dl class="rdoc-list note-list"><dt><code>:idconv</code> </dt>
<dd>
<p>an id-to-object conversion object.  This defaults</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_an'>an</span> <span class='id identifier rubyid_instance'>instance</span> <span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_the'>the</span> <span class='kw'>class</span> <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span><span class='op'>::</span><span class='const'><a href="DRbIdConv.html" title="DRb::DRbIdConv (class)">DRbIdConv</a></span>.</code></pre>
<dl class="rdoc-list note-list"><dt><code>:verbose</code> </dt>
<dd>
<p>if true, all unsuccessful remote calls on objects</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='kw'>in</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_server'>server</span> <span class='id identifier rubyid_will'>will</span> <span class='id identifier rubyid_be'>be</span> <span class='id identifier rubyid_logged'>logged</span> <span class='id identifier rubyid_to'>to</span> <span class='gvar'>$stdout</span>. <span class='id identifier rubyid_false'>false</span>
<span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_default'>default</span>.</code></pre>
<dl class="rdoc-list note-list"><dt><code>:tcp_acl</code> </dt>
<dd>
<p>the access control list for this server.  See</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_the'>the</span> <span class='const'><a href="../ACL.html" title="ACL (class)">ACL</a></span> <span class='kw'>class</span> <span class='id identifier rubyid_from'>from</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_main'>main</span> <span class='id identifier rubyid_dRuby'>dRuby</span> <span class='id identifier rubyid_distribution'>distribution</span>.</code></pre>
<dl class="rdoc-list note-list"><dt><code>:load_limit</code> </dt>
<dd>
<p>the maximum message size in bytes accepted by</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_server'>server</span>.  <span class='const'>Defaults</span> <span class='id identifier rubyid_to'>to</span> <span class='int'>25</span> <span class='const'>MB</span> (<span class='int'>26214400</span>).</code></pre>
<dl class="rdoc-list note-list"><dt><code>:argc_limit</code> </dt>
<dd>
<p>the maximum number of arguments to a remote</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_method'>method</span> <span class='id identifier rubyid_accepted'>accepted</span> <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_server'>server</span>.  <span class='const'>Defaults</span> <span class='id identifier rubyid_to'>to</span>
<span class='int'>256</span>.</code></pre>

<p>The default values of these options can be modified on a class-wide basis by the class methods <code>#default_argc_limit</code>, <code>#default_load_limit</code>, <code>#default_acl</code>, <code>#default_id_conv</code>, and <a href="#verbose=-instance_method" title="DRb::DRbServer#verbose= (method)">#verbose=</a></p>

<p>If <code>config_or_acl</code> is not a hash, but is not nil, it is assumed to be the access control list for this server. See the <code>:tcp_acl</code> option for more details.</p>

<p>If no other server is currently set as the primary server, this will become the primary server.</p>

<p>The server will immediately start running in its own thread.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1479-L1502'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1479' data-end='1502'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1479</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_front'><a href="#front-instance_method" title="DRb::DRbServer#front (method)">front</a></span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span>
    <span class='id identifier rubyid_config'><a href="#config-instance_method" title="DRb::DRbServer#config (method)">config</a></span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_acl'>acl</span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span> <span class='op'>||</span> <span class='cvar'>@@acl</span>
    <span class='id identifier rubyid_config'><a href="#config-instance_method" title="DRb::DRbServer#config (method)">config</a></span> <span class='op'>=</span> {
      <span class='symbeg'>:</span><span class='id identifier rubyid_tcp_acl'>tcp_acl</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_acl'>acl</span>
    }
  <span class='kw'>end</span>

  <span class='ivar'>@config</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_make_config'><a href="#make_config-class_method" title="DRb::DRbServer.make_config (method)">make_config</a></span>(<span class='id identifier rubyid_config'><a href="#config-instance_method" title="DRb::DRbServer#config (method)">config</a></span>)

  <span class='ivar'>@protocol</span> <span class='op'>=</span> <span class='const'><a href="DRbProtocol.html" title="DRb::DRbProtocol (module)">DRbProtocol</a></span>.<span class='id identifier rubyid_open_server'><a href="DRbProtocol.html#open_server-class_method" title="DRb::DRbProtocol.open_server (method)">open_server</a></span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span><span class='comma'>,</span> <span class='ivar'>@config</span>)
  <span class='ivar'>@uri</span> <span class='op'>=</span> <span class='ivar'>@protocol</span>.<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span>
  <span class='ivar'>@exported_uri</span> <span class='op'>=</span> [<span class='ivar'>@uri</span>]

  <span class='ivar'>@front</span> <span class='op'>=</span> <span class='id identifier rubyid_front'><a href="#front-instance_method" title="DRb::DRbServer#front (method)">front</a></span>
  <span class='ivar'>@idconv</span> <span class='op'>=</span> <span class='ivar'>@config</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_idconv'>idconv</span>]

  <span class='ivar'>@grp</span> <span class='op'>=</span> <span class='const'>ThreadGroup</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@thread</span> <span class='op'>=</span> <span class='id identifier rubyid_run'><a href="#run-instance_method" title="DRb::DRbServer#run (method)">run</a></span>

  <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span>.<span class='id identifier rubyid_regist_server'><a href="../DRb.html#regist_server-class_method" title="DRb.regist_server (method)">regist_server</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="verbose-class_method">
  <h3 class='signature rw  nodoc first'>
    .<strong>verbose</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the default value of the <code>:verbose</code> option.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1422-L1424'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1422' data-end='1424'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1422</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_verbose'>verbose</span>
  <span class='cvar'>@@verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>verbose=</strong>(on)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value of the <code>:verbose</code> option.</p>

<p>See #new().  The initial default value is false.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1417-L1419'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1417' data-end='1419'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1417</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_verbose='>verbose=</span>(<span class='id identifier rubyid_on'>on</span>)
  <span class='cvar'>@@verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_on'>on</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="default_acl-class_method">
  <h3 class='signature nodoc first'>
    .<strong>default_acl</strong>(acl)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default access control list to <code>acl</code>.  The default <a href="../ACL.html" title="ACL (class)"><code>::ACL</code></a> is <code>nil</code>.</p>

<p>See also <code>DRb::ACL</code> and #new()</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1403-L1405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1403' data-end='1405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1403</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_acl'>default_acl</span>(<span class='id identifier rubyid_acl'>acl</span>)
  <span class='cvar'>@@acl</span> <span class='op'>=</span> <span class='id identifier rubyid_acl'>acl</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_argc_limit-class_method">
  <h3 class='signature nodoc'>
    .<strong>default_argc_limit</strong>(argc)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the <code>:argc_limit</code> option.</p>

<p>See #new().  The initial default value is 256.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1389-L1391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1389' data-end='1391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_argc_limit'>default_argc_limit</span>(<span class='id identifier rubyid_argc'>argc</span>)
  <span class='cvar'>@@argc_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_argc'>argc</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_id_conv-class_method">
  <h3 class='signature nodoc'>
    .<strong>default_id_conv</strong>(idconv)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the <code>:id_conv</code> option.</p>

<p>See #new().  The initial default value is a <a href="DRbIdConv.html" title="DRb::DRbIdConv (class)"><code>DRbIdConv</code></a> instance.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1410-L1412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1410' data-end='1412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1410</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_id_conv'>default_id_conv</span>(<span class='id identifier rubyid_idconv'>idconv</span>)
  <span class='cvar'>@@idconv</span> <span class='op'>=</span> <span class='id identifier rubyid_idconv'>idconv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_load_limit-class_method">
  <h3 class='signature nodoc'>
    .<strong>default_load_limit</strong>(sz)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the default value for the <code>:load_limit</code> option.</p>

<p>See #new().  The initial default value is 25 MB.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1396-L1398'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1396' data-end='1398'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1396</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_load_limit'>default_load_limit</span>(<span class='id identifier rubyid_sz'>sz</span>)
  <span class='cvar'>@@load_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_sz'>sz</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_config-class_method">
  <h3 class='signature nodoc'>
    .<strong>make_config</strong>(hash = {})  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1426-L1435'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1426' data-end='1435'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1426</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_make_config'>make_config</span>(<span class='id identifier rubyid_hash'>hash</span><span class='op'>=</span>{})  <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_default_config'>default_config</span> <span class='op'>=</span> {
    <span class='symbeg'>:</span><span class='id identifier rubyid_idconv'>idconv</span> <span class='op'>=&gt;</span> <span class='cvar'>@@idconv</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'><a href="#verbose-class_method" title="DRb::DRbServer.verbose (method)">verbose</a></span> <span class='op'>=&gt;</span> <span class='cvar'>@@verbose</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_tcp_acl'>tcp_acl</span> <span class='op'>=&gt;</span> <span class='cvar'>@@acl</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_load_limit'>load_limit</span> <span class='op'>=&gt;</span> <span class='cvar'>@@load_limit</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_argc_limit'>argc_limit</span> <span class='op'>=&gt;</span> <span class='cvar'>@@argc_limit</span><span class='comma'>,</span>
  }
  <span class='id identifier rubyid_default_config'>default_config</span>.<span class='id identifier rubyid_update'>update</span>(<span class='id identifier rubyid_hash'>hash</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="alive?-instance_method">
  <h3 class='signature ro  nodoc first'>
    #<strong>alive?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this server alive?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1534-L1536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1534' data-end='1536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1534</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_alive?'>alive?</span>
  <span class='ivar'>@thread</span>.<span class='id identifier rubyid_alive?'>alive?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="config-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>config</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The configuration of this <code>DRbServer</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1521-L1521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1521' data-end='1521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1521</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_config'>config</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="front-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>front</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The front object of the <code>DRbServer</code>.</p>

<p>This object receives remote method calls made on the server’s URI alone, with an object id.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1518-L1518'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1518' data-end='1518'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1518</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_front'>front</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>thread</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The main thread of this <code>DRbServer</code>.</p>

<p>This is the thread that listens for and accepts connections from clients, not that handles each client’s request-response session.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1512-L1512'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1512' data-end='1512'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1512</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_thread'>thread</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uri-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>uri</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The URI of this <code>DRbServer</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1505-L1505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1505' data-end='1505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1505</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_uri'>uri</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose-instance_method">
  <h3 class='signature rw  nodoc'>
    #<strong>verbose</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get whether the server is in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1531-L1531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1531' data-end='1531'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1531</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose'>verbose</span><span class='semicolon'>;</span> <span class='ivar'>@config</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>]<span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose=-instance_method">
  <h3 class='signature rw  nodoc'>
    #<strong>verbose=</strong>(v)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set whether to operate in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1526-L1526'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1526' data-end='1526'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1526</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose='>verbose=</span>(<span class='id identifier rubyid_v'>v</span>)<span class='semicolon'>;</span> <span class='ivar'>@config</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verbose'><a href="#verbose-class_method" title="DRb::DRbServer.verbose (method)">verbose</a></span>]<span class='op'>=</span><span class='id identifier rubyid_v'>v</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="any_to_s-instance_method">
  <h3 class='signature priv  nodoc first'>
    #<strong>any_to_s</strong>(obj)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Coerce an object to a string, providing our own representation if to_s is not defined for the object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1608-L1612'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1608' data-end='1612'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1608</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span>
  <span class='const'>Kernel</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span>).<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_insecure_method-instance_method">
  <h3 class='signature nodoc'>
    #<strong>check_insecure_method</strong>(obj, msg_id)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Check that a method is callable via dRuby.</p>

<p><code>obj</code> is the object we want to invoke the method on. <code>msg_id</code> is the method name, as a Symbol.</p>

<p>If the method is an insecure method (see <a href="#insecure_method%3F-instance_method" title="DRb::DRbServer#insecure_method? (method)">#insecure_method?</a>) a SecurityError is thrown.  If the method is private or undefined, a NameError is thrown.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1622-L1649'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1622' data-end='1649'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1622</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_insecure_method'>check_insecure_method</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_msg_id'>msg_id</span>)
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'>Proc</span> <span class='op'>===</span> <span class='id identifier rubyid_obj'>obj</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_msg_id'>msg_id</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid___drb_yield'>__drb_yield</span>
  <span class='id identifier rubyid_raise'>raise</span>(<span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_any_to_s'><a href="#any_to_s-instance_method" title="DRb::DRbServer#any_to_s (method)">any_to_s</a></span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)<span class='embexpr_end'>}</span><span class='tstring_content'> is not a symbol</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>unless</span> <span class='const'>Symbol</span> <span class='op'>==</span> <span class='id identifier rubyid_msg_id'>msg_id</span>.<span class='id identifier rubyid_class'>class</span>
  <span class='id identifier rubyid_raise'>raise</span>(<span class='const'>SecurityError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>insecure method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_insecure_method?'><a href="#insecure_method%3F-instance_method" title="DRb::DRbServer#insecure_method? (method)">insecure_method?</a></span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)

  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'>Object</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_private_methods'>private_methods</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
      <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'><a href="#any_to_s-instance_method" title="DRb::DRbServer#any_to_s (method)">any_to_s</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_protected_methods'>protected_methods</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
      <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'><a href="#any_to_s-instance_method" title="DRb::DRbServer#any_to_s (method)">any_to_s</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protected method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='const'>Kernel</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_private_methods'>private_methods</span>).<span class='id identifier rubyid_bind'>bind</span>(<span class='id identifier rubyid_obj'>obj</span>).<span class='id identifier rubyid_call'>call</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
      <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'><a href="#any_to_s-instance_method" title="DRb::DRbServer#any_to_s (method)">any_to_s</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='const'>Kernel</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_protected_methods'>protected_methods</span>).<span class='id identifier rubyid_bind'>bind</span>(<span class='id identifier rubyid_obj'>obj</span>).<span class='id identifier rubyid_call'>call</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
      <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'><a href="#any_to_s-instance_method" title="DRb::DRbServer#any_to_s (method)">any_to_s</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protected method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error_print-instance_method">
  <h3 class='signature '>
    #<strong>error_print</strong>(exception)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1746-L1755'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1746' data-end='1755'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1746</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_error_print'>error_print</span>(<span class='id identifier rubyid_exception'>exception</span>)
  <span class='id identifier rubyid_exception'>exception</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_inject'>inject</span>(<span class='kw'>true</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_first'>first</span>
      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exception'>exception</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exception'>exception</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\tfrom </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="here?-instance_method">
  <h3 class='signature nodoc'>
    #<strong>here?</strong>(uri)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is <a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">#uri</a> the URI for this server?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1539-L1541'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1539' data-end='1541'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1539</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_here?'>here?</span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span>)
  <span class='ivar'>@exported_uri</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="insecure_method?-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>insecure_method?</strong>(msg_id)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Has a method been included in the list of insecure methods?</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1602-L1604'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1602' data-end='1604'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1602</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_insecure_method?'>insecure_method?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
  <span class='const'><a href="#INSECURE_METHOD-constant" title="DRb::DRbServer::INSECURE_METHOD (constant)">INSECURE_METHOD</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_msg_id'>msg_id</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="main_loop-instance_method">
  <h3 class='signature '>
    #<strong>main_loop</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The main loop performed by a DRbServer’s internal thread.</p>

<p>Accepts a connection from a client, and starts up its own thread to handle it.  This thread loops, receiving requests from the client, invoking them on a local object, and returning responses, until the client closes the connection or a local method call fails.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1764-L1798'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1764' data-end='1798'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1764</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_main_loop'>main_loop</span>
  <span class='id identifier rubyid_client0'>client0</span> <span class='op'>=</span> <span class='ivar'>@protocol</span>.<span class='id identifier rubyid_accept'>accept</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_client0'>client0</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_client0'>client0</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_client'>client</span><span class='op'>|</span>
    <span class='ivar'>@grp</span>.<span class='id identifier rubyid_add'>add</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
    <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_client'>client</span> <span class='comma'>,</span>
                              <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span> }
    <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span>.<span class='id identifier rubyid_mutex'><a href="../DRb.html#mutex-class_method" title="DRb.mutex (method)">mutex</a></span>.<span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span>.<span class='id identifier rubyid_uri'><a href="#uri-instance_method" title="DRb::DRbServer#uri (method)">uri</a></span>
      <span class='ivar'>@exported_uri</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='kw'>unless</span> <span class='ivar'>@exported_uri</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_client_uri'>client_uri</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid__last_invoke_method'>_last_invoke_method</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_succ'>succ</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_invoke_method'>invoke_method</span> <span class='op'>=</span> <span class='const'><a href="DRbServer/InvokeMethod.html" title="DRb::DRbServer::InvokeMethod (class)">InvokeMethod</a></span>.<span class='id identifier rubyid_new'><a href="DRbServer/InvokeMethod.html#new-class_method" title="DRb::DRbServer::InvokeMethod.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_client'>client</span>)
        <span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_invoke_method'>invoke_method</span>.<span class='id identifier rubyid_perform'>perform</span>
        <span class='id identifier rubyid_error_print'><a href="#error_print-instance_method" title="DRb::DRbServer#error_print (method)">error_print</a></span>(<span class='id identifier rubyid_result'>result</span>) <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_succ'>succ</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_verbose'><a href="#verbose-class_method" title="DRb::DRbServer.verbose (method)">verbose</a></span>
        <span class='kw'>unless</span> <span class='const'><a href="DRbConnError.html" title="DRb::DRbConnError (class)">DRbConnError</a></span> <span class='op'>===</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_message'>message</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>connection closed</span><span class='tstring_end'>&#39;</span></span>
          <span class='id identifier rubyid_client'>client</span>.<span class='id identifier rubyid_send_reply'>send_reply</span>(<span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span>)
        <span class='kw'>end</span>
      <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_error_print'><a href="#error_print-instance_method" title="DRb::DRbServer#error_print (method)">error_print</a></span>(<span class='id identifier rubyid_e'>e</span>) <span class='kw'>if</span> <span class='id identifier rubyid_verbose'><a href="#verbose-class_method" title="DRb::DRbServer.verbose (method)">verbose</a></span>
      <span class='kw'>ensure</span>
        <span class='id identifier rubyid__last_invoke_method'>_last_invoke_method</span> <span class='op'>=</span> <span class='id identifier rubyid_invoke_method'>invoke_method</span>
        <span class='id identifier rubyid_client'>client</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
        <span class='kw'>if</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span>]
          <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="DRb::DRbServer#shutdown (method)">shutdown</a></span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>run</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Starts the <a href="../DRb.html" title="DRb (module)"><code>::DRb</code></a> main loop in a new thread.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1583-L1592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1583' data-end='1592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_start'>start</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='kw'>while</span> <span class='id identifier rubyid_main_loop'><a href="#main_loop-instance_method" title="DRb::DRbServer#main_loop (method)">main_loop</a></span>
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@protocol</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='ivar'>@protocol</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>shutdown</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1568-L1578'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1568' data-end='1578'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1568</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shutdown'>shutdown</span>
  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
  <span class='kw'>if</span> <span class='ivar'>@protocol</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_shutdown'>shutdown</span>
    <span class='ivar'>@protocol</span>.<span class='id identifier rubyid_shutdown'>shutdown</span>
  <span class='kw'>else</span>
    [<span class='ivar'>@thread</span><span class='comma'>,</span> <span class='op'>*</span><span class='ivar'>@grp</span>.<span class='id identifier rubyid_list'>list</span>].<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DRb::DRbServer#thread (method)">thread</a></span><span class='op'>|</span>
      <span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DRb::DRbServer#thread (method)">thread</a></span>.<span class='id identifier rubyid_kill'>kill</span> <span class='kw'>unless</span> <span class='id identifier rubyid_thread'><a href="#thread-instance_method" title="DRb::DRbServer#thread (method)">thread</a></span> <span class='op'>==</span> <span class='id identifier rubyid_current'>current</span> <span class='comment'># xxx: Thread#kill
</span>    }
  <span class='kw'>end</span>
  <span class='ivar'>@thread</span>.<span class='id identifier rubyid_join'>join</span> <span class='kw'>unless</span> <span class='ivar'>@thread</span> <span class='op'>==</span> <span class='id identifier rubyid_current'>current</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stop_service-instance_method">
  <h3 class='signature nodoc'>
    #<strong>stop_service</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Stop this server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1544-L1551'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1544' data-end='1551'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1544</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stop_service'>stop_service</span>
  <span class='const'><a href="../DRb.html" title="DRb (module)">DRb</a></span>.<span class='id identifier rubyid_remove_server'><a href="../DRb.html#remove_server-class_method" title="DRb.remove_server (method)">remove_server</a></span>(<span class='kw'>self</span>)
  <span class='kw'>if</span>  <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>&amp;&amp;</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>==</span> <span class='kw'>self</span>
    <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_shutdown'><a href="#shutdown-instance_method" title="DRb::DRbServer#shutdown (method)">shutdown</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_id-instance_method">
  <h3 class='signature nodoc'>
    #<strong>to_id</strong>(obj)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert a local object to a dRuby reference.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1561-L1564'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1561' data-end='1564'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1561</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_id'>to_id</span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid___id__'>__id__</span> <span class='op'>==</span> <span class='id identifier rubyid_front'><a href="#front-instance_method" title="DRb::DRbServer#front (method)">front</a></span>.<span class='id identifier rubyid___id__'>__id__</span>
  <span class='ivar'>@idconv</span>.<span class='id identifier rubyid_to_id'>to_id</span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_obj-instance_method">
  <h3 class='signature nodoc'>
    #<strong>to_obj</strong>(ref)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert a dRuby reference to the local object it refers to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/drb/blob/v2.2.3/lib/drb/drb.rb#L1554-L1558'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1554' data-end='1558'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/drb/drb.rb', line 1554</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_obj'>to_obj</span>(<span class='id identifier rubyid_ref'>ref</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_front'><a href="#front-instance_method" title="DRb::DRbServer#front (method)">front</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_ref'>ref</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_front'><a href="#front-instance_method" title="DRb::DRbServer#front (method)">front</a></span>[<span class='id identifier rubyid_ref'>ref</span>.<span class='id identifier rubyid_to_s'>to_s</span>] <span class='kw'>if</span> <span class='const'><a href="DRbURIOption.html" title="DRb::DRbURIOption (class)">DRbURIOption</a></span> <span class='op'>===</span> <span class='id identifier rubyid_ref'>ref</span>
  <span class='ivar'>@idconv</span>.<span class='id identifier rubyid_to_obj'>to_obj</span>(<span class='id identifier rubyid_ref'>ref</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>