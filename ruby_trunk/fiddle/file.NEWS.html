<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: NEWS &mdash; fiddle  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "NEWS",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>fiddle</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: NEWS&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>News</h1>

<h2>1.1.8 - 2025-04-25</h2>

<h3>Improvements</h3>

<ul>
<li>JRuby, TruffleRuby: Improved compatibility with CRuby
implementation.

<ul>
<li>GH-187</li>
<li>Patch by Andrew Kane</li>
</ul></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Andrew Kane</li>
</ul>

<h2>1.1.7 - 2025-04-23</h2>

<h3>Improvements</h3>

<ul>
<li><p>Added support for <code>bool</code> in struct.</p>

<ul>
<li><a href="https://github.com/ruby/fiddle/issues/168">GH-168</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/169">GH-169</a></li>
<li>Patch by Dmitrii</li>
</ul></li>
<li><p>JRuby, TruffleRuby: Improved compatibility with CRuby
implementation.</p>

<ul>
<li><a href="https://github.com/ruby/fiddle/issues/176">GH-176</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/179">GH-179</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/180">GH-180</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/181">GH-181</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/182">GH-182</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/183">GH-183</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/184">GH-184</a></li>
<li><a href="https://github.com/ruby/fiddle/issues/185">GH-185</a></li>
<li>Patch by Andrew Kane</li>
</ul></li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>Dmitrii</p></li>
<li><p>Andrew Kane</p></li>
</ul>

<h2>1.1.6 - 2024-12-12</h2>

<h3>Improvements</h3>

<ul>
<li><p>JRuby, TruffleRuby: Added <a href="Fiddle/Pointer.html#read-class_method" title="Fiddle::Pointer.read (method)">Fiddle::Pointer.read</a> and
<a href="Fiddle/Pointer.html#write-class_method" title="Fiddle::Pointer.write (method)">Fiddle::Pointer.write</a>.</p>

<ul>
<li>GH-166</li>
<li>Patch by Lars Kanis</li>
</ul></li>
<li><p>CRuby: Added support for <code>INPUT(-lXXX)</code> <code>.so</code>. For example, Arch
Linux&#39;s <code>libncurses.so</code> uses this style.</p></li>
<li><p>JRuby, TruffleRuby: Added support for accepting numeric value as a
<code>void *</code> argument.</p>

<ul>
<li>GH-162</li>
<li>Patch by Dani Smith</li>
</ul></li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>Lars Kanis</p></li>
<li><p>Dani Smith</p></li>
</ul>

<h2>1.1.5 - 2024-11-09</h2>

<h3>Improvements</h3>

<ul>
<li>Removed the &quot;<code>Fiddle::Function(name:)</code> must be <code>String</code>&quot;
limitation that is introduced by 1.1.3.

<ul>
<li>GH-159</li>
<li>Reported by Mamoru TASAKA</li>
</ul></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Mamoru TASAKA</li>
</ul>

<h2>1.1.4 - 2024-10-23</h2>

<h3>Improvements</h3>

<ul>
<li><p>JRuby, TruffleRuby: Don&#39;t use <code>mkmf</code> to generate dummy <code>Makefile</code>.</p>

<ul>
<li>GH-153</li>
<li>GH-155</li>
</ul></li>
</ul>

<h3>Fixes</h3>

<ul>
<li><p>JRuby, TruffleRuby: Fixed a bug that shared library load failure
isn&#39;t caught correctly.</p>

<ul>
<li>GH-156</li>
<li>ruby/reline#766</li>
</ul></li>
</ul>

<h2>1.1.3 - 2024-10-11</h2>

<h3>Improvements</h3>

<ul>
<li><p>Set <code>changelog_uri</code> gem metadata.</p>

<ul>
<li>Patch by Masato Nakamura</li>
<li>GH-138</li>
</ul></li>
<li><p>Imported JRuby implementation.</p>

<ul>
<li>GH-104</li>
<li>GH-147</li>
</ul></li>
<li><p>Added support for TruffleRuby.</p>

<ul>
<li>GH-149</li>
</ul></li>
<li><p>Added support for Ractor.</p>

<ul>
<li>GH-139</li>
</ul></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Masato Nakamura</li>
</ul>

<h2>1.1.2 - 2023-11-08</h2>

<h3>Improvements</h3>

<ul>
<li><p>Preferred <code>String#unpack1</code>.</p>

<p>Patch by Mau Magnaguagno.</p>

<p>GH-118</p></li>
<li><p>Preferred <code>_Alignof</code>.</p>

<p>Patch by Khem Raj.</p>

<p>GH-120</p></li>
<li><p>Added <a href="Fiddle/Pointer.html#read-class_method" title="Fiddle::Pointer.read (method)">Fiddle::Pointer.read</a> and <a href="Fiddle/Pointer.html#write-class_method" title="Fiddle::Pointer.write (method)">Fiddle::Pointer.write</a>.</p>

<p>GH-123</p></li>
<li><p>Added support for <code>long</code> variants.</p>

<p>Reported by David M. Lary.</p>

<p>GH-100</p></li>
<li><p>Added support for <code>short</code> variants.</p></li>
<li><p>Added support for converting one character string to char.</p>

<p>Reported by kojix2.</p>

<p>GH-96</p></li>
<li><p>Added support for write barriers.</p>

<p>Patch by Jean byroot Boussier.</p>

<p>GH-127 GH-129</p></li>
<li><p>Added support for <code>bool</code>.</p>

<p>Reported by Benoit Daloze.</p>

<p>GH-130</p></li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>Mau Magnaguagno</p></li>
<li><p>Khem Raj</p></li>
<li><p>David M. Lary</p></li>
<li><p>kojix2</p></li>
<li><p>Jean byroot Boussier</p></li>
<li><p>Benoit Daloze</p></li>
</ul>

<h2>1.1.1 - 2022-12-08</h2>

<h3>Improvements</h3>

<ul>
<li><p>test: Improved glibc detection on alpha and ia64.
[<a href="https://github.com/ruby/fiddle/pull/105">GitHub#105</a>]
[<a href="https://bugs.ruby-lang.org/issues/18645">Bug #18645</a>]
[Patch by John Paul Adrian Glaubitz]</p></li>
<li><p>Added support for linker script on Linux.
[<a href="https://github.com/ruby/fiddle/issues/107">GitHub#107</a>]
[Reported by nicholas a. evans]</p></li>
<li><p>Freed <a href="Fiddle/Closure.html" title="Fiddle::Closure (class)"><code>::Fiddle::Closure</code></a> immediately.
[<a href="https://github.com/ruby/fiddle/pull/109">GitHub#109</a>]</p></li>
<li><p>Added <code>Fiddle::TYPE_UXXX</code> constants for unsigned types.
[<a href="https://github.com/ruby/fiddle/pull/111">GitHub#111</a>]</p></li>
<li><p>Added <a href="Fiddle/Types.html" title="Fiddle::Types (module)"><code>::Fiddle::Types</code></a> for type constants. We can still use
<code>Fiddle::TYPE_XXX</code>.
[<a href="https://github.com/ruby/fiddle/pull/112">GitHub#112</a>]</p></li>
<li><p>Added <a href="Fiddle/Handle.html#sym_defined%3F-class_method" title="Fiddle::Handle.sym_defined? (method)">Fiddle::Handle.sym_defined?</a>.
[<a href="https://github.com/ruby/fiddle/pull/108">GitHub#108</a>]</p></li>
<li><p>Added <a href="Fiddle/Closure.html#create-class_method" title="Fiddle::Closure.create (method)">Fiddle::Closure.create</a> and <a href="Fiddle/Closure.html#free-instance_method" title="Fiddle::Closure#free (method)">Fiddle::Closure#free</a>.
[<a href="https://github.com/ruby/fiddle/issues/102">GitHub#102</a>]
[Reported by Vít Ondruch]</p></li>
<li><p>Added <code>--with-libffi-source-dir</code> build option and removed
<code>--enable-bundled-libffi</code> build option.
[<a href="https://bugs.ruby-lang.org/issues/18571">Bug #18571</a>]</p></li>
<li><p>Added <a href="Fiddle.html#Qtrue-constant" title="Fiddle::Qtrue (constant)">Fiddle::Qtrue</a>, <a href="Fiddle.html#Qfalse-constant" title="Fiddle::Qfalse (constant)">Fiddle::Qfalse</a>, <a href="Fiddle.html#Qnil-constant" title="Fiddle::Qnil (constant)">Fiddle::Qnil</a> and
<a href="Fiddle.html#Qundef-constant" title="Fiddle::Qundef (constant)">Fiddle::Qundef</a>.
[<a href="https://github.com/ruby/fiddle/pull/115">GitHub#115</a>]</p></li>
</ul>

<h3>Fixes</h3>

<ul>
<li>Fixed a bug that <a href="Fiddle/PackInfo.html#PACK_MAP-constant" title="Fiddle::PackInfo::PACK_MAP (constant)">Fiddle::PackInfo::PACK_MAP</a> uses wrong pack
template for unsigned types.
[<a href="https://github.com/ruby/fiddle/pull/110">GitHub#109</a>]</li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>John Paul Adrian Glaubitz</p></li>
<li><p>Vít Ondruch</p></li>
</ul>

<h2>1.1.0 - 2021-10-23</h2>

<h3>Improvements</h3>

<ul>
<li><p>Added <code>Fiddle::Struct.offsetof</code>.</p></li>
<li><p>Improved memory view availability detection.
[GitHub#84][Reported by Jun Aruga]</p></li>
<li><p>Changed <a href="Fiddle/Handle.html#to_i-instance_method" title="Fiddle::Handle#to_i (method)">Fiddle::Handle#to_i</a> value to wrapped pointer from
internal handle data pointer. It&#39;s a backward incompatible change
but the previous behavior was meaningless. No users must depend on
the previous behavior. So this will not cause any backward
incompatible problem.</p></li>
<li><p>Added <a href="Fiddle/Handle.html#to_ptr-instance_method" title="Fiddle::Handle#to_ptr (method)">Fiddle::Handle#to_ptr</a>.</p></li>
<li><p>Added <a href="Fiddle/Handle.html#file_name-instance_method" title="Fiddle::Handle#file_name (method)">Fiddle::Handle#file_name</a>.</p></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Jun Aruga</li>
</ul>

<h2>1.0.9 - 2021-06-19</h2>

<h3>Improvements</h3>

<ul>
<li><p>Added <a href="Fiddle/Function.html#to_proc-instance_method" title="Fiddle::Function#to_proc (method)">Fiddle::Function#to_proc</a>.</p></li>
<li><p>Added <a href="Fiddle/MemoryView.html#to_s-instance_method" title="Fiddle::MemoryView#to_s (method)">Fiddle::MemoryView#to_s</a>.
[GitHub#74][Reported by dsisnero]</p></li>
<li><p>Added <a href="Fiddle/MemoryView.html#export-class_method" title="Fiddle::MemoryView.export (method)">Fiddle::MemoryView.export</a> and <a href="Fiddle/MemoryView.html#release-instance_method" title="Fiddle::MemoryView#release (method)">Fiddle::MemoryView#release</a>.
[GitHub#79][Reported by xtkoba]</p></li>
</ul>

<h3>Fixes</h3>

<ul>
<li>Changed to use <code>GetLastError()</code> for <a href="Fiddle.html#win32_last_error-class_method" title="Fiddle.win32_last_error (method)">Fiddle.win32_last_error</a>.
[Ruby#11579][Patch by cremno phobia]</li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>cremno phobia</p></li>
<li><p>dsisnero</p></li>
<li><p>xtkoba</p></li>
</ul>

<h2>1.0.8 - 2021-04-19</h2>

<h3>Improvements</h3>

<ul>
<li><p>Added support for <code>const</code> in C type.
[GitHub#68][Reported by kojix2]</p></li>
<li><p>Added <a href="Fiddle.html#win32_last_socket_error-class_method" title="Fiddle.win32_last_socket_error (method)">Fiddle.win32_last_socket_error</a> and
<a href="Fiddle.html#win32_last_socket_error=-class_method" title="Fiddle.win32_last_socket_error= (method)">Fiddle.win32_last_socket_error=</a>. They manage the last socket
error on Windows. Users can&#39;t use <code>WSAGetLastError()</code> with Ruby
3.0 or later because <code>rb_funcall()</code> resets the last socket error
internally.
[GitHub#72][Reported by Kentaro Hayashi]</p></li>
</ul>

<h3>Fixes</h3>

<ul>
<li>Fixed wrong type aliases for 64-bit Windows in <a href="Fiddle/Win32Types.html" title="Fiddle::Win32Types (module)"><code>::Fiddle::Win32Types</code></a>.
[GitHub#63][Patch by Orgad Shaneh]</li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>Orgad Shaneh</p></li>
<li><p>kojix2</p></li>
<li><p>Kentaro Hayashi</p></li>
</ul>

<h2>1.0.7 - 2020-12-25</h2>

<h3>Improvements</h3>

<ul>
<li><p><a href="Fiddle/Closure.html" title="Fiddle::Closure (class)"><code>::Fiddle::Closure</code></a>: Added support for specifying a type as <code>Symbol</code>.</p></li>
<li><p><a href="Fiddle/Closure.html" title="Fiddle::Closure (class)"><code>::Fiddle::Closure</code></a>: Added support for <code>const char *</code>.
[GitHub#62][Reported by Cody Krieger]</p></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Cody Krieger</li>
</ul>

<h2>1.0.6 - 2020-12-23</h2>

<h3>Improvements</h3>

<ul>
<li>Modify Fiddle::MemoryView for the latest Ruby master branch.</li>
</ul>

<h2>1.0.5 - 2020-12-21</h2>

<h3>Improvements</h3>

<ul>
<li>Added a workaround for build failure with macOS 10.15 and Homebrew.
[GitHub#52][Reported by Yaroslav Berezovskiy]</li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Yaroslav Berezovskiy</li>
</ul>

<h2>1.0.4 - 2020-12-10</h2>

<h3>Improvements</h3>

<ul>
<li><p>Experimentally support MemoryView feature in Ruby 3.0.
[GitHub#54]</p></li>
<li><p>Add support for <code>intNN_t</code> and <code>uintNN_t</code>.</p></li>
<li><p>Add <code>:need_gvl</code> option in <a href="Fiddle/Function.html#initialize-instance_method" title="Fiddle::Function#initialize (method)">Fiddle::Function#initialize</a>.
[Reported by Alan Wu]</p></li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Alan Wu</li>
</ul>

<h2>1.0.3 - 2020-11-22</h2>

<h3>Improvements</h3>

<ul>
<li>Added support for Fedora.
[GitHub#49][Reported by Steve Fishman]</li>
</ul>

<h3>Thanks</h3>

<ul>
<li>Steve Fishman</li>
</ul>

<h2>1.0.2 - 2020-11-18</h2>

<h3>Fixes</h3>

<ul>
<li>Suppressed a compile time warning.</li>
</ul>

<h2>1.0.1 - 2020-11-17</h2>

<h3>Improvements</h3>

<ul>
<li><p>Improved documentation.
[GitHub#9][GitHub#33]
[Patch by Olle Jonsson]
[Patch by Chris Seaton]</p></li>
<li><p>Dropped deprecated taint support.
[GitHub#21]
[Patch by Jeremy Evans]</p></li>
<li><p><a href="Fiddle.html#malloc-class_method" title="Fiddle.malloc (method)">Fiddle.malloc</a>: Changed to clear memory as all 0.
[GitHub#24]
[Patch by sinisterchipmunk]</p></li>
<li><p><a href="Fiddle/CStructEntity.html#[]-instance_method" title="Fiddle::CStructEntity#[] (method)">Fiddle::CStructEntity#[]</a>, <a href="Fiddle/CStructEntity.html#[]=-instance_method" title="Fiddle::CStructEntity#[]= (method)">Fiddle::CStructEntity#[]=</a>: Added
support for accessing struct data by offset and length.
[GitHub#25]
[Patch by sinisterchipmunk]</p></li>
<li><p><code>Fiddle::Version</code>: Added.</p></li>
<li><p><a href="Fiddle/Pointer.html#call_free-instance_method" title="Fiddle::Pointer#call_free (method)">Fiddle::Pointer#call_free</a>, <a href="Fiddle/Pointer.html#freed%3F-instance_method" title="Fiddle::Pointer#freed? (method)">Fiddle::Pointer#freed?</a>: Added.
[GitHub#36]
[Patch by Chris Seaton]</p></li>
<li><p><code>Fiddle::Pointer#malloc</code>: Added support for freeing memory by block.
[GitHub#38][GitHub#39]
[Patch by Chris Seaton]</p></li>
<li><p>Added support for variadic arguments.
[GitHub#39]
[Reported by kojix2]</p></li>
<li><p><code>Fiddle::TYPE_CONST_STRING</code>: Added.</p></li>
<li><p><a href="Fiddle.html#SIZEOF_CONST_STRING-constant" title="Fiddle::SIZEOF_CONST_STRING (constant)">Fiddle::SIZEOF_CONST_STRING</a>: Added.</p></li>
<li><p>Added support for name such as <code>:size_t</code> to specify type.</p></li>
<li><p><a href="Fiddle/Pinned.html" title="Fiddle::Pinned (class)"><code>::Fiddle::Pinned</code></a>: Added support for pinned object.
[GitHub#44]</p></li>
<li><p><a href="Fiddle/Error.html" title="Fiddle::Error (class)"><code>::Fiddle::Error</code></a>: Added as the root error class for Fiddle.</p></li>
<li><p>Added support for nested struct.
[GitHub#27]
[Patch by sinisterchipmunk]</p></li>
<li><p><code>Fiddle::Importer::dlload</code>: Removed needless <code>rescue</code>.
[GitHub#15]
[Reported by Eneroth3]</p></li>
</ul>

<h3>Thanks</h3>

<ul>
<li><p>Olle Jonsson</p></li>
<li><p>Jeremy Evans</p></li>
<li><p>sinisterchipmunk</p></li>
<li><p>Chris Seaton</p></li>
<li><p>kojix2</p></li>
<li><p>Eneroth3</p></li>
</ul>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>