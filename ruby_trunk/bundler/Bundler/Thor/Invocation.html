<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Bundler::Thor::Invocation &mdash; bundler  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Bundler::Thor::Invocation",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-master</a> &raquo; 
      <a href='../../'>bundler</a> &raquo; 
      <a href='../../_index.html#alpha_I'>Index (I)</a> &raquo; 
        <a href="../../Bundler.html" title="Bundler (module)">Bundler</a> &raquo; 
        <a href="../Thor.html" title="Bundler::Thor (class)">Thor</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Invocation&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Bundler::Thor::Invocation</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Invocation/ClassMethods.html" title="Bundler::Thor::Invocation::ClassMethods (module)"><code>ClassMethods</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L2'>lib/bundler/vendor/thor/lib/thor/invocation.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#included-class_method" title=".included (class method)">.<strong>included</strong>(base)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#current_command_chain-instance_method" title="#current_command_chain (instance method)">#<strong>current_command_chain</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Make the current command chain accessible with in a Bundler::Thor-(sub)command.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invoke-instance_method" title="#invoke (instance method)">#<strong>invoke</strong>(name = nil, *args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Receives a name and invokes it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invoke_task-instance_method" title="#invoke_task (instance method)">#<strong>invoke_task</strong>(command, *args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#invoke_command-instance_method" title="Bundler::Thor::Invocation#invoke_command (method)">#invoke_command</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invoke_with_padding-instance_method" title="#invoke_with_padding (instance method)">#<strong>invoke_with_padding</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes using shell padding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature prot'>
      <a href="#_retrieve_class_and_task-instance_method" title="#_retrieve_class_and_task (instance method)">#<strong>_retrieve_class_and_task</strong>(name, sent_command = nil)  </a>
    </span>
    <span class='note title protected'>protected</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#_retrieve_class_and_command-instance_method" title="Bundler::Thor::Invocation#_retrieve_class_and_command (method)">#_retrieve_class_and_command</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(args = [], options = {}, config = {}, &amp;block)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Make initializer aware of invocations and the initialization args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#invoke_all-instance_method" title="#invoke_all (instance method)">#<strong>invoke_all</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Invoke all commands for the current instance.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#invoke_command-instance_method" title="#invoke_command (instance method)">#<strong>invoke_command</strong>(command, *args)  </a>
      (also: #invoke_task)
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Invoke the given command if the given args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature prot nodoc'>
      <a href="#_parse_initialization_options-instance_method" title="#_parse_initialization_options (instance method)">#<strong>_parse_initialization_options</strong>(args, opts, config)  </a>
    </span>
    <span class='note title protected'>protected</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initialize klass using values stored in the @_initializer.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature prot nodoc'>
      <a href="#_retrieve_class_and_command-instance_method" title="#_retrieve_class_and_command (instance method)">#<strong>_retrieve_class_and_command</strong>(name, sent_command = nil)  </a>
      (also: #_retrieve_class_and_task)
    </span>
    <span class='note title protected'>protected</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>This method simply retrieves the class and command to be invoked.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature prot nodoc'>
      <a href="#_shared_configuration-instance_method" title="#_shared_configuration (instance method)">#<strong>_shared_configuration</strong>  </a>
    </span>
    <span class='note title protected'>protected</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Configuration values that are shared between invocations.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="included-class_method">
  <h3 class='signature nodoc first'>
    .<strong>included</strong>(base)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L3-L6'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3' data-end='6'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 3</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_included'>included</span>(<span class='id identifier rubyid_base'>base</span>) <span class='comment'>#:nodoc:
</span>  <span class='kw'>super</span>(<span class='id identifier rubyid_base'>base</span>)
  <span class='id identifier rubyid_base'>base</span>.<span class='id identifier rubyid_extend'>extend</span> <span class='const'><a href="Invocation/ClassMethods.html" title="Bundler::Thor::Invocation::ClassMethods (module)">ClassMethods</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_parse_initialization_options-instance_method">
  <h3 class='signature prot  nodoc first'>
    #<strong>_parse_initialization_options</strong>(args, opts, config)   <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initialize klass using values stored in the @_initializer.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L166-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='166' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__parse_initialization_options'>_parse_initialization_options</span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>) <span class='comment'>#:nodoc:
</span>  <span class='id identifier rubyid_stored_args'>stored_args</span><span class='comma'>,</span> <span class='id identifier rubyid_stored_opts'>stored_opts</span><span class='comma'>,</span> <span class='id identifier rubyid_stored_config'>stored_config</span> <span class='op'>=</span> <span class='ivar'>@_initializer</span>

  <span class='id identifier rubyid_args'>args</span> <span class='op'>||=</span> <span class='id identifier rubyid_stored_args'>stored_args</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>||=</span> <span class='id identifier rubyid_stored_opts'>stored_opts</span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='id identifier rubyid_config'>config</span> <span class='op'>||=</span> {}
  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_stored_config'>stored_config</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid__shared_configuration'><a href="#_shared_configuration-instance_method" title="Bundler::Thor::Invocation#_shared_configuration (method)">_shared_configuration</a></span>).<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_config'>config</span>)

  [<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_retrieve_class_and_command-instance_method">
  <h3 class='signature prot  nodoc'>
    #<strong>_retrieve_class_and_command</strong>(name, sent_command = nil)   <span class="extras">(<span class='prot'>protected</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#_retrieve_class_and_task</span></span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method simply retrieves the class and command to be invoked. If the name is nil or the given name is a command in the current class, use the given name and return self as class. Otherwise, call prepare_for_invocation in the current class.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L153-L162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='153' data-end='162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 153</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__retrieve_class_and_command'>_retrieve_class_and_command</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_sent_command'>sent_command</span> <span class='op'>=</span> <span class='kw'>nil</span>) <span class='comment'>#:nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    [<span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='kw'>nil</span>]
  <span class='kw'>elsif</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_all_commands'>all_commands</span>[<span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_to_s'>to_s</span>]
    [<span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_to_s'>to_s</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_prepare_for_invocation'>prepare_for_invocation</span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
    [<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span> <span class='op'>||</span> <span class='id identifier rubyid_sent_command'>sent_command</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_retrieve_class_and_task-instance_method">
  <h3 class='signature prot'>
    #<strong>_retrieve_class_and_task</strong>(name, sent_command = nil)   <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#_retrieve_class_and_command-instance_method" title="Bundler::Thor::Invocation#_retrieve_class_and_command (method)">#_retrieve_class_and_command</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L163-L163'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='163' data-end='163'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 163</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid__retrieve_class_and_task'>_retrieve_class_and_task</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__retrieve_class_and_command'><a href="#_retrieve_class_and_command-instance_method" title="Bundler::Thor::Invocation#_retrieve_class_and_command (method)">_retrieve_class_and_command</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_shared_configuration-instance_method">
  <h3 class='signature prot  nodoc'>
    #<strong>_shared_configuration</strong>   <span class="extras">(<span class='prot'>protected</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Configuration values that are shared between invocations.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L145-L147'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='145' data-end='147'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 145</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__shared_configuration'>_shared_configuration</span> <span class='comment'>#:nodoc:
</span>  {<span class='label'>invocations:</span> <span class='ivar'>@_invocations</span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_command_chain-instance_method">
  <h3 class='signature '>
    #<strong>current_command_chain</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Make the current command chain accessible with in a Bundler::Thor-(sub)command</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L30-L32'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='30' data-end='32'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 30</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_command_chain'>current_command_chain</span>
  <span class='ivar'>@_invocations</span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_flatten'>flatten</span>.<span class='id identifier rubyid_map'><a href="../Thor.html#map-class_method" title="Bundler::Thor.map (method)">map</a></span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_sym'>to_sym</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize-instance_method">
  <h3 class='signature nodoc'>
    #<strong>initialize</strong>(args = [], options = {}, config = {}, &amp;block)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Make initializer aware of invocations and the initialization args.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L23-L27'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='23' data-end='27'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 23</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []<span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="../Thor.html#options-class_method" title="Bundler::Thor.options (method)">options</a></span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) <span class='comment'>#:nodoc:
</span>  <span class='ivar'>@_invocations</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_invocations'>invocations</span>] <span class='op'>||</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
  <span class='ivar'>@_initializer</span> <span class='op'>=</span> [<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="../Thor.html#options-class_method" title="Bundler::Thor.options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>]
  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke-instance_method">
  <h3 class='signature '>
    #<strong>invoke</strong>(name = nil, *args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Receives a name and invokes it. The name can be a string (either “command” or “namespace:command”), a <a href="Command.html" title="Bundler::Thor::Command (class)"><code>Command</code></a>, a Class or a <a href="../Thor.html" title="Bundler::Thor (class)"><code>::Bundler::Thor</code></a> instance. If the command cannot be guessed by name, it can also be supplied as second argument.</p>

<p>You can also supply the arguments, options and configuration values for the command to be invoked, if none is given, the same values used to initialize the invoker are used to initialize the invoked.</p>

<p>When no name is given, it will invoke the default command of the current class.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>A</span> <span class='op'>&lt;</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../Thor.html" title="Bundler::Thor (class)">Thor</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
    <span class='id identifier rubyid_invoke'>invoke</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_invoke'>invoke</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b:hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Erik</span><span class='tstring_end'>&quot;</span></span>]
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_invoke'>invoke</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b:hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Erik</span><span class='tstring_end'>&quot;</span></span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>B</span> <span class='op'>&lt;</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../Thor.html" title="Bundler::Thor (class)">Thor</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_hello'>hello</span>(<span class='id identifier rubyid_name'>name</span>)
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>You can notice that the method “foo” above invokes two commands: “bar”, which belongs to the same class and “hello” which belongs to the class B.</p>

<p>By using an invocation system you ensure that a command is invoked only once. In the example above, invoking “foo” will invoke “b:hello” just once, even if it’s invoked later by “bar” method.</p>

<p>When class A invokes class B, all arguments used on A initialization are supplied to B. This allows lazy parse of options. Let’s suppose you have some rspec commands:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Rspec</span> <span class='op'>&lt;</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../Thor.html" title="Bundler::Thor (class)">Thor</a></span><span class='op'>::</span><span class='const'><a href="Group.html" title="Bundler::Thor::Group (class)">Group</a></span>
  <span class='id identifier rubyid_class_option'>class_option</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mock_framework'>mock_framework</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_rr'>rr</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_invoke_mock_framework'>invoke_mock_framework</span>
    <span class='id identifier rubyid_invoke'>invoke</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rspec:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'><a href="../Thor.html#options-class_method" title="Bundler::Thor.options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_mock_framework'>mock_framework</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>As you noticed, it invokes the given mock framework, which might have its own options:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Rspec</span><span class='op'>::</span><span class='const'>RR</span> <span class='op'>&lt;</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../Thor.html" title="Bundler::Thor (class)">Thor</a></span><span class='op'>::</span><span class='const'><a href="Group.html" title="Bundler::Thor::Group (class)">Group</a></span>
  <span class='id identifier rubyid_class_option'>class_option</span> <span class='symbeg'>:</span><span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mock'>mock</span>
<span class='kw'>end</span></code></pre>

<p>Since it’s not rspec concern to parse mock framework options, when RR is invoked all options are parsed again, so RR can extract only the options that it’s going to use.</p>

<p>If you want <code>Rspec::RR</code> to be initialized with its own set of options, you have to do that explicitly:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_invoke'>invoke</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rspec:rr</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_style'>style</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span></code></pre>

<p>Besides giving an instance, you can also give a class to invoke:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_invoke'>invoke</span> <span class='const'>Rspec</span><span class='op'>::</span><span class='const'>RR</span><span class='comma'>,</span> []<span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_style'>style</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L102-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_invoke'>invoke</span>(<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[Bundler::Thor] Calling invoke() without argument is deprecated. Please use invoke_all instead.\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_caller'>caller</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_invoke_all'><a href="#invoke_all-instance_method" title="Bundler::Thor::Invocation#invoke_all (method)">invoke_all</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='kw'>nil</span>) <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Array</span>) <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> <span class='id identifier rubyid__retrieve_class_and_command'><a href="#_retrieve_class_and_command-instance_method" title="Bundler::Thor::Invocation#_retrieve_class_and_command (method)">_retrieve_class_and_command</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing Bundler::Thor class for invoke </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected Bundler::Thor class, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>&lt;=</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../Thor.html" title="Bundler::Thor (class)">Thor</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="Bundler::Thor::Base (module)">Base</a></span>

  <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid__parse_initialization_options'><a href="#_parse_initialization_options-instance_method" title="Bundler::Thor::Invocation#_parse_initialization_options (method)">_parse_initialization_options</a></span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>)
  <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_dispatch'><a href="../Thor.html#dispatch-class_method" title="Bundler::Thor.dispatch (method)">dispatch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_instance'>instance</span><span class='op'>|</span>
    <span class='id identifier rubyid_instance'>instance</span>.<span class='id identifier rubyid_parent_options'>parent_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="../Thor.html#options-class_method" title="Bundler::Thor.options (method)">options</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke_all-instance_method">
  <h3 class='signature nodoc'>
    #<strong>invoke_all</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invoke all commands for the current instance.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L133-L135'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='133' data-end='135'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 133</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_invoke_all'>invoke_all</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_all_commands'>all_commands</span>.<span class='id identifier rubyid_map'><a href="../Thor.html#map-class_method" title="Bundler::Thor.map (method)">map</a></span> { <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='op'>|</span> <span class='id identifier rubyid_invoke_command'><a href="#invoke_command-instance_method" title="Bundler::Thor::Invocation#invoke_command (method)">invoke_command</a></span>(<span class='id identifier rubyid_command'>command</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke_command-instance_method">
  <h3 class='signature nodoc'>
    #<strong>invoke_command</strong>(command, *args)  
    <span class='aliases'>Also known as: <span class='names'>#invoke_task</span></span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invoke the given command if the given args.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L122-L129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_invoke_command'>invoke_command</span>(<span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>) <span class='comment'>#:nodoc:
</span>  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='ivar'>@_invocations</span>[<span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>]

  <span class='kw'>unless</span> <span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_command'>command</span>.<span class='id identifier rubyid_name'>name</span>)
    <span class='id identifier rubyid_current'>current</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_command'>command</span>.<span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_command'>command</span>.<span class='id identifier rubyid_run'>run</span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke_task-instance_method">
  <h3 class='signature '>
    #<strong>invoke_task</strong>(command, *args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#invoke_command-instance_method" title="Bundler::Thor::Invocation#invoke_command (method)">#invoke_command</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L130-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='130' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_invoke_task'>invoke_task</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_invoke_command'><a href="#invoke_command-instance_method" title="Bundler::Thor::Invocation#invoke_command (method)">invoke_command</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke_with_padding-instance_method">
  <h3 class='signature '>
    #<strong>invoke_with_padding</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes using shell padding.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/thor/lib/thor/invocation.rb#L138-L140'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='138' data-end='140'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/thor/lib/thor/invocation.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_invoke_with_padding'>invoke_with_padding</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_with_padding'>with_padding</span> { <span class='id identifier rubyid_invoke'><a href="#invoke-instance_method" title="Bundler::Thor::Invocation#invoke (method)">invoke</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>