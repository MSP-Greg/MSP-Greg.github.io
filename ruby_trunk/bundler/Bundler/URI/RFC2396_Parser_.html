<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Bundler::URI::RFC2396_Parser &mdash; bundler  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Bundler::URI::RFC2396_Parser",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-master</a> &raquo; 
      <a href='../../'>bundler</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../Bundler.html" title="Bundler (module)">Bundler</a> &raquo; 
        <a href="../URI.html" title="Bundler::URI (module)">URI</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>RFC2396_Parser&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Bundler::URI::RFC2396_Parser</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="RFC2396_REGEXP.html" title="Bundler::URI::RFC2396_REGEXP (module)"><code>RFC2396_REGEXP</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L64'>lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Class that parses String’s into Bundler::URI’s.</p>

<p>It contains a Hash set of patterns and Regexp’s that match and validate.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='TO_S-constant' class='summary_signature nodoc'>TO_S =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L324-L324'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 324</a>    <pre class='code ruby'><span class='const'>Kernel</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(opts = {})  &#x21d2; RFC2396_Parser </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Synopsis.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#pattern-instance_method" title="#pattern (instance method)">#<strong>pattern</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The Hash of patterns.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#regexp-instance_method" title="#regexp (instance method)">#<strong>regexp</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The Hash of Regexp.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#escape-instance_method" title="#escape (instance method)">#<strong>escape</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extract-instance_method" title="#extract (instance method)">#<strong>extract</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#join-instance_method" title="#join (instance method)">#<strong>join</strong>(*uris)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#make_regexp-instance_method" title="#make_regexp (instance method)">#<strong>make_regexp</strong>(schemes = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns Regexp that is default <code>:ABS_URI_REF</code>, unless <code>schemes</code> is provided.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>(uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a split <a href="../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> against <code>:ABS_URI</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unescape-instance_method" title="#unescape (instance method)">#<strong>unescape</strong>(str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Args.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#convert_to_uri-instance_method" title="#convert_to_uri (instance method)">#<strong>convert_to_uri</strong>(uri)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#initialize_pattern-instance_method" title="#initialize_pattern (instance method)">#<strong>initialize_pattern</strong>(opts = {})  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs the default Hash of patterns.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#initialize_regexp-instance_method" title="#initialize_regexp (instance method)">#<strong>initialize_regexp</strong>(pattern)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs the default Hash of Regexp’s.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at line 326.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(opts = {})  &#x21d2; <code>RFC2396_Parser</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Synopsis">Synopsis</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>Parser</span>.<span class='id identifier rubyid_new'>new</span>([<span class='id identifier rubyid_opts'>opts</span>])</code></pre>

<h4 id="label-Args">Args</h4>

<p>The constructor accepts a hash as options for parser. Keys of options are pattern names of <a href="../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> components and values of options are pattern strings. The constructor generates set of regexps for parsing URIs.</p>

<p>You can use the following keys:</p>

<pre class="code ruby"><code class="ruby"><span class='op'>*</span> <span class='symbeg'>:</span><span class='const'>ESCAPED</span> (<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>PATTERN</span><span class='op'>::</span><span class='const'>ESCAPED</span> <span class='kw'>in</span> <span class='id identifier rubyid_default'>default</span>)
<span class='op'>*</span> <span class='symbeg'>:</span><span class='const'>UNRESERVED</span> (<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>PATTERN</span><span class='op'>::</span><span class='const'>UNRESERVED</span> <span class='kw'>in</span> <span class='id identifier rubyid_default'>default</span>)
<span class='op'>*</span> <span class='symbeg'>:</span><span class='const'>DOMLABEL</span> (<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>PATTERN</span><span class='op'>::</span><span class='const'>DOMLABEL</span> <span class='kw'>in</span> <span class='id identifier rubyid_default'>default</span>)
<span class='op'>*</span> <span class='symbeg'>:</span><span class='const'>TOPLABEL</span> (<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>PATTERN</span><span class='op'>::</span><span class='const'>TOPLABEL</span> <span class='kw'>in</span> <span class='id identifier rubyid_default'>default</span>)
<span class='op'>*</span> <span class='symbeg'>:</span><span class='const'>HOSTNAME</span> (<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>PATTERN</span><span class='op'>::</span><span class='const'>HOSTNAME</span> <span class='kw'>in</span> <span class='id identifier rubyid_default'>default</span>)</code></pre>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>Parser</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='const'>ESCAPED</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:%[a-fA-F0-9]{2}|%u[a-fA-F0-9]{4})</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_u'>u</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="Bundler::URI::RFC2396_Parser#parse (method)">parse</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.jp/%uABCD</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; #&lt;Bundler::URI::HTTP http://example.jp/%uABCD&gt;
</span><span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span>.<span class='id identifier rubyid_parse'><a href="../URI.html#parse-class_method" title="Bundler::URI.parse (method)">parse</a></span>(<span class='id identifier rubyid_u'>u</span>.<span class='id identifier rubyid_to_s'>to_s</span>) <span class='comment'>#=&gt; raises Bundler::URI::InvalidURIError
</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/ABCD</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_u1'>u1</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="Bundler::URI::RFC2396_Parser#parse (method)">parse</a></span>(<span class='id identifier rubyid_s'>s</span>) <span class='comment'>#=&gt; #&lt;Bundler::URI::HTTP http://example.com/ABCD&gt;
</span><span class='id identifier rubyid_u2'>u2</span> <span class='op'>=</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span>.<span class='id identifier rubyid_parse'><a href="../URI.html#parse-class_method" title="Bundler::URI.parse (method)">parse</a></span>(<span class='id identifier rubyid_s'>s</span>) <span class='comment'>#=&gt; #&lt;Bundler::URI::HTTP http://example.com/ABCD&gt;
</span><span class='id identifier rubyid_u1'>u1</span> <span class='op'>==</span> <span class='id identifier rubyid_u2'>u2</span> <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_u1'>u1</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='id identifier rubyid_u2'>u2</span>) <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L99-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='99' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {})
  <span class='ivar'>@pattern</span> <span class='op'>=</span> <span class='id identifier rubyid_initialize_pattern'><a href="#initialize_pattern-instance_method" title="Bundler::URI::RFC2396_Parser#initialize_pattern (method)">initialize_pattern</a></span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='ivar'>@pattern</span>.<span class='id identifier rubyid_each_value'>each_value</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_freeze'>freeze</span>)
  <span class='ivar'>@pattern</span>.<span class='id identifier rubyid_freeze'>freeze</span>

  <span class='ivar'>@regexp</span> <span class='op'>=</span> <span class='id identifier rubyid_initialize_regexp'><a href="#initialize_regexp-instance_method" title="Bundler::URI::RFC2396_Parser#initialize_regexp (method)">initialize_regexp</a></span>(<span class='ivar'>@pattern</span>)
  <span class='ivar'>@regexp</span>.<span class='id identifier rubyid_each_value'>each_value</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_freeze'>freeze</span>)
  <span class='ivar'>@regexp</span>.<span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="pattern-instance_method">
  <h3 class='signature ro first'>
    #<strong>pattern</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The Hash of patterns.</p>

<p>See also <code>Bundler::URI::Parser.initialize_pattern</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L112-L112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='112' data-end='112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 112</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_pattern'>pattern</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="regexp-instance_method">
  <h3 class='signature ro'>
    #<strong>regexp</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The Hash of Regexp.</p>

<p>See also <code>Bundler::URI::Parser.initialize_regexp</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L117-L117'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='117' data-end='117'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 117</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_regexp'>regexp</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="convert_to_uri-instance_method">
  <h3 class='signature priv first'>
    #<strong>convert_to_uri</strong>(uri)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L527-L536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='527' data-end='536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 527</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_to_uri'>convert_to_uri</span>(<span class='id identifier rubyid_uri'>uri</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'><a href="Generic.html" title="Bundler::URI::Generic (class)">Generic</a></span>)
    <span class='id identifier rubyid_uri'>uri</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_try_convert'>try_convert</span>(<span class='id identifier rubyid_uri'>uri</span>)
    <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="Bundler::URI::RFC2396_Parser#parse (method)">parse</a></span>(<span class='id identifier rubyid_uri'>uri</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad argument (expected Bundler::URI object or Bundler::URI string)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="escape-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>escape</strong>(str)  </span>
      <span class='overload'>#<strong>escape</strong>(str, unsafe)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Args">Args</h4>
<dl class="rdoc-list note-list"><dt><code>str</code></dt>
<dd>
<p>String to make safe</p>
</dd><dt><code>unsafe</code></dt>
<dd>
<p>Regexp to apply. Defaults to <code>:UNSAFE</code></p>
</dd></dl>

<h4 id="label-Description">Description</h4>

<p>Constructs a safe String from <code>str</code>, removing unsafe characters, replacing them with codes.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L287-L300'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='287' data-end='300'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_escape'>escape</span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_unsafe'>unsafe</span> <span class='op'>=</span> <span class='ivar'>@regexp</span>[<span class='symbeg'>:</span><span class='const'>UNSAFE</span>])
  <span class='kw'>unless</span> <span class='id identifier rubyid_unsafe'>unsafe</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Regexp</span>)
    <span class='comment'># perhaps unsafe is String object
</span>    <span class='id identifier rubyid_unsafe'>unsafe</span> <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span>.<span class='id identifier rubyid_quote'>quote</span>(<span class='id identifier rubyid_unsafe'>unsafe</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='id identifier rubyid_unsafe'>unsafe</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_us'>us</span> <span class='op'>=</span> <span class='backref'>$&amp;</span>
    <span class='id identifier rubyid_tmp'><a href="../../Bundler.html#tmp-class_method" title="Bundler.tmp (method)">tmp</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_us'>us</span>.<span class='id identifier rubyid_each_byte'>each_byte</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_uc'>uc</span><span class='op'>|</span>
      <span class='id identifier rubyid_tmp'><a href="../../Bundler.html#tmp-class_method" title="Bundler.tmp (method)">tmp</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_sprintf'>sprintf</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%%%02X</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_uc'>uc</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tmp'><a href="../../Bundler.html#tmp-class_method" title="Bundler.tmp (method)">tmp</a></span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>US_ASCII</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>extract</strong>(str)  </span>
      <span class='overload'>#<strong>extract</strong>(str, schemes)  </span>
      <span class='overload'>#<strong>extract</strong>(str, schemes) {|item| ... } </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Args">Args</h4>
<dl class="rdoc-list note-list"><dt><code>str</code></dt>
<dd>
<p>String to search</p>
</dd><dt><code>schemes</code></dt>
<dd>
<p>Patterns to apply to <code>str</code></p>
</dd></dl>

<h4 id="label-Description">Description</h4>

<p>Attempts to parse and merge a set of URIs. If no <code>block</code> given, then returns the result, else it calls <code>block</code> for each element in result.</p>

<p>See also <code>Bundler::URI::Parser.make_regexp</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L249-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='249' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract'>extract</span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_schemes'>schemes</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='id identifier rubyid_make_regexp'><a href="#make_regexp-instance_method" title="Bundler::URI::RFC2396_Parser#make_regexp (method)">make_regexp</a></span>(<span class='id identifier rubyid_schemes'>schemes</span>)) { <span class='kw'>yield</span> <span class='backref'>$&amp;</span> }
    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> []
    <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='id identifier rubyid_make_regexp'><a href="#make_regexp-instance_method" title="Bundler::URI::RFC2396_Parser#make_regexp (method)">make_regexp</a></span>(<span class='id identifier rubyid_schemes'>schemes</span>)) { <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_push'>push</span> <span class='backref'>$&amp;</span> }
    <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_pattern-instance_method">
  <h3 class='signature priv'>
    #<strong>initialize_pattern</strong>(opts = {})   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Constructs the default Hash of patterns.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L338-L493'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='338' data-end='493'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 338</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_pattern'>initialize_pattern</span>(<span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ESCAPED</span>] <span class='op'>=</span> <span class='id identifier rubyid_escaped'>escaped</span> <span class='op'>=</span> (<span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>ESCAPED</span>) <span class='op'>||</span> <span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#ESCAPED-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::ESCAPED (constant)">ESCAPED</a></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>UNRESERVED</span>] <span class='op'>=</span> <span class='id identifier rubyid_unreserved'>unreserved</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>UNRESERVED</span>) <span class='op'>||</span> <span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#UNRESERVED-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::UNRESERVED (constant)">UNRESERVED</a></span>
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>RESERVED</span>] <span class='op'>=</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>RESERVED</span>) <span class='op'>||</span> <span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#RESERVED-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::RESERVED (constant)">RESERVED</a></span>
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>DOMLABEL</span>] <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>DOMLABEL</span>) <span class='op'>||</span> <span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#DOMLABEL-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::DOMLABEL (constant)">DOMLABEL</a></span>
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>TOPLABEL</span>] <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>TOPLABEL</span>) <span class='op'>||</span> <span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#TOPLABEL-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::TOPLABEL (constant)">TOPLABEL</a></span>
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HOSTNAME</span>] <span class='op'>=</span> <span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='const'>HOSTNAME</span>)

  <span class='comment'># RFC 2396 (Bundler::URI Generic Syntax)
</span>  <span class='comment'># RFC 2732 (IPv6 Literal Addresses in URL&#39;s)
</span>  <span class='comment'># RFC 2373 (IPv6 Addressing Architecture)
</span>
  <span class='comment'># uric          = reserved | unreserved | escaped
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>URIC</span>] <span class='op'>=</span> <span class='id identifier rubyid_uric'>uric</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reserved'>reserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># uric_no_slash = unreserved | escaped | &quot;;&quot; | &quot;?&quot; | &quot;:&quot; | &quot;@&quot; |
</span>  <span class='comment'>#                 &quot;&amp;&quot; | &quot;=&quot; | &quot;+&quot; | &quot;$&quot; | &quot;,&quot;
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>URIC_NO_SLASH</span>] <span class='op'>=</span> <span class='id identifier rubyid_uric_no_slash'>uric_no_slash</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>;?:@&amp;=+$,]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># query         = *uric
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>QUERY</span>] <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uric'>uric</span><span class='embexpr_end'>}</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># fragment      = *uric
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>FRAGMENT</span>] <span class='op'>=</span> <span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uric'>uric</span><span class='embexpr_end'>}</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># hostname      = *( domainlabel &quot;.&quot; ) toplabel [ &quot;.&quot; ]
</span>  <span class='comment'># reg-name      = *( unreserved / pct-encoded / sub-delims ) # RFC3986
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_hostname'>hostname</span>
    <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HOSTNAME</span>] <span class='op'>=</span> <span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[a-zA-Z0-9\\-.]|%\\h\\h)+</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># RFC 2373, APPENDIX B:
</span>  <span class='comment'># IPv6address = hexpart [ &quot;:&quot; IPv4address ]
</span>  <span class='comment'># IPv4address   = 1*3DIGIT &quot;.&quot; 1*3DIGIT &quot;.&quot; 1*3DIGIT &quot;.&quot; 1*3DIGIT
</span>  <span class='comment'># hexpart = hexseq | hexseq &quot;::&quot; [ hexseq ] | &quot;::&quot; [ hexseq ]
</span>  <span class='comment'># hexseq  = hex4 *( &quot;:&quot; hex4)
</span>  <span class='comment'># hex4    = 1*4HEXDIG
</span>  <span class='comment'>#
</span>  <span class='comment'># XXX: This definition has a flaw. &quot;::&quot; + IPv4address must be
</span>  <span class='comment'># allowed too.  Here is a replacement.
</span>  <span class='comment'>#
</span>  <span class='comment'># IPv4address = 1*3DIGIT &quot;.&quot; 1*3DIGIT &quot;.&quot; 1*3DIGIT &quot;.&quot; 1*3DIGIT
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>IPV4ADDR</span>] <span class='op'>=</span> <span class='id identifier rubyid_ipv4addr'>ipv4addr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># hex4     = 1*4HEXDIG
</span>  <span class='id identifier rubyid_hex4'>hex4</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#HEX-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::HEX (constant)">HEX</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>]{1,4}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># lastpart = hex4 | IPv4address
</span>  <span class='id identifier rubyid_lastpart'>lastpart</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex4'>hex4</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ipv4addr'>ipv4addr</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># hexseq1  = *( hex4 &quot;:&quot; ) hex4
</span>  <span class='id identifier rubyid_hexseq1'>hexseq1</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex4'>hex4</span><span class='embexpr_end'>}</span><span class='tstring_content'>:)*</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex4'>hex4</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># hexseq2  = *( hex4 &quot;:&quot; ) lastpart
</span>  <span class='id identifier rubyid_hexseq2'>hexseq2</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex4'>hex4</span><span class='embexpr_end'>}</span><span class='tstring_content'>:)*</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lastpart'>lastpart</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># IPv6address = hexseq2 | [ hexseq1 ] &quot;::&quot; [ hexseq2 ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>IPV6ADDR</span>] <span class='op'>=</span> <span class='id identifier rubyid_ipv6addr'>ipv6addr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hexseq2'>hexseq2</span><span class='embexpr_end'>}</span><span class='tstring_content'>|(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hexseq1'>hexseq1</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?::(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hexseq2'>hexseq2</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?)</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># IPv6prefix  = ( hexseq1 | [ hexseq1 ] &quot;::&quot; [ hexseq1 ] ) &quot;/&quot; 1*2DIGIT
</span>  <span class='comment'># unused
</span>
  <span class='comment'># ipv6reference = &quot;[&quot; IPv6address &quot;]&quot; (RFC 2732)
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>IPV6REF</span>] <span class='op'>=</span> <span class='id identifier rubyid_ipv6ref'>ipv6ref</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ipv6addr'>ipv6addr</span><span class='embexpr_end'>}</span><span class='tstring_content'>\\]</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># host          = hostname | IPv4address
</span>  <span class='comment'># host          = hostname | IPv4address | IPv6reference (RFC 2732)
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HOST</span>] <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hostname'>hostname</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ipv4addr'>ipv4addr</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ipv6ref'>ipv6ref</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># port          = *digit
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>PORT</span>] <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\d*</span><span class='tstring_end'>&#39;</span></span>
  <span class='comment'># hostport      = host [ &quot;:&quot; port ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HOSTPORT</span>] <span class='op'>=</span> <span class='id identifier rubyid_hostport'>hostport</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?::</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># userinfo      = *( unreserved | escaped |
</span>  <span class='comment'>#                    &quot;;&quot; | &quot;:&quot; | &quot;&amp;&quot; | &quot;=&quot; | &quot;+&quot; | &quot;$&quot; | &quot;,&quot; )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>USERINFO</span>] <span class='op'>=</span> <span class='id identifier rubyid_userinfo'>userinfo</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>;:&amp;=+$,]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)*</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># pchar         = unreserved | escaped |
</span>  <span class='comment'>#                 &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; | &quot;+&quot; | &quot;$&quot; | &quot;,&quot;
</span>  <span class='id identifier rubyid_pchar'>pchar</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>:@&amp;=+$,]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># param         = *pchar
</span>  <span class='id identifier rubyid_param'>param</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pchar'>pchar</span><span class='embexpr_end'>}</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># segment       = *pchar *( &quot;;&quot; param )
</span>  <span class='id identifier rubyid_segment'>segment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pchar'>pchar</span><span class='embexpr_end'>}</span><span class='tstring_content'>*(?:;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_param'>param</span><span class='embexpr_end'>}</span><span class='tstring_content'>)*</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># path_segments = segment *( &quot;/&quot; segment )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>PATH_SEGMENTS</span>] <span class='op'>=</span> <span class='id identifier rubyid_path_segments'>path_segments</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_segment'>segment</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_segment'>segment</span><span class='embexpr_end'>}</span><span class='tstring_content'>)*</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># server        = [ [ userinfo &quot;@&quot; ] hostport ]
</span>  <span class='id identifier rubyid_server'>server</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='embexpr_end'>}</span><span class='tstring_content'>@)?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hostport'>hostport</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># reg_name      = 1*( unreserved | escaped | &quot;$&quot; | &quot;,&quot; |
</span>  <span class='comment'>#                     &quot;;&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; | &quot;+&quot; )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REG_NAME</span>] <span class='op'>=</span> <span class='id identifier rubyid_reg_name'>reg_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>$,;:@&amp;=]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># authority     = server | reg_name
</span>  <span class='id identifier rubyid_authority'>authority</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_server'>server</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reg_name'>reg_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># rel_segment   = 1*( unreserved | escaped |
</span>  <span class='comment'>#                     &quot;;&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; | &quot;+&quot; | &quot;$&quot; | &quot;,&quot; )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_SEGMENT</span>] <span class='op'>=</span> <span class='id identifier rubyid_rel_segment'>rel_segment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unreserved'>unreserved</span><span class='embexpr_end'>}</span><span class='tstring_content'>;@&amp;=$,]|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped'>escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># scheme        = alpha *( alpha | digit | &quot;+&quot; | &quot;-&quot; | &quot;.&quot; )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>SCHEME</span>] <span class='op'>=</span> <span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#ALPHA-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::ALPHA (constant)">ALPHA</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>][\\-+.</span><span class='embexpr_beg'>#{</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html" title="Bundler::URI::RFC2396_REGEXP::PATTERN (module)">PATTERN</a></span><span class='op'>::</span><span class='const'><a href="RFC2396_REGEXP/PATTERN.html#ALPHA-constant" title="Bundler::URI::RFC2396_REGEXP::PATTERN::ALPHA (constant)">ALPHA</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\\d]*</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># abs_path      = &quot;/&quot;  path_segments
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ABS_PATH</span>] <span class='op'>=</span> <span class='id identifier rubyid_abs_path'>abs_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path_segments'>path_segments</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># rel_path      = rel_segment [ abs_path ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_PATH</span>] <span class='op'>=</span> <span class='id identifier rubyid_rel_path'>rel_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_segment'>rel_segment</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># net_path      = &quot;//&quot; authority [ abs_path ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>NET_PATH</span>] <span class='op'>=</span> <span class='id identifier rubyid_net_path'>net_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_authority'>authority</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HIER_PART</span>] <span class='op'>=</span> <span class='id identifier rubyid_hier_part'>hier_part</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_net_path'>net_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)(?:\\?(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>))?</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># opaque_part   = uric_no_slash *uric
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>OPAQUE_PART</span>] <span class='op'>=</span> <span class='id identifier rubyid_opaque_part'>opaque_part</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uric_no_slash'>uric_no_slash</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uric'>uric</span><span class='embexpr_end'>}</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ABS_URI</span>] <span class='op'>=</span> <span class='id identifier rubyid_abs_uri'>abs_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_scheme'>scheme</span><span class='embexpr_end'>}</span><span class='tstring_content'>:(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hier_part'>hier_part</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opaque_part'>opaque_part</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># relativeURI   = ( net_path | abs_path | rel_path ) [ &quot;?&quot; query ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_URI</span>] <span class='op'>=</span> <span class='id identifier rubyid_rel_uri'>rel_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_net_path'>net_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_path'>rel_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)(?:\\?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># Bundler::URI-reference = [ absoluteURI | relativeURI ] [ &quot;#&quot; fragment ]
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>URI_REF</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_uri'>abs_uri</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_uri'>rel_uri</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?(?:#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fragment'>fragment</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>X_ABS_URI</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>
    (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_scheme'>scheme</span><span class='embexpr_end'>}</span><span class='tstring_content'>):                           (?# 1: scheme)
    (?:
       (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opaque_part'>opaque_part</span><span class='embexpr_end'>}</span><span class='tstring_content'>)                    (?# 2: opaque)
    |
       (?:(?:
         //(?:
             (?:(?:(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='embexpr_end'>}</span><span class='tstring_content'>)@)?        (?# 3: userinfo)
               (?:(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>)(?::(\\d*))?))? (?# 4: host, 5: port)
           |
             (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reg_name'>reg_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)                 (?# 6: registry)
           )
         |
         (?!//))                           (?# XXX: &#39;//&#39; is the mark for hostport)
         (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?                    (?# 7: path)
       )(?:\\?(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>))?                 (?# 8: query)
    )
    (?:\\#(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fragment'>fragment</span><span class='embexpr_end'>}</span><span class='tstring_content'>))?                  (?# 9: fragment)
  </span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>X_REL_URI</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>
    (?:
      (?:
        //
        (?:
          (?:(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='embexpr_end'>}</span><span class='tstring_content'>)@)?       (?# 1: userinfo)
            (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?(?::(\\d*))?  (?# 2: host, 3: port)
        |
          (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reg_name'>reg_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)             (?# 4: registry)
        )
      )
    |
      (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_segment'>rel_segment</span><span class='embexpr_end'>}</span><span class='tstring_content'>)              (?# 5: rel_segment)
    )?
    (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>)?                  (?# 6: abs_path)
    (?:\\?(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>))?              (?# 7: query)
    (?:\\#(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fragment'>fragment</span><span class='embexpr_end'>}</span><span class='tstring_content'>))?           (?# 8: fragment)
  </span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_regexp-instance_method">
  <h3 class='signature priv'>
    #<strong>initialize_regexp</strong>(pattern)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Constructs the default Hash of Regexp’s.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L496-L525'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='496' data-end='525'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 496</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_regexp'>initialize_regexp</span>(<span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>)
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> {}

  <span class='comment'># for Bundler::URI::split
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ABS_URI</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\A\s*+</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>X_ABS_URI</span>] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\s*\z</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>EXTENDED</span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_URI</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\A\s*+</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>X_REL_URI</span>] <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\s*\z</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>EXTENDED</span>)

  <span class='comment'># for Bundler::URI::extract
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>URI_REF</span>]     <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>URI_REF</span>])
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ABS_URI_REF</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>X_ABS_URI</span>]<span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>EXTENDED</span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_URI_REF</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>X_REL_URI</span>]<span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>EXTENDED</span>)

  <span class='comment'># for Bundler::URI::escape/unescape
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ESCAPED</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>ESCAPED</span>])
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>UNSAFE</span>]  <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>UNRESERVED</span>]<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>RESERVED</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>)

  <span class='comment'># for Generic#initialize
</span>  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>SCHEME</span>]   <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>SCHEME</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>USERINFO</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>USERINFO</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>HOST</span>]     <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>HOST</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>PORT</span>]     <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>PORT</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>OPAQUE</span>]   <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>OPAQUE_PART</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REGISTRY</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>REG_NAME</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>ABS_PATH</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>ABS_PATH</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>REL_PATH</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>REL_PATH</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>QUERY</span>]    <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>QUERY</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_ret'>ret</span>[<span class='symbeg'>:</span><span class='const'>FRAGMENT</span>] <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'><a href="#pattern-instance_method" title="Bundler::URI::RFC2396_Parser#pattern (method)">pattern</a></span>[<span class='symbeg'>:</span><span class='const'>FRAGMENT</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>\\z</span><span class='tstring_end'>&quot;</span></span>)

  <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature nodoc'>
    #<strong>inspect</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at line 326.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L330-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='330' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 330</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'># :nodoc:
</span>  <span class='const'><a href="#TO_S-constant" title="Bundler::URI::RFC2396_Parser::TO_S (constant)">TO_S</a></span>.<span class='id identifier rubyid_bind_call'>bind_call</span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="join-instance_method">
  <h3 class='signature '>
    #<strong>join</strong>(*uris)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Args">Args</h4>
<dl class="rdoc-list note-list"><dt><code>uris</code></dt>
<dd>
<p>an Array of Strings</p>
</dd></dl>

<h4 id="label-Description">Description</h4>

<p>Attempts to parse and merge a set of URIs.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L223-L226'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='223' data-end='226'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_join'>join</span>(<span class='op'>*</span><span class='id identifier rubyid_uris'>uris</span>)
  <span class='id identifier rubyid_uris'>uris</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='id identifier rubyid_convert_to_uri'><a href="#convert_to_uri-instance_method" title="Bundler::URI::RFC2396_Parser#convert_to_uri (method)">convert_to_uri</a></span>(<span class='id identifier rubyid_uris'>uris</span>[<span class='int'>0</span>])
  <span class='id identifier rubyid_uris'>uris</span>.<span class='id identifier rubyid_inject'>inject</span> <span class='symbeg'>:</span><span class='id identifier rubyid_merge'>merge</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_regexp-instance_method">
  <h3 class='signature '>
    #<strong>make_regexp</strong>(schemes = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns Regexp that is default <code>:ABS_URI_REF</code>, unless <code>schemes</code> is provided. Then it is a <code>Regexp.union</code> with <code>:X_ABS_URI</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L262-L268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='262' data-end='268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 262</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_regexp'>make_regexp</span>(<span class='id identifier rubyid_schemes'>schemes</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_schemes'>schemes</span>
    <span class='ivar'>@regexp</span>[<span class='symbeg'>:</span><span class='const'>ABS_URI_REF</span>]
  <span class='kw'>else</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?=</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span>.<span class='id identifier rubyid_union'>union</span>(<span class='op'>*</span><span class='id identifier rubyid_schemes'>schemes</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>:)</span><span class='embexpr_beg'>#{</span><span class='ivar'>@pattern</span>[<span class='symbeg'>:</span><span class='const'>X_ABS_URI</span>]<span class='embexpr_end'>}</span><span class='regexp_end'>/x</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse-instance_method">
  <h3 class='signature '>
    #<strong>parse</strong>(uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Args">Args</h4>
<dl class="rdoc-list note-list"><dt><code>uri</code></dt>
<dd>
<p>String</p>
</dd></dl>

<h4 id="label-Description">Description</h4>

<p>Parses <code>uri</code> and constructs either matching <a href="../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> scheme object (File, <a href="FTP.html" title="Bundler::URI::FTP (class)"><code>FTP</code></a>, <a href="HTTP.html" title="Bundler::URI::HTTP (class)"><code>HTTP</code></a>, <a href="HTTPS.html" title="Bundler::URI::HTTPS (class)"><code>HTTPS</code></a>, <a href="LDAP.html" title="Bundler::URI::LDAP (class)"><code>LDAP</code></a>, <a href="LDAPS.html" title="Bundler::URI::LDAPS (class)"><code>LDAPS</code></a>, or <a href="MailTo.html" title="Bundler::URI::MailTo (class)"><code>MailTo</code></a>) or <a href="Generic.html" title="Bundler::URI::Generic (class)"><code>Generic</code></a>.</p>

<h4 id="label-Usage">Usage</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span><span class='op'>::</span><span class='const'>Parser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Bundler::URI::RFC2396_Parser.new (method)">new</a></span>
<span class='id identifier rubyid_p'>p</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ldap://ldap.example.com/dc=example?user=john</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; #&lt;Bundler::URI::LDAP ldap://ldap.example.com/dc=example?user=john&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L209-L211'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='209' data-end='211'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 209</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_uri'>uri</span>)
  <span class='const'><a href="../../Bundler.html" title="Bundler (module)">Bundler</a></span><span class='op'>::</span><span class='const'><a href="../URI.html" title="Bundler::URI (module)">URI</a></span>.<span class='id identifier rubyid_for'><a href="../URI.html#for-class_method" title="Bundler::URI.for (method)">for</a></span>(<span class='op'>*</span><span class='kw'>self</span>.<span class='id identifier rubyid_split'><a href="#split-instance_method" title="Bundler::URI::RFC2396_Parser#split (method)">split</a></span>(<span class='id identifier rubyid_uri'>uri</span>)<span class='comma'>,</span> <span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split-instance_method">
  <h3 class='signature '>
    #<strong>split</strong>(uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a split <a href="../URI.html" title="Bundler::URI (module)"><code>::Bundler::URI</code></a> against <code>:ABS_URI</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L120-L190'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='120' data-end='190'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 120</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_uri'>uri</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='comment'># null uri
</span>
  <span class='kw'>when</span> <span class='ivar'>@regexp</span>[<span class='symbeg'>:</span><span class='const'>ABS_URI</span>]
    <span class='id identifier rubyid_scheme'>scheme</span><span class='comma'>,</span> <span class='id identifier rubyid_opaque'>opaque</span><span class='comma'>,</span> <span class='id identifier rubyid_userinfo'>userinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>
      <span class='id identifier rubyid_registry'>registry</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='gvar'>$~</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]

    <span class='comment'># Bundler::URI-reference = [ absoluteURI | relativeURI ] [ &quot;#&quot; fragment ]
</span>
    <span class='comment'># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )
</span>    <span class='comment'># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]
</span>    <span class='comment'># opaque_part   = uric_no_slash *uric
</span>
    <span class='comment'># abs_path      = &quot;/&quot;  path_segments
</span>    <span class='comment'># net_path      = &quot;//&quot; authority [ abs_path ]
</span>
    <span class='comment'># authority     = server | reg_name
</span>    <span class='comment'># server        = [ [ userinfo &quot;@&quot; ] hostport ]
</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_scheme'>scheme</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="InvalidURIError.html" title="Bundler::URI::InvalidURIError (class)">InvalidURIError</a></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad Bundler::URI (absolute but no scheme): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='op'>&amp;&amp;</span> (<span class='op'>!</span><span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> (<span class='op'>!</span><span class='id identifier rubyid_host'>host</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_registry'>registry</span>))
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="InvalidURIError.html" title="Bundler::URI::InvalidURIError (class)">InvalidURIError</a></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad Bundler::URI (absolute but no path): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

  <span class='kw'>when</span> <span class='ivar'>@regexp</span>[<span class='symbeg'>:</span><span class='const'>REL_URI</span>]
    <span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_opaque'>opaque</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_userinfo'>userinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='id identifier rubyid_registry'>registry</span><span class='comma'>,</span>
      <span class='id identifier rubyid_rel_segment'>rel_segment</span><span class='comma'>,</span> <span class='id identifier rubyid_abs_path'>abs_path</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='gvar'>$~</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='kw'>if</span> <span class='id identifier rubyid_rel_segment'>rel_segment</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_abs_path'>abs_path</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_segment'>rel_segment</span> <span class='op'>+</span> <span class='id identifier rubyid_abs_path'>abs_path</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_rel_segment'>rel_segment</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_segment'>rel_segment</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_abs_path'>abs_path</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_abs_path'>abs_path</span>
    <span class='kw'>end</span>

    <span class='comment'># Bundler::URI-reference = [ absoluteURI | relativeURI ] [ &quot;#&quot; fragment ]
</span>
    <span class='comment'># relativeURI   = ( net_path | abs_path | rel_path ) [ &quot;?&quot; query ]
</span>
    <span class='comment'># net_path      = &quot;//&quot; authority [ abs_path ]
</span>    <span class='comment'># abs_path      = &quot;/&quot;  path_segments
</span>    <span class='comment'># rel_path      = rel_segment [ abs_path ]
</span>
    <span class='comment'># authority     = server | reg_name
</span>    <span class='comment'># server        = [ [ userinfo &quot;@&quot; ] hostport ]
</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="InvalidURIError.html" title="Bundler::URI::InvalidURIError (class)">InvalidURIError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad Bundler::URI (is not Bundler::URI?): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='comment'># (see RFC2396 Section 5.2)
</span>  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> [
    <span class='id identifier rubyid_scheme'>scheme</span><span class='comma'>,</span>
    <span class='id identifier rubyid_userinfo'>userinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>         <span class='comment'># X
</span>    <span class='id identifier rubyid_registry'>registry</span><span class='comma'>,</span>                     <span class='comment'># X
</span>    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>                         <span class='comment'># Y
</span>    <span class='id identifier rubyid_opaque'>opaque</span><span class='comma'>,</span>                       <span class='comment'># Y
</span>    <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span>
    <span class='id identifier rubyid_fragment'>fragment</span>
  ]
  <span class='kw'>return</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unescape-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>unescape</strong>(str)  </span>
      <span class='overload'>#<strong>unescape</strong>(str, escaped)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Args">Args</h4>
<dl class="rdoc-list note-list"><dt><code>str</code></dt>
<dd>
<p>String to remove escapes from</p>
</dd><dt><code>escaped</code></dt>
<dd>
<p>Regexp to apply. Defaults to <code>:ESCAPED</code></p>
</dd></dl>

<h4 id="label-Description">Description</h4>

<p>Removes escapes from <code>str</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb#L318-L322'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='322'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/bundler/vendor/uri/lib/uri/rfc2396_parser.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unescape'>unescape</span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_escaped'>escaped</span> <span class='op'>=</span> <span class='ivar'>@regexp</span>[<span class='symbeg'>:</span><span class='const'>ESCAPED</span>])
  <span class='id identifier rubyid_enc'>enc</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_encoding'>encoding</span>
  <span class='id identifier rubyid_enc'>enc</span> <span class='op'>=</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span> <span class='kw'>if</span> <span class='id identifier rubyid_enc'>enc</span> <span class='op'>==</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>US_ASCII</span>
  <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='id identifier rubyid_escaped'>escaped</span>) { [<span class='backref'>$&amp;</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H2</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='id identifier rubyid_enc'>enc</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>