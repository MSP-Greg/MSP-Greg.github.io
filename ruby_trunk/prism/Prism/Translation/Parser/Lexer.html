<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Prism::Translation::Parser::Lexer &mdash; prism  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Prism::Translation::Parser::Lexer",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../../'>Ruby-master</a> &raquo; 
      <a href='../../../'>prism</a> &raquo; 
      <a href='../../../_index.html#alpha_L'>Index (L)</a> &raquo; 
        <a href="../../../Prism.html" title="Prism (module)">Prism</a> &raquo; 
        <a href="../../Translation.html" title="Prism::Translation (module)">Translation</a> &raquo; 
        <a href="../Parser.html" title="Prism::Translation::Parser (class)">Parser</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Lexer&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Prism::Translation::Parser::Lexer</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L8'>lib/prism/translation/parser/lexer.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Accepts a list of prism tokens and converts them into the expected format for the parser gem.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='EXPR_BEG-constant' class='summary_signature priv nodoc'>EXPR_BEG =</span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>These constants represent flags in our lex state. We really, really don’t want to be using them and we really, really don’t want to be exposing them as part of our public API. Unfortunately, we don’t have another way of matching the exact tokens that the parser gem expects without them. We should find another way to do this, but in the meantime we’ll hide them from the documentation and mark them as private constants.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L187-L187'># File 'lib/prism/translation/parser/lexer.rb', line 187</a>    <pre class='code ruby'><span class='int'>0x1</span></pre>
  </li>
  <li>
    <span id='EXPR_LABEL-constant' class='summary_signature priv nodoc'>EXPR_LABEL =</span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L188-L188'># File 'lib/prism/translation/parser/lexer.rb', line 188</a>    <pre class='code ruby'><span class='int'>0x400</span></pre>
  </li>
  <li>
    <span id='Range-constant' class='summary_signature priv nodoc'>Range =</span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L210-L210'># File 'lib/prism/translation/parser/lexer.rb', line 210</a>    <pre class='code ruby'><span class='op'>::</span><span class='const'><a href="../Parser.html" title="Prism::Translation::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="../../Source.html" title="Prism::Source (class)">Source</a></span><span class='op'>::</span><span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span></pre>
  </li>
  <li>
    <span id='TYPES-constant' class='summary_signature priv'>TYPES =</span>
    <span class='note title private'>private</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The direct translating of types between the two lexers.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L10-L178'># File 'lib/prism/translation/parser/lexer.rb', line 10</a>    <pre class='code ruby'>{
  <span class='comment'># These tokens should never appear in the output of the lexer.
</span>  <span class='label'>EOF:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>MISSING:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>NOT_PROVIDED:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>IGNORED_NEWLINE:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>EMBDOC_END:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>EMBDOC_LINE:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>__END__:</span> <span class='kw'>nil</span><span class='comma'>,</span>

  <span class='comment'># These tokens have more or less direct mappings.
</span>  <span class='label'>AMPERSAND:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tAMPER2'>tAMPER2</span><span class='comma'>,</span>
  <span class='label'>AMPERSAND_AMPERSAND:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tANDOP'>tANDOP</span><span class='comma'>,</span>
  <span class='label'>AMPERSAND_AMPERSAND_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>AMPERSAND_DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tANDDOT'>tANDDOT</span><span class='comma'>,</span>
  <span class='label'>AMPERSAND_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>BACK_REFERENCE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tBACK_REF'>tBACK_REF</span><span class='comma'>,</span>
  <span class='label'>BACKTICK:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tXSTRING_BEG'>tXSTRING_BEG</span><span class='comma'>,</span>
  <span class='label'>BANG:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tBANG'>tBANG</span><span class='comma'>,</span>
  <span class='label'>BANG_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNEQ'>tNEQ</span><span class='comma'>,</span>
  <span class='label'>BANG_TILDE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNMATCH'>tNMATCH</span><span class='comma'>,</span>
  <span class='label'>BRACE_LEFT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLCURLY'>tLCURLY</span><span class='comma'>,</span>
  <span class='label'>BRACE_RIGHT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRCURLY'>tRCURLY</span><span class='comma'>,</span>
  <span class='label'>BRACKET_LEFT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLBRACK2'>tLBRACK2</span><span class='comma'>,</span>
  <span class='label'>BRACKET_LEFT_ARRAY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLBRACK'>tLBRACK</span><span class='comma'>,</span>
  <span class='label'>BRACKET_LEFT_RIGHT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tAREF'>tAREF</span><span class='comma'>,</span>
  <span class='label'>BRACKET_LEFT_RIGHT_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tASET'>tASET</span><span class='comma'>,</span>
  <span class='label'>BRACKET_RIGHT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRBRACK'>tRBRACK</span><span class='comma'>,</span>
  <span class='label'>CARET:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCARET'>tCARET</span><span class='comma'>,</span>
  <span class='label'>CARET_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>CHARACTER_LITERAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCHARACTER'>tCHARACTER</span><span class='comma'>,</span>
  <span class='label'>CLASS_VARIABLE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCVAR'>tCVAR</span><span class='comma'>,</span>
  <span class='label'>COLON:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOLON'>tCOLON</span><span class='comma'>,</span>
  <span class='label'>COLON_COLON:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOLON2'>tCOLON2</span><span class='comma'>,</span>
  <span class='label'>COMMA:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOMMA'>tCOMMA</span><span class='comma'>,</span>
  <span class='label'>COMMENT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOMMENT'>tCOMMENT</span><span class='comma'>,</span>
  <span class='label'>CONSTANT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCONSTANT'>tCONSTANT</span><span class='comma'>,</span>
  <span class='label'>DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tDOT'>tDOT</span><span class='comma'>,</span>
  <span class='label'>DOT_DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tDOT2'>tDOT2</span><span class='comma'>,</span>
  <span class='label'>DOT_DOT_DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tDOT3'>tDOT3</span><span class='comma'>,</span>
  <span class='label'>EMBDOC_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOMMENT'>tCOMMENT</span><span class='comma'>,</span>
  <span class='label'>EMBEXPR_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_DBEG'>tSTRING_DBEG</span><span class='comma'>,</span>
  <span class='label'>EMBEXPR_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_DEND'>tSTRING_DEND</span><span class='comma'>,</span>
  <span class='label'>EMBVAR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_DVAR'>tSTRING_DVAR</span><span class='comma'>,</span>
  <span class='label'>EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tEQL'>tEQL</span><span class='comma'>,</span>
  <span class='label'>EQUAL_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tEQ'>tEQ</span><span class='comma'>,</span>
  <span class='label'>EQUAL_EQUAL_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tEQQ'>tEQQ</span><span class='comma'>,</span>
  <span class='label'>EQUAL_GREATER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tASSOC'>tASSOC</span><span class='comma'>,</span>
  <span class='label'>EQUAL_TILDE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tMATCH'>tMATCH</span><span class='comma'>,</span>
  <span class='label'>FLOAT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tFLOAT'>tFLOAT</span><span class='comma'>,</span>
  <span class='label'>FLOAT_IMAGINARY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIMAGINARY'>tIMAGINARY</span><span class='comma'>,</span>
  <span class='label'>FLOAT_RATIONAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRATIONAL'>tRATIONAL</span><span class='comma'>,</span>
  <span class='label'>FLOAT_RATIONAL_IMAGINARY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIMAGINARY'>tIMAGINARY</span><span class='comma'>,</span>
  <span class='label'>GLOBAL_VARIABLE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tGVAR'>tGVAR</span><span class='comma'>,</span>
  <span class='label'>GREATER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tGT'>tGT</span><span class='comma'>,</span>
  <span class='label'>GREATER_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tGEQ'>tGEQ</span><span class='comma'>,</span>
  <span class='label'>GREATER_GREATER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRSHFT'>tRSHFT</span><span class='comma'>,</span>
  <span class='label'>GREATER_GREATER_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>HEREDOC_START:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_BEG'>tSTRING_BEG</span><span class='comma'>,</span>
  <span class='label'>HEREDOC_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_END'>tSTRING_END</span><span class='comma'>,</span>
  <span class='label'>IDENTIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIDENTIFIER'>tIDENTIFIER</span><span class='comma'>,</span>
  <span class='label'>INSTANCE_VARIABLE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIVAR'>tIVAR</span><span class='comma'>,</span>
  <span class='label'>INTEGER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tINTEGER'>tINTEGER</span><span class='comma'>,</span>
  <span class='label'>INTEGER_IMAGINARY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIMAGINARY'>tIMAGINARY</span><span class='comma'>,</span>
  <span class='label'>INTEGER_RATIONAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRATIONAL'>tRATIONAL</span><span class='comma'>,</span>
  <span class='label'>INTEGER_RATIONAL_IMAGINARY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIMAGINARY'>tIMAGINARY</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_ALIAS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kALIAS'>kALIAS</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_AND:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kAND'>kAND</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kBEGIN'>kBEGIN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_BEGIN_UPCASE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klBEGIN'>klBEGIN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_BREAK:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kBREAK'>kBREAK</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_CASE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kCASE'>kCASE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_CLASS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kCLASS'>kCLASS</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_DEF:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kDEF'>kDEF</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_DEFINED:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kDEFINED'>kDEFINED</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_DO:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kDO'>kDO</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_DO_LOOP:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kDO_COND'>kDO_COND</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kEND'>kEND</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_END_UPCASE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klEND'>klEND</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_ENSURE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kENSURE'>kENSURE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_ELSE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kELSE'>kELSE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_ELSIF:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kELSIF'>kELSIF</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_FALSE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kFALSE'>kFALSE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_FOR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kFOR'>kFOR</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_IF:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kIF'>kIF</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_IF_MODIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kIF_MOD'>kIF_MOD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_IN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kIN'>kIN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_MODULE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kMODULE'>kMODULE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_NEXT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kNEXT'>kNEXT</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_NIL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kNIL'>kNIL</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_NOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kNOT'>kNOT</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_OR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kOR'>kOR</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_REDO:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kREDO'>kREDO</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_RESCUE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kRESCUE'>kRESCUE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_RESCUE_MODIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kRESCUE_MOD'>kRESCUE_MOD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_RETRY:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kRETRY'>kRETRY</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_RETURN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kRETURN'>kRETURN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_SELF:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kSELF'>kSELF</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_SUPER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kSUPER'>kSUPER</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_THEN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kTHEN'>kTHEN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_TRUE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kTRUE'>kTRUE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_UNDEF:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kUNDEF'>kUNDEF</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_UNLESS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kUNLESS'>kUNLESS</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_UNLESS_MODIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kUNLESS_MOD'>kUNLESS_MOD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_UNTIL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kUNTIL'>kUNTIL</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_UNTIL_MODIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kUNTIL_MOD'>kUNTIL_MOD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_WHEN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kWHEN'>kWHEN</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_WHILE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kWHILE'>kWHILE</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_WHILE_MODIFIER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kWHILE_MOD'>kWHILE_MOD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD_YIELD:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kYIELD'>kYIELD</span><span class='comma'>,</span>
  <span class='label'>KEYWORD___ENCODING__:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_k__ENCODING__'>k__ENCODING__</span><span class='comma'>,</span>
  <span class='label'>KEYWORD___FILE__:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_k__FILE__'>k__FILE__</span><span class='comma'>,</span>
  <span class='label'>KEYWORD___LINE__:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_k__LINE__'>k__LINE__</span><span class='comma'>,</span>
  <span class='label'>LABEL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLABEL'>tLABEL</span><span class='comma'>,</span>
  <span class='label'>LABEL_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLABEL_END'>tLABEL_END</span><span class='comma'>,</span>
  <span class='label'>LAMBDA_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLAMBEG'>tLAMBEG</span><span class='comma'>,</span>
  <span class='label'>LESS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLT'>tLT</span><span class='comma'>,</span>
  <span class='label'>LESS_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLEQ'>tLEQ</span><span class='comma'>,</span>
  <span class='label'>LESS_EQUAL_GREATER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCMP'>tCMP</span><span class='comma'>,</span>
  <span class='label'>LESS_LESS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLSHFT'>tLSHFT</span><span class='comma'>,</span>
  <span class='label'>LESS_LESS_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>METHOD_NAME:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tFID'>tFID</span><span class='comma'>,</span>
  <span class='label'>MINUS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tMINUS'>tMINUS</span><span class='comma'>,</span>
  <span class='label'>MINUS_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>MINUS_GREATER:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLAMBDA'>tLAMBDA</span><span class='comma'>,</span>
  <span class='label'>NEWLINE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNL'>tNL</span><span class='comma'>,</span>
  <span class='label'>NUMBERED_REFERENCE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNTH_REF'>tNTH_REF</span><span class='comma'>,</span>
  <span class='label'>PARENTHESIS_LEFT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLPAREN'>tLPAREN</span><span class='comma'>,</span>
  <span class='label'>PARENTHESIS_LEFT_PARENTHESES:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLPAREN_ARG'>tLPAREN_ARG</span><span class='comma'>,</span>
  <span class='label'>PARENTHESIS_RIGHT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRPAREN'>tRPAREN</span><span class='comma'>,</span>
  <span class='label'>PERCENT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tPERCENT'>tPERCENT</span><span class='comma'>,</span>
  <span class='label'>PERCENT_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>PERCENT_LOWER_I:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tQSYMBOLS_BEG'>tQSYMBOLS_BEG</span><span class='comma'>,</span>
  <span class='label'>PERCENT_LOWER_W:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tQWORDS_BEG'>tQWORDS_BEG</span><span class='comma'>,</span>
  <span class='label'>PERCENT_UPPER_I:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSYMBOLS_BEG'>tSYMBOLS_BEG</span><span class='comma'>,</span>
  <span class='label'>PERCENT_UPPER_W:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tWORDS_BEG'>tWORDS_BEG</span><span class='comma'>,</span>
  <span class='label'>PERCENT_LOWER_X:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tXSTRING_BEG'>tXSTRING_BEG</span><span class='comma'>,</span>
  <span class='label'>PLUS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tPLUS'>tPLUS</span><span class='comma'>,</span>
  <span class='label'>PLUS_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>PIPE_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>PIPE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tPIPE'>tPIPE</span><span class='comma'>,</span>
  <span class='label'>PIPE_PIPE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOROP'>tOROP</span><span class='comma'>,</span>
  <span class='label'>PIPE_PIPE_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>QUESTION_MARK:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tEH'>tEH</span><span class='comma'>,</span>
  <span class='label'>REGEXP_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tREGEXP_BEG'>tREGEXP_BEG</span><span class='comma'>,</span>
  <span class='label'>REGEXP_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_END'>tSTRING_END</span><span class='comma'>,</span>
  <span class='label'>SEMICOLON:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSEMI'>tSEMI</span><span class='comma'>,</span>
  <span class='label'>SLASH:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tDIVIDE'>tDIVIDE</span><span class='comma'>,</span>
  <span class='label'>SLASH_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>STAR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTAR2'>tSTAR2</span><span class='comma'>,</span>
  <span class='label'>STAR_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>STAR_STAR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tPOW'>tPOW</span><span class='comma'>,</span>
  <span class='label'>STAR_STAR_EQUAL:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span><span class='comma'>,</span>
  <span class='label'>STRING_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_BEG'>tSTRING_BEG</span><span class='comma'>,</span>
  <span class='label'>STRING_CONTENT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_CONTENT'>tSTRING_CONTENT</span><span class='comma'>,</span>
  <span class='label'>STRING_END:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_END'>tSTRING_END</span><span class='comma'>,</span>
  <span class='label'>SYMBOL_BEGIN:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSYMBEG'>tSYMBEG</span><span class='comma'>,</span>
  <span class='label'>TILDE:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tTILDE'>tTILDE</span><span class='comma'>,</span>
  <span class='label'>UAMPERSAND:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tAMPER'>tAMPER</span><span class='comma'>,</span>
  <span class='label'>UCOLON_COLON:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOLON3'>tCOLON3</span><span class='comma'>,</span>
  <span class='label'>UDOT_DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tBDOT2'>tBDOT2</span><span class='comma'>,</span>
  <span class='label'>UDOT_DOT_DOT:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tBDOT3'>tBDOT3</span><span class='comma'>,</span>
  <span class='label'>UMINUS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tUMINUS'>tUMINUS</span><span class='comma'>,</span>
  <span class='label'>UMINUS_NUM:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tUNARY_NUM'>tUNARY_NUM</span><span class='comma'>,</span>
  <span class='label'>UPLUS:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tUPLUS'>tUPLUS</span><span class='comma'>,</span>
  <span class='label'>USTAR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTAR'>tSTAR</span><span class='comma'>,</span>
  <span class='label'>USTAR_STAR:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tPOW'>tPOW</span><span class='comma'>,</span>
  <span class='label'>WORDS_SEP:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSPACE'>tSPACE</span>
}</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(source_buffer, lexed, offset_cache)  &#x21d2; Lexer </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initialize the lexer with the given source buffer, prism tokens, and offset cache.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#lexed-instance_method" title="#lexed (instance method)">#<strong>lexed</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>An array of tuples that contain prism tokens and their associated lex state when they were lexed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#offset_cache-instance_method" title="#offset_cache (instance method)">#<strong>offset_cache</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>A hash that maps offsets in bytes to offsets in characters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#source_buffer-instance_method" title="#source_buffer (instance method)">#<strong>source_buffer</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The <code>Parser::Source::Buffer</code> that the tokens were lexed from.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert the prism tokens into the expected format for the parser gem.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_complex-instance_method" title="#parse_complex (instance method)">#<strong>parse_complex</strong>(value)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a complex from the string representation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_float-instance_method" title="#parse_float (instance method)">#<strong>parse_float</strong>(value)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a float from the string representation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_integer-instance_method" title="#parse_integer (instance method)">#<strong>parse_integer</strong>(value)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse an integer from the string representation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#parse_rational-instance_method" title="#parse_rational (instance method)">#<strong>parse_rational</strong>(value)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a rational from the string representation.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(source_buffer, lexed, offset_cache)  &#x21d2; <code>Lexer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initialize the lexer with the given source buffer, prism tokens, and offset cache.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L204-L208'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='208'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>)
  <span class='ivar'>@source_buffer</span> <span class='op'>=</span> <span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span>
  <span class='ivar'>@lexed</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>
  <span class='ivar'>@offset_cache</span> <span class='op'>=</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="lexed-instance_method">
  <h3 class='signature ro first'>
    #<strong>lexed</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An array of tuples that contain prism tokens and their associated lex state when they were lexed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L197-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lexed'>lexed</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="offset_cache-instance_method">
  <h3 class='signature ro'>
    #<strong>offset_cache</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A hash that maps offsets in bytes to offsets in characters.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L200-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='200' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 200</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_offset_cache'>offset_cache</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="source_buffer-instance_method">
  <h3 class='signature ro'>
    #<strong>source_buffer</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>Parser::Source::Buffer</code> that the tokens were lexed from.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L193-L193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='193' data-end='193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 193</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_source_buffer'>source_buffer</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="parse_complex-instance_method">
  <h3 class='signature priv first'>
    #<strong>parse_complex</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a complex from the string representation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L387-L399'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='387' data-end='399'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 387</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_complex'>parse_complex</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i</span><span class='tstring_end'>&quot;</span></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span>)
    <span class='const'>Complex</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_rational'><a href="#parse_rational-instance_method" title="Prism::Translation::Parser::Lexer#parse_rational (method)">parse_rational</a></span>(<span class='id identifier rubyid_value'>value</span>))
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>0[BbOoDdXx]</span><span class='regexp_end'>/</span></span>)
    <span class='const'>Complex</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_integer'><a href="#parse_integer-instance_method" title="Prism::Translation::Parser::Lexer#parse_integer (method)">parse_integer</a></span>(<span class='id identifier rubyid_value'>value</span>))
  <span class='kw'>else</span>
    <span class='const'>Complex</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span>
  <span class='imaginary'>0i</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_float-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_float</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a float from the string representation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L380-L384'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='380' data-end='384'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 380</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_float'>parse_float</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='const'>Float</span>(<span class='id identifier rubyid_value'>value</span>)
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span>
  <span class='float'>0.0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_integer-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_integer</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse an integer from the string representation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L373-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_integer'>parse_integer</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='const'>Integer</span>(<span class='id identifier rubyid_value'>value</span>)
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span>
  <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_rational-instance_method">
  <h3 class='signature priv'>
    #<strong>parse_rational</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a rational from the string representation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L402-L412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='402' data-end='412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_rational'>parse_rational</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>0[BbOoDdXx]</span><span class='regexp_end'>/</span></span>)
    <span class='const'>Rational</span>(<span class='id identifier rubyid_parse_integer'><a href="#parse_integer-instance_method" title="Prism::Translation::Parser::Lexer#parse_integer (method)">parse_integer</a></span>(<span class='id identifier rubyid_value'>value</span>))
  <span class='kw'>else</span>
    <span class='const'>Rational</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span>
  <span class='rational'>0r</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert the prism tokens into the expected format for the parser gem.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/prism/translation/parser/lexer.rb#L214-L368'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='214' data-end='368'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/translation/parser/lexer.rb', line 214</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>.<span class='id identifier rubyid_length'>length</span>

  <span class='id identifier rubyid_heredoc_identifier_stack'>heredoc_identifier_stack</span> <span class='op'>=</span> []

  <span class='kw'>while</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>]
    <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>IGNORED_NEWLINE</span><span class='words_sep'> </span><span class='tstring_content'>__END__</span><span class='words_sep'> </span><span class='tstring_content'>EOF</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span>)

    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'><a href="#TYPES-constant" title="Prism::Translation::Parser::Lexer::TYPES (constant)">TYPES</a></span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span>)
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_value'>value</span>
    <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])

    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCHARACTER'>tCHARACTER</span>
      <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_delete_prefix!'>delete_prefix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tCOMMENT'>tCOMMENT</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>EMBDOC_BEGIN</span>
        <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span>

        <span class='kw'>while</span> <span class='op'>!</span>((<span class='id identifier rubyid_next_token'>next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>EMBDOC_END</span>) <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_index'>index</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>)
          <span class='id identifier rubyid_value'>value</span> <span class='op'>+=</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_value'>value</span>
          <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>!=</span> <span class='id identifier rubyid_index'>index</span>
          <span class='id identifier rubyid_value'>value</span> <span class='op'>+=</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_value'>value</span>
          <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>].<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])
          <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span> <span class='op'>-</span> <span class='int'>1</span>])
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNL'>tNL</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tFLOAT'>tFLOAT</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_float'><a href="#parse_float-instance_method" title="Prism::Translation::Parser::Lexer#parse_float (method)">parse_float</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIMAGINARY'>tIMAGINARY</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_complex'><a href="#parse_complex-instance_method" title="Prism::Translation::Parser::Lexer#parse_complex (method)">parse_complex</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tINTEGER'>tINTEGER</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span>)
        <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_tUNARY_NUM'>tUNARY_NUM</span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>+</span> <span class='int'>1</span>])]]
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>+</span> <span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])
      <span class='kw'>end</span>

      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_integer'><a href="#parse_integer-instance_method" title="Prism::Translation::Parser::Lexer#parse_integer (method)">parse_integer</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLABEL'>tLABEL</span>
      <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLABEL_END'>tLABEL_END</span>
      <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLCURLY'>tLCURLY</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tLBRACE'>tLBRACE</span> <span class='kw'>if</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='const'><a href="#EXPR_BEG-constant" title="Prism::Translation::Parser::Lexer::EXPR_BEG (constant)">EXPR_BEG</a></span> <span class='op'>|</span> <span class='const'><a href="#EXPR_LABEL-constant" title="Prism::Translation::Parser::Lexer::EXPR_LABEL (constant)">EXPR_LABEL</a></span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tNTH_REF'>tNTH_REF</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_integer'><a href="#parse_integer-instance_method" title="Prism::Translation::Parser::Lexer#parse_integer (method)">parse_integer</a></span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tOP_ASGN'>tOP_ASGN</span>
      <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tRATIONAL'>tRATIONAL</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_rational'><a href="#parse_rational-instance_method" title="Prism::Translation::Parser::Lexer#parse_rational (method)">parse_rational</a></span>(<span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSPACE'>tSPACE</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_BEG'>tSTRING_BEG</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>HEREDOC_START</span>
        <span class='id identifier rubyid_heredoc_identifier_stack'>heredoc_identifier_stack</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;&lt;[-~]?[&quot;&#39;`]?(?&lt;heredoc_identifier&gt;.*?)[&quot;&#39;`]?\z</span><span class='regexp_end'>/</span></span>)[<span class='symbeg'>:</span><span class='id identifier rubyid_heredoc_identifier'>heredoc_identifier</span>])
      <span class='kw'>end</span>
      <span class='kw'>if</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_value'>value</span>) <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_next_token'>next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>STRING_END</span>
        <span class='id identifier rubyid_next_location'>next_location</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_location'>location</span>)
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING'>tSTRING</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])
        <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>elsif</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_value'>value</span>) <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_next_token'>next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>STRING_CONTENT</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_count'>count</span> <span class='op'>&lt;=</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_next_next_token'>next_next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span> <span class='op'>+</span> <span class='int'>1</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_next_token'>next_next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>STRING_END</span>
        <span class='id identifier rubyid_next_location'>next_location</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_next_next_token'>next_next_token</span>.<span class='id identifier rubyid_location'>location</span>)
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING'>tSTRING</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\\</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>)
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])
        <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>2</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>&quot;</span></span>)
        <span class='id identifier rubyid_quote'>quote</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>[<span class='int'>2</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_value'>value</span>[<span class='int'>2</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_value'>value</span>[<span class='int'>3</span>] <span class='op'>:</span> <span class='id identifier rubyid_value'>value</span>[<span class='int'>2</span>]
        <span class='kw'>if</span> <span class='id identifier rubyid_quote'>quote</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tXSTRING_BEG'>tXSTRING_BEG</span>
          <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;`</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_quote'>quote</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_quote'>quote</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_CONTENT'>tSTRING_CONTENT</span>
      <span class='kw'>unless</span> (<span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_lines'>lines</span>).<span class='id identifier rubyid_one?'>one?</span>
        <span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]
        <span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
          <span class='id identifier rubyid_newline'>newline</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_chomped_line'>chomped_line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_chomp'>chomp</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='id identifier rubyid_chomped_line'>chomped_line</span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;backslashes&gt;\\+)\z</span><span class='regexp_end'>/</span></span>)
            <span class='id identifier rubyid_adjustment'>adjustment</span> <span class='op'>=</span> <span class='id identifier rubyid_match'>match</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_backslashes'>backslashes</span>].<span class='id identifier rubyid_size'>size</span> <span class='op'>/</span> <span class='int'>2</span>
            <span class='id identifier rubyid_adjusted_line'>adjusted_line</span> <span class='op'>=</span> <span class='id identifier rubyid_chomped_line'>chomped_line</span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_adjustment'>adjustment</span>)
            <span class='kw'>if</span> <span class='id identifier rubyid_match'>match</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_backslashes'>backslashes</span>].<span class='id identifier rubyid_size'>size</span>.<span class='id identifier rubyid_odd?'>odd?</span>
              <span class='id identifier rubyid_adjusted_line'>adjusted_line</span>.<span class='id identifier rubyid_delete_suffix!'>delete_suffix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>)
              <span class='id identifier rubyid_adjustment'>adjustment</span> <span class='op'>+=</span> <span class='int'>2</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_adjusted_line'>adjusted_line</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_newline'>newline</span>
            <span class='kw'>end</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_adjusted_line'>adjusted_line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>
            <span class='id identifier rubyid_adjustment'>adjustment</span> <span class='op'>=</span> <span class='int'>0</span>
          <span class='kw'>end</span>

          <span class='id identifier rubyid_end_offset'>end_offset</span> <span class='op'>=</span> <span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>+</span> <span class='id identifier rubyid_adjusted_line'>adjusted_line</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>+</span> <span class='id identifier rubyid_adjustment'>adjustment</span>
          <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_CONTENT'>tSTRING_CONTENT</span><span class='comma'>,</span> [<span class='id identifier rubyid_adjusted_line'>adjusted_line</span><span class='comma'>,</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_end_offset'>end_offset</span>])]]
          <span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>=</span> <span class='id identifier rubyid_end_offset'>end_offset</span>
        <span class='kw'>end</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_DVAR'>tSTRING_DVAR</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSTRING_END'>tSTRING_END</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>HEREDOC_END</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
        <span class='id identifier rubyid_newline_length'>newline_length</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>?</span> <span class='int'>2</span> <span class='op'>:</span> <span class='int'>1</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_heredoc_identifier_stack'>heredoc_identifier_stack</span>.<span class='id identifier rubyid_pop'>pop</span>
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span> <span class='op'>-</span> <span class='id identifier rubyid_newline_length'>newline_length</span>])
      <span class='kw'>elsif</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>REGEXP_END</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>[<span class='int'>0</span>]
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>+</span> <span class='int'>1</span>])
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSYMBEG'>tSYMBEG</span>
      <span class='kw'>if</span> (<span class='id identifier rubyid_next_token'>next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='const'>STRING_CONTENT</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='const'>EMBEXPR_BEGIN</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='const'>EMBVAR</span>
        <span class='id identifier rubyid_next_location'>next_location</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_location'>location</span>)
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tSYMBOL'>tSYMBOL</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_value'>value</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~@</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!@</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span> }.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
        <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_next_location'>next_location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])
        <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tFID'>tFID</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span>) <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kDEF'>kDEF</span>
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tIDENTIFIER'>tIDENTIFIER</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tXSTRING_BEG'>tXSTRING_BEG</span>
      <span class='kw'>if</span> (<span class='id identifier rubyid_next_token'>next_token</span> <span class='op'>=</span> <span class='id identifier rubyid_lexed'><a href="#lexed-instance_method" title="Prism::Translation::Parser::Lexer#lexed (method)">lexed</a></span>[<span class='id identifier rubyid_index'>index</span>][<span class='int'>0</span>]) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='const'>STRING_CONTENT</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_next_token'>next_token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='const'>STRING_END</span>
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tBACK_REF2'>tBACK_REF2</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> [<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_location'>location</span>]]

    <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>REGEXP_END</span>
      <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_tREGEXP_OPT'>tREGEXP_OPT</span><span class='comma'>,</span> [<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_value'>value</span>[<span class='int'>1</span><span class='op'>..</span>]<span class='comma'>,</span> <span class='const'><a href="#Range-constant" title="Prism::Translation::Parser::Lexer::Range (constant)">Range</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Translation::Parser::Lexer.new (method)">new</a></span>(<span class='id identifier rubyid_source_buffer'><a href="#source_buffer-instance_method" title="Prism::Translation::Parser::Lexer#source_buffer (method)">source_buffer</a></span><span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_offset'>start_offset</span> <span class='op'>+</span> <span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_offset_cache'><a href="#offset_cache-instance_method" title="Prism::Translation::Parser::Lexer#offset_cache (method)">offset_cache</a></span>[<span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_offset'>end_offset</span>])]]
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tokens'>tokens</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>