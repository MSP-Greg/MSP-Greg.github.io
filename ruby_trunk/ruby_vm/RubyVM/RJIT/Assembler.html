<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RubyVM::RJIT::Assembler &mdash; ruby_vm  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RubyVM::RJIT::Assembler",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-master</a> &raquo; 
      <a href='../../'>ruby_vm</a> &raquo; 
      <a href='../../_index.html#alpha_A'>Index (A)</a> &raquo; 
        RubyVM &raquo; 
        <a href="../RJIT.html" title="RubyVM::RJIT (module)">RJIT</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Assembler&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RubyVM::RJIT::Assembler</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)"><code>Label</code></a>,
        <a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)"><code>ModRM</code></a>,
        <a href="Assembler/Rel32.html" title="RubyVM::RJIT::Assembler::Rel32 (class)"><code>Rel32</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="OperandMatcher.html" title="RubyVM::RJIT::OperandMatcher (module)"><code>OperandMatcher</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="OperandMatcher.html" title="RubyVM::RJIT::OperandMatcher (module)"><code>OperandMatcher</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L18'>lib/ruby_vm/rjit/assembler.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1136'>lib/ruby_vm/rjit/assembler.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="https://cdrdv2.intel.com/v1/dl/getContent/671110">cdrdv2.intel.com/v1/dl/getContent/671110</a> Mostly an x86_64 assembler, but this also has some stuff that is useful for any architecture.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='IMM32-constant' class='summary_signature'>IMM32 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L42-L42'># File 'lib/ruby_vm/rjit/assembler.rb', line 42</a>    <pre class='code ruby'><span class='comment'>#=&gt; (op) { op.is_a?(Integer) &amp;&amp; imm32?(op) }</span></pre>
  </li>
  <li>
    <span id='IMM64-constant' class='summary_signature'>IMM64 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L43-L43'># File 'lib/ruby_vm/rjit/assembler.rb', line 43</a>    <pre class='code ruby'><span class='comment'>#=&gt; (op) { op.is_a?(Integer) &amp;&amp; imm64?(op) }</span></pre>
  </li>
  <li>
    <span id='IMM8-constant' class='summary_signature'>IMM8 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L41-L41'># File 'lib/ruby_vm/rjit/assembler.rb', line 41</a>    <pre class='code ruby'><span class='comment'>#=&gt; (op) { op.is_a?(Integer) &amp;&amp; imm8?(op) }</span></pre>
  </li>
  <li>
    <span id='Mod00-constant' class='summary_signature'>Mod00 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Mod 00: [reg]</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L28-L28'># File 'lib/ruby_vm/rjit/assembler.rb', line 28</a>    <pre class='code ruby'><span class='int'>0b00</span></pre>
  </li>
  <li>
    <span id='Mod01-constant' class='summary_signature'>Mod01 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Mod 01: [reg]+disp8</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L29-L29'># File 'lib/ruby_vm/rjit/assembler.rb', line 29</a>    <pre class='code ruby'><span class='int'>0b01</span></pre>
  </li>
  <li>
    <span id='Mod10-constant' class='summary_signature'>Mod10 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Mod 10: [reg]+disp32</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L30-L30'># File 'lib/ruby_vm/rjit/assembler.rb', line 30</a>    <pre class='code ruby'><span class='int'>0b10</span></pre>
  </li>
  <li>
    <span id='Mod11-constant' class='summary_signature'>Mod11 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Mod 11: reg</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L31-L31'># File 'lib/ruby_vm/rjit/assembler.rb', line 31</a>    <pre class='code ruby'><span class='int'>0b11</span></pre>
  </li>
  <li>
    <span id='R32-constant' class='summary_signature'>R32 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Operand matchers</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L39-L39'># File 'lib/ruby_vm/rjit/assembler.rb', line 39</a>    <pre class='code ruby'><span class='comment'>#=&gt; (op) { op.is_a?(Symbol) &amp;&amp; r32?(op) }</span></pre>
  </li>
  <li>
    <span id='R64-constant' class='summary_signature'>R64 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L40-L40'># File 'lib/ruby_vm/rjit/assembler.rb', line 40</a>    <pre class='code ruby'><span class='comment'>#=&gt; (op) { op.is_a?(Symbol) &amp;&amp; r64?(op) }</span></pre>
  </li>
  <li>
    <span id='REX_B-constant' class='summary_signature'>REX_B =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>REX =   0100WR0B</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L34-L34'># File 'lib/ruby_vm/rjit/assembler.rb', line 34</a>    <pre class='code ruby'><span class='int'>0b01000001</span></pre>
  </li>
  <li>
    <span id='REX_R-constant' class='summary_signature'>REX_R =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L35-L35'># File 'lib/ruby_vm/rjit/assembler.rb', line 35</a>    <pre class='code ruby'><span class='int'>0b01000100</span></pre>
  </li>
  <li>
    <span id='REX_W-constant' class='summary_signature'>REX_W =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L36-L36'># File 'lib/ruby_vm/rjit/assembler.rb', line 36</a>    <pre class='code ruby'><span class='int'>0b01001000</span></pre>
  </li>
  <li>
    <span id='Rel32Pad-constant' class='summary_signature'>Rel32Pad =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L24-L24'># File 'lib/ruby_vm/rjit/assembler.rb', line 24</a>    <pre class='code ruby'><span class='const'>Object</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RubyVM::RJIT::Assembler.new (method)">new</a></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>  &#x21d2; Assembler </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>

<h3 class='inherited'><a href="OperandMatcher.html" title="RubyVM::RJIT::OperandMatcher (module)"><code>OperandMatcher</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="OperandMatcher.html#extended_reg%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#extended_reg? (method)">extended_reg?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm32%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm32? (method)">imm32?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm64%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm64? (method)">imm64?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm8%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm8? (method)">imm8?</a>,
        <a class='i_m ' href="OperandMatcher.html#r32%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#r32? (method)">r32?</a>,
        <a class='i_m ' href="OperandMatcher.html#r64%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#r64? (method)">r64?</a>,
        <a class='i_m ' href="OperandMatcher.html#reg_code_extended-instance_method" title="RubyVM::RJIT::OperandMatcher#reg_code_extended (method)">reg_code_extended</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#comments-instance_method" title="#comments (instance method)">#<strong>comments</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Utilities.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#add-instance_method" title="#add (instance method)">#<strong>add</strong>(dst, src)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Instructions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#and-instance_method" title="#and (instance method)">#<strong>and</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assemble-instance_method" title="#assemble (instance method)">#<strong>assemble</strong>(addr)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#block-instance_method" title="#block (instance method)">#<strong>block</strong>(block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Mark the starting address of a block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmove-instance_method" title="#cmove (instance method)">#<strong>cmove</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovg-instance_method" title="#cmovg (instance method)">#<strong>cmovg</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovge-instance_method" title="#cmovge (instance method)">#<strong>cmovge</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovl-instance_method" title="#cmovl (instance method)">#<strong>cmovl</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovle-instance_method" title="#cmovle (instance method)">#<strong>cmovle</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovne-instance_method" title="#cmovne (instance method)">#<strong>cmovne</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovnz-instance_method" title="#cmovnz (instance method)">#<strong>cmovnz</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmovz-instance_method" title="#cmovz (instance method)">#<strong>cmovz</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmp-instance_method" title="#cmp (instance method)">#<strong>cmp</strong>(left, right)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#comment-instance_method" title="#comment (instance method)">#<strong>comment</strong>(message)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#incr_counter-instance_method" title="#incr_counter (instance method)">#<strong>incr_counter</strong>(name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jbe-instance_method" title="#jbe (instance method)">#<strong>jbe</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#je-instance_method" title="#je (instance method)">#<strong>je</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jl-instance_method" title="#jl (instance method)">#<strong>jl</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jmp-instance_method" title="#jmp (instance method)">#<strong>jmp</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jne-instance_method" title="#jne (instance method)">#<strong>jne</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jnz-instance_method" title="#jnz (instance method)">#<strong>jnz</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jo-instance_method" title="#jo (instance method)">#<strong>jo</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#jz-instance_method" title="#jz (instance method)">#<strong>jz</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lea-instance_method" title="#lea (instance method)">#<strong>lea</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mov-instance_method" title="#mov (instance method)">#<strong>mov</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new_label-instance_method" title="#new_label (instance method)">#<strong>new_label</strong>(name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#or-instance_method" title="#or (instance method)">#<strong>or</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>(dst)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pos_marker-instance_method" title="#pos_marker (instance method)">#<strong>pos_marker</strong>(&amp;block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ret-instance_method" title="#ret (instance method)">#<strong>ret</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sar-instance_method" title="#sar (instance method)">#<strong>sar</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stub-instance_method" title="#stub (instance method)">#<strong>stub</strong>(stub)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Mark the starting/ending addresses of a stub.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#test-instance_method" title="#test (instance method)">#<strong>test</strong>(left, right)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_label-instance_method" title="#write_label (instance method)">#<strong>write_label</strong>(label)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#xor-instance_method" title="#xor (instance method)">#<strong>xor</strong>(dst, src)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#encode_mod_rm-instance_method" title="#encode_mod_rm (instance method)">#<strong>encode_mod_rm</strong>(mod:, reg: 0, rm: 0)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Table 2-2.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#imm32-instance_method" title="#imm32 (instance method)">#<strong>imm32</strong>(imm)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>id: 4 bytes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#imm64-instance_method" title="#imm64 (instance method)">#<strong>imm64</strong>(imm)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>io: 8 bytes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#imm8-instance_method" title="#imm8 (instance method)">#<strong>imm8</strong>(imm)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>ib: 1 byte.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#imm_bytes-instance_method" title="#imm_bytes (instance method)">#<strong>imm_bytes</strong>(imm, num_bytes)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#insn-instance_method" title="#insn (instance method)">#<strong>insn</strong>(prefix: 0, opcode:, rd: nil, mod_rm: nil, disp: nil, imm: nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#reg_code-instance_method" title="#reg_code (instance method)">#<strong>reg_code</strong>(reg)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#rel32-instance_method" title="#rel32 (instance method)">#<strong>rel32</strong>(addr)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#resolve_labels-instance_method" title="#resolve_labels (instance method)">#<strong>resolve_labels</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#resolve_rel32-instance_method" title="#resolve_rel32 (instance method)">#<strong>resolve_rel32</strong>(write_addr)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set_code_addrs-instance_method" title="#set_code_addrs (instance method)">#<strong>set_code_addrs</strong>(write_addr)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#write_bytes-instance_method" title="#write_bytes (instance method)">#<strong>write_bytes</strong>(addr)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="OperandMatcher.html" title="RubyVM::RJIT::OperandMatcher (module)"><code>OperandMatcher</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="OperandMatcher.html#extended_reg%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#extended_reg? (method)">#extended_reg?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm32%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm32? (method)">#imm32?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm64%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm64? (method)">#imm64?</a>,
        <a class='i_m ' href="OperandMatcher.html#imm8%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#imm8? (method)">#imm8?</a>,
        <a class='i_m ' href="OperandMatcher.html#r32%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#r32? (method)">#r32?</a>,
        <a class='i_m ' href="OperandMatcher.html#r64%3F-instance_method" title="RubyVM::RJIT::OperandMatcher#r64? (method)">#r64?</a>,
        <a class='i_m ' href="OperandMatcher.html#reg_code_extended-instance_method" title="RubyVM::RJIT::OperandMatcher#reg_code_extended (method)">#reg_code_extended</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>  &#x21d2; <code>Assembler</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L45-L54'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='54'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@bytes</span> <span class='op'>=</span> []
  <span class='ivar'>@labels</span> <span class='op'>=</span> {}
  <span class='ivar'>@label_id</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
  <span class='ivar'>@blocks</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
  <span class='ivar'>@stub_starts</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
  <span class='ivar'>@stub_ends</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
  <span class='ivar'>@pos_markers</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="comments-instance_method">
  <h3 class='signature ro first'>
    #<strong>comments</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Utilities</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L888-L888'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='888' data-end='888'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 888</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="add-instance_method">
  <h3 class='signature  first'>
    #<strong>add</strong>(dst, src)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Instructions</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L79-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='79' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 79</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add'>add</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># ADD r/m64, imm8 (Mod 00: [reg])
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 83 /0 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod00-constant" title="RubyVM::RJIT::Assembler::Mod00 (constant)">Mod00</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># ADD r/m64, imm8 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 83 /0 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># ADD r/m64 imm32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 81 /0 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># ADD r/m64, r64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 01 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r, w), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x01</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="and-instance_method">
  <h3 class='signature '>
    #<strong>and</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L123-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>and</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># AND r/m64, imm8 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 83 /4 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># AND r/m64, imm32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 81 /4 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># AND r64, r/m64 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]]
    <span class='comment'># REX.W + 23 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x23</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="assemble-instance_method">
  <h3 class='signature '>
    #<strong>assemble</strong>(addr)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L56-L69'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='56' data-end='69'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_assemble'>assemble</span>(<span class='id identifier rubyid_addr'>addr</span>)
  <span class='id identifier rubyid_set_code_addrs'><a href="#set_code_addrs-instance_method" title="RubyVM::RJIT::Assembler#set_code_addrs (method)">set_code_addrs</a></span>(<span class='id identifier rubyid_addr'>addr</span>)
  <span class='id identifier rubyid_resolve_rel32'><a href="#resolve_rel32-instance_method" title="RubyVM::RJIT::Assembler#resolve_rel32 (method)">resolve_rel32</a></span>(<span class='id identifier rubyid_addr'>addr</span>)
  <span class='id identifier rubyid_resolve_labels'><a href="#resolve_labels-instance_method" title="RubyVM::RJIT::Assembler#resolve_labels (method)">resolve_labels</a></span>

  <span class='id identifier rubyid_write_bytes'><a href="#write_bytes-instance_method" title="RubyVM::RJIT::Assembler#write_bytes (method)">write_bytes</a></span>(<span class='id identifier rubyid_addr'>addr</span>)

  <span class='ivar'>@pos_markers</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_write_pos'>write_pos</span><span class='comma'>,</span> <span class='id identifier rubyid_markers'>markers</span><span class='op'>|</span>
    <span class='id identifier rubyid_markers'>markers</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_marker'>marker</span><span class='op'>|</span> <span class='id identifier rubyid_marker'>marker</span>.<span class='id identifier rubyid_call'><a href="#call-instance_method" title="RubyVM::RJIT::Assembler#call (method)">call</a></span>(<span class='id identifier rubyid_addr'>addr</span> <span class='op'>+</span> <span class='id identifier rubyid_write_pos'>write_pos</span>) }
  <span class='kw'>end</span>
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>
<span class='kw'>ensure</span>
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="block-instance_method">
  <h3 class='signature '>
    #<strong>block</strong>(block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Mark the starting address of a block</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L895-L897'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='895' data-end='897'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 895</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_block'>block</span>(<span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@blocks</span>[<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="call-instance_method">
  <h3 class='signature '>
    #<strong>call</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L158-L174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='158' data-end='174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># CALL rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># E8 cd
</span>    <span class='comment'># D: Operand 1: Offset
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xe8</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='comment'># CALL r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>
    <span class='comment'># FF /2
</span>    <span class='comment'># M: Operand 1: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>opcode:</span> <span class='int'>0xff</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmove-instance_method">
  <h3 class='signature '>
    #<strong>cmove</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L176-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='176' data-end='188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 176</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmove'>cmove</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVE r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 44 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x44</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovg-instance_method">
  <h3 class='signature '>
    #<strong>cmovg</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L190-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='190' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 190</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovg'>cmovg</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVG r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 4F /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x4f</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovge-instance_method">
  <h3 class='signature '>
    #<strong>cmovge</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L204-L216'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='216'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovge'>cmovge</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVGE r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 4D /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x4d</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovl-instance_method">
  <h3 class='signature '>
    #<strong>cmovl</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L218-L230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='218' data-end='230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 218</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovl'>cmovl</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVL r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 4C /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x4c</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovle-instance_method">
  <h3 class='signature '>
    #<strong>cmovle</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L232-L244'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='232' data-end='244'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 232</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovle'>cmovle</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVLE r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 4E /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x4e</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovne-instance_method">
  <h3 class='signature '>
    #<strong>cmovne</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L246-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='246' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 246</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovne'>cmovne</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVNE r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 45 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x45</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovnz-instance_method">
  <h3 class='signature '>
    #<strong>cmovnz</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L260-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='260' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovnz'>cmovnz</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVNZ r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 45 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x45</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmovz-instance_method">
  <h3 class='signature '>
    #<strong>cmovz</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L274-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='274' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 274</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmovz'>cmovz</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># CMOVZ r64, r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 0F 44 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x44</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
    )
  <span class='comment'># CMOVZ r64, r/m64 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]]
    <span class='comment'># REX.W + 0F 44 /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x44</span>]<span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmp-instance_method">
  <h3 class='signature '>
    #<strong>cmp</strong>(left, right)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L298-L403'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='298' data-end='403'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 298</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cmp'>cmp</span>(<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>]
  <span class='comment'># CMP r/m8, imm8 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="BytePtr.html" title="RubyVM::RJIT::BytePtr (class)">BytePtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># 80 /7 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>opcode:</span> <span class='int'>0x80</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m32, imm32 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="DwordPtr.html" title="RubyVM::RJIT::DwordPtr (class)">DwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># 81 /7 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, imm8 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + 83 /7 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, imm32 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + 81 /7 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, imm8 (Mod 10: [reg]+disp32)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + 83 /7 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_left_disp'>left_disp</span>)<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, imm8 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + 83 /7 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, imm32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + 81 /7 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, r64 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_reg'>right_reg</span>]
    <span class='comment'># REX.W + 39 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x39</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_right_reg'>right_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, r64 (Mod 10: [reg]+disp32)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_reg'>right_reg</span>]
    <span class='comment'># REX.W + 39 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x39</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_right_reg'>right_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_left_disp'>left_disp</span>)<span class='comma'>,</span>
    )
  <span class='comment'># CMP r/m64, r64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_reg'>right_reg</span>]
    <span class='comment'># REX.W + 39 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x39</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_right_reg'>right_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="comment-instance_method">
  <h3 class='signature '>
    #<strong>comment</strong>(message)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L890-L892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='890' data-end='892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 890</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_comment'>comment</span>(<span class='id identifier rubyid_message'>message</span>)
  <span class='ivar'>@comments</span>[<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode_mod_rm-instance_method">
  <h3 class='signature priv'>
    #<strong>encode_mod_rm</strong>(mod:, reg: 0, rm: 0)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Table 2-2. 32-Bit Addressing Forms with the ModR/M Byte</p>

<pre class="code ruby"><code class="ruby"><span class='int'>7</span>  <span class='int'>6</span>  <span class='int'>5</span>  <span class='int'>4</span>  <span class='int'>3</span>  <span class='int'>2</span>  <span class='int'>1</span>  <span class='int'>0</span></code></pre>

<p><code>--</code><code>--</code><code>--</code><code>--</code>+ | Mod | Reg/   | R/M    | |     | Opcode |        | <code>--</code><code>--</code><code>--</code><code>--</code>+</p>

<p>The r/m field can specify a register as an operand or it can be combined with the mod field to encode an addressing mode.</p>

<p>/0: R/M is 0 (not used) /r: R/M is a register</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L979-L990'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='979' data-end='990'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 979</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_encode_mod_rm'>encode_mod_rm</span>(<span class='label'>mod:</span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='int'>0</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>&gt;</span> <span class='int'>0b11</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>too large Mod: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mod'>mod</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_reg'>reg</span> <span class='op'>&gt;</span> <span class='int'>0b111</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>too large Reg/Opcode: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reg'>reg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rm'>rm</span> <span class='op'>&gt;</span> <span class='int'>0b111</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>too large R/M: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rm'>rm</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  (<span class='id identifier rubyid_mod'>mod</span> <span class='op'>&lt;&lt;</span> <span class='int'>6</span>) <span class='op'>+</span> (<span class='id identifier rubyid_reg'>reg</span> <span class='op'>&lt;&lt;</span> <span class='int'>3</span>) <span class='op'>+</span> <span class='id identifier rubyid_rm'>rm</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="imm32-instance_method">
  <h3 class='signature priv'>
    #<strong>imm32</strong>(imm)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>id: 4 bytes</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1001-L1006'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1001' data-end='1006'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1001</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_imm32'>imm32</span>(<span class='id identifier rubyid_imm'>imm</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_imm32?'>imm32?</span>(<span class='id identifier rubyid_imm'>imm</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected imm32: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_imm'>imm</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  [<span class='id identifier rubyid_imm'>imm</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># TODO: consider uimm
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="imm64-instance_method">
  <h3 class='signature priv'>
    #<strong>imm64</strong>(imm)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>io: 8 bytes</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1009-L1014'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1009' data-end='1014'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1009</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_imm64'>imm64</span>(<span class='id identifier rubyid_imm'>imm</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_imm64?'>imm64?</span>(<span class='id identifier rubyid_imm'>imm</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected imm64: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_imm'>imm</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_imm_bytes'><a href="#imm_bytes-instance_method" title="RubyVM::RJIT::Assembler#imm_bytes (method)">imm_bytes</a></span>(<span class='id identifier rubyid_imm'>imm</span><span class='comma'>,</span> <span class='int'>8</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="imm8-instance_method">
  <h3 class='signature priv'>
    #<strong>imm8</strong>(imm)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>ib: 1 byte</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L993-L998'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='993' data-end='998'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 993</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_imm8'>imm8</span>(<span class='id identifier rubyid_imm'>imm</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_imm8?'>imm8?</span>(<span class='id identifier rubyid_imm'>imm</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected imm8: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_imm'>imm</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  [<span class='id identifier rubyid_imm'>imm</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># TODO: consider uimm
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="imm_bytes-instance_method">
  <h3 class='signature priv'>
    #<strong>imm_bytes</strong>(imm, num_bytes)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1016-L1027'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1016' data-end='1027'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1016</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_imm_bytes'>imm_bytes</span>(<span class='id identifier rubyid_imm'>imm</span><span class='comma'>,</span> <span class='id identifier rubyid_num_bytes'>num_bytes</span>)
  <span class='id identifier rubyid_bytes'>bytes</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_bits'>bits</span> <span class='op'>=</span> <span class='id identifier rubyid_imm'>imm</span>
  <span class='id identifier rubyid_num_bytes'>num_bytes</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_bytes'>bytes</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_bits'>bits</span> <span class='op'>&amp;</span> <span class='int'>0xff</span>)
    <span class='id identifier rubyid_bits'>bits</span> <span class='op'>&gt;&gt;=</span> <span class='int'>8</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_bits'>bits</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected imm with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num_bytes'>num_bytes</span><span class='embexpr_end'>}</span><span class='tstring_content'> bytes: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_imm'>imm</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_bytes'>bytes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="incr_counter-instance_method">
  <h3 class='signature '>
    #<strong>incr_counter</strong>(name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L920-L926'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='920' data-end='926'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 920</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_incr_counter'>incr_counter</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='kw'>if</span> <span class='const'>C</span>.<span class='id identifier rubyid_rjit_opts'>rjit_opts</span>.<span class='id identifier rubyid_stats'>stats</span>
    <span class='id identifier rubyid_comment'><a href="#comment-instance_method" title="RubyVM::RJIT::Assembler#comment (method)">comment</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>increment counter </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_mov'><a href="#mov-instance_method" title="RubyVM::RJIT::Assembler#mov (method)">mov</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_rax'>rax</span><span class='comma'>,</span> <span class='const'>C</span>.<span class='id identifier rubyid_rb_rjit_counters'>rb_rjit_counters</span>[<span class='id identifier rubyid_name'>name</span>].<span class='id identifier rubyid_to_i'>to_i</span>)
    <span class='id identifier rubyid_add'><a href="#add-instance_method" title="RubyVM::RJIT::Assembler#add (method)">add</a></span>([<span class='symbeg'>:</span><span class='id identifier rubyid_rax'>rax</span>]<span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># TODO: lock
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="insn-instance_method">
  <h3 class='signature priv'>
    #<strong>insn</strong>(prefix: 0, opcode:, rd: nil, mod_rm: nil, disp: nil, imm: nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L930-L960'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='930' data-end='960'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 930</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_insn'>insn</span>(<span class='label'>prefix:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>opcode:</span><span class='comma'>,</span> <span class='label'>rd:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>mod_rm:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>disp:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='kw'>nil</span>)
  <span class='comment'># Determine prefix
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_rd'>rd</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>|=</span> <span class='const'><a href="#REX_B-constant" title="RubyVM::RJIT::Assembler::REX_B (constant)">REX_B</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_extended_reg?'>extended_reg?</span>(<span class='id identifier rubyid_rd'>rd</span>)
    <span class='id identifier rubyid_opcode'>opcode</span> <span class='op'>+=</span> <span class='id identifier rubyid_reg_code'><a href="#reg_code-instance_method" title="RubyVM::RJIT::Assembler#reg_code (method)">reg_code</a></span>(<span class='id identifier rubyid_rd'>rd</span>)
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>|=</span> <span class='const'><a href="#REX_R-constant" title="RubyVM::RJIT::Assembler::REX_R (constant)">REX_R</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_reg'>reg</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Symbol</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_extended_reg?'>extended_reg?</span>(<span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_reg'>reg</span>)
    <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>|=</span> <span class='const'><a href="#REX_B-constant" title="RubyVM::RJIT::Assembler::REX_B (constant)">REX_B</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_rm'>rm</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Symbol</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_extended_reg?'>extended_reg?</span>(<span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_rm'>rm</span>)
  <span class='kw'>end</span>

  <span class='comment'># Encode insn
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="RubyVM::RJIT::Assembler#push (method)">push</a></span>(<span class='id identifier rubyid_prefix'>prefix</span>)
  <span class='kw'>end</span>
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="RubyVM::RJIT::Assembler#push (method)">push</a></span>(<span class='op'>*</span><span class='const'>Array</span>(<span class='id identifier rubyid_opcode'>opcode</span>))
  <span class='kw'>if</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>
    <span class='id identifier rubyid_mod_rm_byte'>mod_rm_byte</span> <span class='op'>=</span> <span class='id identifier rubyid_encode_mod_rm'><a href="#encode_mod_rm-instance_method" title="RubyVM::RJIT::Assembler#encode_mod_rm (method)">encode_mod_rm</a></span>(
      <span class='label'>mod:</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span>
      <span class='label'>reg:</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_reg'>reg</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Symbol</span>) <span class='op'>?</span> <span class='id identifier rubyid_reg_code'><a href="#reg_code-instance_method" title="RubyVM::RJIT::Assembler#reg_code (method)">reg_code</a></span>(<span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_reg'>reg</span>) <span class='op'>:</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_reg'>reg</span><span class='comma'>,</span>
      <span class='label'>rm:</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_rm'>rm</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Symbol</span>) <span class='op'>?</span> <span class='id identifier rubyid_reg_code'><a href="#reg_code-instance_method" title="RubyVM::RJIT::Assembler#reg_code (method)">reg_code</a></span>(<span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_rm'>rm</span>) <span class='op'>:</span> <span class='id identifier rubyid_mod_rm'>mod_rm</span>.<span class='id identifier rubyid_rm'>rm</span><span class='comma'>,</span>
    )
    <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="RubyVM::RJIT::Assembler#push (method)">push</a></span>(<span class='id identifier rubyid_mod_rm_byte'>mod_rm_byte</span>)
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_disp'>disp</span>
    <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="RubyVM::RJIT::Assembler#push (method)">push</a></span>(<span class='op'>*</span><span class='const'>Array</span>(<span class='id identifier rubyid_disp'>disp</span>))
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_imm'>imm</span>
    <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="RubyVM::RJIT::Assembler#push (method)">push</a></span>(<span class='op'>*</span><span class='id identifier rubyid_imm'>imm</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jbe-instance_method">
  <h3 class='signature '>
    #<strong>jbe</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L405-L416'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='405' data-end='416'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 405</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jbe'>jbe</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JBE rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># 76 cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x76</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JBE rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 86 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x86</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="je-instance_method">
  <h3 class='signature '>
    #<strong>je</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L418-L429'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='429'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_je'>je</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JE rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># 74 cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x74</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JE rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 84 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x84</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jl-instance_method">
  <h3 class='signature '>
    #<strong>jl</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L431-L438'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='431' data-end='438'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 431</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jl'>jl</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JL rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 8C cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x8c</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jmp-instance_method">
  <h3 class='signature '>
    #<strong>jmp</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L440-L459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='440' data-end='459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 440</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jmp'>jmp</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JZ rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># EB cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xeb</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JMP rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># E9 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xe9</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='comment'># JMP r/m64 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span>]
    <span class='comment'># FF /4
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xff</span><span class='comma'>,</span> <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span> <span class='label'>disp:</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span>)
  <span class='comment'># JMP r/m64 (Mod 11: reg)
</span>  <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>
    <span class='comment'># FF /4
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xff</span><span class='comma'>,</span> <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>])
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jne-instance_method">
  <h3 class='signature '>
    #<strong>jne</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L461-L472'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='461' data-end='472'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jne'>jne</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JNE rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># 75 cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x75</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JNE rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 85 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x85</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jnz-instance_method">
  <h3 class='signature '>
    #<strong>jnz</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L474-L485'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='474' data-end='485'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 474</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jnz'>jnz</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JE rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># 75 cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x75</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JNZ rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 85 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x85</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jo-instance_method">
  <h3 class='signature '>
    #<strong>jo</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L487-L494'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='487' data-end='494'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 487</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jo'>jo</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JO rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 80 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x80</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="jz-instance_method">
  <h3 class='signature '>
    #<strong>jz</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L496-L507'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='496' data-end='507'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 496</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_jz'>jz</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># JZ rel8
</span>  <span class='kw'>in</span> <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_label'>dst_label</span>
    <span class='comment'># 74 cb
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x74</span><span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_dst_label'>dst_label</span>)
  <span class='comment'># JZ rel32
</span>  <span class='kw'>in</span> <span class='const'>Integer</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span>
    <span class='comment'># 0F 84 cd
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> [<span class='int'>0x0f</span><span class='comma'>,</span> <span class='int'>0x84</span>]<span class='comma'>,</span> <span class='label'>imm:</span> <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>(<span class='id identifier rubyid_dst_addr'>dst_addr</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lea-instance_method">
  <h3 class='signature '>
    #<strong>lea</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L509-L532'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='509' data-end='532'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 509</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_lea'>lea</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># LEA r64,m (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]]
    <span class='comment'># REX.W + 8D /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x8d</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
    )
  <span class='comment'># LEA r64,m (Mod 10: [reg]+disp32)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]]
    <span class='comment'># REX.W + 8D /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x8d</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mov-instance_method">
  <h3 class='signature '>
    #<strong>mov</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L534-L705'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='534' data-end='705'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 534</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mov'>mov</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='kw'>in</span> <span class='const'><a href="#R32-constant" title="RubyVM::RJIT::Assembler::R32 (constant)">R32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r32 r/m32 (Mod 01: [reg]+disp8)
</span>    <span class='kw'>in</span> <span class='const'><a href="DwordPtr.html" title="RubyVM::RJIT::DwordPtr (class)">DwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]
      <span class='comment'># 8B /r
</span>      <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>opcode:</span> <span class='int'>0x8b</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_src_disp'>src_disp</span><span class='comma'>,</span>
      )
    <span class='comment'># MOV r32, imm32 (Mod 11: reg)
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># B8+ rd id
</span>      <span class='comment'># OI: Operand 1: opcode + rd (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>opcode:</span> <span class='int'>0xb8</span><span class='comma'>,</span>
        <span class='label'>rd:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r64, r/m64 (Mod 00: [reg])
</span>    <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
      <span class='comment'># REX.W + 8B /r
</span>      <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x8b</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod00-constant" title="RubyVM::RJIT::Assembler::Mod00 (constant)">Mod00</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      )
    <span class='comment'># MOV r64, r/m64 (Mod 01: [reg]+disp8)
</span>    <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]
      <span class='comment'># REX.W + 8B /r
</span>      <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x8b</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_src_disp'>src_disp</span><span class='comma'>,</span>
      )
    <span class='comment'># MOV r64, r/m64 (Mod 10: [reg]+disp32)
</span>    <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]
      <span class='comment'># REX.W + 8B /r
</span>      <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x8b</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
      )
    <span class='comment'># MOV r64, r/m64 (Mod 11: reg)
</span>    <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>
      <span class='comment'># REX.W + 8B /r
</span>      <span class='comment'># RM: Operand 1: ModRM:reg (w), Operand 2: ModRM:r/m (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x8b</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      )
    <span class='comment'># MOV r/m64, imm32 (Mod 11: reg)
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># REX.W + C7 /0 id
</span>      <span class='comment'># MI: Operand 1: ModRM:r/m (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0xc7</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='comment'># MOV r64, imm64
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM64-constant" title="RubyVM::RJIT::Assembler::IMM64 (constant)">IMM64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># REX.W + B8+ rd io
</span>      <span class='comment'># OI: Operand 1: opcode + rd (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0xb8</span><span class='comma'>,</span>
        <span class='label'>rd:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm64'><a href="#imm64-instance_method" title="RubyVM::RJIT::Assembler#imm64 (method)">imm64</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>in</span> <span class='const'><a href="DwordPtr.html" title="RubyVM::RJIT::DwordPtr (class)">DwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span>]
    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r/m32, imm32 (Mod 01: [reg]+disp8)
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># C7 /0 id
</span>      <span class='comment'># MI: Operand 1: ModRM:r/m (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>opcode:</span> <span class='int'>0xc7</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span><span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]
    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r/m64, imm32 (Mod 00: [reg])
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># REX.W + C7 /0 id
</span>      <span class='comment'># MI: Operand 1: ModRM:r/m (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0xc7</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod00-constant" title="RubyVM::RJIT::Assembler::Mod00 (constant)">Mod00</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='comment'># MOV r/m64, r64 (Mod 00: [reg])
</span>    <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>
      <span class='comment'># REX.W + 89 /r
</span>      <span class='comment'># MR: Operand 1: ModRM:r/m (w), Operand 2: ModRM:reg (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x89</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod00-constant" title="RubyVM::RJIT::Assembler::Mod00 (constant)">Mod00</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span>]
    <span class='comment'># Optimize encoding when disp is 0
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_mov'>mov</span>([<span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>) <span class='kw'>if</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span> <span class='op'>==</span> <span class='int'>0</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r/m64, imm32 (Mod 01: [reg]+disp8)
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># REX.W + C7 /0 id
</span>      <span class='comment'># MI: Operand 1: ModRM:r/m (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0xc7</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span><span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='comment'># MOV r/m64, r64 (Mod 01: [reg]+disp8)
</span>    <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>
      <span class='comment'># REX.W + 89 /r
</span>      <span class='comment'># MR: Operand 1: ModRM:r/m (w), Operand 2: ModRM:reg (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x89</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span><span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>in</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_disp'>dst_disp</span>]
    <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># MOV r/m64, imm32 (Mod 10: [reg]+disp32)
</span>    <span class='kw'>in</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>
      <span class='comment'># REX.W + C7 /0 id
</span>      <span class='comment'># MI: Operand 1: ModRM:r/m (w), Operand 2: imm8/16/32/64
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0xc7</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_dst_disp'>dst_disp</span>)<span class='comma'>,</span>
        <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
      )
    <span class='comment'># MOV r/m64, r64 (Mod 10: [reg]+disp32)
</span>    <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>
      <span class='comment'># REX.W + 89 /r
</span>      <span class='comment'># MR: Operand 1: ModRM:r/m (w), Operand 2: ModRM:reg (r)
</span>      <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
        <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
        <span class='label'>opcode:</span> <span class='int'>0x89</span><span class='comma'>,</span>
        <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
        <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_dst_disp'>dst_disp</span>)<span class='comma'>,</span>
      )
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_label-instance_method">
  <h3 class='signature '>
    #<strong>new_label</strong>(name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L911-L913'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='911' data-end='913'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 911</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_label'>new_label</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RubyVM::RJIT::Assembler.new (method)">new</a></span>(<span class='label'>id:</span> <span class='ivar'>@label_id</span> <span class='op'>+=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>name:</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="or-instance_method">
  <h3 class='signature '>
    #<strong>or</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L707-L740'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='707' data-end='740'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 707</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>or</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># OR r/m64, imm8 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 83 /1 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># OR r/m64, imm32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 81 /1 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x81</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># OR r64, r/m64 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_disp'>src_disp</span>]]
    <span class='comment'># REX.W + 0B /r
</span>    <span class='comment'># RM: Operand 1: ModRM:reg (r, w), Operand 2: ModRM:r/m (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x0b</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_disp'>src_disp</span>)<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pop-instance_method">
  <h3 class='signature '>
    #<strong>pop</strong>(dst)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L752-L760'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='752' data-end='760'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 752</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pop'>pop</span>(<span class='id identifier rubyid_dst'>dst</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='comment'># POP r64
</span>  <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>
    <span class='comment'># 58+ rd
</span>    <span class='comment'># O: Operand 1: opcode + rd (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x58</span><span class='comma'>,</span> <span class='label'>rd:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pos_marker-instance_method">
  <h3 class='signature '>
    #<strong>pos_marker</strong>(&amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L907-L909'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='907' data-end='909'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 907</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pos_marker'>pos_marker</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'><a href="#block-instance_method" title="RubyVM::RJIT::Assembler#block (method)">block</a></span>)
  <span class='ivar'>@pos_markers</span>[<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'><a href="#block-instance_method" title="RubyVM::RJIT::Assembler#block (method)">block</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    #<strong>push</strong>(src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L742-L750'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='742' data-end='750'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 742</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_src'>src</span>
  <span class='comment'># PUSH r64
</span>  <span class='kw'>in</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>
    <span class='comment'># 50+rd
</span>    <span class='comment'># O: Operand 1: opcode + rd (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0x50</span><span class='comma'>,</span> <span class='label'>rd:</span> <span class='id identifier rubyid_src_reg'>src_reg</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reg_code-instance_method">
  <h3 class='signature priv'>
    #<strong>reg_code</strong>(reg)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L962-L964'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='962' data-end='964'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 962</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reg_code'>reg_code</span>(<span class='id identifier rubyid_reg'>reg</span>)
  <span class='id identifier rubyid_reg_code_extended'>reg_code_extended</span>(<span class='id identifier rubyid_reg'>reg</span>).<span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rel32-instance_method">
  <h3 class='signature priv'>
    #<strong>rel32</strong>(addr)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1029-L1031'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1029' data-end='1031'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1029</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rel32'>rel32</span>(<span class='id identifier rubyid_addr'>addr</span>)
  [<span class='const'><a href="Assembler/Rel32.html" title="RubyVM::RJIT::Assembler::Rel32 (class)">Rel32</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RubyVM::RJIT::Assembler.new (method)">new</a></span>(<span class='id identifier rubyid_addr'>addr</span>)<span class='comma'>,</span> <span class='const'><a href="#Rel32Pad-constant" title="RubyVM::RJIT::Assembler::Rel32Pad (constant)">Rel32Pad</a></span><span class='comma'>,</span> <span class='const'><a href="#Rel32Pad-constant" title="RubyVM::RJIT::Assembler::Rel32Pad (constant)">Rel32Pad</a></span><span class='comma'>,</span> <span class='const'><a href="#Rel32Pad-constant" title="RubyVM::RJIT::Assembler::Rel32Pad (constant)">Rel32Pad</a></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_labels-instance_method">
  <h3 class='signature priv'>
    #<strong>resolve_labels</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1061-L1071'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1061' data-end='1071'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1061</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_labels'>resolve_labels</span>
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_byte'>byte</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_byte'>byte</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">Label</a></span>)
      <span class='id identifier rubyid_src_index'>src_index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>+</span> <span class='int'>1</span> <span class='comment'># offset 1 byte for rel8 itself
</span>      <span class='id identifier rubyid_dst_index'>dst_index</span> <span class='op'>=</span> <span class='ivar'>@labels</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_byte'>byte</span>)
      <span class='id identifier rubyid_rel8'>rel8</span> <span class='op'>=</span> <span class='id identifier rubyid_dst_index'>dst_index</span> <span class='op'>-</span> <span class='id identifier rubyid_src_index'>src_index</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected offset: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel8'>rel8</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_imm8?'>imm8?</span>(<span class='id identifier rubyid_rel8'>rel8</span>)
      <span class='ivar'>@bytes</span>[<span class='id identifier rubyid_index'>index</span>] <span class='op'>=</span> <span class='id identifier rubyid_rel8'>rel8</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_rel32-instance_method">
  <h3 class='signature priv'>
    #<strong>resolve_rel32</strong>(write_addr)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1047-L1059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1047' data-end='1059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1047</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_rel32'>resolve_rel32</span>(<span class='id identifier rubyid_write_addr'>write_addr</span>)
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_byte'>byte</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_byte'>byte</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="Assembler/Rel32.html" title="RubyVM::RJIT::Assembler::Rel32 (class)">Rel32</a></span>)
      <span class='id identifier rubyid_src_addr'>src_addr</span> <span class='op'>=</span> <span class='id identifier rubyid_write_addr'>write_addr</span> <span class='op'>+</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>+</span> <span class='int'>4</span> <span class='comment'># offset 4 bytes for rel32 itself
</span>      <span class='id identifier rubyid_dst_addr'>dst_addr</span> <span class='op'>=</span> <span class='id identifier rubyid_byte'>byte</span>.<span class='id identifier rubyid_addr'>addr</span>
      <span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span> <span class='op'>=</span> <span class='id identifier rubyid_dst_addr'>dst_addr</span> <span class='op'>-</span> <span class='id identifier rubyid_src_addr'>src_addr</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected offset: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_imm32?'>imm32?</span>(<span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>)
      <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_rel32'><a href="#rel32-instance_method" title="RubyVM::RJIT::Assembler#rel32 (method)">rel32</a></span>).<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rel_byte'>rel_byte</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_index'>rel_index</span><span class='op'>|</span>
        <span class='ivar'>@bytes</span>[<span class='id identifier rubyid_index'>index</span> <span class='op'>+</span> <span class='id identifier rubyid_rel_index'>rel_index</span>] <span class='op'>=</span> <span class='id identifier rubyid_rel_byte'>rel_byte</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ret-instance_method">
  <h3 class='signature '>
    #<strong>ret</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L762-L766'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='762' data-end='766'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 762</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ret'>ret</span>
  <span class='comment'># RET
</span>  <span class='comment'># Near return: A return to a procedure within the current code segment
</span>  <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(<span class='label'>opcode:</span> <span class='int'>0xc3</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sar-instance_method">
  <h3 class='signature '>
    #<strong>sar</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L768-L780'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='768' data-end='780'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 768</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sar'>sar</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + C1 /7 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0xc1</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_code_addrs-instance_method">
  <h3 class='signature priv'>
    #<strong>set_code_addrs</strong>(write_addr)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1033-L1045'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1033' data-end='1045'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1033</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_code_addrs'>set_code_addrs</span>(<span class='id identifier rubyid_write_addr'>write_addr</span>)
  (<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span> <span class='op'>+</span> <span class='int'>1</span>).<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='ivar'>@blocks</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> []).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_block'><a href="#block-instance_method" title="RubyVM::RJIT::Assembler#block (method)">block</a></span><span class='op'>|</span>
      <span class='id identifier rubyid_block'><a href="#block-instance_method" title="RubyVM::RJIT::Assembler#block (method)">block</a></span>.<span class='id identifier rubyid_start_addr'>start_addr</span> <span class='op'>=</span> <span class='id identifier rubyid_write_addr'>write_addr</span> <span class='op'>+</span> <span class='id identifier rubyid_index'>index</span>
    <span class='kw'>end</span>
    <span class='ivar'>@stub_starts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> []).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stub'><a href="#stub-instance_method" title="RubyVM::RJIT::Assembler#stub (method)">stub</a></span><span class='op'>|</span>
      <span class='id identifier rubyid_stub'><a href="#stub-instance_method" title="RubyVM::RJIT::Assembler#stub (method)">stub</a></span>.<span class='id identifier rubyid_start_addr'>start_addr</span> <span class='op'>=</span> <span class='id identifier rubyid_write_addr'>write_addr</span> <span class='op'>+</span> <span class='id identifier rubyid_index'>index</span>
    <span class='kw'>end</span>
    <span class='ivar'>@stub_ends</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> []).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stub'><a href="#stub-instance_method" title="RubyVM::RJIT::Assembler#stub (method)">stub</a></span><span class='op'>|</span>
      <span class='id identifier rubyid_stub'><a href="#stub-instance_method" title="RubyVM::RJIT::Assembler#stub (method)">stub</a></span>.<span class='id identifier rubyid_end_addr'>end_addr</span> <span class='op'>=</span> <span class='id identifier rubyid_write_addr'>write_addr</span> <span class='op'>+</span> <span class='id identifier rubyid_index'>index</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    #<strong>size</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L71-L73'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='71' data-end='73'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 71</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span>
  <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'>size</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stub-instance_method">
  <h3 class='signature '>
    #<strong>stub</strong>(stub)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Mark the starting/ending addresses of a stub</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L900-L905'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='900' data-end='905'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 900</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stub'>stub</span>(<span class='id identifier rubyid_stub'>stub</span>)
  <span class='ivar'>@stub_starts</span>[<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_stub'>stub</span>
  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@stub_ends</span>[<span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_stub'>stub</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub-instance_method">
  <h3 class='signature '>
    #<strong>sub</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L782-L804'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='782' data-end='804'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 782</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sub'>sub</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># SUB r/m64, imm8 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_imm'>src_imm</span>]
    <span class='comment'># REX.W + 83 /5 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r, w), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x83</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_src_imm'>src_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># SUB r/m64, r64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 29 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r, w), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x29</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="test-instance_method">
  <h3 class='signature '>
    #<strong>test</strong>(left, right)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L806-L868'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='806' data-end='868'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 806</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>(<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>]
  <span class='comment'># TEST r/m8*, imm8 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="BytePtr.html" title="RubyVM::RJIT::BytePtr (class)">BytePtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX + F6 /0 ib
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>opcode:</span> <span class='int'>0xf6</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm8'><a href="#imm8-instance_method" title="RubyVM::RJIT::Assembler#imm8 (method)">imm8</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># TEST r/m64, imm32 (Mod 01: [reg]+disp8)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM8-constant" title="RubyVM::RJIT::Assembler::IMM8 (constant)">IMM8</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + F7 /0 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0xf7</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod01-constant" title="RubyVM::RJIT::Assembler::Mod01 (constant)">Mod01</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_left_disp'>left_disp</span><span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># TEST r/m64, imm32 (Mod 10: [reg]+disp32)
</span>  <span class='kw'>in</span> [<span class='const'><a href="../RJIT.html#QwordPtr-constant" title="RubyVM::RJIT::QwordPtr (constant)">QwordPtr</a></span>[<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_disp'>left_disp</span>]<span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + F7 /0 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0xf7</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod10-constant" title="RubyVM::RJIT::Assembler::Mod10 (constant)">Mod10</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>disp:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_left_disp'>left_disp</span>)<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># TEST r/m64, imm32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#IMM32-constant" title="RubyVM::RJIT::Assembler::IMM32 (constant)">IMM32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_imm'>right_imm</span>]
    <span class='comment'># REX.W + F7 /0 id
</span>    <span class='comment'># MI: Operand 1: ModRM:r/m (r), Operand 2: imm8/16/32
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0xf7</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
      <span class='label'>imm:</span> <span class='id identifier rubyid_imm32'><a href="#imm32-instance_method" title="RubyVM::RJIT::Assembler#imm32 (method)">imm32</a></span>(<span class='id identifier rubyid_right_imm'>right_imm</span>)<span class='comma'>,</span>
    )
  <span class='comment'># TEST r/m32, r32 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R32-constant" title="RubyVM::RJIT::Assembler::R32 (constant)">R32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#R32-constant" title="RubyVM::RJIT::Assembler::R32 (constant)">R32</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_reg'>right_reg</span>]
    <span class='comment'># 85 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>opcode:</span> <span class='int'>0x85</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_right_reg'>right_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
    )
  <span class='comment'># TEST r/m64, r64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_left_reg'>left_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_right_reg'>right_reg</span>]
    <span class='comment'># REX.W + 85 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x85</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_right_reg'>right_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_left_reg'>left_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_bytes-instance_method">
  <h3 class='signature priv'>
    #<strong>write_bytes</strong>(addr)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L1073-L1075'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1073' data-end='1075'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 1073</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_bytes'>write_bytes</span>(<span class='id identifier rubyid_addr'>addr</span>)
  <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'>Pointer</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RubyVM::RJIT::Assembler.new (method)">new</a></span>(<span class='id identifier rubyid_addr'>addr</span>)[<span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>] <span class='op'>=</span> <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_label-instance_method">
  <h3 class='signature '>
    #<strong>write_label</strong>(label)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>label</span>
    <span class='type'>(<a href="Assembler/Label.html" title="RubyVM::RJIT::Assembler::Label (class)">RubyVM::RJIT::Assembler::Label</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L916-L918'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='916' data-end='918'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 916</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_label'>write_label</span>(<span class='id identifier rubyid_label'>label</span>)
  <span class='ivar'>@labels</span>[<span class='id identifier rubyid_label'>label</span>] <span class='op'>=</span> <span class='ivar'>@bytes</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="RubyVM::RJIT::Assembler#size (method)">size</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xor-instance_method">
  <h3 class='signature '>
    #<strong>xor</strong>(dst, src)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/lib/ruby_vm/rjit/assembler.rb#L870-L882'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='870' data-end='882'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/ruby_vm/rjit/assembler.rb', line 870</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_xor'>xor</span>(<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>)
  <span class='kw'>case</span> [<span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_src'>src</span>]
  <span class='comment'># XOR r/m64, r64 (Mod 11: reg)
</span>  <span class='kw'>in</span> [<span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span><span class='comma'>,</span> <span class='const'><a href="#R64-constant" title="RubyVM::RJIT::Assembler::R64 (constant)">R64</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_src_reg'>src_reg</span>]
    <span class='comment'># REX.W + 31 /r
</span>    <span class='comment'># MR: Operand 1: ModRM:r/m (r, w), Operand 2: ModRM:reg (r)
</span>    <span class='id identifier rubyid_insn'><a href="#insn-instance_method" title="RubyVM::RJIT::Assembler#insn (method)">insn</a></span>(
      <span class='label'>prefix:</span> <span class='const'><a href="#REX_W-constant" title="RubyVM::RJIT::Assembler::REX_W (constant)">REX_W</a></span><span class='comma'>,</span>
      <span class='label'>opcode:</span> <span class='int'>0x31</span><span class='comma'>,</span>
      <span class='label'>mod_rm:</span> <span class='const'><a href="Assembler/ModRM.html" title="RubyVM::RJIT::Assembler::ModRM (class)">ModRM</a></span>[<span class='label'>mod:</span> <span class='const'><a href="#Mod11-constant" title="RubyVM::RJIT::Assembler::Mod11 (constant)">Mod11</a></span><span class='comma'>,</span> <span class='label'>reg:</span> <span class='id identifier rubyid_src_reg'>src_reg</span><span class='comma'>,</span> <span class='label'>rm:</span> <span class='id identifier rubyid_dst_reg'>dst_reg</span>]<span class='comma'>,</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>