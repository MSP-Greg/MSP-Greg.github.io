<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: CONTRIBUTING &mdash; rdoc  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "CONTRIBUTING",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>rdoc</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: CONTRIBUTING&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Contributing to <a href="RDoc.html" title="RDoc (module)"><code>RDoc</code></a></h1>

<p>Thank you for your interest in contributing to RDoc! This document provides guidelines and instructions for contributing.</p>

<h2>Reporting Bugs</h2>

<p>If you think you found a bug, open an issue on the <a href="https://github.com/ruby/rdoc/issues">issue tracker</a> on GitHub.</p>

<p>When reporting a bug:</p>

<ul>
<li>Include a sample file that illustrates the problem, or link to the repository/gem associated with the bug</li>
<li>Include steps to reproduce the issue</li>
</ul>

<h2>Development Setup</h2>

<p><a href="RDoc.html" title="RDoc (module)"><code>RDoc</code></a> uses Bundler for development. To get started:</p>

<pre class="code bash"><code class="bash">bundle install
bundle exec rake
</code></pre>

<p>This will install dependencies and run the tests.</p>

<p>If you&#39;re working on CSS or templates, you&#39;ll also want Node dependencies for the CSS linter:</p>

<pre class="code bash"><code class="bash">npm install
</code></pre>

<p>If tests don&#39;t pass on the first run, check the <a href="https://github.com/ruby/rdoc/actions">GitHub Actions page</a> to see if there are any known failures.</p>

<p><strong>Note:</strong> Generated parser files are committed to the repository. If you delete them (for example via <code>bundle exec rake clean</code>) or you change any <code>.ry</code>/<code>.kpeg</code> parser sources, run <code>bundle exec rake generate</code> before running tests.</p>

<h2>Running Tests</h2>

<pre class="code bash"><code class="bash"># Run all tests (default task)
bundle exec rake

# Run unit tests only (excludes RubyGems integration)
bundle exec rake normal_test

# Run RubyGems integration tests only
bundle exec rake rubygems_test

# Verify generated parser files are current (CI check)
bundle exec rake verify_generated
</code></pre>

<ul>
<li><strong>Test Framework:</strong> <a href="https://github.com/test-unit/test-unit"><code>test-unit</code></a></li>
<li><strong>Test Location:</strong> <code>test/</code> directory</li>
<li><strong>Test Helper:</strong> <code>test/lib/helper.rb</code></li>
</ul>

<h2>Linting</h2>

<h3>RuboCop (Ruby Code)</h3>

<pre class="code bash"><code class="bash"># Check Ruby code style
bundle exec rubocop

# Auto-fix style issues
bundle exec rubocop -A
</code></pre>

<h3>Herb Linter (ERB/RHTML Templates)</h3>

<pre class="code bash"><code class="bash"># Lint ERB template files
npx @herb-tools/linter &quot;**/*.rhtml&quot;

# Lint specific directory
npx @herb-tools/linter &quot;lib/**/*.rhtml&quot;
</code></pre>

<p><strong>Template Location:</strong> <code>lib/rdoc/generator/template/**/*.rhtml</code></p>

<h3>Stylelint (CSS Files)</h3>

<pre class="code bash"><code class="bash"># Lint CSS files
npm run lint:css

# Auto-fix style issues
npm run lint:css -- --fix
</code></pre>

<h2>Type annotations</h2>

<p>RDoc is currently not a typed codebase. Despite not running a type checker, contributors have been
adding some comment annotations to make the codebase easier to navigate and understand.</p>

<p>These annotations use <a href="https://sorbet.org/docs/rbs-support">Sorbet flavored RBS</a> annotations,
so that we can tag definitions as abstract and override. For more information on RBS syntax,
see the [documentation]).</p>

<h2>Parser Generation</h2>

<p>RDoc uses generated parsers for Markdown and RD formats.</p>

<pre class="code bash"><code class="bash"># Generate all parser files from sources
bundle exec rake generate

# Remove generated parser files
bundle exec rake clean

# Verify generated files are in sync with sources (CI check)
bundle exec rake verify_generated
</code></pre>

<p><strong>Source Files</strong> (edit these):</p>

<ul>
<li><code>lib/rdoc/rd/block_parser.ry</code> → generates <code>block_parser.rb</code> via racc</li>
<li><code>lib/rdoc/rd/inline_parser.ry</code> → generates <code>inline_parser.rb</code> via racc</li>
<li><code>lib/rdoc/markdown.kpeg</code> → generates <code>markdown.rb</code> via kpeg</li>
<li><code>lib/rdoc/markdown/literals.kpeg</code> → generates <code>literals.rb</code> via kpeg</li>
</ul>

<p><strong>Important:</strong></p>

<ul>
<li>Generated parser files <strong>should be committed</strong> to the repository</li>
<li>Do not edit generated <code>.rb</code> parser files directly</li>
<li>After modifying <code>.ry</code> or <code>.kpeg</code> source files, run <code>bundle exec rake generate</code></li>
<li>CI runs <code>rake verify_generated</code> to ensure generated files are in sync with their sources</li>
</ul>

<h2>Documentation Generation</h2>

<pre class="code bash"><code class="bash"># Generate documentation (creates _site directory)
bundle exec rake rdoc

# Force regenerate documentation
bundle exec rake rerdoc

# Show documentation coverage
bundle exec rake rdoc:coverage
bundle exec rake coverage
</code></pre>

<ul>
<li><strong>Output Directory:</strong> <code>_site/</code> (GitHub Pages compatible)</li>
<li><strong>Configuration:</strong> <code>.rdoc_options</code> and <code>.document</code></li>
</ul>

<h2>Themes</h2>

<p>RDoc ships with two HTML themes:</p>

<ul>
<li><strong>Aliki</strong> (default) - Modern theme with improved styling and navigation</li>
<li><strong>Darkfish</strong> (deprecated) - Classic theme, will be removed in v8.0</li>
</ul>

<p>New feature development should focus on the Aliki theme. Darkfish will continue to receive bug fixes but no new features.</p>

<p>Theme templates are located at <code>lib/rdoc/generator/template/&lt;theme&gt;/</code>.</p>

<h2>Project Structure</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lib'>lib</span><span class='op'>/</span><span class='id identifier rubyid_rdoc'>rdoc</span><span class='op'>/</span>
<span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_rdoc'>rdoc</span>.<span class='id identifier rubyid_rb'>rb</span>                    <span class='comment'># Main entry point (RDoc::RDoc class)
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_version'>version</span>.<span class='id identifier rubyid_rb'>rb</span>                 <span class='comment'># Version constant
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_task'>task</span>.<span class='id identifier rubyid_rb'>rb</span>                    <span class='comment'># Rake task integration
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_parser'>parser</span><span class='op'>/</span>                    <span class='comment'># Source code parsers
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_ruby'>ruby</span>.<span class='id identifier rubyid_rb'>rb</span>                <span class='comment'># Ruby code parser
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_rb'>rb</span>                   <span class='comment'># C extension parser
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_prism_ruby'>prism_ruby</span>.<span class='id identifier rubyid_rb'>rb</span>          <span class='comment'># Prism-based Ruby parser
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_└──'>└──</span> <span class='op'>...</span>
<span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_generator'>generator</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>                 # Documentation generators
│   ├── aliki.rb               # HTML generator (default theme)
│   ├── darkfish.rb            # HTML generator (deprecated, will be removed in v8.0)
│   ├── markup.rb              # Markup format generator
│   ├── ri.rb                  # RI command generator
│   └── template</span><span class='regexp_end'>/</span></span>              <span class='comment'># ERB templates
</span><span class='id identifier rubyid_│'>│</span>       <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_aliki'>aliki</span><span class='op'>/</span>             <span class='comment'># Aliki theme (default)
</span><span class='id identifier rubyid_│'>│</span>       <span class='id identifier rubyid_└──'>└──</span> <span class='id identifier rubyid_darkfish'>darkfish</span><span class='op'>/</span>          <span class='comment'># Darkfish theme (deprecated)
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_markup'>markup</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>                    # Markup parsing and formatting
├── code_object</span><span class='regexp_end'>/</span></span>               <span class='comment'># AST objects for documented items
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_markdown'>markdown</span>.<span class='id identifier rubyid_kpeg'>kpeg</span>              <span class='comment'># Parser source (edit this)
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_markdown'>markdown</span>.<span class='id identifier rubyid_rb'>rb</span>                <span class='comment'># Generated parser (do not edit)
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_markdown'>markdown</span><span class='op'>/</span>                  <span class='comment'># Markdown parsing
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_literals'>literals</span>.<span class='id identifier rubyid_kpeg'>kpeg</span>          <span class='comment'># Parser source (edit this)
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_└──'>└──</span> <span class='id identifier rubyid_literals'>literals</span>.<span class='id identifier rubyid_rb'>rb</span>            <span class='comment'># Generated parser (do not edit)
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_rd'>rd</span><span class='op'>/</span>                        <span class='comment'># RD format parsing
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_block_parser'>block_parser</span>.<span class='id identifier rubyid_ry'>ry</span>        <span class='comment'># Parser source (edit this)
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_block_parser'>block_parser</span>.<span class='id identifier rubyid_rb'>rb</span>        <span class='comment'># Generated parser (do not edit)
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_inline_parser'>inline_parser</span>.<span class='id identifier rubyid_ry'>ry</span>       <span class='comment'># Parser source (edit this)
</span><span class='id identifier rubyid_│'>│</span>   <span class='id identifier rubyid_└──'>└──</span> <span class='id identifier rubyid_inline_parser'>inline_parser</span>.<span class='id identifier rubyid_rb'>rb</span>       <span class='comment'># Generated parser (do not edit)
</span><span class='id identifier rubyid_└──'>└──</span> <span class='id identifier rubyid_ri'>ri</span><span class='op'>/</span>                        <span class='comment'># RI (Ruby Info) tool
</span>
<span class='id identifier rubyid_test'>test</span><span class='op'>/</span>                          <span class='comment'># Test files
</span><span class='id identifier rubyid_├──'>├──</span> <span class='id identifier rubyid_lib'>lib</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>helper.rb              # Test helpers
└── rdoc</span><span class='regexp_end'>/</span></span>                      <span class='comment'># Main test directory</span></code></pre>

<h2>Code of Conduct</h2>

<p>Please be respectful and constructive in all interactions. We&#39;re all here to make RDoc better!</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>