<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Parser::PrismRuby &mdash; rdoc  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Parser::PrismRuby",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-master</a> &raquo; 
      <a href='../../'>rdoc</a> &raquo; 
      <a href='../../_index.html#alpha_P'>Index (P)</a> &raquo; 
        <a href="../../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
        <a href="../Parser.html" title="RDoc::Parser (class)">Parser</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>PrismRuby&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RDoc::Parser::PrismRuby</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="PrismRuby/RDocVisitor.html" title="RDoc::Parser::PrismRuby::RDocVisitor (class)"><code>RDocVisitor</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></li>
          <li class='next'>RDoc::Parser::PrismRuby</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L14'>lib/rdoc/parser/prism_ruby.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse and collect document from <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> source code. <code>PrismRuby</code> is compatible with <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> and aims to replace it.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#parsers-class_method" title="RDoc::Parser.parsers (method)">.parsers</a></td>
      <td><div class='inline'><p>An Array of arrays that maps file extension (or name) regular expressions to parser classes that will parse matching filenames.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(top_level, content, options, stats)  &#x21d2; PrismRuby </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#alias_extension-class_method" title="RDoc::Parser.alias_extension (method)">.alias_extension</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)"><code>::RDoc::Alias</code></a> an extension to another extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#binary%3F-class_method" title="RDoc::Parser.binary? (method)">.binary?</a></td>
      <td><div class='inline'><p>Determines if the file is a “binary” file which basically means it has content that an <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a> parser shouldn’t try to consume.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse-class_method" title="RDoc::Parser.can_parse (method)">.can_parse</a></td>
      <td><div class='inline'><p>Return a parser that can handle a particular extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse_by_name-class_method" title="RDoc::Parser.can_parse_by_name (method)">.can_parse_by_name</a></td>
      <td><div class='inline'><p>Returns a parser that can handle the extension for <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#check_modeline-class_method" title="RDoc::Parser.check_modeline (method)">.check_modeline</a></td>
      <td><div class='inline'><p>Returns the file type from the modeline in <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#for-class_method" title="RDoc::Parser.for (method)">.for</a></td>
      <td><div class='inline'><p>Finds and instantiates the correct parser for the given <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a> and <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#new-class_method" title="RDoc::Parser.new (method)">.new</a></td>
      <td><div class='inline'><p>Creates a new <a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a> storing <code>top_level</code>, <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>, <code>content</code>, <code>options</code> and <code>stats</code> in instance variables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#parse_files_matching-class_method" title="RDoc::Parser.parse_files_matching (method)">.parse_files_matching</a></td>
      <td><div class='inline'><p>Record which file types this parser can understand.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#remove_modeline-class_method" title="RDoc::Parser.remove_modeline (method)">.remove_modeline</a></td>
      <td><div class='inline'><p>Removes an emacs-style modeline from the first line of the document.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#use_markup-class_method" title="RDoc::Parser.use_markup (method)">.use_markup</a></td>
      <td><div class='inline'><p>If there is a <code>markup: parser_name</code> comment at the front of the file, use it to determine the parser.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#zip%3F-class_method" title="RDoc::Parser.zip? (method)">.zip?</a></td>
      <td><div class='inline'><p>Checks if <code>file</code> is a zip file in disguise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#container-instance_method" title="#container (instance method)">#<strong>container</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#singleton-instance_method" title="#singleton (instance method)">#<strong>singleton</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#visibility-instance_method" title="#visibility (instance method)">#<strong>visibility</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></td>
      <td><div class='inline'><p>The name of the file being parsed.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#add_alias_method-instance_method" title="#add_alias_method (instance method)">#<strong>add_alias_method</strong>(old_name, new_name, line_no)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles <code>alias foo bar</code> and <code>alias_method :foo, :bar</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_attributes-instance_method" title="#add_attributes (instance method)">#<strong>add_attributes</strong>(names, rw, line_no)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles <code>attr :a, :b</code>, <code>attr_reader :a, :b</code>, <code>attr_writer :a, :b</code> and <code>attr_accessor :a, :b</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_constant-instance_method" title="#add_constant (instance method)">#<strong>add_constant</strong>(constant_name, rhs_name, start_line, end_line)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a constant.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_method-instance_method" title="#add_method (instance method)">#<strong>add_method</strong>(name, receiver_name:, receiver_fallback_type:, visibility:, singleton:, params:, calls_super:, block_params:, tokens:, start_line:, args_end_line:, end_line:)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a method defined by <code>def</code> syntax.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#add_module_or_class-instance_method" title="#add_module_or_class (instance method)">#<strong>add_module_or_class</strong>(module_name, start_line, end_line, is_class: false, superclass_name: nil, superclass_expr: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds module or class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#change_method_to_module_function-instance_method" title="#change_method_to_module_function (instance method)">#<strong>change_method_to_module_function</strong>(names)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles <code>module_function :foo, :bar</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#change_method_visibility-instance_method" title="#change_method_visibility (instance method)">#<strong>change_method_visibility</strong>(names, visibility, singleton: @singleton)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles <code>public :foo, :bar</code> ‘private <code>:foo</code>, :bar` and <code>protected :foo, :bar</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#consecutive_comment-instance_method" title="#consecutive_comment (instance method)">#<strong>consecutive_comment</strong>(line_no)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns consecutive comment linked to the given line number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_or_create_constant_owner_name-instance_method" title="#find_or_create_constant_owner_name (instance method)">#<strong>find_or_create_constant_owner_name</strong>(constant_path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a pair of owner module and constant name from a given constant path.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_or_create_module_path-instance_method" title="#find_or_create_module_path (instance method)">#<strong>find_or_create_module_path</strong>(module_name, create_mode)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Find or create module or class from a given module name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#handle_meta_method_comment-instance_method" title="#handle_meta_method_comment (instance method)">#<strong>handle_meta_method_comment</strong>(comment, node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles meta method comments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_comment_tomdoc-instance_method" title="#parse_comment_tomdoc (instance method)">#<strong>parse_comment_tomdoc</strong>(container, comment, line_no, start_line)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <code>RDoc::Method</code> on <a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">#container</a> from <code>comment</code> if there is a Signature section in the comment.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepare_comments-instance_method" title="#prepare_comments (instance method)">#<strong>prepare_comments</strong>(comments)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepares comments for processing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#process_comments_until-instance_method" title="#process_comments_until (instance method)">#<strong>process_comments_until</strong>(line_no_until)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes consecutive comments that were not linked to any documentable code until the given line number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#resolve_constant_path-instance_method" title="#resolve_constant_path (instance method)">#<strong>resolve_constant_path</strong>(constant_path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resolves constant path to a full path by searching module nesting.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scans this <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> file for <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> constructs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_comments_until-instance_method" title="#skip_comments_until (instance method)">#<strong>skip_comments_until</strong>(line_no_until)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Skips all undocumentable consecutive comments until the given line number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#visible_tokens_from_location-instance_method" title="#visible_tokens_from_location (instance method)">#<strong>visible_tokens_from_location</strong>(location)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns tokens from the given location.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#with_container-instance_method" title="#with_container (instance method)">#<strong>with_container</strong>(container, singleton: false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Dive into another container.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#with_in_proc_block-instance_method" title="#with_in_proc_block (instance method)">#<strong>with_in_proc_block</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Suppress <code>extend</code> and <code>include</code> within block because they might be a metaprogramming block example: <code>Module.new { include M }</code> ‘M.module_eval { include N }`.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#add_extends-instance_method" title="#add_extends (instance method)">#<strong>add_extends</strong>(names, line_no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Handle <code>extend Foo, Bar</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#add_includes-instance_method" title="#add_includes (instance method)">#<strong>add_includes</strong>(names, line_no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Handle <code>include Foo, Bar</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#add_includes_extends-instance_method" title="#add_includes_extends (instance method)">#<strong>add_includes_extends</strong>(names, rdoc_class, line_no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#call_node_name_arguments-instance_method" title="#call_node_name_arguments (instance method)">#<strong>call_node_name_arguments</strong>(call_node)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#file_line_comment_token-instance_method" title="#file_line_comment_token (instance method)">#<strong>file_line_comment_token</strong>(line_no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#handle_consecutive_comment_directive-instance_method" title="#handle_consecutive_comment_directive (instance method)">#<strong>handle_consecutive_comment_directive</strong>(code_object, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#handle_modifier_directive-instance_method" title="#handle_modifier_directive (instance method)">#<strong>handle_modifier_directive</strong>(code_object, line_no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#handle_standalone_consecutive_comment_directive-instance_method" title="#handle_standalone_consecutive_comment_directive (instance method)">#<strong>handle_standalone_consecutive_comment_directive</strong>(comment, line_no, start_line)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#has_modifier_nodoc%3F-instance_method" title="#has_modifier_nodoc? (instance method)">#<strong>has_modifier_nodoc?</strong>(line_no)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#normal_comment_treat_as_ghost_method_for_now%3F-instance_method" title="#normal_comment_treat_as_ghost_method_for_now? (instance method)">#<strong>normal_comment_treat_as_ghost_method_for_now?</strong>(comment_text, line_no)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#prepare_line_nodes-instance_method" title="#prepare_line_nodes (instance method)">#<strong>prepare_line_nodes</strong>(node)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Assign AST node to a line.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#record_location-instance_method" title="#record_location (instance method)">#<strong>record_location</strong>(container)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Records the location of this <a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">#container</a> in the file for this parser and adds it to the list of classes and modules in the file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#should_document%3F-instance_method" title="#should_document? (instance method)">#<strong>should_document?</strong>(code_object)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#slice_tokens-instance_method" title="#slice_tokens (instance method)">#<strong>slice_tokens</strong>(start_pos, end_pos)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#internal_add_method-instance_method" title="#internal_add_method (instance method)">#<strong>internal_add_method</strong>(container, meth, line_no:, visibility:, params:, calls_super:, block_params:, tokens:)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)"><code>::RDoc::Parser</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#handle_tab_width-instance_method" title="RDoc::Parser#handle_tab_width (method)">#handle_tab_width</a></td>
      <td><div class='inline'><p>Normalizes tabs in <code>body</code></p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(top_level, content, options, stats)  &#x21d2; <code>PrismRuby</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L21-L39'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='21' data-end='39'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 21</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_top_level'>top_level</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_stats'>stats</span>)
  <span class='kw'>super</span>

  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_handle_tab_width'><a href="../Parser.html#handle_tab_width-instance_method" title="RDoc::Parser#handle_tab_width (method)">handle_tab_width</a></span>(<span class='id identifier rubyid_content'>content</span>)

  <span class='ivar'>@size</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@token_listeners</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_remove_magic_comment'>remove_magic_comment</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@content</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_markup'>markup</span>
  <span class='ivar'>@track_visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nodoc'>nodoc</span> <span class='op'>!=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
  <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_encoding'>encoding</span>

  <span class='ivar'>@module_nesting</span> <span class='op'>=</span> [[<span class='id identifier rubyid_top_level'>top_level</span><span class='comma'>,</span> <span class='kw'>false</span>]]
  <span class='ivar'>@container</span> <span class='op'>=</span> <span class='id identifier rubyid_top_level'>top_level</span>
  <span class='ivar'>@visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
  <span class='ivar'>@singleton</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@in_proc_block</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="container-instance_method">
  <h3 class='signature ro first'>
    #<strong>container</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L19-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='19' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="singleton-instance_method">
  <h3 class='signature ro'>
    #<strong>singleton</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L19-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='19' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_singleton'>singleton</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="visibility-instance_method">
  <h3 class='signature rw'>
    #<strong>visibility</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L18-L18'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='18' data-end='18'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_visibility'>visibility</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="add_alias_method-instance_method">
  <h3 class='signature  first'>
    #<strong>add_alias_method</strong>(old_name, new_name, line_no)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles <code>alias foo bar</code> and <code>alias_method :foo, :bar</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L448-L461'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='448' data-end='461'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 448</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_alias_method'>add_alias_method</span>(<span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='ivar'>@container</span>.<span class='id identifier rubyid_find_method'>find_method</span>(<span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='ivar'>@singleton</span>)<span class='op'>&amp;.</span><span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
  <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Alias.html" title="RDoc::Alias (class)">Alias</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='ivar'>@singleton</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
  <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_a'>a</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_should_document?'><a href="#should_document%3F-instance_method" title="RDoc::Parser::PrismRuby#should_document? (method)">should_document?</a></span>(<span class='id identifier rubyid_a'>a</span>)
    <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_alias'>add_alias</span>(<span class='id identifier rubyid_a'>a</span>)
    <span class='ivar'>@container</span>.<span class='id identifier rubyid_find_method'>find_method</span>(<span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='ivar'>@singleton</span>)<span class='op'>&amp;.</span><span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_attributes-instance_method">
  <h3 class='signature '>
    #<strong>add_attributes</strong>(names, rw, line_no)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles <code>attr :a, :b</code>, <code>attr_reader :a, :b</code>, <code>attr_writer :a, :b</code> and <code>attr_accessor :a, :b</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L465-L479'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='465' data-end='479'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 465</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_attributes'>add_attributes</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@container</span>.<span class='id identifier rubyid_document_children'>document_children</span>

  <span class='id identifier rubyid_names'>names</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_symbol'>symbol</span><span class='op'>|</span>
    <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_symbol'>symbol</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='ivar'>@singleton</span>)
    <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
    <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_a'>a</span>)
    <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
    <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='id identifier rubyid_a'>a</span>) <span class='kw'>if</span> <span class='id identifier rubyid_should_document?'><a href="#should_document%3F-instance_method" title="RDoc::Parser::PrismRuby#should_document? (method)">should_document?</a></span>(<span class='id identifier rubyid_a'>a</span>)
    <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='comment'># should set after adding to container
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_constant-instance_method">
  <h3 class='signature '>
    #<strong>add_constant</strong>(constant_name, rhs_name, start_line, end_line)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds a constant</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L635-L660'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='635' data-end='660'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 635</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_constant'>add_constant</span>(<span class='id identifier rubyid_constant_name'>constant_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span>)
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_constant_owner_name'><a href="#find_or_create_constant_owner_name-instance_method" title="RDoc::Parser::PrismRuby#find_or_create_constant_owner_name (method)">find_or_create_constant_owner_name</a></span>(<span class='id identifier rubyid_constant_name'>constant_name</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_owner'>owner</span>

  <span class='id identifier rubyid_constant'>constant</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Constant.html" title="RDoc::Constant (class)">Constant</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_constant'>constant</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
  <span class='id identifier rubyid_constant'>constant</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_start_line'>start_line</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_constant'>constant</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span>)
  <span class='id identifier rubyid_owner'>owner</span>.<span class='id identifier rubyid_add_constant'>add_constant</span>(<span class='id identifier rubyid_constant'>constant</span>)
  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@store</span>.<span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span>(<span class='id identifier rubyid_rhs_name'>rhs_name</span>)
    <span class='kw'>else</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_rhs_name'>rhs_name</span>)
    <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_constant'>constant</span>.<span class='id identifier rubyid_document_self'>document_self</span>
    <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_module_alias'>add_module_alias</span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>)
    <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
    <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_start_line'>start_line</span>
    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_a'>a</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_extends-instance_method">
  <h3 class='signature nodoc'>
    #<strong>add_extends</strong>(names, line_no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handle <code>extend Foo, Bar</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L502-L504'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='502' data-end='504'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 502</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_extends'>add_extends</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_add_includes_extends'><a href="#add_includes_extends-instance_method" title="RDoc::Parser::PrismRuby#add_includes_extends (method)">add_includes_extends</a></span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Extend.html" title="RDoc::Extend (class)">Extend</a></span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_includes-instance_method">
  <h3 class='signature nodoc'>
    #<strong>add_includes</strong>(names, line_no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handle <code>include Foo, Bar</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L496-L498'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='496' data-end='498'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 496</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_includes'>add_includes</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_add_includes_extends'><a href="#add_includes_extends-instance_method" title="RDoc::Parser::PrismRuby#add_includes_extends (method)">add_includes_extends</a></span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Include.html" title="RDoc::Include (class)">Include</a></span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_includes_extends-instance_method">
  <h3 class='signature nodoc'>
    #<strong>add_includes_extends</strong>(names, rdoc_class, line_no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L481-L492'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='481' data-end='492'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 481</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_includes_extends'>add_includes_extends</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_rdoc_class'>rdoc_class</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@in_proc_block</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_names'>names</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_ie'>ie</span> <span class='op'>=</span> <span class='ivar'>@container</span>.<span class='id identifier rubyid_add'>add</span>(<span class='id identifier rubyid_rdoc_class'>rdoc_class</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
    <span class='id identifier rubyid_ie'>ie</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
    <span class='id identifier rubyid_ie'>ie</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
    <span class='id identifier rubyid_ie'>ie</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_ie'>ie</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_method-instance_method">
  <h3 class='signature '>
    #<strong>add_method</strong>(name, receiver_name:, receiver_fallback_type:, visibility:, singleton:, params:, calls_super:, block_params:, tokens:, start_line:, args_end_line:, end_line:)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds a method defined by <code>def</code> syntax</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L508-L548'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='508' data-end='548'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_method'>add_method</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>receiver_name:</span><span class='comma'>,</span> <span class='label'>receiver_fallback_type:</span><span class='comma'>,</span> <span class='label'>visibility:</span><span class='comma'>,</span> <span class='label'>singleton:</span><span class='comma'>,</span> <span class='label'>params:</span><span class='comma'>,</span> <span class='label'>calls_super:</span><span class='comma'>,</span> <span class='label'>block_params:</span><span class='comma'>,</span> <span class='label'>tokens:</span><span class='comma'>,</span> <span class='label'>start_line:</span><span class='comma'>,</span> <span class='label'>args_end_line:</span><span class='comma'>,</span> <span class='label'>end_line:</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@in_proc_block</span>

  <span class='id identifier rubyid_receiver'>receiver</span> <span class='op'>=</span> <span class='id identifier rubyid_receiver_name'>receiver_name</span> <span class='op'>?</span> <span class='id identifier rubyid_find_or_create_module_path'><a href="#find_or_create_module_path-instance_method" title="RDoc::Parser::PrismRuby#find_or_create_module_path (method)">find_or_create_module_path</a></span>(<span class='id identifier rubyid_receiver_name'>receiver_name</span><span class='comma'>,</span> <span class='id identifier rubyid_receiver_fallback_type'>receiver_fallback_type</span>) <span class='op'>:</span> <span class='ivar'>@container</span>
  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>)
  <span class='kw'>if</span> (<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_start_line'>start_line</span>))
    <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
    <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)

    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_args_end_line'>args_end_line</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_should_document?'><a href="#should_document%3F-instance_method" title="RDoc::Parser::PrismRuby#should_document? (method)">should_document?</a></span>(<span class='id identifier rubyid_meth'>meth</span>)

  <span class='id identifier rubyid_internal_add_method'><a href="#internal_add_method-instance_method" title="RDoc::Parser::PrismRuby#internal_add_method (method)">internal_add_method</a></span>(
    <span class='id identifier rubyid_receiver'>receiver</span><span class='comma'>,</span>
    <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span>
    <span class='label'>line_no:</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span>
    <span class='label'>visibility:</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span><span class='comma'>,</span>
    <span class='label'>params:</span> <span class='id identifier rubyid_params'>params</span><span class='comma'>,</span>
    <span class='label'>calls_super:</span> <span class='id identifier rubyid_calls_super'>calls_super</span><span class='comma'>,</span>
    <span class='label'>block_params:</span> <span class='id identifier rubyid_block_params'>block_params</span><span class='comma'>,</span>
    <span class='label'>tokens:</span> <span class='id identifier rubyid_tokens'>tokens</span>
  )

  <span class='comment'># Rename after add_method to register duplicated &#39;new&#39; and &#39;initialize&#39;
</span>  <span class='comment'># defined in c and ruby just like the old parser did.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>initialize</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_dont_rename_initialize'>dont_rename_initialize</span>
      <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_protected'>protected</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>new</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="add_module_or_class-instance_method">
  <h3 class='signature '>
    #<strong>add_module_or_class</strong>(module_name, start_line, end_line, is_class: false, superclass_name: nil, superclass_expr: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds module or class</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L664-L701'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='664' data-end='701'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 664</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_module_or_class'>add_module_or_class</span>(<span class='id identifier rubyid_module_name'>module_name</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span><span class='comma'>,</span> <span class='label'>is_class:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>superclass_name:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>superclass_expr:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comment'><a href="#consecutive_comment-instance_method" title="RDoc::Parser::PrismRuby#consecutive_comment (method)">consecutive_comment</a></span>(<span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@container</span>.<span class='id identifier rubyid_document_children'>document_children</span>

  <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_constant_owner_name'><a href="#find_or_create_constant_owner_name-instance_method" title="RDoc::Parser::PrismRuby#find_or_create_constant_owner_name (method)">find_or_create_constant_owner_name</a></span>(<span class='id identifier rubyid_module_name'>module_name</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_owner'>owner</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_is_class'>is_class</span>
    <span class='comment'># RDoc::NormalClass resolves superclass name despite of the lack of module nesting information.
</span>    <span class='comment'># We need to fix it when RDoc::NormalClass resolved to a wrong constant name
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_superclass_name'>superclass_name</span>
      <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_constant_path'><a href="#resolve_constant_path-instance_method" title="RDoc::Parser::PrismRuby#resolve_constant_path (method)">resolve_constant_path</a></span>(<span class='id identifier rubyid_superclass_name'>superclass_name</span>)
      <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span>(<span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span>) <span class='kw'>if</span> <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span>
      <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span> <span class='op'>||=</span> <span class='id identifier rubyid_superclass_name'>superclass_name</span>
      <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span> <span class='op'>=</span> <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
    <span class='kw'>end</span>
    <span class='comment'># add_class should be done after resolving superclass
</span>    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_owner'>owner</span>.<span class='id identifier rubyid_classes_hash'>classes_hash</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>||</span> <span class='id identifier rubyid_owner'>owner</span>.<span class='id identifier rubyid_add_class'>add_class</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass_name'>superclass_name</span> <span class='op'>||</span> <span class='id identifier rubyid_superclass_expr'>superclass_expr</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::Object</span><span class='tstring_end'>&#39;</span></span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_superclass_name'>superclass_name</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span>
        <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='id identifier rubyid_superclass'>superclass</span>
      <span class='kw'>elsif</span> (<span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_superclass'>superclass</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>String</span>) <span class='op'>||</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_superclass'>superclass</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>!=</span> <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span>
        <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='id identifier rubyid_superclass_full_path'>superclass_full_path</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_owner'>owner</span>.<span class='id identifier rubyid_modules_hash'>modules_hash</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>||</span> <span class='id identifier rubyid_owner'>owner</span>.<span class='id identifier rubyid_add_module'>add_module</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_start_line'>start_line</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_mod'>mod</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_handle_modifier_directive'><a href="#handle_modifier_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_modifier_directive (method)">handle_modifier_directive</a></span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_end_line'>end_line</span>)
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_add_comment'>add_comment</span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>) <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_mod'>mod</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="call_node_name_arguments-instance_method">
  <h3 class='signature nodoc'>
    #<strong>call_node_name_arguments</strong>(call_node)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L246-L256'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='246' data-end='256'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 246</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_call_node_name_arguments'>call_node_name_arguments</span>(<span class='id identifier rubyid_call_node'>call_node</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> [] <span class='kw'>unless</span> <span class='id identifier rubyid_call_node'>call_node</span>.<span class='id identifier rubyid_arguments'>arguments</span>
  <span class='id identifier rubyid_call_node'>call_node</span>.<span class='id identifier rubyid_arguments'>arguments</span>.<span class='id identifier rubyid_arguments'>arguments</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_arg'>arg</span>
    <span class='kw'>when</span> <span class='const'>Prism</span><span class='op'>::</span><span class='const'>SymbolNode</span>
      <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_value'>value</span>
    <span class='kw'>when</span> <span class='const'>Prism</span><span class='op'>::</span><span class='const'>StringNode</span>
      <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_unescaped'>unescaped</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span> <span class='op'>||</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="change_method_to_module_function-instance_method">
  <h3 class='signature '>
    #<strong>change_method_to_module_function</strong>(names)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles <code>module_function :foo, :bar</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L426-L444'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='426' data-end='444'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 426</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_change_method_to_module_function'>change_method_to_module_function</span>(<span class='id identifier rubyid_names'>names</span>)
  <span class='ivar'>@container</span>.<span class='id identifier rubyid_set_visibility_for'>set_visibility_for</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_private'>private</span><span class='comma'>,</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>=</span> []
  <span class='ivar'>@container</span>.<span class='id identifier rubyid_methods_matching'>methods_matching</span>(<span class='id identifier rubyid_names'>names</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='id identifier rubyid_s_m'>s_m</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_s_m'>s_m</span>)
    <span class='id identifier rubyid_s_m'>s_m</span>.<span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_s_m'>s_m</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_methods'>new_methods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_method'><a href="#add_method-instance_method" title="RDoc::Parser::PrismRuby#add_method (method)">add_method</a></span>(<span class='id identifier rubyid_method'>method</span>)
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='id identifier rubyid_method'>method</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="change_method_visibility-instance_method">
  <h3 class='signature '>
    #<strong>change_method_visibility</strong>(names, visibility, singleton: @singleton)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles <code>public :foo, :bar</code> ‘private <code>:foo</code>, :bar` and <code>protected :foo, :bar</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L402-L422'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='402' data-end='422'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_change_method_visibility'>change_method_visibility</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='ivar'>@singleton</span>)
  <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>=</span> []
  <span class='ivar'>@container</span>.<span class='id identifier rubyid_methods_matching'>methods_matching</span>(<span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>!=</span> <span class='ivar'>@container</span>
      <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_m'>m</span>)
      <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_m'>m</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_methods'>new_methods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_method'><a href="#add_method-instance_method" title="RDoc::Parser::PrismRuby#add_method (method)">add_method</a></span>(<span class='id identifier rubyid_method'>method</span>)
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='id identifier rubyid_method'>method</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="consecutive_comment-instance_method">
  <h3 class='signature '>
    #<strong>consecutive_comment</strong>(line_no)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns consecutive comment linked to the given line number</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L367-L371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='367' data-end='371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 367</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_consecutive_comment'>consecutive_comment</span>(<span class='id identifier rubyid_line_no'>line_no</span>)
  <span class='kw'>if</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_first'>first</span><span class='op'>&amp;.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='id identifier rubyid_line_no'>line_no</span>
    <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_shift'>shift</span>.<span class='id identifier rubyid_last'>last</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="file_line_comment_token-instance_method">
  <h3 class='signature nodoc'>
    #<strong>file_line_comment_token</strong>(line_no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L381-L385'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='381' data-end='385'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_file_line_comment_token'>file_line_comment_token</span>(<span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Parser.html" title="RDoc::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="RipperStateLex.html" title="RDoc::Parser::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>Token</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span>)
  <span class='id identifier rubyid_position_comment'>position_comment</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_position_comment'>position_comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_or_create_constant_owner_name-instance_method">
  <h3 class='signature '>
    #<strong>find_or_create_constant_owner_name</strong>(constant_path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a pair of owner module and constant name from a given constant path. Creates owner module if it does not exist.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L619-L631'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='619' data-end='631'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_or_create_constant_owner_name'>find_or_create_constant_owner_name</span>(<span class='id identifier rubyid_constant_path'>constant_path</span>)
  <span class='id identifier rubyid_const_path'>const_path</span><span class='comma'>,</span> <span class='id identifier rubyid_colon'>colon</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_constant_path'>constant_path</span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_colon'>colon</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># class Foo
</span>    <span class='comment'># Within `class C` or `module C`, owner is C(== current container)
</span>    <span class='comment'># Within `class &lt;&lt;C`, owner is C.singleton_class
</span>    <span class='comment'># but RDoc don&#39;t track constants of a singleton class of module
</span>    [(<span class='ivar'>@singleton</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='ivar'>@container</span>)<span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>]
  <span class='kw'>elsif</span> <span class='id identifier rubyid_const_path'>const_path</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># class ::Foo
</span>    [<span class='ivar'>@top_level</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>]
  <span class='kw'>else</span> <span class='comment'># `class Foo::Bar` or `class ::Foo::Bar`
</span>    [<span class='id identifier rubyid_find_or_create_module_path'><a href="#find_or_create_module_path-instance_method" title="RDoc::Parser::PrismRuby#find_or_create_module_path (method)">find_or_create_module_path</a></span>(<span class='id identifier rubyid_const_path'>const_path</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>module</span>)<span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_or_create_module_path-instance_method">
  <h3 class='signature '>
    #<strong>find_or_create_module_path</strong>(module_name, create_mode)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Find or create module or class from a given module name. If module or class does not exist, creates a module or a class according to <code>create_mode</code> argument.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L570-L599'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='570' data-end='599'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 570</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_or_create_module_path'>find_or_create_module_path</span>(<span class='id identifier rubyid_module_name'>module_name</span><span class='comma'>,</span> <span class='id identifier rubyid_create_mode'>create_mode</span>)
  <span class='id identifier rubyid_root_name'>root_name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_module_name'>module_name</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_add_module'>add_module</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span>) <span class='tlambeg'>{</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_mode'>mode</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>class</span>
      <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_add_class'>add_class</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span> }
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='kw'>module</span>
      <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_add_module'>add_module</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>).<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span> }
    <span class='kw'>end</span>
  }
  <span class='kw'>if</span> <span class='id identifier rubyid_root_name'>root_name</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='ivar'>@top_level</span>
  <span class='kw'>else</span>
    <span class='ivar'>@module_nesting</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_nesting'>nesting</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
      <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_nesting'>nesting</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_root_name'>root_name</span>)
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>
      <span class='comment'># If a constant is found and it is not a module or class, RDoc can&#39;t document about it.
</span>      <span class='comment'># Return an anonymous module to avoid wrong document creation.
</span>      <span class='kw'>return</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='kw'>nil</span>) <span class='kw'>if</span> <span class='id identifier rubyid_nesting'>nesting</span>.<span class='id identifier rubyid_find_constant_named'>find_constant_named</span>(<span class='id identifier rubyid_root_name'>root_name</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_last_nesting'>last_nesting</span><span class='comma'>,</span> <span class='op'>=</span> <span class='ivar'>@module_nesting</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span> }
    <span class='kw'>return</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>||</span> <span class='id identifier rubyid_add_module'>add_module</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_last_nesting'>last_nesting</span><span class='comma'>,</span> <span class='id identifier rubyid_root_name'>root_name</span><span class='comma'>,</span> <span class='id identifier rubyid_create_mode'>create_mode</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>||=</span> <span class='id identifier rubyid_add_module'>add_module</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_last_nesting'>last_nesting</span><span class='comma'>,</span> <span class='id identifier rubyid_root_name'>root_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>module</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_name'>name</span>) <span class='op'>||</span> <span class='id identifier rubyid_add_module'>add_module</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>module</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_name'>name</span>) <span class='op'>||</span> <span class='id identifier rubyid_add_module'>add_module</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_create_mode'>create_mode</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="handle_consecutive_comment_directive-instance_method">
  <h3 class='signature nodoc'>
    #<strong>handle_consecutive_comment_directive</strong>(code_object, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L229-L244'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='229' data-end='244'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_consecutive_comment_directive'>handle_consecutive_comment_directive</span>(<span class='id identifier rubyid_code_object'>code_object</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle'>handle</span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_code_object'>code_object</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_directive'>directive</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>singleton-method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='comment'># handled elsewhere
</span>      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>section</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_set_current_section'>set_current_section</span>(<span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_dup'>dup</span>)
      <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_remove_private'>remove_private</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="handle_meta_method_comment-instance_method">
  <h3 class='signature '>
    #<strong>handle_meta_method_comment</strong>(comment, node)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles meta method comments</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L260-L323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='260' data-end='323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 260</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_meta_method_comment'>handle_meta_method_comment</span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_is_call_node'>is_call_node</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Prism</span><span class='op'>::</span><span class='const'>CallNode</span>)
  <span class='id identifier rubyid_singleton_method'>singleton_method</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='ivar'>@visibility</span>
  <span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_processed_comment'>processed_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle'>handle</span>(<span class='id identifier rubyid_processed_comment'>processed_comment</span><span class='comma'>,</span> <span class='ivar'>@container</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_directive'>directive</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> [<span class='id identifier rubyid_param'>param</span>] <span class='kw'>if</span> <span class='id identifier rubyid_param'>param</span>
      <span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>||=</span> <span class='id identifier rubyid_call_node_name_arguments'><a href="#call_node_name_arguments-instance_method" title="RDoc::Parser::PrismRuby#call_node_name_arguments (method)">call_node_name_arguments</a></span>(<span class='id identifier rubyid_node'>node</span>) <span class='kw'>if</span> <span class='id identifier rubyid_is_call_node'>is_call_node</span>
      <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='id identifier rubyid_directive'>directive</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>W</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_directive'>directive</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&#39;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>method</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_param'>param</span>
      <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>singleton-method</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_param'>param</span>
      <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span>
      <span class='id identifier rubyid_singleton_method'>singleton_method</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>section</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_set_current_section'>set_current_section</span>(<span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_dup'>dup</span>)
      <span class='kw'>return</span> <span class='comment'># If the comment contains :section:, it is not a meta method comment
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_attributes'>attributes</span>
    <span class='id identifier rubyid_attributes'>attributes</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attr'>attr</span><span class='op'>|</span>
      <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_processed_comment'>processed_comment</span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='ivar'>@singleton</span>)
      <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
      <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
      <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_a'>a</span>)
      <span class='ivar'>@container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='id identifier rubyid_a'>a</span>)
      <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>||</span> <span class='id identifier rubyid_node'>node</span>
    <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>||=</span> <span class='id identifier rubyid_call_node_name_arguments'><a href="#call_node_name_arguments-instance_method" title="RDoc::Parser::PrismRuby#call_node_name_arguments (method)">call_node_name_arguments</a></span>(<span class='id identifier rubyid_node'>node</span>).<span class='id identifier rubyid_first'>first</span> <span class='kw'>if</span> <span class='id identifier rubyid_is_call_node'>is_call_node</span>
    <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='ivar'>@singleton</span> <span class='op'>||</span> <span class='id identifier rubyid_singleton_method'>singleton_method</span>)
    <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>
      <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> <span class='id identifier rubyid_visible_tokens_from_location'><a href="#visible_tokens_from_location-instance_method" title="RDoc::Parser::PrismRuby#visible_tokens_from_location (method)">visible_tokens_from_location</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_location'>location</span>)
      <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> [<span class='id identifier rubyid_file_line_comment_token'><a href="#file_line_comment_token-instance_method" title="RDoc::Parser::PrismRuby#file_line_comment_token (method)">file_line_comment_token</a></span>(<span class='id identifier rubyid_line_no'>line_no</span>)]
    <span class='kw'>end</span>
    <span class='id identifier rubyid_internal_add_method'><a href="#internal_add_method-instance_method" title="RDoc::Parser::PrismRuby#internal_add_method (method)">internal_add_method</a></span>(
      <span class='ivar'>@container</span><span class='comma'>,</span>
      <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span>
      <span class='label'>line_no:</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span>
      <span class='label'>visibility:</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span><span class='comma'>,</span>
      <span class='label'>params:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>()</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='label'>calls_super:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>block_params:</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='label'>tokens:</span> <span class='id identifier rubyid_tokens'>tokens</span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="handle_modifier_directive-instance_method">
  <h3 class='signature nodoc'>
    #<strong>handle_modifier_directive</strong>(code_object, line_no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L224-L227'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='224' data-end='227'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 224</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_modifier_directive'>handle_modifier_directive</span>(<span class='id identifier rubyid_code_object'>code_object</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='ivar'>@modifier_comments</span>[<span class='id identifier rubyid_line_no'>line_no</span>]
  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle'>handle</span>(<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_code_object'>code_object</span>) <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="handle_standalone_consecutive_comment_directive-instance_method">
  <h3 class='signature nodoc'>
    #<strong>handle_standalone_consecutive_comment_directive</strong>(comment, line_no, start_line)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L331-L345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='331' data-end='345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 331</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_standalone_consecutive_comment_directive'>handle_standalone_consecutive_comment_directive</span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='ivar'>@markup</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tomdoc</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_parse_comment_tomdoc'><a href="#parse_comment_tomdoc-instance_method" title="RDoc::Parser::PrismRuby#parse_comment_tomdoc (method)">parse_comment_tomdoc</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#\#$</span><span class='regexp_end'>/</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comment'>comment</span> <span class='op'>!=</span> <span class='ivar'>@first_non_meta_comment</span>
    <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='ivar'>@line_nodes</span>[<span class='id identifier rubyid_line_no'>line_no</span>]
    <span class='id identifier rubyid_handle_meta_method_comment'><a href="#handle_meta_method_comment-instance_method" title="RDoc::Parser::PrismRuby#handle_meta_method_comment (method)">handle_meta_method_comment</a></span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>elsif</span> <span class='id identifier rubyid_normal_comment_treat_as_ghost_method_for_now?'><a href="#normal_comment_treat_as_ghost_method_for_now%3F-instance_method" title="RDoc::Parser::PrismRuby#normal_comment_treat_as_ghost_method_for_now? (method)">normal_comment_treat_as_ghost_method_for_now?</a></span>(<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comment'>comment</span> <span class='op'>!=</span> <span class='ivar'>@first_non_meta_comment</span>
    <span class='id identifier rubyid_handle_meta_method_comment'><a href="#handle_meta_method_comment-instance_method" title="RDoc::Parser::PrismRuby#handle_meta_method_comment (method)">handle_meta_method_comment</a></span>(<span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="has_modifier_nodoc?-instance_method">
  <h3 class='signature nodoc'>
    #<strong>has_modifier_nodoc?</strong>(line_no)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L220-L222'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='220' data-end='222'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_has_modifier_nodoc?'>has_modifier_nodoc?</span>(<span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='ivar'>@modifier_comments</span>[<span class='id identifier rubyid_line_no'>line_no</span>]<span class='op'>&amp;.</span><span class='id identifier rubyid_text'>text</span><span class='op'>&amp;.</span><span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#\s*:nodoc:</span><span class='regexp_end'>/</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="internal_add_method-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>internal_add_method</strong>(container, meth, line_no:, visibility:, params:, calls_super:, block_params:, tokens:)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L550-L565'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='550' data-end='565'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 550</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_internal_add_method'>internal_add_method</span>(<span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='label'>line_no:</span><span class='comma'>,</span> <span class='label'>visibility:</span><span class='comma'>,</span> <span class='label'>params:</span><span class='comma'>,</span> <span class='label'>calls_super:</span><span class='comma'>,</span> <span class='label'>block_params:</span><span class='comma'>,</span> <span class='label'>tokens:</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>||=</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[^()\s]+</span><span class='regexp_end'>/</span></span>] <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unknown</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_store'>store</span> <span class='op'>=</span> <span class='ivar'>@store</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>.<span class='id identifier rubyid_add_method'><a href="#add_method-instance_method" title="RDoc::Parser::PrismRuby#add_method (method)">add_method</a></span>(<span class='id identifier rubyid_meth'>meth</span>) <span class='comment'># should add after setting singleton and before setting visibility
</span>  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span> <span class='op'>=</span> <span class='id identifier rubyid_visibility'><a href="#visibility-instance_method" title="RDoc::Parser::PrismRuby#visibility (method)">visibility</a></span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>||=</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_calls_super'>calls_super</span> <span class='op'>=</span> <span class='id identifier rubyid_calls_super'>calls_super</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>||=</span> <span class='id identifier rubyid_block_params'>block_params</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_params'>block_params</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_meth'>meth</span>)
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_token_stream'>token_stream</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_token'>token</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="normal_comment_treat_as_ghost_method_for_now?-instance_method">
  <h3 class='signature nodoc'>
    #<strong>normal_comment_treat_as_ghost_method_for_now?</strong>(comment_text, line_no)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L325-L329'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='325' data-end='329'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 325</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_normal_comment_treat_as_ghost_method_for_now?'>normal_comment_treat_as_ghost_method_for_now?</span>(<span class='id identifier rubyid_comment_text'>comment_text</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span>) <span class='comment'># :nodoc:
</span>  <span class='comment'># Meta method comment should start with `##` but some comments does not follow this rule.
</span>  <span class='comment'># For now, RDoc accepts them as a meta method comment if there is no node linked to it.
</span>  <span class='op'>!</span><span class='ivar'>@line_nodes</span>[<span class='id identifier rubyid_line_no'>line_no</span>] <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comment_text'>comment_text</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#\s+:(method|singleton-method|attr|attr_reader|attr_writer|attr_accessor):</span><span class='regexp_end'>/</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment_tomdoc-instance_method">
  <h3 class='signature '>
    #<strong>parse_comment_tomdoc</strong>(container, comment, line_no, start_line)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <code>RDoc::Method</code> on <a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">#container</a> from <code>comment</code> if there is a Signature section in the comment</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L197-L218'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='218'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment_tomdoc'>parse_comment_tomdoc</span>(<span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_signature'>signature</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../TomDoc.html" title="RDoc::TomDoc (class)">TomDoc</a></span>.<span class='id identifier rubyid_signature'>signature</span>(<span class='id identifier rubyid_comment'>comment</span>)

  <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>.<span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='regexp_beg'>%r%</span><span class='tstring_content'>[ \(]</span><span class='regexp_end'>%</span></span><span class='comma'>,</span> <span class='int'>2</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../GhostMethod.html" title="RDoc::GhostMethod (class)">GhostMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::PrismRuby#record_location (method)">record_location</a></span>(<span class='id identifier rubyid_meth'>meth</span>)
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_start_line'>start_line</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='ivar'>@line_nodes</span>[<span class='id identifier rubyid_line_no'>line_no</span>]
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span> <span class='op'>?</span> <span class='id identifier rubyid_visible_tokens_from_location'><a href="#visible_tokens_from_location-instance_method" title="RDoc::Parser::PrismRuby#visible_tokens_from_location (method)">visible_tokens_from_location</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_location'>location</span>) <span class='op'>:</span> [<span class='id identifier rubyid_file_line_comment_token'><a href="#file_line_comment_token-instance_method" title="RDoc::Parser::PrismRuby#file_line_comment_token (method)">file_line_comment_token</a></span>(<span class='id identifier rubyid_start_line'>start_line</span>)]
  <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_token_stream'>token_stream</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_token'>token</span> }

  <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>.<span class='id identifier rubyid_add_method'><a href="#add_method-instance_method" title="RDoc::Parser::PrismRuby#add_method (method)">add_method</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_remove_private'>remove_private</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'><a href="#add_method-instance_method" title="RDoc::Parser::PrismRuby#add_method (method)">add_method</a></span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepare_comments-instance_method">
  <h3 class='signature '>
    #<strong>prepare_comments</strong>(comments)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepares comments for processing. Comments are grouped into consecutive. Consecutive comment is linked to the next non-blank line.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>01</span><span class='op'>|</span> <span class='kw'>class</span> <span class='const'>A</span> <span class='comment'># modifier comment 1
</span><span class='int'>02</span><span class='op'>|</span>   <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span><span class='semicolon'>;</span> <span class='kw'>end</span> <span class='comment'># modifier comment 2
</span><span class='int'>03</span><span class='op'>|</span>
<span class='int'>04</span><span class='op'>|</span>   <span class='comment'># consecutive comment 1 start_line: 4
</span><span class='int'>05</span><span class='op'>|</span>   <span class='comment'># consecutive comment 1 linked to line: 7
</span><span class='int'>06</span><span class='op'>|</span>
<span class='int'>07</span><span class='op'>|</span>   <span class='comment'># consecutive comment 2 start_line: 7
</span><span class='int'>08</span><span class='op'>|</span>   <span class='comment'># consecutive comment 2 linked to line: 10
</span><span class='int'>09</span><span class='op'>|</span>
<span class='int'>10</span><span class='op'>|</span>   <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span><span class='semicolon'>;</span> <span class='kw'>end</span> <span class='comment'># consecutive comment 2 linked to this line
</span><span class='int'>11</span><span class='op'>|</span> <span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L145-L192'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='145' data-end='192'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 145</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_comments'>prepare_comments</span>(<span class='id identifier rubyid_comments'>comments</span>)
  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_consecutive_comments'>consecutive_comments</span> <span class='op'>=</span> [<span class='id identifier rubyid_current'>current</span>]
  <span class='ivar'>@modifier_comments</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Prism</span><span class='op'>::</span><span class='const'>EmbDocComment</span>
      <span class='id identifier rubyid_consecutive_comments'>consecutive_comments</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_comment'>comment</span>] <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> [])
    <span class='kw'>elsif</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line_slice'>start_line_slice</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\S</span><span class='regexp_end'>/</span></span>)
      <span class='ivar'>@modifier_comments</span>[<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>] <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_slice'>slice</span><span class='comma'>,</span> <span class='ivar'>@top_level</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ruby'>ruby</span>)
    <span class='kw'>elsif</span> <span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>+</span> <span class='int'>1</span> <span class='op'>==</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>
      <span class='id identifier rubyid_current'>current</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_consecutive_comments'>consecutive_comments</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> [<span class='id identifier rubyid_comment'>comment</span>])
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_consecutive_comments'>consecutive_comments</span>.<span class='id identifier rubyid_reject!'>reject!</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_empty?'>empty?</span>)

  <span class='comment'># Example: line_no = 5, start_line = 2, comment_text = &quot;# comment_start_line\n# comment\n&quot;
</span>  <span class='comment'># 1| class A
</span>  <span class='comment'># 2|   # comment_start_line
</span>  <span class='comment'># 3|   # comment
</span>  <span class='comment'># 4|
</span>  <span class='comment'># 5|   def f; end # comment linked to this line
</span>  <span class='comment'># 6| end
</span>  <span class='ivar'>@unprocessed_comments</span> <span class='op'>=</span> <span class='id identifier rubyid_consecutive_comments'>consecutive_comments</span>.<span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comments'>comments</span><span class='op'>|</span>
    <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>=</span> <span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>
    <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_line'>end_line</span> <span class='op'>+</span> (<span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_column'>end_column</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='int'>1</span>)
    <span class='id identifier rubyid_texts'>texts</span> <span class='op'>=</span> <span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Prism</span><span class='op'>::</span><span class='const'>EmbDocComment</span>) <span class='op'>?</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_slice'>slice</span>.<span class='id identifier rubyid_lines'>lines</span>[<span class='int'>1</span><span class='op'>...</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_join'>join</span> <span class='op'>:</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_slice'>slice</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_change_encoding'>change_encoding</span>(<span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span> <span class='ivar'>@encoding</span>) <span class='kw'>if</span> <span class='ivar'>@encoding</span>
    <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>while</span> <span class='ivar'>@lines</span>[<span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>-</span> <span class='int'>1</span>]<span class='op'>&amp;.</span><span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*$</span><span class='regexp_end'>/</span></span>)
    <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='ivar'>@top_level</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ruby'>ruby</span>)
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_start_line'>start_line</span>
    [<span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>]
  <span class='kw'>end</span>

  <span class='comment'># The first comment is special. It defines markup for the rest of the comments.
</span>  <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_first_comment_start_line'>first_comment_start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_first_comment_text'>first_comment_text</span> <span class='op'>=</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_first_comment_text'>first_comment_text</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@lines</span>[<span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_first_comment_start_line'>first_comment_start_line</span> <span class='op'>-</span> <span class='int'>1</span>].<span class='id identifier rubyid_all?'>all?</span> { <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*$</span><span class='regexp_end'>/</span></span>) }
    <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_first_comment_text'>first_comment_text</span>.<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='ivar'>@top_level</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ruby'>ruby</span>)
    <span class='id identifier rubyid_handle_consecutive_comment_directive'><a href="#handle_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_consecutive_comment_directive (method)">handle_consecutive_comment_directive</a></span>(<span class='ivar'>@container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
    <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_format'>format</span>
  <span class='kw'>end</span>
  <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='ivar'>@markup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepare_line_nodes-instance_method">
  <h3 class='signature nodoc'>
    #<strong>prepare_line_nodes</strong>(node)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Assign AST node to a line. This is used to show meta-method source code in the documentation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L119-L127'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='119' data-end='127'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 119</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_line_nodes'>prepare_line_nodes</span>(<span class='id identifier rubyid_node'>node</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
  <span class='kw'>when</span> <span class='const'>Prism</span><span class='op'>::</span><span class='const'>CallNode</span><span class='comma'>,</span> <span class='const'>Prism</span><span class='op'>::</span><span class='const'>DefNode</span>
    <span class='ivar'>@line_nodes</span>[<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>] <span class='op'>||=</span> <span class='id identifier rubyid_node'>node</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_compact_child_nodes'>compact_child_nodes</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
    <span class='id identifier rubyid_prepare_line_nodes'>prepare_line_nodes</span>(<span class='id identifier rubyid_child'>child</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="process_comments_until-instance_method">
  <h3 class='signature '>
    #<strong>process_comments_until</strong>(line_no_until)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Processes consecutive comments that were not linked to any documentable code until the given line number</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L349-L354'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='349' data-end='354'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 349</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_comments_until'>process_comments_until</span>(<span class='id identifier rubyid_line_no_until'>line_no_until</span>)
  <span class='kw'>while</span> <span class='op'>!</span><span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_first'>first</span>[<span class='int'>0</span>] <span class='op'>&lt;=</span> <span class='id identifier rubyid_line_no_until'>line_no_until</span>
    <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_rdoc_comment'>rdoc_comment</span> <span class='op'>=</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_handle_standalone_consecutive_comment_directive'><a href="#handle_standalone_consecutive_comment_directive-instance_method" title="RDoc::Parser::PrismRuby#handle_standalone_consecutive_comment_directive (method)">handle_standalone_consecutive_comment_directive</a></span>(<span class='id identifier rubyid_rdoc_comment'>rdoc_comment</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="record_location-instance_method">
  <h3 class='signature nodoc'>
    #<strong>record_location</strong>(container)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Records the location of this <a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">#container</a> in the file for this parser and adds it to the list of classes and modules in the file.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L80-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='80' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 80</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_record_location'>record_location</span>(<span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>
  <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../ClassModule.html" title="RDoc::ClassModule (class)">ClassModule</a></span> <span class='kw'>then</span>
    <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>.<span class='id identifier rubyid_record_location'>record_location</span> <span class='ivar'>@top_level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_constant_path-instance_method">
  <h3 class='signature '>
    #<strong>resolve_constant_path</strong>(constant_path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resolves constant path to a full path by searching module nesting</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L603-L614'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='603' data-end='614'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 603</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_constant_path'>resolve_constant_path</span>(<span class='id identifier rubyid_constant_path'>constant_path</span>)
  <span class='id identifier rubyid_owner_name'>owner_name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_constant_path'>constant_path</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_constant_path'>constant_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_owner_name'>owner_name</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># ::Foo, ::Foo::Bar
</span>  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@module_nesting</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_nesting'>nesting</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_nesting'>nesting</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_owner_name'>owner_name</span>)
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>||=</span> <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_owner_name'>owner_name</span>)
  [<span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>].<span class='id identifier rubyid_compact'>compact</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    #<strong>scan</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Scans this <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> file for <a href="Ruby.html" title="RDoc::Parser::Ruby (class)"><code>Ruby</code></a> constructs</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L91-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='91' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 91</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>
  <span class='ivar'>@tokens</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Parser.html" title="RDoc::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="RipperStateLex.html" title="RDoc::Parser::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='ivar'>@content</span>)
  <span class='ivar'>@lines</span> <span class='op'>=</span> <span class='ivar'>@content</span>.<span class='id identifier rubyid_lines'>lines</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>Prism</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='ivar'>@content</span>)
  <span class='ivar'>@program_node</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@line_nodes</span> <span class='op'>=</span> {}
  <span class='id identifier rubyid_prepare_line_nodes'><a href="#prepare_line_nodes-instance_method" title="RDoc::Parser::PrismRuby#prepare_line_nodes (method)">prepare_line_nodes</a></span>(<span class='ivar'>@program_node</span>)
  <span class='id identifier rubyid_prepare_comments'><a href="#prepare_comments-instance_method" title="RDoc::Parser::PrismRuby#prepare_comments (method)">prepare_comments</a></span>(<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_comments'>comments</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_done_documenting'>done_documenting</span>

  <span class='ivar'>@first_non_meta_comment</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> (<span class='id identifier rubyid__line_no'>_line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_rdoc_comment'>rdoc_comment</span> <span class='op'>=</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_first'>first</span>)
    <span class='ivar'>@first_non_meta_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_rdoc_comment'>rdoc_comment</span> <span class='kw'>if</span> <span class='id identifier rubyid_start_line'>start_line</span> <span class='op'>&lt;</span> <span class='ivar'>@program_node</span>.<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>
  <span class='kw'>end</span>

  <span class='ivar'>@program_node</span>.<span class='id identifier rubyid_accept'>accept</span>(<span class='const'><a href="PrismRuby/RDocVisitor.html" title="RDoc::Parser::PrismRuby::RDocVisitor (class)">RDocVisitor</a></span>.<span class='id identifier rubyid_new'><a href="PrismRuby/RDocVisitor.html#new-class_method" title="RDoc::Parser::PrismRuby::RDocVisitor.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='ivar'>@top_level</span><span class='comma'>,</span> <span class='ivar'>@store</span>))
  <span class='id identifier rubyid_process_comments_until'><a href="#process_comments_until-instance_method" title="RDoc::Parser::PrismRuby#process_comments_until (method)">process_comments_until</a></span>(<span class='ivar'>@lines</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="should_document?-instance_method">
  <h3 class='signature nodoc'>
    #<strong>should_document?</strong>(code_object)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L110-L114'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='114'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_should_document?'>should_document?</span>(<span class='id identifier rubyid_code_object'>code_object</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='ivar'>@track_visibility</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_code_object'>code_object</span>.<span class='id identifier rubyid_parent'>parent</span><span class='op'>&amp;.</span><span class='id identifier rubyid_document_children'>document_children</span> <span class='op'>==</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_code_object'>code_object</span>.<span class='id identifier rubyid_document_self'>document_self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_comments_until-instance_method">
  <h3 class='signature '>
    #<strong>skip_comments_until</strong>(line_no_until)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Skips all undocumentable consecutive comments until the given line number. Undocumentable comments are comments written inside <code>def</code> or inside undocumentable class/module</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L359-L363'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='359' data-end='363'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_comments_until'>skip_comments_until</span>(<span class='id identifier rubyid_line_no_until'>line_no_until</span>)
  <span class='kw'>while</span> <span class='op'>!</span><span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_first'>first</span>[<span class='int'>0</span>] <span class='op'>&lt;=</span> <span class='id identifier rubyid_line_no_until'>line_no_until</span>
    <span class='ivar'>@unprocessed_comments</span>.<span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="slice_tokens-instance_method">
  <h3 class='signature nodoc'>
    #<strong>slice_tokens</strong>(start_pos, end_pos)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L373-L379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_slice_tokens'>slice_tokens</span>(<span class='id identifier rubyid_start_pos'>start_pos</span><span class='comma'>,</span> <span class='id identifier rubyid_end_pos'>end_pos</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>=</span> <span class='ivar'>@tokens</span>.<span class='id identifier rubyid_bsearch_index'>bsearch_index</span> { <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> ([<span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_char_no'>char_no</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_start_pos'>start_pos</span>) <span class='op'>&gt;=</span> <span class='int'>0</span> }
  <span class='id identifier rubyid_end_index'>end_index</span> <span class='op'>=</span> <span class='ivar'>@tokens</span>.<span class='id identifier rubyid_bsearch_index'>bsearch_index</span> { <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> ([<span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_char_no'>char_no</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_end_pos'>end_pos</span>) <span class='op'>&gt;=</span> <span class='int'>0</span> }
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> <span class='ivar'>@tokens</span>[<span class='id identifier rubyid_start_index'>start_index</span><span class='op'>...</span><span class='id identifier rubyid_end_index'>end_index</span>]
  <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_last'>last</span><span class='op'>&amp;.</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span>
  <span class='id identifier rubyid_tokens'>tokens</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="visible_tokens_from_location-instance_method">
  <h3 class='signature '>
    #<strong>visible_tokens_from_location</strong>(location)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns tokens from the given location</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L389-L398'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='398'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_visible_tokens_from_location'>visible_tokens_from_location</span>(<span class='id identifier rubyid_location'>location</span>)
  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_file_line_comment_token'><a href="#file_line_comment_token-instance_method" title="RDoc::Parser::PrismRuby#file_line_comment_token (method)">file_line_comment_token</a></span>(<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span>)
  <span class='id identifier rubyid_newline_token'>newline_token</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Parser.html" title="RDoc::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="RipperStateLex.html" title="RDoc::Parser::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>Token</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_indent_token'>indent_token</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Parser.html" title="RDoc::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="RipperStateLex.html" title="RDoc::Parser::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>Token</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::PrismRuby.new (method)">new</a></span>(<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_character_column'>start_character_column</span>)
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> <span class='id identifier rubyid_slice_tokens'><a href="#slice_tokens-instance_method" title="RDoc::Parser::PrismRuby#slice_tokens (method)">slice_tokens</a></span>(
    [<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_line'>start_line</span><span class='comma'>,</span> <span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_start_character_column'>start_character_column</span>]<span class='comma'>,</span>
    [<span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_line'>end_line</span><span class='comma'>,</span> <span class='id identifier rubyid_location'>location</span>.<span class='id identifier rubyid_end_character_column'>end_character_column</span>]
  )
  [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='id identifier rubyid_newline_token'>newline_token</span><span class='comma'>,</span> <span class='id identifier rubyid_indent_token'>indent_token</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_tokens'>tokens</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_container-instance_method">
  <h3 class='signature '>
    #<strong>with_container</strong>(container, singleton: false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Dive into another container</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L53-L75'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='53' data-end='75'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 53</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_container'>with_container</span>(<span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span><span class='comma'>,</span> <span class='label'>singleton:</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_old_container'>old_container</span> <span class='op'>=</span> <span class='ivar'>@container</span>
  <span class='id identifier rubyid_old_visibility'>old_visibility</span> <span class='op'>=</span> <span class='ivar'>@visibility</span>
  <span class='id identifier rubyid_old_singleton'>old_singleton</span> <span class='op'>=</span> <span class='ivar'>@singleton</span>
  <span class='id identifier rubyid_old_in_proc_block'>old_in_proc_block</span> <span class='op'>=</span> <span class='ivar'>@in_proc_block</span>
  <span class='ivar'>@visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
  <span class='ivar'>@container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>
  <span class='ivar'>@singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
  <span class='ivar'>@in_proc_block</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>
    <span class='comment'># Need to update module parent chain to emulate Module.nesting.
</span>    <span class='comment'># This mechanism is inaccurate and needs to be fixed.
</span>    <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_old_container'>old_container</span>
  <span class='kw'>end</span>
  <span class='ivar'>@module_nesting</span>.<span class='id identifier rubyid_push'>push</span>([<span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'><a href="#singleton-instance_method" title="RDoc::Parser::PrismRuby#singleton (method)">singleton</a></span>])
  <span class='kw'>yield</span> <span class='id identifier rubyid_container'><a href="#container-instance_method" title="RDoc::Parser::PrismRuby#container (method)">container</a></span>
<span class='kw'>ensure</span>
  <span class='ivar'>@container</span> <span class='op'>=</span> <span class='id identifier rubyid_old_container'>old_container</span>
  <span class='ivar'>@visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_old_visibility'>old_visibility</span>
  <span class='ivar'>@singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_old_singleton'>old_singleton</span>
  <span class='ivar'>@in_proc_block</span> <span class='op'>=</span> <span class='id identifier rubyid_old_in_proc_block'>old_in_proc_block</span>
  <span class='ivar'>@module_nesting</span>.<span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_in_proc_block-instance_method">
  <h3 class='signature '>
    #<strong>with_in_proc_block</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Suppress <code>extend</code> and <code>include</code> within block because they might be a metaprogramming block example: <code>Module.new { include M }</code> ‘M.module_eval { include N }`</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v6.15.0/lib/rdoc/parser/prism_ruby.rb#L45-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/prism_ruby.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_in_proc_block'>with_in_proc_block</span>
  <span class='ivar'>@in_proc_block</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>yield</span>
  <span class='ivar'>@in_proc_block</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>