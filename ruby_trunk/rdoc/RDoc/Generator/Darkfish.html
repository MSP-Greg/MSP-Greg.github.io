<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Generator::Darkfish &mdash; rdoc  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Generator::Darkfish",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-master</a> &raquo; 
      <a href='../../'>rdoc</a> &raquo; 
      <a href='../../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
        <a href="../Generator.html" title="RDoc::Generator (module)">Generator</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Darkfish&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RDoc::Generator::Darkfish</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="Aliki.html" title="RDoc::Generator::Aliki (class)">Aliki</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          ERB::Util
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L55'>lib/rdoc/generator/darkfish.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>Darkfish</code> RDoc HTML Generator</p>

<p>$Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant $</p>

<h3 id="label-Author-2Fs">Author/s</h3>
<ul><li>
<p>Michael Granger (ged@FaerieMUD.org)</p>
</li></ul>

<h3 id="label-Contributors">Contributors</h3>
<ul><li>
<p>Mahlon E. Smith (mahlon@martini.nu)</p>
</li><li>
<p>Eric Hodel (drbrain@segment7.net)</p>
</li></ul>

<h3 id="label-License">License</h3>

<p>Copyright © 2007, 2008, Michael Granger. All rights reserved.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ul><li>
<p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
</li><li>
<p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
</li><li>
<p>Neither the name of the author/s, nor the names of the project’s contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p>
</li></ul>

<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

<h3 id="label-Attributions">Attributions</h3>

<p><code>Darkfish</code> uses the <a href="http://www.famfamfam.com/lab/icons/silk" target="_parent" title="/ Silk Icons">/ Silk Icons</a> set by Mark James.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='BUILTIN_STYLE_ITEMS-constant' class='summary_signature nodoc'>BUILTIN_STYLE_ITEMS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Stylesheets, fonts, etc. that are included in <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a>.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L64-L74'># File 'lib/rdoc/generator/darkfish.rb', line 64</a>    <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w[</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>css/fonts.css</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/Lato-Light.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/Lato-LightItalic.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/Lato-Regular.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/Lato-RegularItalic.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/SourceCodePro-Bold.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>fonts/SourceCodePro-Regular.ttf</span><span class='words_sep'>
</span><span class='words_sep'>    </span><span class='tstring_content'>css/rdoc.css</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span></pre>
  </li>
  <li>
    <span id='DESCRIPTION-constant' class='summary_signature'>DESCRIPTION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Description of this generator</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L84-L84'># File 'lib/rdoc/generator/darkfish.rb', line 84</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTML generator, written by Michael Granger</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='ParagraphExcerptRegexpOther-constant' class='summary_signature nodoc'>ParagraphExcerptRegexpOther =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L704-L704'># File 'lib/rdoc/generator/darkfish.rb', line 704</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>%r[</span><span class='tstring_content'>\b\w[^./:]++\.</span><span class='regexp_end'>]</span></span></pre>
  </li>
  <li>
    <span id='ParagraphExcerptRegexpUnicode-constant' class='summary_signature nodoc'>ParagraphExcerptRegexpUnicode =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>use p/P<code>letter</code> instead of w/W in Unicode</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L706-L706'># File 'lib/rdoc/generator/darkfish.rb', line 706</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>%r[</span><span class='tstring_content'>\b\p{letter}[^./:]++\.</span><span class='regexp_end'>]</span></span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Release Version</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L79-L79'># File 'lib/rdoc/generator/darkfish.rb', line 79</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(store, options)  &#x21d2; Darkfish </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initialize a few instance variables before we start.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#asset_rel_path-instance_method" title="#asset_rel_path (instance method)">#<strong>asset_rel_path</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The relative path to style sheets and javascript.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#base_dir-instance_method" title="#base_dir (instance method)">#<strong>base_dir</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The path to generate files into, combined with <code>--op</code> from the options for a full path.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#classes-instance_method" title="#classes (instance method)">#<strong>classes</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Classes and modules to be used by this generator, not necessarily displayed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#dry_run-instance_method" title="#dry_run (instance method)">#<strong>dry_run</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>No files will be written when dry_run is true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#file_output-instance_method" title="#file_output (instance method)">#<strong>file_output</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>When false the generate methods return a String instead of writing to a file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#files-instance_method" title="#files (instance method)">#<strong>files</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Files to be displayed by this generator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#json_index-instance_method" title="#json_index (instance method)">#<strong>json_index</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The JSON index generator for this <code>Darkfish</code> generator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#methods-instance_method" title="#methods (instance method)">#<strong>methods</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Methods to be displayed by this generator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#modsort-instance_method" title="#modsort (instance method)">#<strong>modsort</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sorted list of classes and modules to be displayed by this generator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#outputdir-instance_method" title="#outputdir (instance method)">#<strong>outputdir</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The output directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The <a href="../Store.html" title="RDoc::Store (class)"><code>::RDoc::Store</code></a> that is the source of the generated content.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#template_dir-instance_method" title="#template_dir (instance method)">#<strong>template_dir</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The directory where the template files live.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#assemble_template-instance_method" title="#assemble_template (instance method)">#<strong>assemble_template</strong>(body_file)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a template from its components and the <code>body_file</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#copy_static-instance_method" title="#copy_static (instance method)">#<strong>copy_static</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Copies static files from the static_path into the output directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug_msg-instance_method" title="#debug_msg (instance method)">#<strong>debug_msg</strong>(*msg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Output progress information if debugging is enabled.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#excerpt-instance_method" title="#excerpt (instance method)">#<strong>excerpt</strong>(comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an excerpt of the comment for usage in meta description tags.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gen_sub_directories-instance_method" title="#gen_sub_directories (instance method)">#<strong>gen_sub_directories</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create the directories the generated docs will live in if they don’t already exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate-instance_method" title="#generate (instance method)">#<strong>generate</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Build the initial indices and output objects based on an array of <a href="../TopLevel.html" title="RDoc::TopLevel (class)"><code>::RDoc::TopLevel</code></a> objects containing the extracted information.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_ancestor_list-instance_method" title="#generate_ancestor_list (instance method)">#<strong>generate_ancestor_list</strong>(ancestors, klass)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_class-instance_method" title="#generate_class (instance method)">#<strong>generate_class</strong>(klass, template_file = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates a class file for <code>klass</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_class_files-instance_method" title="#generate_class_files (instance method)">#<strong>generate_class_files</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a documentation file for each class and module.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_class_index_content-instance_method" title="#generate_class_index_content (instance method)">#<strong>generate_class_index_content</strong>(classes, rel_prefix)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_class_link-instance_method" title="#generate_class_link (instance method)">#<strong>generate_class_link</strong>(klass, rel_prefix)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_file_files-instance_method" title="#generate_file_files (instance method)">#<strong>generate_file_files</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a documentation file for each file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_index-instance_method" title="#generate_index (instance method)">#<strong>generate_index</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate an index page which lists all the classes which are documented.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_page-instance_method" title="#generate_page (instance method)">#<strong>generate_page</strong>(file)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate a page file for <code>file</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_servlet_not_found-instance_method" title="#generate_servlet_not_found (instance method)">#<strong>generate_servlet_not_found</strong>(message)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates the 404 page for the <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a> servlet.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_servlet_root-instance_method" title="#generate_servlet_root (instance method)">#<strong>generate_servlet_root</strong>(installed)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates the servlet root page for the <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a> servlet.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#generate_table_of_contents-instance_method" title="#generate_table_of_contents (instance method)">#<strong>generate_table_of_contents</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generate an index page which lists all the classes which are documented.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_sorted_module_list-instance_method" title="#get_sorted_module_list (instance method)">#<strong>get_sorted_module_list</strong>(classes)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a list of the documented modules sorted by salience first, then by name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group_classes_by_namespace_for_sidebar-instance_method" title="#group_classes_by_namespace_for_sidebar (instance method)">#<strong>group_classes_by_namespace_for_sidebar</strong>(classes)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#render-instance_method" title="#render (instance method)">#<strong>render</strong>(file_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Renders the ERb contained in <code>file_name</code> relative to the template directory and returns the result based on the current context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#render_template-instance_method" title="#render_template (instance method)">#<strong>render_template</strong>(template_file, out_file = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Load and render the erb template in the given <code>template_file</code> and write it out to <code>out_file</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepares for generation of output from the current directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#template_for-instance_method" title="#template_for (instance method)">#<strong>template_for</strong>(file, page = true, klass = ERB)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Retrieves a cache template for <code>file</code>, if present, or fills the cache.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#template_result-instance_method" title="#template_result (instance method)">#<strong>template_result</strong>(template, context, template_file)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates the result for <code>template</code> with <code>context</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#traverse_classes-instance_method" title="#traverse_classes (instance method)">#<strong>traverse_classes</strong>(klasses, grouped_classes, rel_prefix, solo = false)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#write_style_sheet-instance_method" title="#write_style_sheet (instance method)">#<strong>write_style_sheet</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Copy over the stylesheet into the appropriate place in the output directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#generate_nesting_namespaces_breadcrumb-instance_method" title="#generate_nesting_namespaces_breadcrumb (instance method)">#<strong>generate_nesting_namespaces_breadcrumb</strong>(klass, rel_prefix)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#nesting_namespaces_to_class_modules-instance_method" title="#nesting_namespaces_to_class_modules (instance method)">#<strong>nesting_namespaces_to_class_modules</strong>(klass)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#install_rdoc_static_file-instance_method" title="#install_rdoc_static_file (instance method)">#<strong>install_rdoc_static_file</strong>(source, destination, options)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(store, options)  &#x21d2; <code>Darkfish</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initialize a few instance variables before we start</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L153-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='153' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 153</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_store'><a href="#store-instance_method" title="RDoc::Generator::Darkfish#store (method)">store</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
  <span class='ivar'>@store</span>   <span class='op'>=</span> <span class='id identifier rubyid_store'><a href="#store-instance_method" title="RDoc::Generator::Darkfish#store (method)">store</a></span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>

  <span class='ivar'>@asset_rel_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@base_dir</span>       <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_pwd'>pwd</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>
  <span class='ivar'>@dry_run</span>        <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_dry_run'><a href="#dry_run-instance_method" title="RDoc::Generator::Darkfish#dry_run (method)">dry_run</a></span>
  <span class='ivar'>@file_output</span>    <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@template_dir</span>   <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_template_dir'><a href="#template_dir-instance_method" title="RDoc::Generator::Darkfish#template_dir (method)">template_dir</a></span>
  <span class='ivar'>@template_cache</span> <span class='op'>=</span> {}

  <span class='ivar'>@classes</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@files</span>   <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@methods</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@modsort</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@json_index</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Generator.html" title="RDoc::Generator (module)">Generator</a></span><span class='op'>::</span><span class='const'><a href="JsonIndex.html" title="RDoc::Generator::JsonIndex (class)">JsonIndex</a></span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="asset_rel_path-instance_method">
  <h3 class='signature rw first'>
    #<strong>asset_rel_path</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The relative path to style sheets and javascript.  By default this is set the same as the rel_prefix.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L90-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='90' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 90</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_path'>asset_rel_path</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="base_dir-instance_method">
  <h3 class='signature ro'>
    #<strong>base_dir</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The path to generate files into, combined with <code>--op</code> from the options for a full path.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L96-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='96' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_base_dir'>base_dir</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="classes-instance_method">
  <h3 class='signature ro'>
    #<strong>classes</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Classes and modules to be used by this generator, not necessarily displayed.  See also <a href="#modsort-instance_method" title="RDoc::Generator::Darkfish#modsort (method)">#modsort</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L102-L102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='102'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_classes'>classes</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dry_run-instance_method">
  <h3 class='signature rw'>
    #<strong>dry_run</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>No files will be written when dry_run is true.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L107-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='107' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 107</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dry_run'>dry_run</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="file_output-instance_method">
  <h3 class='signature rw'>
    #<strong>file_output</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When false the generate methods return a String instead of writing to a file.  The default is true.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L113-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='113' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_file_output'>file_output</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="files-instance_method">
  <h3 class='signature ro'>
    #<strong>files</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Files to be displayed by this generator</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L118-L118'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='118'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_files'>files</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="json_index-instance_method">
  <h3 class='signature ro'>
    #<strong>json_index</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The JSON index generator for this <code>Darkfish</code> generator</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L123-L123'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='123'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_json_index'>json_index</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="methods-instance_method">
  <h3 class='signature ro'>
    #<strong>methods</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Methods to be displayed by this generator</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L128-L128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='128' data-end='128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 128</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_methods'>methods</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="modsort-instance_method">
  <h3 class='signature ro'>
    #<strong>modsort</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sorted list of classes and modules to be displayed by this generator</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L133-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='133' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 133</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_modsort'>modsort</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="outputdir-instance_method">
  <h3 class='signature ro'>
    #<strong>outputdir</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The output directory</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L148-L148'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='148' data-end='148'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 148</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_outputdir'>outputdir</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="store-instance_method">
  <h3 class='signature ro'>
    #<strong>store</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <a href="../Store.html" title="RDoc::Store (class)"><code>::RDoc::Store</code></a> that is the source of the generated content</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L138-L138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='138' data-end='138'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_store'>store</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="template_dir-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>template_dir</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The directory where the template files live</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L143-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='143' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 143</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_template_dir'>template_dir</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="assemble_template-instance_method">
  <h3 class='signature  first'>
    #<strong>assemble_template</strong>(body_file)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a template from its components and the <code>body_file</code>.</p>

<p>For backwards compatibility, if <code>body_file</code> contains “&lt;html” the body is used directly.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L595-L610'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='595' data-end='610'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 595</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_assemble_template'>assemble_template</span>(<span class='id identifier rubyid_body_file'>body_file</span>)
  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_body_file'>body_file</span>.<span class='id identifier rubyid_read'>read</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_body'>body</span> <span class='kw'>if</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;html</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_head_file'>head_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_head.rhtml</span><span class='tstring_end'>&#39;</span></span>

  <span class='heredoc_beg'>&lt;&lt;-TEMPLATE</span>
<span class='tstring_content'>&lt;!DOCTYPE html&gt;

&lt;html lang=&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@options</span>.<span class='id identifier rubyid_locale'>locale</span><span class='op'>&amp;.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>en</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;&gt;
&lt;head&gt;
</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_head_file'>head_file</span>.<span class='id identifier rubyid_read'>read</span><span class='embexpr_end'>}</span><span class='tstring_content'>

</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_body'>body</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  TEMPLATE
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="copy_static-instance_method">
  <h3 class='signature '>
    #<strong>copy_static</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Copies static files from the static_path into the output directory</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L243-L266'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='243' data-end='266'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 243</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_copy_static'>copy_static</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_static_path'>static_path</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_fu_options'>fu_options</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=&gt;</span> <span class='gvar'>$DEBUG_RDOC</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_noop'>noop</span> <span class='op'>=&gt;</span> <span class='ivar'>@dry_run</span> }

  <span class='ivar'>@options</span>.<span class='id identifier rubyid_static_path'>static_path</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>then</span>
      <span class='const'>FileUtils</span>.<span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='ivar'>@outputdir</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_fu_options'>fu_options</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=&gt;</span> <span class='int'>0644</span>)
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='const'>Dir</span>.<span class='id identifier rubyid_chdir'>chdir</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>do</span>
      <span class='const'>Dir</span>[<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>**</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
        <span class='id identifier rubyid_dest_file'>dest_file</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span> <span class='op'>+</span> <span class='id identifier rubyid_entry'>entry</span>

        <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span> <span class='id identifier rubyid_entry'>entry</span> <span class='kw'>then</span>
          <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_entry'>entry</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_fu_options'>fu_options</span>
        <span class='kw'>else</span>
          <span class='const'>FileUtils</span>.<span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_entry'>entry</span><span class='comma'>,</span> <span class='id identifier rubyid_dest_file'>dest_file</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_fu_options'>fu_options</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=&gt;</span> <span class='int'>0644</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_msg-instance_method">
  <h3 class='signature '>
    #<strong>debug_msg</strong>(*msg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Output progress information if debugging is enabled</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L176-L179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='176' data-end='179'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 176</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_msg'>debug_msg</span> <span class='op'>*</span><span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='gvar'>$DEBUG_RDOC</span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='op'>*</span><span class='id identifier rubyid_msg'>msg</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="excerpt-instance_method">
  <h3 class='signature '>
    #<strong>excerpt</strong>(comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an excerpt of the comment for usage in meta description tags</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L710-L736'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='710' data-end='736'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 710</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_excerpt'>excerpt</span>(<span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>end</span>

  <span class='comment'># Match from a capital letter to the first period, discarding any links, so
</span>  <span class='comment'># that we don&#39;t end up matching badges in the README
</span>  <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='const'><a href="#ParagraphExcerptRegexpUnicode-constant" title="RDoc::Generator::Darkfish::ParagraphExcerptRegexpUnicode (constant)">ParagraphExcerptRegexpUnicode</a></span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_first_paragraph_match'>first_paragraph_match</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_match'>match</span>(<span class='id identifier rubyid_pattern'>pattern</span>)
  <span class='kw'>rescue</span> <span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span><span class='op'>::</span><span class='const'>CompatibilityError</span>
    <span class='comment'># The doc is non-ASCII text and encoded in other than Unicode base encodings.
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>==</span> <span class='const'><a href="#ParagraphExcerptRegexpOther-constant" title="RDoc::Generator::Darkfish::ParagraphExcerptRegexpOther (constant)">ParagraphExcerptRegexpOther</a></span>
    <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='const'><a href="#ParagraphExcerptRegexpOther-constant" title="RDoc::Generator::Darkfish::ParagraphExcerptRegexpOther (constant)">ParagraphExcerptRegexpOther</a></span>
    <span class='kw'>retry</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_text'>text</span>[<span class='int'>0</span><span class='op'>...</span><span class='int'>150</span>].<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_first_paragraph_match'>first_paragraph_match</span>

  <span class='id identifier rubyid_extracted_text'>extracted_text</span> <span class='op'>=</span> <span class='id identifier rubyid_first_paragraph_match'>first_paragraph_match</span>[<span class='int'>0</span>]
  <span class='id identifier rubyid_second_paragraph'>second_paragraph</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_match'>match</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_first_paragraph_match'>first_paragraph_match</span>.<span class='id identifier rubyid_end'>end</span>(<span class='int'>0</span>))
  <span class='id identifier rubyid_extracted_text'>extracted_text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_second_paragraph'>second_paragraph</span>[<span class='int'>0</span>] <span class='kw'>if</span> <span class='id identifier rubyid_second_paragraph'>second_paragraph</span>

  <span class='id identifier rubyid_extracted_text'>extracted_text</span>[<span class='int'>0</span><span class='op'>...</span><span class='int'>150</span>].<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gen_sub_directories-instance_method">
  <h3 class='signature '>
    #<strong>gen_sub_directories</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create the directories the generated docs will live in if they don’t already exist.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L185-L187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='185' data-end='187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 185</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gen_sub_directories'>gen_sub_directories</span>
  <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_mkpath'>mkpath</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate-instance_method">
  <h3 class='signature '>
    #<strong>generate</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Build the initial indices and output objects based on an array of <a href="../TopLevel.html" title="RDoc::TopLevel (class)"><code>::RDoc::TopLevel</code></a> objects containing the extracted information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L219-L238'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='219' data-end='238'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 219</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span>
  <span class='id identifier rubyid_setup'><a href="#setup-instance_method" title="RDoc::Generator::Darkfish#setup (method)">setup</a></span>

  <span class='id identifier rubyid_write_style_sheet'><a href="#write_style_sheet-instance_method" title="RDoc::Generator::Darkfish#write_style_sheet (method)">write_style_sheet</a></span>
  <span class='id identifier rubyid_generate_index'><a href="#generate_index-instance_method" title="RDoc::Generator::Darkfish#generate_index (method)">generate_index</a></span>
  <span class='id identifier rubyid_generate_class_files'><a href="#generate_class_files-instance_method" title="RDoc::Generator::Darkfish#generate_class_files (method)">generate_class_files</a></span>
  <span class='id identifier rubyid_generate_file_files'><a href="#generate_file_files-instance_method" title="RDoc::Generator::Darkfish#generate_file_files (method)">generate_file_files</a></span>
  <span class='id identifier rubyid_generate_table_of_contents'><a href="#generate_table_of_contents-instance_method" title="RDoc::Generator::Darkfish#generate_table_of_contents (method)">generate_table_of_contents</a></span>
  <span class='ivar'>@json_index</span>.<span class='id identifier rubyid_generate'>generate</span>
  <span class='ivar'>@json_index</span>.<span class='id identifier rubyid_generate_gzipped'>generate_gzipped</span>

  <span class='id identifier rubyid_copy_static'><a href="#copy_static-instance_method" title="RDoc::Generator::Darkfish#copy_static (method)">copy_static</a></span>

<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s: %s\n  %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [
    <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n  </span><span class='tstring_end'>&quot;</span></span>)
  ]

  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_ancestor_list-instance_method">
  <h3 class='signature '>
    #<strong>generate_ancestor_list</strong>(ancestors, klass)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L738-L754'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='738' data-end='754'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 738</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_ancestor_list'>generate_ancestor_list</span>(<span class='id identifier rubyid_ancestors'>ancestors</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span>)
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ancestors'>ancestors</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_ancestor'>ancestor</span> <span class='op'>=</span> <span class='id identifier rubyid_ancestors'>ancestors</span>.<span class='id identifier rubyid_shift'>shift</span>
  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;ul&gt;&lt;li&gt;</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ancestor'>ancestor</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span>)
    <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a href=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_aref_to'>aref_to</span> <span class='id identifier rubyid_ancestor'>ancestor</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ancestor'>ancestor</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_ancestor'>ancestor</span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>

  <span class='comment'># Recursively call the method for the remaining ancestors
</span>  <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_generate_ancestor_list'>generate_ancestor_list</span>(<span class='id identifier rubyid_ancestors'>ancestors</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span>)

  <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/li&gt;&lt;/ul&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_class-instance_method">
  <h3 class='signature '>
    #<strong>generate_class</strong>(klass, template_file = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates a class file for <code>klass</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L316-L345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='316' data-end='345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_class'>generate_class</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='comment'># This is used to auto-collapse Pages section on class/module pages
</span>  <span class='ivar'>@inside_class_file</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>

  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>||=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>class.rhtml</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  working on %s (%s)</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [<span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_path'>path</span>]
  <span class='id identifier rubyid_out_file'>out_file</span>   <span class='op'>=</span> <span class='ivar'>@outputdir</span> <span class='op'>+</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='ivar'>@asset_rel_path</span>

  <span class='id identifier rubyid_breadcrumb'>breadcrumb</span> <span class='op'>=</span> <span class='comment'># used in templates
</span>  <span class='id identifier rubyid_breadcrumb'>breadcrumb</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_nesting_namespaces_breadcrumb'><a href="#generate_nesting_namespaces_breadcrumb-instance_method" title="RDoc::Generator::Darkfish#generate_nesting_namespaces_breadcrumb (method)">generate_nesting_namespaces_breadcrumb</a></span>(<span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='ivar'>@options</span>.<span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  rendering </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_out_file'>out_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
    <span class='comment'># suppress 1.9.3 warning
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
    <span class='id identifier rubyid_here'>here</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@inside_class_file</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_class_files-instance_method">
  <h3 class='signature '>
    #<strong>generate_class_files</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a documentation file for each class and module</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L350-L372'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='350' data-end='372'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 350</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_class_files'>generate_class_files</span>
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>class.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>classpage.rhtml</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>
  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generating class documentation in </span><span class='embexpr_beg'>#{</span><span class='ivar'>@outputdir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='comment'># Document files are generated only for non-alias classes/modules
</span>  <span class='ivar'>@classes</span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_is_alias_for'>is_alias_for</span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span>

    <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>

    <span class='id identifier rubyid_generate_class'><a href="#generate_class-instance_method" title="RDoc::Generator::Darkfish#generate_class (method)">generate_class</a></span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_template_file'>template_file</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_class_index_content-instance_method">
  <h3 class='signature '>
    #<strong>generate_class_index_content</strong>(classes, rel_prefix)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L764-L770'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='764' data-end='770'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 764</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_class_index_content'>generate_class_index_content</span>(<span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)
  <span class='id identifier rubyid_grouped_classes'>grouped_classes</span> <span class='op'>=</span> <span class='id identifier rubyid_group_classes_by_namespace_for_sidebar'><a href="#group_classes_by_namespace_for_sidebar-instance_method" title="RDoc::Generator::Darkfish#group_classes_by_namespace_for_sidebar (method)">group_classes_by_namespace_for_sidebar</a></span>(<span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span>)
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_top'>top</span> <span class='op'>=</span> <span class='id identifier rubyid_grouped_classes'>grouped_classes</span>[<span class='kw'>nil</span>]

  <span class='id identifier rubyid_solo'>solo</span> <span class='op'>=</span> <span class='id identifier rubyid_top'>top</span>.<span class='id identifier rubyid_one?'>one?</span> { <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_display?'>display?</span> }
  <span class='id identifier rubyid_traverse_classes'><a href="#traverse_classes-instance_method" title="RDoc::Generator::Darkfish#traverse_classes (method)">traverse_classes</a></span>(<span class='id identifier rubyid_top'>top</span><span class='comma'>,</span> <span class='id identifier rubyid_grouped_classes'>grouped_classes</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_solo'>solo</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_class_link-instance_method">
  <h3 class='signature '>
    #<strong>generate_class_link</strong>(klass, rel_prefix)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L756-L762'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='756' data-end='762'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 756</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_class_link'>generate_class_link</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_display?'>display?</span>
    <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>&lt;code&gt;&lt;a href=&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rel_prefix'>rel_prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/a&gt;&lt;/code&gt;</span><span class='tstring_end'>)</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>&lt;code&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/code&gt;</span><span class='tstring_end'>)</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_file_files-instance_method">
  <h3 class='signature '>
    #<strong>generate_file_files</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a documentation file for each file</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L377-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='377' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 377</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_file_files'>generate_file_files</span>
  <span class='id identifier rubyid_page_file'>page_file</span>     <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>page.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_fileinfo_file'>fileinfo_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fileinfo.rhtml</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># for legacy templates
</span>  <span class='id identifier rubyid_filepage_file'>filepage_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filepage.rhtml</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_page_file'>page_file</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='kw'>or</span> <span class='id identifier rubyid_fileinfo_file'>fileinfo_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='kw'>return</span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_page_file'>page_file</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='kw'>or</span> <span class='id identifier rubyid_fileinfo_file'>fileinfo_file</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='kw'>or</span> <span class='id identifier rubyid_filepage_file'>filepage_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generating file documentation in </span><span class='embexpr_beg'>#{</span><span class='ivar'>@outputdir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@files</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_text?'>text?</span> <span class='kw'>and</span> <span class='id identifier rubyid_page_file'>page_file</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_generate_page'><a href="#generate_page-instance_method" title="RDoc::Generator::Darkfish#generate_page (method)">generate_page</a></span> <span class='id identifier rubyid_file'>file</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span> <span class='op'>+</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  working on %s (%s)</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [<span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span>]
    <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>
    <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
    <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

    <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='ivar'>@asset_rel_path</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_filepage_file'>filepage_file</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_text?'>text?</span> <span class='kw'>then</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_page_file'>page_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>
        <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='id identifier rubyid_page_file'>page_file</span>
        <span class='ivar'>@title</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_page_name'>page_name</span>
      <span class='kw'>else</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_fileinfo_file'>fileinfo_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>
        <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='id identifier rubyid_fileinfo_file'>fileinfo_file</span>
        <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_base_name'>base_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='ivar'>@title</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='ivar'>@options</span>.<span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>||=</span> <span class='id identifier rubyid_filepage_file'>filepage_file</span>

    <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
      <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
      <span class='comment'># suppress 1.9.3 warning
</span>      <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
      <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='id identifier rubyid_current'>current</span>)
      <span class='id identifier rubyid_here'>here</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span>
    <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_out_file'>out_file</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_index-instance_method">
  <h3 class='signature '>
    #<strong>generate_index</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate an index page which lists all the classes which are documented.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L281-L311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='281' data-end='311'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 281</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_index'>generate_index</span>
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rendering the index page...</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='ivar'>@base_dir</span> <span class='op'>+</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_op_dir'>op_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index.html</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='ivar'>@asset_rel_path</span>

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_title'>title</span>
  <span class='ivar'>@main_page</span> <span class='op'>=</span> <span class='ivar'>@files</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>==</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_main_page'>main_page</span> }

  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
    <span class='comment'># suppress 1.9.3 warning
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
    <span class='comment'># some partials rely on the presence of current variable to render
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='ivar'>@main_page</span>) <span class='kw'>if</span> <span class='ivar'>@main_page</span>
    <span class='id identifier rubyid_here'>here</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating index.html: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_nesting_namespaces_breadcrumb-instance_method">
  <h3 class='signature priv'>
    #<strong>generate_nesting_namespaces_breadcrumb</strong>(klass, rel_prefix)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L812-L817'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='812' data-end='817'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 812</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_nesting_namespaces_breadcrumb'>generate_nesting_namespaces_breadcrumb</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)
  <span class='id identifier rubyid_nesting_namespaces_to_class_modules'><a href="#nesting_namespaces_to_class_modules-instance_method" title="RDoc::Generator::Darkfish#nesting_namespaces_to_class_modules (method)">nesting_namespaces_to_class_modules</a></span>(<span class='id identifier rubyid_klass'>klass</span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_class_module'>class_module</span><span class='op'>|</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_class_module'>class_module</span> <span class='op'>?</span> (<span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='id identifier rubyid_class_module'>class_module</span>.<span class='id identifier rubyid_path'>path</span>).<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    { <span class='label'>name:</span> <span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>self:</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>==</span> <span class='id identifier rubyid_class_module'>class_module</span><span class='op'>&amp;.</span><span class='id identifier rubyid_full_name'>full_name</span> }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_page-instance_method">
  <h3 class='signature '>
    #<strong>generate_page</strong>(file)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate a page file for <code>file</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L444-L466'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='444' data-end='466'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 444</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_page'>generate_page</span>(<span class='id identifier rubyid_file'>file</span>)
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>page.rhtml</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span> <span class='op'>+</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  working on %s (%s)</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [<span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span>]
  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='id identifier rubyid_current'>current</span>          <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>
  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='ivar'>@asset_rel_path</span>

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_page_name'>page_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='ivar'>@options</span>.<span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  rendering </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_out_file'>out_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
    <span class='comment'># suppress 1.9.3 warning
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='id identifier rubyid_current'>current</span>)
    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
    <span class='id identifier rubyid_here'>here</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_servlet_not_found-instance_method">
  <h3 class='signature '>
    #<strong>generate_servlet_not_found</strong>(message)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates the 404 page for the <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a> servlet</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L471-L497'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='471' data-end='497'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 471</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_servlet_not_found'>generate_servlet_not_found</span>(<span class='id identifier rubyid_message'>message</span>)
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>servlet_not_found.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rendering the servlet 404 Not Found page...</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Not Found</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
    <span class='comment'># suppress 1.9.3 warning
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
    <span class='id identifier rubyid_here'>here</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating servlet_not_found: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_servlet_root-instance_method">
  <h3 class='signature '>
    #<strong>generate_servlet_root</strong>(installed)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates the servlet root page for the <a href="../RDoc.html" title="RDoc::RDoc (class)"><code>::RDoc::RDoc</code></a> servlet</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L502-L522'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='502' data-end='522'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 502</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_servlet_root'>generate_servlet_root</span>(<span class='id identifier rubyid_installed'>installed</span>)
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>servlet_root.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rendering the servlet root page...</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Local RDoc Documentation</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span> <span class='id identifier rubyid_binding'>binding</span> <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating servlet_root: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_table_of_contents-instance_method">
  <h3 class='signature '>
    #<strong>generate_table_of_contents</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generate an index page which lists all the classes which are documented.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L527-L554'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='527' data-end='554'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 527</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_table_of_contents'>generate_table_of_contents</span>
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>table_of_contents.rhtml</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rendering the Table of Contents...</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>table_of_contents.html</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>=</span> <span class='ivar'>@outputdir</span>.<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>
  <span class='id identifier rubyid_search_index_rel_prefix'>search_index_rel_prefix</span> <span class='op'>+=</span> <span class='ivar'>@asset_rel_path</span> <span class='kw'>if</span> <span class='ivar'>@file_output</span>

  <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span> <span class='op'>+</span> <span class='ivar'>@asset_rel_path</span>

  <span class='ivar'>@title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Table of Contents - </span><span class='embexpr_beg'>#{</span><span class='ivar'>@options</span>.<span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_render_template'><a href="#render_template-instance_method" title="RDoc::Generator::Darkfish#render_template (method)">render_template</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_here'>here</span> <span class='op'>=</span> <span class='id identifier rubyid_binding'>binding</span>
    <span class='comment'># suppress 1.9.3 warning
</span>    <span class='id identifier rubyid_here'>here</span>.<span class='id identifier rubyid_local_variable_set'>local_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_rel_prefix'>asset_rel_prefix</span>)
    <span class='id identifier rubyid_here'>here</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error generating table_of_contents.html: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_set_backtrace'>set_backtrace</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_sorted_module_list-instance_method">
  <h3 class='signature '>
    #<strong>get_sorted_module_list</strong>(classes)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return a list of the documented modules sorted by salience first, then by name.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L272-L276'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='272' data-end='276'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 272</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_sorted_module_list'>get_sorted_module_list</span>(<span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span>)
  <span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span>
    <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_display?'>display?</span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group_classes_by_namespace_for_sidebar-instance_method">
  <h3 class='signature '>
    #<strong>group_classes_by_namespace_for_sidebar</strong>(classes)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L789-L798'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='789' data-end='798'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 789</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_group_classes_by_namespace_for_sidebar'>group_classes_by_namespace_for_sidebar</span>(<span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span>)
  <span class='id identifier rubyid_grouped_classes'>grouped_classes</span> <span class='op'>=</span> <span class='id identifier rubyid_classes'><a href="#classes-instance_method" title="RDoc::Generator::Darkfish#classes (method)">classes</a></span>.<span class='id identifier rubyid_group_by'>group_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span>
    <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_full_name'>full_name</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[^:](?:::[^:](?=::))*(?=::[^:]*\z)</span><span class='regexp_end'>/</span></span>]
  <span class='kw'>end</span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_klasses'>klasses</span><span class='op'>|</span>
    <span class='id identifier rubyid_klasses'>klasses</span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_display?'>display?</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_grouped_classes'>grouped_classes</span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_uniq!'>uniq!</span>)
  <span class='id identifier rubyid_grouped_classes'>grouped_classes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="install_rdoc_static_file-instance_method">
  <h3 class='signature nodoc'>
    #<strong>install_rdoc_static_file</strong>(source, destination, options)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L556-L571'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='556' data-end='571'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 556</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_install_rdoc_static_file'>install_rdoc_static_file</span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_exist?'>exist?</span>

  <span class='kw'>begin</span>
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_destination'>destination</span>)<span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>

    <span class='kw'>begin</span>
      <span class='const'>FileUtils</span>.<span class='id identifier rubyid_ln'>ln</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>
    <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EEXIST</span>
      <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm'>rm</span> <span class='id identifier rubyid_destination'>destination</span>
      <span class='kw'>retry</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span>
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_cp'>cp</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nesting_namespaces_to_class_modules-instance_method">
  <h3 class='signature priv'>
    #<strong>nesting_namespaces_to_class_modules</strong>(klass)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L802-L810'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='802' data-end='810'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 802</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_nesting_namespaces_to_class_modules'>nesting_namespaces_to_class_modules</span>(<span class='id identifier rubyid_klass'>klass</span>)
  <span class='id identifier rubyid_tree'>tree</span> <span class='op'>=</span> {}

  <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_nesting_namespaces'>nesting_namespaces</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_fully_qualified_nesting_namespaces'>fully_qualified_nesting_namespaces</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_fqns'>fqns</span><span class='op'>|</span>
    <span class='id identifier rubyid_tree'>tree</span>[<span class='id identifier rubyid_ns'>ns</span>] <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_classes_hash'>classes_hash</span>[<span class='id identifier rubyid_fqns'>fqns</span>] <span class='op'>||</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_modules_hash'>modules_hash</span>[<span class='id identifier rubyid_fqns'>fqns</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tree'>tree</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="render-instance_method">
  <h3 class='signature '>
    #<strong>render</strong>(file_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Renders the ERb contained in <code>file_name</code> relative to the template directory and returns the result based on the current context.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L616-L624'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='616' data-end='624'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 616</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_render'>render</span>(<span class='id identifier rubyid_file_name'>file_name</span>)
  <span class='id identifier rubyid_template_file'>template_file</span> <span class='op'>=</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='id identifier rubyid_file_name'>file_name</span>

  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_template_for'><a href="#template_for-instance_method" title="RDoc::Generator::Darkfish#template_for (method)">template_for</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../ERBPartial.html" title="RDoc::ERBPartial (class)">ERBPartial</a></span>

  <span class='id identifier rubyid_template'>template</span>.<span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_to_s'>to_s</span>

  <span class='id identifier rubyid_template'>template</span>.<span class='id identifier rubyid_result'>result</span> <span class='ivar'>@context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="render_template-instance_method">
  <h3 class='signature '>
    #<strong>render_template</strong>(template_file, out_file = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Load and render the erb template in the given <code>template_file</code> and write it out to <code>out_file</code>.</p>

<p>Both <code>template_file</code> and <code>out_file</code> should be Pathname-like objects.</p>

<p>An io will be yielded which must be captured by binding in the caller.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L634-L662'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='634' data-end='662'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 634</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_render_template'>render_template</span>(<span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>=</span> <span class='kw'>nil</span>) <span class='comment'># :yield: io
</span>  <span class='id identifier rubyid_io_output'>io_output</span> <span class='op'>=</span> <span class='id identifier rubyid_out_file'>out_file</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@dry_run</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@file_output</span>
  <span class='id identifier rubyid_erb_klass'>erb_klass</span> <span class='op'>=</span> <span class='id identifier rubyid_io_output'>io_output</span> <span class='op'>?</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../ERBIO.html" title="RDoc::ERBIO (class)">ERBIO</a></span> <span class='op'>:</span> <span class='const'>ERB</span>

  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_template_for'><a href="#template_for-instance_method" title="RDoc::Generator::Darkfish#template_for (method)">template_for</a></span> <span class='id identifier rubyid_template_file'>template_file</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_erb_klass'>erb_klass</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_io_output'>io_output</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outputting to %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [<span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>]

    <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_dirname'>dirname</span>.<span class='id identifier rubyid_mkpath'>mkpath</span>
    <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_open'>open</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0644</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
      <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_set_encoding'>set_encoding</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_encoding'>encoding</span>

      <span class='ivar'>@context</span> <span class='op'>=</span> <span class='kw'>yield</span> <span class='id identifier rubyid_io'>io</span>

      <span class='id identifier rubyid_template_result'><a href="#template_result-instance_method" title="RDoc::Generator::Darkfish#template_result (method)">template_result</a></span> <span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='ivar'>@context</span><span class='comma'>,</span> <span class='id identifier rubyid_template_file'>template_file</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@context</span> <span class='op'>=</span> <span class='kw'>yield</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='id identifier rubyid_template_result'><a href="#template_result-instance_method" title="RDoc::Generator::Darkfish#template_result (method)">template_result</a></span> <span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='ivar'>@context</span><span class='comma'>,</span> <span class='id identifier rubyid_template_file'>template_file</span>

    <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  would have written %d characters to %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [
      <span class='id identifier rubyid_output'>output</span>.<span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_out_file'>out_file</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>
    ] <span class='kw'>if</span> <span class='ivar'>@dry_run</span>

    <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup-instance_method">
  <h3 class='signature '>
    #<strong>setup</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepares for generation of output from the current directory</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L576-L587'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='576' data-end='587'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 576</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'>setup</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_instance_variable_defined?'>instance_variable_defined?</span> <span class='symbeg'>:</span><span class='ivar'>@outputdir</span>

  <span class='ivar'>@outputdir</span> <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span>(<span class='ivar'>@options</span>.<span class='id identifier rubyid_op_dir'>op_dir</span>).<span class='id identifier rubyid_expand_path'>expand_path</span> <span class='ivar'>@base_dir</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@store</span>

  <span class='ivar'>@classes</span> <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_all_classes_and_modules'>all_classes_and_modules</span>.<span class='id identifier rubyid_sort'>sort</span>
  <span class='ivar'>@files</span>   <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_all_files'>all_files</span>.<span class='id identifier rubyid_sort'>sort</span>
  <span class='ivar'>@methods</span> <span class='op'>=</span> <span class='ivar'>@classes</span>.<span class='id identifier rubyid_flat_map'>flat_map</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_method_list'>method_list</span> }.<span class='id identifier rubyid_sort'>sort</span>
  <span class='ivar'>@modsort</span> <span class='op'>=</span> <span class='id identifier rubyid_get_sorted_module_list'><a href="#get_sorted_module_list-instance_method" title="RDoc::Generator::Darkfish#get_sorted_module_list (method)">get_sorted_module_list</a></span> <span class='ivar'>@classes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="template_for-instance_method">
  <h3 class='signature '>
    #<strong>template_for</strong>(file, page = true, klass = ERB)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Retrieves a cache template for <code>file</code>, if present, or fills the cache.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L681-L701'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='681' data-end='701'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 681</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_template_for'>template_for</span>(<span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'>ERB</span>)
  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='ivar'>@template_cache</span>[<span class='id identifier rubyid_file'>file</span>]

  <span class='kw'>return</span> <span class='id identifier rubyid_template'>template</span> <span class='kw'>if</span> <span class='id identifier rubyid_template'>template</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_page'>page</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_assemble_template'><a href="#assemble_template-instance_method" title="RDoc::Generator::Darkfish#assemble_template (method)">assemble_template</a></span> <span class='id identifier rubyid_file'>file</span>
    <span class='id identifier rubyid_erbout'>erbout</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>io</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span>.<span class='id identifier rubyid_read'>read</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>.<span class='id identifier rubyid_encode'>encode</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_encoding'>encoding</span>

    <span class='id identifier rubyid_file_var'>file_var</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_file'>file</span>).<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\..*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)

    <span class='id identifier rubyid_erbout'>erbout</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_erbout_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file_var'>file_var</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span> <span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='label'>trim_mode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>eoutvar:</span> <span class='id identifier rubyid_erbout'>erbout</span>
  <span class='ivar'>@template_cache</span>[<span class='id identifier rubyid_file'>file</span>] <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
  <span class='id identifier rubyid_template'>template</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="template_result-instance_method">
  <h3 class='signature '>
    #<strong>template_result</strong>(template, context, template_file)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates the result for <code>template</code> with <code>context</code>.  If an error is raised a Pathname <code>template_file</code> will indicate the file where the error occurred.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L668-L676'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='668' data-end='676'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 668</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_template_result'>template_result</span>(<span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_template_file'>template_file</span>)
  <span class='id identifier rubyid_template'>template</span>.<span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_template'>template</span>.<span class='id identifier rubyid_result'>result</span> <span class='id identifier rubyid_context'>context</span>
<span class='kw'>rescue</span> <span class='const'>NoMethodError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error while evaluating %s: %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [
    <span class='id identifier rubyid_template_file'>template_file</span>.<span class='id identifier rubyid_expand_path'>expand_path</span><span class='comma'>,</span>
    <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_message'>message</span><span class='comma'>,</span>
  ]<span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_backtrace'>backtrace</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="traverse_classes-instance_method">
  <h3 class='signature '>
    #<strong>traverse_classes</strong>(klasses, grouped_classes, rel_prefix, solo = false)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L772-L787'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='772' data-end='787'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 772</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_traverse_classes'>traverse_classes</span>(<span class='id identifier rubyid_klasses'>klasses</span><span class='comma'>,</span> <span class='id identifier rubyid_grouped_classes'>grouped_classes</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_solo'>solo</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;ul class=&quot;link-list nav-list&quot;&gt;</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_klasses'>klasses</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index_klass'>index_klass</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_children'>children</span> <span class='op'>=</span> <span class='id identifier rubyid_grouped_classes'>grouped_classes</span>[<span class='id identifier rubyid_index_klass'>index_klass</span>.<span class='id identifier rubyid_full_name'>full_name</span>]
      <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>&lt;li&gt;&lt;details</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_solo'>solo</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> open</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;&lt;summary&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_generate_class_link'><a href="#generate_class_link-instance_method" title="RDoc::Generator::Darkfish#generate_class_link (method)">generate_class_link</a></span>(<span class='id identifier rubyid_index_klass'>index_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/summary&gt;</span><span class='tstring_end'>)</span></span>
      <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_traverse_classes'>traverse_classes</span>(<span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='id identifier rubyid_grouped_classes'>grouped_classes</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)
      <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/details&gt;&lt;/li&gt;</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_solo'>solo</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_index_klass'>index_klass</span>.<span class='id identifier rubyid_display?'>display?</span>
      <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>&lt;li&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_generate_class_link'><a href="#generate_class_link-instance_method" title="RDoc::Generator::Darkfish#generate_class_link (method)">generate_class_link</a></span>(<span class='id identifier rubyid_index_klass'>index_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_rel_prefix'>rel_prefix</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/li&gt;</span><span class='tstring_end'>)</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_content'>content</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/ul&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="write_style_sheet-instance_method">
  <h3 class='signature '>
    #<strong>write_style_sheet</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Copy over the stylesheet into the appropriate place in the output directory.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rdoc/blob/v7.1.0/lib/rdoc/generator/darkfish.rb#L193-L213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='193' data-end='213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/generator/darkfish.rb', line 193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_style_sheet'>write_style_sheet</span>
  <span class='id identifier rubyid_debug_msg'><a href="#debug_msg-instance_method" title="RDoc::Generator::Darkfish#debug_msg (method)">debug_msg</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Copying static files</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=&gt;</span> <span class='gvar'>$DEBUG_RDOC</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_noop'>noop</span> <span class='op'>=&gt;</span> <span class='ivar'>@dry_run</span> }

  <span class='const'><a href="#BUILTIN_STYLE_ITEMS-constant" title="RDoc::Generator::Darkfish::BUILTIN_STYLE_ITEMS (constant)">BUILTIN_STYLE_ITEMS</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_install_rdoc_static_file'><a href="#install_rdoc_static_file-instance_method" title="RDoc::Generator::Darkfish#install_rdoc_static_file (method)">install_rdoc_static_file</a></span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>./</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_template_stylesheets'>template_stylesheets</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_cp'>cp</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_template_stylesheets'>template_stylesheets</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>

  <span class='const'>Dir</span>[(<span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{js,images}/**/*</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_to_s'>to_s</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_path'>path</span>) <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\.</span><span class='regexp_end'>/</span></span>

    <span class='id identifier rubyid_dst'>dst</span> <span class='op'>=</span> <span class='const'>Pathname</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Generator::Darkfish.new (method)">new</a></span>(<span class='id identifier rubyid_path'>path</span>).<span class='id identifier rubyid_relative_path_from'>relative_path_from</span> <span class='ivar'>@template_dir</span>

    <span class='id identifier rubyid_install_rdoc_static_file'><a href="#install_rdoc_static_file-instance_method" title="RDoc::Generator::Darkfish#install_rdoc_static_file (method)">install_rdoc_static_file</a></span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>