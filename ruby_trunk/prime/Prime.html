<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Prime &mdash; prime  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Prime",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>prime</a> &raquo; 
      <a href='_index.html#alpha_P'>Index (P)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Prime&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Prime</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Prime/EratosthenesGenerator.html" title="Prime::EratosthenesGenerator (class)"><code>EratosthenesGenerator</code></a>,
        <a href="Prime/EratosthenesSieve.html" title="Prime::EratosthenesSieve (class)"><code>EratosthenesSieve</code></a>,
        <a href="Prime/Generator23.html" title="Prime::Generator23 (class)"><code>Generator23</code></a>,
        <a href="Prime/PseudoPrimeGenerator.html" title="Prime::PseudoPrimeGenerator (class)"><code>PseudoPrimeGenerator</code></a>,
        <a href="Prime/TrialDivision.html" title="Prime::TrialDivision (class)"><code>TrialDivision</code></a>,
        <a href="Prime/TrialDivisionGenerator.html" title="Prime::TrialDivisionGenerator (class)"><code>TrialDivisionGenerator</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Enumerable,
          Forwardable
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Singleton,
          Enumerable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L170'>lib/prime.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The set of all prime numbers.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Prime</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Prime#each (method)">each</a></span>(<span class='int'>100</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_prime'>prime</span><span class='op'>|</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_prime'>prime</span>  <span class='comment'>#=&gt; 2, 3, 5, 7, 11, ...., 97
</span><span class='kw'>end</span></code></pre>

<p><code>Prime</code> is Enumerable:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Prime</span>.<span class='id identifier rubyid_first'>first</span> <span class='int'>5</span> <span class='comment'># =&gt; [2, 3, 5, 7, 11]</span></code></pre>

<h3 id="label-Retrieving+the+instance">Retrieving the instance</h3>

<p>For convenience, each instance method of <code>Prime</code>.instance can be accessed as a class method of <code>Prime</code>.</p>

<p>e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Prime</span>.<span class='id identifier rubyid_instance'>instance</span>.<span class='id identifier rubyid_prime?'><a href="#prime%3F-instance_method" title="Prime#prime? (method)">prime?</a></span>(<span class='int'>2</span>)  <span class='comment'>#=&gt; true
</span><span class='const'>Prime</span>.<span class='id identifier rubyid_prime?'><a href="#prime%3F-instance_method" title="Prime#prime? (method)">prime?</a></span>(<span class='int'>2</span>)           <span class='comment'>#=&gt; true</span></code></pre>

<h3 id="label-Generators">Generators</h3>

<p>A “generator” provides an implementation of enumerating pseudo-prime numbers and it remembers the position of enumeration and upper bound. Furthermore, it is an external iterator of prime enumeration which is compatible with an Enumerator.</p>

<p><code>Prime+::+PseudoPrimeGenerator</code> is the base class for generators. There are few implementations of generator.</p>
<dl class="rdoc-list label-list"><dt><code>Prime</code>::<code>EratosthenesGenerator</code></dt>
<dd>
<p>Uses Eratosthenes’ sieve.</p>
</dd><dt><code>Prime</code>::<code>TrialDivisionGenerator</code></dt>
<dd>
<p>Uses the trial division method.</p>
</dd><dt><code>Prime</code>::<code>Generator23</code></dt>
<dd>
<p>Generates all positive integers which are not divisible by either 2 or 3. This sequence is very bad as a pseudo-prime sequence. But this is faster and uses much less memory than the other generators. So, it is suitable for factorizing an integer which is not large but has many prime factors. e.g. for Prime#prime? .</p>
</dd></dl>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L172-L172'># File 'lib/prime.rb', line 172</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.1.4</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#method_added-class_method" title=".method_added (class method)">.<strong>method_added</strong>(method)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>(ubound = nil, generator = EratosthenesGenerator.new, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Iterates the given block over all prime numbers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(obj)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>obj</code> is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> and is prime.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#int_from_prime_division-instance_method" title="#int_from_prime_division (instance method)">#<strong>int_from_prime_division</strong>(pd)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Re-composes a prime factorization and returns the product.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prime%3F-instance_method" title="#prime? (instance method)">#<strong>prime?</strong>(value, generator = Prime::Generator23.new)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>value</code> is a prime number, else returns false.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prime_division-instance_method" title="#prime_division (instance method)">#<strong>prime_division</strong>(value, generator = Prime::Generator23.new)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the factorization of <code>value</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="method_added-class_method">
  <h3 class='signature nodoc first'>
    .<strong>method_added</strong>(method)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L181-L183'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='181' data-end='183'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 181</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_method_added'>method_added</span>(<span class='id identifier rubyid_method'>method</span>) <span class='comment'># :nodoc:
</span>  (<span class='kw'>class</span><span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span><span class='kw'>self</span><span class='semicolon'>;</span><span class='kw'>end</span>).<span class='id identifier rubyid_def_delegator'>def_delegator</span> <span class='symbeg'>:</span><span class='id identifier rubyid_instance'>instance</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="each-instance_method">
  <h3 class='signature  first'>
    #<strong>each</strong>(ubound = nil, generator = EratosthenesGenerator.new, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Iterates the given block over all prime numbers.</p>

<h4 id="label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt><code>ubound</code></dt>
<dd>
<p>Optional. An arbitrary positive number. The upper bound of enumeration. The method enumerates prime numbers infinitely if <code>ubound</code> is nil.</p>
</dd><dt><code>generator</code></dt>
<dd>
<p>Optional. An implementation of pseudo-prime generator.</p>
</dd></dl>

<h4 id="label-Return+value">Return value</h4>

<p>An evaluated value of the given block at the last time. Or an enumerator which is compatible to an <code>Enumerator</code> if no block given.</p>

<h4 id="label-Description">Description</h4>

<p>Calls <code>block</code> once for each prime number, passing the prime as a parameter.</p>
<dl class="rdoc-list note-list"><dt><code>ubound</code></dt>
<dd>
<p>Upper bound of prime numbers. The iterator stops after it yields all prime numbers p &lt;= <code>ubound</code>.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L212-L215'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='212' data-end='215'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>(<span class='id identifier rubyid_ubound'>ubound</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_generator'>generator</span> <span class='op'>=</span> <span class='const'><a href="Prime/EratosthenesGenerator.html" title="Prime::EratosthenesGenerator (class)">EratosthenesGenerator</a></span>.<span class='id identifier rubyid_new'><a href="Prime/EratosthenesGenerator.html#new-class_method" title="Prime::EratosthenesGenerator.new (method)">new</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_generator'>generator</span>.<span class='id identifier rubyid_upper_bound'>upper_bound</span> <span class='op'>=</span> <span class='id identifier rubyid_ubound'>ubound</span>
  <span class='id identifier rubyid_generator'>generator</span>.<span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(obj)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>obj</code> is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> and is prime.  Also returns true if <code>obj</code> is a Module that is an ancestor of <code>Prime</code>. Otherwise returns false.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L220-L229'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='220' data-end='229'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>when</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>
    <span class='id identifier rubyid_prime?'><a href="#prime%3F-instance_method" title="Prime#prime? (method)">prime?</a></span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>when</span> <span class='const'>Module</span>
    <span class='const'>Module</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_include?'>include?</span>).<span class='id identifier rubyid_bind'>bind</span>(<span class='const'>Prime</span>).<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_obj'>obj</span>)
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="int_from_prime_division-instance_method">
  <h3 class='signature '>
    #<strong>int_from_prime_division</strong>(pd)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Re-composes a prime factorization and returns the product.</p>

<p>For the decomposition:</p>

<pre class="code ruby"><code class="ruby">[[<span class='id identifier rubyid_p_1'>p_1</span><span class='comma'>,</span> <span class='id identifier rubyid_e_1'>e_1</span>]<span class='comma'>,</span> [<span class='id identifier rubyid_p_2'>p_2</span><span class='comma'>,</span> <span class='id identifier rubyid_e_2'>e_2</span>]<span class='comma'>,</span> <span class='op'>...</span><span class='comma'>,</span> [<span class='id identifier rubyid_p_n'>p_n</span><span class='comma'>,</span> <span class='id identifier rubyid_e_n'>e_n</span>]]<span class='comma'>,</span></code></pre>

<p>it returns:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p_1'>p_1</span><span class='op'>**</span><span class='id identifier rubyid_e_1'>e_1</span> <span class='op'>*</span> <span class='id identifier rubyid_p_2'>p_2</span><span class='op'>**</span><span class='id identifier rubyid_e_2'>e_2</span> <span class='op'>*</span> <span class='op'>...</span> <span class='op'>*</span> <span class='id identifier rubyid_p_n'>p_n</span><span class='op'>**</span><span class='id identifier rubyid_e_n'>e_n</span>.</code></pre>

<h4 id="label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt><code>pd</code></dt>
<dd>
<p>Array of pairs of integers. Each pair consists of a prime number – a prime factor – and a natural number – its exponent (multiplicity).</p>
</dd></dl>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Prime</span>.<span class='id identifier rubyid_int_from_prime_division'>int_from_prime_division</span>([[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span>]<span class='comma'>,</span> [<span class='int'>5</span><span class='comma'>,</span> <span class='int'>1</span>]])  <span class='comment'>#=&gt; 45
</span><span class='int'>3</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>*</span> <span class='int'>5</span>                                         <span class='comment'>#=&gt; 45</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L268-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='268' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 268</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_int_from_prime_division'>int_from_prime_division</span>(<span class='id identifier rubyid_pd'>pd</span>)
  <span class='id identifier rubyid_pd'>pd</span>.<span class='id identifier rubyid_inject'>inject</span>(<span class='int'>1</span>){<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> (<span class='id identifier rubyid_prime'>prime</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>)<span class='op'>|</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='id identifier rubyid_prime'>prime</span><span class='op'>**</span><span class='id identifier rubyid_index'>index</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prime?-instance_method">
  <h3 class='signature '>
    #<strong>prime?</strong>(value, generator = Prime::Generator23.new)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>value</code> is a prime number, else returns false. <a href="Integer.html#prime%3F-instance_method" title="Integer#prime? (method)">Integer#prime?</a> is much more performant.</p>

<h4 id="label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt><code>value</code></dt>
<dd>
<p>an arbitrary integer to be checked.</p>
</dd><dt><code>generator</code></dt>
<dd>
<p>optional. A pseudo-prime generator.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L238-L247'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='238' data-end='247'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 238</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prime?'>prime?</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_generator'>generator</span> <span class='op'>=</span> <span class='const'>Prime</span><span class='op'>::</span><span class='const'><a href="Prime/Generator23.html" title="Prime::Generator23 (class)">Generator23</a></span>.<span class='id identifier rubyid_new'><a href="Prime/Generator23.html#new-class_method" title="Prime::Generator23.new (method)">new</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected a prime generator, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_generator'>generator</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_generator'>generator</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'><a href="#each-instance_method" title="Prime#each (method)">each</a></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected an integer, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_integer?'>integer?</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_integer?'>integer?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span>
  <span class='id identifier rubyid_generator'>generator</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Prime#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='op'>|</span>
    <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_divmod'>divmod</span> <span class='id identifier rubyid_num'>num</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_q'>q</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_num'>num</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prime_division-instance_method">
  <h3 class='signature '>
    #<strong>prime_division</strong>(value, generator = Prime::Generator23.new)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the factorization of <code>value</code>.</p>

<p>For an arbitrary integer:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p_1'>p_1</span><span class='op'>**</span><span class='id identifier rubyid_e_1'>e_1</span> <span class='op'>*</span> <span class='id identifier rubyid_p_2'>p_2</span><span class='op'>**</span><span class='id identifier rubyid_e_2'>e_2</span> <span class='op'>*</span> <span class='op'>...</span> <span class='op'>*</span> <span class='id identifier rubyid_p_n'>p_n</span><span class='op'>**</span><span class='id identifier rubyid_e_n'>e_n</span><span class='comma'>,</span></code></pre>

<p>prime_division returns an array of pairs of integers:</p>

<pre class="code ruby"><code class="ruby">[[<span class='id identifier rubyid_p_1'>p_1</span><span class='comma'>,</span> <span class='id identifier rubyid_e_1'>e_1</span>]<span class='comma'>,</span> [<span class='id identifier rubyid_p_2'>p_2</span><span class='comma'>,</span> <span class='id identifier rubyid_e_2'>e_2</span>]<span class='comma'>,</span> <span class='op'>...</span><span class='comma'>,</span> [<span class='id identifier rubyid_p_n'>p_n</span><span class='comma'>,</span> <span class='id identifier rubyid_e_n'>e_n</span>]].</code></pre>

<p>Each pair consists of a prime number – a prime factor – and a natural number – its exponent (multiplicity).</p>

<h4 id="label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt><code>value</code></dt>
<dd>
<p>An arbitrary integer.</p>
</dd><dt><code>generator</code></dt>
<dd>
<p>Optional. A pseudo-prime generator. <code>generator</code>.succ must return the next pseudo-prime number in ascending order. It must generate all prime numbers, but may also generate non-prime numbers, too.</p>
</dd></dl>

<h5 id="label-Exceptions">Exceptions</h5>
<dl class="rdoc-list note-list"><dt><code>ZeroDivisionError</code></dt>
<dd>
<p>when <code>value</code> is zero.</p>
</dd></dl>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'>Prime</span>.<span class='id identifier rubyid_prime_division'>prime_division</span>(<span class='int'>45</span>)  <span class='comment'>#=&gt; [[3, 2], [5, 1]]
</span><span class='int'>3</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>*</span> <span class='int'>5</span>                  <span class='comment'>#=&gt; 45</span></code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ZeroDivisionError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/prime/blob/v0.1.4/lib/prime.rb#L303-L327'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='303' data-end='327'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prime.rb', line 303</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prime_division'>prime_division</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_generator'>generator</span> <span class='op'>=</span> <span class='const'>Prime</span><span class='op'>::</span><span class='const'><a href="Prime/Generator23.html" title="Prime::Generator23 (class)">Generator23</a></span>.<span class='id identifier rubyid_new'><a href="Prime/Generator23.html#new-class_method" title="Prime::Generator23.new (method)">new</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ZeroDivisionError</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span>
    <span class='id identifier rubyid_pv'>pv</span> <span class='op'>=</span> [[<span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>]]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_pv'>pv</span> <span class='op'>=</span> []
  <span class='kw'>end</span>
  <span class='id identifier rubyid_generator'>generator</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Prime#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_prime'>prime</span><span class='op'>|</span>
    <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>while</span> (<span class='id identifier rubyid_value1'>value1</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_divmod'>divmod</span>(<span class='id identifier rubyid_prime'>prime</span>)
           <span class='id identifier rubyid_mod'>mod</span>) <span class='op'>==</span> <span class='int'>0</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value1'>value1</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_count'>count</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_pv'>pv</span>.<span class='id identifier rubyid_push'>push</span> [<span class='id identifier rubyid_prime'>prime</span><span class='comma'>,</span> <span class='id identifier rubyid_count'>count</span>]
    <span class='kw'>end</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_value1'>value1</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_prime'>prime</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_pv'>pv</span>.<span class='id identifier rubyid_push'>push</span> [<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='int'>1</span>]
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pv'>pv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>