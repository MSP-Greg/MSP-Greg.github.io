<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Configurations &mdash; irb  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Configurations",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>irb</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Configurations&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Configure IRB</h1>

<h2>Configuration Sources</h2>

<p><a href="IRB.html" title="IRB (module)"><code>IRB</code></a> configurations can be set through multiple sources, each with its own precedence:</p>

<ol>
<li><strong>Command-Line Options</strong>: When some options are specified when starting <a href="IRB.html" title="IRB (module)"><code>IRB</code></a>, they can override default settings.</li>
<li><strong>Configuration File</strong>: If present, <a href="IRB.html" title="IRB (module)"><code>IRB</code></a> reads a configuration file containing Ruby code to set configurations.</li>
<li><strong>Environment Variables</strong>: Certain environment variables influence IRB&#39;s behavior.</li>
<li><strong>Hash <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a></strong>: This hash holds the current configuration settings, which can be modified during a session.</li>
</ol>

<h3>Configuration File Path Resolution</h3>

<p><a href="IRB.html" title="IRB (module)"><code>IRB</code></a> searches for a configuration file in the following order:</p>

<ol>
<li><code>$IRBRC</code></li>
<li><code>$XDG_CONFIG_HOME/irb/irbrc</code></li>
<li><code>$HOME/.irbrc</code></li>
<li><code>$HOME/.config/irb/irbrc</code></li>
<li><code>.irbrc</code> in the current directory</li>
<li><code>irb.rc</code> in the current directory</li>
<li><code>_irbrc</code> in the current directory</li>
<li><code>$irbrc</code> in the current directory</li>
</ol>

<p>If the <code>-f</code> command-line option is used, no configuration file is loaded.</p>

<p>Method <code>conf.rc?</code> returns <code>true</code> if a configuration file was read, <code>false</code> otherwise. Hash entry <code>IRB.conf[:RC]</code> also contains that value.</p>

<h2>Environment Variables</h2>

<ul>
<li><code>NO_COLOR</code>: Disables IRB&#39;s colorization.</li>
<li><code>IRB_USE_AUTOCOMPLETE</code>: Setting to <code>false</code> disables autocompletion.</li>
<li><code>IRB_COMPLETOR</code>: Configures auto-completion behavior (<code>regexp</code> or <code>type</code>).</li>
<li><code>IRB_COPY_COMMAND</code>: Overrides the default program used to interface with the system clipboard.</li>
<li><code>VISUAL</code> / <code>EDITOR</code>: Specifies the editor for the <code>edit</code> command.</li>
<li><code>IRBRC</code>: Specifies the rc-file for configuration.</li>
<li><code>XDG_CONFIG_HOME</code>: Used to locate the rc-file if <code>IRBRC</code> is unset.</li>
<li><code>RI_PAGER</code> / <code>PAGER</code>: Specifies the pager for documentation.</li>
<li><code>IRB_LANG</code>, <code>LC_MESSAGES</code>, <code>LC_ALL</code>, <code>LANG</code>: Determines the locale.</li>
</ul>

<h2>Hash <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a></h2>

<p>The initial entries in hash <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a> are determined by:</p>

<ul>
<li>Default values.</li>
<li>Command-line options, which may override defaults.</li>
<li>Direct assignments in the configuration file.</li>
</ul>

<p>You can see the hash by typing <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a>. Below are the primary entries:</p>

<ul>
<li><code>:AP_NAME</code>: <a href="IRB.html" title="IRB (module)"><code>IRB</code></a> <code>name</code>[file.IRB@Application+Name];.html"code ruby"><code class="ruby">{
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$</span><span class='label_end'>&quot;:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show_source'>show_source</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='label_end'>&quot;:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_whereami'>whereami</span><span class='comma'>,</span>
}</code></pre></li>
<li><p><code>:CONTEXT_MODE</code>: Sets the <code>mode</code>[file.IRB@Context+Mode],
the type of binding to be used when evaluating statements;.html"IRB.html" title="IRB (module)">library directory</a>[file.p>

<ul>.html"IRB.html" title="IRB (module)">name</a>[file.IRB@IRB+Name];.html"IRB.html" title="IRB (module)"><code>IRB</code></a> session;
initial value: IRB::Context object.</p></li>
<li><p><code>:MEASURE</code>: Whether to
<code>performance</code>[file.IRB@Performance+Measurement];.html"code ruby"><code class="ruby">{
  <span class='symbeg'>:</span><span class='const'>TIME</span><span class='op'>=&gt;</span><span class='comment'>#&lt;Proc:0x0000556e271c6598 /var/lib/gems/3.0.0/gems/irb-1.8.3/lib/irb/init.rb:106&gt;,
</span>  <span class='symbeg'>:</span><span class='const'>STACKPROF</span><span class='op'>=&gt;</span><span class='comment'>#&lt;Proc:0x0000556e271c6548 /var/lib/gems/3.0.0/gems/irb-1.8.3/lib/irb/init.rb:116&gt;
</span>}</code></pre></li>
<li><p><code>:PROMPT</code>: Hash of <code>prompts</code>[file.IRB@Prompt+and+Return+Formats];.html"code ruby"><code class="ruby">{
  <span class='symbeg'>:</span><span class='const'>NULL</span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>}<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>DEFAULT</span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>}<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>CLASSIC</span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>}<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>SIMPLE</span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%l&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>}<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>INF_RUBY</span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span><span class='op'>=&gt;</span><span class='kw'>true</span>}<span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'><a href="XMP.html" title="XMP (class)">XMP</a></span><span class='op'>=&gt;</span>{<span class='symbeg'>:</span><span class='const'>PROMPT_I</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_S</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>PROMPT_C</span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RETURN</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>}
}</code></pre></li>
<li><p><code>:PROMPT_MODE</code>: Name of <code>prompt</code>[file.IRB@Prompt+and+Return+Formats];.html"IRB.html" title="IRB (module)">loader</a>[file.code>;.html"IRB.html" title="IRB (module)">tracer</a>[file.IRB@Tracer];.html"IRB.html" title="IRB (module)"><code>IRB</code></a> object;
initial value: <code>main</code>.</p></li>
</ul>

<h2>Notes on Initialization Precedence</h2>

<ul>
<li>Any conflict between an entry in hash <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a> and a command-line option is resolved in favor of the hash entry.</li>
<li>Hash <a href="IRB.html#conf-class_method" title="IRB.conf (method)">IRB.conf</a> affects the context only once, when the configuration file is interpreted; any subsequent changes to it do not affect the context and are therefore essentially meaningless.</li>
</ul>

<h2>Load Modules</h2>

<p>You can specify the names of modules that are to be required at startup.</p>

<p>Array <code>conf.load_modules</code> determines the modules (if any) that are to be required during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no modules):</p>

<pre class="code console"><code class="console">irb(main):001&gt; conf.load_modules
=&gt; []
</code></pre>

<p>You can set the default initial value via:</p>

<ul>
<li><p>Command-line option <code>-r</code></p>

<pre class="code console"><code class="console">$ irb -r csv -r json
irb(main):001&gt; conf.load_modules
=&gt; [&quot;csv&quot;, &quot;json&quot;]
</code></pre></li>
<li><p>Hash entry <code>IRB.conf[:LOAD_MODULES] = *array*</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IRB.html" title="IRB (module)">IRB</a></span>.<span class='id identifier rubyid_conf'><a href="IRB.html#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>] <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>csv</span><span class='words_sep'> </span><span class='tstring_content'>json</span><span class='tstring_end'>]</span></span></code></pre></li>
</ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h2>RI Documentation Directories</h2>

<p>You can specify the paths to RI documentation directories that are to be loaded (in addition to the default directories) at startup; see details about RI by typing <code>ri --help</code>.</p>

<p>Array <code>conf.extra_doc_dirs</code> determines the directories (if any) that are to be loaded during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no extra documentation):</p>

<pre class="code console"><code class="console">irb(main):001&gt; conf.extra_doc_dirs
=&gt; []
</code></pre>

<p>You can set the default initial value via:</p>

<ul>
<li><p>Command-line option <code>--extra_doc_dir</code></p>

<pre class="code console"><code class="console">$ irb --extra-doc-dir your_doc_dir --extra-doc-dir my_doc_dir
irb(main):001&gt; conf.extra_doc_dirs
=&gt; [&quot;your_doc_dir&quot;, &quot;my_doc_dir&quot;]
</code></pre></li>
<li><p>Hash entry <code>IRB.conf[:EXTRA_DOC_DIRS] = *array*</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IRB.html" title="IRB (module)">IRB</a></span>.<span class='id identifier rubyid_conf'><a href="IRB.html#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>EXTRA_DOC_DIRS</span>] <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>your_doc_dir</span><span class='words_sep'> </span><span class='tstring_content'>my_doc_dir</span><span class='tstring_end'>]</span></span></code></pre></li>
</ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h2>IRB Name</h2>

<p>You can specify a name for IRB.</p>

<p>The default initial value is <code>&#39;irb&#39;</code>:</p>

<pre class="code console"><code class="console">irb(main):001&gt; conf.irb_name
=&gt; &quot;irb&quot;
</code></pre>

<p>You can set the default initial value via hash entry <code>IRB.conf[:IRB_NAME] = *string*</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IRB.html" title="IRB (module)">IRB</a></span>.<span class='id identifier rubyid_conf'><a href="IRB.html#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>IRB_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h2>Application Name</h2>

<p>You can specify an application name for the IRB session.</p>

<p>The default initial value is <code>&#39;irb&#39;</code>:</p>

<pre class="code console"><code class="console">irb(main):001&gt; conf.ap_name
=&gt; &quot;irb&quot;
</code></pre>

<p>You can set the default initial value via hash entry <code>IRB.conf[:AP_NAME] = *string*</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IRB.html" title="IRB (module)">IRB</a></span>.<span class='id identifier rubyid_conf'><a href="IRB.html#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_ap_name</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h2>Configuration Monitor</h2>

<p>You can monitor changes to the configuration by assigning a proc to <code>IRB.conf[:IRB_RC]</code> in the configuration file:</p>

<pre class="code console"><code class="console">IRB.conf[:IRB_RC] = proc {|conf| puts conf.class }
</code></pre>

<p>Each time the configuration is changed, that proc is called with argument <code>conf</code>:</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>