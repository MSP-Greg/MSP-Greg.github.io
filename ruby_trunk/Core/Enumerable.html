<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Enumerable &mdash; Core  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Enumerable",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_E'>Index (E)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Enumerable&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Enumerable</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="ENV.html" title="ENV (class)"><code>::ENV</code></a>
      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="ARGF.html" title="ARGF (class)"><code>::ARGF</code></a>,
          <a href="Array.html" title="Array (class)"><code>::Array</code></a>,
          <a href="Dir.html" title="Dir (class)"><code>::Dir</code></a>,
          <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>,
          <a href="Enumerator/ArithmeticSequence.html" title="Enumerator::ArithmeticSequence (class)"><code>::Enumerator::ArithmeticSequence</code></a>,
          <a href="Enumerator/Chain.html" title="Enumerator::Chain (class)"><code>::Enumerator::Chain</code></a>,
          <a href="Enumerator/Generator.html" title="Enumerator::Generator (class)"><code>::Enumerator::Generator</code></a>,
          <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)"><code>::Enumerator::Lazy</code></a>,
          <a href="Enumerator/Product.html" title="Enumerator::Product (class)"><code>::Enumerator::Product</code></a>,
          <a href="File.html" title="File (class)"><code>::File</code></a>,
          <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a>,
          <a href="IO.html" title="IO (class)"><code>::IO</code></a>,
          <a href="ObjectSpace/WeakMap.html" title="ObjectSpace::WeakMap (class)"><code>::ObjectSpace::WeakMap</code></a>,
          <a href="Range.html" title="Range (class)"><code>::Range</code></a>,
          <a href="Set.html" title="Set (class)"><code>::Set</code></a>,
          <a href="Struct.html" title="Struct (class)"><code>::Struct</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L5204'>enum.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/master/enumerator.c#L3388'>enumerator.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/prelude.rb#L36'>prelude.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-What-27s+Here">What’s Here</h3>

<p><a href="Module.html" title="Module (class)"><code>::Module</code></a> Enumerable provides methods that are useful to a collection class for:</p>
<ul><li>
<p><a href="Enumerable.html#label-Methods+for+Querying" title="Querying">Querying</a></p>
</li><li>
<p><a href="Enumerable.html#label-Methods+for+Fetching" title="Fetching">Fetching</a></p>
</li><li>
<p><a href="Enumerable.html#label-Methods+for+Searching+and+Filtering" title="Searching and Filtering">Searching and Filtering</a></p>
</li><li>
<p><a href="Enumerable.html#label-Methods+for+Sorting" title="Sorting">Sorting</a></p>
</li><li>
<p><a href="Enumerable.html#label-Methods+for+Iterating" title="Iterating">Iterating</a></p>
</li><li>
<p><a href="Enumerable.html#label-Other+Methods" title="And more.…">And more.…</a></p>
</li></ul>

<h4 id="label-Methods+for+Querying">Methods for Querying</h4>

<p>These methods return information about the Enumerable other than the elements themselves:</p>
<ul><li>
<p><a href="#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a> (aliased as <a href="#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a>): Returns <code>true</code> if <code>self == object</code>, <code>false</code> otherwise.</p>
</li><li>
<p><a href="#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>: Returns <code>true</code> if all elements meet a specified criterion; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>: Returns <code>true</code> if any element meets a specified criterion; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>: Returns <code>true</code> if no element meets a specified criterion; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>: Returns <code>true</code> if exactly one element meets a specified criterion; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#count-instance_method" title="Enumerable#count (method)">#count</a>: Returns the count of elements, based on an argument or block criterion, if given.</p>
</li><li>
<p><a href="#tally-instance_method" title="Enumerable#tally (method)">#tally</a>: Returns a new <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a> containing the counts of occurrences of each element.</p>
</li></ul>

<h4 id="label-Methods+for+Fetching">Methods for Fetching</h4>

<p>These methods return entries from the Enumerable, without modifying it:</p>

<p><em>Leading, trailing, or all elements</em>:</p>
<ul><li>
<p><a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a> (aliased as <a href="#entries-instance_method" title="Enumerable#entries (method)">#entries</a>): Returns all elements.</p>
</li><li>
<p><a href="#first-instance_method" title="Enumerable#first (method)">#first</a>: Returns the first element or leading elements.</p>
</li><li>
<p><a href="#take-instance_method" title="Enumerable#take (method)">#take</a>: Returns a specified number of leading elements.</p>
</li><li>
<p><a href="#drop-instance_method" title="Enumerable#drop (method)">#drop</a>: Returns a specified number of trailing elements.</p>
</li><li>
<p><a href="#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a>: Returns leading elements as specified by the given block.</p>
</li><li>
<p><a href="#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a>: Returns trailing elements as specified by the given block.</p>
</li></ul>

<p><em>Minimum and maximum value elements</em>:</p>
<ul><li>
<p><a href="#min-instance_method" title="Enumerable#min (method)">#min</a>: Returns the elements whose values are smallest among the elements, as determined by <code>#<=></code> or a given block.</p>
</li><li>
<p><a href="#max-instance_method" title="Enumerable#max (method)">#max</a>: Returns the elements whose values are largest among the elements, as determined by <code>#<=></code> or a given block.</p>
</li><li>
<p><a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>: Returns a 2-element <a href="Array.html" title="Array (class)"><code>::Array</code></a> containing the smallest and largest elements.</p>
</li><li>
<p><a href="#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>: Returns the smallest element, as determined by the given block.</p>
</li><li>
<p><a href="#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>: Returns the largest element, as determined by the given block.</p>
</li><li>
<p><a href="#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>: Returns the smallest and largest elements, as determined by the given block.</p>
</li></ul>

<p><em>Groups, slices, and partitions</em>:</p>
<ul><li>
<p><a href="#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>: Returns a <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a> that partitions the elements into groups.</p>
</li><li>
<p><a href="#partition-instance_method" title="Enumerable#partition (method)">#partition</a>: Returns elements partitioned into two new Arrays, as determined by the given block.</p>
</li><li>
<p><a href="#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a>: Returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> whose entries are a partition of <code>self</code>, based either on a given <code>object</code> or a given block.</p>
</li><li>
<p><a href="#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a>: Returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> whose entries are a partition of <code>self</code>, based either on a given <code>object</code> or a given block.</p>
</li><li>
<p><a href="#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a>: Returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> whose entries are a partition of <code>self</code> based on the given block.</p>
</li><li>
<p><a href="#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a>: Returns elements organized into chunks as specified by the given block.</p>
</li><li>
<p><a href="#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>: Returns elements organized into chunks as specified by the given block.</p>
</li></ul>

<h4 id="label-Methods+for+Searching+and+Filtering">Methods for Searching and Filtering</h4>

<p>These methods return elements that meet a specified criterion:</p>
<ul><li>
<p><a href="#find-instance_method" title="Enumerable#find (method)">#find</a> (aliased as <a href="#detect-instance_method" title="Enumerable#detect (method)">#detect</a>): Returns an element selected by the block.</p>
</li><li>
<p><a href="#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a> (aliased as <a href="#filter-instance_method" title="Enumerable#filter (method)">#filter</a>, <a href="#select-instance_method" title="Enumerable#select (method)">#select</a>): Returns elements selected by the block.</p>
</li><li>
<p><a href="#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a>: Returns the index of an element selected by a given object or block.</p>
</li><li>
<p><a href="#reject-instance_method" title="Enumerable#reject (method)">#reject</a>: Returns elements not rejected by the block.</p>
</li><li>
<p><a href="#uniq-instance_method" title="Enumerable#uniq (method)">#uniq</a>: Returns elements that are not duplicates.</p>
</li></ul>

<h4 id="label-Methods+for+Sorting">Methods for Sorting</h4>

<p>These methods return elements in sorted order:</p>
<ul><li>
<p><a href="#sort-instance_method" title="Enumerable#sort (method)">#sort</a>: Returns the elements, sorted by <code>#<=></code> or the given block.</p>
</li><li>
<p><a href="#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>: Returns the elements, sorted by the given block.</p>
</li></ul>

<h4 id="label-Methods+for+Iterating">Methods for Iterating</h4>
<ul><li>
<p><a href="#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>: Calls the block with each successive element (slightly different from #each).</p>
</li><li>
<p><a href="#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a>: Calls the block with each successive element and its index.</p>
</li><li>
<p><a href="#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a>: Calls the block with each successive element and a given object.</p>
</li><li>
<p><a href="#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>: Calls the block with successive non-overlapping slices.</p>
</li><li>
<p><a href="#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>: Calls the block with successive overlapping slices. (different from #each_slice).</p>
</li><li>
<p><a href="#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a>: Calls the block with each successive element, in reverse order.</p>
</li></ul>

<h4 id="label-Other+Methods">Other Methods</h4>
<ul><li>
<p><a href="#collect-instance_method" title="Enumerable#collect (method)">#collect</a> (aliased as <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>): Returns objects returned by the block.</p>
</li><li>
<p><a href="#filter_map-instance_method" title="Enumerable#filter_map (method)">#filter_map</a>: Returns truthy objects returned by the block.</p>
</li><li>
<p><a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a> (aliased as <a href="#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a>): Returns flattened objects returned by the block.</p>
</li><li>
<p><a href="#grep-instance_method" title="Enumerable#grep (method)">#grep</a>: Returns elements selected by a given object or objects returned by a given block.</p>
</li><li>
<p><a href="#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>: Returns elements not selected by a given object or objects returned by a given block.</p>
</li><li>
<p><a href="#inject-instance_method" title="Enumerable#inject (method)">#inject</a> (aliased as <a href="#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a>): Returns the object formed by combining all elements.</p>
</li><li>
<p><a href="#sum-instance_method" title="Enumerable#sum (method)">#sum</a>: Returns the sum of the elements, using method <code>+</code>.</p>
</li><li>
<p><a href="#zip-instance_method" title="Enumerable#zip (method)">#zip</a>: Combines each element with elements from other enumerables; returns the n-tuples or calls the block with each.</p>
</li><li>
<p><a href="#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a>: Calls the block with each element, cycling repeatedly.</p>
</li></ul>

<h3 id="label-Usage">Usage</h3>

<p>To use module Enumerable in a collection class:</p>
<ul><li>
<p>Include it:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_include'>include</span> <span class='const'>Enumerable</span></code></pre>
</li><li>
<p>Implement method <code>#each</code> which must yield successive elements of the collection. The method will be called by almost any Enumerable method.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>Enumerable</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
    <span class='kw'>yield</span> <span class='int'>1</span>
    <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='const'>Foo</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_each_entry'><a href="#each_entry-instance_method" title="Enumerable#each_entry (method)">each_entry</a></span>{ <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_element'>element</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>1</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]
<span class='kw'>nil</span></code></pre>

<h3 id="label-Enumerable+in+Ruby+Classes">Enumerable in Ruby Classes</h3>

<p>These Ruby core classes include (or extend) Enumerable:</p>
<ul><li>
<p><a href="ARGF.html" title="ARGF (class)"><code>::ARGF</code></a></p>
</li><li>
<p><a href="Array.html" title="Array (class)"><code>::Array</code></a></p>
</li><li>
<p><a href="Dir.html" title="Dir (class)"><code>::Dir</code></a></p>
</li><li>
<p><a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a></p>
</li><li>
<p><a href="ENV.html" title="ENV (class)"><code>::ENV</code></a> (extends)</p>
</li><li>
<p><a href="Hash.html" title="Hash (class)"><code>::Hash</code></a></p>
</li><li>
<p><a href="IO.html" title="IO (class)"><code>::IO</code></a></p>
</li><li>
<p><a href="Range.html" title="Range (class)"><code>::Range</code></a></p>
</li><li>
<p><a href="Struct.html" title="Struct (class)"><code>::Struct</code></a></p>
</li></ul>

<p>These Ruby standard library classes include Enumerable:</p>
<ul><li>
<p>CSV</p>
</li><li>
<p><code>CSV::Table</code></p>
</li><li>
<p><code>CSV::Row</code></p>
</li><li>
<p><a href="Set.html" title="Set (class)"><code>::Set</code></a></p>
</li></ul>

<p>Virtually all methods in Enumerable call method <code>#each</code> in the including class:</p>
<ul><li>
<p><a href="Hash.html#each-instance_method" title="Hash#each (method)">Hash#each</a> yields the next key-value pair as a 2-element <a href="Array.html" title="Array (class)"><code>::Array</code></a>.</p>
</li><li>
<p><a href="Struct.html#each-instance_method" title="Struct#each (method)">Struct#each</a> yields the next name-value pair as a 2-element <a href="Array.html" title="Array (class)"><code>::Array</code></a>.</p>
</li><li>
<p>For the other classes above, <code>#each</code> yields the next object from the collection.</p>
</li></ul>

<h3 id="label-About+the+Examples">About the Examples</h3>

<p>The example code snippets for the Enumerable methods:</p>
<ul><li>
<p>Always show the use of one or more Array-like classes (often <a href="Array.html" title="Array (class)"><code>::Array</code></a> itself).</p>
</li><li>
<p>Sometimes show the use of a Hash-like class. For some methods, though, the usage would not make sense, and so it is not shown.  Example: #tally would find exactly one of each Hash entry.</p>
</li></ul>

<h3 id="label-Extended+Methods">Extended Methods</h3>

<p>A Enumerable class may define extended methods. This section describes the standard behavior of extension methods for reference purposes.</p>

<h4 id="label-7B-23size-7D"><code>#size</code></h4>

<p>Enumerator has a <code>#size</code> method. It uses the size function argument passed to <a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">Enumerator.new</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></span>.<span class='id identifier rubyid_new'><a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">new</a></span>(<span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='int'>3</span> }) {<span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_y'>y</span><span class='semicolon'>;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_yield'>yield</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='semicolon'>;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_yield'>yield</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='semicolon'>;</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_yield'>yield</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span><span class='semicolon'>;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_z'>z</span> }
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'>#=&gt; :a
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'>#=&gt; :b
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'>#=&gt; :c
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span>
<span class='kw'>rescue</span> <span class='const'><a href="StopIteration.html" title="StopIteration (class)">StopIteration</a></span>
  <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_result'>result</span> <span class='comment'>#=&gt; :z
</span><span class='kw'>end</span></code></pre>

<p>The result of the size function should represent the number of iterations (i.e., the number of times <a href="Enumerator/Yielder.html#yield-instance_method" title="Enumerator::Yielder#yield (method)">Enumerator::Yielder#yield</a> is called). In the above example, the block calls <code>#yield</code> three times, and the size function, <tt>-&gt; { 3 }</tt>, returns 3 accordingly. The result of the size function can be an integer, <a href="Float.html#INFINITY-constant" title="Float::INFINITY (constant)">Float::INFINITY</a>, or <code>nil</code>. An integer means the exact number of times <code>#yield</code> will be called, as shown above. <a href="Float.html#INFINITY-constant" title="Float::INFINITY (constant)">Float::INFINITY</a> indicates an infinite number of <code>#yield</code> calls. <code>nil</code> means the number of <code>#yield</code> calls is difficult or impossible to determine.</p>

<p>Many iteration methods return an Enumerator object with an appropriate size function if no block is given.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 3
</span>{<span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>b:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>c:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>}.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 3
</span>(<span class='int'>0</span><span class='op'>..</span><span class='int'>20</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>.<span class='id identifier rubyid_permutation'>permutation</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 51090942171709440000
</span><span class='id identifier rubyid_loop'>loop</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; Float::INFINITY
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>100</span>).<span class='id identifier rubyid_drop_while'><a href="#drop_while-instance_method" title="Enumerable#drop_while (method)">drop_while</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; nil  # size depends on the block&#39;s behavior
</span><span class='const'><a href="top-level-namespace.html#STDIN-constant" title="STDIN (constant)">STDIN</a></span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; nil # cannot be computed without consuming input
</span><span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_open'><a href="File.html#open-class_method" title="File.open (method)">open</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/etc/resolv.conf</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_each'><a href="IO.html#each-instance_method" title="IO#each (method)">each</a></span>.<span class='id identifier rubyid_size'><a href="Enumerator.html#size-instance_method" title="Enumerator#size (method)">size</a></span> <span class='comment'>#=&gt; nil # cannot be computed without reading the file</span></code></pre>

<p>The behavior of <code>#size</code> for Range-based enumerators depends on the <code>#begin</code> element:</p>
<ul><li>
<p>If the <code>#begin</code> element is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, the <code>#size</code> method returns an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> or <a href="Float.html#INFINITY-constant" title="Float::INFINITY (constant)">Float::INFINITY</a>.</p>
</li><li>
<p>If the <code>#begin</code> element is an object with a <code>#succ</code> method (other than <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>), <code>#size</code> returns <code>nil</code>. (Computing the size would require repeatedly calling #succ, which may be too slow.)</p>
</li><li>
<p>If the <code>#begin</code> element does not have a <code>#succ</code> method, <code>#size</code> raises a <a href="TypeError.html" title="TypeError (class)"><code>::TypeError</code></a>.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>10</span><span class='op'>..</span><span class='int'>42</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 33
</span>(<span class='int'>10</span><span class='op'>..</span><span class='float'>42.9</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; 33 (the #end element may be a non-integer numeric)
</span>(<span class='int'>10</span><span class='op'>..</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; Float::INFINITY
</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; nil
</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>..</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'>#=&gt; nil
</span>(<span class='float'>1.0</span><span class='op'>..</span><span class='float'>9.0</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># raises TypeError (Float does not have #succ)
</span>(<span class='op'>..</span><span class='int'>10</span>).<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># raises TypeError (beginless range has nil as its #begin)</span></code></pre>

<p>The Enumerable module itself does not define a <code>#size</code> method. A class that includes Enumerable may define its own <code>#size</code> method. It is recommended that such a <code>#size</code> method be consistent with <a href="Enumerator.html#size-instance_method" title="Enumerator#size (method)">Enumerator#size</a>.</p>

<p><a href="Array.html" title="Array (class)"><code>::Array</code></a> and <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a> implement <code>#size</code> and return values consistent with <a href="Enumerator.html#size-instance_method" title="Enumerator#size (method)">Enumerator#size</a>. <a href="IO.html" title="IO (class)"><code>::IO</code></a> and <a href="Dir.html" title="Dir (class)"><code>::Dir</code></a> do not define <code>#size</code>, which is also consistent because the corresponding enumerator’s size function returns <code>nil</code>.</p>

<p>However, it is not strictly required for a class’s <code>#size</code> method to match <a href="Enumerator.html#size-instance_method" title="Enumerator#size (method)">Enumerator#size</a>. For example, <a href="File.html#size-instance_method" title="File#size (method)">File#size</a> returns the number of bytes in the file, not the number of lines.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#all%3F-instance_method" title="#all? (instance method)">#<strong>all?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether every element meets a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether any element meets a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chain-instance_method" title="#chain (instance method)">#<strong>chain</strong>(*enums)  &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an enumerator object generated from this enumerator and given enumerables.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chunk-instance_method" title="#chunk (instance method)">#<strong>chunk</strong> {|array| ... } &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Each element in the returned enumerator is a 2-element array consisting of:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chunk_while-instance_method" title="#chunk_while (instance method)">#<strong>chunk_while</strong> {|elt_before, elt_after| ... } &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an enumerator for each chunked elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collect-instance_method" title="#map (instance method)">#<strong>map</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collect_concat-instance_method" title="#flat_map (instance method)">#<strong>flat_map</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of all non-<code>nil</code> elements:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of elements, based on an argument or block criterion, if given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(n = nil) {|element| ... } &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When called with positive integer argument <code>n</code> and a block, calls the block with each element, then does so again, until it has done so <code>n</code> times; returns <code>nil</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#detect-instance_method" title="#find (instance method)">#<strong>find</strong>(if_none_proc = nil) {|element| ... } &#x21d2; Object<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#find-instance_method" title="Enumerable#find (method)">#find</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>For positive integer <code>n</code>, returns an array containing all but the first <code>n</code> elements:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop_while-instance_method" title="#drop_while (instance method)">#<strong>drop_while</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements after that point:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_cons-instance_method" title="#each_cons (instance method)">#<strong>each_cons</strong>(n)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with each successive overlapped <code>n</code>-tuple of elements; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_entry-instance_method" title="#each_entry (instance method)">#<strong>each_entry</strong>(*args) {|element| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each element, converting multiple values from yield to an array; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_slice-instance_method" title="#each_slice (instance method)">#<strong>each_slice</strong>(n)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with each successive disjoint <code>n</code>-tuple of elements; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_with_index-instance_method" title="#each_with_index (instance method)">#<strong>each_with_index</strong>(*args) {|element, i| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invoke <code>self.each</code> with <code>*args</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_with_object-instance_method" title="#each_with_object (instance method)">#<strong>each_with_object</strong>(object) {|(*args), memo_object| ... } &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block once for each element, passing both the element and the given object:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#entries-instance_method" title="#entries (instance method)">#<strong>entries</strong>(*args)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter-instance_method" title="#select (instance method)">#<strong>select</strong> {|element| ... } &#x21d2; Array </a>
      (also: #find_all, #select)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array containing elements selected by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter_map-instance_method" title="#filter_map (instance method)">#<strong>filter_map</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array containing truthy elements returned by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find-instance_method" title="#find (instance method)">#<strong>find</strong>(if_none_proc = nil) {|element| ... } &#x21d2; Object<sup>?</sup> </a>
      (also: #detect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the first element for which the block returns a truthy value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_all-instance_method" title="#select (instance method)">#<strong>select</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter-instance_method" title="Enumerable#filter (method)">#filter</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_index-instance_method" title="#find_index (instance method)">#<strong>find_index</strong>(object)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the index of the first element that meets a specified criterion, or <code>nil</code> if no such element is found.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>  &#x21d2; element<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the first element or elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flat_map-instance_method" title="#flat_map (instance method)">#<strong>flat_map</strong> {|element| ... } &#x21d2; Array </a>
      (also: #collect_concat)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of flattened objects returned by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grep-instance_method" title="#grep (instance method)">#<strong>grep</strong>(pattern)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of objects based elements of <code>self</code> that match the given pattern.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grep_v-instance_method" title="#grep_v (instance method)">#<strong>grep_v</strong>(pattern)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of objects based on elements of <code>self</code> that <em>don’t</em> match the given pattern.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#group_by-instance_method" title="#group_by (instance method)">#<strong>group_by</strong> {|element| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given returns a hash:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inject-instance_method" title="#inject (instance method)">#<strong>inject</strong>(symbol)  &#x21d2; Object </a>
      (also: #reduce)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of applying a reducer to an initial value and the first element of the <code>Enumerable</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lazy-instance_method" title="#lazy (instance method)">#<strong>lazy</strong>  &#x21d2; lazy_enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)"><code>::Enumerator::Lazy</code></a>, which redefines most <code>Enumerable</code> methods to postpone enumeration and enumerate values only on an as-needed basis.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong> {|element| ... } &#x21d2; Array </a>
      (also: #collect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of objects returned by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#max-instance_method" title="#max (instance method)">#<strong>max</strong>  &#x21d2; element </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the element with the maximum element according to a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#max_by-instance_method" title="#max_by (instance method)">#<strong>max_by</strong> {|element| ... } &#x21d2; element </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the elements for which the block returns the maximum values.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(object)  &#x21d2; Boolean </a>
      (also: #include?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether for any element <code>object == element</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#min-instance_method" title="#min (instance method)">#<strong>min</strong>  &#x21d2; element </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the element with the minimum element according to a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#min_by-instance_method" title="#min_by (instance method)">#<strong>min_by</strong> {|element| ... } &#x21d2; element </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the elements for which the block returns the minimum values.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#minmax-instance_method" title="#minmax (instance method)">#<strong>minmax</strong>  &#x21d2; Array, maximum </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 2-element array containing the minimum and maximum elements according to a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#minmax_by-instance_method" title="#minmax_by (instance method)">#<strong>minmax_by</strong> {|element| ... } &#x21d2; Array, maximum </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 2-element array containing the elements for which the block returns minimum and maximum values:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#none%3F-instance_method" title="#none? (instance method)">#<strong>none?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether no element meets a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#one%3F-instance_method" title="#one? (instance method)">#<strong>one?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether exactly one element meets a given criterion.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong> {|element| ... } &#x21d2; Array, false_array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, returns an array of two arrays:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reduce-instance_method" title="#inject (instance method)">#<strong>inject</strong>(symbol)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#inject-instance_method" title="Enumerable#inject (method)">#inject</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of objects rejected by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse_each-instance_method" title="#reverse_each (instance method)">#<strong>reverse_each</strong>(*args) {|element| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each element, but in reverse order; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter-instance_method" title="Enumerable#filter (method)">#filter</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice_after-instance_method" title="#slice_after (instance method)">#<strong>slice_after</strong>(pattern)  &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an enumerator for each chunked elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice_before-instance_method" title="#slice_before (instance method)">#<strong>slice_before</strong>(pattern)  &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With argument <code>pattern</code>, returns an enumerator that uses the pattern to partition elements into arrays (“slices”).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice_when-instance_method" title="#slice_when (instance method)">#<strong>slice_when</strong> {|elt_before, elt_after| ... } &#x21d2; Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an enumerator for each chunked elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array containing the sorted elements of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort_by-instance_method" title="#sort_by (instance method)">#<strong>sort_by</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, returns an array of elements of <code>self</code>, sorted according to the value returned by the block for each element.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(initial_value = 0)  &#x21d2; Numeric </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With no block given, returns the sum of <code>initial_value</code> and the elements:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>For non-negative integer <code>n</code>, returns the first <code>n</code> elements:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#take_while-instance_method" title="#take_while (instance method)">#<strong>take_while</strong> {|element| ... } &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements up to that point:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tally-instance_method" title="#tally (instance method)">#<strong>tally</strong>(hash = {})  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When argument <code>hash</code> is not given, returns a new hash whose keys are the distinct elements in <code>self</code>; each integer value is the count of occurrences of each element:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#entries-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>(*args)  &#x21d2; Array </a>
      (also: #entries)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array containing the items in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>(*args)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When <code>self</code> consists of 2-element arrays, returns a hash each of whose entries is the key-value pair formed from one of those arrays:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_set-instance_method" title="#to_set (instance method)">#<strong>to_set</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Makes a set from the enumerable object with given arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With no block, returns a new array containing only unique elements; the array has no two elements <code>e0</code> and <code>e1</code> such that <code>e0.eql?(e1)</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#zip-instance_method" title="#zip (instance method)">#<strong>zip</strong>(*other_enums)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With no block given, returns a new array <code>new_array</code> of size self.size whose elements are arrays.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="all?-instance_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>#<strong>all?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>all?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>all?</strong> {|element| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether every element meets a given criterion.</p>

<p>If <code>self</code> has no element, returns <code>true</code> and argument or block are not used.</p>

<p>With no argument and no block, returns whether every element is truthy:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span>           <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_all?'>all?</span>      <span class='comment'># =&gt; true
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='kw'>nil</span>].<span class='id identifier rubyid_all?'>all?</span>      <span class='comment'># =&gt; false
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>false</span>].<span class='id identifier rubyid_all?'>all?</span> <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_all?'>all?</span>               <span class='comment'># =&gt; true</span></code></pre>

<p>With argument <code>pattern</code> and no block, returns whether for each element <code>element</code>, <code>pattern === element</code>:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)                 <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span>)                 <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Float.html" title="Float (class)">Float</a></span>)                   <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_all?'>all?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ba</span><span class='regexp_end'>/</span></span>)       <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_all?'>all?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>bar</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_all?'>all?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ba</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Array.html" title="Array (class)">Array</a></span>) <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>)  <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_all?'>all?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)                     <span class='comment'># =&gt; true</span></code></pre>

<p>With a block given, returns whether the block returns a truthy value for every element:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>5</span> }                    <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_all?'>all?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>4</span> }                    <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_all?'>all?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_all?'>all?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; false</span></code></pre>

<p>Related: <a href="#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>, <a href="#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a> <a href="#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1857-L1864'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1857' data-end='1864'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1857</span></pre>
<pre class='code cpp'>

static VALUE
enum_all(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo = MEMO_ENUM_NEW(Qtrue);
    WARN_UNUSED_BLOCK(argc);
    ENUM_BLOCK_CALL(all);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="any?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>any?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong> {|element| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether any element meets a given criterion.</p>

<p>If <code>self</code> has no element, returns <code>false</code> and argument or block are not used.</p>

<p>With no argument and no block, returns whether any element is truthy:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_any?'>any?</span>          <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_any?'>any?</span>     <span class='comment'># =&gt; true
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span>].<span class='id identifier rubyid_any?'>any?</span> <span class='comment'># =&gt; true
</span>[].<span class='id identifier rubyid_any?'>any?</span>              <span class='comment'># =&gt; false</span></code></pre>

<p>With argument <code>pattern</code> and no block, returns whether for any element <code>element</code>, <code>pattern === element</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)        <span class='comment'># =&gt; true
</span>[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span>)        <span class='comment'># =&gt; true
</span>[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Float.html" title="Float (class)">Float</a></span>)          <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>m</span><span class='regexp_end'>/</span></span>)        <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>foo</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ba</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Array.html" title="Array (class)">Array</a></span>) <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>)  <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_any?'>any?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)                     <span class='comment'># =&gt; false</span></code></pre>

<p>With a block given, returns whether the block returns a truthy value for any element:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>2</span> }                    <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>1</span> }                    <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>1</span> } <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>0</span> } <span class='comment'># =&gt; false</span></code></pre>

<p>Related: <a href="#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1919-L1926'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1919' data-end='1926'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1919</span></pre>
<pre class='code cpp'>

static VALUE
enum_any(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo = MEMO_ENUM_NEW(Qfalse);
    WARN_UNUSED_BLOCK(argc);
    ENUM_BLOCK_CALL(any);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chain-instance_method">
  <h3 class='signature '>
    #<strong>chain</strong>(*enums)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an enumerator object generated from this enumerator and given enumerables.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>3</span>).<span class='id identifier rubyid_chain'>chain</span>([<span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>])
<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [1, 2, 3, 4, 5]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enumerator.c#L3388-L3394'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3388' data-end='3394'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 3388</span></pre>
<pre class='code cpp'>

static VALUE
enum_chain(int argc, VALUE *argv, VALUE obj)
{
    VALUE enums = rb_ary_new_from_values(1, &amp;obj);
    rb_ary_cat(enums, argv, argc);
    return new_enum_chain(enums);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chunk-instance_method">
  <h3 class='signature '>
    #<strong>chunk</strong> {|array| ... } &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Each element in the returned enumerator is a 2-element array consisting of:</p>
<ul><li>
<p>A value returned by the block.</p>
</li><li>
<p>An array (“chunk”) containing the element for which that value was returned, and all following elements for which the block returned the same value:</p>
</li></ul>

<p>So that:</p>
<ul><li>
<p>Each block return value that is different from its predecessor begins a new chunk.</p>
</li><li>
<p>Each block return value that is the same as its predecessor continues the same chunk.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> (<span class='int'>0</span><span class='op'>..</span><span class='int'>10</span>).<span class='id identifier rubyid_chunk'>chunk</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> (<span class='id identifier rubyid_i'>i</span> <span class='op'>/</span> <span class='int'>3</span>).<span class='id identifier rubyid_floor'>floor</span> } <span class='comment'># =&gt; #&lt;Enumerator: ...&gt;
</span><span class='comment'># The enumerator elements.
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'># =&gt; [0, [0, 1, 2]]
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'># =&gt; [1, [3, 4, 5]]
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'># =&gt; [2, [6, 7, 8]]
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span> <span class='comment'># =&gt; [3, [9, 10]]</span></code></pre>

<p><a href="Method.html" title="Method (class)"><code>::Method</code></a> <code>chunk</code> is especially useful for an enumerable that is already sorted. This example counts words for each initial letter in a large array of words:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get sorted words from a web page.
</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://raw.githubusercontent.com/eneko/data-repository/master/data/words.txt</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_words'>words</span> <span class='op'>=</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_url'>url</span>).<span class='id identifier rubyid_readlines'>readlines</span>
<span class='comment'># Make chunks, one for each letter.
</span><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_chunk'>chunk</span> {<span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_upcase'>upcase</span>[<span class='int'>0</span>] } <span class='comment'># =&gt; #&lt;Enumerator: ...&gt;
</span><span class='comment'># Display &#39;A&#39; through &#39;F&#39;.
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_words'>words</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_length'>length</span>]<span class='semicolon'>;</span> <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>F</span><span class='tstring_end'>&#39;</span></span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>17096</span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>11070</span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>19901</span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>D</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>10896</span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>E</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>8736</span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>F</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>6860</span>]</code></pre>

<p>You can use the special symbol <code>:_alone</code> to force an element into its own separate chunk:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>]
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk'>chunk</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid__alone'>_alone</span> <span class='op'>:</span> <span class='kw'>true</span> }
<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'># =&gt; [[:_alone, [0]], [:_alone, [0]], [true, [1, 1]]]</span></code></pre>

<p>For example, you can put each line that contains a URL into its own chunk:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>http</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_chunk'>chunk</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid__alone'>_alone</span> <span class='op'>:</span> <span class='kw'>true</span> }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
  }
}</code></pre>

<p>You can use the special symbol <code>:_separator</code> or <code>nil</code> to force an element to be ignored (not included in any chunk):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>]
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk'>chunk</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid__separator'>_separator</span> <span class='op'>:</span> <span class='kw'>true</span> }
<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'># =&gt; [[true, [0, 0]], [true, [1, 1]]]</span></code></pre>

<p>Note that the separator does end the chunk:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>]
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk'>chunk</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='id identifier rubyid__separator'>_separator</span> <span class='op'>:</span> <span class='kw'>true</span> }
<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'># =&gt; [[true, [0, 0]], [true, [1]], [true, [1]]]</span></code></pre>

<p>For example, the sequence of hyphens in svn log can be eliminated as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sep'>sep</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>72</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='const'><a href="IO.html" title="IO (class)">IO</a></span>.<span class='id identifier rubyid_popen'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>svn log README</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_chunk'>chunk</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>!=</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>||</span> <span class='kw'>nil</span>
  }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
  }
}
<span class='comment'>#=&gt; [&quot;r20018 | knu | 2008-10-29 13:20:42 +0900 (Wed, 29 Oct 2008) | 2 lines\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;,
</span><span class='comment'>#    &quot;* README, README.ja: Update the portability section.\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;]
</span><span class='comment'>#   [&quot;r16725 | knu | 2008-05-31 23:34:23 +0900 (Sat, 31 May 2008) | 2 lines\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;,
</span><span class='comment'>#    &quot;* README, README.ja: Add a note about default C flags.\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;]
</span><span class='comment'>#   ...</span></code></pre>

<p>Paragraphs separated by empty lines can be parsed as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_foreach'><a href="IO.html#foreach-class_method" title="IO.foreach (method)">foreach</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>README</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_chunk'>chunk</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*\z</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>||</span> <span class='kw'>nil</span>
}.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
  <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
}</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4006-L4018'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4006' data-end='4018'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4006</span></pre>
<pre class='code cpp'>

static VALUE
enum_chunk(VALUE enumerable)
{
    VALUE enumerator;

    RETURN_SIZED_ENUMERATOR(enumerable, 0, 0, enum_size);

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, id_chunk_enumerable, enumerable);
    rb_ivar_set(enumerator, id_chunk_categorize, rb_block_proc());
    rb_block_call(enumerator, idInitialize, 0, 0, chunk_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chunk_while-instance_method">
  <h3 class='signature '>
    #<strong>chunk_while</strong> {|elt_before, elt_after| ... } &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an enumerator for each chunked elements. The beginnings of chunks are defined by the block.</p>

<p>This method splits each chunk using adjacent elements, <em>elt_before</em> and <em>elt_after</em>, in the receiver enumerator. This method split chunks between <em>elt_before</em> and <em>elt_after</em> where the block returns <code>false</code>.</p>

<p>The block is called the length of the receiver enumerator minus one.</p>

<p>The result enumerator yields the chunked elements as an array. So <code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_chunk_while'>chunk_while</span> { <span class='op'>|</span><span class='id identifier rubyid_elt_before'>elt_before</span><span class='comma'>,</span> <span class='id identifier rubyid_elt_after'>elt_after</span><span class='op'>|</span> <span class='id identifier rubyid_bool'>bool</span> }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span> <span class='op'>...</span> }</code></pre>

<p>Other methods of the <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> class and <code>Enumerable</code> module, such as <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>, etc., are also usable.</p>

<p>For example, one-by-one increasing subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>11</span><span class='comma'>,</span><span class='int'>12</span><span class='comma'>,</span><span class='int'>15</span><span class='comma'>,</span><span class='int'>16</span><span class='comma'>,</span><span class='int'>19</span><span class='comma'>,</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>21</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk_while'>chunk_while</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span> <span class='op'>==</span> <span class='id identifier rubyid_j'>j</span> }
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[1, 2], [4], [9, 10, 11, 12], [15, 16], [19, 20, 21]]
</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Enumerable#first (method)">first</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_c'>c</span> <span class='comment'>#=&gt; [[1, 2], [4], &quot;9-12&quot;, [15, 16], &quot;19-21&quot;]
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_d'>d</span> <span class='comment'>#=&gt; &quot;1,2,4,9-12,15,16,19-21&quot;</span></code></pre>

<p>Increasing (non-decreasing) subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk_while'>chunk_while</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_j'>j</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[0, 9], [2, 2, 3], [2, 7], [5, 9], [5]]</span></code></pre>

<p>Adjacent evens and odds can be chunked as follows: (Enumerable#chunk is another way to do it.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chunk_while'>chunk_while</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> <span class='op'>==</span> <span class='id identifier rubyid_j'>j</span>.<span class='id identifier rubyid_even?'>even?</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[7, 5, 9], [2, 0], [7, 9], [4, 2, 0]]</span></code></pre>

<p><a href="#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a> does the same, except splitting when the block returns <code>true</code> instead of <code>false</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4580-L4595'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4580' data-end='4595'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4580</span></pre>
<pre class='code cpp'>

static VALUE
enum_chunk_while(VALUE enumerable)
{
    VALUE enumerator;
    VALUE pred;

    pred = rb_block_proc();

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, id_slicewhen_enum, enumerable);
    rb_ivar_set(enumerator, id_slicewhen_pred, pred);
    rb_ivar_set(enumerator, id_slicewhen_inverted, Qtrue);

    rb_block_call(enumerator, idInitialize, 0, 0, slicewhen_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>map</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="collect_concat-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>flat_map</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>flat_map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="compact-instance_method">
  <h3 class='signature '>
    #<strong>compact</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of all non-<code>nil</code> elements:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='kw'>nil</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='kw'>nil</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_compact'>compact</span> <span class='comment'># =&gt; [0, &quot;a&quot;, false, false, &quot;a&quot;, 0]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4940-L4949'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4940' data-end='4949'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4940</span></pre>
<pre class='code cpp'>

static VALUE
enum_compact(VALUE obj)
{
    VALUE ary;

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, compact_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>count</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>count</strong>(object)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>count</strong> {|element| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of elements, based on an argument or block criterion, if given.</p>

<p>With no argument and no block given, returns the number of elements:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_count'>count</span>                <span class='comment'># =&gt; 3
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_count'>count</span> <span class='comment'># =&gt; 3</span></code></pre>

<p>With argument <code>object</code> given, returns the number of elements that are <code>==</code> to <code>object</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>].<span class='id identifier rubyid_count'>count</span>(<span class='int'>1</span>)           <span class='comment'># =&gt; 2</span></code></pre>

<p>With a block given, calls the block with each element and returns the number of elements for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_count'>count</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>2</span>}              <span class='comment'># =&gt; 2
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_count'>count</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span>} <span class='comment'># =&gt; 2</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L297-L323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='297' data-end='323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 297</span></pre>
<pre class='code cpp'>

static VALUE
enum_count(int argc, VALUE *argv, VALUE obj)
{
    VALUE item = Qnil;
    struct MEMO *memo;
    rb_block_call_func *func;

    if (argc == 0) {
        if (rb_block_given_p()) {
            func = count_iter_i;
        }
        else {
            func = count_all_i;
        }
    }
    else {
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;item);
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        func = count_i;
    }

    memo = rb_imemo_memo_new(item, 0, 0);
    rb_block_call(obj, id_each, 0, 0, func, (VALUE)memo);
    return imemo_count_value(memo);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cycle-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>cycle</strong>(n = nil) {|element| ... } &#x21d2; <code>nil</code> </span>
      <span class='overload'>#<strong>cycle</strong>(n = nil)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When called with positive integer argument <code>n</code> and a block, calls the block with each element, then does so again, until it has done so <code>n</code> times; returns <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_cycle'>cycle</span>(<span class='int'>3</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) } <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [1, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_cycle'>cycle</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_cycle'>cycle</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[:foo, 0], [:bar, 1], [:baz, 2], [:foo, 0], [:bar, 1], [:baz, 2]]</span></code></pre>

<p>If count is zero or negative, does not call the block.</p>

<p>When called with a block and <code>n</code> is <code>nil</code>, cycles forever.</p>

<p>When no block is given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3792-L3820'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3792' data-end='3820'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3792</span></pre>
<pre class='code cpp'>

static VALUE
enum_cycle(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary;
    VALUE nv = Qnil;
    long n, i, len;

    rb_check_arity(argc, 0, 1);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_cycle_size);
    if (!argc || NIL_P(nv = argv[0])) {
        n = -1;
    }
    else {
        n = NUM2LONG(nv);
        if (n &lt;= 0) return Qnil;
    }
    ary = rb_ary_new();
    RBASIC_CLEAR_CLASS(ary);
    rb_block_call(obj, id_each, 0, 0, cycle_i, ary);
    len = RARRAY_LEN(ary);
    if (len == 0) return Qnil;
    while (n &lt; 0 || 0 &lt; --n) {
        for (i=0; i&lt;len; i++) {
            enum_yield_array(RARRAY_AREF(ary, i));
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="detect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>find</strong>(if_none_proc = nil) {|element| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find</strong>(if_none_proc = nil)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#find-instance_method" title="Enumerable#find (method)">#find</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="drop-instance_method">
  <h3 class='signature '>
    #<strong>drop</strong>(n)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For positive integer <code>n</code>, returns an array containing all but the first <code>n</code> elements:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>)
<span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>3</span>)  <span class='comment'># =&gt; [4]
</span><span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>2</span>)  <span class='comment'># =&gt; [3, 4]
</span><span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>1</span>)  <span class='comment'># =&gt; [2, 3, 4]
</span><span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>0</span>)  <span class='comment'># =&gt; [1, 2, 3, 4]
</span><span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>50</span>) <span class='comment'># =&gt; []
</span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='int'>3</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_drop'>drop</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [[:baz, 2], [:bat, 3]]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3658-L3673'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3658' data-end='3673'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3658</span></pre>
<pre class='code cpp'>

static VALUE
enum_drop(VALUE obj, VALUE n)
{
    VALUE result;
    struct MEMO *memo;
    long len = NUM2LONG(n);

    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }

    result = rb_ary_new();
    memo = rb_imemo_memo_new(result, 0, len);
    rb_block_call(obj, id_each, 0, 0, drop_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop_while-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>drop_while</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>drop_while</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements after that point:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_drop_while'>drop_while</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; [3, 4]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_drop_while'>drop_while</span>{<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_element'>element</span><span class='semicolon'>;</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[:baz, 2]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_drop_while'>drop_while</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span> <span class='comment'>#=&gt; #&lt;Enumerator: 1..4:drop_while&gt;
</span><span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span><span class='semicolon'>;</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_i'>i</span><span class='semicolon'>;</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_feed'>feed</span>(<span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span>) <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span><span class='semicolon'>;</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_i'>i</span><span class='semicolon'>;</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_feed'>feed</span>(<span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span>) <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span><span class='semicolon'>;</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_i'>i</span><span class='semicolon'>;</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_feed'>feed</span>(<span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span>) <span class='comment'>#=&gt; 3
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_next'>next</span>
<span class='kw'>rescue</span> <span class='const'><a href="StopIteration.html" title="StopIteration (class)">StopIteration</a></span>
  <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_result'>result</span> <span class='comment'>#=&gt; [3, 4]
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3721-L3732'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3721' data-end='3732'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3721</span></pre>
<pre class='code cpp'>

static VALUE
enum_drop_while(VALUE obj)
{
    VALUE result;
    struct MEMO *memo;

    RETURN_ENUMERATOR(obj, 0, 0);
    result = rb_ary_new();
    memo = rb_imemo_memo_new(result, 0, FALSE);
    rb_block_call(obj, id_each, 0, 0, drop_while_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_cons-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_cons</strong>(n)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_cons</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with each successive overlapped <code>n</code>-tuple of elements; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='int'>1</span><span class='op'>..</span><span class='int'>5</span>).<span class='id identifier rubyid_each_cons'>each_cons</span>(<span class='int'>3</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[1, 2, 3], [2, 3, 4], [3, 4, 5]]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span>  <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bam:</span> <span class='int'>3</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_cons'>each_cons</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[[:foo, 0], [:bar, 1]], [[:bar, 1], [:baz, 2]], [[:baz, 2], [:bam, 3]]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3299-L3314'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3299' data-end='3314'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3299</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_cons(VALUE obj, VALUE n)
{
    long size = NUM2LONG(n);
    struct MEMO *memo;
    int arity;

    if (size &lt;= 0) rb_raise(rb_eArgError, &quot;invalid size&quot;);
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;n, enum_each_cons_size);
    arity = rb_block_arity();
    if (enum_size_over_p(obj, size)) return obj;
    memo = rb_imemo_memo_new(rb_ary_new2(size), dont_recycle_block_arg(arity), size);
    rb_block_call(obj, id_each, 0, 0, each_cons_i, (VALUE)memo);

    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_entry-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_entry</strong>(*args) {|element| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_entry</strong>(*args)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each element, converting multiple values from yield to an array; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_each_entry'>each_entry</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) } <span class='comment'># =&gt; 1..4
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [1, 2, 3, 4]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span><span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_entry'>each_entry</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[:foo, 0], [:bar, 1], [:baz, 2]]
</span>
<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>Enumerable</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
    <span class='kw'>yield</span> <span class='int'>1</span>
    <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='const'>Foo</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_each_entry'>each_entry</span> {<span class='op'>|</span><span class='id identifier rubyid_yielded'>yielded</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_yielded'>yielded</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>1</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]
<span class='kw'>nil</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3131-L3137'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3131' data-end='3137'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3131</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_entry(int argc, VALUE *argv, VALUE obj)
{
    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);
    rb_block_call(obj, id_each, argc, argv, each_val_i, 0);
    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_slice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_slice</strong>(n)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_slice</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with each successive disjoint <code>n</code>-tuple of elements; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='int'>1</span><span class='op'>..</span><span class='int'>10</span>).<span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='int'>3</span>) {<span class='op'>|</span><span class='id identifier rubyid_tuple'>tuple</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_tuple'>tuple</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bam:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_tuple'>tuple</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_tuple'>tuple</span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[[:foo, 0], [:bar, 1]], [[:baz, 2], [:bat, 3]], [[:bam, 4]]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3221-L3240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3221' data-end='3240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3221</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_slice(VALUE obj, VALUE n)
{
    long size = NUM2LONG(n);
    VALUE ary;
    struct MEMO *memo;
    int arity;

    if (size &lt;= 0) rb_raise(rb_eArgError, &quot;invalid slice size&quot;);
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;n, enum_each_slice_size);
    size = limit_by_enum_size(obj, size);
    ary = rb_ary_new2(size);
    arity = rb_block_arity();
    memo = rb_imemo_memo_new(ary, dont_recycle_block_arg(arity), size);
    rb_block_call(obj, id_each, 0, 0, each_slice_i, (VALUE)memo);
    ary = memo-&gt;v1;
    if (RARRAY_LEN(ary) &gt; 0) rb_yield(ary);

    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_with_index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_with_index</strong>(*args) {|element, i| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_with_index</strong>(*args)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invoke <code>self.each</code> with <code>*args</code>. With a block given, the block receives each element and its index; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_each_with_index'>each_with_index</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_element'>element</span>] <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span> } <span class='comment'># =&gt; 1..4
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {1=&gt;0, 2=&gt;1, 3=&gt;2, 4=&gt;3}
</span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_element'>element</span>] <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span> }
<span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {&quot;a&quot;=&gt;0, &quot;b&quot;=&gt;1, &quot;c&quot;=&gt;2, &quot;d&quot;=&gt;3}
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>([<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_element'>element</span>]) }
<span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[0, [:foo, 0]], [1, [:bar, 1]], [2, [:baz, 2]]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3025-L3032'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3025' data-end='3032'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3025</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_with_index(int argc, VALUE *argv, VALUE obj)
{
    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    rb_block_call(obj, id_each, argc, argv, each_with_index_i, INT2FIX(0));
    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_with_object-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_with_object</strong>(object) {|(*args), memo_object| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>each_with_object</strong>(object)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block once for each element, passing both the element and the given object:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_each_with_object'>each_with_object</span>([]) {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_i'>i</span><span class='op'>**</span><span class='int'>2</span>) }
<span class='comment'># =&gt; [1, 4, 9, 16]
</span>
{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) {<span class='op'>|</span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)<span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_v'>v</span>] <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span> }
<span class='comment'># =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3340-L3348'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3340' data-end='3348'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3340</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_with_object(VALUE obj, VALUE memo)
{
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;memo, enum_size);

    rb_block_call(obj, id_each, 0, 0, each_with_object_i, memo);

    return memo;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="entries-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_a</strong>(*args)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>entries</strong>(*args)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="filter-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#find_all, #select</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array containing elements selected by the block.</p>

<p>With a block given, calls the block with successive elements; returns an array of those elements for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>9</span>).<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Enumerable#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>%</span> <span class='int'>3</span> <span class='op'>==</span> <span class='int'>0</span> } <span class='comment'># =&gt; [0, 3, 6, 9]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Enumerable#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; {:bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: <a href="#reject-instance_method" title="Enumerable#reject (method)">#reject</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L528-L539'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='528' data-end='539'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 528</span></pre>
<pre class='code cpp'>

static VALUE
enum_find_all(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, find_all_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter_map-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>filter_map</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>filter_map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array containing truthy elements returned by the block.</p>

<p>With a block given, calls the block with successive elements; returns an array containing each truthy value returned by the block:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>9</span>).<span class='id identifier rubyid_filter_map'>filter_map</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> }                              <span class='comment'># =&gt; [0, 4, 8, 12, 16]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_filter_map'>filter_map</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_even?'>even?</span> } <span class='comment'># =&gt; [:foo, :baz]</span></code></pre>

<p>When no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L569-L580'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='569' data-end='580'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 569</span></pre>
<pre class='code cpp'>

static VALUE
enum_filter_map(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, filter_map_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>find</strong>(if_none_proc = nil) {|element| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find</strong>(if_none_proc = nil)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#detect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the first element for which the block returns a truthy value.</p>

<p>With a block given, calls the block with successive elements of the collection; returns the first element for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>9</span>).<span class='id identifier rubyid_find'>find</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&gt;</span> <span class='int'>2</span>}                <span class='comment'># =&gt; 3</span></code></pre>

<p>If no such element is found, calls <code>if_none_proc</code> and returns its return value.</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>9</span>).<span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_proc'>proc</span> {<span class='kw'>false</span>}) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&gt;</span> <span class='int'>12</span>} <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_find'>find</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }            <span class='comment'># =&gt; [:bar, 1]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_proc'>proc</span> {[]}) {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; []</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L377-L397'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='377' data-end='397'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 377</span></pre>
<pre class='code cpp'>

static VALUE
enum_find(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE if_none;

    if_none = rb_check_arity(argc, 0, 1) ? argv[0] : Qnil;
    RETURN_ENUMERATOR(obj, argc, argv);
    memo = rb_imemo_memo_new(Qundef, 0, 0);
    if (rb_block_pair_yield_optimizable())
        rb_block_call2(obj, id_each, 0, 0, find_i_fast, (VALUE)memo, RB_BLOCK_NO_USE_PACKED_ARGS);
    else
        rb_block_call2(obj, id_each, 0, 0, find_i, (VALUE)memo, RB_BLOCK_NO_USE_PACKED_ARGS);
    if (memo-&gt;u3.cnt) {
        return memo-&gt;v1;
    }
    if (!NIL_P(if_none)) {
        return rb_funcallv(if_none, id_call, 0, 0);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_all-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter-instance_method" title="Enumerable#filter (method)">#filter</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="find_index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>find_index</strong>(object)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong> {|element| ... } &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>find_index</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the index of the first element that meets a specified criterion, or <code>nil</code> if no such element is found.</p>

<p>With argument <code>object</code> given, returns the index of the first element that is <code>==</code> <code>object</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_find_index'>find_index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1</span></code></pre>

<p>With a block given, calls the block with successive elements; returns the first element for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_find_index'>find_index</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; 1
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_find_index'>find_index</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>1</span> }         <span class='comment'># =&gt; 2</span></code></pre>

<p>With no argument and no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L451-L473'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='451' data-end='473'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 451</span></pre>
<pre class='code cpp'>

static VALUE
enum_find_index(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;	/* [return value, current index, ] */
    VALUE condition_value = Qnil;
    rb_block_call_func *func;

    if (argc == 0) {
        RETURN_ENUMERATOR(obj, 0, 0);
        func = find_index_iter_i;
    }
    else {
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;condition_value);
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        func = find_index_i;
    }

    memo = rb_imemo_memo_new(Qnil, condition_value, 0);
    rb_block_call(obj, id_each, 0, 0, func, (VALUE)memo);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="first-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>first</strong>  &#x21d2; <code>element</code><sup>?</sup> </span>
      <span class='overload'>#<strong>first</strong>(n)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the first element or elements.</p>

<p>With no argument, returns the first element, or <code>nil</code> if there is none:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_first'>first</span>                   <span class='comment'># =&gt; 1
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_first'>first</span>                <span class='comment'># =&gt; &quot;a&quot;
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_first'>first</span> <span class='comment'># =&gt; [:foo, 1]
</span>[].<span class='id identifier rubyid_first'>first</span>                       <span class='comment'># =&gt; nil</span></code></pre>

<p>With integer argument <code>n</code>, returns an array containing the first <code>n</code> elements that exist:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_first'>first</span>(<span class='int'>2</span>)                   <span class='comment'># =&gt; [1, 2]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_first'>first</span>(<span class='int'>3</span>)              <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_first'>first</span>(<span class='int'>50</span>)             <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_first'>first</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [[:foo, 1], [:bar, 1]]
</span>[].<span class='id identifier rubyid_first'>first</span>(<span class='int'>2</span>)                       <span class='comment'># =&gt; []</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1339-L1352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1339' data-end='1352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1339</span></pre>
<pre class='code cpp'>

static VALUE
enum_first(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        return enum_take(obj, argv[0]);
    }
    else {
        memo = rb_imemo_memo_new(Qnil, 0, 0);
        rb_block_call(obj, id_each, 0, 0, first_i, (VALUE)memo);
        return memo-&gt;v1;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flat_map-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>flat_map</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>flat_map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#collect_concat</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of flattened objects returned by the block.</p>

<p>With a block given, calls the block with successive elements; returns a flattened array of objects returned by the block:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_flat_map'>flat_map</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }                    <span class='comment'># =&gt; [0, -1, -2, -3]
</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_flat_map'>flat_map</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> [<span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>] }         <span class='comment'># =&gt; [0, 0, 1, -1, 2, -2, 3, -3]
</span>[[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span>]<span class='comma'>,</span> [<span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]].<span class='id identifier rubyid_flat_map'>flat_map</span> {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>+</span> [<span class='int'>100</span>] }                     <span class='comment'># =&gt; [0, 1, 100, 2, 3, 100]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_flat_map'>flat_map</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> [<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>] } <span class='comment'># =&gt; [:foo, 0, :bar, 1, :baz, 2]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Alias: <a href="#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L708-L719'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='708' data-end='719'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 708</span></pre>
<pre class='code cpp'>

static VALUE
enum_flat_map(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, flat_map_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grep-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>grep</strong>(pattern)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>grep</strong>(pattern) {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of objects based elements of <code>self</code> that match the given pattern.</p>

<p>With no block given, returns an array containing each element for which <code>pattern === element</code> is <code>true</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>car</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>moo</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ar</span><span class='regexp_end'>/</span></span>)                   <span class='comment'># =&gt; [&quot;bar&quot;, &quot;car&quot;]
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>10</span>).<span class='id identifier rubyid_grep'>grep</span>(<span class='int'>3</span><span class='op'>..</span><span class='int'>8</span>)             <span class='comment'># =&gt; [3, 4, 5, 6, 7, 8]
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span>].<span class='id identifier rubyid_grep'>grep</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>) <span class='comment'># =&gt; [0, 1]</span></code></pre>

<p>With a block given, calls the block with each matching element and returns an array containing each object returned by the block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>car</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>moo</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ar</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_upcase'>upcase</span> } <span class='comment'># =&gt; [&quot;BAR&quot;, &quot;CAR&quot;]</span></code></pre>

<p>Related: <a href="#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L172-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='172' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 172</span></pre>
<pre class='code cpp'>

static VALUE
enum_grep(VALUE obj, VALUE pat)
{
    return enum_grep0(obj, pat, Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grep_v-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>grep_v</strong>(pattern)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>grep_v</strong>(pattern) {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of objects based on elements of <code>self</code> that <em>don’t</em> match the given pattern.</p>

<p>With no block given, returns an array containing each element for which <code>pattern === element</code> is <code>false</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>car</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>moo</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ar</span><span class='regexp_end'>/</span></span>)                   <span class='comment'># =&gt; [&quot;foo&quot;, &quot;moo&quot;]
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>10</span>).<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='int'>3</span><span class='op'>..</span><span class='int'>8</span>)             <span class='comment'># =&gt; [1, 2, 9, 10]
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span>].<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>) <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;]</span></code></pre>

<p>With a block given, calls the block with each non-matching element and returns an array containing each object returned by the block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>car</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>moo</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ar</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_upcase'>upcase</span> } <span class='comment'># =&gt; [&quot;FOO&quot;, &quot;MOO&quot;]</span></code></pre>

<p>Related: <a href="#grep-instance_method" title="Enumerable#grep (method)">#grep</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L204-L208'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='208'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 204</span></pre>
<pre class='code cpp'>

static VALUE
enum_grep_v(VALUE obj, VALUE pat)
{
    return enum_grep0(obj, pat, Qfalse);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="group_by-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>group_by</strong> {|element| ... } &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a> </span>
      <span class='overload'>#<strong>group_by</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given returns a hash:</p>
<ul><li>
<p>Each key is a return value from the block.</p>
</li><li>
<p>Each value is an array of those elements for which the block returned that key.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_g'>g</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>6</span>).<span class='id identifier rubyid_group_by'>group_by</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>%</span><span class='int'>3</span> }
<span class='id identifier rubyid_g'>g</span> <span class='comment'># =&gt; {1=&gt;[1, 4], 2=&gt;[2, 5], 0=&gt;[3, 6]}
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_g'>g</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_group_by'>group_by</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> }
<span class='id identifier rubyid_g'>g</span> <span class='comment'># =&gt; {0=&gt;[[:foo, 0], [:baz, 0]], 1=&gt;[[:bar, 1], [:bat, 1]]}</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1193-L1199'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1193' data-end='1199'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1193</span></pre>
<pre class='code cpp'>

static VALUE
enum_group_by(VALUE obj)
{
    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    return enum_hashify(obj, 0, 0, group_by_i);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>include?</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>include?</strong>(object)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="inject-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>inject</strong>(symbol)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong>(initial_value, symbol)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong> {|memo, value| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong>(initial_value) {|memo, value| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#reduce</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of applying a reducer to an initial value and the first element of the <code>Enumerable</code>. It then takes the result and applies the function to it and the second element of the collection, and so on. The return value is the result returned by the final call to the function.</p>

<p>You can think of</p>

<pre class="code ruby"><code class="ruby">[ <span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='id identifier rubyid_i'>i</span>) { <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_fn'>fn</span>(<span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>) }</code></pre>

<p>as being</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_fn'>fn</span>(<span class='id identifier rubyid_fn'>fn</span>(<span class='id identifier rubyid_fn'>fn</span>(<span class='id identifier rubyid_fn'>fn</span>(<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span>)<span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)<span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>)<span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span>)</code></pre>

<p>In a way the <code>inject</code> function <em>injects</em> the function between the elements of the enumerable.</p>

<p><code>inject</code> is aliased as <a href="#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a>. You use it when you want to <em>reduce</em> a collection to a single value.</p>

<p><strong>The Calling Sequences</strong></p>

<p>Let’s start with the most verbose:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_inject'>inject</span>(<span class='id identifier rubyid_initial_value'>initial_value</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_next_value'>next_value</span><span class='op'>|</span>
  <span class='comment'># do something with {result} and {next_value}
</span>  <span class='comment'># the value returned by the block becomes the
</span>  <span class='comment'># value passed in to the next iteration
</span>  <span class='comment'># as {result}
</span><span class='kw'>end</span></code></pre>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_product'>product</span> <span class='op'>=</span> [ <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='int'>1</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_next_value'>next_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>*</span> <span class='id identifier rubyid_next_value'>next_value</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_product'>product</span> <span class='comment'>#=&gt; 24</span></code></pre>

<p>When this runs, the block is first called with <code>1</code> (the initial value) and <code>2</code> (the first element of the array). The block returns <code>1*2</code>, so on the next iteration the block is called with <code>2</code> (the previous result) and <code>3</code>. The block returns <code>6</code>, and is called one last time with <code>6</code> and <code>4</code>. The result of the block, <code>24</code> becomes the value returned by <code>inject</code>. This code returns the product of the elements in the enumerable.</p>

<p><strong>First Shortcut: Default Initial value</strong></p>

<p>In the case of the previous example, the initial value, <code>1</code>, wasn’t really necessary: the calculation of the product of a list of numbers is self-contained.</p>

<p>In these circumstances, you can omit the <code>initial_value</code> parameter. <code>inject</code> will then initially call the block with the first element of the collection as the <code>result</code> parameter and the second element as the <code>next_value</code>.</p>

<pre class="code ruby"><code class="ruby">[ <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span> ].<span class='id identifier rubyid_inject'>inject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_next_value'>next_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>*</span> <span class='id identifier rubyid_next_value'>next_value</span>
<span class='kw'>end</span></code></pre>

<p>This shortcut is convenient, but can only be used when the block produces a result which can be passed back to it as a first parameter.</p>

<p>Here’s an example where that’s not the case: it returns a hash where the keys are words and the values are the number of occurrences of that word in the enumerable.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_freqs'>freqs</span> <span class='op'>=</span> <span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_read'><a href="IO.html#read-class_method" title="IO.read (method)">read</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>README.md</span><span class='tstring_end'>&quot;</span></span>)
  .<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w{2,}</span><span class='regexp_end'>/</span></span>)
  .<span class='id identifier rubyid_reduce'><a href="#reduce-instance_method" title="Enumerable#reduce (method)">reduce</a></span>(<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span>(<span class='int'>0</span>)) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_counts'>counts</span><span class='comma'>,</span> <span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
    <span class='id identifier rubyid_counts'>counts</span>[<span class='id identifier rubyid_word'>word</span>] <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_counts'>counts</span>
  <span class='kw'>end</span>
<span class='id identifier rubyid_freqs'>freqs</span> <span class='comment'>#=&gt; {&quot;Actions&quot;=&gt;4,
</span>           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Status</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>5</span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MinGW</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>3</span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>27</span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>github</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>10</span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>com</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>15</span><span class='comma'>,</span> <span class='op'>...</span></code></pre>

<p>Note that the last line of the block is just the word {counts}. This ensures the return value of the block is the result that’s being calculated.</p>

<p><strong>Second Shortcut: a Reducer function</strong></p>

<p>A <em>reducer function</em> is a function that takes a partial result and the next value, returning the next partial result. The block that is given to {inject} is a reducer.</p>

<p>You can also write a reducer as a function and pass the name of that function (as a symbol) to {inject}. However, for this to work, the function</p>
<ol><li>
<p>Must be defined on the type of the result value</p>
</li><li>
<p>Must accept a single parameter, the next value in the collection, and</p>
</li><li>
<p>Must return an updated result which will also implement the function.</p>
</li></ol>

<p>Here’s an example that adds elements to a string. The two calls invoke the functions {String#concat} and {String#+} on the result so far, passing it the next value.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_concat'>concat</span>)
<span class='id identifier rubyid_s'>s</span> <span class='comment'>#=&gt; &quot;cat dog&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The result is:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='op'>+</span>)
<span class='id identifier rubyid_s'>s</span> <span class='comment'>#=&gt; &quot;The result is: cat dog&quot;</span></code></pre>

<p>Here’s a more complex example when the result object maintains state of a different type to the enumerable elements.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Turtle</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='ivar'>@x</span> <span class='op'>=</span> <span class='ivar'>@y</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_move'>move</span>(<span class='id identifier rubyid_dir'>dir</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_dir'>dir</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='ivar'>@y</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='ivar'>@y</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='ivar'>@x</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='ivar'>@x</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nnneesw</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chars'>chars</span>.<span class='id identifier rubyid_reduce'><a href="#reduce-instance_method" title="Enumerable#reduce (method)">reduce</a></span>(<span class='const'>Turtle</span>.<span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_move'>move</span>)
<span class='id identifier rubyid_position'>position</span>  <span class='comment'>#=&gt;&gt; #&lt;Turtle:0x00000001052f4698 @y=2, @x=1&gt;</span></code></pre>

<p><strong>Third Shortcut: Reducer With no Initial Value</strong></p>

<p>If your reducer returns a value that it can accept as a parameter, then you don’t have to pass in an initial value. Here <code>:*</code> is the name of the <em>times</em> function:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_product'>product</span> <span class='op'>=</span> [ <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='symbeg'>:</span><span class='op'>*</span>)
<span class='id identifier rubyid_product'>product</span> <span class='comment'># =&gt; 24</span></code></pre>

<p>{String} concatenation again:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&quot;</span></span> ].<span class='id identifier rubyid_inject'>inject</span>(<span class='symbeg'>:</span><span class='op'>+</span>)
<span class='id identifier rubyid_s'>s</span> <span class='comment'>#=&gt; &quot;cat dog&quot;</span></code></pre>

<p>And an example that converts a hash to an array of two-element subarrays.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_nested'>nested</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}.<span class='id identifier rubyid_inject'>inject</span>([]<span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_push'>push</span>)
<span class='id identifier rubyid_nested'>nested</span> <span class='comment'># =&gt; [[:foo, 0], [:bar, 1]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1041-L1091'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1041' data-end='1091'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1041</span></pre>
<pre class='code cpp'>

static VALUE
enum_inject(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE init, op;
    rb_block_call_func *iter = inject_i;
    ID id;
    int num_args;

    if (rb_block_given_p()) {
        num_args = rb_scan_args(argc, argv, &quot;02&quot;, &amp;init, &amp;op);
    }
    else {
        num_args = rb_scan_args(argc, argv, &quot;11&quot;, &amp;init, &amp;op);
    }

    switch (num_args) {
      case 0:
        init = Qundef;
        break;
      case 1:
        if (rb_block_given_p()) {
            break;
        }
        id = rb_check_id(&amp;init);
        op = id ? ID2SYM(id) : init;
        init = Qundef;
        iter = inject_op_i;
        break;
      case 2:
        if (rb_block_given_p()) {
            rb_warning(&quot;given block not used&quot;);
        }
        id = rb_check_id(&amp;op);
        if (id) op = ID2SYM(id);
        iter = inject_op_i;
        break;
    }

    if (iter == inject_op_i &amp;&amp;
        SYMBOL_P(op) &amp;&amp;
        RB_TYPE_P(obj, T_ARRAY) &amp;&amp;
        rb_method_basic_definition_p(CLASS_OF(obj), id_each)) {
        return ary_inject_op(obj, init, op);
    }

    memo = rb_imemo_memo_new(init, Qnil, op);
    rb_block_call(obj, id_each, 0, 0, iter, (VALUE)memo);
    if (UNDEF_P(memo-&gt;v1)) return Qnil;
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lazy-instance_method">
  <h3 class='signature '>
    #<strong>lazy</strong>  &#x21d2; <code>lazy_enumerator</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)"><code>::Enumerator::Lazy</code></a>, which redefines most <code>Enumerable</code> methods to postpone enumeration and enumerate values only on an as-needed basis.</p>

<h4 id="label-Example">Example</h4>

<p>The following program finds pythagorean triples:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span>
  (<span class='int'>1</span><span class='op'>..</span><span class='const'><a href="Float.html" title="Float (class)">Float</a></span><span class='op'>::</span><span class='const'><a href="Float.html#INFINITY-constant" title="Float::INFINITY (constant)">INFINITY</a></span>).<span class='id identifier rubyid_lazy'>lazy</span>.<span class='id identifier rubyid_flat_map'><a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">flat_map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span>
    (<span class='int'>1</span><span class='op'>..</span><span class='id identifier rubyid_z'>z</span>).<span class='id identifier rubyid_flat_map'><a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">flat_map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      (<span class='id identifier rubyid_x'>x</span><span class='op'>..</span><span class='id identifier rubyid_z'>z</span>).<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Enumerable#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
        <span class='id identifier rubyid_x'>x</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>==</span> <span class='id identifier rubyid_z'>z</span><span class='op'>**</span><span class='int'>2</span>
      }.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
        [<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span>]
      }
    }
  }
<span class='kw'>end</span>
<span class='comment'># show first ten pythagorean triples
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span>.<span class='id identifier rubyid_take'><a href="#take-instance_method" title="Enumerable#take (method)">take</a></span>(<span class='int'>10</span>).<span class='id identifier rubyid_force'>force</span> <span class='comment'># take is lazy, so force is needed
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Enumerable#first (method)">first</a></span>(<span class='int'>10</span>)      <span class='comment'># first is eager
</span><span class='comment'># show pythagorean triples less than 100
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span>.<span class='id identifier rubyid_take_while'><a href="#take_while-instance_method" title="Enumerable#take_while (method)">take_while</a></span> { <span class='op'>|</span><span class='op'>*</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span><span class='op'>|</span> <span class='id identifier rubyid_z'>z</span> <span class='op'>&lt;</span> <span class='int'>100</span> }.<span class='id identifier rubyid_force'>force</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enumerator.c#L1951-L1958'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1951' data-end='1958'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 1951</span></pre>
<pre class='code cpp'>

static VALUE
enumerable_lazy(VALUE obj)
{
    VALUE result = lazy_to_enum_i(obj, sym_each, 0, 0, lazyenum_size, rb_keyword_given_p());
    /* Qfalse indicates that the Enumerator::Lazy has no method name */
    rb_ivar_set(result, id_method, Qfalse);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="map-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>map</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>map</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#collect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of objects returned by the block.</p>

<p>With a block given, calls the block with successive elements; returns an array of the objects returned by the block:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> }                               <span class='comment'># =&gt; [0, 1, 4, 9, 16]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span><span class='op'>*</span><span class='int'>2</span>} <span class='comment'># =&gt; [0, 2, 4]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L657-L670'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='657' data-end='670'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 657</span></pre>
<pre class='code cpp'>

static VALUE
enum_collect(VALUE obj)
{
    VALUE ary;
    int min_argc, max_argc;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    min_argc = rb_block_min_max_arity(&amp;max_argc);
    rb_lambda_call(obj, id_each, 0, 0, collect_i, min_argc, max_argc, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>max</strong>  &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>max</strong>(n)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>max</strong> {|a, b| ... } &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>max</strong>(n) {|a, b| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the element with the maximum element according to a given criterion. The ordering of equal elements is indeterminate and may be unstable.</p>

<p>With no argument and no block, returns the maximum element, using the elements’ own method <code>#<=></code> for comparison:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_max'>max</span>                   <span class='comment'># =&gt; 4
</span>(<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>).<span class='id identifier rubyid_max'>max</span>                 <span class='comment'># =&gt; -1
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max'>max</span>              <span class='comment'># =&gt; &quot;d&quot;
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_max'>max</span> <span class='comment'># =&gt; [:foo, 0]
</span>[].<span class='id identifier rubyid_max'>max</span>                       <span class='comment'># =&gt; nil</span></code></pre>

<p>With positive integer argument <code>n</code> given, and no block, returns an array containing the first <code>n</code> maximum elements that exist:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>)                   <span class='comment'># =&gt; [4, 3]
</span>(<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>).<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>)                <span class='comment'># =&gt; [-1, -2]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>)              <span class='comment'># =&gt; [&quot;d&quot;, &quot;c&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [[:foo, 0], [:baz, 2]]
</span>[].<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>)                       <span class='comment'># =&gt; []</span></code></pre>

<p>With a block given, the block determines the maximum elements. The block is called with two elements <code>a</code> and <code>b</code>, and must return:</p>
<ul><li>
<p>A negative integer if <code>a &lt; b</code>.</p>
</li><li>
<p>Zero if <code>a == b</code>.</p>
</li><li>
<p>A positive integer if <code>a &gt; b</code>.</p>
</li></ul>

<p>With a block given and no argument, returns the maximum element as determined by the block:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='words_sep'> </span><span class='tstring_content'>xx</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max'>max</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_size'>size</span> } <span class='comment'># =&gt; &quot;xxxx&quot;
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_max'>max</span> {<span class='op'>|</span><span class='id identifier rubyid_pair1'>pair1</span><span class='comma'>,</span> <span class='id identifier rubyid_pair2'>pair2</span><span class='op'>|</span> <span class='id identifier rubyid_pair1'>pair1</span>[<span class='int'>1</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_pair2'>pair2</span>[<span class='int'>1</span>] }     <span class='comment'># =&gt; [:baz, 2]
</span>[].<span class='id identifier rubyid_max'>max</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span> }                          <span class='comment'># =&gt; nil</span></code></pre>

<p>With a block given and positive integer argument <code>n</code> given, returns an array containing the first <code>n</code> maximum elements that exist, as determined by the block.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='words_sep'> </span><span class='tstring_content'>xx</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_size'>size</span> } <span class='comment'># =&gt; [&quot;xxxx&quot;, &quot;xxx&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_pair1'>pair1</span><span class='comma'>,</span> <span class='id identifier rubyid_pair2'>pair2</span><span class='op'>|</span> <span class='id identifier rubyid_pair1'>pair1</span>[<span class='int'>1</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_pair2'>pair2</span>[<span class='int'>1</span>] }
<span class='comment'># =&gt; [[:baz, 2], [:bar, 1]]
</span>[].<span class='id identifier rubyid_max'>max</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span> }                          <span class='comment'># =&gt; []</span></code></pre>

<p>Related: <a href="#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2500-L2521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2500' data-end='2521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2500</span></pre>
<pre class='code cpp'>

static VALUE
enum_max(int argc, VALUE *argv, VALUE obj)
{
    VALUE memo;
    struct max_t *m = NEW_MEMO_FOR(struct max_t, memo);
    VALUE result;
    VALUE num;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(num = argv[0]))
       return rb_nmin_run(obj, num, 0, 1, 0);

    m-&gt;max = Qundef;
    if (rb_block_given_p()) {
        rb_block_call(obj, id_each, 0, 0, max_ii, (VALUE)memo);
    }
    else {
        rb_block_call(obj, id_each, 0, 0, max_i, (VALUE)memo);
    }
    result = m-&gt;max;
    if (UNDEF_P(result)) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_by-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>max_by</strong> {|element| ... } &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>max_by</strong>(n) {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>max_by</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>max_by</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the elements for which the block returns the maximum values.</p>

<p>With a block given and no argument, returns the element for which the block returns the maximum value:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_max_by'>max_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }                    <span class='comment'># =&gt; 1
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max_by'>max_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_ord'>ord</span> }           <span class='comment'># =&gt; &quot;a&quot;
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_max_by'>max_by</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span> } <span class='comment'># =&gt; [:foo, 0]
</span>[].<span class='id identifier rubyid_max_by'>max_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }                        <span class='comment'># =&gt; nil</span></code></pre>

<p>With a block given and positive integer argument <code>n</code> given, returns an array containing the <code>n</code> elements for which the block returns maximum values:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_max_by'>max_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; [1, 2]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_max_by'>max_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_ord'>ord</span> }
<span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_max_by'>max_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span> }
<span class='comment'># =&gt; [[:foo, 0], [:bar, 1]]
</span>[].<span class='id identifier rubyid_max_by'>max_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; []</span></code></pre>

<p>Returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> if no block is given.</p>

<p>Related: <a href="#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2818-L2834'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2818' data-end='2834'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2818</span></pre>
<pre class='code cpp'>

static VALUE
enum_max_by(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE num;

    rb_check_arity(argc, 0, 1);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    if (argc &amp;&amp; !NIL_P(num = argv[0]))
        return rb_nmin_run(obj, num, 1, 1, 0);

    memo = rb_imemo_memo_new(Qundef, Qnil, 0);
    rb_block_call(obj, id_each, 0, 0, max_by_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="member?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(object)  &#x21d2; <code>Boolean</code>     <span class='aliases'>Also known as: <span class='names'>#include?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether for any element <code>object == element</code>:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='int'>2</span>)                       <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='int'>5</span>)                       <span class='comment'># =&gt; false
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>)                     <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>)                <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>)                <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)  <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='int'>0</span>)     <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2979-L2986'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2979' data-end='2986'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2979</span></pre>
<pre class='code cpp'>

static VALUE
enum_member(VALUE obj, VALUE val)
{
    struct MEMO *memo = rb_imemo_memo_new(val, Qfalse, 0);

    rb_block_call(obj, id_each, 0, 0, member_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="min-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>min</strong>  &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>min</strong>(n)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>min</strong> {|a, b| ... } &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>min</strong>(n) {|a, b| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the element with the minimum element according to a given criterion. The ordering of equal elements is indeterminate and may be unstable.</p>

<p>With no argument and no block, returns the minimum element, using the elements’ own method <code>#<=></code> for comparison:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_min'>min</span>                   <span class='comment'># =&gt; 1
</span>(<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>).<span class='id identifier rubyid_min'>min</span>                 <span class='comment'># =&gt; -4
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min'>min</span>              <span class='comment'># =&gt; &quot;a&quot;
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_min'>min</span> <span class='comment'># =&gt; [:bar, 1]
</span>[].<span class='id identifier rubyid_min'>min</span>                       <span class='comment'># =&gt; nil</span></code></pre>

<p>With positive integer argument <code>n</code> given, and no block, returns an array containing the first <code>n</code> minimum elements that exist:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>)                   <span class='comment'># =&gt; [1, 2]
</span>(<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>).<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>)                 <span class='comment'># =&gt; [-4, -3]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>)              <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [[:bar, 1], [:baz, 2]]
</span>[].<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>)                       <span class='comment'># =&gt; []</span></code></pre>

<p>With a block given, the block determines the minimum elements. The block is called with two elements <code>a</code> and <code>b</code>, and must return:</p>
<ul><li>
<p>A negative integer if <code>a &lt; b</code>.</p>
</li><li>
<p>Zero if <code>a == b</code>.</p>
</li><li>
<p>A positive integer if <code>a &gt; b</code>.</p>
</li></ul>

<p>With a block given and no argument, returns the minimum element as determined by the block:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='words_sep'> </span><span class='tstring_content'>xx</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min'>min</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_size'>size</span> } <span class='comment'># =&gt; &quot;x&quot;
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_min'>min</span> {<span class='op'>|</span><span class='id identifier rubyid_pair1'>pair1</span><span class='comma'>,</span> <span class='id identifier rubyid_pair2'>pair2</span><span class='op'>|</span> <span class='id identifier rubyid_pair1'>pair1</span>[<span class='int'>1</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_pair2'>pair2</span>[<span class='int'>1</span>] } <span class='comment'># =&gt; [:foo, 0]
</span>[].<span class='id identifier rubyid_min'>min</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span> }                          <span class='comment'># =&gt; nil</span></code></pre>

<p>With a block given and positive integer argument <code>n</code> given, returns an array containing the first <code>n</code> minimum elements that exist, as determined by the block.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='words_sep'> </span><span class='tstring_content'>xx</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_size'>size</span> } <span class='comment'># =&gt; [&quot;x&quot;, &quot;xx&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_pair1'>pair1</span><span class='comma'>,</span> <span class='id identifier rubyid_pair2'>pair2</span><span class='op'>|</span> <span class='id identifier rubyid_pair1'>pair1</span>[<span class='int'>1</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_pair2'>pair2</span>[<span class='int'>1</span>] }
<span class='comment'># =&gt; [[:foo, 0], [:bar, 1]]
</span>[].<span class='id identifier rubyid_min'>min</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span> }                          <span class='comment'># =&gt; []</span></code></pre>

<p>Related: <a href="#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="#max-instance_method" title="Enumerable#max (method)">#max</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2378-L2399'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2378' data-end='2399'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2378</span></pre>
<pre class='code cpp'>

static VALUE
enum_min(int argc, VALUE *argv, VALUE obj)
{
    VALUE memo;
    struct min_t *m = NEW_MEMO_FOR(struct min_t, memo);
    VALUE result;
    VALUE num;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(num = argv[0]))
       return rb_nmin_run(obj, num, 0, 0, 0);

    m-&gt;min = Qundef;
    if (rb_block_given_p()) {
        rb_block_call(obj, id_each, 0, 0, min_ii, memo);
    }
    else {
        rb_block_call(obj, id_each, 0, 0, min_i, memo);
    }
    result = m-&gt;min;
    if (UNDEF_P(result)) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="min_by-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>min_by</strong> {|element| ... } &#x21d2; <code>element</code> </span>
      <span class='overload'>#<strong>min_by</strong>(n) {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>min_by</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>min_by</strong>(n)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the elements for which the block returns the minimum values.</p>

<p>With a block given and no argument, returns the element for which the block returns the minimum value:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_min_by'>min_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }                    <span class='comment'># =&gt; 4
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min_by'>min_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_ord'>ord</span> }           <span class='comment'># =&gt; &quot;d&quot;
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_min_by'>min_by</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span> } <span class='comment'># =&gt; [:baz, 2]
</span>[].<span class='id identifier rubyid_min_by'>min_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }                        <span class='comment'># =&gt; nil</span></code></pre>

<p>With a block given and positive integer argument <code>n</code> given, returns an array containing the <code>n</code> elements for which the block returns minimum values:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_min_by'>min_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; [4, 3]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_min_by'>min_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_ord'>ord</span> }
<span class='comment'># =&gt; [&quot;d&quot;, &quot;c&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_min_by'>min_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span> }
<span class='comment'># =&gt; [[:baz, 2], [:bar, 1]]
</span>[].<span class='id identifier rubyid_min_by'>min_by</span>(<span class='int'>2</span>) {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; []</span></code></pre>

<p>Returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> if no block is given.</p>

<p>Related: <a href="#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2744-L2760'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2744' data-end='2760'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2744</span></pre>
<pre class='code cpp'>

static VALUE
enum_min_by(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE num;

    rb_check_arity(argc, 0, 1);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    if (argc &amp;&amp; !NIL_P(num = argv[0]))
        return rb_nmin_run(obj, num, 1, 0, 0);

    memo = rb_imemo_memo_new(Qundef, Qnil, 0);
    rb_block_call(obj, id_each, 0, 0, min_by_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="minmax-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>minmax</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>maximum</code> </span>
      <span class='overload'>#<strong>minmax</strong> {|a, b| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>maximum</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 2-element array containing the minimum and maximum elements according to a given criterion. The ordering of equal elements is indeterminate and may be unstable.</p>

<p>With no argument and no block, returns the minimum and maximum elements, using the elements’ own method <code>#<=></code> for comparison:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_minmax'>minmax</span>                   <span class='comment'># =&gt; [1, 4]
</span>(<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>).<span class='id identifier rubyid_minmax'>minmax</span>                 <span class='comment'># =&gt; [-4, -1]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_minmax'>minmax</span>              <span class='comment'># =&gt; [&quot;a&quot;, &quot;d&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_minmax'>minmax</span> <span class='comment'># =&gt; [[:bar, 1], [:foo, 0]]
</span>[].<span class='id identifier rubyid_minmax'>minmax</span>                       <span class='comment'># =&gt; [nil, nil]</span></code></pre>

<p>With a block given, returns the minimum and maximum elements as determined by the block:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='words_sep'> </span><span class='tstring_content'>xx</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_minmax'>minmax</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_size'>size</span> } <span class='comment'># =&gt; [&quot;x&quot;, &quot;xxxx&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_minmax'>minmax</span> {<span class='op'>|</span><span class='id identifier rubyid_pair1'>pair1</span><span class='comma'>,</span> <span class='id identifier rubyid_pair2'>pair2</span><span class='op'>|</span> <span class='id identifier rubyid_pair1'>pair1</span>[<span class='int'>1</span>] <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_pair2'>pair2</span>[<span class='int'>1</span>] }
<span class='comment'># =&gt; [[:foo, 0], [:baz, 2]]
</span>[].<span class='id identifier rubyid_minmax'>minmax</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span> }                          <span class='comment'># =&gt; [nil, nil]</span></code></pre>

<p>Related: <a href="#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2664-L2686'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2664' data-end='2686'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2664</span></pre>
<pre class='code cpp'>

static VALUE
enum_minmax(VALUE obj)
{
    VALUE memo;
    struct minmax_t *m = NEW_MEMO_FOR(struct minmax_t, memo);

    m-&gt;min = Qundef;
    m-&gt;last = Qundef;
    if (rb_block_given_p()) {
        rb_block_call(obj, id_each, 0, 0, minmax_ii, memo);
        if (!UNDEF_P(m-&gt;last))
            minmax_ii_update(m-&gt;last, m-&gt;last, m);
    }
    else {
        rb_block_call(obj, id_each, 0, 0, minmax_i, memo);
        if (!UNDEF_P(m-&gt;last))
            minmax_i_update(m-&gt;last, m-&gt;last, m);
    }
    if (!UNDEF_P(m-&gt;min)) {
        return rb_assoc_new(m-&gt;min, m-&gt;max);
    }
    return rb_assoc_new(Qnil, Qnil);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="minmax_by-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>minmax_by</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>maximum</code> </span>
      <span class='overload'>#<strong>minmax_by</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 2-element array containing the elements for which the block returns minimum and maximum values:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_minmax_by'>minmax_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; [4, 1]
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_minmax_by'>minmax_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_ord'>ord</span> }
<span class='comment'># =&gt; [&quot;d&quot;, &quot;a&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_minmax_by'>minmax_by</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_value'>value</span> }
<span class='comment'># =&gt; [[:baz, 2], [:foo, 0]]
</span>[].<span class='id identifier rubyid_minmax_by'>minmax_by</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_element'>element</span> }
<span class='comment'># =&gt; [nil, nil]</span></code></pre>

<p>Returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> if no block is given.</p>

<p>Related: <a href="#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2929-L2948'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2929' data-end='2948'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2929</span></pre>
<pre class='code cpp'>

static VALUE
enum_minmax_by(VALUE obj)
{
    VALUE memo;
    struct minmax_by_t *m = NEW_MEMO_FOR(struct minmax_by_t, memo);

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    m-&gt;min_bv = Qundef;
    m-&gt;max_bv = Qundef;
    m-&gt;min = Qnil;
    m-&gt;max = Qnil;
    m-&gt;last_bv = Qundef;
    m-&gt;last = Qundef;
    rb_block_call(obj, id_each, 0, 0, minmax_by_i, memo);
    if (!UNDEF_P(m-&gt;last_bv))
        minmax_by_i_update(m-&gt;last_bv, m-&gt;last_bv, m-&gt;last, m-&gt;last, m);
    m = MEMO_FOR(struct minmax_by_t, memo);
    return rb_assoc_new(m-&gt;min, m-&gt;max);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="none?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>none?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>none?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>none?</strong> {|element| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether no element meets a given criterion.</p>

<p>With no argument and no block, returns whether no element is truthy:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_none?'>none?</span>           <span class='comment'># =&gt; false
</span>[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span>].<span class='id identifier rubyid_none?'>none?</span>     <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span>}.<span class='id identifier rubyid_none?'>none?</span>         <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}.<span class='id identifier rubyid_none?'>none?</span> <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_none?'>none?</span>               <span class='comment'># =&gt; true</span></code></pre>

<p>With argument <code>pattern</code> and no block, returns whether for no element <code>element</code>, <code>pattern === element</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='float'>1.1</span>].<span class='id identifier rubyid_none?'>none?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)      <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_none?'>none?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>m</span><span class='regexp_end'>/</span></span>)        <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_none?'>none?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>foo</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_none?'>none?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ba</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_none?'>none?</span>(<span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span>)  <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span>}.<span class='id identifier rubyid_none?'>none?</span>(<span class='const'><a href="Array.html" title="Array (class)">Array</a></span>)                 <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_none?'>none?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)                     <span class='comment'># =&gt; true</span></code></pre>

<p>With a block given, returns whether the block returns a truthy value for no element:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_none?'>none?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>1</span> }                     <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_none?'>none?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>2</span> }                     <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_none?'>none?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>0</span> }  <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_none?'>none?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>1</span> } <span class='comment'># =&gt; false</span></code></pre>

<p>Related: <a href="#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2268-L2276'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2268' data-end='2276'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2268</span></pre>
<pre class='code cpp'>

static VALUE
enum_none(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo = MEMO_ENUM_NEW(Qtrue);

    WARN_UNUSED_BLOCK(argc);
    ENUM_BLOCK_CALL(none);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="one?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>one?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>one?</strong>(pattern)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>one?</strong> {|element| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether exactly one element meets a given criterion.</p>

<p>With no argument and no block, returns whether exactly one element is truthy:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>1</span>).<span class='id identifier rubyid_one?'>one?</span>           <span class='comment'># =&gt; true
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span>].<span class='id identifier rubyid_one?'>one?</span>  <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_one?'>one?</span>           <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span>}.<span class='id identifier rubyid_one?'>one?</span>         <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}.<span class='id identifier rubyid_one?'>one?</span> <span class='comment'># =&gt; false
</span>[].<span class='id identifier rubyid_one?'>one?</span>               <span class='comment'># =&gt; false</span></code></pre>

<p>With argument <code>pattern</code> and no block, returns whether for exactly one element <code>element</code>, <code>pattern === element</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)        <span class='comment'># =&gt; true
</span>[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span>)        <span class='comment'># =&gt; true
</span>[<span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='int'>0</span>].<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Float.html" title="Float (class)">Float</a></span>)          <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_one?'>one?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>m</span><span class='regexp_end'>/</span></span>)        <span class='comment'># =&gt; true
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_one?'>one?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>foo</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; false
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>bat</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_one?'>one?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ba</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Array.html" title="Array (class)">Array</a></span>) <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span>}.<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Array.html" title="Array (class)">Array</a></span>)                 <span class='comment'># =&gt; true
</span>[].<span class='id identifier rubyid_one?'>one?</span>(<span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>)                     <span class='comment'># =&gt; false</span></code></pre>

<p>With a block given, returns whether the block returns a truthy value for exactly one element:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_one?'>one?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>2</span> }                     <span class='comment'># =&gt; true
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_one?'>one?</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_element'>element</span> <span class='op'>&lt;</span> <span class='int'>1</span> }                     <span class='comment'># =&gt; false
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_one?'>one?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>1</span> }  <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_one?'>one?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; false</span></code></pre>

<p>Related: <a href="#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L2206-L2217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2206' data-end='2217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2206</span></pre>
<pre class='code cpp'>

static VALUE
enum_one(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo = MEMO_ENUM_NEW(Qundef);
    VALUE result;

    WARN_UNUSED_BLOCK(argc);
    ENUM_BLOCK_CALL(one);
    result = memo-&gt;v1;
    if (UNDEF_P(result)) return Qfalse;
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="partition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>partition</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>false_array</code> </span>
      <span class='overload'>#<strong>partition</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, returns an array of two arrays:</p>
<ul><li>
<p>The first having those elements for which the block returns a truthy value.</p>
</li><li>
<p>The other having all other elements.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_partition'>partition</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> }
<span class='id identifier rubyid_p'>p</span> <span class='comment'># =&gt; [[2, 4], [1, 3]]
</span><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> (<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_partition'>partition</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_p'>p</span> <span class='comment'># =&gt; [[&quot;a&quot;, &quot;b&quot;], [&quot;c&quot;, &quot;d&quot;]]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='int'>3</span>}
<span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_partition'>partition</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_p'>p</span> <span class='comment'># =&gt; [[[:bar, 1], [:baz, 2], [:bat, 3]], [[:foo, 0]]]
</span><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_partition'>partition</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> }
<span class='id identifier rubyid_p'>p</span> <span class='comment'># =&gt; [[[:foo, 0], [:bar, 1]], [[:baz, 2], [:bat, 3]]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: <a href="#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1138-L1149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1138' data-end='1149'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1138</span></pre>
<pre class='code cpp'>

static VALUE
enum_partition(VALUE obj)
{
    struct MEMO *memo;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    memo = rb_imemo_memo_new(rb_ary_new(), rb_ary_new(), 0);
    rb_block_call(obj, id_each, 0, 0, partition_i, (VALUE)memo);

    return rb_assoc_new(memo-&gt;v1, memo-&gt;v2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reduce-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>inject</strong>(symbol)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong>(initial_value, symbol)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong> {|memo, value| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>inject</strong>(initial_value) {|memo, value| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#inject-instance_method" title="Enumerable#inject (method)">#inject</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="reject-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>reject</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of objects rejected by the block.</p>

<p>With a block given, calls the block with successive elements; returns an array of those elements for which the block returns <code>nil</code> or <code>false</code>:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>9</span>).<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> }                             <span class='comment'># =&gt; [1, 3, 5, 7, 9]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_odd?'>odd?</span> } <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

<p>When no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: <a href="#select-instance_method" title="Enumerable#select (method)">#select</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L612-L623'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='612' data-end='623'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 612</span></pre>
<pre class='code cpp'>

static VALUE
enum_reject(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, reject_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse_each-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reverse_each</strong>(*args) {|element| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>reverse_each</strong>(*args)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each element, but in reverse order; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_reverse_each'>reverse_each</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='op'>-</span><span class='id identifier rubyid_element'>element</span>) } <span class='comment'># =&gt; 1..4
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [-4, -3, -2, -1]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [&quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> {<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_element'>element</span>) }
<span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [[:baz, 2], [:bar, 1], [:foo, 0]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3061-L3082'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3061' data-end='3082'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3061</span></pre>
<pre class='code cpp'>

static VALUE
enum_reverse_each(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary;
    long len;

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    ary = enum_to_a(argc, argv, obj);

    len = RARRAY_LEN(ary);
    while (len--) {
        long nlen;
        rb_yield(RARRAY_AREF(ary, len));
        nlen = RARRAY_LEN(ary);
        if (nlen &lt; len) {
            len = nlen;
        }
    }

    return obj;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter-instance_method" title="Enumerable#filter (method)">#filter</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice_after-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice_after</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>slice_after</strong> {|elt| ... } &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an enumerator for each chunked elements. The ends of chunks are defined by <em>pattern</em> and the block.</p>

<p>If <code><em>pattern</em> === <em>elt</em></code> returns <code>true</code> or the block returns <code>true</code> for the element, the element is end of a chunk.</p>

<p>The <code>===</code> and <em>block</em> is called from the first element to the last element of <em>enum</em>.</p>

<p>The result enumerator yields the chunked elements as an array. So <code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_slice_after'>slice_after</span>(<span class='id identifier rubyid_pattern'>pattern</span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span> <span class='op'>...</span> }
<span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_slice_after'>slice_after</span> { <span class='op'>|</span><span class='id identifier rubyid_elt'>elt</span><span class='op'>|</span> <span class='id identifier rubyid_bool'>bool</span> }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span> <span class='op'>...</span> }</code></pre>

<p>Other methods of the <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> class and <code>Enumerable</code> module, such as <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>, etc., are also usable.</p>

<p>For example, continuation lines (lines end with backslash) can be concatenated as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar\\\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qux\n</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_slice_after'>slice_after</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!\\)\n\z</span><span class='regexp_end'>/</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[&quot;foo\n&quot;], [&quot;bar\\\n&quot;, &quot;baz\n&quot;], [&quot;\n&quot;], [&quot;qux\n&quot;]]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_ll'>ll</span><span class='op'>|</span> <span class='id identifier rubyid_ll'>ll</span>[<span class='int'>0</span><span class='op'>...</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\\\n\z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>) }.<span class='id identifier rubyid_join'>join</span> <span class='op'>+</span> <span class='id identifier rubyid_ll'>ll</span>.<span class='id identifier rubyid_last'>last</span> }
<span class='comment'>#=&gt;[&quot;foo\n&quot;, &quot;barbaz\n&quot;, &quot;\n&quot;, &quot;qux\n&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4357-L4379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4357' data-end='4379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4357</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_after(int argc, VALUE *argv, VALUE enumerable)
{
    VALUE enumerator;
    VALUE pat = Qnil, pred = Qnil;

    if (rb_block_given_p()) {
        if (0 &lt; argc)
            rb_raise(rb_eArgError, &quot;both pattern and block are given&quot;);
        pred = rb_block_proc();
    }
    else {
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;pat);
    }

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, id_sliceafter_enum, enumerable);
    rb_ivar_set(enumerator, id_sliceafter_pat, pat);
    rb_ivar_set(enumerator, id_sliceafter_pred, pred);

    rb_block_call(enumerator, idInitialize, 0, 0, sliceafter_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="slice_before-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice_before</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>slice_before</strong> {|elt| ... } &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With argument <code>pattern</code>, returns an enumerator that uses the pattern to partition elements into arrays (“slices”). An element begins a new slice if <code>element === pattern</code> (or if it is the first element).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>fop</span><span class='words_sep'> </span><span class='tstring_content'>for</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'> </span><span class='tstring_content'>fob</span><span class='words_sep'> </span><span class='tstring_content'>fog</span><span class='words_sep'> </span><span class='tstring_content'>bam</span><span class='words_sep'> </span><span class='tstring_content'>foy</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_before'>slice_before</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ba</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; #&lt;Enumerator: ...&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_array'>array</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_array'>array</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fop</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for</span><span class='tstring_end'>&quot;</span></span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fob</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fog</span><span class='tstring_end'>&quot;</span></span>]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foy</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

<p>With a block, returns an enumerator that uses the block to partition elements into arrays. An element begins a new slice if its block return is a truthy value (or if it is the first element):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>20</span>).<span class='id identifier rubyid_slice_before'>slice_before</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>4</span> <span class='op'>==</span> <span class='int'>2</span> } <span class='comment'># =&gt; #&lt;Enumerator: ...&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_array'>array</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_array'>array</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>1</span>]
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>]
[<span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span>]
[<span class='int'>10</span><span class='comma'>,</span> <span class='int'>11</span><span class='comma'>,</span> <span class='int'>12</span><span class='comma'>,</span> <span class='int'>13</span>]
[<span class='int'>14</span><span class='comma'>,</span> <span class='int'>15</span><span class='comma'>,</span> <span class='int'>16</span><span class='comma'>,</span> <span class='int'>17</span>]
[<span class='int'>18</span><span class='comma'>,</span> <span class='int'>19</span><span class='comma'>,</span> <span class='int'>20</span>]</code></pre>

<p>Other methods of the <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> class and <code>Enumerable</code> module, such as <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>, etc., are also usable.</p>

<p>For example, iteration over ChangeLog entries can be implemented as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># iterate over ChangeLog entries.
</span><span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeLog</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_slice_before'>slice_before</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\S</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_e'>e</span> }
}

<span class='comment'># same as above.  block is used instead of pattern argument.
</span><span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeLog</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\S</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='id identifier rubyid_line'>line</span> }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_e'>e</span> }
}</code></pre>

<p>“svn proplist -R” produces multiline output for each file. They can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IO.html" title="IO (class)">IO</a></span>.<span class='id identifier rubyid_popen'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span>([{<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LC_ALL</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span>}<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>svn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>proplist</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-R</span><span class='tstring_end'>&quot;</span></span>]) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_slice_before'>slice_before</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\AProp</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lines'>lines</span> }
}
<span class='comment'>#=&gt; [&quot;Properties on &#39;.&#39;:\n&quot;, &quot;  svn:ignore\n&quot;, &quot;  svk:merge\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;goruby.c&#39;:\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;complex.c&#39;:\n&quot;, &quot;  svn:mime-type\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;regparse.c&#39;:\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   ...</span></code></pre>

<p>If the block needs to maintain state over multiple elements, local variables can be used. For example, three or more consecutive increasing numbers can be squashed as follows (see <a href="#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a> for a better way):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span>]
<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>[<span class='int'>0</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
  <span class='id identifier rubyid_prev'>prev</span><span class='comma'>,</span> <span class='id identifier rubyid_prev2'>prev2</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_prev'>prev</span>
  <span class='id identifier rubyid_prev2'>prev2</span> <span class='op'>+</span> <span class='int'>1</span> <span class='op'>!=</span> <span class='id identifier rubyid_e'>e</span>
}.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> { <span class='op'>|</span><span class='id identifier rubyid_es'>es</span><span class='op'>|</span>
  <span class='id identifier rubyid_es'>es</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>2</span> <span class='op'>?</span> <span class='id identifier rubyid_es'>es</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_es'>es</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Enumerable#first (method)">first</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_es'>es</span>.<span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
}.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; &quot;0,2-4,6,7,9&quot;</span></code></pre>

<p>However local variables should be used carefully if the result enumerator is enumerated twice or more. The local variables should be initialized for each enumeration. <a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">Enumerator.new</a> can be used to do it.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Word wrapping.  This assumes all characters have same width.
</span><span class='kw'>def</span> <span class='id identifier rubyid_wordwrap'>wordwrap</span>(<span class='id identifier rubyid_words'>words</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span>)
  <span class='const'><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></span>.<span class='id identifier rubyid_new'><a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">new</a></span> {<span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
    <span class='comment'># cols is initialized in Enumerator.new.
</span>    <span class='id identifier rubyid_cols'>cols</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span>
      <span class='id identifier rubyid_cols'>cols</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_cols'>cols</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_cols'>cols</span> <span class='op'>+=</span> <span class='id identifier rubyid_w'>w</span>.<span class='id identifier rubyid_length'>length</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_cols'>cols</span>
        <span class='id identifier rubyid_cols'>cols</span> <span class='op'>=</span> <span class='id identifier rubyid_w'>w</span>.<span class='id identifier rubyid_length'>length</span>
        <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='kw'>false</span>
      <span class='kw'>end</span>
    }.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_yield'>yield</span> <span class='id identifier rubyid_ws'>ws</span> }
  }
<span class='kw'>end</span>
<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>20</span>).<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_enum'>enum</span> <span class='op'>=</span> <span class='id identifier rubyid_wordwrap'>wordwrap</span>(<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span>)<span class='comma'>,</span> <span class='int'>10</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ws'>ws</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>) } <span class='comment'># first enumeration.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ws'>ws</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>) } <span class='comment'># second enumeration generates same result as the first.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='comment'>#=&gt; ----------
</span><span class='comment'>#   1 2 3 4 5
</span><span class='comment'>#   6 7 8 9 10
</span><span class='comment'>#   11 12 13
</span><span class='comment'>#   14 15 16
</span><span class='comment'>#   17 18 19
</span><span class='comment'>#   20
</span><span class='comment'>#   ----------
</span><span class='comment'>#   1 2 3 4 5
</span><span class='comment'>#   6 7 8 9 10
</span><span class='comment'>#   11 12 13
</span><span class='comment'>#   14 15 16
</span><span class='comment'>#   17 18 19
</span><span class='comment'>#   20
</span><span class='comment'>#   ----------</span></code></pre>

<p>mbox contains series of mails which start with Unix From line. So each mail can be extracted by slice before Unix From line.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># parse mbox
</span><span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mbox</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_start_with?'>start_with?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From </span><span class='tstring_end'>&quot;</span></span>
  }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>|</span>
    <span class='id identifier rubyid_unix_from'>unix_from</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span>[<span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_i'>i</span>]
    <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span>[(<span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span>)<span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
    <span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_fields'>fields</span> <span class='op'>=</span> <span class='id identifier rubyid_header'>header</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='op'>!</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> \t</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='id identifier rubyid_line'>line</span>[<span class='int'>0</span>]) }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
    <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_unix_from'>unix_from</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_fields'>fields</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_body'>body</span>
  }
}

<span class='comment'># split mails in mbox (slice before Unix From line after an empty line)
</span><span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mbox</span><span class='tstring_end'>&quot;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_emp'>emp</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_slice_before'>slice_before</span> { <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_prevemp'>prevemp</span> <span class='op'>=</span> <span class='id identifier rubyid_emp'>emp</span>
    <span class='id identifier rubyid_emp'>emp</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_prevemp'>prevemp</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From </span><span class='tstring_end'>&quot;</span></span>)
  }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>|</span>
    <span class='id identifier rubyid_mail'>mail</span>.<span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_mail'>mail</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_mail'>mail</span>
  }
}</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4235-L4255'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4235' data-end='4255'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4235</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_before(int argc, VALUE *argv, VALUE enumerable)
{
    VALUE enumerator;

    if (rb_block_given_p()) {
        if (argc != 0)
            rb_error_arity(argc, 0, 0);
        enumerator = rb_obj_alloc(rb_cEnumerator);
        rb_ivar_set(enumerator, id_slicebefore_sep_pred, rb_block_proc());
    }
    else {
        VALUE sep_pat;
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;sep_pat);
        enumerator = rb_obj_alloc(rb_cEnumerator);
        rb_ivar_set(enumerator, id_slicebefore_sep_pat, sep_pat);
    }
    rb_ivar_set(enumerator, id_slicebefore_enumerable, enumerable);
    rb_block_call(enumerator, idInitialize, 0, 0, slicebefore_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="slice_when-instance_method">
  <h3 class='signature '>
    #<strong>slice_when</strong> {|elt_before, elt_after| ... } &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an enumerator for each chunked elements. The beginnings of chunks are defined by the block.</p>

<p>This method splits each chunk using adjacent elements, <em>elt_before</em> and <em>elt_after</em>, in the receiver enumerator. This method split chunks between <em>elt_before</em> and <em>elt_after</em> where the block returns <code>true</code>.</p>

<p>The block is called the length of the receiver enumerator minus one.</p>

<p>The result enumerator yields the chunked elements as an array. So <code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> { <span class='op'>|</span><span class='id identifier rubyid_elt_before'>elt_before</span><span class='comma'>,</span> <span class='id identifier rubyid_elt_after'>elt_after</span><span class='op'>|</span> <span class='id identifier rubyid_bool'>bool</span> }.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span> <span class='op'>...</span> }</code></pre>

<p>Other methods of the <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> class and <code>Enumerable</code> module, such as <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>, etc., are also usable.</p>

<p>For example, one-by-one increasing subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>11</span><span class='comma'>,</span><span class='int'>12</span><span class='comma'>,</span><span class='int'>15</span><span class='comma'>,</span><span class='int'>16</span><span class='comma'>,</span><span class='int'>19</span><span class='comma'>,</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>21</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span> <span class='op'>!=</span> <span class='id identifier rubyid_j'>j</span> }
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span> <span class='comment'>#=&gt; [[1, 2], [4], [9, 10, 11, 12], [15, 16], [19, 20, 21]]
</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Enumerable#first (method)">first</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_c'>c</span> <span class='comment'>#=&gt; [[1, 2], [4], &quot;9-12&quot;, [15, 16], &quot;19-21&quot;]
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_d'>d</span> <span class='comment'>#=&gt; &quot;1,2,4,9-12,15,16,19-21&quot;</span></code></pre>

<p>Near elements (threshold: 6) in sorted array can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>3</span><span class='comma'>,</span> <span class='int'>11</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>25</span><span class='comma'>,</span> <span class='int'>28</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>41</span><span class='comma'>,</span> <span class='int'>55</span><span class='comma'>,</span> <span class='int'>57</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='int'>6</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_j'>j</span> <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[3], [11, 14], [25, 28, 29, 29], [41], [55, 57]]</span></code></pre>

<p>Increasing (non-decreasing) subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_j'>j</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[0, 9], [2, 2, 3], [2, 7], [5, 9], [5]]</span></code></pre>

<p>Adjacent evens and odds can be chunked as follows: (Enumerable#chunk is another way to do it.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> <span class='op'>!=</span> <span class='id identifier rubyid_j'>j</span>.<span class='id identifier rubyid_even?'>even?</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[7, 5, 9], [2, 0], [7, 9], [4, 2, 0]]</span></code></pre>

<p>Paragraphs (non-empty lines with trailing empty lines) can be chunked as follows: (See <a href="#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a> to ignore empty lines.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qux\n</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_slice_when'>slice_when</span> {<span class='op'>|</span><span class='id identifier rubyid_l1'>l1</span><span class='comma'>,</span> <span class='id identifier rubyid_l2'>l2</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l1'>l1</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\S</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l2'>l2</span> }.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Enumerable#to_a (method)">to_a</a></span>
<span class='comment'>#=&gt; [[&quot;foo\n&quot;, &quot;bar\n&quot;, &quot;\n&quot;], [&quot;baz\n&quot;, &quot;qux\n&quot;]]</span></code></pre>

<p><a href="#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a> does the same, except splitting when the block returns <code>false</code> instead of <code>true</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4514-L4529'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4514' data-end='4529'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4514</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_when(VALUE enumerable)
{
    VALUE enumerator;
    VALUE pred;

    pred = rb_block_proc();

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, id_slicewhen_enum, enumerable);
    rb_ivar_set(enumerator, id_slicewhen_pred, pred);
    rb_ivar_set(enumerator, id_slicewhen_inverted, Qfalse);

    rb_block_call(enumerator, idInitialize, 0, 0, slicewhen_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sort</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>sort</strong> {|a, b| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array containing the sorted elements of <code>self</code>. The ordering of equal elements is indeterminate and may be unstable.</p>

<p>With no block given, the sort compares using the elements’ own method <code>#<=></code>:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_sort'>sort</span>              <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_sort'>sort</span> <span class='comment'># =&gt; [[:bar, 1], [:baz, 2], [:foo, 0]]</span></code></pre>

<p>With a block given, comparisons in the block determine the ordering. The block is called with two elements <code>a</code> and <code>b</code>, and must return:</p>
<ul><li>
<p>A negative integer if <code>a &lt; b</code>.</p>
</li><li>
<p>Zero if <code>a == b</code>.</p>
</li><li>
<p>A positive integer if <code>a &gt; b</code>.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sort'>sort</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span> } <span class='comment'># =&gt; [&quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_sort'>sort</span> {<span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span> } <span class='comment'># =&gt; [[:foo, 0], [:baz, 2], [:bar, 1]]</span></code></pre>

<p>See also <a href="#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>. It implements a Schwartzian transform which is useful when key computation or comparison is expensive.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1386-L1390'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1386' data-end='1390'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1386</span></pre>
<pre class='code cpp'>

static VALUE
enum_sort(VALUE obj)
{
    return rb_ary_sort_bang(enum_to_a(0, 0, obj));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort_by-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sort_by</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>sort_by</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, returns an array of elements of <code>self</code>, sorted according to the value returned by the block for each element. The ordering of equal elements is indeterminate and may be unstable.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>xx</span><span class='words_sep'> </span><span class='tstring_content'>xxx</span><span class='words_sep'> </span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>xxxx</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_size'>size</span> }        <span class='comment'># =&gt; [&quot;x&quot;, &quot;xx&quot;, &quot;xxx&quot;, &quot;xxxx&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='op'>-</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_size'>size</span> }       <span class='comment'># =&gt; [&quot;xxxx&quot;, &quot;xxx&quot;, &quot;xx&quot;, &quot;x&quot;]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>{<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> } <span class='comment'># =&gt; [[:baz, 0], [:bar, 1], [:foo, 2]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>{<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> }   <span class='comment'># =&gt; [[:bar, 1], [:baz, 0], [:foo, 2]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>The current implementation of <code>#sort_by</code> generates an array of tuples containing the original collection element and the mapped value. This makes <code>#sort_by</code> fairly expensive when the keysets are simple.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>benchmark</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>100000</span>).<span class='id identifier rubyid_map'><a href="#map-instance_method" title="Enumerable#map (method)">map</a></span> { <span class='id identifier rubyid_rand'>rand</span>(<span class='int'>100000</span>) }

<span class='const'>Benchmark</span>.<span class='id identifier rubyid_bm'>bm</span>(<span class='int'>10</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_report'>report</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort</span><span class='tstring_end'>&quot;</span></span>)    { <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sort'><a href="#sort-instance_method" title="Enumerable#sort (method)">sort</a></span> }
  <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_report'>report</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort by</span><span class='tstring_end'>&quot;</span></span>) { <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> } }
<span class='kw'>end</span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_user'>user</span>     <span class='id identifier rubyid_system'>system</span>      <span class='id identifier rubyid_total'>total</span>        <span class='id identifier rubyid_real'>real</span>
<span class='const'>Sort</span>        <span class='float'>0.180000</span>   <span class='float'>0.000000</span>   <span class='float'>0.180000</span> (  <span class='float'>0.175469</span>)
<span class='const'>Sort</span> <span class='id identifier rubyid_by'>by</span>     <span class='float'>1.980000</span>   <span class='float'>0.040000</span>   <span class='float'>2.020000</span> (  <span class='float'>2.013586</span>)</code></pre>

<p>However, consider the case where comparing the keys is a non-trivial operation. The following code sorts some files on modification time using the basic <a href="#sort-instance_method" title="Enumerable#sort (method)">#sort</a> method.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span>.<span class='id identifier rubyid_sort'><a href="#sort-instance_method" title="Enumerable#sort (method)">sort</a></span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_new'><a href="File.html#new-class_method" title="File.new (method)">new</a></span>(<span class='id identifier rubyid_a'>a</span>).<span class='id identifier rubyid_mtime'><a href="File.html#mtime-class_method" title="File.mtime (method)">mtime</a></span> <span class='op'>&lt;=&gt;</span> <span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_new'><a href="File.html#new-class_method" title="File.new (method)">new</a></span>(<span class='id identifier rubyid_b'>b</span>).<span class='id identifier rubyid_mtime'><a href="File.html#mtime-class_method" title="File.mtime (method)">mtime</a></span> }
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]</span></code></pre>

<p>This sort is inefficient: it generates two new <a href="File.html" title="File (class)"><code>::File</code></a> objects during every comparison. A slightly better technique is to use the <a href="Kernel.html#test-class_method" title="Kernel.test (method)">Kernel.test</a> method to generate the modification times directly.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>]
<span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span>.<span class='id identifier rubyid_sort'><a href="#sort-instance_method" title="Enumerable#sort (method)">sort</a></span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_test'>test</span>(<span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span>) <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_test'>test</span>(<span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)
}
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]</span></code></pre>

<p>This still generates many unnecessary <a href="Time.html" title="Time (class)"><code>::Time</code></a> objects. A more efficient technique is to cache the sort keys (modification times in this case) before the sort. Perl users often call this approach a Schwartzian transform, after Randal Schwartz. We construct a temporary array, where each element is an array containing our sort key along with the filename. We sort this array, and then extract the filename from the result.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_collect'><a href="#collect-instance_method" title="Enumerable#collect (method)">collect</a></span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
   [<span class='id identifier rubyid_test'>test</span>(<span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>)<span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>]
}.<span class='id identifier rubyid_sort'><a href="#sort-instance_method" title="Enumerable#sort (method)">sort</a></span>.<span class='id identifier rubyid_collect'><a href="#collect-instance_method" title="Enumerable#collect (method)">collect</a></span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>[<span class='int'>1</span>] }
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]</span></code></pre>

<p>This is exactly what <code>#sort_by</code> does internally.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_sort_by'>sort_by</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_test'>test</span>(<span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>) }
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]</span></code></pre>

<p>To produce the reverse of a specific order, the following can be used:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> { <span class='op'>...</span> }.<span class='id identifier rubyid_reverse!'>reverse!</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1706-L1762'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1706' data-end='1762'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1706</span></pre>
<pre class='code cpp'>

static VALUE
enum_sort_by(VALUE obj)
{
    VALUE ary, buf;
    struct MEMO *memo;
    long i;
    struct sort_by_data *data;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    if (RB_TYPE_P(obj, T_ARRAY) &amp;&amp; RARRAY_LEN(obj) &lt;= LONG_MAX/2) {
        ary = rb_ary_new2(RARRAY_LEN(obj)*2);
    }
    else {
        ary = rb_ary_new();
    }
    RBASIC_CLEAR_CLASS(ary);
    buf = rb_ary_hidden_new(SORT_BY_BUFSIZE*2);
    rb_ary_store(buf, SORT_BY_BUFSIZE*2-1, Qnil);
    memo = rb_imemo_memo_new(0, 0, 0);
    data = (struct sort_by_data *)&amp;memo-&gt;v1;
    RB_OBJ_WRITE(memo, &amp;data-&gt;ary, ary);
    RB_OBJ_WRITE(memo, &amp;data-&gt;buf, buf);
    data-&gt;n = 0;
    data-&gt;primitive_uniformed = SORT_BY_UNIFORMED((CMP_OPTIMIZABLE(FLOAT) &amp;&amp; CMP_OPTIMIZABLE(INTEGER)),
                                                  CMP_OPTIMIZABLE(FLOAT),
                                                  CMP_OPTIMIZABLE(INTEGER));
    rb_block_call(obj, id_each, 0, 0, sort_by_i, (VALUE)memo);
    ary = data-&gt;ary;
    buf = data-&gt;buf;
    if (data-&gt;n) {
        rb_ary_resize(buf, data-&gt;n*2);
        rb_ary_concat(ary, buf);
    }
    if (RARRAY_LEN(ary) &gt; 2) {
        if (data-&gt;primitive_uniformed) {
            RARRAY_PTR_USE(ary, ptr,
                           rb_uniform_intro_sort_2((struct rb_uniform_sort_data*)ptr,
                                                   (struct rb_uniform_sort_data*)(ptr + RARRAY_LEN(ary))));
        }
        else {
            RARRAY_PTR_USE(ary, ptr,
                           ruby_qsort(ptr, RARRAY_LEN(ary)/2, 2*sizeof(VALUE),
                                      sort_by_cmp, (void *)ary));
        }
    }
    if (RBASIC(ary)-&gt;klass) {
        rb_raise(rb_eRuntimeError, &quot;sort_by reentered&quot;);
    }
    for (i=1; i&lt;RARRAY_LEN(ary); i+=2) {
        RARRAY_ASET(ary, i/2, RARRAY_AREF(ary, i));
    }
    rb_ary_resize(ary, RARRAY_LEN(ary)/2);
    RBASIC_SET_CLASS_RAW(ary, rb_cArray);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sum-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sum</strong>(initial_value = 0)  &#x21d2; <a href="Numeric.html" title="Numeric (class)">Numeric</a> </span>
      <span class='overload'>#<strong>sum</strong>(initial_value = 0) {|element| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With no block given, returns the sum of <code>initial_value</code> and the elements:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>100</span>).<span class='id identifier rubyid_sum'>sum</span>          <span class='comment'># =&gt; 5050
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>100</span>).<span class='id identifier rubyid_sum'>sum</span>(<span class='int'>1</span>)       <span class='comment'># =&gt; 5051
</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_sum'>sum</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fooabcd&quot;</span></code></pre>

<p>Generally, the sum is computed using methods <code>+</code> and <code>each</code>; for performance optimizations, those methods may not be used, and so any redefinition of those methods may not have effect here.</p>

<p>One such optimization: When possible, computes using Gauss’s summation formula <em>n(n+1)/2</em>:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>100</span> <span class='op'>*</span> (<span class='int'>100</span> <span class='op'>+</span> <span class='int'>1</span>) <span class='op'>/</span> <span class='int'>2</span> <span class='comment'># =&gt; 5050</span></code></pre>

<p>With a block given, calls the block with each element; returns the sum of <code>initial_value</code> and the block return values:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_sum'>sum</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> }                        <span class='comment'># =&gt; 30
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_sum'>sum</span>(<span class='int'>100</span>) {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> }                   <span class='comment'># =&gt; 130
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>a:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>e:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>f:</span> <span class='int'>5</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_sum'>sum</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_odd?'>odd?</span> <span class='op'>?</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>:</span> <span class='int'>0</span> } <span class='comment'># =&gt; 9
</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_sum'>sum</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> }  <span class='comment'># =&gt; &quot;xabc&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4819-L4865'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4819' data-end='4865'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4819</span></pre>
<pre class='code cpp'>

static VALUE
enum_sum(int argc, VALUE* argv, VALUE obj)
{
    struct enum_sum_memo memo;
    VALUE beg, end;
    int excl;

    memo.v = (rb_check_arity(argc, 0, 1) == 0) ? LONG2FIX(0) : argv[0];
    memo.block_given = rb_block_given_p();
    memo.n = 0;
    memo.r = Qundef;

    if ((memo.float_value = RB_FLOAT_TYPE_P(memo.v))) {
        memo.f = RFLOAT_VALUE(memo.v);
        memo.c = 0.0;
    }
    else {
        memo.f = 0.0;
        memo.c = 0.0;
    }

    if (RTEST(rb_range_values(obj, &amp;beg, &amp;end, &amp;excl))) {
        if (!memo.block_given &amp;&amp; !memo.float_value &amp;&amp;
                (FIXNUM_P(beg) || RB_BIGNUM_TYPE_P(beg)) &amp;&amp;
                (FIXNUM_P(end) || RB_BIGNUM_TYPE_P(end))) {
            return int_range_sum(beg, end, excl, memo.v);
        }
    }

    if (RB_TYPE_P(obj, T_HASH) &amp;&amp;
            rb_method_basic_definition_p(CLASS_OF(obj), id_each))
        hash_sum(obj, &amp;memo);
    else
        rb_block_call(obj, id_each, 0, 0, enum_sum_i, (VALUE)&amp;memo);

    if (memo.float_value) {
        return DBL2NUM(memo.f + memo.c);
    }
    else {
        if (memo.n != 0)
            memo.v = rb_fix_plus(LONG2FIX(memo.n), memo.v);
        if (!UNDEF_P(memo.r)) {
            memo.v = rb_rational_plus(memo.r, memo.v);
        }
        return memo.v;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take-instance_method">
  <h3 class='signature '>
    #<strong>take</strong>(n)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For non-negative integer <code>n</code>, returns the first <code>n</code> elements:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> (<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>)
<span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_take'>take</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [1, 2]
</span><span class='id identifier rubyid_r'>r</span>.<span class='id identifier rubyid_take'>take</span>(<span class='int'>0</span>) <span class='comment'># =&gt; []
</span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='int'>3</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_take'>take</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [[:foo, 0], [:bar, 1]]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3569-L3585'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3569' data-end='3585'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3569</span></pre>
<pre class='code cpp'>

static VALUE
enum_take(VALUE obj, VALUE n)
{
    struct MEMO *memo;
    VALUE result;
    long len = NUM2LONG(n);

    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }

    if (len == 0) return rb_ary_new2(0);
    result = rb_ary_new2(len);
    memo = rb_imemo_memo_new(result, 0, len);
    rb_block_call(obj, id_each, 0, 0, take_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="take_while-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>take_while</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>take_while</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements up to that point:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_take_while'>take_while</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; [1, 2]
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_take_while'>take_while</span>{<span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_element'>element</span><span class='semicolon'>;</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> }
<span class='comment'># =&gt; [[:foo, 0], [:bar, 1]]</span></code></pre>

<p>With no block given, returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3615-L3624'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3615' data-end='3624'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3615</span></pre>
<pre class='code cpp'>

static VALUE
enum_take_while(VALUE obj)
{
    VALUE ary;

    RETURN_ENUMERATOR(obj, 0, 0);
    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, take_while_i, ary);
    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tally-instance_method">
  <h3 class='signature '>
    #<strong>tally</strong>(hash = {})  &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When argument <code>hash</code> is not given, returns a new hash whose keys are the distinct elements in <code>self</code>; each integer value is the count of occurrences of each element:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_tally'>tally</span> <span class='comment'># =&gt; {&quot;a&quot;=&gt;2, &quot;b&quot;=&gt;3, &quot;c&quot;=&gt;3}</span></code></pre>

<p>When argument <code>hash</code> is given, returns <code>hash</code>, possibly augmented; for each element <code>ele</code> in <code>self</code>:</p>
<ul><li>
<p>Adds it as a key with a zero value if that key does not already exist:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span>[<span class='id identifier rubyid_ele'>ele</span>] <span class='op'>=</span> <span class='int'>0</span> <span class='kw'>unless</span> <span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Enumerable#include? (method)">include?</a></span>(<span class='id identifier rubyid_ele'>ele</span>)</code></pre>
</li><li>
<p>Increments the value of key <code>ele</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span>[<span class='id identifier rubyid_ele'>ele</span>] <span class='op'>+=</span> <span class='int'>1</span></code></pre>
</li></ul>

<p>This is useful for accumulating tallies across multiple enumerables:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}                   <span class='comment'># =&gt; {}
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; {&quot;a&quot;=&gt;2, &quot;c&quot;=&gt;2, &quot;d&quot;=&gt;1, &quot;b&quot;=&gt;1}
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>z</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>)       <span class='comment'># =&gt; {&quot;a&quot;=&gt;3, &quot;c&quot;=&gt;2, &quot;d&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;z&quot;=&gt;1}
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>m</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>)       <span class='comment'># =&gt; {&quot;a&quot;=&gt;4, &quot;c&quot;=&gt;2, &quot;d&quot;=&gt;1, &quot;b&quot;=&gt;3, &quot;z&quot;=&gt;1, &quot;m&quot;=&gt;1}</span></code></pre>

<p>The key to be added or found for an element depends on the class of <code>self</code>; see <a href="Enumerable.html#label-Enumerable+in+Ruby+Classes" title="&lt;code&gt;Enumerable&lt;/code&gt; in {Ruby"><code>Enumerable</code> in {Ruby</a> Classes}.</p>

<p>Examples:</p>
<ul><li>
<p><a href="Array.html" title="Array (class)"><code>::Array</code></a> (and certain array-like classes): the key is the element (as above).</p>
</li><li>
<p><a href="Hash.html" title="Hash (class)"><code>::Hash</code></a> (and certain hash-like classes): the key is the 2-element array formed from the key-value pair:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}                        <span class='comment'># =&gt; {}
</span>{<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>}.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; {[:foo, &quot;a&quot;]=&gt;1, [:bar, &quot;b&quot;]=&gt;1}
</span>{<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>}.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; {[:foo, &quot;a&quot;]=&gt;1, [:bar, &quot;b&quot;]=&gt;1, [:foo, &quot;c&quot;]=&gt;1, [:bar, &quot;d&quot;]=&gt;1}
</span>{<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>}.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; {[:foo, &quot;a&quot;]=&gt;2, [:bar, &quot;b&quot;]=&gt;2, [:foo, &quot;c&quot;]=&gt;1, [:bar, &quot;d&quot;]=&gt;1}
</span>{<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>}.<span class='id identifier rubyid_tally'>tally</span>(<span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; {[:foo, &quot;a&quot;]=&gt;2, [:bar, &quot;b&quot;]=&gt;2, [:foo, &quot;c&quot;]=&gt;2, [:bar, &quot;d&quot;]=&gt;2}</span></code></pre>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L1284-L1297'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1284' data-end='1297'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1284</span></pre>
<pre class='code cpp'>

static VALUE
enum_tally(int argc, VALUE *argv, VALUE obj)
{
    VALUE hash;
    if (rb_check_arity(argc, 0, 1)) {
        hash = rb_to_hash_type(argv[0]);
        rb_check_frozen(hash);
    }
    else {
        hash = rb_hash_new();
    }

    return enum_hashify_into(obj, 0, 0, tally_i, hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>(*args)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>     <span class='aliases'>Also known as: <span class='names'>#entries</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array containing the items in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'># =&gt; [0, 1, 2, 3, 4]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L730-L738'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='730' data-end='738'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 730</span></pre>
<pre class='code cpp'>

static VALUE
enum_to_a(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary = rb_ary_new();

    rb_block_call_kw(obj, id_each, argc, argv, collect_all, ary, RB_PASS_CALLED_KEYWORDS);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_h-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_h</strong>(*args)  &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a> </span>
      <span class='overload'>#<strong>to_h</strong>(*args) {|element| ... } &#x21d2; <a href="Hash.html" title="Hash (class)">Hash</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When <code>self</code> consists of 2-element arrays, returns a hash each of whose entries is the key-value pair formed from one of those arrays:</p>

<pre class="code ruby"><code class="ruby">[[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='int'>0</span>]<span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>]<span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='int'>2</span>]].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>When a block is given, the block is called with each element of <code>self</code>; the block should return a 2-element array which becomes a key-value pair in the returned hash:</p>

<pre class="code ruby"><code class="ruby">(<span class='int'>0</span><span class='op'>..</span><span class='int'>3</span>).<span class='id identifier rubyid_to_h'>to_h</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> [<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>**</span> <span class='int'>2</span>]} <span class='comment'># =&gt; {0=&gt;0, 1=&gt;1, 2=&gt;4, 3=&gt;9}</span></code></pre>

<p>Raises an exception if an element of <code>self</code> is not a 2-element array, and a block is not passed.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L787-L792'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='787' data-end='792'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 787</span></pre>
<pre class='code cpp'>

static VALUE
enum_to_h(int argc, VALUE *argv, VALUE obj)
{
    rb_block_call_func *iter = rb_block_given_p() ? enum_to_h_ii : enum_to_h_i;
    return enum_hashify(obj, argc, argv, iter);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_set-instance_method">
  <h3 class='signature '>
    #<strong>to_set</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Makes a set from the enumerable object with given arguments.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/prelude.rb#L38-L40'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='38' data-end='40'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'prelude.rb', line 38</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_set'>to_set</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'><a href="Set.html" title="Set (class)">Set</a></span>.<span class='id identifier rubyid_new'><a href="Set.html#new-class_method" title="Set.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uniq-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>uniq</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>uniq</strong> {|element| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With no block, returns a new array containing only unique elements; the array has no two elements <code>e0</code> and <code>e1</code> such that <code>e0.eql?(e1)</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_uniq'>uniq</span>       <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_uniq'>uniq</span> <span class='comment'># =&gt; [0, 1, 2]</span></code></pre>

<p>With a block, returns a new array containing elements only for which the block returns a unique value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_uniq'>uniq</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_even?'>even?</span> <span class='op'>?</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>:</span> <span class='int'>0</span> } <span class='comment'># =&gt; [0, 2, 4]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='tstring_end'>]</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_uniq'>uniq</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> }         <span class='comment'># =&gt; [&quot;a&quot;, &quot;c&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L4904-L4916'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4904' data-end='4916'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 4904</span></pre>
<pre class='code cpp'>

static VALUE
enum_uniq(VALUE obj)
{
    VALUE hash, ret;
    rb_block_call_func *const func =
        rb_block_given_p() ? uniq_iter : uniq_func;

    hash = rb_obj_hide(rb_hash_new());
    rb_block_call(obj, id_each, 0, 0, func, hash);
    ret = rb_hash_values(hash);
    rb_hash_clear(hash);
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="zip-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>zip</strong>(*other_enums)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>zip</strong>(*other_enums) {|array| ... } &#x21d2; <code>nil</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With no block given, returns a new array <code>new_array</code> of size self.size whose elements are arrays. Each nested array <code>new_array[n]</code> is of size <code>other_enums.size+1</code>, and contains:</p>
<ul><li>
<p>The <code>n</code>-th element of self.</p>
</li><li>
<p>The <code>n</code>-th element of each of the <code>other_enums</code>.</p>
</li></ul>

<p>If all <code>other_enums</code> and self are the same size, all elements are included in the result, and there is no <code>nil</code>-filling:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a0'>a0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a2'>a2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a3'>a3</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_b0'>b0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b1'>b1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b2'>b2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b3'>b3</span>]
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_c0'>c0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c1'>c1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c2'>c2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c3'>c3</span>]
<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>)
<span class='id identifier rubyid_d'>d</span> <span class='comment'># =&gt; [[:a0, :b0, :c0], [:a1, :b1, :c1], [:a2, :b2, :c2], [:a3, :b3, :c3]]
</span>
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_g'>g</span> <span class='op'>=</span> {<span class='label'>goo:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>gar:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>gaz:</span> <span class='int'>5</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>hoo:</span> <span class='int'>6</span><span class='comma'>,</span> <span class='label'>har:</span> <span class='int'>7</span><span class='comma'>,</span> <span class='label'>haz:</span> <span class='int'>8</span>}
<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_g'>g</span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span>)
<span class='id identifier rubyid_d'>d</span> <span class='comment'># =&gt; [
</span>  <span class='comment'>#      [[:foo, 0], [:goo, 3], [:hoo, 6]],
</span>  <span class='comment'>#      [[:bar, 1], [:gar, 4], [:har, 7]],
</span>  <span class='comment'>#      [[:baz, 2], [:gaz, 5], [:haz, 8]]
</span>  <span class='comment'>#    ]</span></code></pre>

<p>If any enumerable in other_enums is smaller than self, fills to <code>self.size</code> with <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a0'>a0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a2'>a2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a3'>a3</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_b0'>b0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b1'>b1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b2'>b2</span>]
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_c0'>c0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c1'>c1</span>]
<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>)
<span class='id identifier rubyid_d'>d</span> <span class='comment'># =&gt; [[:a0, :b0, :c0], [:a1, :b1, :c1], [:a2, :b2, nil], [:a3, nil, nil]]</span></code></pre>

<p>If any enumerable in other_enums is larger than self, its trailing elements are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a0'>a0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a2'>a2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a3'>a3</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_b0'>b0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b1'>b1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b2'>b2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b3'>b3</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b4'>b4</span>]
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_c0'>c0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c1'>c1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c2'>c2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c3'>c3</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c4'>c4</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c5'>c5</span>]
<span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>)
<span class='id identifier rubyid_d'>d</span> <span class='comment'># =&gt; [[:a0, :b0, :c0], [:a1, :b1, :c1], [:a2, :b2, :c2], [:a3, :b3, :c3]]</span></code></pre>

<p>When a block is given, calls the block with each of the sub-arrays (formed as above); returns nil:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a0'>a0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a2'>a2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a3'>a3</span>]
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_b0'>b0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b1'>b1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b2'>b2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b3'>b3</span>]
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_c0'>c0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c1'>c1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c2'>c2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c3'>c3</span>]
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>) {<span class='op'>|</span><span class='id identifier rubyid_sub_array'>sub_array</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_sub_array'>sub_array</span>} <span class='comment'># =&gt; nil</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='symbeg'>:</span><span class='id identifier rubyid_a0'>a0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b0'>b0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c0'>c0</span>]
[<span class='symbeg'>:</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b1'>b1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c1'>c1</span>]
[<span class='symbeg'>:</span><span class='id identifier rubyid_a2'>a2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b2'>b2</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c2'>c2</span>]
[<span class='symbeg'>:</span><span class='id identifier rubyid_a3'>a3</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b3'>b3</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c3'>c3</span>]</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/enum.c#L3504-L3543'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3504' data-end='3543'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3504</span></pre>
<pre class='code cpp'>

static VALUE
enum_zip(int argc, VALUE *argv, VALUE obj)
{
    int i;
    ID conv;
    struct MEMO *memo;
    VALUE result = Qnil;
    VALUE args = rb_ary_new4(argc, argv);
    int allary = TRUE;

    argv = RARRAY_PTR(args);
    for (i=0; i&lt;argc; i++) {
        VALUE ary = rb_check_array_type(argv[i]);
        if (NIL_P(ary)) {
            allary = FALSE;
            break;
        }
        argv[i] = ary;
    }
    if (!allary) {
        static const VALUE sym_each = STATIC_ID2SYM(id_each);
        CONST_ID(conv, &quot;to_enum&quot;);
        for (i=0; i&lt;argc; i++) {
            if (!rb_respond_to(argv[i], id_each)) {
                rb_raise(rb_eTypeError, &quot;wrong argument type %&quot;PRIsVALUE&quot; (must respond to :each)&quot;,
                         rb_obj_class(argv[i]));
            }
            argv[i] = rb_funcallv(argv[i], conv, 1, &amp;sym_each);
        }
    }
    if (!rb_block_given_p()) {
        result = rb_ary_new();
    }

    /* TODO: use NODE_DOT2 as memo(v, v, -) */
    memo = rb_imemo_memo_new(result, args, 0);
    rb_block_call(obj, id_each, 0, 0, allary ? zip_ary : zip_i, (VALUE)memo);

    return result;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>