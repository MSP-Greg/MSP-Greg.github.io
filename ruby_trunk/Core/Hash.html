<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Hash &mdash; Core  Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Hash",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_H'>Index (H)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Hash&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Hash</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L7381'>hash.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L7375'>hash.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.rb#L1'>hash.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A Hash object maps each of its unique keys to a specific value.</p>

<p>A hash has certain similarities to an <a href="Array.html" title="Array (class)"><code>::Array</code></a>, but:</p>
<ul><li>
<p>An array index is always an integer.</p>
</li><li>
<p>A hash key can be (almost) any object.</p>
</li></ul>

<h3 id="label-Hash+Data+Syntax">Hash Data Syntax</h3>

<p>The original syntax for a hash entry uses the “hash rocket,” <code>=&gt;</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Alternatively, but only for a key that’s a symbol, you can use a newer JSON-style syntax, where each bareword becomes a symbol:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>You can also use a string in place of a bareword:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='label_end'>&#39;:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='label_end'>&#39;:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='label_end'>&#39;:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>And you can mix the styles:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='label_end'>&#39;:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>But it’s an error to try the JSON-style syntax for a key that’s not a bareword or a string:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Raises SyntaxError (syntax error, unexpected &#39;:&#39;, expecting =&gt;):
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='int'>0</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span>}</code></pre>

<p>The value can be omitted, meaning that value will be fetched from the context by the name of the key:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>100</span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>x:</span><span class='comma'>,</span> <span class='label'>y:</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {x: 0, y: 100}</span></code></pre>

<h3 id="label-Common+Uses">Common Uses</h3>

<p>You can use a hash to give names to objects:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> {<span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&#39;</span></span>}
<span class='id identifier rubyid_person'>person</span> <span class='comment'># =&gt; {name: &quot;Matz&quot;, language: &quot;Ruby&quot;}</span></code></pre>

<p>You can use a hash to give names to method arguments:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>)
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_some_method'>some_method</span>({<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}) <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Note: when the last argument in a method call is a hash, the curly braces may be omitted:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_some_method'>some_method</span>(<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>) <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>You can use a hash to initialize an object:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Dev</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_language'>language</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>)
    <span class='kw'>self</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>]
    <span class='kw'>self</span>.<span class='id identifier rubyid_language'>language</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_language'>language</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_matz'>matz</span> <span class='op'>=</span> <span class='const'>Dev</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>(<span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_matz'>matz</span> <span class='comment'># =&gt; #&lt;Dev: @name=&quot;Matz&quot;, @language=&quot;Ruby&quot;&gt;</span></code></pre>

<h3 id="label-Creating+a+Hash">Creating a Hash</h3>

<p>You can create a Hash object explicitly with:</p>
<ul><li>
<p>A <a href="file.literals.rdoc.html#label-Hash%2BLiterals" title="hash literal">hash literal</a>.</p>
</li></ul>

<p>You can convert certain objects to hashes with:</p>
<ul><li>
<p><a href="Method.html" title="Method (class)"><code>::Method</code></a> <a href="Kernel.html#Hash-class_method" title="Kernel.Hash (method)">Kernel.Hash</a>.</p>
</li></ul>

<p>You can create a hash by calling method <a href="#new-class_method" title="Hash.new (method)">.new</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Create an empty hash.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Hash</span></code></pre>

<p>You can create a hash by calling method <a href="#[]-class_method" title="Hash.[] (method)">.[]</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Create an empty hash.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}
</span><span class='comment'># Create a hash with initial entries.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>You can create a hash by using its literal form (curly braces):</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Create an empty hash.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}
</span><span class='comment'># Create a {Hash} with initial entries.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<h3 id="label-Hash+Value+Basics">Hash Value Basics</h3>

<p>The simplest way to retrieve a hash value (instance method <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='comment'># =&gt; 0</span></code></pre>

<p>The simplest way to create or update a hash value (instance method <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span>] <span class='op'>=</span> <span class='int'>3</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2, bat: 3}
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>4</span> <span class='comment'># =&gt; 4
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 4, bar: 1, baz: 2, bat: 3}</span></code></pre>

<p>The simplest way to delete a hash entry (instance method <a href="#delete-instance_method" title="Hash#delete (method)">#delete</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Hash#delete (method)">delete</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, baz: 2}</span></code></pre>

<h3 id="label-Entry+Order">Entry Order</h3>

<p>A Hash object presents its entries in the order of their creation. This is seen in:</p>
<ul><li>
<p>Iterative methods such as <a href="#each-instance_method" title="Hash#each (method)">#each</a>, <a href="#each_key-instance_method" title="Hash#each_key (method)">#each_key</a>, <a href="#each_pair-instance_method" title="Hash#each_pair (method)">#each_pair</a>, <a href="#each_value-instance_method" title="Hash#each_value (method)">#each_value</a>.</p>
</li><li>
<p>Other order-sensitive methods such as <a href="#shift-instance_method" title="Hash#shift (method)">#shift</a>, <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>, <a href="#values-instance_method" title="Hash#values (method)">#values</a>.</p>
</li><li>
<p>The string returned by method <a href="#inspect-instance_method" title="Hash#inspect (method)">#inspect</a>.</p>
</li></ul>

<p>A new hash has its initial ordering per the given entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1}</span></code></pre>

<p>New entries are added at the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Updating a value does not affect the order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>3</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 3}</span></code></pre>

<p>But re-creating a deleted entry can affect the order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Hash#delete (method)">delete</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>5</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {bar: 1, baz: 3, foo: 5}</span></code></pre>

<h3 id="label-7BHash-7D+Keys"><code>Hash</code> Keys</h3>

<h4 id="label-7BHash-7D+Key+Equivalence"><code>Hash</code> Key Equivalence</h4>

<p>Two objects are treated as the same hash key when their <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> value is identical and the two objects are <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a> to each other.</p>

<h4 id="label-Modifying+an+Active+-7BHash-7D+Key">Modifying an Active <code>Hash</code> Key</h4>

<p>Modifying a <code>Hash</code> key while it is in use damages the hash’s index.</p>

<p>This <code>Hash</code> has keys that are Arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a0'>a0</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> ]
<span class='id identifier rubyid_a1'>a1</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span> ]
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='id identifier rubyid_a0'>a0</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_a1'>a1</span> <span class='op'>=&gt;</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_a0'>a0</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='comment'># =&gt; 110002110</span></code></pre>

<p>Modifying array element <code>a0[0]</code> changes its hash value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a0'>a0</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span>
<span class='id identifier rubyid_a0'>a0</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='comment'># =&gt; 1069447059</span></code></pre>

<p>And damages the <code>Hash</code> index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>You can repair the hash index using method <a href="#rehash-instance_method" title="Hash#rehash (method)">#rehash</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_rehash'><a href="#rehash-instance_method" title="Hash#rehash (method)">rehash</a></span> <span class='comment'># =&gt; {[:bam, :bar]=&gt;0, [:baz, :bat]=&gt;1}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; 0</span></code></pre>

<p>A String key is always safe. That’s because an unfrozen <a href="String.html" title="String (class)"><code>::String</code></a> passed as a key will be replaced by a duplicated and frozen <a href="String.html" title="String (class)"><code>::String</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_frozen?'>frozen?</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='id identifier rubyid_s'>s</span> <span class='op'>=&gt;</span> <span class='int'>0</span>}
<span class='id identifier rubyid_first_key'>first_key</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Hash#keys (method)">keys</a></span>.<span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_first_key'>first_key</span>.<span class='id identifier rubyid_frozen?'>frozen?</span> <span class='comment'># =&gt; true</span></code></pre>

<h4 id="label-User-Defined+-7BHash-7D+Keys">User-Defined <code>Hash</code> Keys</h4>

<p>To be usable as a <code>Hash</code> key, objects must implement the methods <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a>. Note: this requirement does not apply if the <code>Hash</code> uses <a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a> since comparison will then rely on the keys’ object id instead of <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a>.</p>

<p><a href="Object.html" title="Object (class)"><code>::Object</code></a> defines basic implementation for <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <code>eq?</code> that makes each object a distinct key. Typically, user-defined classes will want to override these methods to provide meaningful behavior, or for example inherit <a href="Struct.html" title="Struct (class)"><code>::Struct</code></a> that has useful definitions for these.</p>

<p>A typical implementation of <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is based on the object’s data while <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a> is usually aliased to the overridden <a href="#==-instance_method" title="Hash#== (method)">#==</a> method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Book</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author'>author</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_title'>title</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_author'>author</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span>)
    <span class='ivar'>@author</span> <span class='op'>=</span> <span class='id identifier rubyid_author'>author</span>
    <span class='ivar'>@title</span> <span class='op'>=</span> <span class='id identifier rubyid_title'>title</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
    <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_author'>author</span> <span class='op'>==</span> <span class='ivar'>@author</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_title'>title</span> <span class='op'>==</span> <span class='ivar'>@title</span>
  <span class='kw'>end</span>

  <span class='kw'>alias</span> <span class='id identifier rubyid_eql?'><a href="#eql%3F-instance_method" title="Hash#eql? (method)">eql?</a></span> <span class='op'>==</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>
    [<span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='ivar'>@author</span><span class='comma'>,</span> <span class='ivar'>@title</span>].<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_book1'>book1</span> <span class='op'>=</span> <span class='const'>Book</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby in a Nutshell</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_book2'>book2</span> <span class='op'>=</span> <span class='const'>Book</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby in a Nutshell</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_reviews'>reviews</span> <span class='op'>=</span> {}

<span class='id identifier rubyid_reviews'>reviews</span>[<span class='id identifier rubyid_book1'>book1</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Great reference!</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_reviews'>reviews</span>[<span class='id identifier rubyid_book2'>book2</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nice and compact!</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_reviews'>reviews</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Hash#length (method)">length</a></span> <span class='comment'>#=&gt; 1</span></code></pre>

<h3 id="label-Key+Not+Found-3F">Key Not Found?</h3>

<p>When a method tries to retrieve and return the value for a key and that key <em>is found</em>, the returned value is the value associated with the key.</p>

<p>But what if the key <em>is not found</em>? In that case, certain methods will return a default value while other will raise a KeyError.</p>

<h4 id="label-Nil+Return+Value">Nil Return Value</h4>

<p>If you want <code>nil</code> returned for a not-found key, you can call:</p>
<ul><li>
<p>#[](key) (usually written as <code>#[key]</code>.</p>
</li><li>
<p>#assoc(key).</p>
</li><li>
<p>#dig(key, *identifiers).</p>
</li><li>
<p>#values_at(*keys).</p>
</li></ul>

<p>You can override these behaviors for <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>, <a href="#dig-instance_method" title="Hash#dig (method)">#dig</a>, and <a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a> (but not <a href="#assoc-instance_method" title="Hash#assoc (method)">#assoc</a>); see <a href="Hash.html#label-Hash+Default" title=" Default"> Default</a>.</p>

<h4 id="label-KeyError">KeyError</h4>

<p>If you want <a href="KeyError.html" title="KeyError (class)"><code>::KeyError</code></a> raised for a not-found key, you can call:</p>
<ul><li>
<p>#fetch(key).</p>
</li><li>
<p>#fetch_values(*keys).</p>
</li></ul>

<h4 id="label-Hash+Default">Hash Default</h4>

<p>For certain methods (#[], <a href="#dig-instance_method" title="Hash#dig (method)">#dig</a>, and <a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a>), the return value for a not-found key is determined by two hash properties:</p>
<ul><li>
<p><em>default value</em>: returned by method <a href="#default-instance_method" title="Hash#default (method)">#default</a>.</p>
</li><li>
<p><em>default proc</em>: returned by method <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>.</p>
</li></ul>

<p>In the simple case, both values are <code>nil</code>, and the methods return <code>nil</code> for a not-found key; see <a href="Hash.html#label-Nil+Return+Value" title="Nil Return Value">Nil Return Value</a> above.</p>

<p>Note that this entire section (“Hash Default”):</p>
<ul><li>
<p>Applies <em>only</em> to methods <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>, <a href="#dig-instance_method" title="Hash#dig (method)">#dig</a>, and <a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a>.</p>
</li><li>
<p>Does <em>not</em> apply to methods <a href="#assoc-instance_method" title="Hash#assoc (method)">#assoc</a>, <a href="#fetch-instance_method" title="Hash#fetch (method)">#fetch</a>, or <a href="#fetch_values-instance_method" title="Hash#fetch_values (method)">#fetch_values</a>, which are not affected by the default value or default proc.</p>
</li></ul>

<h5 id="label-Any-Key+Default">Any-Key Default</h5>

<p>You can define an any-key default for a hash; that is, a value that will be returned for <em>any</em> not-found key:</p>
<ul><li>
<p>The value of <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a> <em>must be</em> <code>nil</code>.</p>
</li><li>
<p>The value of <a href="#default-instance_method" title="Hash#default (method)">#default</a> (which may be any object, including <code>nil</code>) will be returned for a not-found key.</p>
</li></ul>

<p>You can set the default value when the hash is created with <a href="#new-class_method" title="Hash.new (method)">.new</a> and option <code>default_value</code>, or later with method <a href="#default=-instance_method" title="Hash#default= (method)">#default=</a>.</p>

<p>Note: although the value of <a href="#default-instance_method" title="Hash#default (method)">#default</a> may be any object, it may not be a good idea to use a mutable object.</p>

<h5 id="label-Per-Key+Defaults">Per-Key Defaults</h5>

<p>You can define a per-key default for a hash; that is, a <a href="Proc.html" title="Proc (class)"><code>::Proc</code></a> that will return a value based on the key itself.</p>

<p>You can set the default proc when the hash is created with <a href="#new-class_method" title="Hash.new (method)">.new</a> and a block, or later with method <a href="#default_proc=-instance_method" title="Hash#default_proc= (method)">#default_proc=</a>.</p>

<p>Note that the proc can modify <code>self</code>, but modifying <code>self</code> in this way is not thread-safe; multiple threads can concurrently call into the default proc for the same key.</p>

<h4 id="label-Method+Default">Method Default</h4>

<p>For two methods, you can specify a default value for a not-found key that has effect only for a single method call (and not for any subsequent calls):</p>
<ul><li>
<p>For method <a href="#fetch-instance_method" title="Hash#fetch (method)">#fetch</a>, you can specify an any-key default:</p>
</li><li>
<p>For either method <a href="#fetch-instance_method" title="Hash#fetch (method)">#fetch</a> or method <a href="#fetch_values-instance_method" title="Hash#fetch_values (method)">#fetch_values</a>, you can specify a per-key default via a block.</p>
</li></ul>

<h3 id="label-What-27s+Here">What’s Here</h3>

<p>First, what’s elsewhere. <a href="Class.html" title="Class (class)"><code>::Class</code></a> <code>Hash</code>:</p>
<ul><li>
<p>Inherits from <a href="Object.html#label-What-27s+Here" title="class Object">class Object</a>.</p>
</li><li>
<p>Includes <a href="Enumerable.html#label-What-27s+Here" title="module Enumerable">module Enumerable</a>, which provides dozens of additional methods.</p>
</li></ul>

<p>Here, class <code>Hash</code> provides methods that are useful for:</p>
<ul><li>
<p>{Hash#label-Methods+for+Creating+a+Hash Creating a }</p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Setting+Hash+State" title="Setting  State">Setting  State</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Querying" title="Querying">Querying</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Comparing" title="Comparing">Comparing</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Fetching" title="Fetching">Fetching</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Assigning" title="Assigning">Assigning</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Deleting" title="Deleting">Deleting</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Iterating" title="Iterating">Iterating</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Converting" title="Converting">Converting</a></p>
</li><li>
<p><a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Transforming Keys and Values">Transforming Keys and Values</a></p>
</li></ul>

<p><a href="Class.html" title="Class (class)"><code>::Class</code></a> <code>Hash</code> also includes methods from module <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>.</p>

<h4 id="label-Methods+for+Creating+a+-7BHash-7D">Methods for Creating a <code>Hash</code></h4>
<ul><li>
<p><a href="#[]-class_method" title="Hash.[] (method)">.[]</a>: Returns a new hash populated with given objects.</p>
</li><li>
<p><a href="#new-class_method" title="Hash.new (method)">.new</a>: Returns a new empty hash.</p>
</li><li>
<p><a href="#try_convert-class_method" title="Hash.try_convert (method)">.try_convert</a>: Returns a new hash created from a given object.</p>
</li></ul>

<h4 id="label-Methods+for+Setting+-7BHash-7D+State">Methods for Setting <code>Hash</code> State</h4>
<ul><li>
<p><a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a>: Sets <code>self</code> to consider only identity in comparing keys.</p>
</li><li>
<p><a href="#default=-instance_method" title="Hash#default= (method)">#default=</a>: Sets the default to a given value.</p>
</li><li>
<p><a href="#default_proc=-instance_method" title="Hash#default_proc= (method)">#default_proc=</a>: Sets the default proc to a given proc.</p>
</li><li>
<p><a href="#rehash-instance_method" title="Hash#rehash (method)">#rehash</a>: Rebuilds the hash table by recomputing the hash index for each key.</p>
</li></ul>

<h4 id="label-Methods+for+Querying">Methods for Querying</h4>
<ul><li>
<p><a href="#any%3F-instance_method" title="Hash#any? (method)">#any?</a>: Returns whether any element satisfies a given criterion.</p>
</li><li>
<p><a href="#compare_by_identity%3F-instance_method" title="Hash#compare_by_identity? (method)">#compare_by_identity?</a>: Returns whether the hash considers only identity when comparing keys.</p>
</li><li>
<p><a href="#default-instance_method" title="Hash#default (method)">#default</a>: Returns the default value, or the default value for a given key.</p>
</li><li>
<p><a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>: Returns the default proc.</p>
</li><li>
<p><a href="#empty%3F-instance_method" title="Hash#empty? (method)">#empty?</a>: Returns whether there are no entries.</p>
</li><li>
<p><a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a>: Returns whether a given object is equal to <code>self</code>.</p>
</li><li>
<p><a href="#hash-instance_method" title="Hash#hash (method)">#hash</a>: Returns the integer hash code.</p>
</li><li>
<p><a href="#has_value%3F-instance_method" title="Hash#has_value? (method)">#has_value?</a> (aliased as <a href="#value%3F-instance_method" title="Hash#value? (method)">#value?</a>): Returns whether a given object is a value in <code>self</code>.</p>
</li><li>
<p><a href="#include%3F-instance_method" title="Hash#include? (method)">#include?</a> (aliased as <a href="#has_key%3F-instance_method" title="Hash#has_key? (method)">#has_key?</a>, <a href="#member%3F-instance_method" title="Hash#member? (method)">#member?</a>, <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>): Returns whether a given object is a key in <code>self</code>.</p>
</li><li>
<p><a href="#size-instance_method" title="Hash#size (method)">#size</a> (aliased as <a href="#length-instance_method" title="Hash#length (method)">#length</a>): Returns the count of entries.</p>
</li></ul>

<h4 id="label-Methods+for+Comparing">Methods for Comparing</h4>
<ul><li>
<p><a href="#<-instance_method" title="Hash#&lt; (method)">#&lt;</a>: Returns whether <code>self</code> is a proper subset of a given object.</p>
</li><li>
<p><a href="#<=-instance_method" title="Hash#&lt;= (method)">#&lt;=</a>: Returns whether <code>self</code> is a subset of a given object.</p>
</li><li>
<p><a href="#==-instance_method" title="Hash#== (method)">#==</a>: Returns whether a given object is equal to <code>self</code>.</p>
</li><li>
<p><a href="#>-instance_method" title="Hash#&gt; (method)">#&gt;</a>: Returns whether <code>self</code> is a proper superset of a given object</p>
</li><li>
<p><a href="#>=-instance_method" title="Hash#&gt;= (method)">#&gt;=</a>: Returns whether <code>self</code> is a superset of a given object.</p>
</li></ul>

<h4 id="label-Methods+for+Fetching">Methods for Fetching</h4>
<ul><li>
<p><a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>: Returns the value associated with a given key.</p>
</li><li>
<p><a href="#assoc-instance_method" title="Hash#assoc (method)">#assoc</a>: Returns a 2-element array containing a given key and its value.</p>
</li><li>
<p><a href="#dig-instance_method" title="Hash#dig (method)">#dig</a>: Returns the object in nested objects that is specified by a given key and additional arguments.</p>
</li><li>
<p><a href="#fetch-instance_method" title="Hash#fetch (method)">#fetch</a>: Returns the value for a given key.</p>
</li><li>
<p><a href="#fetch_values-instance_method" title="Hash#fetch_values (method)">#fetch_values</a>: Returns array containing the values associated with given keys.</p>
</li><li>
<p><a href="#key-instance_method" title="Hash#key (method)">#key</a>: Returns the key for the first-found entry with a given value.</p>
</li><li>
<p><a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>: Returns an array containing all keys in <code>self</code>.</p>
</li><li>
<p><a href="#rassoc-instance_method" title="Hash#rassoc (method)">#rassoc</a>: Returns a 2-element array consisting of the key and value of the first-found entry having a given value.</p>
</li><li>
<p><a href="#values-instance_method" title="Hash#values (method)">#values</a>: Returns an array containing all values in <code>self</code>.</p>
</li><li>
<p><a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a>: Returns an array containing values for given keys.</p>
</li></ul>

<h4 id="label-Methods+for+Assigning">Methods for Assigning</h4>
<ul><li>
<p><a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a> (aliased as <a href="#store-instance_method" title="Hash#store (method)">#store</a>): Associates a given key with a given value.</p>
</li><li>
<p><a href="#merge-instance_method" title="Hash#merge (method)">#merge</a>: Returns the hash formed by merging each given hash into a copy of <code>self</code>.</p>
</li><li>
<p><a href="#update-instance_method" title="Hash#update (method)">#update</a> (aliased as <a href="#merge!-instance_method" title="Hash#merge! (method)">#merge!</a>): Merges each given hash into <code>self</code>.</p>
</li><li>
<p><a href="#replace-instance_method" title="Hash#replace (method)">#replace</a> (aliased as <a href="#initialize_copy-instance_method" title="Hash#initialize_copy (method)">#initialize_copy</a>): Replaces the entire contents of <code>self</code> with the contents of a given hash.</p>
</li></ul>

<h4 id="label-Methods+for+Deleting">Methods for Deleting</h4>

<p>These methods remove entries from <code>self</code>:</p>
<ul><li>
<p><a href="#clear-instance_method" title="Hash#clear (method)">#clear</a>: Removes all entries from <code>self</code>.</p>
</li><li>
<p><a href="#compact!-instance_method" title="Hash#compact! (method)">#compact!</a>: Removes all <code>nil</code>-valued entries from <code>self</code>.</p>
</li><li>
<p><a href="#delete-instance_method" title="Hash#delete (method)">#delete</a>: Removes the entry for a given key.</p>
</li><li>
<p><a href="#delete_if-instance_method" title="Hash#delete_if (method)">#delete_if</a>: Removes entries selected by a given block.</p>
</li><li>
<p><a href="#select!-instance_method" title="Hash#select! (method)">#select!</a> (aliased as <a href="#filter!-instance_method" title="Hash#filter! (method)">#filter!</a>): Keep only those entries selected by a given block.</p>
</li><li>
<p><a href="#keep_if-instance_method" title="Hash#keep_if (method)">#keep_if</a>: Keep only those entries selected by a given block.</p>
</li><li>
<p><a href="#reject!-instance_method" title="Hash#reject! (method)">#reject!</a>: Removes entries selected by a given block.</p>
</li><li>
<p><a href="#shift-instance_method" title="Hash#shift (method)">#shift</a>: Removes and returns the first entry.</p>
</li></ul>

<p>These methods return a copy of <code>self</code> with some entries removed:</p>
<ul><li>
<p><a href="#compact-instance_method" title="Hash#compact (method)">#compact</a>: Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed.</p>
</li><li>
<p><a href="#except-instance_method" title="Hash#except (method)">#except</a>: Returns a copy of <code>self</code> with entries removed for specified keys.</p>
</li><li>
<p><a href="#select-instance_method" title="Hash#select (method)">#select</a> (aliased as <a href="#filter-instance_method" title="Hash#filter (method)">#filter</a>): Returns a copy of <code>self</code> with only those entries selected by a given block.</p>
</li><li>
<p><a href="#reject-instance_method" title="Hash#reject (method)">#reject</a>: Returns a copy of <code>self</code> with entries removed as specified by a given block.</p>
</li><li>
<p><a href="#slice-instance_method" title="Hash#slice (method)">#slice</a>: Returns a hash containing the entries for given keys.</p>
</li></ul>

<h4 id="label-Methods+for+Iterating">Methods for Iterating</h4>
<ul><li>
<p><a href="#each_pair-instance_method" title="Hash#each_pair (method)">#each_pair</a> (aliased as <a href="#each-instance_method" title="Hash#each (method)">#each</a>): Calls a given block with each key-value pair.</p>
</li><li>
<p><a href="#each_key-instance_method" title="Hash#each_key (method)">#each_key</a>: Calls a given block with each key.</p>
</li><li>
<p><a href="#each_value-instance_method" title="Hash#each_value (method)">#each_value</a>: Calls a given block with each value.</p>
</li></ul>

<h4 id="label-Methods+for+Converting">Methods for Converting</h4>
<ul><li>
<p><a href="#flatten-instance_method" title="Hash#flatten (method)">#flatten</a>: Returns an array that is a 1-dimensional flattening of <code>self</code>.</p>
</li><li>
<p><a href="#inspect-instance_method" title="Hash#inspect (method)">#inspect</a> (aliased as <a href="#to_s-instance_method" title="Hash#to_s (method)">#to_s</a>): Returns a new <a href="String.html" title="String (class)"><code>::String</code></a> containing the hash entries.</p>
</li><li>
<p><a href="#to_a-instance_method" title="Hash#to_a (method)">#to_a</a>: Returns a new array of 2-element arrays; each nested array contains a key-value pair from <code>self</code>.</p>
</li><li>
<p><a href="#to_h-instance_method" title="Hash#to_h (method)">#to_h</a>: Returns <code>self</code> if a <code>Hash</code>; if a subclass of <code>Hash</code>, returns a <code>Hash</code> containing the entries from <code>self</code>.</p>
</li><li>
<p><a href="#to_hash-instance_method" title="Hash#to_hash (method)">#to_hash</a>: Returns <code>self</code>.</p>
</li><li>
<p><a href="#to_proc-instance_method" title="Hash#to_proc (method)">#to_proc</a>: Returns a proc that maps a given key to its value.</p>
</li></ul>

<h4 id="label-Methods+for+Transforming+Keys+and+Values">Methods for Transforming Keys and Values</h4>
<ul><li>
<p><a href="#invert-instance_method" title="Hash#invert (method)">#invert</a>: Returns a hash with the each key-value pair inverted.</p>
</li><li>
<p><a href="#transform_keys-instance_method" title="Hash#transform_keys (method)">#transform_keys</a>: Returns a copy of <code>self</code> with modified keys.</p>
</li><li>
<p><a href="#transform_keys!-instance_method" title="Hash#transform_keys! (method)">#transform_keys!</a>: Modifies keys in <code>self</code></p>
</li><li>
<p><a href="#transform_values-instance_method" title="Hash#transform_values (method)">#transform_values</a>: Returns a copy of <code>self</code> with modified values.</p>
</li><li>
<p><a href="#transform_values!-instance_method" title="Hash#transform_values! (method)">#transform_values!</a>: Modifies values in <code>self</code>.</p>
</li></ul>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-class_method" title="[] (class method)">.<strong>[]</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object populated with the given objects, if any.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(default_value = nil, capacity: 0)  &#x21d2; Hash </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new empty Hash object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby2_keywords_hash-class_method" title="ruby2_keywords_hash (class method)">.<strong>ruby2_keywords_hash</strong>(hash)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Duplicates a given hash and adds a ruby2_keywords flag.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby2_keywords_hash%3F-class_method" title="ruby2_keywords_hash? (class method)">.<strong>ruby2_keywords_hash?</strong>(hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if a given hash is flagged by <a href="Module.html#ruby2_keywords-instance_method" title="Module#ruby2_keywords (method)">Module#ruby2_keywords</a> (or <a href="Proc.html#ruby2_keywords-instance_method" title="Proc#ruby2_keywords (method)">Proc#ruby2_keywords</a>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(object)  &#x21d2; Object, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>object</code> is a hash, returns <code>object</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#compare_by_identity-instance_method" title="#compare_by_identity (instance method)">#<strong>compare_by_identity</strong>  &#x21d2; self </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets <code>self</code> to compare keys using <em>identity</em> (rather than mere <em>equality</em>); returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#compare_by_identity%3F-instance_method" title="#compare_by_identity? (instance method)">#<strong>compare_by_identity?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a> has been called:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_proc-instance_method" title="#default_proc (instance method)">#<strong>default_proc</strong>  &#x21d2; Proc<sup>?</sup> </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the default proc for <code>self</code> (see <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_proc=-instance_method" title="#default_proc= (instance method)">#<strong>default_proc=</strong>(proc)  &#x21d2; Proc </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the default proc for <code>self</code> to <code>proc</code> (see <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if there are no hash entries, <code>false</code> otherwise:</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<-instance_method" title="#&lt; (instance method)">#<strong>&lt;</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the entries of <code>self</code> are a proper subset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=-instance_method" title="#&lt;= (instance method)">#<strong>&lt;=</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the entries of <code>self</code> are a subset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <code>self</code> and <code>object</code> are equal.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>-instance_method" title="#&gt; (instance method)">#<strong>&gt;</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the entries of <code>self</code> are a proper superset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>=-instance_method" title="#&gt;= (instance method)">#<strong>&gt;=</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the entries of <code>self</code> are a superset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(key)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches for a hash key equivalent to the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; see <a href="Hash.html#label-Hash+Key+Equivalence" title="&lt;code&gt;Hash&lt;/code&gt; Key Equivalence"><code>Hash</code> Key Equivalence</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#store-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(key, object)  &#x21d2; Object </a>
      (also: #store)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Associates the given <code>object</code> with the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; returns <code>object</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if any element satisfies a given criterion; <code>false</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assoc-instance_method" title="#assoc (instance method)">#<strong>assoc</strong>(key)  &#x21d2; entry<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, returns its entry as a 2-element array containing that key and its value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes all entries from <code>self</code>; returns emptied <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact!-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>self</code> contains any <code>nil</code>-valued entries, returns <code>self</code> with all <code>nil</code>-valued entries removed; returns <code>nil</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default-instance_method" title="#default (instance method)">#<strong>default</strong>  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the default value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default=-instance_method" title="#default= (instance method)">#<strong>default=</strong>(value)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the default value to <code>value</code>; returns <code>value</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(key)  &#x21d2; value<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If an entry for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, deletes the entry and returns its associated value; otherwise returns <code>nil</code> or calls the given block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each key-value pair, deletes each entry for which the block returns a truthy value, and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(key, *identifiers)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finds and returns an object found in nested objects, as specified by <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>identifiers</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each_pair (instance method)">#<strong>each_pair</strong> {|key, value| ... } &#x21d2; self </a>
      (also: #each_pair)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each key-value pair; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_key-instance_method" title="#each_key (instance method)">#<strong>each_key</strong> {|key| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each key; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_pair-instance_method" title="#each_pair (instance method)">#<strong>each_pair</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#each-instance_method" title="Hash#each (method)">#each</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_value-instance_method" title="#each_value (instance method)">#<strong>each_value</strong> {|value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each value; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if all of the following are true:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#except-instance_method" title="#except (instance method)">#<strong>except</strong>(*keys)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> that excludes entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>; any <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> that are not found are ignored:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(key)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With no block given, returns the value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found;.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch_values-instance_method" title="#fetch_values (instance method)">#<strong>fetch_values</strong>(*keys)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When all given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> are found, returns a new array containing the values associated with the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter-instance_method" title="#select (instance method)">#<strong>select</strong> {|key, value| ... } &#x21d2; Hash </a>
      (also: #select)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each entry’s key and value; returns a new hash whose entries are those for which the block returns a truthy value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter!-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
      (also: #select!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each entry’s key and value; removes from <code>self</code> each entry for which the block returns <code>false</code> or <code>nil</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flatten-instance_method" title="#flatten (instance method)">#<strong>flatten</strong>(depth = 1)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With positive integer <code>depth</code>, returns a new array that is a recursive flattening of <code>self</code> to the given <code>depth</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#has_key%3F-instance_method" title="#has_key? (instance method)">#<strong>has_key?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#has_value%3F-instance_method" title="#has_value? (instance method)">#<strong>has_value?</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#value%3F-instance_method" title="Hash#value? (method)">#value?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer hash-code for the hash.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_hash)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="Hash#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="Hash#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invert-instance_method" title="#invert (instance method)">#<strong>invert</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new hash with each key-value pair inverted:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block for each key-value pair; retains the entry if the block returns a truthy value; otherwise deletes the entry; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key-instance_method" title="#key (instance method)">#<strong>key</strong>(value)  &#x21d2; key<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the key for the first-found entry with the given <code>value</code> (see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key%3F-instance_method" title="#key? (instance method)">#<strong>key?</strong>(key)  &#x21d2; Boolean </a>
      (also: #include?, #member?, #has_key?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <a href="#key-instance_method" title="Hash#key (method)">#key</a> is a key in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keys-instance_method" title="#keys (instance method)">#<strong>keys</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing all keys in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of entries in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#member%3F-instance_method" title="#member? (instance method)">#<strong>member?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>(*other_hashes)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Each argument <code>other_hash</code> in <code>other_hashes</code> must be a hash.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#merge!-instance_method" title="#update (instance method)">#<strong>update</strong>(*other_hashes)  &#x21d2; self </a>
      (also: #update)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Updates values and/or adds entries to <code>self</code>; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rassoc-instance_method" title="#rassoc (instance method)">#<strong>rassoc</strong>(value)  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <code>self</code> for the first entry whose value is <a href="#==-instance_method" title="Hash#== (method)">#==</a> to the given <code>value</code>; see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rehash-instance_method" title="#rehash (instance method)">#<strong>rehash</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Rebuilds the hash table for <code>self</code> by recomputing the hash index for each key; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|key, value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, returns a copy of <code>self</code> with zero or more entries removed; calls the block with each key-value pair; excludes the entry in the copy if the block returns a truthy value, includes it otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject!-instance_method" title="#reject! (instance method)">#<strong>reject!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each entry’s key and value; removes the entry from <code>self</code> if the block returns a truthy value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_hash)  &#x21d2; self </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|key, value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter-instance_method" title="Hash#filter (method)">#filter</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select!-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter!-instance_method" title="Hash#filter! (method)">#filter!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  &#x21d2; Array, value </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes and returns the first entry of <code>self</code> as a 2-element array; see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="Hash#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*keys)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new hash containing the entries from <code>self</code> for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>; ignores any keys that are not found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>(key, object)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns all elements of <code>self</code> as an array of 2-element arrays; each nested array contains a key-value pair from <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong> {|key, value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, returns a new hash whose content is based on the block; the block is called with each entry’s key and value; the block should return a 2-element array containing the key and value to be included in the returned array:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">#<strong>to_hash</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_proc-instance_method" title="#to_proc (instance method)">#<strong>to_proc</strong>  &#x21d2; Proc </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="Proc.html" title="Proc (class)"><code>::Proc</code></a> object that maps a key to its value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #inspect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string containing the hash entries:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_keys-instance_method" title="#transform_keys (instance method)">#<strong>transform_keys</strong> {|old_key| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With an argument, a block, or both given, derives a new hash <code>new_hash</code> from <code>self</code>, the argument, and/or the block; all, some, or none of its keys may be different from those in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_keys!-instance_method" title="#transform_keys! (instance method)">#<strong>transform_keys!</strong> {|old_key| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With an argument, a block, or both given, derives keys from the argument, the block, and <code>self</code>; all, some, or none of the keys in <code>self</code> may be changed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_values-instance_method" title="#transform_values (instance method)">#<strong>transform_values</strong> {|value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, returns a new hash <code>new_hash</code>; for each pair <code>key+/+value</code> in <code>self</code>, calls the block with <code>value</code> and captures its return as <code>new_value</code>; adds to <code>new_hash</code> the entry <code>key+/+new_value</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_values!-instance_method" title="#transform_values! (instance method)">#<strong>transform_values!</strong> {|old_value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, changes the values of <code>self</code> as determined by the block; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>(*other_hashes)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#merge!-instance_method" title="Hash#merge! (method)">#merge!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#value%3F-instance_method" title="#value? (instance method)">#<strong>value?</strong>(value)  &#x21d2; Boolean </a>
      (also: #has_value?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <code>value</code> is a value in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values-instance_method" title="#values (instance method)">#<strong>values</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing all values in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(*keys)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new array containing values for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#deconstruct_keys-instance_method" title="#deconstruct_keys (instance method)">#<strong>deconstruct_keys</strong>(keys)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></td>
      <td><div class='inline'><p>Returns whether every element meets a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></td>
      <td><div class='inline'><p>Returns whether any element meets a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chain-instance_method" title="Enumerable#chain (method)">#chain</a></td>
      <td><div class='inline'><p>Returns an enumerator object generated from this enumerator and given enumerables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a></td>
      <td><div class='inline'><p>Each element in the returned enumerator is a 2-element array consisting of:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">Enumerable#map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">Enumerable#flat_map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#compact-instance_method" title="Enumerable#compact (method)">#compact</a></td>
      <td><div class='inline'><p>Returns an array of all non-<code>nil</code> elements:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></td>
      <td><div class='inline'><p>Returns the count of elements, based on an argument or block criterion, if given.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></td>
      <td><div class='inline'><p>When called with positive integer argument <code>n</code> and a block, calls the block with each element, then does so again, until it has done so <code>n</code> times; returns <code>nil</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">Enumerable#find</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></td>
      <td><div class='inline'><p>For positive integer <code>n</code>, returns an array containing all but the first <code>n</code> elements:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></td>
      <td><div class='inline'><p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements after that point:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></td>
      <td><div class='inline'><p>Calls the block with each successive overlapped <code>n</code>-tuple of elements; returns <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a></td>
      <td><div class='inline'><p>Calls the given block with each element, converting multiple values from yield to an array; returns <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></td>
      <td><div class='inline'><p>Calls the block with each successive disjoint <code>n</code>-tuple of elements; returns <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></td>
      <td><div class='inline'><p>Invoke <code>self.each</code> with <code>*args</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></td>
      <td><div class='inline'><p>Calls the block once for each element, passing both the element and the given object:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">Enumerable#to_a</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">#filter</a></td>
      <td><div class='inline'><p>Returns an array containing elements selected by the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#filter_map-instance_method" title="Enumerable#filter_map (method)">#filter_map</a></td>
      <td><div class='inline'><p>Returns an array containing truthy elements returned by the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a></td>
      <td><div class='inline'><p>Returns the first element for which the block returns a truthy value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></td>
      <td><div class='inline'><p>Returns the index of the first element that meets a specified criterion, or <code>nil</code> if no such element is found.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></td>
      <td><div class='inline'><p>Returns the first element or elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></td>
      <td><div class='inline'><p>Returns an array of flattened objects returned by the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></td>
      <td><div class='inline'><p>Returns an array of objects based elements of <code>self</code> that match the given pattern.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a></td>
      <td><div class='inline'><p>Returns an array of objects based on elements of <code>self</code> that <em>don’t</em> match the given pattern.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></td>
      <td><div class='inline'><p>With a block given returns a hash:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">Enumerable#member?</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></td>
      <td><div class='inline'><p>Returns the result of applying a reducer to an initial value and the first element of the <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></td>
      <td><div class='inline'><p>Returns an <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)"><code>::Enumerator::Lazy</code></a>, which redefines most <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> methods to postpone enumeration and enumerate values only on an as-needed basis.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a></td>
      <td><div class='inline'><p>Returns an array of objects returned by the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></td>
      <td><div class='inline'><p>Returns the element with the maximum element according to a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></td>
      <td><div class='inline'><p>Returns the elements for which the block returns the maximum values.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a></td>
      <td><div class='inline'><p>Returns whether for any element <code>object == element</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></td>
      <td><div class='inline'><p>Returns the element with the minimum element according to a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></td>
      <td><div class='inline'><p>Returns the elements for which the block returns the minimum values.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></td>
      <td><div class='inline'><p>Returns a 2-element array containing the minimum and maximum elements according to a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></td>
      <td><div class='inline'><p>Returns a 2-element array containing the elements for which the block returns minimum and maximum values:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></td>
      <td><div class='inline'><p>Returns whether no element meets a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></td>
      <td><div class='inline'><p>Returns whether exactly one element meets a given criterion.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></td>
      <td><div class='inline'><p>With a block given, returns an array of two arrays:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">Enumerable#inject</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></td>
      <td><div class='inline'><p>Returns an array of objects rejected by the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></td>
      <td><div class='inline'><p>With a block given, calls the block with each element, but in reverse order; returns <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a></td>
      <td><div class='inline'><p>With argument <code>pattern</code>, returns an enumerator that uses the pattern to partition elements into arrays (“slices”).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></td>
      <td><div class='inline'><p>Returns an array containing the sorted elements of <code>self</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></td>
      <td><div class='inline'><p>With a block given, returns an array of elements of <code>self</code>, sorted according to the value returned by the block for each element.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a></td>
      <td><div class='inline'><p>With no block given, returns the sum of <code>initial_value</code> and the elements:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></td>
      <td><div class='inline'><p>For non-negative integer <code>n</code>, returns the first <code>n</code> elements:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></td>
      <td><div class='inline'><p>Calls the block with successive elements as long as the block returns a truthy value; returns an array of all elements up to that point:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#tally-instance_method" title="Enumerable#tally (method)">#tally</a></td>
      <td><div class='inline'><p>When argument <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is not given, returns a new hash whose keys are the distinct elements in <code>self</code>; each integer value is the count of occurrences of each element:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a></td>
      <td><div class='inline'><p>Returns an array containing the items in <code>self</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a></td>
      <td><div class='inline'><p>When <code>self</code> consists of 2-element arrays, returns a hash each of whose entries is the key-value pair formed from one of those arrays:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_set-instance_method" title="Enumerable#to_set (method)">#to_set</a></td>
      <td><div class='inline'><p>Makes a set from the enumerable object with given arguments.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#uniq-instance_method" title="Enumerable#uniq (method)">#uniq</a></td>
      <td><div class='inline'><p>With no block, returns a new array containing only unique elements; the array has no two elements <code>e0</code> and <code>e1</code> such that <code>e0.eql?(e1)</code>:</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></td>
      <td><div class='inline'><p>With no block given, returns a new array <code>new_array</code> of size self.size whose elements are arrays.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>(default_value = nil, capacity: 0)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>new</strong>(capacity: 0) {|self, key| ... } &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new empty Hash object.</p>

<p>Initializes the values of <a href="#default-instance_method" title="Hash#default (method)">#default</a> and <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>, which determine the behavior when a given key is not found; see <a href="Hash.html#label-Key+Not+Found-3F" title="Key Not Found?">Key Not Found?</a>.</p>

<p>By default, a hash has <code>nil</code> values for both <a href="#default-instance_method" title="Hash#default (method)">#default</a> and <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>        <span class='comment'># =&gt; {}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span>           <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>      <span class='comment'># =&gt; nil</span></code></pre>

<p>With argument <code>default_value</code> given, sets the <a href="#default-instance_method" title="Hash#default (method)">#default</a> value for the hash:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>(<span class='kw'>false</span>) <span class='comment'># =&gt; {}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span>           <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>      <span class='comment'># =&gt; nil</span></code></pre>

<p>With a block given, sets the <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a> value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> {<span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hash </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span>      <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; #&lt;Proc:0x00000289b6fa7048 (irb):185&gt;
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>]     <span class='comment'># =&gt; &quot;Hash {}: Default value for nosuch&quot;</span></code></pre>

<p>Raises ArgumentError if both <code>default_value</code> and a block are given.</p>

<p>If optional keyword argument <code>capacity</code> is given with a positive integer value <code>n</code>, initializes the hash with enough capacity to accommodate <code>n</code> entries without resizing.</p>

<p>See also <a href="Hash.html#label-Methods+for+Creating+a+Hash" title="Methods for Creating a Hash">Methods for Creating a Hash</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.rb#L37-L39'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='37' data-end='39'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.rb', line 37</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_ifnone'>ifnone</span> <span class='op'>=</span> (<span class='id identifier rubyid_ifnone_unset'>ifnone_unset</span> <span class='op'>=</span> <span class='kw'>true</span>)<span class='comma'>,</span> <span class='label'>capacity:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'>Primitive</span>.<span class='id identifier rubyid_rb_hash_init'>rb_hash_init</span>(<span class='id identifier rubyid_capacity'>capacity</span><span class='comma'>,</span> <span class='id identifier rubyid_ifnone_unset'>ifnone_unset</span><span class='comma'>,</span> <span class='id identifier rubyid_ifnone'>ifnone</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="[]-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>[]</strong>  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>(other_hash)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>([*2_element_arrays] )  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>(*objects)  &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object populated with the given objects, if any. See <a href="#new-class_method" title="Hash.new (method)">.new</a>.</p>

<p>With no argument given, returns a new empty hash.</p>

<p>With a single argument <code>other_hash</code> given that is a hash, returns a new hash initialized with the entries from that hash (but not with its <a href="#default-instance_method" title="Hash#default (method)">#default</a> or <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='const'>Hash</span>[<span class='id identifier rubyid_h'>h</span>] <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>With a single argument <code>2_element_arrays</code> given that is an array of 2-element arrays, returns a new hash wherein each given 2-element array forms a key-value entry:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Hash</span>[ [ [<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='int'>0</span>]<span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>] ] ] <span class='comment'># =&gt; {foo: 0, bar: 1}</span></code></pre>

<p>With an even number of arguments <code>objects</code> given, returns a new hash wherein each successive pair of arguments is a key-value entry:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Hash</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>] <span class='comment'># =&gt; {foo: 0, bar: 1}</span></code></pre>

<p>Raises ArgumentError if the argument list does not conform to any of the above.</p>

<p>See also <a href="Hash.html#label-Methods+for+Creating+a+Hash" title="Methods for Creating a Hash">Methods for Creating a Hash</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L1817-L1877'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1817' data-end='1877'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1817</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE hash, tmp;

    if (argc == 1) {
        tmp = rb_hash_s_try_convert(Qnil, argv[0]);
        if (!NIL_P(tmp)) {
            if (!RHASH_EMPTY_P(tmp)  &amp;&amp; rb_hash_compare_by_id_p(tmp)) {
                /* hash_copy for non-empty hash will copy compare_by_identity
                   flag, but we don&#39;t want it copied. Work around by
                   converting hash to flattened array and using that. */
                tmp = rb_hash_to_a(tmp);
            }
            else {
                hash = hash_alloc(klass);
                if (!RHASH_EMPTY_P(tmp))
                    hash_copy(hash, tmp);
                return hash;
            }
        }
        else {
            tmp = rb_check_array_type(argv[0]);
        }

        if (!NIL_P(tmp)) {
            long i;

            hash = hash_alloc(klass);
            for (i = 0; i &lt; RARRAY_LEN(tmp); ++i) {
                VALUE e = RARRAY_AREF(tmp, i);
                VALUE v = rb_check_array_type(e);
                VALUE key, val = Qnil;

                if (NIL_P(v)) {
                    rb_raise(rb_eArgError, &quot;wrong element type %s at %ld (expected array)&quot;,
                             rb_builtin_class_name(e), i);
                }
                switch (RARRAY_LEN(v)) {
                  default:
                    rb_raise(rb_eArgError, &quot;invalid number of elements (%ld for 1..2)&quot;,
                             RARRAY_LEN(v));
                  case 2:
                    val = RARRAY_AREF(v, 1);
                  case 1:
                    key = RARRAY_AREF(v, 0);
                    rb_hash_aset(hash, key, val);
                }
            }
            return hash;
        }
    }
    if (argc % 2 != 0) {
        rb_raise(rb_eArgError, &quot;odd number of arguments for Hash&quot;);
    }

    hash = hash_alloc(klass);
    rb_hash_bulk_insert(argc, argv, hash);
    hash_verify(hash);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby2_keywords_hash-class_method">
  <h3 class='signature '>
    .<strong>ruby2_keywords_hash</strong>(hash)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Duplicates a given hash and adds a ruby2_keywords flag. This method is not for casual use; debugging, researching, and some truly necessary cases like deserialization of arguments.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>k:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_ruby2_keywords_hash'>ruby2_keywords_hash</span>(<span class='id identifier rubyid_h'>h</span>)
<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='label'>k:</span> <span class='int'>42</span>)
  <span class='id identifier rubyid_k'>k</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span>[<span class='id identifier rubyid_h'>h</span>]) <span class='comment'>#=&gt; 1 with neither a warning or an error</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L1947-L1957'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1947' data-end='1957'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1947</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_ruby2_keywords_hash(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    VALUE tmp = rb_hash_dup(hash);
    if (RHASH_EMPTY_P(hash) &amp;&amp; rb_hash_compare_by_id_p(hash)) {
        rb_hash_compare_by_id(tmp);
    }
    RHASH(tmp)-&gt;basic.flags |= RHASH_PASS_AS_KEYWORDS;
    return tmp;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby2_keywords_hash?-class_method">
  <h3 class='signature '>
    .<strong>ruby2_keywords_hash?</strong>(hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if a given hash is flagged by <a href="Module.html#ruby2_keywords-instance_method" title="Module#ruby2_keywords (method)">Module#ruby2_keywords</a> (or <a href="Proc.html#ruby2_keywords-instance_method" title="Proc#ruby2_keywords (method)">Proc#ruby2_keywords</a>). This method is not for casual use; debugging, researching, and some truly necessary cases like serialization of arguments.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby2_keywords'>ruby2_keywords</span> <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='const'>Hash</span>.<span class='id identifier rubyid_ruby2_keywords_hash?'>ruby2_keywords_hash?</span>(<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_last'>last</span>)
<span class='kw'>end</span>
<span class='id identifier rubyid_foo'>foo</span>(<span class='label'>k:</span> <span class='int'>1</span>)   <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_foo'>foo</span>({<span class='label'>k:</span> <span class='int'>1</span>}) <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L1925-L1930'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1925' data-end='1930'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1925</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_ruby2_keywords_hash_p(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    return RBOOL(RHASH(hash)-&gt;basic.flags &amp; RHASH_PASS_AS_KEYWORDS);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="try_convert-class_method">
  <h3 class='signature '>
    .<strong>try_convert</strong>(object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>object</code> is a hash, returns <code>object</code>.</p>

<p>Otherwise if <code>object</code> responds to <code>:to_hash</code>, calls <code>object.to_hash</code>; returns the result if it is a hash, or raises <a href="TypeError.html" title="TypeError (class)"><code>::TypeError</code></a> if not.</p>

<p>Otherwise if <code>object</code> does not respond to <code>:to_hash</code>, returns <code>nil</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L1904-L1908'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1904' data-end='1908'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1904</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_try_convert(VALUE dummy, VALUE hash)
{
    return rb_check_hash_type(hash);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="compare_by_identity-instance_method">
  <h3 class='signature ro first'>
    #<strong>compare_by_identity</strong>  &#x21d2; <code>self</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets <code>self</code> to compare keys using <em>identity</em> (rather than mere <em>equality</em>); returns <code>self</code>:</p>

<p>By default, two keys are considered to be the same key if and only if they are <em>equal</em> objects (per method <a href="#==-instance_method" title="Hash#== (method)">#==</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='int'>1</span> <span class='comment'># Overwrites.
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;1}</span></code></pre>

<p>When this method has been called, two keys are considered to be the same key if and only if they are the <em>same</em> object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity'>compare_by_identity</span>
<span class='id identifier rubyid_h'>h</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='int'>2</span> <span class='comment'># Does not overwrite.
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;1, &quot;x&quot;=&gt;2}</span></code></pre>

<p>Related: #compare_by_identity?; see also <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4670-L4708'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4670' data-end='4708'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4670</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_compare_by_id(VALUE hash)
{
    VALUE tmp;
    st_table *identtable;

    if (rb_hash_compare_by_id_p(hash)) return hash;

    rb_hash_modify_check(hash);
    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;compare_by_identity during iteration&quot;);
    }

    if (RHASH_TABLE_EMPTY_P(hash)) {
        // Fast path: There&#39;s nothing to rehash, so we don&#39;t need a `tmp` table.
        // We&#39;re most likely an AR table, so this will need an allocation.
        ar_force_convert_table(hash, __FILE__, __LINE__);
        HASH_ASSERT(RHASH_ST_TABLE_P(hash));

        RHASH_ST_TABLE(hash)-&gt;type = &amp;identhash;
    }
    else {
        // Slow path: Need to rehash the members of `self` into a new
        // `tmp` table using the new `identhash` compare/hash functions.
        tmp = hash_alloc(0);
        hash_st_table_init(tmp, &amp;identhash, RHASH_SIZE(hash));
        identtable = RHASH_ST_TABLE(tmp);

        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);
        rb_hash_free(hash);

        // We know for sure `identtable` is an st table,
        // so we can skip `ar_force_convert_table` here.
        RHASH_ST_TABLE_SET(hash, identtable);
        RHASH_ST_CLEAR(tmp);
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare_by_identity?-instance_method">
  <h3 class='signature ro'>
    #<strong>compare_by_identity?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a> has been called:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity?'>compare_by_identity?</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity'><a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">compare_by_identity</a></span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity?'>compare_by_identity?</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Related: #compare_by_identity; see also <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4725-L4729'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4725' data-end='4729'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4725</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_compare_by_id_p(VALUE hash)
{
    return RBOOL(RHASH_IDENTHASH_P(hash));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_proc-instance_method">
  <h3 class='signature rw'>
    #<strong>default_proc</strong>  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a><sup>?</sup>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the default proc for <code>self</code> (see <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> {<span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2265-L2272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2265' data-end='2272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2265</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_default_proc(VALUE hash)
{
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
        return RHASH_IFNONE(hash);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_proc=-instance_method">
  <h3 class='signature rw'>
    #<strong>default_proc=</strong>(proc)  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the default proc for <code>self</code> to <code>proc</code> (see <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2288-L2307'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2288' data-end='2307'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2288</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_set_default_proc(VALUE hash, VALUE proc)
{
    VALUE b;

    rb_hash_modify_check(hash);
    if (NIL_P(proc)) {
        SET_DEFAULT(hash, proc);
        return proc;
    }
    b = rb_check_convert_type_with_id(proc, T_DATA, &quot;Proc&quot;, idTo_proc);
    if (NIL_P(b) || !rb_obj_is_proc(b)) {
        rb_raise(rb_eTypeError,
                 &quot;wrong default_proc type %s (expected Proc)&quot;,
                 rb_obj_classname(proc));
    }
    proc = b;
    SET_PROC_DEFAULT(hash, proc);
    return proc;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if there are no hash entries, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby">{}.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span>}.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3055-L3059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3055' data-end='3059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3055</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_empty_p(VALUE hash)
{
    return RBOOL(RHASH_EMPTY_P(hash));
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the entries of <code>self</code> are a proper subset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>} <span class='comment'># =&gt; true   # Proper subset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>} <span class='comment'># =&gt; true   # Order may differ.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_h'>h</span>                        <span class='comment'># =&gt; false  # Not a proper subset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> {<span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}         <span class='comment'># =&gt; false  # Not a proper subset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>} <span class='comment'># =&gt; false  # Different key.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>} <span class='comment'># =&gt; false  # Different value.</span></code></pre>

<p>See <a href="file.hash_inclusion.html" title="&lt;code&gt;Hash&lt;/code&gt; Inclusion"><code>Hash</code> Inclusion</a>.</p>

<p>Raises TypeError if <code>other_hash</code> is not a hash and cannot be converted to a hash.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4968-L4974'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4968' data-end='4974'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4968</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_lt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the entries of <code>self</code> are a subset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h0'>h0</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h0'>h0</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h0'>h0</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h0'>h0</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h0'>h0</span> <span class='comment'># =&gt; false</span></code></pre>

<p>See <a href="file.hash_inclusion.html" title="&lt;code&gt;Hash&lt;/code&gt; Inclusion"><code>Hash</code> Inclusion</a>.</p>

<p>Raises TypeError if <code>other_hash</code> is not a hash and cannot be converted to a hash.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4939-L4945'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4939' data-end='4945'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4939</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_le(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <code>self</code> and <code>object</code> are equal.</p>

<p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p><code>object</code> is a <code>Hash</code> object (or can be converted to one).</p>
</li><li>
<p><code>self</code> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <a href="#key-instance_method" title="Hash#key (method)">#key</a>, <code>self[key] == object[key]</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span>  {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>} <span class='comment'># =&gt; true   # Equal entries (same order)
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> {<span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>} <span class='comment'># =&gt; true   # Equal entries (different order).
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> <span class='int'>1</span>                            <span class='comment'># =&gt; false  # Object not a hash.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> {}                           <span class='comment'># =&gt; false  # Different number of entries.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>} <span class='comment'># =&gt; false  # Different key.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>==</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>} <span class='comment'># =&gt; false  # Different value.</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4035-L4039'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4035' data-end='4039'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4035</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_equal(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id=">-instance_method">
  <h3 class='signature '>
    #<strong>&gt;</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the entries of <code>self</code> are a proper superset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}         <span class='comment'># =&gt; true   # Proper superset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> {<span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}         <span class='comment'># =&gt; true   # Order may differ.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_h'>h</span>                        <span class='comment'># =&gt; false  # Not a proper superset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>} <span class='comment'># =&gt; false  # Not a proper superset.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}         <span class='comment'># =&gt; false  # Different key.
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>&gt;</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}         <span class='comment'># =&gt; false  # Different value.</span></code></pre>

<p>See <a href="file.hash_inclusion.html" title="&lt;code&gt;Hash&lt;/code&gt; Inclusion"><code>Hash</code> Inclusion</a>.</p>

<p>Raises TypeError if <code>other_hash</code> is not a hash and cannot be converted to a hash.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L5024-L5030'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5024' data-end='5030'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 5024</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_gt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id=">=-instance_method">
  <h3 class='signature '>
    #<strong>&gt;=</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the entries of <code>self</code> are a superset of the entries of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h0'>h0</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h0'>h0</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h0'>h0</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h0'>h0</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h0'>h0</span> <span class='comment'># =&gt; false</span></code></pre>

<p>See <a href="file.hash_inclusion.html" title="&lt;code&gt;Hash&lt;/code&gt; Inclusion"><code>Hash</code> Inclusion</a>.</p>

<p>Raises TypeError if <code>other_hash</code> is not a hash and cannot be converted to a hash.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Comparing" title="Methods for Comparing">Methods for Comparing</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4995-L5001'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4995' data-end='5001'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4995</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_ge(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    #<strong>[]</strong>(key)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches for a hash key equivalent to the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; see <a href="Hash.html#label-Hash+Key+Equivalence" title="&lt;code&gt;Hash&lt;/code&gt; Key Equivalence"><code>Hash</code> Key Equivalence</a>.</p>

<p>If the key is found, returns its value:</p>

<pre class="code ruby"><code class="ruby">{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>] <span class='comment'># =&gt; 1</span></code></pre>

<p>Otherwise, returns a default value (see <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>).</p>

<p>Related: #[]=; see also <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2098-L2109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2098' data-end='2109'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2098</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_aref(VALUE hash, VALUE key)
{
    st_data_t val;

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        return rb_hash_default_value(hash, key);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    #<strong>[]=</strong>(key, object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>     <span class='aliases'>Also known as: <span class='names'>#store</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Associates the given <code>object</code> with the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; returns <code>object</code>.</p>

<p>Searches for a hash key equivalent to the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; see <a href="Hash.html#label-Hash+Key+Equivalence" title="&lt;code&gt;Hash&lt;/code&gt; Key Equivalence"><code>Hash</code> Key Equivalence</a>.</p>

<p>If the key is found, replaces its value with the given <code>object</code>; the ordering is not affected (see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>2</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>]     <span class='comment'># =&gt; 2</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found, creates a new entry for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>object</code>; the new entry is last in the order (see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>2</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>]     <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>           <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Related: #[]; see also <a href="Hash.html#label-Methods+for+Assigning" title="Methods for Assigning">Methods for Assigning</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2959-L2973'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2959' data-end='2973'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2959</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_aset(VALUE hash, VALUE key, VALUE val)
{
    bool iter_p = hash_iterating_p(hash);

    rb_hash_modify(hash);

    if (!RHASH_STRING_KEY_P(hash, key)) {
        RHASH_UPDATE_ITER(hash, iter_p, key, hash_aset, val);
    }
    else {
        RHASH_UPDATE_ITER(hash, iter_p, key, hash_aset_str, val);
    }
    return val;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="any?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>any?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong>(entry)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong> {|key, value| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if any element satisfies a given criterion; <code>false</code> otherwise.</p>

<p>If <code>self</code> has no element, returns <code>false</code> and argument or block are not used; otherwise behaves as below.</p>

<p>With no argument and no block, returns <code>true</code> if <code>self</code> is non-empty, <code>false</code> otherwise.</p>

<p>With argument <code>entry</code> and no block, returns <code>true</code> if for any key <a href="#key-instance_method" title="Hash#key (method)">#key</a> <code>self.assoc(key) == entry</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_assoc'><a href="#assoc-instance_method" title="Hash#assoc (method)">assoc</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>)     <span class='comment'># =&gt; [:bar, 1]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>]) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>0</span>]) <span class='comment'># =&gt; false</span></code></pre>

<p>With no argument and a block given, calls the block with each key-value pair; returns <code>true</code> if the block returns a truthy value, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; false</span></code></pre>

<p>With both argument <code>entry</code> and a block given, issues a warning and ignores the block.</p>

<p>Related: <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">Enumerable#any?</a> (which this method overrides); see also <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4826-L4853'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4826' data-end='4853'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4826</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_any_p(int argc, VALUE *argv, VALUE hash)
{
    VALUE args[2];
    args[0] = Qfalse;

    rb_check_arity(argc, 0, 1);
    if (RHASH_EMPTY_P(hash)) return Qfalse;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
        args[1] = argv[0];

        rb_hash_foreach(hash, any_p_i_pattern, (VALUE)args);
    }
    else {
        if (!rb_block_given_p()) {
            /* yields pairs, never false */
            return Qtrue;
        }
        if (rb_block_pair_yield_optimizable())
            rb_hash_foreach(hash, any_p_i_fast, (VALUE)args);
        else
            rb_hash_foreach(hash, any_p_i, (VALUE)args);
    }
    return args[0];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="assoc-instance_method">
  <h3 class='signature '>
    #<strong>assoc</strong>(key)  &#x21d2; <code>entry</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, returns its entry as a 2-element array containing that key and its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_assoc'>assoc</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; [:bar, 1]</span></code></pre>

<p>Returns <code>nil</code> if the key is not found.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4423-L4457'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4423' data-end='4457'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4423</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_assoc(VALUE hash, VALUE key)
{
    VALUE args[2];

    if (RHASH_EMPTY_P(hash)) return Qnil;

    if (RHASH_ST_TABLE_P(hash) &amp;&amp; !RHASH_IDENTHASH_P(hash)) {
        VALUE value = Qundef;
        st_table assoctable = *RHASH_ST_TABLE(hash);
        assoctable.type = &amp;(struct st_hash_type){
            .compare = assoc_cmp,
            .hash = assoctable.type-&gt;hash,
        };
        VALUE arg = (VALUE)&amp;(struct assoc_arg){
            .tbl = &amp;assoctable,
            .key = (st_data_t)key,
        };

        if (RB_OBJ_FROZEN(hash)) {
            value = assoc_lookup(arg);
        }
        else {
            hash_iter_lev_inc(hash);
            value = rb_ensure(assoc_lookup, arg, hash_foreach_ensure, hash);
        }
        hash_verify(hash);
        if (!UNDEF_P(value)) return rb_assoc_new(key, value);
    }

    args[0] = key;
    args[1] = Qnil;
    rb_hash_foreach(hash, assoc_i, (VALUE)args);
    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes all entries from <code>self</code>; returns emptied <code>self</code>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2881-L2898'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2881' data-end='2898'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2881</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_clear(VALUE hash)
{
    rb_hash_modify_check(hash);

    if (hash_iterating_p(hash)) {
        rb_hash_foreach(hash, clear_i, 0);
    }
    else if (RHASH_AR_TABLE_P(hash)) {
        ar_clear(hash);
    }
    else {
        st_clear(RHASH_ST_TABLE(hash));
        compact_after_delete(hash);
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact-instance_method">
  <h3 class='signature '>
    #<strong>compact</strong>  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='kw'>nil</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compact'>compact</span> <span class='comment'># =&gt; {foo: 0, baz: 2}</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4600-L4612'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4600' data-end='4612'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4600</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_compact(VALUE hash)
{
    VALUE result = rb_hash_dup(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, delete_if_nil, result);
        compact_after_delete(result);
    }
    else if (rb_hash_compare_by_id_p(hash)) {
        result = rb_hash_compare_by_id(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact!-instance_method">
  <h3 class='signature '>
    #<strong>compact!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>self</code> contains any <code>nil</code>-valued entries, returns <code>self</code> with all <code>nil</code>-valued entries removed; returns <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='kw'>nil</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compact!'>compact!</span>
<span class='id identifier rubyid_h'>h</span>          <span class='comment'># =&gt; {foo: 0, baz: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4630-L4642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4630' data-end='4642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4630</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_compact_bang(VALUE hash)
{
    st_index_t n;
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (n) {
        rb_hash_foreach(hash, delete_if_nil, hash);
        if (n != RHASH_SIZE(hash))
            return hash;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deconstruct_keys-instance_method">
  <h3 class='signature nodoc'>
    #<strong>deconstruct_keys</strong>(keys)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L5061-L5065'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5061' data-end='5065'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 5061</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_deconstruct_keys(VALUE hash, VALUE keys)
{
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>default</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>default</strong>(key)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the default value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>. The returned value will be determined either by the default proc or by the default value. See <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>.</p>

<p>With no argument, returns the current default value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'>default</span> <span class='comment'># =&gt; nil</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is given, returns the default value for <a href="#key-instance_method" title="Hash#key (method)">#key</a>, regardless of whether that key exists:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'>default</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; &quot;No key foo&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2218-L2230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2218' data-end='2230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2218</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_default(int argc, VALUE *argv, VALUE hash)
{
    VALUE ifnone;

    rb_check_arity(argc, 0, 1);
    ifnone = RHASH_IFNONE(hash);
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
        if (argc == 0) return Qnil;
        return call_default_proc(ifnone, hash, argv[0]);
    }
    return ifnone;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default=-instance_method">
  <h3 class='signature '>
    #<strong>default=</strong>(value)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the default value to <code>value</code>; returns <code>value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='op'>=</span> <span class='kw'>false</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; false</span></code></pre>

<p>See <a href="Hash.html#label-Hash+Default" title="&lt;code&gt;Hash&lt;/code&gt; Default"><code>Hash</code> Default</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2245-L2251'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2245' data-end='2251'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2245</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_set_default(VALUE hash, VALUE ifnone)
{
    rb_hash_modify_check(hash);
    SET_DEFAULT(hash, ifnone);
    return ifnone;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete</strong>(key)  &#x21d2; <code>value</code><sup>?</sup> </span>
      <span class='overload'>#<strong>delete</strong>(key) {|key| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If an entry for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, deletes the entry and returns its associated value; otherwise returns <code>nil</code> or calls the given block.</p>

<p>With no block given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> found, deletes the entry and returns its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, baz: 2}</span></code></pre>

<p>With no block given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> not found, returns <code>nil</code>.</p>

<p>With a block given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> found, ignores the block, deletes the entry, and returns its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Will never happen</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1}</span></code></pre>

<p>With a block given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> not found, calls the block and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> not found</span><span class='tstring_end'>&quot;</span></span> } <span class='comment'># =&gt; &quot;Key nosuch not found&quot;
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2431-L2451'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2431' data-end='2451'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2431</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_delete_m(VALUE hash, VALUE key)
{
    VALUE val;

    rb_hash_modify_check(hash);
    val = rb_hash_delete_entry(hash, key);

    if (!UNDEF_P(val)) {
        compact_after_delete(hash);
        return val;
    }
    else {
        if (rb_block_given_p()) {
            return rb_yield(key);
        }
        else {
            return Qnil;
        }
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete_if</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>delete_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each key-value pair, deletes each entry for which the block returns a truthy value, and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>0</span> } <span class='comment'># =&gt; {foo: 0}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2556-L2566'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2556' data-end='2566'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2556</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_delete_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, delete_if_i, hash);
        compact_after_delete(hash);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dig-instance_method">
  <h3 class='signature '>
    #<strong>dig</strong>(key, *identifiers)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finds and returns an object found in nested objects, as specified by <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>identifiers</code>.</p>

<p>The nested objects may be instances of various classes. See <a href="file.dig_methods.html" title="Dig Methods">Dig Methods</a>.</p>

<p>Nested hashes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> {<span class='label'>baz:</span> <span class='int'>2</span>}}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; {bar: {baz: 2}}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; {baz: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>) <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Nested hashes and arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span>]}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; :c</span></code></pre>

<p>If no such object is found, returns the <a href="Hash.html#label-Hash+Default" title="hash default">hash default</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span>]}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>) <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid__key'>_key</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>)
<span class='comment'># =&gt; {:foo=&gt;{:bar=&gt;[:a, :b, :c]}}</span></code></pre>

<p>Related: <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4890-L4898'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4890' data-end='4898'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4890</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_hash_aref(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_pair</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_pair</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#each_pair</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each key-value pair; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_pair'><a href="#each_pair-instance_method" title="Hash#each_pair (method)">each_pair</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>} <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_foo'>foo</span><span class='op'>:</span> <span class='int'>0</span>
<span class='id identifier rubyid_bar'>bar</span><span class='op'>:</span> <span class='int'>1</span>
<span class='id identifier rubyid_baz'>baz</span><span class='op'>:</span> <span class='int'>2</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Iterating" title="Methods for Iterating">Methods for Iterating</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3168-L3177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3168' data-end='3177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3168</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_pair(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    if (rb_block_pair_yield_optimizable())
        rb_hash_foreach(hash, each_pair_i_fast, 0);
    else
        rb_hash_foreach(hash, each_pair_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_key-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_key</strong> {|key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_key</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each key; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_key'>each_key</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span> }  <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_baz'>baz</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Iterating" title="Methods for Iterating">Methods for Iterating</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3122-L3128'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3122' data-end='3128'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3122</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_key(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_key_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_pair-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_pair</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_pair</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#each-instance_method" title="Hash#each (method)">#each</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="each_value-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_value</strong> {|value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_value</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each value; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_value'>each_value</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_value'>value</span> } <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>0</span>
<span class='int'>1</span>
<span class='int'>2</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Iterating" title="Methods for Iterating">Methods for Iterating</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3088-L3094'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3088' data-end='3094'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3088</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_value(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_value_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p>The given <code>object</code> is a <code>Hash</code> object.</p>
</li><li>
<p><code>self</code> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <a href="#key-instance_method" title="Hash#key (method)">#key</a>, <code>self[key].eql?(object[key])</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_eql?'>eql?</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h3'>h3</span> <span class='op'>=</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_eql?'>eql?</span> <span class='id identifier rubyid_h3'>h3</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4062-L4066'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4062' data-end='4066'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4062</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_eql(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, TRUE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="except-instance_method">
  <h3 class='signature '>
    #<strong>except</strong>(*keys)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> that excludes entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>; any <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> that are not found are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span><span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>} <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_except'>except</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)        <span class='comment'># =&gt; {:bar=&gt;1}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_except'>except</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>)     <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2682-L2697'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2682' data-end='2697'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2682</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_except(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, result;

    result = hash_dup_with_compare_by_id(hash);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        rb_hash_delete(result, key);
    }
    compact_after_delete(result);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fetch</strong>(key)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(key, default_value)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(key) {|key| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With no block given, returns the value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found;</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>)  <span class='comment'># =&gt; 1</span></code></pre>

<p>If the key is not found, returns <code>default_value</code>, if given, or raises <a href="KeyError.html" title="KeyError (class)"><code>::KeyError</code></a> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span>) <span class='comment'># =&gt; :default
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>)           <span class='comment'># Raises KeyError.</span></code></pre>

<p>With a block given, calls the block with <a href="#key-instance_method" title="Hash#key (method)">#key</a> and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby">{}.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>} <span class='comment'># =&gt; &quot;No key nosuch&quot;</span></code></pre>

<p>Note that this method does not use the values of either <a href="#default-instance_method" title="Hash#default (method)">#default</a> or <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2156-L2190'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2156' data-end='2190'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2156</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_fetch_m(int argc, VALUE *argv, VALUE hash)
{
    VALUE key;
    st_data_t val;
    long block_given;

    rb_check_arity(argc, 1, 2);
    key = argv[0];

    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
        rb_warn(&quot;block supersedes default value argument&quot;);
    }

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        if (block_given) {
            return rb_yield(key);
        }
        else if (argc == 1) {
            VALUE desc = rb_protect(rb_inspect, key, 0);
            if (NIL_P(desc)) {
                desc = rb_any_to_s(key);
            }
            desc = rb_str_ellipsize(desc, 65);
            rb_key_err_raise(rb_sprintf(&quot;key not found: %&quot;PRIsVALUE, desc), hash, key);
        }
        else {
            return argv[1];
        }
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch_values-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fetch_values</strong>(*keys)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>fetch_values</strong>(*keys) {|key| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When all given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> are found, returns a new array containing the values associated with the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch_values'>fetch_values</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [2, 0]</span></code></pre>

<p>When any given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> are not found and a block is given, calls the block with each unfound key and uses the block’s return value as the value for that key:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch_values'>fetch_values</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bad'>bad</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span>}
<span class='comment'># =&gt; [1, 0, &quot;bad&quot;, &quot;bam&quot;]</span></code></pre>

<p>When any given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> are not found and no block is given, raises <a href="KeyError.html" title="KeyError (class)"><code>::KeyError</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2752-L2762'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2752' data-end='2762'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2752</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_fetch_values(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
        rb_ary_push(result, rb_hash_fetch(hash, argv[i]));
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each entry’s key and value; returns a new hash whose entries are those for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Hash#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {foo: 0, bar: 1}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2790-L2802'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2790' data-end='2802'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2790</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_select(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, keep_if_i, result);
        compact_after_delete(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each entry’s key and value; removes from <code>self</code> each entry for which the block returns <code>false</code> or <code>nil</code>.</p>

<p>Returns <code>self</code> if any entries were removed, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select!'><a href="#select!-instance_method" title="Hash#select! (method)">select!</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {foo: 0, bar: 1}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select!'><a href="#select!-instance_method" title="Hash#select! (method)">select!</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; nil</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2824-L2836'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2824' data-end='2836'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2824</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_select_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, keep_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flatten-instance_method">
  <h3 class='signature '>
    #<strong>flatten</strong>(depth = 1)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With positive integer <code>depth</code>, returns a new array that is a recursive flattening of <code>self</code> to the given <code>depth</code>.</p>

<p>At each level of recursion:</p>
<ul><li>
<p>Each element whose value is an array is “flattened” (that is, replaced by its individual array elements); see Array#flatten.</p>
</li><li>
<p>Each element whose value is not an array is unchanged. even if the value is an object that has instance method flatten (such as a hash).</p>
</li></ul>

<p>Examples; note that entry <code>foo: {bar: 1, baz: 2}</code> is never flattened.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}<span class='comma'>,</span> <span class='label'>bat:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bap'>bap</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bah'>bah</span>]]]}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>1</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, [:bam, [:bap, [:bah]]]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, :bam, [:bap, [:bah]]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>3</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, :bam, :bap, [:bah]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>4</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, :bam, :bap, :bah]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>5</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, :bam, :bap, :bah]</span></code></pre>

<p>With negative integer <code>depth</code>, flattens all levels:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; [:foo, {:bar=&gt;1, :baz=&gt;2}, :bat, :bam, :bap, :bah]</span></code></pre>

<p>With <code>depth</code> zero, returns the equivalent of <a href="#to_a-instance_method" title="Hash#to_a (method)">#to_a</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>0</span>) <span class='comment'># =&gt; [[:foo, {:bar=&gt;1, :baz=&gt;2}], [:bat, [:bam, [:bap, [:bah]]]]]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4546-L4577'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4546' data-end='4577'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4546</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_flatten(int argc, VALUE *argv, VALUE hash)
{
    VALUE ary;

    rb_check_arity(argc, 0, 1);

    if (argc) {
        int level = NUM2INT(argv[0]);

        if (level == 0) return rb_hash_to_a(hash);

        ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, ary);
        level--;

        if (level &gt; 0) {
            VALUE ary_flatten_level = INT2FIX(level);
            rb_funcallv(ary, id_flatten_bang, 1, &amp;ary_flatten_level);
        }
        else if (level &lt; 0) {
            /* flatten recursively */
            rb_funcallv(ary, id_flatten_bang, 0, 0);
        }
    }
    else {
        ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, ary);
    }

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="freeze-instance_method">
  <h3 class='signature nodoc'>
    #<strong>freeze</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L103-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='103' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 103</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_freeze(VALUE hash)
{
    return rb_obj_freeze(hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="has_key?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="has_value?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>value?</strong>(value)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_value?</strong>(value)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#value%3F-instance_method" title="Hash#value? (method)">#value?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer hash-code for the hash.</p>

<p>Two hashes have the same hash-code if their content is the same (regardless of order):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h2'>h2</span>.<span class='id identifier rubyid_hash'>hash</span> <span class='op'>==</span> <span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span>.<span class='id identifier rubyid_eql?'><a href="#eql%3F-instance_method" title="Hash#eql? (method)">eql?</a></span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4097-L4108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4097' data-end='4108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4097</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_hash(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    st_index_t hval = rb_hash_start(size);
    hval = rb_hash_uint(hval, (st_index_t)rb_hash_hash);
    if (size) {
        rb_hash_foreach(hash, hash_i, (VALUE)&amp;hval);
    }
    hval = rb_hash_end(hval);
    return ST2FIX(hval);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>include?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_hash)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_hash)  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="Hash#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>inspect</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="Hash#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="invert-instance_method">
  <h3 class='signature '>
    #<strong>invert</strong>  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new hash with each key-value pair inverted:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_invert'>invert</span>
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}</span></code></pre>

<p>Overwrites any repeated new keys (see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_invert'>invert</span> <span class='comment'># =&gt; {0=&gt;:baz}</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Methods for Transforming Keys and Values">Methods for Transforming Keys and Values</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4136-L4143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4136' data-end='4143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4136</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_invert(VALUE hash)
{
    VALUE h = rb_hash_new_with_size(RHASH_SIZE(hash));

    rb_hash_foreach(hash, rb_hash_invert_i, h);
    return h;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keep_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>keep_if</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>keep_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block for each key-value pair; retains the entry if the block returns a truthy value; otherwise deletes the entry; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keep_if'>keep_if</span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; {bar: 1, baz: 2}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2855-L2864'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2855' data-end='2864'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2855</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_keep_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, keep_if_i, hash);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key-instance_method">
  <h3 class='signature '>
    #<strong>key</strong>(value)  &#x21d2; key<sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the key for the first-found entry with the given <code>value</code> (see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_key'>key</span>(<span class='int'>0</span>) <span class='comment'># =&gt; :foo
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_key'>key</span>(<span class='int'>2</span>) <span class='comment'># =&gt; :bar</span></code></pre>

<p>Returns <code>nil</code> if no such value is found.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2337-L2348'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2337' data-end='2348'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2337</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_key(VALUE hash, VALUE value)
{
    VALUE args[2];

    args[0] = value;
    args[1] = Qnil;

    rb_hash_foreach(hash, key_i, (VALUE)args);

    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key?-instance_method">
  <h3 class='signature '>
    #<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code>     <span class='aliases'>Also known as: <span class='names'>#include?, #member?, #has_key?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <a href="#key-instance_method" title="Hash#key (method)">#key</a> is a key in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='symbeg'>:</span><span class='const'>BAR</span>) <span class='comment'># =&gt; false</span></code></pre>

<p>Related: <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3889-L3893'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3889' data-end='3893'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3889</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_has_key(VALUE hash, VALUE key)
{
    return RBOOL(hash_stlike_lookup(hash, key, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keys-instance_method">
  <h3 class='signature '>
    #<strong>keys</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing all keys in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keys'>keys</span> <span class='comment'># =&gt; [:foo, :bar, :baz]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3797-L3823'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3797' data-end='3823'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3797</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_keys(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    VALUE keys =  rb_ary_new_capa(size);

    if (size == 0) return keys;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        RARRAY_PTR_USE(keys, ptr, {
            if (RHASH_AR_TABLE_P(hash)) {
                size = ar_keys(hash, ptr, size);
            }
            else {
                st_table *table = RHASH_ST_TABLE(hash);
                size = st_keys(table, ptr, size);
            }
        });
        rb_gc_writebarrier_remember(keys);
        rb_ary_set_len(keys, size);
    }
    else {
        rb_hash_foreach(hash, keys_i, keys);
    }

    return keys;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    #<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>     <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of entries in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby">{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="Hash#size (method)">size</a></span> <span class='comment'># =&gt; 3</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3031-L3035'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3031' data-end='3035'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3031</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_size(VALUE hash)
{
    return INT2FIX(RHASH_SIZE(hash));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="member?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>member?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="merge-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>merge</strong>(*other_hashes)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>merge</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Each argument <code>other_hash</code> in <code>other_hashes</code> must be a hash.</p>

<p>With arguments <code>other_hashes</code> given and no block, returns the new hash formed by merging each successive <code>other_hash</code> into a copy of <code>self</code>; returns that copy; for each successive entry in <code>other_hash</code>:</p>
<ul><li>
<p>For a new key, the entry is added at the end of <code>self</code>.</p>
</li><li>
<p>For duplicate key, the entry overwrites the entry in <code>self</code>, whose position is unchanged.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) <span class='comment'># =&gt; {foo: 0, bar: 4, baz: 2, bat: 6, bam: 5}</span></code></pre>

<p>With arguments <code>other_hashes</code> and a block given, behaves as above except that for a duplicate key the overwriting entry takes it value not from the entry in <code>other_hash</code>, but instead from the block:</p>
<ul><li>
<p>The block is called with the duplicate key and the values from both <code>self</code> and <code>other_hash</code>.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry in <code>self</code>.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>+</span> <span class='id identifier rubyid_new_value'>new_value</span> }
<span class='comment'># =&gt; {foo: 0, bar: 5, baz: 2, bat: 9, bam: 5}</span></code></pre>

<p>With no arguments, returns a copy of <code>self</code>; the block, if given, is ignored.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Assigning" title="Methods for Assigning">Methods for Assigning</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4370-L4374'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4370' data-end='4374'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4370</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_merge(int argc, VALUE *argv, VALUE self)
{
    return rb_hash_update(argc, argv, copy_compare_by_id(rb_hash_dup(self), self));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="merge!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>update</strong>(*other_hashes)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>update</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>self</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#update</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Updates values and/or adds entries to <code>self</code>; returns <code>self</code>.</p>

<p>Each argument <code>other_hash</code> in <code>other_hashes</code> must be a hash.</p>

<p>With no block given, for each successive entry <code>key+/+new_value</code> in each successive <code>other_hash</code>:</p>
<ul><li>
<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is in <code>self</code>, sets <code>self[key] = new_value</code>, whose position is unchanged:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h0'>h0</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bar:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='op'>-</span><span class='int'>1</span>}
<span class='id identifier rubyid_h0'>h0</span>.<span class='id identifier rubyid_update'><a href="#update-instance_method" title="Hash#update (method)">update</a></span>(<span class='id identifier rubyid_h1'>h1</span>) <span class='comment'># =&gt; {foo: -1, bar: 3, baz: 2}</span></code></pre>
</li><li>
<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not in <code>self</code>, adds the entry at the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_update'><a href="#update-instance_method" title="Hash#update (method)">update</a></span>({<span class='label'>bam:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bah:</span> <span class='int'>4</span>}) <span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2, bam: 3, bah: 4}</span></code></pre>
</li></ul>

<p>With a block given, for each successive entry <code>key+/+new_value</code> in each successive <code>other_hash</code>:</p>
<ul><li>
<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is in <code>self</code>, fetches <code>old_value</code> from <code>self[key]</code>, calls the block with <a href="#key-instance_method" title="Hash#key (method)">#key</a>, <code>old_value</code>, and <code>new_value</code>, and sets <code>self[key] = new_value</code>, whose position is unchanged  :</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_season'>season</span> <span class='op'>=</span> {<span class='label'>AB:</span> <span class='int'>75</span><span class='comma'>,</span> <span class='label'>H:</span> <span class='int'>20</span><span class='comma'>,</span> <span class='label'>HR:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>SO:</span> <span class='int'>17</span><span class='comma'>,</span> <span class='label'>W:</span> <span class='int'>11</span><span class='comma'>,</span> <span class='label'>HBP:</span> <span class='int'>3</span>}
<span class='id identifier rubyid_today'>today</span> <span class='op'>=</span> {<span class='label'>AB:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>H:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>W:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_yesterday'>yesterday</span> <span class='op'>=</span> {<span class='label'>AB:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='label'>H:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>HR:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_season'>season</span>.<span class='id identifier rubyid_update'><a href="#update-instance_method" title="Hash#update (method)">update</a></span>(<span class='id identifier rubyid_yesterday'>yesterday</span><span class='comma'>,</span> <span class='id identifier rubyid_today'>today</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>+</span> <span class='id identifier rubyid_new_value'>new_value</span> }
<span class='comment'># =&gt; {AB: 82, H: 23, HR: 4, SO: 17, W: 12, HBP: 3}</span></code></pre>
</li><li>
<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not in <code>self</code>, adds the entry at the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_update'><a href="#update-instance_method" title="Hash#update (method)">update</a></span>({<span class='label'>bat:</span> <span class='int'>3</span>}) { <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cannot happen</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2, bat: 3}</span></code></pre>
</li></ul>

<p>Related: see <a href="Hash.html#label-Methods+for+Assigning" title="Methods for Assigning">Methods for Assigning</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4259-L4273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4259' data-end='4273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4259</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_update(int argc, VALUE *argv, VALUE self)
{
    struct update_call_args args = {
        .hash = self,
        .argv = argv,
        .argc = argc,
        .block_given = rb_block_given_p(),
        .iterating = false,
    };
    VALUE arg = (VALUE)&amp;args;

    rb_hash_modify(self);
    return rb_ensure(rb_hash_update_call, arg, rb_hash_update_ensure, arg);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rassoc-instance_method">
  <h3 class='signature '>
    #<strong>rassoc</strong>(value)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <code>self</code> for the first entry whose value is <a href="#==-instance_method" title="Hash#== (method)">#==</a> to the given <code>value</code>; see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>.</p>

<p>If the entry is found, returns its key and value as a 2-element array; returns <code>nil</code> if not found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_rassoc'>rassoc</span>(<span class='int'>1</span>) <span class='comment'># =&gt; [:bar, 1]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L4487-L4496'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4487' data-end='4496'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4487</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_rassoc(VALUE hash, VALUE obj)
{
    VALUE args[2];

    args[0] = obj;
    args[1] = Qnil;
    rb_hash_foreach(hash, rassoc_i, (VALUE)args);
    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rehash-instance_method">
  <h3 class='signature '>
    #<strong>rehash</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Rebuilds the hash table for <code>self</code> by recomputing the hash index for each key; returns <code>self</code>. Calling this method ensures that the hash table is valid.</p>

<p>The hash table becomes invalid if the hash value of a key has changed after the entry was created. See <a href="Hash.html#label-Modifying+an+Active+Hash+Key" title="Modifying an Active Hash Key">Modifying an Active Hash Key</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L1989-L2021'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1989' data-end='2021'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1989</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_rehash(VALUE hash)
{
    VALUE tmp;
    st_table *tbl;

    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;rehash during iteration&quot;);
    }
    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
        tmp = hash_alloc(0);
        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);

        hash_ar_free_and_clear_table(hash);
        ar_copy(hash, tmp);
    }
    else if (RHASH_ST_TABLE_P(hash)) {
        st_table *old_tab = RHASH_ST_TABLE(hash);
        tmp = hash_alloc(0);

        hash_st_table_init(tmp, old_tab-&gt;type, old_tab-&gt;num_entries);
        tbl = RHASH_ST_TABLE(tmp);

        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);

        hash_st_free(hash);
        RHASH_ST_TABLE_SET(hash, tbl);
        RHASH_ST_CLEAR(tmp);
    }
    hash_verify(hash);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>reject</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, returns a copy of <code>self</code> with zero or more entries removed; calls the block with each key-value pair; excludes the entry in the copy if the block returns a truthy value, includes it otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='comment'># =&gt; {foo: 0}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2620-L2632'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2620' data-end='2632'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2620</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_reject(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_foreach(result, delete_if_i, result);
        compact_after_delete(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>reject!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each entry’s key and value; removes the entry from <code>self</code> if the block returns a truthy value.</p>

<p>Return <code>self</code> if any entries were removed, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject!'>reject!</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {baz: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject!'>reject!</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; nil</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2587-L2599'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2587' data-end='2599'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2587</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_reject_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, delete_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(other_hash)  &#x21d2; <code>self</code>     <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_replace'>replace</span>({<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bam:</span> <span class='int'>4</span>}) <span class='comment'># =&gt; {bat: 3, bam: 4}</span></code></pre>

<p>Also replaces the default value or proc of <code>self</code> with the default value or proc of <code>other_hash</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_ok'>ok</span>)
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='id identifier rubyid_other'>other</span>)
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; :ok</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Assigning" title="Methods for Assigning">Methods for Assigning</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2996-L3018'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2996' data-end='3018'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2996</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_replace(VALUE hash, VALUE hash2)
{
    rb_hash_modify_check(hash);
    if (hash == hash2) return hash;
    if (hash_iterating_p(hash)) {
        rb_raise(rb_eRuntimeError, &quot;can&#39;t replace hash during iteration&quot;);
    }
    hash2 = to_hash(hash2);

    COPY_DEFAULT(hash, hash2);

    if (RHASH_AR_TABLE_P(hash)) {
        hash_ar_free_and_clear_table(hash);
    }
    else {
        hash_st_free_and_clear_table(hash);
    }

    hash_copy(hash, hash2);

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter-instance_method" title="Hash#filter (method)">#filter</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="select!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter!-instance_method" title="Hash#filter! (method)">#filter!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="shift-instance_method">
  <h3 class='signature '>
    #<strong>shift</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>value</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes and returns the first entry of <code>self</code> as a 2-element array; see <a href="Hash.html#label-Entry+Order" title="Entry Order">Entry Order</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_shift'>shift</span> <span class='comment'># =&gt; [:foo, 0]
</span><span class='id identifier rubyid_h'>h</span>       <span class='comment'># =&gt; {bar: 1, baz: 2}</span></code></pre>

<p>Returns <code>nil</code> if <code>self</code> is empty.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2484-L2521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2484' data-end='2521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2484</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_shift(VALUE hash)
{
    struct shift_var var;

    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
        var.key = Qundef;
        if (!hash_iterating_p(hash)) {
            if (ar_shift(hash, &amp;var.key, &amp;var.val)) {
                return rb_assoc_new(var.key, var.val);
            }
        }
        else {
            rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
            if (!UNDEF_P(var.key)) {
                rb_hash_delete_entry(hash, var.key);
                return rb_assoc_new(var.key, var.val);
            }
        }
    }
    if (RHASH_ST_TABLE_P(hash)) {
        var.key = Qundef;
        if (!hash_iterating_p(hash)) {
            if (st_shift(RHASH_ST_TABLE(hash), &amp;var.key, &amp;var.val)) {
                return rb_assoc_new(var.key, var.val);
            }
        }
        else {
            rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
            if (!UNDEF_P(var.key)) {
                rb_hash_delete_entry(hash, var.key);
                return rb_assoc_new(var.key, var.val);
            }
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="Hash#length (method)">#length</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    #<strong>slice</strong>(*keys)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new hash containing the entries from <code>self</code> for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>; ignores any keys that are not found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) <span class='comment'># =&gt; {baz: 2, foo: 0}</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Deleting" title="Methods for Deleting">Methods for Deleting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2647-L2666'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2647' data-end='2666'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2647</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_slice(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, value, result;

    if (argc == 0 || RHASH_EMPTY_P(hash)) {
        return copy_compare_by_id(rb_hash_new(), hash);
    }
    result = copy_compare_by_id(rb_hash_new_with_size(argc), hash);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        value = rb_hash_lookup2(hash, key, Qundef);
        if (!UNDEF_P(value))
            rb_hash_aset(result, key, value);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="store-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(key, object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>store</strong>(key, object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns all elements of <code>self</code> as an array of 2-element arrays; each nested array contains a key-value pair from <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'># =&gt; [[:foo, 0], [:bar, 1], [:baz, 2]]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3589-L3598'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3589' data-end='3598'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3589</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_a(VALUE hash)
{
    VALUE ary;

    ary = rb_ary_new_capa(RHASH_SIZE(hash));
    rb_hash_foreach(hash, to_a_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_h-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_h</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>to_h</strong>  &#x21d2; <code>self</code>, <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, returns a new hash whose content is based on the block; the block is called with each entry’s key and value; the block should return a 2-element array containing the key and value to be included in the returned array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_h'>to_h</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> [<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>] }
<span class='comment'># =&gt; {0 =&gt; :foo, 1 =&gt; :bar, 2 =&gt; :baz}</span></code></pre>

<p>With no block given, returns <code>self</code> if <code>self</code> is an instance of <code>Hash</code>; if <code>self</code> is a subclass of <code>Hash</code>, returns a new hash containing the content of <code>self</code>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3765-L3776'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3765' data-end='3776'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3765</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_h(VALUE hash)
{
    if (rb_block_given_p()) {
        return rb_hash_to_h_block(hash);
    }
    if (rb_obj_class(hash) != rb_cHash) {
        const VALUE flags = RBASIC(hash)-&gt;flags;
        hash = hash_dup(hash, rb_cHash, flags &amp; RHASH_PROC_DEFAULT);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_hash-instance_method">
  <h3 class='signature '>
    #<strong>to_hash</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3706-L3710'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3706' data-end='3710'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3706</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_hash(VALUE hash)
{
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_proc-instance_method">
  <h3 class='signature '>
    #<strong>to_proc</strong>  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="Proc.html" title="Proc (class)"><code>::Proc</code></a> object that maps a key to its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_proc'>proc</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_proc'>to_proc</span>
<span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L5054-L5058'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5054' data-end='5058'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 5054</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_proc(VALUE hash)
{
    return rb_func_lambda_new(hash_proc_call, hash, 1, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>     <span class='aliases'>Also known as: <span class='names'>#inspect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string containing the hash entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="Hash#inspect (method)">inspect</a></span> <span class='comment'># =&gt; &quot;{foo: 0, bar: 1, baz: 2}&quot;</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Converting" title="Methods for Converting">Methods for Converting</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3690-L3696'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3690' data-end='3696'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3690</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_inspect(VALUE hash)
{
    if (RHASH_EMPTY_P(hash))
        return rb_usascii_str_new2(&quot;{}&quot;);
    return rb_exec_recursive(inspect_hash, hash, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_keys-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_keys</strong> {|old_key| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>(other_hash)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>(other_hash) {|old_key| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With an argument, a block, or both given, derives a new hash <code>new_hash</code> from <code>self</code>, the argument, and/or the block; all, some, or none of its keys may be different from those in <code>self</code>.</p>

<p>With a block given and no argument, <code>new_hash</code> has keys determined only by the block.</p>

<p>For each key/value pair <code>old_key/value</code> in <code>self</code>, calls the block with <code>old_key</code>; the block’s return value becomes <code>new_key</code>; sets <code>new_hash[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> {<span class='op'>|</span><span class='id identifier rubyid_old_key'>old_key</span><span class='op'>|</span> <span class='id identifier rubyid_old_key'>old_key</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span> }
<span class='comment'># =&gt; {&quot;foo&quot; =&gt; 0, &quot;bar&quot; =&gt; 1, &quot;baz&quot; =&gt; 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> {<span class='op'>|</span><span class='id identifier rubyid_old_key'>old_key</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xxx</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {&quot;xxx&quot; =&gt; 2}</span></code></pre>

<p>With argument <code>other_hash</code> given and no block, <code>new_hash</code> may have new keys provided by <code>other_hash</code> and unchanged keys provided by <code>self</code>.</p>

<p>For each key/value pair <code>old_key/old_value</code> in <code>self</code>, looks for key <code>old_key</code> in <code>other_hash</code>:</p>
<ul><li>
<p>If <code>old_key</code> is found, its value <code>other_hash[old_key]</code> is taken as <code>new_key</code>; sets <code>new_hash[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>BAR</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>)
<span class='comment'># =&gt; {FOO: 0, BAR: 1, BAZ: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>FOO</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>FOO</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>)
<span class='comment'># =&gt; {FOO: 2}</span></code></pre>
</li><li>
<p>If <code>old_key</code> is not found, sets <code>new_hash[old_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>({})
<span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)
<span class='comment'># =&gt; {foo: 2, bar: 1}</span></code></pre>
</li></ul>

<p>Unused keys in <code>other_hash</code> are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>bat:</span> <span class='int'>3</span>)
<span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>With both argument <code>other_hash</code> and a block given, <code>new_hash</code> has new keys specified by <code>other_hash</code> or by the block, and unchanged keys provided by <code>self</code>.</p>

<p>For each pair <code>old_key</code> and <code>value</code> in <code>self</code>:</p>
<ul><li>
<p>If <code>other_hash</code> has key <code>old_key</code> (with value <code>new_key</code>), does not call the block for that key; sets <code>new_hash[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>BAR</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Not called</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {FOO: 0, BAR: 1, BAZ: 2}</span></code></pre>
</li><li>
<p>If <code>other_hash</code> does not have key <code>old_key</code>, calls the block with <code>old_key</code> and takes its return value as <code>new_key</code>; sets <code>new_hash[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span>.<span class='id identifier rubyid_reverse'>reverse</span> }
<span class='comment'># =&gt; {&quot;oof&quot; =&gt; 0, &quot;rab&quot; =&gt; 1, BAZ: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ook</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {&quot;ook&quot; =&gt; 1, BAZ: 2}</span></code></pre>
</li></ul>

<p>With no argument and no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Methods for Transforming Keys and Values">Methods for Transforming Keys and Values</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3297-L3323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3297' data-end='3323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3297</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_keys(int argc, VALUE *argv, VALUE hash)
{
    VALUE result;
    struct transform_keys_args transarg = {0};

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        transarg.trans = to_hash(argv[0]);
        transarg.block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
        if (transarg.trans) {
            transarg.result = result;
            rb_hash_foreach(hash, transform_keys_hash_i, (VALUE)&amp;transarg);
        }
        else {
            rb_hash_foreach(hash, transform_keys_i, result);
        }
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_keys!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_keys!</strong> {|old_key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>(other_hash)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>(other_hash) {|old_key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With an argument, a block, or both given, derives keys from the argument, the block, and <code>self</code>; all, some, or none of the keys in <code>self</code> may be changed.</p>

<p>With a block given and no argument, derives keys only from the block; all, some, or none of the keys in <code>self</code> may be changed.</p>

<p>For each key/value pair <code>old_key/value</code> in <code>self</code>, calls the block with <code>old_key</code>; the block’s return value becomes <code>new_key</code>; removes the entry for <code>old_key</code>: <code>self.delete(old_key)</code>; sets <code>self[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span> {<span class='op'>|</span><span class='id identifier rubyid_old_key'>old_key</span><span class='op'>|</span> <span class='id identifier rubyid_old_key'>old_key</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span> }
<span class='comment'># =&gt; {&quot;foo&quot; =&gt; 0, &quot;bar&quot; =&gt; 1, &quot;baz&quot; =&gt; 2}
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span> {<span class='op'>|</span><span class='id identifier rubyid_old_key'>old_key</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xxx</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {&quot;xxx&quot; =&gt; 2}</span></code></pre>

<p>With argument <code>other_hash</code> given and no block, derives keys for <code>self</code> from <code>other_hash</code> and <code>self</code>; all, some, or none of the keys in <code>self</code> may be changed.</p>

<p>For each key/value pair <code>old_key/old_value</code> in <code>self</code>, looks for key <code>old_key</code> in <code>other_hash</code>:</p>
<ul><li>
<p>If <code>old_key</code> is found, takes value <code>other_hash[old_key]</code> as <code>new_key</code>; removes the entry for <code>old_key</code>: <code>self.delete(old_key)</code>; sets <code>self[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>BAR</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>)
<span class='comment'># =&gt; {FOO: 0, BAR: 1, BAZ: 2}
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>FOO</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>FOO</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>)
<span class='comment'># =&gt; {FOO: 2}</span></code></pre>
</li><li>
<p>If <code>old_key</code> is not found, does nothing:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>({})
<span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)
<span class='comment'># =&gt; {foo: 2, bar: 1}</span></code></pre>
</li></ul>

<p>Unused keys in <code>other_hash</code> are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>bat:</span> <span class='int'>3</span>)
<span class='comment'># =&gt; {foo: 0, bar: 1, baz: 2}</span></code></pre>

<p>With both argument <code>other_hash</code> and a block given, derives keys from <code>other_hash</code>, the block, and <code>self</code>; all, some, or none of the keys in <code>self</code> may be changed.</p>

<p>For each pair <code>old_key</code> and <code>value</code> in <code>self</code>:</p>
<ul><li>
<p>If <code>other_hash</code> has key <code>old_key</code> (with value <code>new_key</code>), does not call the block for that key; removes the entry for <code>old_key</code>: <code>self.delete(old_key)</code>; sets <code>self[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='const'>BAR</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='symbeg'>:</span><span class='const'>FOO</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Not called</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {FOO: 0, BAR: 1, BAZ: 2}</span></code></pre>
</li><li>
<p>If <code>other_hash</code> does not have key <code>old_key</code>, calls the block with <code>old_key</code> and takes its return value as <code>new_key</code>; removes the entry for <code>old_key</code>: <code>self.delete(old_key)</code>; sets <code>self[new_key] = value</code>; a duplicate key overwrites:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span>.<span class='id identifier rubyid_reverse'>reverse</span> }
<span class='comment'># =&gt; {&quot;oof&quot; =&gt; 0, &quot;rab&quot; =&gt; 1, BAZ: 2}
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys!'>transform_keys!</span>(<span class='label'>baz:</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ook</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; {&quot;ook&quot; =&gt; 1, BAZ: 2}</span></code></pre>
</li></ul>

<p>With no argument and no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Methods for Transforming Keys and Values">Methods for Transforming Keys and Values</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3421-L3468'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3421' data-end='3468'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3421</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_keys_bang(int argc, VALUE *argv, VALUE hash)
{
    VALUE trans = 0;
    int block_given = 0;

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        trans = to_hash(argv[0]);
        block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        long i;
        VALUE new_keys = hash_alloc(0);
        VALUE pairs = rb_ary_hidden_new(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, pairs);
        for (i = 0; i &lt; RARRAY_LEN(pairs); i += 2) {
            VALUE key = RARRAY_AREF(pairs, i), new_key, val;

            if (!trans) {
                new_key = rb_yield(key);
            }
            else if (!UNDEF_P(new_key = rb_hash_lookup2(trans, key, Qundef))) {
                /* use the transformed key */
            }
            else if (block_given) {
                new_key = rb_yield(key);
            }
            else {
                new_key = key;
            }
            val = RARRAY_AREF(pairs, i+1);
            if (!hash_stlike_lookup(new_keys, key, NULL)) {
                rb_hash_stlike_delete(hash, &amp;key, NULL);
            }
            rb_hash_aset(hash, new_key, val);
            rb_hash_aset(new_keys, new_key, Qnil);
        }
        rb_ary_clear(pairs);
        rb_hash_clear(new_keys);
    }
    compact_after_delete(hash);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_values-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_values</strong> {|value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_values</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, returns a new hash <code>new_hash</code>; for each pair <code>key+/+value</code> in <code>self</code>, calls the block with <code>value</code> and captures its return as <code>new_value</code>; adds to <code>new_hash</code> the entry <code>key+/+new_value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values'>transform_values</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {foo: 0, bar: 100, baz: 200}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Methods for Transforming Keys and Values">Methods for Transforming Keys and Values</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3518-L3533'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3518' data-end='3533'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3518</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_values(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_dup_with_compare_by_id(hash);
    SET_DEFAULT(result, Qnil);

    if (!RHASH_EMPTY_P(hash)) {
        transform_values(result);
        compact_after_delete(result);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_values!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_values!</strong> {|old_value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_values!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, changes the values of <code>self</code> as determined by the block; returns <code>self</code>.</p>

<p>For each entry <code>key+/+old_value</code> in <code>self</code>, calls the block with <code>old_value</code>, captures its return value as <code>new_value</code>, and sets <code>self[key] = new_value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values!'>transform_values!</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>} <span class='comment'># =&gt; {foo: 0, bar: 100, baz: 200}</span></code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>.</p>

<p>Related: see <a href="Hash.html#label-Methods+for+Transforming+Keys+and+Values" title="Methods for Transforming Keys and Values">Methods for Transforming Keys and Values</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3556-L3567'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3556' data-end='3567'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3556</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_values_bang(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);

    if (!RHASH_TABLE_EMPTY_P(hash)) {
        transform_values(hash);
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>update</strong>(*other_hashes)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>update</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#merge!-instance_method" title="Hash#merge! (method)">#merge!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="value?-instance_method">
  <h3 class='signature '>
    #<strong>value?</strong>(value)  &#x21d2; <code>Boolean</code>     <span class='aliases'>Also known as: <span class='names'>#has_value?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <code>value</code> is a value in <code>self</code>.</p>

<p>Related: <a href="Hash.html#label-Methods+for+Querying" title="Methods for Querying">Methods for Querying</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3916-L3925'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3916' data-end='3925'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3916</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_has_value(VALUE hash, VALUE val)
{
    VALUE data[2];

    data[0] = Qfalse;
    data[1] = val;
    rb_hash_foreach(hash, rb_hash_search_value, (VALUE)data);
    return data[0];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values-instance_method">
  <h3 class='signature '>
    #<strong>values</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing all values in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [0, 1, 2]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L3844-L3874'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3844' data-end='3874'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3844</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_values(VALUE hash)
{
    VALUE values;
    st_index_t size = RHASH_SIZE(hash);

    values = rb_ary_new_capa(size);
    if (size == 0) return values;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        if (RHASH_AR_TABLE_P(hash)) {
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE(values, ptr, {
                size = ar_values(hash, ptr, size);
            });
        }
        else if (RHASH_ST_TABLE_P(hash)) {
            st_table *table = RHASH_ST_TABLE(hash);
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE(values, ptr, {
                size = st_values(table, ptr, size);
            });
        }
        rb_ary_set_len(values, size);
    }
    else {
        rb_hash_foreach(hash, values_i, values);
    }

    return values;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values_at-instance_method">
  <h3 class='signature '>
    #<strong>values_at</strong>(*keys)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new array containing values for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [2, 0]</span></code></pre>

<p>The <a href="Hash.html#label-Hash+Default" title="hash default">hash default</a> is returned for each key that is not found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [nil, 0]</span></code></pre>

<p>Related: see <a href="Hash.html#label-Methods+for+Fetching" title="Methods for Fetching">Methods for Fetching</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/hash.c#L2716-L2726'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2716' data-end='2726'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2716</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_values_at(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
        rb_ary_push(result, rb_hash_aref(hash, argv[i]));
    }
    return result;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>