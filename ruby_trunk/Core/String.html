<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: String &mdash; Core Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "String",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_S'>Index (S)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>String&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: String</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a class='nodoc' href="Warning/buffer.html" title="Warning::buffer (class)">Warning::buffer</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L12156'>string.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/master/complex.c#L2270'>complex.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/encoding.c#L1146'>encoding.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/pack.rb#L12'>pack.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/rational.c#L2524'>rational.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/string.rb#L552'>string.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/symbol.c#L861'>symbol.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/transcode.c#L2905'>transcode.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A <code>String</code> object has an arbitrary sequence of bytes, typically representing text or binary data. A <code>String</code> object may be created using <a href="#new-class_method" title="String.new (method)">.new</a> or as literals.</p>

<p><code>String</code> objects differ from <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> objects in that <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> objects are designed to be used as identifiers, instead of text or data.</p>

<p>You can create a <code>String</code> object explicitly with:</p>
<ul><li>
<p>A <code>string literal</code>.</p>
</li><li>
<p>A <code>heredoc literal</code>.</p>
</li></ul>

<p>You can convert certain objects to Strings with:</p>
<ul><li>
<p>Method <code>#String</code>.</p>
</li></ul>

<p>Some <code>String</code> methods modify <code>self</code>. Typically, a method whose name ends with <code>!</code> modifies <code>self</code> and returns <code>self</code>; often a similarly named method (without the <code>!</code>) returns a new string.</p>

<p>In general, if there exist both bang and non-bang version of method, the bang! mutates and the non-bang! does not. However, a method without a bang can also mutate, such as <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p>

<h2 id="label-Substitution+Methods">Substitution Methods</h2>

<p>These methods perform substitutions:</p>
<ul><li>
<p><a href="#sub-instance_method" title="String#sub (method)">#sub</a>: One substitution (or none); returns a new string.</p>
</li><li>
<p><a href="#sub!-instance_method" title="String#sub! (method)">#sub!</a>: One substitution (or none); returns <code>self</code>.</p>
</li><li>
<p><a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a>: Zero or more substitutions; returns a new string.</p>
</li><li>
<p><a href="#gsub!-instance_method" title="String#gsub! (method)">#gsub!</a>: Zero or more substitutions; returns <code>self</code>.</p>
</li></ul>

<p>Each of these methods takes:</p>
<ul><li>
<p>A first argument, <code>pattern</code> (string or regexp), that specifies the substring(s) to be replaced.</p>
</li><li>
<p>Either of these:</p>
<ul><li>
<p>A second argument, <code>replacement</code> (string or hash), that determines the replacing string.</p>
</li><li>
<p>A block that will determine the replacing string.</p>
</li></ul>
</li></ul>

<p>The examples in this section mostly use methods <a href="#sub-instance_method" title="String#sub (method)">#sub</a> and <code>String#gsub;</code> the principles illustrated apply to all four substitution methods.</p>

<p><strong>Argument <code>pattern</code></strong></p>

<p>Argument <code>pattern</code> is commonly a regular expression:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_sub'><a href="#sub-instance_method" title="String#sub (method)">sub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)<span class='comment'># =&gt; &quot;h*llo&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;h*ll*&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)<span class='comment'># =&gt; &quot;hll&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_sub'><a href="#sub-instance_method" title="String#sub (method)">sub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ell</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>al</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;halo&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>xyzzy</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>THX1138</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;THX00&quot;</span></code></pre>

<p>When <code>pattern</code> is a string, all its characters are treated as ordinary characters (not as regexp special characters):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>THX1138</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\d+</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;THX1138&quot;</span></code></pre>

<p><strong><code>String</code> <code>replacement</code></strong></p>

<p>If <code>replacement</code> is a string, that string will determine the replacing string that is to be substituted for the matched text.</p>

<p>Each of the examples above uses a simple string as the replacing string.</p>

<p><code>String</code> <code>replacement</code> may contain back-references to the pattern’s captures:</p>
<ul><li>
<p><code>\n</code> (<em>n</em> a non-negative integer) refers to <code>$n</code>.</p>
</li><li>
<p><code>\k&lt;name&gt;</code> refers to the named capture <code>name</code>.</p>
</li></ul>

<p>See Regexp for details.</p>

<p>Note that within the string <code>replacement</code>, a character combination such as <code>$&amp;</code> is treated as ordinary text, and not as a special match variable. However, you may refer to some special match variables using these combinations:</p>
<ul><li>
<p><code>\&amp;</code> and <code>\0</code> correspond to <code>$&amp;</code>, which contains the complete matched text.</p>
</li><li>
<p><code>\&#39;</code> corresponds to <code>$&#39;</code>, which contains string after match.</p>
</li><li>
<p><code>\`</code> corresponds to <code>$`</code>, which contains string before match.</p>
</li><li>
<p><code>\+</code> corresponds to <code>$+</code>, which contains last capture group.</p>
</li></ul>

<p>See Regexp for details.</p>

<p>Note that <code>\\</code> is interpreted as an escape, i.e., a single backslash.</p>

<p>Note also that a string literal consumes backslashes. See <code> Literals</code> for details about string literals.</p>

<p>A back-reference is typically preceded by an additional backslash. For example, if you want to write a back-reference <code>\&amp;</code> in <code>replacement</code> with a double-quoted string literal, you need to write <code>&quot;..\\&amp;..&quot;</code>.</p>

<p>If you want to write a non-back-reference string <code>\&amp;</code> in <code>replacement</code>, you need first to escape the backslash to prevent this method from interpreting it as a back-reference, and then you need to escape the backslashes again to prevent a string literal from consuming them: <code>&quot;..\\\\&amp;..&quot;</code>.</p>

<p>You may want to use the block form to avoid a lot of backslashes.</p>

<p><strong>Hash <code>replacement</code></strong></p>

<p>If argument <code>replacement</code> is a hash, and <code>pattern</code> matches one of its keys, the replacing string is the value for that key:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>}
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub'><a href="#sub-instance_method" title="String#sub (method)">sub</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; &quot;bard&quot;</span></code></pre>

<p>Note that a symbol key does not match:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>}
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub'><a href="#sub-instance_method" title="String#sub (method)">sub</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span>) <span class='comment'># =&gt; &quot;d&quot;</span></code></pre>

<p><strong>Block</strong></p>

<p>In the block form, the current match string is passed to the block; the block’s return value becomes the replacing string:</p>

<pre class="code ruby"><code class="ruby"> <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@</span><span class='tstring_end'>&#39;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'><a href="#gsub-instance_method" title="String#gsub (method)">gsub</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_match'><a href="#match-instance_method" title="String#match (method)">match</a></span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ!'><a href="#succ!-instance_method" title="String#succ! (method)">succ!</a></span> } <span class='comment'># =&gt; &quot;ABCD&quot;</span></code></pre>

<p>Special match variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>, <code>$&amp;</code>, and <code>$&#39;</code> are set appropriately.</p>

<h2 id="label-Whitespace+in+Strings">Whitespace in Strings</h2>

<p>In class <code>String</code>, <em>whitespace</em> is defined as a contiguous sequence of characters consisting of any mixture of the following:</p>
<ul><li>
<p>NL (null): <code>&quot;\x00&quot;</code>, <code>&quot;\u0000&quot;</code>.</p>
</li><li>
<p>HT (horizontal tab): <code>&quot;\x09&quot;</code>, <code>&quot;\t&quot;</code>.</p>
</li><li>
<p>LF (line feed): <code>&quot;\x0a&quot;</code>, <code>&quot;\n&quot;</code>.</p>
</li><li>
<p>VT (vertical tab): <code>&quot;\x0b&quot;</code>, <code>&quot;\v&quot;</code>.</p>
</li><li>
<p>FF (form feed): <code>&quot;\x0c&quot;</code>, <code>&quot;\f&quot;</code>.</p>
</li><li>
<p>CR (carriage return): <code>&quot;\x0d&quot;</code>, <code>&quot;\r&quot;</code>.</p>
</li><li>
<p>SP (space): <code>&quot;\x20&quot;</code>, <code>&quot; &quot;</code>.</p>
</li></ul>

<p>Whitespace is relevant for these methods:</p>
<ul><li>
<p><a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>, <a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a>: strip leading whitespace.</p>
</li><li>
<p><a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>, <a href="#rstrip!-instance_method" title="String#rstrip! (method)">#rstrip!</a>: strip trailing whitespace.</p>
</li><li>
<p><a href="#strip-instance_method" title="String#strip (method)">#strip</a>, <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>: strip leading and trailing whitespace.</p>
</li></ul>

<h2 id="label-String+Slices"><code>String</code> Slices</h2>

<p>A <em>slice</em> of a string is a substring that is selected by certain criteria.</p>

<p>These instance methods make use of slicing:</p>
<ul><li>
<p><a href="#[]-instance_method" title="String#[] (method)">#[]</a> (also aliased as <a href="#slice-instance_method" title="String#slice (method)">#slice</a>) returns a slice copied from <code>self</code>.</p>
</li><li>
<p><a href="#[]=-instance_method" title="String#[]= (method)">#[]=</a> returns a copy of <code>self</code> with a slice replaced.</p>
</li><li>
<p><a href="#slice!-instance_method" title="String#slice! (method)">#slice!</a> returns <code>self</code> with a slice removed.</p>
</li></ul>

<p>Each of the above methods takes arguments that determine the slice to be copied or replaced.</p>

<p>The arguments have several forms. For string <code>string</code>,  the forms are:</p>
<ul><li>
<p><code>string[index]</code>.</p>
</li><li>
<p><code>string[start, length]</code>.</p>
</li><li>
<p><code>string[range]</code>.</p>
</li><li>
<p><code>string[regexp, capture = 0]</code>.</p>
</li><li>
<p><code>string[substring]</code>.</p>
</li></ul>

<p><strong><code>string[index]</code></strong></p>

<p>When non-negative integer argument <a href="#index-instance_method" title="String#index (method)">#index</a> is given, the slice is the 1-character substring found in <code>self</code> at character offset <a href="#index-instance_method" title="String#index (method)">#index</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span>]       <span class='comment'># =&gt; &quot;b&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span>]       <span class='comment'># =&gt; &quot;r&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>20</span>]      <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span>]      <span class='comment'># =&gt; &quot;с&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>4</span>]  <span class='comment'># =&gt; &quot;は&quot;</span></code></pre>

<p>When negative integer <a href="#index-instance_method" title="String#index (method)">#index</a> is given, the slice begins at the offset given by counting backward from the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>3</span>]         <span class='comment'># =&gt; &quot;b&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>1</span>]         <span class='comment'># =&gt; &quot;r&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>20</span>]        <span class='comment'># =&gt; nil</span></code></pre>

<p><strong><code>string[start, length]</code></strong></p>

<p>When non-negative integer arguments <code>start</code> and <a href="#length-instance_method" title="String#length (method)">#length</a> are given, the slice begins at character offset <code>start</code>, if it exists, and continues for <a href="#length-instance_method" title="String#length (method)">#length</a> characters, if available:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>]       <span class='comment'># =&gt; &quot;fo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]      <span class='comment'># =&gt; &quot;ес&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span>]  <span class='comment'># =&gt; &quot;にち&quot;
</span><span class='comment'># Zero length.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>]       <span class='comment'># =&gt; &quot;&quot;
</span><span class='comment'># Length not entirely available.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>200</span>]     <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='comment'># Start out of range.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>]      <span class='comment'># =&gt; nil</span></code></pre>

<p>Special case: if <code>start</code> is equal to the length of <code>self</code>, the slice is a new empty string:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span>]   <span class='comment'># =&gt; &quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>200</span>] <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p>When negative <code>start</code> and non-negative <a href="#length-instance_method" title="String#length (method)">#length</a> are given, the slice beginning is determined by counting backward from the end of <code>self</code>, and the slice continues for <a href="#length-instance_method" title="String#length (method)">#length</a> characters, if available:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span>]    <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>200</span>]  <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='comment'># Start out of range.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>]     <span class='comment'># =&gt; nil</span></code></pre>

<p>When negative <a href="#length-instance_method" title="String#length (method)">#length</a> is given, there is no slice:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>]  <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p><strong><code>string[range]</code></strong></p>

<p>When Range argument <code>range</code> is given, creates a substring of <code>string</code> using the indices in <code>range</code>. The slice is then determined as above:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>1</span>]    <span class='comment'># =&gt; &quot;fo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>]    <span class='comment'># =&gt; &quot;fo&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span><span class='op'>...</span><span class='int'>2</span>]   <span class='comment'># =&gt; &quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>]    <span class='comment'># =&gt; &quot;&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>200</span>]  <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>200</span>]  <span class='comment'># =&gt; &quot;oo&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>4</span><span class='op'>..</span><span class='int'>5</span>]    <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>]    <span class='comment'># =&gt; nil
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>3</span>]  <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>]   <span class='comment'># =&gt; nil
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span><span class='op'>..</span><span class='int'>4</span>]    <span class='comment'># =&gt; &quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span>]    <span class='comment'># =&gt; &quot;&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]  <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span>]   <span class='comment'># =&gt; &quot;oo&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='op'>..</span><span class='int'>197</span>] <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>200</span>] <span class='comment'># =&gt; &quot;oo&quot;</span></code></pre>

<p><strong><code>string[regexp, capture = 0]</code></strong></p>

<p>When the <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> argument <code>regexp</code> is given, and the <code>capture</code> argument is <code>0</code>, the slice is the first matching substring found in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; &quot;o&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello there</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; &quot;ell&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>0</span>] <span class='comment'># =&gt; &quot;ell&quot;</span></code></pre>

<p>If argument <code>capture</code> is given and not <code>0</code>, it should be either an capture group index (integer) or a capture group name (string or symbol); the slice is the specified capture (see Regexp@Groups+and+Captures):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello there</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span>] <span class='comment'># =&gt; &quot;l&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non_vowel</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; &quot;l&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_vowel'>vowel</span>] <span class='comment'># =&gt; &quot;e&quot;</span></code></pre>

<p>If an invalid capture group index is given, there is no slice. If an invalid capture group name is given, <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised.</p>

<p><strong><code>string[substring]</code></strong></p>

<p>When the single <code>String</code> argument <code>substring</code> is given, returns the substring from <code>self</code> if found, otherwise <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xx</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; nil</span></code></pre>

<h2 id="label-What-27s+Here">What’s Here</h2>

<p>First, what’s elsewhere. Class <code>String</code>:</p>
<ul><li>
<p>Inherits from <code>class Object</code>.</p>
</li><li>
<p>Includes <code>module Comparable</code>.</p>
</li></ul>

<p>Here, class <code>String</code> provides methods that are useful for:</p>
<ul><li>
<p>{String@Methods+for+Creating+a+String Creating a }</p>
</li><li>
<p><code>Frozen/Unfrozen s</code></p>
</li><li>
<p><code>Querying</code></p>
</li><li>
<p><code>Comparing</code></p>
</li><li>
<p>{String@Methods+for+Modifying+a+String Modifying a }</p>
</li><li>
<p>{String@Methods+for+Converting+to+New+String Converting to New }</p>
</li><li>
<p><code>Converting to Non-</code></p>
</li><li>
<p><code>Iterating</code></p>
</li></ul>

<h3 id="label-Methods+for+Creating+a+String">Methods for Creating a <code>String</code></h3>
<ul><li>
<p><a href="#new-class_method" title="String.new (method)">.new</a>: Returns a new string.</p>
</li><li>
<p><a href="#try_convert-class_method" title="String.try_convert (method)">.try_convert</a>: Returns a new string created from a given object.</p>
</li></ul>

<h3 id="label-Methods+for+a+Frozen-2FUnfrozen+String">Methods for a Frozen/Unfrozen String</h3>
<ul><li>
<p><a href="#%2B@-instance_method" title="String#+@ (method)">#+@</a>: Returns a string that is not frozen: <code>self</code>, if not frozen; <code>self.dup</code> otherwise.</p>
</li><li>
<p><a href="#-@-instance_method" title="String#-@ (method)">#-@</a>: Returns a string that is frozen: <code>self</code>, if already frozen; <code>self.freeze</code> otherwise.</p>
</li><li>
<p><a href="#freeze-instance_method" title="String#freeze (method)">#freeze</a>: Freezes <code>self</code>, if not already frozen; returns <code>self</code>.</p>
</li></ul>

<h3 id="label-Methods+for+Querying">Methods for Querying</h3>

<p><em>Counts</em></p>
<ul><li>
<p><a href="#length-instance_method" title="String#length (method)">#length</a>, <a href="#size-instance_method" title="String#size (method)">#size</a>: Returns the count of characters (not bytes).</p>
</li><li>
<p><a href="#empty%3F-instance_method" title="String#empty? (method)">#empty?</a>: Returns <code>true</code> if <code>self.length</code> is zero; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#bytesize-instance_method" title="String#bytesize (method)">#bytesize</a>: Returns the count of bytes.</p>
</li><li>
<p><a href="#count-instance_method" title="String#count (method)">#count</a>: Returns the count of substrings matching given strings.</p>
</li></ul>

<p><em>Substrings</em></p>
<ul><li>
<p><a href="#=~-instance_method" title="String#=~ (method)">#=~</a>: Returns the index of the first substring that matches a given Regexp or other object; returns <code>nil</code> if no match is found.</p>
</li><li>
<p><a href="#index-instance_method" title="String#index (method)">#index</a>: Returns the index of the <em>first</em> occurrence of a given substring; returns <code>nil</code> if none found.</p>
</li><li>
<p><a href="#rindex-instance_method" title="String#rindex (method)">#rindex</a>: Returns the index of the <em>last</em> occurrence of a given substring; returns <code>nil</code> if none found.</p>
</li><li>
<p><a href="#include%3F-instance_method" title="String#include? (method)">#include?</a>: Returns <code>true</code> if the string contains a given substring; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#match-instance_method" title="String#match (method)">#match</a>: Returns a <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> object if the string matches a given Regexp; <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#match%3F-instance_method" title="String#match? (method)">#match?</a>: Returns <code>true</code> if the string matches a given Regexp; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#start_with%3F-instance_method" title="String#start_with? (method)">#start_with?</a>: Returns <code>true</code> if the string begins with any of the given substrings.</p>
</li><li>
<p><a href="#end_with%3F-instance_method" title="String#end_with? (method)">#end_with?</a>: Returns <code>true</code> if the string ends with any of the given substrings.</p>
</li></ul>

<p><em>Encodings</em></p>
<ul><li>
<p>#encoding: Returns the <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> object that represents the encoding of the string.</p>
</li><li>
<p><a href="#unicode_normalized%3F-instance_method" title="String#unicode_normalized? (method)">#unicode_normalized?</a>: Returns <code>true</code> if the string is in Unicode normalized form; <code>false</code> otherwise.</p>
</li><li>
<p><a href="#valid_encoding%3F-instance_method" title="String#valid_encoding? (method)">#valid_encoding?</a>: Returns <code>true</code> if the string contains only characters that are valid for its encoding.</p>
</li><li>
<p><a href="#ascii_only%3F-instance_method" title="String#ascii_only? (method)">#ascii_only?</a>: Returns <code>true</code> if the string has only ASCII characters; <code>false</code> otherwise.</p>
</li></ul>

<p><em>Other</em></p>
<ul><li>
<p><a href="#sum-instance_method" title="String#sum (method)">#sum</a>: Returns a basic checksum for the string: the sum of each byte.</p>
</li><li>
<p><a href="#hash-instance_method" title="String#hash (method)">#hash</a>: Returns the integer hash code.</p>
</li></ul>

<h3 id="label-Methods+for+Comparing">Methods for Comparing</h3>
<ul><li>
<p><a href="#==-instance_method" title="String#== (method)">#==</a>, <a href="#===-instance_method" title="String#=== (method)">#===</a>: Returns <code>true</code> if a given other string has the same content as <code>self</code>.</p>
</li><li>
<p><a href="#eql%3F-instance_method" title="String#eql? (method)">#eql?</a>: Returns <code>true</code> if the content is the same as the given other string.</p>
</li><li>
<p><a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a>: Returns -1, 0, or 1 as a given other string is smaller than, equal to, or larger than <code>self</code>.</p>
</li><li>
<p><a href="#casecmp-instance_method" title="String#casecmp (method)">#casecmp</a>: Ignoring case, returns -1, 0, or 1 as a given other string is smaller than, equal to, or larger than <code>self</code>.</p>
</li><li>
<p><a href="#casecmp%3F-instance_method" title="String#casecmp? (method)">#casecmp?</a>: Returns <code>true</code> if the string is equal to a given string after Unicode case folding; <code>false</code> otherwise.</p>
</li></ul>

<h3 id="label-Methods+for+Modifying+a+String">Methods for Modifying a <code>String</code></h3>

<p>Each of these methods modifies <code>self</code>.</p>

<p><em>Insertion</em></p>
<ul><li>
<p><a href="#insert-instance_method" title="String#insert (method)">#insert</a>: Returns <code>self</code> with a given string inserted at a given offset.</p>
</li><li>
<p><a href="#<<-instance_method" title="String#&lt;&lt; (method)">#&lt;&lt;</a>: Returns <code>self</code> concatenated with a given string or integer.</p>
</li></ul>

<p><em>Substitution</em></p>
<ul><li>
<p><a href="#sub!-instance_method" title="String#sub! (method)">#sub!</a>: Replaces the first substring that matches a given pattern with a given replacement string; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#gsub!-instance_method" title="String#gsub! (method)">#gsub!</a>: Replaces each substring that matches a given pattern with a given replacement string; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#succ!-instance_method" title="String#succ! (method)">#succ!</a>, <a href="#next!-instance_method" title="String#next! (method)">#next!</a>: Returns <code>self</code> modified to become its own successor.</p>
</li><li>
<p><a href="#replace-instance_method" title="String#replace (method)">#replace</a>: Returns <code>self</code> with its entire content replaced by a given string.</p>
</li><li>
<p><a href="#reverse!-instance_method" title="String#reverse! (method)">#reverse!</a>: Returns <code>self</code> with its characters in reverse order.</p>
</li><li>
<p><a href="#setbyte-instance_method" title="String#setbyte (method)">#setbyte</a>: Sets the byte at a given integer offset to a given value; returns the argument.</p>
</li><li>
<p><a href="#tr!-instance_method" title="String#tr! (method)">#tr!</a>: Replaces specified characters in <code>self</code> with specified replacement characters; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#tr_s!-instance_method" title="String#tr_s! (method)">#tr_s!</a>: Replaces specified characters in <code>self</code> with specified replacement characters, removing duplicates from the substrings that were modified; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li></ul>

<p><em>Casing</em></p>
<ul><li>
<p><a href="#capitalize!-instance_method" title="String#capitalize! (method)">#capitalize!</a>: Upcases the initial character and downcases all others; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#downcase!-instance_method" title="String#downcase! (method)">#downcase!</a>: Downcases all characters; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#upcase!-instance_method" title="String#upcase! (method)">#upcase!</a>: Upcases all characters; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#swapcase!-instance_method" title="String#swapcase! (method)">#swapcase!</a>: Upcases each downcase character and downcases each upcase character; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li></ul>

<p><em>Encoding</em></p>
<ul><li>
<p><a href="#encode!-instance_method" title="String#encode! (method)">#encode!</a>: Returns <code>self</code> with all characters transcoded from one given encoding into another.</p>
</li><li>
<p><a href="#unicode_normalize!-instance_method" title="String#unicode_normalize! (method)">#unicode_normalize!</a>: Unicode-normalizes <code>self</code>; returns <code>self</code>.</p>
</li><li>
<p><a href="#scrub!-instance_method" title="String#scrub! (method)">#scrub!</a>: Replaces each invalid byte with a given character; returns <code>self</code>.</p>
</li><li>
<p><a href="#force_encoding-instance_method" title="String#force_encoding (method)">#force_encoding</a>: Changes the encoding to a given encoding; returns <code>self</code>.</p>
</li></ul>

<p><em>Deletion</em></p>
<ul><li>
<p><a href="#clear-instance_method" title="String#clear (method)">#clear</a>: Removes all content, so that <code>self</code> is empty; returns <code>self</code>.</p>
</li><li>
<p><a href="#slice!-instance_method" title="String#slice! (method)">#slice!</a>, <a href="#[]=-instance_method" title="String#[]= (method)">#[]=</a>: Removes a substring determined by a given index, start/length, range, regexp, or substring.</p>
</li><li>
<p><a href="#squeeze!-instance_method" title="String#squeeze! (method)">#squeeze!</a>: Removes contiguous duplicate characters; returns <code>self</code>.</p>
</li><li>
<p><a href="#delete!-instance_method" title="String#delete! (method)">#delete!</a>: Removes characters as determined by the intersection of substring arguments.</p>
</li><li>
<p><a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a>: Removes leading whitespace; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#rstrip!-instance_method" title="String#rstrip! (method)">#rstrip!</a>: Removes trailing whitespace; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>: Removes leading and trailing whitespace; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#chomp!-instance_method" title="String#chomp! (method)">#chomp!</a>: Removes trailing record separator, if found; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li><li>
<p><a href="#chop!-instance_method" title="String#chop! (method)">#chop!</a>: Removes trailing newline characters if found; otherwise removes the last character; returns <code>self</code> if any changes, <code>nil</code> otherwise.</p>
</li></ul>

<h3 id="label-Methods+for+Converting+to+New+String">Methods for Converting to New <code>String</code></h3>

<p>Each of these methods returns a new <code>String</code> based on <code>self</code>, often just a modified copy of <code>self</code>.</p>

<p><em>Extension</em></p>
<ul><li>
<p><a href="#*-instance_method" title="String#* (method)">#*</a>: Returns the concatenation of multiple copies of <code>self</code>,</p>
</li><li>
<p><a href="#%2B-instance_method" title="String#+ (method)">#+</a>: Returns the concatenation of <code>self</code> and a given other string.</p>
</li><li>
<p><a href="#center-instance_method" title="String#center (method)">#center</a>: Returns a copy of <code>self</code> centered between pad substring.</p>
</li><li>
<p><a href="#concat-instance_method" title="String#concat (method)">#concat</a>: Returns the concatenation of <code>self</code> with given other strings.</p>
</li><li>
<p><a href="#prepend-instance_method" title="String#prepend (method)">#prepend</a>: Returns the concatenation of a given other string with <code>self</code>.</p>
</li><li>
<p><a href="#ljust-instance_method" title="String#ljust (method)">#ljust</a>: Returns a copy of <code>self</code> of a given length, right-padded with a given other string.</p>
</li><li>
<p><a href="#rjust-instance_method" title="String#rjust (method)">#rjust</a>: Returns a copy of <code>self</code> of a given length, left-padded with a given other string.</p>
</li></ul>

<p><em>Encoding</em></p>
<ul><li>
<p><a href="#b-instance_method" title="String#b (method)">#b</a>: Returns a copy of <code>self</code> with ASCII-8BIT encoding.</p>
</li><li>
<p><a href="#scrub-instance_method" title="String#scrub (method)">#scrub</a>: Returns a copy of <code>self</code> with each invalid byte replaced with a given character.</p>
</li><li>
<p><a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>: Returns a copy of <code>self</code> with each character Unicode-normalized.</p>
</li><li>
<p><a href="#encode-instance_method" title="String#encode (method)">#encode</a>: Returns a copy of <code>self</code> with all characters transcoded from one given encoding into another.</p>
</li></ul>

<p><em>Substitution</em></p>
<ul><li>
<p><a href="#dump-instance_method" title="String#dump (method)">#dump</a>: Returns a copy of <code>self</code> with all non-printing characters replaced by xHH notation and all special characters escaped.</p>
</li><li>
<p><a href="#undump-instance_method" title="String#undump (method)">#undump</a>: Returns a copy of <code>self</code> with all <code>\xNN</code> notation replace by <code>\uNNNN</code> notation and all escaped characters unescaped.</p>
</li><li>
<p><a href="#sub-instance_method" title="String#sub (method)">#sub</a>: Returns a copy of <code>self</code> with the first substring matching a given pattern replaced with a given replacement string;.</p>
</li><li>
<p><a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a>: Returns a copy of <code>self</code> with each substring that matches a given pattern replaced with a given replacement string.</p>
</li><li>
<p><a href="#succ-instance_method" title="String#succ (method)">#succ</a>, <a href="#next-instance_method" title="String#next (method)">#next</a>: Returns the string that is the successor to <code>self</code>.</p>
</li><li>
<p><a href="#reverse-instance_method" title="String#reverse (method)">#reverse</a>: Returns a copy of <code>self</code> with its characters in reverse order.</p>
</li><li>
<p><a href="#tr-instance_method" title="String#tr (method)">#tr</a>: Returns a copy of <code>self</code> with specified characters replaced with specified      replacement characters.</p>
</li><li>
<p><a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a>: Returns a copy of <code>self</code> with specified characters replaced with specified replacement characters, removing duplicates from the substrings that were modified.</p>
</li><li>
<p><a href="#%25-instance_method" title="String#% (method)">#%</a>: Returns the string resulting from formatting a given object into <code>self</code></p>
</li></ul>

<p><em>Casing</em></p>
<ul><li>
<p><a href="#capitalize-instance_method" title="String#capitalize (method)">#capitalize</a>: Returns a copy of <code>self</code> with the first character upcased and all other characters downcased.</p>
</li><li>
<p><a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a>: Returns a copy of <code>self</code> with all characters downcased.</p>
</li><li>
<p><a href="#upcase-instance_method" title="String#upcase (method)">#upcase</a>: Returns a copy of <code>self</code> with all characters upcased.</p>
</li><li>
<p><a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>: Returns a copy of <code>self</code> with all upcase characters downcased and all downcase characters upcased.</p>
</li></ul>

<p><em>Deletion</em></p>
<ul><li>
<p><a href="#delete-instance_method" title="String#delete (method)">#delete</a>: Returns a copy of <code>self</code> with characters removed</p>
</li><li>
<p><a href="#delete_prefix-instance_method" title="String#delete_prefix (method)">#delete_prefix</a>: Returns a copy of <code>self</code> with a given prefix removed.</p>
</li><li>
<p><a href="#delete_suffix-instance_method" title="String#delete_suffix (method)">#delete_suffix</a>: Returns a copy of <code>self</code> with a given suffix removed.</p>
</li><li>
<p><a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>: Returns a copy of <code>self</code> with leading whitespace removed.</p>
</li><li>
<p><a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>: Returns a copy of <code>self</code> with trailing whitespace removed.</p>
</li><li>
<p><a href="#strip-instance_method" title="String#strip (method)">#strip</a>: Returns a copy of <code>self</code> with leading and trailing whitespace removed.</p>
</li><li>
<p><a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>: Returns a copy of <code>self</code> with a trailing record separator removed, if found.</p>
</li><li>
<p><a href="#chop-instance_method" title="String#chop (method)">#chop</a>: Returns a copy of <code>self</code> with trailing newline characters or the last character removed.</p>
</li><li>
<p><a href="#squeeze-instance_method" title="String#squeeze (method)">#squeeze</a>: Returns a copy of <code>self</code> with contiguous duplicate characters removed.</p>
</li><li>
<p><a href="#[]-instance_method" title="String#[] (method)">#[]</a>, <a href="#slice-instance_method" title="String#slice (method)">#slice</a>: Returns a substring determined by a given index, start/length, or range, or string.</p>
</li><li>
<p><a href="#byteslice-instance_method" title="String#byteslice (method)">#byteslice</a>: Returns a substring determined by a given index, start/length, or range.</p>
</li><li>
<p><a href="#chr-instance_method" title="String#chr (method)">#chr</a>: Returns the first character.</p>
</li></ul>

<p><em>Duplication</em></p>
<ul><li>
<p><a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>, $to_str: If <code>self</code> is a subclass of <code>String</code>, returns <code>self</code> copied into a <code>String</code>; otherwise, returns <code>self</code>.</p>
</li></ul>

<h3 id="label-Methods+for+Converting+to+Non-String">Methods for Converting to Non-<code>String</code></h3>

<p>Each of these methods converts the contents of <code>self</code> to a non-<code>String</code>.</p>

<p><em>Characters, Bytes, and Clusters</em></p>
<ul><li>
<p><a href="#bytes-instance_method" title="String#bytes (method)">#bytes</a>: Returns an array of the bytes in <code>self</code>.</p>
</li><li>
<p><a href="#chars-instance_method" title="String#chars (method)">#chars</a>: Returns an array of the characters in <code>self</code>.</p>
</li><li>
<p><a href="#codepoints-instance_method" title="String#codepoints (method)">#codepoints</a>: Returns an array of the integer ordinals in <code>self</code>.</p>
</li><li>
<p><a href="#getbyte-instance_method" title="String#getbyte (method)">#getbyte</a>: Returns an integer byte as determined by a given index.</p>
</li><li>
<p><a href="#grapheme_clusters-instance_method" title="String#grapheme_clusters (method)">#grapheme_clusters</a>: Returns an array of the grapheme clusters in <code>self</code>.</p>
</li></ul>

<p><em>Splitting</em></p>
<ul><li>
<p><a href="#lines-instance_method" title="String#lines (method)">#lines</a>: Returns an array of the lines in <code>self</code>, as determined by a given record separator.</p>
</li><li>
<p><a href="#partition-instance_method" title="String#partition (method)">#partition</a>: Returns a 3-element array determined by the first substring that matches a given substring or regexp,</p>
</li><li>
<p><a href="#rpartition-instance_method" title="String#rpartition (method)">#rpartition</a>: Returns a 3-element array determined by the last substring that matches a given substring or regexp,</p>
</li><li>
<p><a href="#split-instance_method" title="String#split (method)">#split</a>: Returns an array of substrings determined by a given delimiter – regexp or string – or, if a block given, passes those substrings to the block.</p>
</li></ul>

<p><em>Matching</em></p>
<ul><li>
<p><a href="#scan-instance_method" title="String#scan (method)">#scan</a>: Returns an array of substrings matching a given regexp or string, or, if a block given, passes each matching substring to the  block.</p>
</li><li>
<p><a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>: Returns an array of substrings extracted from <code>self</code> according to a given format.</p>
</li><li>
<p><a href="#unpack1-instance_method" title="String#unpack1 (method)">#unpack1</a>: Returns the first substring extracted from <code>self</code> according to a given format.</p>
</li></ul>

<p><em>Numerics</em></p>
<ul><li>
<p><a href="#hex-instance_method" title="String#hex (method)">#hex</a>: Returns the integer value of the leading characters, interpreted as hexadecimal digits.</p>
</li><li>
<p><a href="#oct-instance_method" title="String#oct (method)">#oct</a>: Returns the integer value of the leading characters, interpreted as octal digits.</p>
</li><li>
<p><a href="#ord-instance_method" title="String#ord (method)">#ord</a>: Returns the integer ordinal of the first character in <code>self</code>.</p>
</li><li>
<p><a href="#to_i-instance_method" title="String#to_i (method)">#to_i</a>: Returns the integer value of leading characters, interpreted as an integer.</p>
</li><li>
<p><a href="#to_f-instance_method" title="String#to_f (method)">#to_f</a>: Returns the floating-point value of leading characters, interpreted as a floating-point number.</p>
</li></ul>

<p><em>Strings and Symbols</em></p>
<ul><li>
<p><a href="#inspect-instance_method" title="String#inspect (method)">#inspect</a>: Returns copy of <code>self</code>, enclosed in double-quotes, with special characters escaped.</p>
</li><li>
<p><a href="#to_sym-instance_method" title="String#to_sym (method)">#to_sym</a>, <a href="#intern-instance_method" title="String#intern (method)">#intern</a>: Returns the symbol corresponding to <code>self</code>.</p>
</li></ul>

<h3 id="label-Methods+for+Iterating">Methods for Iterating</h3>
<ul><li>
<p><a href="#each_byte-instance_method" title="String#each_byte (method)">#each_byte</a>: Calls the given block with each successive byte in <code>self</code>.</p>
</li><li>
<p><a href="#each_char-instance_method" title="String#each_char (method)">#each_char</a>: Calls the given block with each successive character in <code>self</code>.</p>
</li><li>
<p><a href="#each_codepoint-instance_method" title="String#each_codepoint (method)">#each_codepoint</a>: Calls the given block with each successive integer codepoint in <code>self</code>.</p>
</li><li>
<p><a href="#each_grapheme_cluster-instance_method" title="String#each_grapheme_cluster (method)">#each_grapheme_cluster</a>: Calls the given block with each successive grapheme cluster in <code>self</code>.</p>
</li><li>
<p><a href="#each_line-instance_method" title="String#each_line (method)">#each_line</a>: Calls the given block with each successive line in <code>self</code>, as determined by a given record separator.</p>
</li><li>
<p><a href="#upto-instance_method" title="String#upto (method)">#upto</a>: Calls the given block with each string value returned by successive calls to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>.</p>
</li></ul>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(object)  &#x21d2; Object, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>object</code> is a <code>String</code> object, returns <code>object</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(*args)  </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#ascii_only%3F-instance_method" title="#ascii_only? (instance method)">#<strong>ascii_only?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> contains only ASCII characters, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the length of <code>self</code> is zero, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#valid_encoding%3F-instance_method" title="#valid_encoding? (instance method)">#<strong>valid_encoding?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is encoded correctly, <code>false</code> otherwise:</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#%25-instance_method" title="#% (instance method)">#<strong>%</strong>(object)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of formatting <code>object</code> into the format specification <code>self</code> (see <a href="Kernel.html#sprintf-class_method" title="Kernel.sprintf (method)">Kernel.sprintf</a> for formatting details):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(integer)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> containing <code>integer</code> copies of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_string)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> containing <code>other_string</code> concatenated to <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B@-instance_method" title="#+ (instance method)">#<strong>+</strong>  &#x21d2; String, self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> if <code>self</code> is not frozen.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#-@-instance_method" title="#- (instance method)">#<strong>-</strong>  &#x21d2; String </a>
      (also: #dedup)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a frozen, possibly pre-existing copy of the string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(object)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenates <code>object</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compares <code>self</code> and <code>other_string</code>, returning:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(object)  &#x21d2; Boolean </a>
      (also: #===)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#===-instance_method" title="#=== (instance method)">#<strong>===</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#=~-instance_method" title="#=~ (instance method)">#<strong>=~</strong>(regexp)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> index of the first substring that matches the given <code>regexp</code>, or <code>nil</code> if no match found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; String<sup>?</sup> </a>
      (also: #slice)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the substring of <code>self</code> specified by the arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(index, new_string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces all, some, or none of the contents of <code>self</code>; returns <code>new_string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#b-instance_method" title="#b (instance method)">#<strong>b</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> that has ASCII-8BIT encoding; the underlying bytes are not modified:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#byteindex-instance_method" title="#byteindex (instance method)">#<strong>byteindex</strong>(substring, offset = 0)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the first occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#byterindex-instance_method" title="#byterindex (instance method)">#<strong>byterindex</strong>(substring, offset = self.bytesize)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytes-instance_method" title="#bytes (instance method)">#<strong>bytes</strong>  &#x21d2; array_of_bytes </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the bytes in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytesize-instance_method" title="#bytesize (instance method)">#<strong>bytesize</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of bytes (not characters) in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#byteslice-instance_method" title="#byteslice (instance method)">#<strong>byteslice</strong>(index, length = 1)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a substring of <code>self</code>, or <code>nil</code> if the substring cannot be constructed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytesplice-instance_method" title="#bytesplice (instance method)">#<strong>bytesplice</strong>(index, length, str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces some or all of the content of <code>self</code> with <code>str</code>, and returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize-instance_method" title="#capitalize (instance method)">#<strong>capitalize</strong>(*options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string containing the characters in <code>self</code>; the first character is upcased; the remaining characters are downcased:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize!-instance_method" title="#capitalize! (instance method)">#<strong>capitalize!</strong>(*options)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Upcases the first character in <code>self</code>; downcases the remaining characters; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp-instance_method" title="#casecmp (instance method)">#<strong>casecmp</strong>(other_string)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compares <code>self.downcase</code> and <code>other_string.downcase</code>; returns:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp%3F-instance_method" title="#casecmp? (instance method)">#<strong>casecmp?</strong>(other_string)  &#x21d2; true, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> and <code>other_string</code> are equal after Unicode case folding, otherwise <code>false</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#center-instance_method" title="#center (instance method)">#<strong>center</strong>(size, pad_string = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a centered copy of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chars-instance_method" title="#chars (instance method)">#<strong>chars</strong>  &#x21d2; array_of_characters </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the characters in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp-instance_method" title="#chomp (instance method)">#<strong>chomp</strong>(line_sep = $/)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string copied from <code>self</code>, with trailing characters possibly removed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp!-instance_method" title="#chomp! (instance method)">#<strong>chomp!</strong>(line_sep = $/)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, but modifies <code>self</code> in place; returns <code>nil</code> if no modification made, <code>self</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop-instance_method" title="#chop (instance method)">#<strong>chop</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string copied from <code>self</code>, with trailing characters possibly removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop!-instance_method" title="#chop! (instance method)">#<strong>chop!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, but modifies <code>self</code> in place; returns <code>nil</code> if <code>self</code> is empty, <code>self</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chr-instance_method" title="#chr (instance method)">#<strong>chr</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string containing the first character of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the contents of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#codepoints-instance_method" title="#codepoints (instance method)">#<strong>codepoints</strong>  &#x21d2; array_of_integers </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the codepoints in <code>self</code>; each codepoint is the integer value for a character:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(*objects)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenates each object in <code>objects</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>(*selectors)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the total number of characters in <code>self</code> that are specified by the given <code>selectors</code> (see <code>Multiple Character Selectors</code>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#crypt-instance_method" title="#crypt (instance method)">#<strong>crypt</strong>(salt_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the string generated by calling <code>crypt(3)</code> standard library function with <code>str</code> and <code>salt_str</code>, in this order, as its arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dedup-instance_method" title="#dedup (instance method)">#<strong>dedup</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#-@-instance_method" title="String#-@ (method)">#-@</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(*selectors)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with characters specified by <code>selectors</code> removed (see <code>Multiple Character Selectors</code>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete!-instance_method" title="#delete! (instance method)">#<strong>delete!</strong>(*selectors)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#delete-instance_method" title="String#delete (method)">#delete</a>, but modifies <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_prefix-instance_method" title="#delete_prefix (instance method)">#<strong>delete_prefix</strong>(prefix)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with leading substring <code>prefix</code> removed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_prefix!-instance_method" title="#delete_prefix! (instance method)">#<strong>delete_prefix!</strong>(prefix)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#delete_prefix-instance_method" title="String#delete_prefix (method)">#delete_prefix</a>, except that <code>self</code> is modified in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_suffix-instance_method" title="#delete_suffix (instance method)">#<strong>delete_suffix</strong>(suffix)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with trailing substring <code>suffix</code> removed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_suffix!-instance_method" title="#delete_suffix! (instance method)">#<strong>delete_suffix!</strong>(suffix)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#delete_suffix-instance_method" title="String#delete_suffix (method)">#delete_suffix</a>, except that <code>self</code> is modified in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase-instance_method" title="#downcase (instance method)">#<strong>downcase</strong>(*options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string containing the downcased characters in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase!-instance_method" title="#downcase! (instance method)">#<strong>downcase!</strong>(*options)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Downcases the characters in <code>self</code>; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a printable version of <code>self</code>, enclosed in double-quotes, with special characters escaped, and with non-printing characters replaced by hexadecimal notation:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_byte-instance_method" title="#each_byte (instance method)">#<strong>each_byte</strong> {|byte| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each successive byte from <code>self</code>; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_char-instance_method" title="#each_char (instance method)">#<strong>each_char</strong> {|c| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each successive character from <code>self</code>; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_codepoint-instance_method" title="#each_codepoint (instance method)">#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each successive codepoint from <code>self</code>; each codepoint is the integer value for a character; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_grapheme_cluster-instance_method" title="#each_grapheme_cluster (instance method)">#<strong>each_grapheme_cluster</strong> {|gc| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_line-instance_method" title="#each_line (instance method)">#<strong>each_line</strong>(line_sep = $/, chomp: false) {|substring| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, forms the substrings (???lines???) that are the result of splitting <code>self</code> at each occurrence of the given line separator <code>line_sep</code>; passes each line to the block; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode-instance_method" title="#encode (instance method)">#<strong>encode</strong>(dst_encoding = Encoding.default_internal, **enc_opts)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> transcoded as determined by <code>dst_encoding</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode!-instance_method" title="#encode! (instance method)">#<strong>encode!</strong>(dst_encoding = Encoding.default_internal, **enc_opts)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#encode-instance_method" title="String#encode (method)">#encode</a>, but applies encoding changes to <code>self</code>; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; Encoding </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#end_with%3F-instance_method" title="#end_with? (instance method)">#<strong>end_with?</strong>(*strings)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <code>self</code> ends with any of the given <code>strings</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#force_encoding-instance_method" title="#force_encoding (instance method)">#<strong>force_encoding</strong>(encoding)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Changes the encoding of <code>self</code> to <code>encoding</code>, which may be a string encoding name or an <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> object; returns self:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getbyte-instance_method" title="#getbyte (instance method)">#<strong>getbyte</strong>(index)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the byte at zero-based <a href="#index-instance_method" title="String#index (method)">#index</a> as an integer, or <code>nil</code> if <a href="#index-instance_method" title="String#index (method)">#index</a> is out of range:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grapheme_clusters-instance_method" title="#grapheme_clusters (instance method)">#<strong>grapheme_clusters</strong>  &#x21d2; array_of_grapheme_clusters </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the grapheme clusters in <code>self</code> (see <a href="https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">Unicode Grapheme Cluster Boundaries</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub-instance_method" title="#gsub (instance method)">#<strong>gsub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with all occurrences of the given <code>pattern</code> replaced.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub!-instance_method" title="#gsub! (instance method)">#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the specified substring replacement(s) on <code>self</code>; returns <code>self</code> if any replacement occurred, <code>nil</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer hash value for <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hex-instance_method" title="#hex (instance method)">#<strong>hex</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Interprets the leading substring of <code>self</code> as a string of hexadecimal digits (with an optional sign and an optional <code>0x</code>) and returns the corresponding number; returns zero if there is no such leading substring:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(other_string)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> contains <code>other_string</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(substring, offset = 0)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer index of the first match for the given argument, or <code>nil</code> if none found; the search of <code>self</code> is forward, and begins at position <code>offset</code> (in characters).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize-instance_method" title="#new (instance method)">#<strong>new</strong>(string = &#39;&#39;, **opts)  &#x21d2; String </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new String that is a copy of <code>string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_string)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(index, other_string)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Inserts the given <code>other_string</code> into <code>self</code>; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a printable version of <code>self</code>, enclosed in double-quotes, and with special characters escaped:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#intern-instance_method" title="#intern (instance method)">#<strong>intern</strong>  &#x21d2; Symbol </a>
      (also: #to_sym)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> corresponding to <em>str</em>, creating the symbol if it did not previously exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of characters (not bytes) in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lines-instance_method" title="#lines (instance method)">#<strong>lines</strong>(Line_sep = $/, chomp: false)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Forms substrings (“lines”) of <code>self</code> according to the given arguments (see <a href="#each_line-instance_method" title="String#each_line (method)">#each_line</a> for details); returns the lines in an array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ljust-instance_method" title="#ljust (instance method)">#<strong>ljust</strong>(size, pad_string = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a left-justified copy of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip-instance_method" title="#lstrip (instance method)">#<strong>lstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with leading whitespace removed; see <code>Whitespace in Strings</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip!-instance_method" title="#lstrip! (instance method)">#<strong>lstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(pattern, offset = 0)  &#x21d2; MatchData<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> object (or <code>nil</code>) based on <code>self</code> and the given <code>pattern</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(pattern, offset = 0)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> or <code>false</code> based on whether a match is found for <code>self</code> and <code>pattern</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; String </a>
      (also: #succ)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the successor to <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next!-instance_method" title="#next! (instance method)">#<strong>next!</strong>  &#x21d2; self </a>
      (also: #succ!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies <code>self</code> in place; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#oct-instance_method" title="#oct (instance method)">#<strong>oct</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Interprets the leading substring of <code>self</code> as a string of octal digits (with an optional sign) and returns the corresponding number; returns zero if there is no such leading substring:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ord-instance_method" title="#ord (instance method)">#<strong>ord</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer ordinal of the first character of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong>(string_or_regexp)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 3-element array of substrings of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend-instance_method" title="#prepend (instance method)">#<strong>prepend</strong>(*other_strings)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepends each string in <code>other_strings</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_string)  &#x21d2; self </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the contents of <code>self</code> with the contents of <code>other_string</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string with the characters from <code>self</code> in reverse order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> with its characters reversed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(substring, offset = self.length)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rjust-instance_method" title="#rjust (instance method)">#<strong>rjust</strong>(size, pad_string = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a right-justified copy of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rpartition-instance_method" title="#rpartition (instance method)">#<strong>rpartition</strong>(sep)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 3-element array of substrings of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip-instance_method" title="#rstrip (instance method)">#<strong>rstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of the receiver with trailing whitespace removed; see <code>Whitespace in Strings</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip!-instance_method" title="#rstrip! (instance method)">#<strong>rstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(string_or_regexp)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Matches a pattern against <code>self</code>; the pattern is:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub-instance_method" title="#scrub (instance method)">#<strong>scrub</strong>(replacement_string = default_replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with each invalid byte sequence replaced by the given <code>replacement_string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub!-instance_method" title="#scrub! (instance method)">#<strong>scrub!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#scrub-instance_method" title="String#scrub (method)">#scrub</a>, except that any replacements are made in <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setbyte-instance_method" title="#setbyte (instance method)">#<strong>setbyte</strong>(index, integer)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the byte at zero-based <a href="#index-instance_method" title="String#index (method)">#index</a> to <code>integer</code>; returns <code>integer</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(index)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes and returns the substring of <code>self</code> specified by the arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>(field_sep = $;, limit = nil)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of substrings of <code>self</code> that are the result of splitting <code>self</code> at each occurrence of the given field separator <code>field_sep</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze-instance_method" title="#squeeze (instance method)">#<strong>squeeze</strong>(*selectors)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with characters specified by <code>selectors</code> “squeezed” (see <code>Multiple Character Selectors</code>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze!-instance_method" title="#squeeze! (instance method)">#<strong>squeeze!</strong>(*selectors)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#squeeze-instance_method" title="String#squeeze (method)">#squeeze</a>, but modifies <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start_with%3F-instance_method" title="#start_with? (instance method)">#<strong>start_with?</strong>(*string_or_regexp)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether <code>self</code> starts with any of the given <code>string_or_regexp</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip-instance_method" title="#strip (instance method)">#<strong>strip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of the receiver with leading and trailing whitespace removed; see <code>Whitespace in Strings</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip!-instance_method" title="#strip! (instance method)">#<strong>strip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#strip-instance_method" title="String#strip (method)">#strip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with only the first occurrence (not all occurrences) of the given <code>pattern</code> replaced.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub!-instance_method" title="#sub! (instance method)">#<strong>sub!</strong>(pattern, replacement)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> with only the first occurrence (not all occurrences) of the given <code>pattern</code> replaced.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ!-instance_method" title="#succ! (instance method)">#<strong>succ!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(n = 16)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a basic <code>n</code>-bit checksum of the characters in <code>self</code>; the checksum is the sum of the binary value of each byte in <code>self</code>, modulo <code>2**n - 1</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase-instance_method" title="#swapcase (instance method)">#<strong>swapcase</strong>(*options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string containing the characters in <code>self</code>, with cases reversed; each uppercase character is downcased; each lowercase character is upcased:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase!-instance_method" title="#swapcase! (instance method)">#<strong>swapcase!</strong>(*options)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Upcases each lowercase character in <code>self</code>; downcases uppercase character; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_c-instance_method" title="#to_c (instance method)">#<strong>to_c</strong>  &#x21d2; Complex </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> interpreted as a <a href="Complex.html" title="Complex (class)"><code>::Complex</code></a> object; leading whitespace and trailing garbage are ignored:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_f-instance_method" title="#to_f (instance method)">#<strong>to_f</strong>  &#x21d2; Float </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <code>self</code> as a <a href="Float.html" title="Float (class)"><code>::Float</code></a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>(base = 10)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <code>self</code> as an integer in the given <code>base</code> (which must be in (0, 2..36)):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_r-instance_method" title="#to_r (instance method)">#<strong>to_r</strong>  &#x21d2; Rational </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <code>str</code> as a rational.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_str-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; self, String </a>
      (also: #to_str)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> if <code>self</code> is a <code>String</code>, or <code>self</code> converted to a <code>String</code> if <code>self</code> is a subclass of <code>String</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_str-instance_method" title="#to_str (instance method)">#<strong>to_str</strong>  &#x21d2; self, String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_sym-instance_method" title="#to_sym (instance method)">#<strong>to_sym</strong>  &#x21d2; Symbol </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr-instance_method" title="#tr (instance method)">#<strong>tr</strong>(selector, replacements)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with each character specified by string <code>selector</code> translated to the corresponding character in string <code>replacements</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr!-instance_method" title="#tr! (instance method)">#<strong>tr!</strong>(selector, replacements)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, but modifies <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s-instance_method" title="#tr_s (instance method)">#<strong>tr_s</strong>(selector, replacements)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, but also squeezes the modified portions of the translated string; returns a new string (translated and squeezed).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s!-instance_method" title="#tr_s! (instance method)">#<strong>tr_s!</strong>(selector, replacements)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a>, but modifies <code>self</code> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#undump-instance_method" title="#undump (instance method)">#<strong>undump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an unescaped version of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalize-instance_method" title="#unicode_normalize (instance method)">#<strong>unicode_normalize</strong>(form = :nfc)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with <a href="https://unicode.org/reports/tr15" target="_parent" title="Unicode normalization">Unicode normalization</a> applied.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalize!-instance_method" title="#unicode_normalize! (instance method)">#<strong>unicode_normalize!</strong>(form = :nfc)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>, except that the normalization is performed on <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalized%3F-instance_method" title="#unicode_normalized? (instance method)">#<strong>unicode_normalized?</strong>(form = :nfc)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> is in the given <code>form</code> of Unicode normalization, <code>false</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack-instance_method" title="#unpack (instance method)">#<strong>unpack</strong>(template, offset: 0)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts data from <code>self</code>, forming objects that become the elements of a new array; returns that array.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack1-instance_method" title="#unpack1 (instance method)">#<strong>unpack1</strong>(template, offset: 0)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>, but unpacks and returns only the first extracted object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase-instance_method" title="#upcase (instance method)">#<strong>upcase</strong>(*options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string containing the upcased characters in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase!-instance_method" title="#upcase! (instance method)">#<strong>upcase!</strong>(*options)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Upcases the characters in <code>self</code>; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upto-instance_method" title="#upto (instance method)">#<strong>upto</strong>(other_string, exclusive = false) {|string| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each <code>String</code> value returned by successive calls to <code>String#succ;</code> the first value is <code>self</code>, the next is <code>self.succ</code>, and so on; the sequence terminates when value <code>other_string</code> is reached; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<-instance_method" title="Comparable#&lt; (method)">#<</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value less than 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<=-instance_method" title="Comparable#&lt;= (method)">#<=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value less than or equal to 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#==-instance_method" title="Comparable#== (method)">#==</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>-instance_method" title="Comparable#&gt; (method)">#></a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value greater than 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>=-instance_method" title="Comparable#&gt;= (method)">#>=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value greater than or equal to 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#between%3F-instance_method" title="Comparable#between? (method)">#between?</a></td>
      <td><div class='inline'><p>Returns <code>false</code> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than zero or if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than zero, <code>true</code> otherwise.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#clamp-instance_method" title="Comparable#clamp (method)">#clamp</a></td>
      <td><div class='inline'><p>In <code>(min, max)</code> form, returns <em>min</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than zero, <em>max</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than zero, and <em>obj</em> otherwise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature nodoc first'>
    .<strong>new</strong>(*args)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L1929-L2018'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1929' data-end='2018'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1929</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_s_new(int argc, VALUE *argv, VALUE klass)
{
    if (klass != rb_cString) {
        return rb_class_new_instance_pass_kw(argc, argv, klass);
    }

    static ID keyword_ids[2];
    VALUE orig, opt, encoding = Qnil, capacity = Qnil;
    VALUE kwargs[2];
    rb_encoding *enc = NULL;

    int n = rb_scan_args(argc, argv, &quot;01:&quot;, &amp;orig, &amp;opt);
    if (NIL_P(opt)) {
        return rb_class_new_instance_pass_kw(argc, argv, klass);
    }

    keyword_ids[0] = rb_id_encoding();
    CONST_ID(keyword_ids[1], &quot;capacity&quot;);
    rb_get_kwargs(opt, keyword_ids, 0, 2, kwargs);
    encoding = kwargs[0];
    capacity = kwargs[1];

    int termlen = 1;

    if (n == 1) {
        orig = StringValue(orig);
    }
    else {
        orig = Qnil;
    }

    if (UNDEF_P(encoding)) {
        if (!NIL_P(orig)) {
            encoding = rb_obj_encoding(orig);
        }
    }

    if (!UNDEF_P(encoding)) {
        enc = rb_to_encoding(encoding);
        termlen = rb_enc_mbminlen(enc);
    }

    // If capacity is nil, we&#39;re basically just duping `orig`.
    if (UNDEF_P(capacity)) {
        if (NIL_P(orig)) {
            VALUE empty_str = str_new(klass, &quot;&quot;, 0);
            if (enc) {
                rb_enc_associate(empty_str, enc);
            }
            return empty_str;
        }
        VALUE copy = str_duplicate(klass, orig);
        rb_enc_associate(copy, enc);
        ENC_CODERANGE_CLEAR(copy);
        return copy;
    }

    long capa = 0;
    capa = NUM2LONG(capacity);
    if (capa &lt; 0) {
        capa = 0;
    }

    if (!NIL_P(orig)) {
        long orig_capa = rb_str_capacity(orig);
        if (orig_capa &gt; capa) {
            capa = orig_capa;
        }
    }

    long fake_len = capa - termlen;
    if (fake_len &lt; 0) {
        fake_len = 0;
    }

    VALUE str = str_new0(klass, NULL, fake_len, termlen);
    STR_SET_LEN(str, 0);
    TERM_FILL(RSTRING_PTR(str), termlen);

    if (enc) {
        rb_enc_associate(str, enc);
    }

    if (!NIL_P(orig)) {
        rb_str_buf_append(str, orig);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

  <section class='method_details' id="initialize-instance_method">
  <h3 class='signature '>
    #<strong>new</strong>(string = &#39;&#39;, **opts)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new String that is a copy of <code>string</code>.</p>

<p>With no arguments, returns the empty string with the <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> <code>ASCII-8BIT</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:ASCII-8BIT&gt;</span></code></pre>

<p>With optional argument <code>string</code> and no keyword arguments, returns a copy of <code>string</code> with the same encoding:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)               <span class='comment'># =&gt; &quot;foo&quot;
</span><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; &quot;тест&quot;
</span><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>)          <span class='comment'># =&gt; &quot;こんにちは&quot;</span></code></pre>

<p>(Unlike String.new, a <code>string literal</code> like <code>&#39;&#39;</code> or a <code>here document literal</code> always has <code>script encoding</code>.)</p>

<p>With optional keyword argument <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>, returns a copy of <code>string</code> with the specified encoding; the <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> may be an <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> object, an encoding name, or an encoding name alias:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='const'><a href="Encoding.html" title="Encoding (class)">Encoding</a></span><span class='op'>::</span><span class='const'>US_ASCII</span>).<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;
</span><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>         <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;
</span><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>            <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;</span></code></pre>

<p>The given encoding need not be valid for the string’s content, and that validity is not checked:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ascii</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_valid_encoding?'><a href="#valid_encoding%3F-instance_method" title="String#valid_encoding? (method)">valid_encoding?</a></span> <span class='comment'># =&gt; false</span></code></pre>

<p>But the given <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> itself is checked:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># Raises ArgumentError.</span></code></pre>

<p>With optional keyword argument <code>capacity</code>, returns a copy of <code>string</code> (or an empty string, if <code>string</code> is not given); the given <code>capacity</code> is advisory only, and may or may not set the size of the internal buffer, which may in turn affect performance:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='label'>capacity:</span> <span class='int'>1</span>)
<span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>capacity:</span> <span class='int'>4096</span>)</code></pre>

<p>The <code>string</code>, <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>, and <code>capacity</code> arguments may all be used together:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="String.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>capacity:</span> <span class='int'>25</span>)</code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L1851-L1926'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1851' data-end='1926'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1851</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_init(int argc, VALUE *argv, VALUE str)
{
    static ID keyword_ids[2];
    VALUE orig, opt, venc, vcapa;
    VALUE kwargs[2];
    rb_encoding *enc = 0;
    int n;

    if (!keyword_ids[0]) {
        keyword_ids[0] = rb_id_encoding();
        CONST_ID(keyword_ids[1], &quot;capacity&quot;);
    }

    n = rb_scan_args(argc, argv, &quot;01:&quot;, &amp;orig, &amp;opt);
    if (!NIL_P(opt)) {
        rb_get_kwargs(opt, keyword_ids, 0, 2, kwargs);
        venc = kwargs[0];
        vcapa = kwargs[1];
        if (!UNDEF_P(venc) &amp;&amp; !NIL_P(venc)) {
            enc = rb_to_encoding(venc);
        }
        if (!UNDEF_P(vcapa) &amp;&amp; !NIL_P(vcapa)) {
            long capa = NUM2LONG(vcapa);
            long len = 0;
            int termlen = enc ? rb_enc_mbminlen(enc) : 1;

            if (capa &lt; STR_BUF_MIN_SIZE) {
                capa = STR_BUF_MIN_SIZE;
            }
            if (n == 1) {
                StringValue(orig);
                len = RSTRING_LEN(orig);
                if (capa &lt; len) {
                    capa = len;
                }
                if (orig == str) n = 0;
            }
            str_modifiable(str);
            if (STR_EMBED_P(str) || FL_TEST(str, STR_SHARED|STR_NOFREE)) {
                /* make noembed always */
                const size_t size = (size_t)capa + termlen;
                const char *const old_ptr = RSTRING_PTR(str);
                const size_t osize = RSTRING_LEN(str) + TERM_LEN(str);
                char *new_ptr = ALLOC_N(char, size);
                if (STR_EMBED_P(str)) RUBY_ASSERT((long)osize &lt;= str_embed_capa(str));
                memcpy(new_ptr, old_ptr, osize &lt; size ? osize : size);
                FL_UNSET_RAW(str, STR_SHARED|STR_NOFREE);
                RSTRING(str)-&gt;as.heap.ptr = new_ptr;
            }
            else if (STR_HEAP_SIZE(str) != (size_t)capa + termlen) {
                SIZED_REALLOC_N(RSTRING(str)-&gt;as.heap.ptr, char,
                        (size_t)capa + termlen, STR_HEAP_SIZE(str));
            }
            STR_SET_LEN(str, len);
            TERM_FILL(&amp;RSTRING(str)-&gt;as.heap.ptr[len], termlen);
            if (n == 1) {
                memcpy(RSTRING(str)-&gt;as.heap.ptr, RSTRING_PTR(orig), len);
                rb_enc_cr_str_exact_copy(str, orig);
            }
            FL_SET(str, STR_NOEMBED);
            RSTRING(str)-&gt;as.heap.aux.capa = capa;
        }
        else if (n == 1) {
            rb_str_replace(str, orig);
        }
        if (enc) {
            rb_enc_associate(str, enc);
            ENC_CODERANGE_CLEAR(str);
        }
    }
    else if (n == 1) {
        rb_str_replace(str, orig);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="try_convert-class_method">
  <h3 class='signature  first'>
    .<strong>try_convert</strong>(object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>object</code> is a <code>String</code> object, returns <code>object</code>.</p>

<p>Otherwise if <code>object</code> responds to <code>:to_str</code>, calls <code>object.to_str</code> and returns the result.</p>

<p>Returns <code>nil</code> if <code>object</code> does not respond to <code>:to_str</code>.</p>

<p>Raises an exception unless <code>object.to_str</code> returns a <code>String</code> object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2732-L2736'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2732' data-end='2736'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2732</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_s_try_convert(VALUE dummy, VALUE str)
{
    return rb_check_string_type(str);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ascii_only?-instance_method">
  <h3 class='signature ro first'>
    #<strong>ascii_only?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> contains only ASCII characters, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ascii_only?'>ascii_only?</span>         <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u{6666}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_ascii_only?'>ascii_only?</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11062-L11068'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11062' data-end='11068'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11062</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_is_ascii_only_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return RBOOL(cr == ENC_CODERANGE_7BIT);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the length of <code>self</code> is zero, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2267-L2271'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2267' data-end='2271'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2267</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_empty(VALUE str)
{
    return RBOOL(RSTRING_LEN(str) == 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="valid_encoding?-instance_method">
  <h3 class='signature ro'>
    #<strong>valid_encoding?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is encoded correctly, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2\xa1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span> <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>     <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>     <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11042-L11048'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11042' data-end='11048'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11042</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_valid_encoding_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return RBOOL(cr != ENC_CODERANGE_BROKEN);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="%-instance_method">
  <h3 class='signature  first'>
    #<strong>%</strong>(object)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of formatting <code>object</code> into the format specification <code>self</code> (see <a href="Kernel.html#sprintf-class_method" title="Kernel.sprintf (method)">Kernel.sprintf</a> for formatting details):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%05d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='int'>123</span> <span class='comment'># =&gt; &quot;00123&quot;</span></code></pre>

<p>If <code>self</code> contains multiple substitutions, <code>object</code> must be an <a href="Array.html" title="Array (class)"><code>::Array</code></a> or <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a> containing the values to be substituted:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-5s: %016x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span>.<span class='id identifier rubyid_object_id'>object_id</span> ] <span class='comment'># =&gt; &quot;ID   : 00002b054ec93168&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo = %{foo}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> {<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; &quot;foo = bar&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo = %{foo}, baz = %{baz}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> {<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; &quot;foo = bar, baz = bat&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2431-L2440'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2431' data-end='2440'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2431</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_format_m(VALUE str, VALUE arg)
{
    VALUE tmp = rb_check_array_type(arg);

    if (!NIL_P(tmp)) {
        return rb_str_format(RARRAY_LENINT(tmp), RARRAY_CONST_PTR(tmp), str);
    }
    return rb_str_format(1, &amp;arg, str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="*-instance_method">
  <h3 class='signature '>
    #<strong>*</strong>(integer)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> containing <code>integer</code> copies of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>3</span> <span class='comment'># =&gt; &quot;Ho! Ho! Ho! &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>0</span> <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2355-L2411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2355' data-end='2411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2355</span></pre>
<pre class='code cpp'>

VALUE
rb_str_times(VALUE str, VALUE times)
{
    VALUE str2;
    long n, len;
    char *ptr2;
    int termlen;

    if (times == INT2FIX(1)) {
        return str_duplicate(rb_cString, str);
    }
    if (times == INT2FIX(0)) {
        str2 = str_alloc_embed(rb_cString, 0);
        rb_enc_copy(str2, str);
        return str2;
    }
    len = NUM2LONG(times);
    if (len &lt; 0) {
        rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (RSTRING_LEN(str) == 1 &amp;&amp; RSTRING_PTR(str)[0] == 0) {
        if (STR_EMBEDDABLE_P(len, 1)) {
            str2 = str_alloc_embed(rb_cString, len + 1);
            memset(RSTRING_PTR(str2), 0, len + 1);
        }
        else {
            str2 = str_alloc_heap(rb_cString);
            RSTRING(str2)-&gt;as.heap.aux.capa = len;
            RSTRING(str2)-&gt;as.heap.ptr = ZALLOC_N(char, (size_t)len + 1);
        }
        STR_SET_LEN(str2, len);
        rb_enc_copy(str2, str);
        return str2;
    }
    if (len &amp;&amp; LONG_MAX/len &lt;  RSTRING_LEN(str)) {
        rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }

    len *= RSTRING_LEN(str);
    termlen = TERM_LEN(str);
    str2 = str_new0(rb_cString, 0, len, termlen);
    ptr2 = RSTRING_PTR(str2);
    if (len) {
        n = RSTRING_LEN(str);
        memcpy(ptr2, RSTRING_PTR(str), n);
        while (n &lt;= len/2) {
            memcpy(ptr2 + n, ptr2, n);
            n *= 2;
        }
        memcpy(ptr2 + n, ptr2, len-n);
    }
    STR_SET_LEN(str2, len);
    TERM_FILL(&amp;ptr2[len], termlen);
    rb_enc_cr_str_copy_for_substr(str2, str);

    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>(other_string)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> containing <code>other_string</code> concatenated to <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello from </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="String#to_s (method)">to_s</a></span> <span class='comment'># =&gt; &quot;Hello from main&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2283-L2311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2283' data-end='2311'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2283</span></pre>
<pre class='code cpp'>

VALUE
rb_str_plus(VALUE str1, VALUE str2)
{
    VALUE str3;
    rb_encoding *enc;
    char *ptr1, *ptr2, *ptr3;
    long len1, len2;
    int termlen;

    StringValue(str2);
    enc = rb_enc_check_str(str1, str2);
    RSTRING_GETMEM(str1, ptr1, len1);
    RSTRING_GETMEM(str2, ptr2, len2);
    termlen = rb_enc_mbminlen(enc);
    if (len1 &gt; LONG_MAX - len2) {
        rb_raise(rb_eArgError, &quot;string size too big&quot;);
    }
    str3 = str_new0(rb_cString, 0, len1+len2, termlen);
    ptr3 = RSTRING_PTR(str3);
    memcpy(ptr3, ptr1, len1);
    memcpy(ptr3+len1, ptr2, len2);
    TERM_FILL(&amp;ptr3[len1+len2], termlen);

    ENCODING_CODERANGE_SET(str3, rb_enc_to_index(enc),
                           ENC_CODERANGE_AND(ENC_CODERANGE(str1), ENC_CODERANGE(str2)));
    RB_GC_GUARD(str1);
    RB_GC_GUARD(str2);
    return str3;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+@-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>  &#x21d2; <code>String</code>, <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> if <code>self</code> is not frozen.</p>

<p>Otherwise returns <code>self.dup</code>, which is not frozen.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3050-L3059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3050' data-end='3059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3050</span></pre>
<pre class='code cpp'>

static VALUE
str_uplus(VALUE str)
{
    if (OBJ_FROZEN(str)) {
        return rb_str_dup(str);
    }
    else {
        return str;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="-@-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>-</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>dedup</strong>  &#x21d2; <code>String</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#dedup</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a frozen, possibly pre-existing copy of the string.</p>

<p>The returned <code>String</code> will be deduplicated as long as it does not have any instance variables set on it and is not a <code>String</code> subclass.</p>

<p>Note that <code>-string</code> variant is more convenient for defining constants:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>FILENAME</span> <span class='op'>=</span> <span class='op'>-</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>config/database.yml</span><span class='tstring_end'>&#39;</span></span></code></pre>

<p>while <a href="#dedup-instance_method" title="String#dedup (method)">#dedup</a> is better suitable for using the method in chains of calculations:</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@url_list</span>.<span class='id identifier rubyid_concat'><a href="#concat-instance_method" title="String#concat (method)">concat</a></span>(<span class='id identifier rubyid_urls'>urls</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_dedup'><a href="#dedup-instance_method" title="String#dedup (method)">dedup</a></span>))</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3082-L3089'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3082' data-end='3089'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3082</span></pre>
<pre class='code cpp'>

static VALUE
str_uminus(VALUE str)
{
    if (!BARE_STRING_P(str) &amp;&amp; !rb_obj_frozen_p(str)) {
        str = rb_str_dup(str);
    }
    return rb_fstring(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<<-instance_method">
  <h3 class='signature '>
    #<strong>&lt;&lt;</strong>(object)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenates <code>object</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;foobar&quot;
</span><span class='id identifier rubyid_s'>s</span>          <span class='comment'># =&gt; &quot;foobar&quot;</span></code></pre>

<p>If <code>object</code> is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, the value is considered a codepoint and converted to a character before concatenation:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='int'>33</span> <span class='comment'># =&gt; &quot;foo!&quot;</span></code></pre>

<p>Related: <a href="#concat-instance_method" title="String#concat (method)">#concat</a>, which takes multiple arguments.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3534-L3596'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3534' data-end='3596'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3534</span></pre>
<pre class='code cpp'>

VALUE
rb_str_concat(VALUE str1, VALUE str2)
{
    unsigned int code;
    rb_encoding *enc = STR_ENC_GET(str1);
    int encidx;

    if (RB_INTEGER_TYPE_P(str2)) {
        if (rb_num_to_uint(str2, &amp;code) == 0) {
        }
        else if (FIXNUM_P(str2)) {
            rb_raise(rb_eRangeError, &quot;%ld out of char range&quot;, FIX2LONG(str2));
        }
        else {
            rb_raise(rb_eRangeError, &quot;bignum out of char range&quot;);
        }
    }
    else {
        return rb_str_append(str1, str2);
    }

    encidx = rb_ascii8bit_appendable_encoding_index(enc, code);
    if (encidx &gt;= 0) {
        char buf[1];
        buf[0] = (char)code;
        rb_str_cat(str1, buf, 1);
        if (encidx != rb_enc_to_index(enc)) {
            rb_enc_associate_index(str1, encidx);
            ENC_CODERANGE_SET(str1, ENC_CODERANGE_VALID);
        }
    }
    else {
        long pos = RSTRING_LEN(str1);
        int cr = ENC_CODERANGE(str1);
        int len;
        char *buf;

        switch (len = rb_enc_codelen(code, enc)) {
          case ONIGERR_INVALID_CODE_POINT_VALUE:
            rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
            break;
          case ONIGERR_TOO_BIG_WIDE_CHAR_VALUE:
          case 0:
            rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
            break;
        }
        buf = ALLOCA_N(char, len + 1);
        rb_enc_mbcput(code, buf, enc);
        if (rb_enc_precise_mbclen(buf, buf + len + 1, enc) != len) {
            rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
        }
        rb_str_resize(str1, pos+len);
        memcpy(RSTRING_PTR(str1) + pos, buf, len);
        if (cr == ENC_CODERANGE_7BIT &amp;&amp; code &gt; 127) {
            cr = ENC_CODERANGE_VALID;
        }
        else if (cr == ENC_CODERANGE_BROKEN) {
            cr = ENC_CODERANGE_UNKNOWN;
        }
        ENC_CODERANGE_SET(str1, cr);
    }
    return str1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compares <code>self</code> and <code>other_string</code>, returning:</p>
<ul><li>
<p>-1 if <code>other_string</code> is larger.</p>
</li><li>
<p>0 if the two are equal.</p>
</li><li>
<p>1 if <code>other_string</code> is smaller.</p>
</li><li>
<p><code>nil</code> if the two are incomparable.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='int'>1</span> <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3826-L3836'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3826' data-end='3836'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3826</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_cmp_m(VALUE str1, VALUE str2)
{
    int result;
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return rb_invcmp(str1, str2);
    }
    result = rb_str_cmp(str1, s);
    return INT2FIX(result);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(object)  &#x21d2; <code>Boolean</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#===</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; false</span></code></pre>

<p>Returns <code>false</code> if the two strings’ encodings are not compatible:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{e4 f6 fc}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'><a href="#encode-instance_method" title="String#encode (method)">encode</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>==</span> (<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{c4 d6 dc}</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>If <code>object</code> is not an instance of <code>String</code> but responds to <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>, then the two strings are compared using <code>object.==</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3765-L3776'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3765' data-end='3776'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3765</span></pre>
<pre class='code cpp'>

VALUE
rb_str_equal(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) {
        if (!rb_respond_to(str2, idTo_str)) {
            return Qfalse;
        }
        return rb_equal(str2, str1);
    }
    return rb_str_eql_internal(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="===-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(object)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="=~-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>=~</strong>(regexp)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>=~</strong>(object)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> index of the first substring that matches the given <code>regexp</code>, or <code>nil</code> if no match found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>Note: also updates Regexp@Global+Variables.</p>

<p>If the given <code>object</code> is not a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>, returns the value returned by <code>object =~ self</code>.</p>

<p>Note that <code>string =~ regexp</code> is different from <code>regexp =~ string</code> (see <a href="Regexp.html#=~-instance_method" title="Regexp#=~ (method)">Regexp#=~</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number'>number</span><span class='op'>=</span> <span class='kw'>nil</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no. 9</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;number&gt;\d+)</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_number'>number</span> <span class='comment'># =&gt; nil (not assigned)
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;number&gt;\d+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no. 9</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_number'>number</span> <span class='comment'>#=&gt; &quot;9&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4546-L4559'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4546' data-end='4559'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4546</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match(VALUE x, VALUE y)
{
    switch (OBJ_BUILTIN_TYPE(y)) {
      case T_STRING:
        rb_raise(rb_eTypeError, &quot;type mismatch: String given&quot;);

      case T_REGEXP:
        return rb_reg_match(y, x);

      default:
        return rb_funcall(y, idEqTilde, 1, x);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(substring)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#slice</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the substring of <code>self</code> specified by the arguments. See examples at <code><code>String</code> Slices</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5302-L5317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5302' data-end='5317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5302</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aref_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
        if (RB_TYPE_P(argv[0], T_REGEXP)) {
            return rb_str_subpat(str, argv[0], argv[1]);
        }
        else {
            long beg = NUM2LONG(argv[0]);
            long len = NUM2LONG(argv[1]);
            return rb_str_substr(str, beg, len);
        }
    }
    rb_check_arity(argc, 1, 2);
    return rb_str_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(index, new_string)  </span>
      <span class='overload'>#<strong>[]=</strong>(start, length, new_string)  </span>
      <span class='overload'>#<strong>[]=</strong>(range, new_string)  </span>
      <span class='overload'>#<strong>[]=</strong>(substring, new_string)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces all, some, or none of the contents of <code>self</code>; returns <code>new_string</code>. See <code><code>String</code> Slices</code>.</p>

<p>A few examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>[<span class='int'>2</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rtune</span><span class='tstring_end'>&#39;</span></span>     <span class='comment'># =&gt; &quot;rtune&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;fortune&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>5</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>init</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># =&gt; &quot;init&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;finite&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='int'>3</span><span class='op'>..</span><span class='int'>4</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>al</span><span class='tstring_end'>&#39;</span></span>     <span class='comment'># =&gt; &quot;al&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;finale&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>e$</span><span class='regexp_end'>/</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ly</span><span class='tstring_end'>&#39;</span></span>     <span class='comment'># =&gt; &quot;ly&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;finally&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lly</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ncial</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;ncial&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;financial&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5540-L5554'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5540' data-end='5554'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5540</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aset_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 3) {
        if (RB_TYPE_P(argv[0], T_REGEXP)) {
            rb_str_subpat_set(str, argv[0], argv[1], argv[2]);
        }
        else {
            rb_str_update(str, NUM2LONG(argv[0]), NUM2LONG(argv[1]), argv[2]);
        }
        return argv[2];
    }
    rb_check_arity(argc, 2, 3);
    return rb_str_aset(str, argv[0], argv[1]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="b-instance_method">
  <h3 class='signature '>
    #<strong>b</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> that has ASCII-8BIT encoding; the underlying bytes are not modified:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x99</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>   <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_b'>b</span>      <span class='comment'># =&gt; &quot;\x99&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>   <span class='comment'># =&gt; #&lt;Encoding:ASCII-8BIT&gt;
</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u4095</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;䂕&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>   <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>      <span class='comment'># =&gt; [228, 130, 149]
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_b'>b</span>      <span class='comment'># =&gt; &quot;\xE4\x82\x95&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>   <span class='comment'># =&gt; #&lt;Encoding:ASCII-8BIT&gt;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>      <span class='comment'># =&gt; [228, 130, 149]</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10998-L11029'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10998' data-end='11029'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10998</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_b(VALUE str)
{
    VALUE str2;
    if (STR_EMBED_P(str)) {
        str2 = str_alloc_embed(rb_cString, RSTRING_LEN(str) + TERM_LEN(str));
    }
    else {
        str2 = str_alloc_heap(rb_cString);
    }
    str_replace_shared_without_enc(str2, str);

    if (rb_enc_asciicompat(STR_ENC_GET(str))) {
        // BINARY strings can never be broken; they&#39;re either 7-bit ASCII or VALID.
        // If we know the receiver&#39;s code range then we know the result&#39;s code range.
        int cr = ENC_CODERANGE(str);
        switch (cr) {
          case ENC_CODERANGE_7BIT:
            ENC_CODERANGE_SET(str2, ENC_CODERANGE_7BIT);
            break;
          case ENC_CODERANGE_BROKEN:
          case ENC_CODERANGE_VALID:
            ENC_CODERANGE_SET(str2, ENC_CODERANGE_VALID);
            break;
          default:
            ENC_CODERANGE_CLEAR(str2);
            break;
        }
    }

    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="byteindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>byteindex</strong>(substring, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>byteindex</strong>(regexp, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the first occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the first match for the given <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> <code>regexp</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>oo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ooo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p><a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> argument <code>offset</code>, if given, specifies the byte-based position in the string to begin the search:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If <code>offset</code> is negative, counts backward from the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If <code>offset</code> does not land on character (codepoint) boundary, <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised.</p>

<p>Related: <a href="#index-instance_method" title="String#index (method)">#index</a>, <a href="#byterindex-instance_method" title="String#byterindex (method)">#byterindex</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4158-L4195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4158' data-end='4195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4158</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_byteindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
        long slen = RSTRING_LEN(str);
        pos = NUM2LONG(initpos);
        if (pos &lt; 0 ? (pos += slen) &lt; 0 : pos &gt; slen) {
            if (RB_TYPE_P(sub, T_REGEXP)) {
                rb_backref_set(Qnil);
            }
            return Qnil;
        }
    }
    else {
        pos = 0;
    }

    str_ensure_byte_pos(str, pos);

    if (RB_TYPE_P(sub, T_REGEXP)) {
        if (rb_reg_search(sub, str, pos, 0) &gt;= 0) {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = BEG(0);
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
        pos = rb_str_byteindex(str, sub, pos);
        if (pos &gt;= 0) return LONG2NUM(pos);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="byterindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>byterindex</strong>(substring, offset = self.bytesize)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>byterindex</strong>(regexp, offset = self.bytesize)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> byte-based index of the <em>last</em> match for the given <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> <code>regexp</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>oo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ooo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>The <em>last</em> match means starting at the possible last position, not the last of longest matches.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;o&quot;&gt;</span></code></pre>

<p>To get the last longest match, needs to combine with negative lookbehind.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!o)o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p>Or <a href="#byteindex-instance_method" title="String#byteindex (method)">#byteindex</a> with negative lookforward.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'><a href="#byteindex-instance_method" title="String#byteindex (method)">byteindex</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+(?!.*o)</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p><a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> argument <code>offset</code>, if given and non-negative, specifies the maximum starting byte-based position in the</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid__end_'>_end_</span> <span class='id identifier rubyid_the'>the</span> <span class='label'>search:</span>

 <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; nil
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 1
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; 2
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; 2</span></code></pre>

<p>If <code>offset</code> is a negative <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, the maximum starting position in the string to <em>end</em> the search is the sum of the string’s length and <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>) <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If <code>offset</code> does not land on character (codepoint) boundary, <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised.</p>

<p>Related: <a href="#byteindex-instance_method" title="String#byteindex (method)">#byteindex</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4479-L4516'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4479' data-end='4516'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4479</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_byterindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    long pos, len = RSTRING_LEN(str);

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
        pos = NUM2LONG(initpos);
        if (pos &lt; 0 &amp;&amp; (pos += len) &lt; 0) {
            if (RB_TYPE_P(sub, T_REGEXP)) {
                rb_backref_set(Qnil);
            }
            return Qnil;
        }
        if (pos &gt; len) pos = len;
    }
    else {
        pos = len;
    }

    str_ensure_byte_pos(str, pos);

    if (RB_TYPE_P(sub, T_REGEXP)) {
        if (rb_reg_search(sub, str, pos, 1) &gt;= 0) {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = BEG(0);
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
        pos = rb_str_byterindex(str, sub, pos);
        if (pos &gt;= 0) return LONG2NUM(pos);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytes-instance_method">
  <h3 class='signature '>
    #<strong>bytes</strong>  &#x21d2; <code>array_of_bytes</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the bytes in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytes'>bytes</span> <span class='comment'># =&gt; [104, 101, 108, 108, 111]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytes'>bytes</span>  <span class='comment'># =&gt; [209, 130, 208, 181, 209, 129, 209, 130]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytes'>bytes</span>
<span class='comment'># =&gt; [227, 129, 147, 227, 130, 147, 227, 129, 171, 227, 129, 161, 227, 129, 175]</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9296-L9301'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9296' data-end='9301'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9296</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytes(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;bytes&quot;, RSTRING_LEN(str));
    return rb_str_enumerate_bytes(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytesize-instance_method">
  <h3 class='signature '>
    #<strong>bytesize</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of bytes (not characters) in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'>bytesize</span>        <span class='comment'># =&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'>bytesize</span>       <span class='comment'># =&gt; 8
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'>bytesize</span>   <span class='comment'># =&gt; 15</span></code></pre>

<p>Contrast with <a href="#length-instance_method" title="String#length (method)">#length</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="String#length (method)">length</a></span>       <span class='comment'># =&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="String#length (method)">length</a></span>      <span class='comment'># =&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="String#length (method)">length</a></span>  <span class='comment'># =&gt; 5</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2249-L2253'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2249' data-end='2253'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2249</span></pre>
<pre class='code cpp'>

VALUE
rb_str_bytesize(VALUE str)
{
    return LONG2NUM(RSTRING_LEN(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="byteslice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>byteslice</strong>(index, length = 1)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>byteslice</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a substring of <code>self</code>, or <code>nil</code> if the substring cannot be constructed.</p>

<p>With integer arguments <a href="#index-instance_method" title="String#index (method)">#index</a> and <a href="#length-instance_method" title="String#length (method)">#length</a> given, returns the substring beginning at the given <a href="#index-instance_method" title="String#index (method)">#index</a> of the given <a href="#length-instance_method" title="String#length (method)">#length</a> (if possible), or <code>nil</code> if <a href="#length-instance_method" title="String#length (method)">#length</a> is negative or <a href="#index-instance_method" title="String#index (method)">#index</a> falls outside of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0123456789</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;0123456789&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>2</span>)   <span class='comment'># =&gt; &quot;2&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>200</span>) <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='int'>3</span>)  <span class='comment'># =&gt; &quot;456&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='int'>30</span>) <span class='comment'># =&gt; &quot;456789&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>4</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>40</span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>In either case above, counts backwards from the end of <code>self</code> if <a href="#index-instance_method" title="String#index (method)">#index</a> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0123456789</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># =&gt; &quot;0123456789&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='op'>-</span><span class='int'>4</span>)    <span class='comment'># =&gt; &quot;6&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; &quot;678&quot;</span></code></pre>

<p>With Range argument <code>range</code> given, returns <code>byteslice(range.begin, range.size)</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0123456789</span><span class='tstring_end'>&#39;</span></span>    <span class='comment'># =&gt; &quot;0123456789&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>4</span><span class='op'>..</span><span class='int'>6</span>)   <span class='comment'># =&gt; &quot;456&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='op'>-</span><span class='int'>6</span><span class='op'>..</span><span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; &quot;456&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>5</span><span class='op'>..</span><span class='int'>2</span>)   <span class='comment'># =&gt; &quot;&quot; # range.size is zero.
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>40</span><span class='op'>..</span><span class='int'>42</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>In all cases, a returned string has the same encoding as <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>              <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>4</span>).<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6360-L6370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6360' data-end='6370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6360</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_byteslice(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
        long beg = NUM2LONG(argv[0]);
        long len = NUM2LONG(argv[1]);
        return str_byte_substr(str, beg, len, TRUE);
    }
    rb_check_arity(argc, 1, 2);
    return str_byte_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytesplice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>bytesplice</strong>(index, length, str)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>bytesplice</strong>(index, length, str, str_index, str_length)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>bytesplice</strong>(range, str)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>bytesplice</strong>(range, str, str_range)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces some or all of the content of <code>self</code> with <code>str</code>, and returns <code>self</code>. The portion of the string affected is determined using the same criteria as <a href="#byteslice-instance_method" title="String#byteslice (method)">#byteslice</a>, except that <a href="#length-instance_method" title="String#length (method)">#length</a> cannot be omitted. If the replacement string is not the same length as the text it is replacing, the string will be adjusted accordingly.</p>

<p>If <code>str_index</code> and <code>str_length</code>, or <code>str_range</code> are given, the content of <code>self</code> is replaced by str.byteslice(str_index, str_length) or str.byteslice(str_range); however the substring of <code>str</code> is not allocated as a new string.</p>

<p>The form that take an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> will raise an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> if the value is out of range; the <a href="Range.html" title="Range (class)"><code>::Range</code></a> form will raise a <a href="RangeError.html" title="RangeError (class)"><code>::RangeError</code></a>. If the beginning or ending offset does not land on character (codepoint) boundary, an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> will be raised.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6416-L6474'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6416' data-end='6474'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6416</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytesplice(int argc, VALUE *argv, VALUE str)
{
    long beg, len, vbeg, vlen;
    VALUE val;
    rb_encoding *enc;
    int cr;

    rb_check_arity(argc, 2, 5);
    if (!(argc == 2 || argc == 3 || argc == 5)) {
        rb_raise(rb_eArgError, &quot;wrong number of arguments (given %d, expected 2, 3, or 5)&quot;, argc);
    }
    if (argc == 2 || (argc == 3 &amp;&amp; !RB_INTEGER_TYPE_P(argv[0]))) {
        if (!rb_range_beg_len(argv[0], &amp;beg, &amp;len, RSTRING_LEN(str), 2)) {
            rb_raise(rb_eTypeError, &quot;wrong argument type %s (expected Range)&quot;,
                     rb_builtin_class_name(argv[0]));
        }
        val = argv[1];
        StringValue(val);
        if (argc == 2) {
            /* bytesplice(range, str) */
            vbeg = 0;
            vlen = RSTRING_LEN(val);
        }
        else {
            /* bytesplice(range, str, str_range) */
            if (!rb_range_beg_len(argv[2], &amp;vbeg, &amp;vlen, RSTRING_LEN(val), 2)) {
                rb_raise(rb_eTypeError, &quot;wrong argument type %s (expected Range)&quot;,
                         rb_builtin_class_name(argv[2]));
            }
        }
    }
    else {
        beg = NUM2LONG(argv[0]);
        len = NUM2LONG(argv[1]);
        val = argv[2];
        StringValue(val);
        if (argc == 3) {
            /* bytesplice(index, length, str) */
            vbeg = 0;
            vlen = RSTRING_LEN(val);
        }
        else {
            /* bytesplice(index, length, str, str_index, str_length) */
            vbeg = NUM2LONG(argv[3]);
            vlen = NUM2LONG(argv[4]);
        }
    }
    str_check_beg_len(str, &amp;beg, &amp;len);
    str_check_beg_len(val, &amp;vbeg, &amp;vlen);
    enc = rb_enc_check(str, val);
    str_modify_keep_cr(str);
    rb_str_update_1(str, beg, len, val, vbeg, vlen);
    rb_enc_associate(str, enc);
    cr = ENC_CODERANGE_AND(ENC_CODERANGE(str), ENC_CODERANGE(val));
    if (cr != ENC_CODERANGE_BROKEN)
        ENC_CODERANGE_SET(str, cr);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize-instance_method">
  <h3 class='signature '>
    #<strong>capitalize</strong>(*options)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string containing the characters in <code>self</code>; the first character is upcased; the remaining characters are downcased:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_capitalize'>capitalize</span>       <span class='comment'># =&gt; &quot;Hello world!&quot;</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#capitalize!-instance_method" title="String#capitalize! (method)">#capitalize!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7791-L7809'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7791' data-end='7809'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7791</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return str;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize!-instance_method">
  <h3 class='signature '>
    #<strong>capitalize!</strong>(*options)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Upcases the first character in <code>self</code>; downcases the remaining characters; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_capitalize!'>capitalize!</span>      <span class='comment'># =&gt; &quot;Hello world!&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;Hello world!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_capitalize!'>capitalize!</span>      <span class='comment'># =&gt; nil</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#capitalize-instance_method" title="String#capitalize (method)">#capitalize</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7753-L7770'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7753' data-end='7770'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7753</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp-instance_method">
  <h3 class='signature '>
    #<strong>casecmp</strong>(other_string)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compares <code>self.downcase</code> and <code>other_string.downcase</code>; returns:</p>
<ul><li>
<p>-1 if <code>other_string.downcase</code> is larger.</p>
</li><li>
<p>0 if the two are equal.</p>
</li><li>
<p>1 if <code>other_string.downcase</code> is smaller.</p>
</li><li>
<p><code>nil</code> if the two are incomparable.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='int'>1</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>See <code>Case Mapping</code>.</p>

<p>Related: <a href="#casecmp%3F-instance_method" title="String#casecmp? (method)">#casecmp?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3867-L3875'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3867' data-end='3875'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3867</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return Qnil;
    }
    return str_casecmp(str1, s);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp?-instance_method">
  <h3 class='signature '>
    #<strong>casecmp?</strong>(other_string)  &#x21d2; <code>true</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> and <code>other_string</code> are equal after Unicode case folding, otherwise <code>false</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true</span></code></pre>

<p>Returns <code>nil</code> if the two values are incomparable:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='int'>1</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>See <code>Case Mapping</code>.</p>

<p>Related: <a href="#casecmp-instance_method" title="String#casecmp (method)">#casecmp</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3957-L3965'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3957' data-end='3965'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3957</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp_p(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
        return Qnil;
    }
    return str_casecmp_p(str1, s);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="center-instance_method">
  <h3 class='signature '>
    #<strong>center</strong>(size, pad_string = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a centered copy of <code>self</code>.</p>

<p>If integer argument <a href="#size-instance_method" title="String#size (method)">#size</a> is greater than the size (in characters) of <code>self</code>, returns a new string of length <a href="#size-instance_method" title="String#size (method)">#size</a> that is a copy of <code>self</code>, centered and padded on both ends with <code>pad_string</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>10</span>)       <span class='comment'># =&gt; &quot;  hello   &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>10</span>)     <span class='comment'># =&gt; &quot;   hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;abhelloaba&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>10</span>)        <span class='comment'># =&gt; &quot;   тест   &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>10</span>)    <span class='comment'># =&gt; &quot;  こんにちは   &quot;</span></code></pre>

<p>If <a href="#size-instance_method" title="String#size (method)">#size</a> is not greater than the size of <code>self</code>, returns a copy of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>5</span>)  <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>1</span>)  <span class='comment'># =&gt; &quot;hello&quot;</span></code></pre>
</p>

<p>Related: <a href="#ljust-instance_method" title="String#ljust (method)">#ljust</a>, <a href="#rjust-instance_method" title="String#rjust (method)">#rjust</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10603-L10607'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10603' data-end='10607'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10603</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_center(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;c&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chars-instance_method">
  <h3 class='signature '>
    #<strong>chars</strong>  &#x21d2; <code>array_of_characters</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the characters in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chars'>chars</span>     <span class='comment'># =&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chars'>chars</span>      <span class='comment'># =&gt; [&quot;т&quot;, &quot;е&quot;, &quot;с&quot;, &quot;т&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chars'>chars</span> <span class='comment'># =&gt; [&quot;こ&quot;, &quot;ん&quot;, &quot;に&quot;, &quot;ち&quot;, &quot;は&quot;]</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9365-L9370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9365' data-end='9370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9365</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chars(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;chars&quot;, rb_str_strlen(str));
    return rb_str_enumerate_chars(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp-instance_method">
  <h3 class='signature '>
    #<strong>chomp</strong>(line_sep = $/)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string copied from <code>self</code>, with trailing characters possibly removed:</p>

<p>When <code>line_sep</code> is <code>&quot;\n&quot;</code>, removes the last one or two characters if they are <code>&quot;\r&quot;</code>, <code>&quot;\n&quot;</code>, or <code>&quot;\r\n&quot;</code> (but not <code>&quot;\n\r&quot;</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$/</span>                    <span class='comment'># =&gt; &quot;\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>         <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>         <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>       <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\n\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>       <span class='comment'># =&gt; &quot;abc\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>тест\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>      <span class='comment'># =&gt; &quot;тест&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>こんにちは\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>  <span class='comment'># =&gt; &quot;こんにちは&quot;</span></code></pre>

<p>When <code>line_sep</code> is <code>&#39;&#39;</code> (an empty string), removes multiple trailing occurrences of <code>&quot;\n&quot;</code> or <code>&quot;\r\n&quot;</code> (but not <code>&quot;\r&quot;</code> or <code>&quot;\n\r&quot;</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\n\n\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\r\n\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\n\n\r\n\r\n\n\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\n\r\n\r\n\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;abc\n\r\n\r\n\r&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\r\r\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; &quot;abc\r\r\r&quot;</span></code></pre>

<p>When <code>line_sep</code> is neither <code>&quot;\n&quot;</code> nor <code>&#39;&#39;</code>, removes a single trailing line separator if there is one:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcdd</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;abcd&quot;</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9829-L9835'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9829' data-end='9835'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9829</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp(int argc, VALUE *argv, VALUE str)
{
    VALUE rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, 0, chompped_length(str, rs));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp!-instance_method">
  <h3 class='signature '>
    #<strong>chomp!</strong>(line_sep = $/)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, but modifies <code>self</code> in place; returns <code>nil</code> if no modification made, <code>self</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9809-L9818'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9809' data-end='9818'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9809</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE rs;
    str_modifiable(str);
    if (RSTRING_LEN(str) == 0 &amp;&amp; argc &lt; 2) return Qnil;
    rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return Qnil;
    return rb_str_chomp_string(str, rs);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop-instance_method">
  <h3 class='signature '>
    #<strong>chop</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string copied from <code>self</code>, with trailing characters possibly removed.</p>

<p>Removes <code>&quot;\r\n&quot;</code> if those are the last two characters.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>      <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>тест\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>     <span class='comment'># =&gt; &quot;тест&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>こんにちは\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span> <span class='comment'># =&gt; &quot;こんにちは&quot;</span></code></pre>

<p>Otherwise removes the last character if it exists.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcd</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chop'>chop</span>     <span class='comment'># =&gt; &quot;abc&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chop'>chop</span>     <span class='comment'># =&gt; &quot;тес&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chop'>chop</span> <span class='comment'># =&gt; &quot;こんにち&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_chop'>chop</span>         <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p>If you only need to remove the newline separator at the end of the string, <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> is a better alternative.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9656-L9660'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9656' data-end='9660'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9656</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop(VALUE str)
{
    return rb_str_subseq(str, 0, chopped_length(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop!-instance_method">
  <h3 class='signature '>
    #<strong>chop!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, but modifies <code>self</code> in place; returns <code>nil</code> if <code>self</code> is empty, <code>self</code> otherwise.</p>

<p>Related: <a href="#chomp!-instance_method" title="String#chomp! (method)">#chomp!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9630-L9645'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9630' data-end='9645'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9630</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop_bang(VALUE str)
{
    str_modify_keep_cr(str);
    if (RSTRING_LEN(str) &gt; 0) {
        long len;
        len = chopped_length(str);
        STR_SET_LEN(str, len);
        TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
        if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
            ENC_CODERANGE_CLEAR(str);
        }
        return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chr-instance_method">
  <h3 class='signature '>
    #<strong>chr</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string containing the first character of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;foo&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_chr'>chr</span>     <span class='comment'># =&gt; &quot;f&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6146-L6150'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6146' data-end='6150'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6146</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chr(VALUE str)
{
    return rb_str_substr(str, 0, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the contents of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;foo&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_clear'>clear</span>   <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6121-L6133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6121' data-end='6133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6121</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_clear(VALUE str)
{
    str_discard(str);
    STR_SET_EMBED(str);
    STR_SET_LEN(str, 0);
    RSTRING_PTR(str)[0] = 0;
    if (rb_enc_asciicompat(STR_ENC_GET(str)))
        ENC_CODERANGE_SET(str, ENC_CODERANGE_7BIT);
    else
        ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="codepoints-instance_method">
  <h3 class='signature '>
    #<strong>codepoints</strong>  &#x21d2; <code>array_of_integers</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the codepoints in <code>self</code>; each codepoint is the integer value for a character:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_codepoints'>codepoints</span>     <span class='comment'># =&gt; [104, 101, 108, 108, 111]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_codepoints'>codepoints</span>      <span class='comment'># =&gt; [1090, 1077, 1089, 1090]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_codepoints'>codepoints</span> <span class='comment'># =&gt; [12371, 12435, 12395, 12385, 12399]</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9425-L9430'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9425' data-end='9430'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9425</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_codepoints(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;codepoints&quot;, rb_str_strlen(str));
    return rb_str_enumerate_codepoints(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-instance_method">
  <h3 class='signature '>
    #<strong>concat</strong>(*objects)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenates each object in <code>objects</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;foobarbaz&quot;
</span><span class='id identifier rubyid_s'>s</span>                      <span class='comment'># =&gt; &quot;foobarbaz&quot;</span></code></pre>

<p>For each given object <code>object</code> that is an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, the value is considered a codepoint and converted to a character before concatenation:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='int'>32</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>32</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;foo bar baz&quot;</span></code></pre>

<p>Related: <a href="#<<-instance_method" title="String#&lt;&lt; (method)">#&lt;&lt;</a>, which takes a single argument.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3495-L3514'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3495' data-end='3514'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3495</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_concat_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
        return rb_str_concat(str, argv[0]);
    }
    else if (argc &gt; 1) {
        int i;
        VALUE arg_str = rb_str_tmp_new(0);
        rb_enc_copy(arg_str, str);
        for (i = 0; i &lt; argc; i++) {
            rb_str_concat(arg_str, argv[i]);
        }
        rb_str_buf_append(str, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    #<strong>count</strong>(*selectors)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the total number of characters in <code>self</code> that are specified by the given <code>selectors</code> (see <code>Multiple Character Selectors</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>o</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^l</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>                 <span class='comment'>#=&gt; 4
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello^world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\^aeiou</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello-world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\\-eo</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; 4
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world\\r\\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='tstring_end'>&quot;</span></span>                  <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-\\w</span><span class='tstring_end'>&quot;</span></span>                <span class='comment'>#=&gt; 3</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8636-L8703'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8636' data-end='8703'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8636</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_count(int argc, VALUE *argv, VALUE str)
{
    char table[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0, tstr;
    char *s, *send;
    int i;
    int ascompat;
    size_t n = 0;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);

    tstr = argv[0];
    StringValue(tstr);
    enc = rb_enc_check(str, tstr);
    if (argc == 1) {
        const char *ptstr;
        if (RSTRING_LEN(tstr) == 1 &amp;&amp; rb_enc_asciicompat(enc) &amp;&amp;
            (ptstr = RSTRING_PTR(tstr),
             ONIGENC_IS_ALLOWED_REVERSE_MATCH(enc, (const unsigned char *)ptstr, (const unsigned char *)ptstr+1)) &amp;&amp;
            !is_broken_string(str)) {
            int clen;
            unsigned char c = rb_enc_codepoint_len(ptstr, ptstr+1, &amp;clen, enc);

            s = RSTRING_PTR(str);
            if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
            send = RSTRING_END(str);
            while (s &lt; send) {
                if (*(unsigned char*)s++ == c) n++;
            }
            return SIZET2NUM(n);
        }
    }

    tr_setup_table(tstr, table, TRUE, &amp;del, &amp;nodel, enc);
    for (i=1; i&lt;argc; i++) {
        tstr = argv[i];
        StringValue(tstr);
        enc = rb_enc_check(str, tstr);
        tr_setup_table(tstr, table, FALSE, &amp;del, &amp;nodel, enc);
    }

    s = RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
    send = RSTRING_END(str);
    ascompat = rb_enc_asciicompat(enc);
    while (s &lt; send) {
        unsigned int c;

        if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
            if (table[c]) {
                n++;
            }
            s++;
        }
        else {
            int clen;
            c = rb_enc_codepoint_len(s, send, &amp;clen, enc);
            if (tr_find(c, table, del, nodel)) {
                n++;
            }
            s += clen;
        }
    }

    return SIZET2NUM(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="crypt-instance_method">
  <h3 class='signature '>
    #<strong>crypt</strong>(salt_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the string generated by calling <code>crypt(3)</code> standard library function with <code>str</code> and <code>salt_str</code>, in this order, as its arguments.  Please do not use this method any longer.  It is legacy; provided only for backward compatibility with ruby scripts in earlier days.  It is bad to use in contemporary programs for several reasons:</p>
<ul><li>
<p>Behaviour of C’s <code>crypt(3)</code> depends on the OS it is run.  The generated string lacks data portability.</p>
</li><li>
<p>On some OSes such as Mac OS, <code>crypt(3)</code> never fails (i.e. silently ends up in unexpected results).</p>
</li><li>
<p>On some OSes such as Mac OS, <code>crypt(3)</code> is not thread safe.</p>
</li><li>
<p>So-called “traditional” usage of <code>crypt(3)</code> is very very very weak.  According to its manpage, Linux’s traditional <code>crypt(3)</code> output has only 2**56 variations; too easy to brute force today.  And this is the default behaviour.</p>
</li><li>
<p>In order to make things robust some OSes implement so-called “modular” usage. To go through, you have to do a complex build-up of the <code>salt_str</code> parameter, by hand. Failure in generation of a proper salt string tends not to yield any errors; typos in parameters are normally not detectable.</p>
<ul><li>
<p>For instance, in the following example, the second invocation of String#crypt is wrong; it has a typo in “round=” (lacks “s”).  However the call does not fail and something unexpected is generated.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$rounds=1000$salt$</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># OK, proper usage
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$round=1000$salt$</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'># Typo not detected</span></code></pre>
</li></ul>
</li><li>
<p>Even in the “modular” mode, some hash functions are considered archaic and no longer recommended at all; for instance module <code>$1$</code> is officially abandoned by its author: see</p>
</li></ul>

<p><a href="http://phk.freebsd.dk/sagas/md5crypt_eol">phk.freebsd.dk/sagas/md5crypt_eol</a>/ .  For another</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_instance'>instance</span> <span class='kw'>module</span> <span class='op'>&lt;</span><span class='id identifier rubyid_code'>code</span><span class='op'>&gt;</span><span class='backref'>$3</span><span class='gvar'>$&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>code&gt; is considered completely
broken: see the manpage of FreeBSD.</span></code></pre>
<ul><li>
<p>On some OS such as Mac OS, there is no modular mode. Yet, as written above, <code>crypt(3)</code> on Mac OS never fails. This means even if you build up a proper salt string it generates a traditional DES hash anyways, and there is no way for you to be aware of.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$rounds=1000$salt$</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &quot;$5fNPQMxC5j6.&quot;</span></code></pre>
</li></ul>

<p>If for some reason you cannot migrate to other secure contemporary password hashing algorithms, install the string-crypt gem and <code>require &#39;string/crypt&#39;</code> to continue using it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10333-L10387'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10333' data-end='10387'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10333</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_crypt(VALUE str, VALUE salt)
{
#ifdef HAVE_CRYPT_R
    VALUE databuf;
    struct crypt_data *data;
#   define CRYPT_END() ALLOCV_END(databuf)
#else
    extern char *crypt(const char *, const char *);
#   define CRYPT_END() rb_nativethread_lock_unlock(&amp;crypt_mutex.lock)
#endif
    VALUE result;
    const char *s, *saltp;
    char *res;
#ifdef BROKEN_CRYPT
    char salt_8bit_clean[3];
#endif

    StringValue(salt);
    mustnot_wchar(str);
    mustnot_wchar(salt);
    s = StringValueCStr(str);
    saltp = RSTRING_PTR(salt);
    if (RSTRING_LEN(salt) &lt; 2 || !saltp[0] || !saltp[1]) {
        rb_raise(rb_eArgError, &quot;salt too short (need &gt;=2 bytes)&quot;);
    }

#ifdef BROKEN_CRYPT
    if (!ISASCII((unsigned char)saltp[0]) || !ISASCII((unsigned char)saltp[1])) {
        salt_8bit_clean[0] = saltp[0] &amp; 0x7f;
        salt_8bit_clean[1] = saltp[1] &amp; 0x7f;
        salt_8bit_clean[2] = &#39;\0&#39;;
        saltp = salt_8bit_clean;
    }
#endif
#ifdef HAVE_CRYPT_R
    data = ALLOCV(databuf, sizeof(struct crypt_data));
# ifdef HAVE_STRUCT_CRYPT_DATA_INITIALIZED
    data-&gt;initialized = 0;
# endif
    res = crypt_r(s, saltp, data);
#else
    crypt_mutex_initialize();
    rb_nativethread_lock_lock(&amp;crypt_mutex.lock);
    res = crypt(s, saltp);
#endif
    if (!res) {
        int err = errno;
        CRYPT_END();
        rb_syserr_fail(err, &quot;crypt&quot;);
    }
    result = rb_str_new_cstr(res);
    CRYPT_END();
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dedup-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>-</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>dedup</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#-@-instance_method" title="String#-@ (method)">#-@</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>(*selectors)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with characters specified by <code>selectors</code> removed (see <code>Multiple Character Selectors</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'>#=&gt; &quot;heo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>            <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^e</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;hell&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; &quot;ho&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8453-L8459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8453' data-end='8459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8453</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_delete_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete!-instance_method">
  <h3 class='signature '>
    #<strong>delete!</strong>(*selectors)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#delete-instance_method" title="String#delete (method)">#delete</a>, but modifies <code>self</code> in place. Returns <code>self</code> if any changes were made, <code>nil</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8377-L8436'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8377' data-end='8436'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8377</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    char *s, *send, *t;
    VALUE del = 0, nodel = 0;
    int modify = 0;
    int i, ascompat, cr;

    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i=0; i&lt;argc; i++) {
        VALUE s = argv[i];

        StringValue(s);
        enc = rb_enc_check(str, s);
        tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
    }

    str_modify_keep_cr(str);
    ascompat = rb_enc_asciicompat(enc);
    s = t = RSTRING_PTR(str);
    send = RSTRING_END(str);
    cr = ascompat ? ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
    while (s &lt; send) {
        unsigned int c;
        int clen;

        if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
            if (squeez[c]) {
                modify = 1;
            }
            else {
                if (t != s) *t = c;
                t++;
            }
            s++;
        }
        else {
            c = rb_enc_codepoint_len(s, send, &amp;clen, enc);

            if (tr_find(c, squeez, del, nodel)) {
                modify = 1;
            }
            else {
                if (t != s) rb_enc_mbcput(c, t, enc);
                t += clen;
                if (cr == ENC_CODERANGE_7BIT) cr = ENC_CODERANGE_VALID;
            }
            s += clen;
        }
    }
    TERM_FILL(t, TERM_LEN(str));
    STR_SET_LEN(str, t - RSTRING_PTR(str));
    ENC_CODERANGE_SET(str, cr);

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_prefix-instance_method">
  <h3 class='signature '>
    #<strong>delete_prefix</strong>(prefix)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with leading substring <code>prefix</code> removed:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;lo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>те</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; &quot;ст&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こん</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;にちは&quot;</span></code></pre>

<p>Related: <a href="#delete_prefix!-instance_method" title="String#delete_prefix! (method)">#delete_prefix!</a>, <a href="#delete_suffix-instance_method" title="String#delete_suffix (method)">#delete_suffix</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10838-L10847'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10838' data-end='10847'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10838</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_prefix(VALUE str, VALUE prefix)
{
    long prefixlen;

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return str_duplicate(rb_cString, str);

    return rb_str_subseq(str, prefixlen, RSTRING_LEN(str) - prefixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_prefix!-instance_method">
  <h3 class='signature '>
    #<strong>delete_prefix!</strong>(prefix)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#delete_prefix-instance_method" title="String#delete_prefix (method)">#delete_prefix</a>, except that <code>self</code> is modified in place. Returns <code>self</code> if the prefix is removed, <code>nil</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10818-L10828'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10818' data-end='10828'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10818</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_prefix_bang(VALUE str, VALUE prefix)
{
    long prefixlen;
    str_modify_keep_cr(str);

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return Qnil;

    return rb_str_drop_bytes(str, prefixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_suffix-instance_method">
  <h3 class='signature '>
    #<strong>delete_suffix</strong>(suffix)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with trailing substring <code>suffix</code> removed:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ст</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; &quot;те&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ちは</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;こんに&quot;</span></code></pre>

<p>Related: <a href="#delete_suffix!-instance_method" title="String#delete_suffix! (method)">#delete_suffix!</a>, <a href="#delete_prefix-instance_method" title="String#delete_prefix (method)">#delete_prefix</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10921-L10930'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10921' data-end='10930'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10921</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_suffix(VALUE str, VALUE suffix)
{
    long suffixlen;

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return str_duplicate(rb_cString, str);

    return rb_str_subseq(str, 0, RSTRING_LEN(str) - suffixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_suffix!-instance_method">
  <h3 class='signature '>
    #<strong>delete_suffix!</strong>(suffix)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#delete_suffix-instance_method" title="String#delete_suffix (method)">#delete_suffix</a>, except that <code>self</code> is modified in place. Returns <code>self</code> if the suffix is removed, <code>nil</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10893-L10911'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10893' data-end='10911'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10893</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_suffix_bang(VALUE str, VALUE suffix)
{
    long olen, suffixlen, len;
    str_modifiable(str);

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return Qnil;

    olen = RSTRING_LEN(str);
    str_modify_keep_cr(str);
    len = olen - suffixlen;
    STR_SET_LEN(str, len);
    TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
    if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
        ENC_CODERANGE_CLEAR(str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase-instance_method">
  <h3 class='signature '>
    #<strong>downcase</strong>(*options)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string containing the downcased characters in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase'>downcase</span>         <span class='comment'># =&gt; &quot;hello world!&quot;</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#downcase!-instance_method" title="String#downcase! (method)">#downcase!</a>, <a href="#upcase-instance_method" title="String#upcase (method)">#upcase</a>, <a href="#upcase!-instance_method" title="String#upcase! (method)">#upcase!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7707-L7730'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7707' data-end='7730'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7707</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        ret = rb_str_new(RSTRING_PTR(str), RSTRING_LEN(str));
        str_enc_copy_direct(ret, str);
        downcase_single(ret);
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }

    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase!-instance_method">
  <h3 class='signature '>
    #<strong>downcase!</strong>(*options)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Downcases the characters in <code>self</code>; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase!'>downcase!</span>        <span class='comment'># =&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;hello world!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_downcase!'>downcase!</span>        <span class='comment'># =&gt; nil</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a>, <a href="#upcase-instance_method" title="String#upcase (method)">#upcase</a>, <a href="#upcase!-instance_method" title="String#upcase! (method)">#upcase!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7668-L7688'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7668' data-end='7688'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7668</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        if (downcase_single(str))
            flags |= ONIGENC_CASE_MODIFIED;
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-instance_method">
  <h3 class='signature '>
    #<strong>dump</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a printable version of <code>self</code>, enclosed in double-quotes, with special characters escaped, and with non-printing characters replaced by hexadecimal notation:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello \n &#39;&#39;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dump'>dump</span>    <span class='comment'># =&gt; &quot;\&quot;hello \\n &#39;&#39;\&quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\f\x00\xff\\\&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dump'>dump</span> <span class='comment'># =&gt; &quot;\&quot;\\f\\x00\\xFF\\\\\\\&quot;\&quot;&quot;</span></code></pre>

<p>Related: <a href="#undump-instance_method" title="String#undump (method)">#undump</a> (inverse of <code>dump</code>).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6932-L7077'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6932' data-end='7077'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6932</span></pre>
<pre class='code cpp'>

VALUE
rb_str_dump(VALUE str)
{
    int encidx = rb_enc_get_index(str);
    rb_encoding *enc = rb_enc_from_index(encidx);
    long len;
    const char *p, *pend;
    char *q, *qend;
    VALUE result;
    int u8 = (encidx == rb_utf8_encindex());
    static const char nonascii_suffix[] = &quot;.dup.force_encoding(\&quot;%s\&quot;)&quot;;

    len = 2;			/* &quot;&quot; */
    if (!rb_enc_asciicompat(enc)) {
        len += strlen(nonascii_suffix) - rb_strlen_lit(&quot;%s&quot;);
        len += strlen(enc-&gt;name);
    }

    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    while (p &lt; pend) {
        int clen;
        unsigned char c = *p++;

        switch (c) {
          case &#39;&quot;&#39;:  case &#39;\\&#39;:
          case &#39;\n&#39;: case &#39;\r&#39;:
          case &#39;\t&#39;: case &#39;\f&#39;:
          case &#39;\013&#39;: case &#39;\010&#39;: case &#39;\007&#39;: case &#39;\033&#39;:
            clen = 2;
            break;

          case &#39;#&#39;:
            clen = IS_EVSTR(p, pend) ? 2 : 1;
            break;

          default:
            if (ISPRINT(c)) {
                clen = 1;
            }
            else {
                if (u8 &amp;&amp; c &gt; 0x7F) {	/* \u notation */
                    int n = rb_enc_precise_mbclen(p-1, pend, enc);
                    if (MBCLEN_CHARFOUND_P(n)) {
                        unsigned int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
                        if (cc &lt;= 0xFFFF)
                            clen = 6;  /* \uXXXX */
                        else if (cc &lt;= 0xFFFFF)
                            clen = 9;  /* \u{XXXXX} */
                        else
                            clen = 10; /* \u{XXXXXX} */
                        p += MBCLEN_CHARFOUND_LEN(n)-1;
                        break;
                    }
                }
                clen = 4;	/* \xNN */
            }
            break;
        }

        if (clen &gt; LONG_MAX - len) {
            rb_raise(rb_eRuntimeError, &quot;string size too big&quot;);
        }
        len += clen;
    }

    result = rb_str_new(0, len);
    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    q = RSTRING_PTR(result); qend = q + len + 1;

    *q++ = &#39;&quot;&#39;;
    while (p &lt; pend) {
        unsigned char c = *p++;

        if (c == &#39;&quot;&#39; || c == &#39;\\&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = c;
        }
        else if (c == &#39;#&#39;) {
            if (IS_EVSTR(p, pend)) *q++ = &#39;\\&#39;;
            *q++ = &#39;#&#39;;
        }
        else if (c == &#39;\n&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;n&#39;;
        }
        else if (c == &#39;\r&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;r&#39;;
        }
        else if (c == &#39;\t&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;t&#39;;
        }
        else if (c == &#39;\f&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;f&#39;;
        }
        else if (c == &#39;\013&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;v&#39;;
        }
        else if (c == &#39;\010&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;b&#39;;
        }
        else if (c == &#39;\007&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;a&#39;;
        }
        else if (c == &#39;\033&#39;) {
            *q++ = &#39;\\&#39;;
            *q++ = &#39;e&#39;;
        }
        else if (ISPRINT(c)) {
            *q++ = c;
        }
        else {
            *q++ = &#39;\\&#39;;
            if (u8) {
                int n = rb_enc_precise_mbclen(p-1, pend, enc) - 1;
                if (MBCLEN_CHARFOUND_P(n)) {
                    int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
                    p += n;
                    if (cc &lt;= 0xFFFF)
                        snprintf(q, qend-q, &quot;u%04X&quot;, cc);    /* \uXXXX */
                    else
                        snprintf(q, qend-q, &quot;u{%X}&quot;, cc);  /* \u{XXXXX} or \u{XXXXXX} */
                    q += strlen(q);
                    continue;
                }
            }
            snprintf(q, qend-q, &quot;x%02X&quot;, c);
            q += 3;
        }
    }
    *q++ = &#39;&quot;&#39;;
    *q = &#39;\0&#39;;
    if (!rb_enc_asciicompat(enc)) {
        snprintf(q, qend-q, nonascii_suffix, enc-&gt;name);
        encidx = rb_ascii8bit_encindex();
    }
    /* result from dump is ASCII */
    rb_enc_associate_index(result, encidx);
    ENC_CODERANGE_SET(result, ENC_CODERANGE_7BIT);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dup-instance_method">
  <h3 class='signature nodoc'>
    #<strong>dup</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L1807-L1816'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1807' data-end='1816'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1807</span></pre>
<pre class='code cpp'>

VALUE
rb_str_dup_m(VALUE str)
{
    if (LIKELY(BARE_STRING_P(str))) {
        return str_duplicate(rb_obj_class(str), str);
    }
    else {
        return rb_obj_dup(str);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_byte-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_byte</strong> {|byte| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_byte</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each successive byte from <code>self</code>; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_byte'>each_byte</span> {<span class='op'>|</span><span class='id identifier rubyid_byte'>byte</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_byte'>byte</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_byte'>each_byte</span> {<span class='op'>|</span><span class='id identifier rubyid_byte'>byte</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_byte'>byte</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_byte'>each_byte</span> {<span class='op'>|</span><span class='id identifier rubyid_byte'>byte</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_byte'>byte</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>104</span> <span class='int'>101</span> <span class='int'>108</span> <span class='int'>108</span> <span class='int'>111</span>
<span class='int'>209</span> <span class='int'>130</span> <span class='int'>208</span> <span class='int'>181</span> <span class='int'>209</span> <span class='int'>129</span> <span class='int'>209</span> <span class='int'>130</span>
<span class='int'>227</span> <span class='int'>129</span> <span class='int'>147</span> <span class='int'>227</span> <span class='int'>130</span> <span class='int'>147</span> <span class='int'>227</span> <span class='int'>129</span> <span class='int'>171</span> <span class='int'>227</span> <span class='int'>129</span> <span class='int'>161</span> <span class='int'>227</span> <span class='int'>129</span> <span class='int'>175</span></code></pre>

<p>Returns an enumerator if no block is given.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9281-L9286'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9281' data-end='9286'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9281</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_byte(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_byte_size);
    return rb_str_enumerate_bytes(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_char-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_char</strong> {|c| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_char</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each successive character from <code>self</code>; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_char'>each_char</span> {<span class='op'>|</span><span class='id identifier rubyid_char'>char</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_char'>char</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_char'>each_char</span> {<span class='op'>|</span><span class='id identifier rubyid_char'>char</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_char'>char</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_char'>each_char</span> {<span class='op'>|</span><span class='id identifier rubyid_char'>char</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_char'>char</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='id identifier rubyid_e'>e</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_o'>o</span>
<span class='id identifier rubyid_т'>т</span> <span class='id identifier rubyid_е'>е</span> <span class='id identifier rubyid_с'>с</span> <span class='id identifier rubyid_т'>т</span>
<span class='id identifier rubyid_こ'>こ</span> <span class='id identifier rubyid_ん'>ん</span> <span class='id identifier rubyid_に'>に</span> <span class='id identifier rubyid_ち'>ち</span> <span class='id identifier rubyid_は'>は</span></code></pre>

<p>Returns an enumerator if no block is given.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9350-L9355'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9350' data-end='9355'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9350</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_char(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_chars(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_codepoint-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_codepoint</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each successive codepoint from <code>self</code>; each codepoint is the integer value for a character; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_codepoint'>each_codepoint</span> {<span class='op'>|</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_codepoint'>codepoint</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_codepoint'>each_codepoint</span> {<span class='op'>|</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_codepoint'>codepoint</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_each_codepoint'>each_codepoint</span> {<span class='op'>|</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_codepoint'>codepoint</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>104</span> <span class='int'>101</span> <span class='int'>108</span> <span class='int'>108</span> <span class='int'>111</span>
<span class='int'>1090</span> <span class='int'>1077</span> <span class='int'>1089</span> <span class='int'>1090</span>
<span class='int'>12371</span> <span class='int'>12435</span> <span class='int'>12395</span> <span class='int'>12385</span> <span class='int'>12399</span></code></pre>

<p>Returns an enumerator if no block is given.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9410-L9415'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9410' data-end='9415'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9410</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_codepoint(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_codepoints(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_grapheme_cluster-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_grapheme_cluster</strong> {|gc| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_grapheme_cluster</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each successive grapheme cluster from <code>self</code> (see <a href="https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries" target="_parent" title="Unicode Grapheme Cluster Boundaries">Unicode Grapheme Cluster Boundaries</a>); returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u0061\u0308-pqr-\u0062\u0308-xyz-\u0063\u0308</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;ä-pqr-b̈-xyz-c̈&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_each_grapheme_cluster'>each_grapheme_cluster</span> {<span class='op'>|</span><span class='id identifier rubyid_gc'>gc</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_gc'>gc</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ä'>ä</span> <span class='op'>-</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_q'>q</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>-</span> <span class='id identifier rubyid_b̈'>b̈</span> <span class='op'>-</span> <span class='id identifier rubyid_x'>x</span> <span class='id identifier rubyid_y'>y</span> <span class='id identifier rubyid_z'>z</span> <span class='op'>-</span> <span class='id identifier rubyid_c̈'>c̈</span></code></pre>

<p>Returns an enumerator if no block is given.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9580-L9585'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9580' data-end='9585'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9580</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_grapheme_cluster(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_grapheme_cluster_size);
    return rb_str_enumerate_grapheme_clusters(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_line-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_line</strong>(line_sep = $/, chomp: false) {|substring| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_line</strong>(line_sep = $/, chomp: false)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, forms the substrings (“lines”) that are the result of splitting <code>self</code> at each occurrence of the given line separator <code>line_sep</code>; passes each line to the block; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOT</span>
<span class='tstring_content'>This is the first line.
This is line two.

This is line four.
This is line five.
</span><span class='heredoc_end'>EOT
</span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_each_line'>each_line</span> {<span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is the first line.\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line two.\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line four.\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line five.\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>With a different <code>line_sep</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> is </span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is </span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the first line.\nThis is </span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>line two.\n\nThis is </span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>line four.\nThis is </span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>line five.\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>With <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> as <code>true</code>, removes the trailing <code>line_sep</code> from each line:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='label'>chomp:</span> <span class='kw'>true</span>) {<span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is the first line.</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line two.</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line four.</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line five.</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>With an empty string as <code>line_sep</code>, forms and passes “paragraphs” by splitting at each occurrence of two or more newlines:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is the first line.\nThis is line two.\n\n</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is line four.\nThis is line five.\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>With no block given, returns an enumerator.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9229-L9234'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9229' data-end='9234'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9229</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_line(int argc, VALUE *argv, VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, argc, argv, 0);
    return rb_str_enumerate_lines(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode</strong>(dst_encoding = Encoding.default_internal, **enc_opts)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode</strong>(dst_encoding, src_encoding, **enc_opts)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> transcoded as determined by <code>dst_encoding</code>. By default, raises an exception if <code>self</code> contains an invalid byte or a character not defined in <code>dst_encoding</code>; that behavior may be modified by encoding options; see below.</p>

<p>With no arguments:</p>
<ul><li>
<p>Uses the same encoding if <a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">Encoding.default_internal</a> is <code>nil</code> (the default):</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Encoding.html" title="Encoding (class)">Encoding</a></span>.<span class='id identifier rubyid_default_internal'><a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">default_internal</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby\x99</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Windows-1252</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                <span class='comment'># =&gt; #&lt;Encoding:Windows-1252&gt;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>                   <span class='comment'># =&gt; [82, 117, 98, 121, 153]
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encode'>encode</span>              <span class='comment'># =&gt; &quot;Ruby\x99&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                <span class='comment'># =&gt; #&lt;Encoding:Windows-1252&gt;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>                   <span class='comment'># =&gt; [82, 117, 98, 121, 226, 132, 162]</span></code></pre>
</li><li>
<p>Otherwise, uses the encoding <a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">Encoding.default_internal</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Encoding.html" title="Encoding (class)">Encoding</a></span>.<span class='id identifier rubyid_default_internal'><a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">default_internal</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encode'>encode</span>              <span class='comment'># =&gt; &quot;Ruby™&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>
</li></ul>

<p>With only argument <code>dst_encoding</code> given, uses that encoding:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby\x99</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Windows-1252</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>            <span class='comment'># =&gt; #&lt;Encoding:Windows-1252&gt;
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;Ruby™&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>            <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>

<p>With arguments <code>dst_encoding</code> and <code>src_encoding</code> given, interprets <code>self</code> using <code>src_encoding</code>, encodes the new string using <code>dst_encoding</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby\x99</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Windows-1252</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;Ruby™&quot;
</span><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                            <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>

<p>Optional keyword arguments <code>enc_opts</code> specify encoding options; see <code>{Encoding</code> Options}.</p>

<p>Please note that, unless <code>invalid: :replace</code> option is given, conversion from an encoding <code>enc</code> to the same encoding <code>enc</code> (independent of whether <code>enc</code> is given explicitly or implicitly) is a no-op, i.e. the string is simply copied without any changes, and no exceptions are raised, even if there are invalid bytes.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/transcode.c#L2905-L2911'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2905' data-end='2911'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2905</span></pre>
<pre class='code cpp'>

static VALUE
str_encode(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr = str;
    int encidx = str_transcode(argc, argv, &amp;newstr);
    return encoded_dup(newstr, str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode!</strong>(dst_encoding = Encoding.default_internal, **enc_opts)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>encode!</strong>(dst_encoding, src_encoding, **enc_opts)  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#encode-instance_method" title="String#encode (method)">#encode</a>, but applies encoding changes to <code>self</code>; returns <code>self</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/transcode.c#L2874-L2892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2874' data-end='2892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2874</span></pre>
<pre class='code cpp'>

static VALUE
str_encode_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr;
    int encidx;

    rb_check_frozen(str);

    newstr = str;
    encidx = str_transcode(argc, argv, &amp;newstr);

    if (encidx &lt; 0) return str;
    if (newstr == str) {
        rb_enc_associate_index(str, encidx);
        return str;
    }
    rb_str_shared_replace(str, newstr);
    return str_encode_associate(str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encoding-instance_method">
  <h3 class='signature '>
    #<strong>encoding</strong>  &#x21d2; <a href="Encoding.html" title="Encoding (class)">Encoding</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="end_with?-instance_method">
  <h3 class='signature '>
    #<strong>end_with?</strong>(*strings)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <code>self</code> ends with any of the given <code>strings</code>.</p>

<p>Returns <code>true</code> if any given string matches the end, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&#39;</span></span>)               <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>т</span><span class='tstring_end'>&#39;</span></span>)                   <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>は</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; true</span></code></pre>

<p>Related: <a href="#start_with%3F-instance_method" title="String#start_with? (method)">#start_with?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10734-L10758'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10734' data-end='10758'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10734</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_end_with(int argc, VALUE *argv, VALUE str)
{
    int i;

    for (i=0; i&lt;argc; i++) {
        VALUE tmp = argv[i];
        const char *p, *s, *e;
        long slen, tlen;
        rb_encoding *enc;

        StringValue(tmp);
        enc = rb_enc_check(str, tmp);
        if ((tlen = RSTRING_LEN(tmp)) == 0) return Qtrue;
        if ((slen = RSTRING_LEN(str)) &lt; tlen) continue;
        p = RSTRING_PTR(str);
        e = p + slen;
        s = e - tlen;
        if (!at_char_boundary(p, s, e, enc))
            continue;
        if (memcmp(s, RSTRING_PTR(tmp), tlen) == 0)
            return Qtrue;
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>Returns <code>false</code> if the two strings’ encodings are not compatible:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{e4 f6 fc}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'><a href="#encode-instance_method" title="String#encode (method)">encode</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{c4 d6 dc}</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3796-L3802'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3796' data-end='3802'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3796</span></pre>
<pre class='code cpp'>

VALUE
rb_str_eql(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) return Qfalse;
    return rb_str_eql_internal(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="force_encoding-instance_method">
  <h3 class='signature '>
    #<strong>force_encoding</strong>(encoding)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Changes the encoding of <code>self</code> to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>, which may be a string encoding name or an <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> object; returns self:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>łał</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>                   <span class='comment'># =&gt; [197, 130, 97, 197, 130]
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ascii</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xC5\x82a\xC5\x82&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span>                <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;</span></code></pre>

<p>Does not change the underlying bytes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>                   <span class='comment'># =&gt; [197, 130, 97, 197, 130]</span></code></pre>

<p>Makes the change even if the given <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> is invalid for <code>self</code> (as is the change above):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_valid_encoding?'><a href="#valid_encoding%3F-instance_method" title="String#valid_encoding? (method)">valid_encoding?</a></span>                 <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='const'><a href="Encoding.html" title="Encoding (class)">Encoding</a></span><span class='op'>::</span><span class='const'>UTF_8</span>) <span class='comment'># =&gt; &quot;łał&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_valid_encoding?'><a href="#valid_encoding%3F-instance_method" title="String#valid_encoding? (method)">valid_encoding?</a></span>                 <span class='comment'># =&gt; true</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10965-L10988'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10965' data-end='10988'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10965</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_force_encoding(VALUE str, VALUE enc)
{
    str_modifiable(str);

    rb_encoding *encoding = rb_to_encoding(enc);
    int idx = rb_enc_to_index(encoding);

    // If the encoding is unchanged, we do nothing.
    if (ENCODING_GET(str) == idx) {
        return str;
    }

    rb_enc_associate_index(str, idx);

    // If the coderange was 7bit and the new encoding is ASCII-compatible
    // we can keep the coderange.
    if (ENC_CODERANGE(str) == ENC_CODERANGE_7BIT &amp;&amp; encoding &amp;&amp; rb_enc_asciicompat(encoding)) {
        return str;
    }

    ENC_CODERANGE_CLEAR(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="freeze-instance_method">
  <h3 class='signature nodoc'>
    #<strong>freeze</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3030-L3040'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3030' data-end='3040'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3030</span></pre>
<pre class='code cpp'>

VALUE
rb_str_freeze(VALUE str)
{
    if (CHILLED_STRING_P(str)) {
        FL_UNSET_RAW(str, STR_CHILLED);
    }

    if (OBJ_FROZEN(str)) return str;
    rb_str_resize(str, RSTRING_LEN(str));
    return rb_obj_freeze(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getbyte-instance_method">
  <h3 class='signature '>
    #<strong>getbyte</strong>(index)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the byte at zero-based <a href="#index-instance_method" title="String#index (method)">#index</a> as an integer, or <code>nil</code> if <a href="#index-instance_method" title="String#index (method)">#index</a> is out of range:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># =&gt; &quot;abcde&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_getbyte'>getbyte</span>(<span class='int'>0</span>)  <span class='comment'># =&gt; 97
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_getbyte'>getbyte</span>(<span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 101
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_getbyte'>getbyte</span>(<span class='int'>5</span>)  <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: <a href="#setbyte-instance_method" title="String#setbyte (method)">#setbyte</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6165-L6176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6165' data-end='6176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6165</span></pre>
<pre class='code cpp'>

VALUE
rb_str_getbyte(VALUE str, VALUE index)
{
    long pos = NUM2LONG(index);

    if (pos &lt; 0)
        pos += RSTRING_LEN(str);
    if (pos &lt; 0 ||  RSTRING_LEN(str) &lt;= pos)
        return Qnil;

    return INT2FIX((unsigned char)RSTRING_PTR(str)[pos]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grapheme_clusters-instance_method">
  <h3 class='signature '>
    #<strong>grapheme_clusters</strong>  &#x21d2; <code>array_of_grapheme_clusters</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the grapheme clusters in <code>self</code> (see <a href="https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries" target="_parent" title="Unicode Grapheme Cluster Boundaries">Unicode Grapheme Cluster Boundaries</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u0061\u0308-pqr-\u0062\u0308-xyz-\u0063\u0308</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; &quot;ä-pqr-b̈-xyz-c̈&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_grapheme_clusters'>grapheme_clusters</span>
<span class='comment'># =&gt; [&quot;ä&quot;, &quot;-&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;-&quot;, &quot;b̈&quot;, &quot;-&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;, &quot;-&quot;, &quot;c̈&quot;]</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9595-L9600'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9595' data-end='9600'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9595</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_grapheme_clusters(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;grapheme_clusters&quot;, rb_str_strlen(str));
    return rb_str_enumerate_grapheme_clusters(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with all occurrences of the given <code>pattern</code> replaced.</p>

<p>See <code>Substitution Methods</code>.</p>

<p>Returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> if no <code>replacement</code> and no block given.</p>

<p>Related: <a href="#sub-instance_method" title="String#sub (method)">#sub</a>, <a href="#sub!-instance_method" title="String#sub! (method)">#sub!</a>, <a href="#gsub!-instance_method" title="String#gsub! (method)">#gsub!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6081-L6085'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6081' data-end='6085'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6081</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub(int argc, VALUE *argv, VALUE str)
{
    return str_gsub(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern) {|match| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the specified substring replacement(s) on <code>self</code>; returns <code>self</code> if any replacement occurred, <code>nil</code> otherwise.</p>

<p>See <code>Substitution Methods</code>.</p>

<p>Returns an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> if no <code>replacement</code> and no block given.</p>

<p>Related: <a href="#sub-instance_method" title="String#sub (method)">#sub</a>, <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a>, <a href="#sub!-instance_method" title="String#sub! (method)">#sub!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6057-L6062'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6057' data-end='6062'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6057</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub_bang(int argc, VALUE *argv, VALUE str)
{
    str_modify_keep_cr(str);
    return str_gsub(argc, argv, str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer hash value for <code>self</code>. The value is based on the length, content and encoding of <code>self</code>.</p>

<p>Related: <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3685-L3690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3685' data-end='3690'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3685</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hash_m(VALUE str)
{
    st_index_t hval = rb_str_hash(str);
    return ST2FIX(hval);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hex-instance_method">
  <h3 class='signature '>
    #<strong>hex</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Interprets the leading substring of <code>self</code> as a string of hexadecimal digits (with an optional sign and an optional <code>0x</code>) and returns the corresponding number; returns zero if there is no such leading substring:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0x0a</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_hex'>hex</span>        <span class='comment'># =&gt; 10
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-1234</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_hex'>hex</span>       <span class='comment'># =&gt; -4660
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_hex'>hex</span>           <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>non-numeric</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_hex'>hex</span> <span class='comment'># =&gt; 0</span></code></pre>

<p>Related: <a href="#oct-instance_method" title="String#oct (method)">#oct</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10226-L10230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10226' data-end='10230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10226</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hex(VALUE str)
{
    return rb_str_to_inum(str, 16, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(other_string)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> contains <code>other_string</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fo</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6589-L6598'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6589' data-end='6598'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6589</span></pre>
<pre class='code cpp'>

VALUE
rb_str_include(VALUE str, VALUE arg)
{
    long i;

    StringValue(arg);
    i = rb_str_index(str, arg, 0);

    return RBOOL(i != -1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>index</strong>(substring, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong>(regexp, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer index of the first match for the given argument, or <code>nil</code> if none found; the search of <code>self</code> is forward, and begins at position <code>offset</code> (in characters).</p>

<p>With string argument <code>substring</code>, returns the index of the first matching substring in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>с</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ち</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; 3</span></code></pre>

<p>With Regexp argument <code>regexp</code>, returns the index of the first match in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o.</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0</span></code></pre>

<p>With positive integer <code>offset</code>, begins the search at position <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>)        <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)        <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>)        <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>с</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>)       <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ち</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)  <span class='comment'># =&gt; 3</span></code></pre>

<p>With negative integer <code>offset</code>, selects the search position by counting backward from the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>)  <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>)  <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>)  <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>)  <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o.</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.o</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1</span></code></pre>

<p>Related: <a href="#rindex-instance_method" title="String#rindex (method)">#rindex</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4057-L4099'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4057' data-end='4099'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4057</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_index_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    rb_encoding *enc = STR_ENC_GET(str);
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
        long slen = str_strlen(str, enc); /* str&#39;s enc */
        pos = NUM2LONG(initpos);
        if (pos &lt; 0 ? (pos += slen) &lt; 0 : pos &gt; slen) {
            if (RB_TYPE_P(sub, T_REGEXP)) {
                rb_backref_set(Qnil);
            }
            return Qnil;
        }
    }
    else {
        pos = 0;
    }

    if (RB_TYPE_P(sub, T_REGEXP)) {
        pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
                         enc, single_byte_optimizable(str));

        if (rb_reg_search(sub, str, pos, 0) &gt;= 0) {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = rb_str_sublen(str, BEG(0));
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
        pos = rb_str_index(str, sub, pos);
        if (pos &gt;= 0) {
            pos = rb_str_sublen(str, pos);
            return LONG2NUM(pos);
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_string)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_string)  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="insert-instance_method">
  <h3 class='signature '>
    #<strong>insert</strong>(index, other_string)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Inserts the given <code>other_string</code> into <code>self</code>; returns <code>self</code>.</p>

<p>If the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> <a href="#index-instance_method" title="String#index (method)">#index</a> is positive, inserts <code>other_string</code> at offset <a href="#index-instance_method" title="String#index (method)">#index</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fbaroo&quot;</span></code></pre>

<p>If the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> <a href="#index-instance_method" title="String#index (method)">#index</a> is negative, counts backward from the end of <code>self</code> and inserts <code>other_string</code> at offset <a href="#index-instance_method" title="String#index (method)">#index</a>1&lt;/tt&gt; (that is, <em>after</em> <code>self[index]</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fobaro&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5574-L5587'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5574' data-end='5587'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5574</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_insert(VALUE str, VALUE idx, VALUE str2)
{
    long pos = NUM2LONG(idx);

    if (pos == -1) {
        return rb_str_append(str, str2);
    }
    else if (pos &lt; 0) {
        pos++;
    }
    rb_str_update(str, pos, 0, str2);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a printable version of <code>self</code>, enclosed in double-quotes, and with special characters escaped:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\tbar\tbaz\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_inspect'>inspect</span>
<span class='comment'># =&gt; &quot;\&quot;foo\\tbar\\tbaz\\n\&quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6818-L6913'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6818' data-end='6913'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6818</span></pre>
<pre class='code cpp'>

VALUE
rb_str_inspect(VALUE str)
{
    int encidx = ENCODING_GET(str);
    rb_encoding *enc = rb_enc_from_index(encidx);
    const char *p, *pend, *prev;
    char buf[CHAR_ESC_LEN + 1];
    VALUE result = rb_str_buf_new(0);
    rb_encoding *resenc = rb_default_internal_encoding();
    int unicode_p = rb_enc_unicode_p(enc);
    int asciicompat = rb_enc_asciicompat(enc);

    if (resenc == NULL) resenc = rb_default_external_encoding();
    if (!rb_enc_asciicompat(resenc)) resenc = rb_usascii_encoding();
    rb_enc_associate(result, resenc);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    p = RSTRING_PTR(str); pend = RSTRING_END(str);
    prev = p;
    while (p &lt; pend) {
        unsigned int c, cc;
        int n;

        n = rb_enc_precise_mbclen(p, pend, enc);
        if (!MBCLEN_CHARFOUND_P(n)) {
            if (p &gt; prev) str_buf_cat(result, prev, p - prev);
            n = rb_enc_mbminlen(enc);
            if (pend &lt; p + n)
                n = (int)(pend - p);
            while (n--) {
                snprintf(buf, CHAR_ESC_LEN, &quot;\\x%02X&quot;, *p &amp; 0377);
                str_buf_cat(result, buf, strlen(buf));
                prev = ++p;
            }
            continue;
        }
        n = MBCLEN_CHARFOUND_LEN(n);
        c = rb_enc_mbc_to_codepoint(p, pend, enc);
        p += n;
        if ((asciicompat || unicode_p) &amp;&amp;
          (c == &#39;&quot;&#39;|| c == &#39;\\&#39; ||
            (c == &#39;#&#39; &amp;&amp;
             p &lt; pend &amp;&amp;
             MBCLEN_CHARFOUND_P(rb_enc_precise_mbclen(p,pend,enc)) &amp;&amp;
             (cc = rb_enc_codepoint(p,pend,enc),
              (cc == &#39;$&#39; || cc == &#39;@&#39; || cc == &#39;{&#39;))))) {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            str_buf_cat2(result, &quot;\\&quot;);
            if (asciicompat || enc == resenc) {
                prev = p - n;
                continue;
            }
        }
        switch (c) {
          case &#39;\n&#39;: cc = &#39;n&#39;; break;
          case &#39;\r&#39;: cc = &#39;r&#39;; break;
          case &#39;\t&#39;: cc = &#39;t&#39;; break;
          case &#39;\f&#39;: cc = &#39;f&#39;; break;
          case &#39;\013&#39;: cc = &#39;v&#39;; break;
          case &#39;\010&#39;: cc = &#39;b&#39;; break;
          case &#39;\007&#39;: cc = &#39;a&#39;; break;
          case 033: cc = &#39;e&#39;; break;
          default: cc = 0; break;
        }
        if (cc) {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            buf[0] = &#39;\\&#39;;
            buf[1] = (char)cc;
            str_buf_cat(result, buf, 2);
            prev = p;
            continue;
        }
        /* The special casing of 0x85 (NEXT_LINE) here is because
         * Oniguruma historically treats it as printable, but it
         * doesn&#39;t match the print POSIX bracket class or character
         * property in regexps.
         *
         * See Ruby Bug #16842 for details:
         * https://bugs.ruby-lang.org/issues/16842
         */
        if ((enc == resenc &amp;&amp; rb_enc_isprint(c, enc) &amp;&amp; c != 0x85) ||
            (asciicompat &amp;&amp; rb_enc_isascii(c, enc) &amp;&amp; ISPRINT(c))) {
            continue;
        }
        else {
            if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
            rb_str_buf_cat_escaped_char(result, c, unicode_p);
            prev = p;
            continue;
        }
    }
    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="intern-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#to_sym</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> corresponding to <em>str</em>, creating the symbol if it did not previously exist. See <a href="Symbol.html#id2name-instance_method" title="Symbol#id2name (method)">Symbol#id2name</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Koala</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_intern'>intern</span>         <span class='comment'>#=&gt; :Koala
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>       <span class='comment'>#=&gt; :cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cat'>cat</span>              <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@cat</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>      <span class='comment'>#=&gt; :@cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='ivar'>@cat</span>             <span class='comment'>#=&gt; true</span></code></pre>

<p>This can also be used to create symbols that cannot be represented using the <code>:xxx</code> notation.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat and dog</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>   <span class='comment'>#=&gt; :&quot;cat and dog&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/symbol.c#L861-L898'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='861' data-end='898'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'symbol.c', line 861</span></pre>
<pre class='code cpp'>

VALUE
rb_str_intern(VALUE str)
{
    VALUE sym;

    GLOBAL_SYMBOLS_ENTER(symbols);
    {
        sym = lookup_str_sym_with_lock(symbols, str);

        if (sym) {
            // ok
        }
        else if (USE_SYMBOL_GC) {
            rb_encoding *enc = rb_enc_get(str);
            rb_encoding *ascii = rb_usascii_encoding();
            if (enc != ascii &amp;&amp; sym_check_asciionly(str, false)) {
                str = rb_str_dup(str);
                rb_enc_associate(str, ascii);
                OBJ_FREEZE(str);
                enc = ascii;
            }
            else {
                str = rb_str_dup(str);
                OBJ_FREEZE(str);
            }
            str = rb_fstring(str);
            int type = rb_str_symname_type(str, IDSET_ATTRSET_FOR_INTERN);
            if (type &lt; 0) type = ID_JUNK;
            sym = dsymbol_alloc(symbols, rb_cSymbol, str, enc, type);
        }
        else {
            ID id = intern_str(str, 0);
            sym = ID2SYM(id);
        }
    }
    GLOBAL_SYMBOLS_LEAVE();
    return sym;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    #<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>     <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of characters (not bytes) in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'>length</span>        <span class='comment'># =&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'>length</span>       <span class='comment'># =&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_length'>length</span>   <span class='comment'># =&gt; 5</span></code></pre>

<p>Contrast with <a href="#bytesize-instance_method" title="String#bytesize (method)">#bytesize</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'><a href="#bytesize-instance_method" title="String#bytesize (method)">bytesize</a></span>        <span class='comment'># =&gt; 3
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'><a href="#bytesize-instance_method" title="String#bytesize (method)">bytesize</a></span>       <span class='comment'># =&gt; 8
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_bytesize'><a href="#bytesize-instance_method" title="String#bytesize (method)">bytesize</a></span>   <span class='comment'># =&gt; 15</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L2235-L2239'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2235' data-end='2239'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2235</span></pre>
<pre class='code cpp'>

VALUE
rb_str_length(VALUE str)
{
    return LONG2NUM(str_strlen(str, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lines-instance_method">
  <h3 class='signature '>
    #<strong>lines</strong>(Line_sep = $/, chomp: false)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Forms substrings (“lines”) of <code>self</code> according to the given arguments (see <a href="#each_line-instance_method" title="String#each_line (method)">#each_line</a> for details); returns the lines in an array.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9245-L9250'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9245' data-end='9250'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9245</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lines(int argc, VALUE *argv, VALUE str)
{
    VALUE ary = WANTARRAY(&quot;lines&quot;, 0);
    return rb_str_enumerate_lines(argc, argv, str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ljust-instance_method">
  <h3 class='signature '>
    #<strong>ljust</strong>(size, pad_string = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a left-justified copy of <code>self</code>.</p>

<p>If integer argument <a href="#size-instance_method" title="String#size (method)">#size</a> is greater than the size (in characters) of <code>self</code>, returns a new string of length <a href="#size-instance_method" title="String#size (method)">#size</a> that is a copy of <code>self</code>, left justified and padded on the right with <code>pad_string</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>10</span>)       <span class='comment'># =&gt; &quot;hello     &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>10</span>)     <span class='comment'># =&gt; &quot;  hello   &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;helloababa&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>10</span>)        <span class='comment'># =&gt; &quot;тест      &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>10</span>)    <span class='comment'># =&gt; &quot;こんにちは     &quot;</span></code></pre>

<p>If <a href="#size-instance_method" title="String#size (method)">#size</a> is not greater than the size of <code>self</code>, returns a copy of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>5</span>)  <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>1</span>)  <span class='comment'># =&gt; &quot;hello&quot;</span></code></pre>
</p>

<p>Related: <a href="#rjust-instance_method" title="String#rjust (method)">#rjust</a>, <a href="#center-instance_method" title="String#center (method)">#center</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10570-L10574'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10570' data-end='10574'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10570</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_ljust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;l&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip-instance_method">
  <h3 class='signature '>
    #<strong>lstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with leading whitespace removed; see <code>Whitespace in Strings</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\t\n\v\f\r </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_whitespace'>whitespace</span>
<span class='id identifier rubyid_s'>s</span>        <span class='comment'># =&gt; &quot;\u0000\t\n\v\f\r abc\u0000\t\n\v\f\r &quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_lstrip'>lstrip</span> <span class='comment'># =&gt; &quot;abc\u0000\t\n\v\f\r &quot;</span></code></pre>

<p>Related: <a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>, <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9908-L9917'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9908' data-end='9917'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9908</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip(VALUE str)
{
    char *start;
    long len, loffset;
    RSTRING_GETMEM(str, start, len);
    loffset = lstrip_offset(str, start, start+len, STR_ENC_GET(str));
    if (loffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, loffset, len - loffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip!-instance_method">
  <h3 class='signature '>
    #<strong>lstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p>

<p>Related: <a href="#rstrip!-instance_method" title="String#rstrip! (method)">#rstrip!</a>, <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9870-L9890'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9870' data-end='9890'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9870</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start, *s;
    long olen, loffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    if (loffset &gt; 0) {
        long len = olen-loffset;
        s = start + loffset;
        memmove(start, s, len);
        STR_SET_LEN(str, len);
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
        return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>match</strong>(pattern, offset = 0)  &#x21d2; <a href="MatchData.html" title="MatchData (class)">MatchData</a><sup>?</sup> </span>
      <span class='overload'>#<strong>match</strong>(pattern, offset = 0) {|matchdata| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> object (or <code>nil</code>) based on <code>self</code> and the given <code>pattern</code>.</p>

<p>Note: also updates Regexp@Global+Variables.</p>
<ul><li>
<p>Computes <code>regexp</code> by converting <code>pattern</code> (if not already a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='const'><a href="Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_new'><a href="Regexp.html#new-class_method" title="Regexp.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)</code></pre>
</li><li>
<p>Computes <code>matchdata</code>, which will be either a <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> object or <code>nil</code> (see Regexp#match):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_matchdata'>matchdata</span> <span class='op'>=</span> <span class='op'>&lt;</span><span class='id identifier rubyid_tt'>tt</span><span class='op'>&gt;</span><span class='id identifier rubyid_regexp'>regexp</span>.<span class='id identifier rubyid_match'>match</span>(<span class='kw'>self</span>)</code></pre>
</li></ul>

<p>With no block given, returns the computed <code>matchdata</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;MatchData &quot;f&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If Integer argument <code>offset</code> is given, the search begins at index <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;</span></code></pre>

<p>With a block given, calls the block with the computed <code>matchdata</code> and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4600-L4613'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4600' data-end='4613'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4600</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m(int argc, VALUE *argv, VALUE str)
{
    VALUE re, result;
    if (argc &lt; 1)
        rb_check_arity(argc, 1, 2);
    re = argv[0];
    argv[0] = str;
    result = rb_funcallv(get_pat(re), rb_intern(&quot;match&quot;), argc, argv);
    if (!NIL_P(result) &amp;&amp; rb_block_given_p()) {
        return rb_yield(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match?-instance_method">
  <h3 class='signature '>
    #<strong>match?</strong>(pattern, offset = 0)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> or <code>false</code> based on whether a match is found for <code>self</code> and <code>pattern</code>.</p>

<p>Note: does not update Regexp@Global+Variables.</p>

<p>Computes <code>regexp</code> by converting <code>pattern</code> (if not already a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='const'><a href="Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_new'><a href="Regexp.html#new-class_method" title="Regexp.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)</code></pre>

<p>Returns <code>true</code> if <code>self</code>.match(regexp)&lt;/tt&gt; returns a <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> object, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>If Integer argument <code>offset</code> is given, the search begins at index <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4639-L4646'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4639' data-end='4646'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4639</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m_p(int argc, VALUE *argv, VALUE str)
{
    VALUE re;
    rb_check_arity(argc, 1, 2);
    re = get_pat(argv[0]);
    return rb_reg_match_p(re, str, argc &gt; 1 ? NUM2LONG(argv[1]) : 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next-instance_method">
  <h3 class='signature '>
    #<strong>next</strong>  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#succ</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the successor to <code>self</code>. The successor is calculated by incrementing characters.</p>

<p>The first character to be incremented is the rightmost alphanumeric: or, if no alphanumerics, the rightmost character:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>THX1138</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;THX1139&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;koala&gt;&gt;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;&lt;&lt;koalb&gt;&gt;&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>***</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &#39;**+&#39;</span></code></pre>

<p>The successor to a digit is another digit, “carrying” to the next-left character for a “rollover” from 9 to 0, and prepending another digit if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;01&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;10&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>99</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;100&quot;</span></code></pre>

<p>The successor to a letter is another letter of the same case, carrying to the next-left character for a rollover, and prepending another same-case letter if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;ab&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>az</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;ba&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zz</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;aaa&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AA</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;AB&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AZ</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;BA&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ZZ</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;AAA&quot;</span></code></pre>

<p>The successor to a non-alphanumeric character is the next character in the underlying character set’s collating sequence, carrying to the next-left character for a rollover, and prepending another character if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='int'>0</span>.<span class='id identifier rubyid_chr'><a href="#chr-instance_method" title="String#chr (method)">chr</a></span> <span class='op'>*</span> <span class='int'>3</span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;\x00\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;\x00\x00\x01&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='int'>255</span>.<span class='id identifier rubyid_chr'><a href="#chr-instance_method" title="String#chr (method)">chr</a></span> <span class='op'>*</span> <span class='int'>3</span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;\xFF\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;\x01\x00\x00\x00&quot;</span></code></pre>

<p>Carrying can occur between and among mixtures of alphanumeric characters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zz99zz99</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;aaa00aa00&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>99zz99zz</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;100aa00aa&quot;</span></code></pre>

<p>The successor to an empty <code>String</code> is a new empty <code>String</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4891-L4898'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4891' data-end='4898'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4891</span></pre>
<pre class='code cpp'>

VALUE
rb_str_succ(VALUE orig)
{
    VALUE str;
    str = rb_str_new(RSTRING_PTR(orig), RSTRING_LEN(orig));
    rb_enc_cr_str_copy_for_substr(str, orig);
    return str_succ(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next!-instance_method">
  <h3 class='signature '>
    #<strong>next!</strong>  &#x21d2; <code>self</code>     <span class='aliases'>Also known as: <span class='names'>#succ!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies <code>self</code> in place; returns <code>self</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4995-L5001'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4995' data-end='5001'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4995</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_succ_bang(VALUE str)
{
    rb_str_modify(str);
    str_succ(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="oct-instance_method">
  <h3 class='signature '>
    #<strong>oct</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Interprets the leading substring of <code>self</code> as a string of octal digits (with an optional sign) and returns the corresponding number; returns zero if there is no such leading substring:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_oct'>oct</span>             <span class='comment'># =&gt; 83
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-377</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_oct'>oct</span>            <span class='comment'># =&gt; -255
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0377non-numeric</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_oct'>oct</span> <span class='comment'># =&gt; 255
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>non-numeric</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_oct'>oct</span>     <span class='comment'># =&gt; 0</span></code></pre>

<p>If <code>self</code> starts with <code>0</code>, radix indicators are honored; see <a href="Kernel.html#Integer-class_method" title="Kernel.Integer (method)">Kernel.Integer</a>.</p>

<p>Related: <a href="#hex-instance_method" title="String#hex (method)">#hex</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10253-L10257'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10253' data-end='10257'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10253</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_oct(VALUE str)
{
    return rb_str_to_inum(str, -8, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ord-instance_method">
  <h3 class='signature '>
    #<strong>ord</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer ordinal of the first character of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ord'>ord</span>         <span class='comment'># =&gt; 104
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ord'>ord</span>     <span class='comment'># =&gt; 104
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ord'>ord</span>      <span class='comment'># =&gt; 1090
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ord'>ord</span>  <span class='comment'># =&gt; 12371</span></code></pre>
</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10398-L10405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10398' data-end='10405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10398</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_ord(VALUE s)
{
    unsigned int c;

    c = rb_enc_codepoint(RSTRING_PTR(s), RSTRING_END(s), STR_ENC_GET(s));
    return UINT2NUM(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="partition-instance_method">
  <h3 class='signature '>
    #<strong>partition</strong>(string_or_regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 3-element array of substrings of <code>self</code>.</p>

<p>Matches a pattern against <code>self</code>, scanning from the beginning. The pattern is:</p>
<ul><li>
<p><code>string_or_regexp</code> itself, if it is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>.</p>
</li><li>
<p><code>Regexp.quote(string_or_regexp)</code>, if <code>string_or_regexp</code> is a string.</p>
</li></ul>

<p>If the pattern is matched, returns pre-match, first-match, post-match:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;he&quot;, &quot;l&quot;, &quot;lo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ll</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;&quot;, &quot;h&quot;, &quot;ello&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;hell&quot;, &quot;o&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>l+</span><span class='regexp_end'>/</span></span>)     <span class='comment'>#=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;hello&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>т</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;&quot;, &quot;т&quot;, &quot;ест&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>に</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [&quot;こん&quot;, &quot;に&quot;, &quot;ちは&quot;]</span></code></pre>

<p>If the pattern is not matched, returns a copy of <code>self</code> and two empty strings:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;hello&quot;, &quot;&quot;, &quot;&quot;]</span></code></pre>

<p>Related: <a href="#rpartition-instance_method" title="String#rpartition (method)">#rpartition</a>, <a href="#split-instance_method" title="String#split (method)">#split</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10617-L10644'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10617' data-end='10644'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10617</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_partition(VALUE str, VALUE sep)
{
    long pos;

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
        if (rb_reg_search(sep, str, 0, 0) &lt; 0) {
            goto failed;
        }
        VALUE match = rb_backref_get();
        struct re_registers *regs = RMATCH_REGS(match);

        pos = BEG(0);
        sep = rb_str_subseq(str, pos, END(0) - pos);
    }
    else {
        pos = rb_str_index(str, sep, 0);
        if (pos &lt; 0) goto failed;
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
                          sep,
                          rb_str_subseq(str, pos+RSTRING_LEN(sep),
                                             RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));

  failed:
    return rb_ary_new3(3, str_duplicate(rb_cString, str), str_new_empty_String(str), str_new_empty_String(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend-instance_method">
  <h3 class='signature '>
    #<strong>prepend</strong>(*other_strings)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepends each string in <code>other_strings</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_prepend'>prepend</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;barbazfoo&quot;
</span><span class='id identifier rubyid_s'>s</span>                       <span class='comment'># =&gt; &quot;barbazfoo&quot;</span></code></pre>

<p>Related: <a href="#concat-instance_method" title="String#concat (method)">#concat</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L3631-L3650'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3631' data-end='3650'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3631</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_prepend_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
        rb_str_update(str, 0L, 0L, argv[0]);
    }
    else if (argc &gt; 1) {
        int i;
        VALUE arg_str = rb_str_tmp_new(0);
        rb_enc_copy(arg_str, str);
        for (i = 0; i &lt; argc; i++) {
            rb_str_append(arg_str, argv[i]);
        }
        rb_str_update(str, 0L, 0L, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(other_string)  &#x21d2; <code>self</code>     <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the contents of <code>self</code> with the contents of <code>other_string</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>        <span class='comment'># =&gt; &quot;foo&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_replace'>replace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;bar&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6099-L6108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6099' data-end='6108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6099</span></pre>
<pre class='code cpp'>

VALUE
rb_str_replace(VALUE str, VALUE str2)
{
    str_modifiable(str);
    if (str == str2) return str;

    StringValue(str2);
    str_discard(str);
    return str_replace(str, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse-instance_method">
  <h3 class='signature '>
    #<strong>reverse</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string with the characters from <code>self</code> in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stressed</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_reverse'>reverse</span> <span class='comment'># =&gt; &quot;desserts&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6486-L6534'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6486' data-end='6534'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6486</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse(VALUE str)
{
    rb_encoding *enc;
    VALUE rev;
    char *s, *e, *p;
    int cr;

    if (RSTRING_LEN(str) &lt;= 1) return str_duplicate(rb_cString, str);
    enc = STR_ENC_GET(str);
    rev = rb_str_new(0, RSTRING_LEN(str));
    s = RSTRING_PTR(str); e = RSTRING_END(str);
    p = RSTRING_END(rev);
    cr = ENC_CODERANGE(str);

    if (RSTRING_LEN(str) &gt; 1) {
        if (single_byte_optimizable(str)) {
            while (s &lt; e) {
                *--p = *s++;
            }
        }
        else if (cr == ENC_CODERANGE_VALID) {
            while (s &lt; e) {
                int clen = rb_enc_fast_mbclen(s, e, enc);

                p -= clen;
                memcpy(p, s, clen);
                s += clen;
            }
        }
        else {
            cr = rb_enc_asciicompat(enc) ?
                ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
            while (s &lt; e) {
                int clen = rb_enc_mbclen(s, e, enc);

                if (clen &gt; 1 || (*s &amp; 0x80)) cr = ENC_CODERANGE_UNKNOWN;
                p -= clen;
                memcpy(p, s, clen);
                s += clen;
            }
        }
    }
    STR_SET_LEN(rev, RSTRING_LEN(str));
    str_enc_copy_direct(rev, str);
    ENC_CODERANGE_SET(rev, cr);

    return rev;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse!-instance_method">
  <h3 class='signature '>
    #<strong>reverse!</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> with its characters reversed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stressed</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_reverse!'>reverse!</span> <span class='comment'># =&gt; &quot;desserts&quot;
</span><span class='id identifier rubyid_s'>s</span>          <span class='comment'># =&gt; &quot;desserts&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6549-L6573'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6549' data-end='6573'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6549</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse_bang(VALUE str)
{
    if (RSTRING_LEN(str) &gt; 1) {
        if (single_byte_optimizable(str)) {
            char *s, *e, c;

            str_modify_keep_cr(str);
            s = RSTRING_PTR(str);
            e = RSTRING_END(str) - 1;
            while (s &lt; e) {
                c = *s;
                *s++ = *e;
                *e-- = c;
            }
        }
        else {
            str_shared_replace(str, rb_str_reverse(str));
        }
    }
    else {
        str_modify_keep_cr(str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rindex</strong>(substring, offset = self.length)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>rindex</strong>(regexp, offset = self.length)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> index of the <em>last</em> match for the given <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> <code>regexp</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>oo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ooo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>The <em>last</em> match means starting at the possible last position, not the last of longest matches.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;o&quot;&gt;</span></code></pre>

<p>To get the last longest match, needs to combine with negative lookbehind.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!o)o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p>Or <a href="#index-instance_method" title="String#index (method)">#index</a> with negative lookforward.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'><a href="#index-instance_method" title="String#index (method)">index</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+(?!.*o)</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p><a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> argument <code>offset</code>, if given and non-negative, specifies the maximum starting position in the</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid__end_'>_end_</span> <span class='id identifier rubyid_the'>the</span> <span class='label'>search:</span>

 <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; nil
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 1
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; 2
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; 2</span></code></pre>

<p>If <code>offset</code> is a negative <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, the maximum starting position in the string to <em>end</em> the search is the sum of the string’s length and <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>) <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: <a href="#index-instance_method" title="String#index (method)">#index</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L4343-L4386'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4343' data-end='4386'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4343</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    rb_encoding *enc = STR_ENC_GET(str);
    long pos, len = str_strlen(str, enc); /* str&#39;s enc */

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
        pos = NUM2LONG(initpos);
        if (pos &lt; 0 &amp;&amp; (pos += len) &lt; 0) {
            if (RB_TYPE_P(sub, T_REGEXP)) {
                rb_backref_set(Qnil);
            }
            return Qnil;
        }
        if (pos &gt; len) pos = len;
    }
    else {
        pos = len;
    }

    if (RB_TYPE_P(sub, T_REGEXP)) {
        /* enc = rb_enc_check(str, sub); */
        pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
                         enc, single_byte_optimizable(str));

        if (rb_reg_search(sub, str, pos, 1) &gt;= 0) {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = rb_str_sublen(str, BEG(0));
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
        pos = rb_str_rindex(str, sub, pos);
        if (pos &gt;= 0) {
            pos = rb_str_sublen(str, pos);
            return LONG2NUM(pos);
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rjust-instance_method">
  <h3 class='signature '>
    #<strong>rjust</strong>(size, pad_string = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a right-justified copy of <code>self</code>.</p>

<p>If integer argument <a href="#size-instance_method" title="String#size (method)">#size</a> is greater than the size (in characters) of <code>self</code>, returns a new string of length <a href="#size-instance_method" title="String#size (method)">#size</a> that is a copy of <code>self</code>, right justified and padded on the left with <code>pad_string</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>10</span>)       <span class='comment'># =&gt; &quot;     hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello  </span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>10</span>)     <span class='comment'># =&gt; &quot;   hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;ababahello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>10</span>)        <span class='comment'># =&gt; &quot;      тест&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>10</span>)    <span class='comment'># =&gt; &quot;     こんにちは&quot;</span></code></pre>

<p>If <a href="#size-instance_method" title="String#size (method)">#size</a> is not greater than the size of <code>self</code>, returns a copy of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;hello&quot;</span></code></pre>
</p>

<p>Related: <a href="#ljust-instance_method" title="String#ljust (method)">#ljust</a>, <a href="#center-instance_method" title="String#center (method)">#center</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10586-L10590'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10586' data-end='10590'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10586</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rjust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;r&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rpartition-instance_method">
  <h3 class='signature '>
    #<strong>rpartition</strong>(sep)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 3-element array of substrings of <code>self</code>.</p>

<p>Matches a pattern against <code>self</code>, scanning backwards from the end. The pattern is:</p>
<ul><li>
<p><code>string_or_regexp</code> itself, if it is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>.</p>
</li><li>
<p><code>Regexp.quote(string_or_regexp)</code>, if <code>string_or_regexp</code> is a string.</p>
</li></ul>

<p>If the pattern is matched, returns pre-match, last-match, post-match:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ll</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;&quot;, &quot;h&quot;, &quot;ello&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;hell&quot;, &quot;o&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>l+</span><span class='regexp_end'>/</span></span>)     <span class='comment'># =&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;hello&quot;, &quot;&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>т</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;тес&quot;, &quot;т&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>に</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [&quot;こん&quot;, &quot;に&quot;, &quot;ちは&quot;]</span></code></pre>

<p>If the pattern is not matched, returns two empty strings and a copy of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;hello&quot;]</span></code></pre>

<p>Related: <a href="#partition-instance_method" title="String#partition (method)">#partition</a>, <a href="#split-instance_method" title="String#split (method)">#split</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10654-L10684'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10654' data-end='10684'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10654</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rpartition(VALUE str, VALUE sep)
{
    long pos = RSTRING_LEN(str);

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
        if (rb_reg_search(sep, str, pos, 1) &lt; 0) {
            goto failed;
        }
        VALUE match = rb_backref_get();
        struct re_registers *regs = RMATCH_REGS(match);

        pos = BEG(0);
        sep = rb_str_subseq(str, pos, END(0) - pos);
    }
    else {
        pos = rb_str_sublen(str, pos);
        pos = rb_str_rindex(str, sep, pos);
        if (pos &lt; 0) {
            goto failed;
        }
    }

    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
                          sep,
                          rb_str_subseq(str, pos+RSTRING_LEN(sep),
                                        RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
  failed:
    return rb_ary_new3(3, str_new_empty_String(str), str_new_empty_String(str), str_duplicate(rb_cString, str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip-instance_method">
  <h3 class='signature '>
    #<strong>rstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of the receiver with trailing whitespace removed; see <code>Whitespace in Strings</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\t\n\v\f\r </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_whitespace'>whitespace</span>
<span class='id identifier rubyid_s'>s</span>        <span class='comment'># =&gt; &quot;\u0000\t\n\v\f\r abc\u0000\t\n\v\f\r &quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_rstrip'>rstrip</span> <span class='comment'># =&gt; &quot;\u0000\t\n\v\f\r abc&quot;</span></code></pre>

<p>Related: <a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>, <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9995-L10008'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9995' data-end='10008'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9995</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);

    if (roffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, 0, olen-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip!-instance_method">
  <h3 class='signature '>
    #<strong>rstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p>

<p>Related: <a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a>, <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L9958-L9977'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9958' data-end='9977'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9958</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);
    if (roffset &gt; 0) {
        long len = olen - roffset;

        STR_SET_LEN(str, len);
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
        return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scan</strong>(string_or_regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>scan</strong>(string_or_regexp) {|matches| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Matches a pattern against <code>self</code>; the pattern is:</p>
<ul><li>
<p><code>string_or_regexp</code> itself, if it is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>.</p>
</li><li>
<p><code>Regexp.quote(string_or_regexp)</code>, if <code>string_or_regexp</code> is a string.</p>
</li></ul>

<p>Iterates through <code>self</code>, generating a collection of matching results:</p>
<ul><li>
<p>If the pattern contains no groups, each result is the matched string, <code>$&amp;</code>.</p>
</li><li>
<p>If the pattern contains groups, each result is an array containing one entry per group.</p>
</li></ul>

<p>With no block given, returns an array of the results:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cruel world</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; [&quot;cruel&quot;, &quot;world&quot;]
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>...</span><span class='regexp_end'>/</span></span>)      <span class='comment'># =&gt; [&quot;cru&quot;, &quot;el &quot;, &quot;wor&quot;]
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(...)</span><span class='regexp_end'>/</span></span>)    <span class='comment'># =&gt; [[&quot;cru&quot;], [&quot;el &quot;], [&quot;wor&quot;]]
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(..)(..)</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; [[&quot;cr&quot;, &quot;ue&quot;], [&quot;l &quot;, &quot;wo&quot;]]</span></code></pre>

<p>With a block given, calls the block with each result; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='heredoc_beg'>&lt;&lt;cruel</span><span class='op'>&gt;&gt;</span> <span class='heredoc_beg'>&lt;&lt;world</span><span class='op'>&gt;&gt;</span>
<span class='tstring_content'>rceu lowlr</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10174-L10205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10174' data-end='10205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10174</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_scan(VALUE str, VALUE pat)
{
    VALUE result;
    long start = 0;
    long last = -1, prev = 0;
    char *p = RSTRING_PTR(str); long len = RSTRING_LEN(str);

    pat = get_pat_quoted(pat, 1);
    mustnot_broken(str);
    if (!rb_block_given_p()) {
        VALUE ary = rb_ary_new();

        while (!NIL_P(result = scan_once(str, pat, &amp;start, 0))) {
            last = prev;
            prev = start;
            rb_ary_push(ary, result);
        }
        if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
        else rb_backref_set(Qnil);
        return ary;
    }

    while (!NIL_P(result = scan_once(str, pat, &amp;start, 1))) {
        last = prev;
        prev = start;
        rb_yield(result);
        str_mod_check(str, p, len);
    }
    if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub</strong>(replacement_string = default_replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub</strong> {|bytes| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with each invalid byte sequence replaced by the given <code>replacement_string</code>.</p>

<p>With no block given and no argument, replaces each invalid sequence with the default replacement string (<code>&quot;�&quot;</code> for a Unicode encoding, <code>&#39;?&#39;</code> otherwise):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\x81\x81bar</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_scrub'>scrub</span> <span class='comment'># =&gt; &quot;foo��bar&quot;</span></code></pre>

<p>With no block given and argument <code>replacement_string</code> given, replaces each invalid sequence with that string:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\x81\x81bar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub'>scrub</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xyzzy</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fooxyzzyxyzzybar&quot;</span></code></pre>

<p>With a block given, replaces each invalid sequence with the value of the block:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\x81\x81bar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub'>scrub</span> {<span class='op'>|</span><span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span><span class='semicolon'>;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>XYZZY</span><span class='tstring_end'>&#39;</span></span> }
<span class='comment'># =&gt; &quot;fooXYZZYXYZZYbar&quot;</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x81</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x81</span><span class='tstring_end'>&quot;</span></span></code></pre>
</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11397-L11403'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11397' data-end='11403'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11397</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    return NIL_P(new) ? str_duplicate(rb_cString, str): new;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub!</strong>  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>scrub!</strong>(replacement_string = default_replacement)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>scrub!</strong> {|bytes| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#scrub-instance_method" title="String#scrub (method)">#scrub</a>, except that any replacements are made in <code>self</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11414-L11421'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11414' data-end='11421'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11414</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    if (!NIL_P(new)) rb_str_replace(str, new);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setbyte-instance_method">
  <h3 class='signature '>
    #<strong>setbyte</strong>(index, integer)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the byte at zero-based <a href="#index-instance_method" title="String#index (method)">#index</a> to <code>integer</code>; returns <code>integer</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&#39;</span></span>      <span class='comment'># =&gt; &quot;abcde&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_setbyte'>setbyte</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='int'>98</span>) <span class='comment'># =&gt; 98
</span><span class='id identifier rubyid_s'>s</span>                <span class='comment'># =&gt; &quot;bbcde&quot;</span></code></pre>

<p>Related: <a href="#getbyte-instance_method" title="String#getbyte (method)">#getbyte</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6190-L6243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6190' data-end='6243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6190</span></pre>
<pre class='code cpp'>

VALUE
rb_str_setbyte(VALUE str, VALUE index, VALUE value)
{
    long pos = NUM2LONG(index);
    long len = RSTRING_LEN(str);
    char *ptr, *head, *left = 0;
    rb_encoding *enc;
    int cr = ENC_CODERANGE_UNKNOWN, width, nlen;

    if (pos &lt; -len || len &lt;= pos)
        rb_raise(rb_eIndexError, &quot;index %ld out of string&quot;, pos);
    if (pos &lt; 0)
        pos += len;

    VALUE v = rb_to_int(value);
    VALUE w = rb_int_and(v, INT2FIX(0xff));
    char byte = (char)(NUM2INT(w) &amp; 0xFF);

    if (!str_independent(str))
        str_make_independent(str);
    enc = STR_ENC_GET(str);
    head = RSTRING_PTR(str);
    ptr = &amp;head[pos];
    if (!STR_EMBED_P(str)) {
        cr = ENC_CODERANGE(str);
        switch (cr) {
          case ENC_CODERANGE_7BIT:
            left = ptr;
            *ptr = byte;
            if (ISASCII(byte)) goto end;
            nlen = rb_enc_precise_mbclen(left, head+len, enc);
            if (!MBCLEN_CHARFOUND_P(nlen))
                ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
            else
                ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
            goto end;
          case ENC_CODERANGE_VALID:
            left = rb_enc_left_char_head(head, ptr, head+len, enc);
            width = rb_enc_precise_mbclen(left, head+len, enc);
            *ptr = byte;
            nlen = rb_enc_precise_mbclen(left, head+len, enc);
            if (!MBCLEN_CHARFOUND_P(nlen))
                ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
            else if (MBCLEN_CHARFOUND_LEN(nlen) != width || ISASCII(byte))
                ENC_CODERANGE_CLEAR(str);
            goto end;
        }
    }
    ENC_CODERANGE_CLEAR(str);
    *ptr = byte;

  end:
    return value;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(substring)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice!</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(regexp, capture = 0)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(substring)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes and returns the substring of <code>self</code> specified by the arguments. See <code><code>String</code> Slices</code>.</p>

<p>A few examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is a string</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>2</span>)        <span class='comment'>#=&gt; &quot;i&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>3</span><span class='op'>..</span><span class='int'>6</span>)     <span class='comment'>#=&gt; &quot; is &quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s.*t</span><span class='regexp_end'>/</span></span>)   <span class='comment'>#=&gt; &quot;sa st&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span>)      <span class='comment'>#=&gt; &quot;r&quot;
</span><span class='id identifier rubyid_string'>string</span>                  <span class='comment'>#=&gt; &quot;Thing&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5612-L5697'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5612' data-end='5697'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5612</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_slice_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE result = Qnil;
    VALUE indx;
    long beg, len = 1;
    char *p;

    rb_check_arity(argc, 1, 2);
    str_modify_keep_cr(str);
    indx = argv[0];
    if (RB_TYPE_P(indx, T_REGEXP)) {
        if (rb_reg_search(indx, str, 0, 0) &lt; 0) return Qnil;
        VALUE match = rb_backref_get();
        struct re_registers *regs = RMATCH_REGS(match);
        int nth = 0;
        if (argc &gt; 1 &amp;&amp; (nth = rb_reg_backref_number(match, argv[1])) &lt; 0) {
            if ((nth += regs-&gt;num_regs) &lt;= 0) return Qnil;
        }
        else if (nth &gt;= regs-&gt;num_regs) return Qnil;
        beg = BEG(nth);
        len = END(nth) - beg;
        goto subseq;
    }
    else if (argc == 2) {
        beg = NUM2LONG(indx);
        len = NUM2LONG(argv[1]);
        goto num_index;
    }
    else if (FIXNUM_P(indx)) {
        beg = FIX2LONG(indx);
        if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
        if (!len) return Qnil;
        beg = p - RSTRING_PTR(str);
        goto subseq;
    }
    else if (RB_TYPE_P(indx, T_STRING)) {
        beg = rb_str_index(str, indx, 0);
        if (beg == -1) return Qnil;
        len = RSTRING_LEN(indx);
        result = str_duplicate(rb_cString, indx);
        goto squash;
    }
    else {
        switch (rb_range_beg_len(indx, &amp;beg, &amp;len, str_strlen(str, NULL), 0)) {
          case Qnil:
            return Qnil;
          case Qfalse:
            beg = NUM2LONG(indx);
            if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
            if (!len) return Qnil;
            beg = p - RSTRING_PTR(str);
            goto subseq;
          default:
            goto num_index;
        }
    }

  num_index:
    if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
    beg = p - RSTRING_PTR(str);

  subseq:
    result = rb_str_new(RSTRING_PTR(str)+beg, len);
    rb_enc_cr_str_copy_for_substr(result, str);

  squash:
    if (len &gt; 0) {
        if (beg == 0) {
            rb_str_drop_bytes(str, len);
        }
        else {
            char *sptr = RSTRING_PTR(str);
            long slen = RSTRING_LEN(str);
            if (beg + len &gt; slen) /* pathological check */
                len = slen - beg;
            memmove(sptr + beg,
                    sptr + beg + len,
                    slen - (beg + len));
            slen -= len;
            STR_SET_LEN(str, slen);
            TERM_FILL(&amp;sptr[slen], TERM_LEN(str));
        }
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>split</strong>(field_sep = $;, limit = nil)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>split</strong>(field_sep = $;, limit = nil) {|substring| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of substrings of <code>self</code> that are the result of splitting <code>self</code> at each occurrence of the given field separator <code>field_sep</code>.</p>

<p>When <code>field_sep</code> is <code>$;</code>:</p>
<ul><li>
<p>If <code>$;</code> is <code>nil</code> (its default value), the split occurs just as if <code>field_sep</code> were given as a space character (see below).</p>
</li><li>
<p>If <code>$;</code> is a string, the split occurs just as if <code>field_sep</code> were given as that string (see below).</p>
</li></ul>

<p>When <code>field_sep</code> is <code>&#39; &#39;</code> and <code>limit</code> is <code>nil</code>, the split occurs at each sequence of whitespace:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc def ghi</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)         <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ghi</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \n\tdef\t\n  ghi</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc  def   ghi</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)      <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ghi</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)                    <span class='op'>=&gt;</span> []</code></pre>

<p>When <code>field_sep</code> is a string different from <code>&#39; &#39;</code> and <code>limit</code> is <code>nil</code>, the split occurs at each occurrence of <code>field_sep</code>; trailing empty substrings are not returned:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abracadabra</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span>)  <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>racad</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ra</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)     <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bcd</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)              <span class='op'>=&gt;</span> []
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>)       <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>59</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>!@#$%^$&amp;*($)_+</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;!@#&quot;, &quot;%^&quot;, &quot;&amp;*(&quot;, &quot;)_+&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>т</span><span class='tstring_end'>&#39;</span></span>)          <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ес</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>に</span><span class='tstring_end'>&#39;</span></span>)     <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>こん</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ちは</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

<p>When <code>field_sep</code> is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> and <code>limit</code> is <code>nil</code>, the split occurs at each occurrence of a match; trailing empty substrings are not returned:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abracadabra</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ab</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;racad&quot;, &quot;ra&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a</span><span class='regexp_end'>/</span></span>)   <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bcd</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span>)    <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1 + 1 == 2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; [&quot;1&quot;, &quot;1&quot;, &quot;2&quot;]</span></code></pre>

<p>If the Regexp contains groups, their matches are also included in the returned array:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1:2:3</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(:)()()</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; [&quot;1&quot;, &quot;:&quot;, &quot;&quot;, &quot;&quot;, &quot;2:3&quot;]</span></code></pre>

<p>As seen above, if <code>limit</code> is <code>nil</code>, trailing empty substrings are not returned; the same is true if <code>limit</code> is zero:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)   <span class='op'>=&gt;</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bcd</span><span class='tstring_end'>&quot;</span></span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;bcd&quot;]</span></code></pre>

<p>If <code>limit</code> is positive integer <code>n</code>, no more than <code>n - 1-</code> splits occur, so that at most <code>n</code> substrings are returned, and trailing empty substrings are included:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; [&quot;aaabcdaaa&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;aabcdaaa&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>5</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;bcd&quot;, &quot;aa&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>7</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;bcd&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>8</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;bcd&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;]</span></code></pre>

<p>Note that if <code>field_sep</code> is a Regexp containing groups, their matches are in the returned array, but do not count toward the limit.</p>

<p>If <code>limit</code> is negative, it behaves the same as if <code>limit</code> was <code>nil</code>, meaning that there is no limit, and trailing empty substrings are included:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aaabcdaaa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; [&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;bcd&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;]</span></code></pre>

<p>If a block is given, it is called with each substring:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc def ghi</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_substring'>substring</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_substring'>substring</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ghi</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Related: <a href="#partition-instance_method" title="String#partition (method)">#partition</a>, <a href="#rpartition-instance_method" title="String#rpartition (method)">#rpartition</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8803-L9023'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8803' data-end='9023'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8803</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_split_m(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    VALUE spat;
    VALUE limit;
    split_type_t split_type;
    long beg, end, i = 0, empty_count = -1;
    int lim = 0;
    VALUE result, tmp;

    result = rb_block_given_p() ? Qfalse : Qnil;
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;spat, &amp;limit) == 2) {
        lim = NUM2INT(limit);
        if (lim &lt;= 0) limit = Qnil;
        else if (lim == 1) {
            if (RSTRING_LEN(str) == 0)
                return result ? rb_ary_new2(0) : str;
            tmp = str_duplicate(rb_cString, str);
            if (!result) {
                rb_yield(tmp);
                return str;
            }
            return rb_ary_new3(1, tmp);
        }
        i = 1;
    }
    if (NIL_P(limit) &amp;&amp; !lim) empty_count = 0;

    enc = STR_ENC_GET(str);
    split_type = SPLIT_TYPE_REGEXP;
    if (!NIL_P(spat)) {
        spat = get_pat_quoted(spat, 0);
    }
    else if (NIL_P(spat = rb_fs)) {
        split_type = SPLIT_TYPE_AWK;
    }
    else if (!(spat = rb_fs_check(spat))) {
        rb_raise(rb_eTypeError, &quot;value of $; must be String or Regexp&quot;);
    }
    else {
        rb_category_warn(RB_WARN_CATEGORY_DEPRECATED, &quot;$; is set to non-nil value&quot;);
    }
    if (split_type != SPLIT_TYPE_AWK) {
        switch (BUILTIN_TYPE(spat)) {
          case T_REGEXP:
            rb_reg_options(spat); /* check if uninitialized */
            tmp = RREGEXP_SRC(spat);
            split_type = literal_split_pattern(tmp, SPLIT_TYPE_REGEXP);
            if (split_type == SPLIT_TYPE_AWK) {
                spat = tmp;
                split_type = SPLIT_TYPE_STRING;
            }
            break;

          case T_STRING:
            mustnot_broken(spat);
            split_type = literal_split_pattern(spat, SPLIT_TYPE_STRING);
            break;

          default:
            UNREACHABLE_RETURN(Qnil);
        }
    }

#define SPLIT_STR(beg, len) (empty_count = split_string(result, str, beg, len, empty_count))

    beg = 0;
    char *ptr = RSTRING_PTR(str);
    char *eptr = RSTRING_END(str);
    if (split_type == SPLIT_TYPE_AWK) {
        char *bptr = ptr;
        int skip = 1;
        unsigned int c;

        if (result) result = rb_ary_new();
        end = beg;
        if (is_ascii_string(str)) {
            while (ptr &lt; eptr) {
                c = (unsigned char)*ptr++;
                if (skip) {
                    if (ascii_isspace(c)) {
                        beg = ptr - bptr;
                    }
                    else {
                        end = ptr - bptr;
                        skip = 0;
                        if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
                    }
                }
                else if (ascii_isspace(c)) {
                    SPLIT_STR(beg, end-beg);
                    skip = 1;
                    beg = ptr - bptr;
                    if (!NIL_P(limit)) ++i;
                }
                else {
                    end = ptr - bptr;
                }
            }
        }
        else {
            while (ptr &lt; eptr) {
                int n;

                c = rb_enc_codepoint_len(ptr, eptr, &amp;n, enc);
                ptr += n;
                if (skip) {
                    if (rb_isspace(c)) {
                        beg = ptr - bptr;
                    }
                    else {
                        end = ptr - bptr;
                        skip = 0;
                        if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
                    }
                }
                else if (rb_isspace(c)) {
                    SPLIT_STR(beg, end-beg);
                    skip = 1;
                    beg = ptr - bptr;
                    if (!NIL_P(limit)) ++i;
                }
                else {
                    end = ptr - bptr;
                }
            }
        }
    }
    else if (split_type == SPLIT_TYPE_STRING) {
        char *str_start = ptr;
        char *substr_start = ptr;
        char *sptr = RSTRING_PTR(spat);
        long slen = RSTRING_LEN(spat);

        if (result) result = rb_ary_new();
        mustnot_broken(str);
        enc = rb_enc_check(str, spat);
        while (ptr &lt; eptr &amp;&amp;
               (end = rb_memsearch(sptr, slen, ptr, eptr - ptr, enc)) &gt;= 0) {
            /* Check we are at the start of a char */
            char *t = rb_enc_right_char_head(ptr, ptr + end, eptr, enc);
            if (t != ptr + end) {
                ptr = t;
                continue;
            }
            SPLIT_STR(substr_start - str_start, (ptr+end) - substr_start);
            ptr += end + slen;
            substr_start = ptr;
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        beg = ptr - str_start;
    }
    else if (split_type == SPLIT_TYPE_CHARS) {
        char *str_start = ptr;
        int n;

        if (result) result = rb_ary_new_capa(RSTRING_LEN(str));
        mustnot_broken(str);
        enc = rb_enc_get(str);
        while (ptr &lt; eptr &amp;&amp;
               (n = rb_enc_precise_mbclen(ptr, eptr, enc)) &gt; 0) {
            SPLIT_STR(ptr - str_start, n);
            ptr += n;
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        beg = ptr - str_start;
    }
    else {
        if (result) result = rb_ary_new();
        long len = RSTRING_LEN(str);
        long start = beg;
        long idx;
        int last_null = 0;
        struct re_registers *regs;
        VALUE match = 0;

        for (; rb_reg_search(spat, str, start, 0) &gt;= 0;
             (match ? (rb_match_unbusy(match), rb_backref_set(match)) : (void)0)) {
            match = rb_backref_get();
            if (!result) rb_match_busy(match);
            regs = RMATCH_REGS(match);
            end = BEG(0);
            if (start == end &amp;&amp; BEG(0) == END(0)) {
                if (!ptr) {
                    SPLIT_STR(0, 0);
                    break;
                }
                else if (last_null == 1) {
                    SPLIT_STR(beg, rb_enc_fast_mbclen(ptr+beg, eptr, enc));
                    beg = start;
                }
                else {
                    if (start == len)
                        start++;
                    else
                        start += rb_enc_fast_mbclen(ptr+start,eptr,enc);
                    last_null = 1;
                    continue;
                }
            }
            else {
                SPLIT_STR(beg, end-beg);
                beg = start = END(0);
            }
            last_null = 0;

            for (idx=1; idx &lt; regs-&gt;num_regs; idx++) {
                if (BEG(idx) == -1) continue;
                SPLIT_STR(BEG(idx), END(idx)-BEG(idx));
            }
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        if (match) rb_match_unbusy(match);
    }
    if (RSTRING_LEN(str) &gt; 0 &amp;&amp; (!NIL_P(limit) || RSTRING_LEN(str) &gt; beg || lim &lt; 0)) {
        SPLIT_STR(beg, RSTRING_LEN(str)-beg);
    }

    return result ? result : str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze-instance_method">
  <h3 class='signature '>
    #<strong>squeeze</strong>(*selectors)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with characters specified by <code>selectors</code> “squeezed” (see <code>Multiple Character Selectors</code>):</p>

<p>“Squeezed” means that each multiple-character run of a selected character is squeezed down to a single character; with no arguments given, squeezes all characters:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yellow moon</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>                  <span class='comment'>#=&gt; &quot;yelow mon&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  now   is  the</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; &quot; now is the&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>putters shoot balls</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m-z</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;puters shot balls&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8563-L8569'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8563' data-end='8569'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8563</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_squeeze_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze!-instance_method">
  <h3 class='signature '>
    #<strong>squeeze!</strong>(*selectors)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#squeeze-instance_method" title="String#squeeze (method)">#squeeze</a>, but modifies <code>self</code> in place. Returns <code>self</code> if any changes were made, <code>nil</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8470-L8543'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8470' data-end='8543'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8470</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0;
    unsigned char *s, *send, *t;
    int i, modify = 0;
    int ascompat, singlebyte = single_byte_optimizable(str);
    unsigned int save;

    if (argc == 0) {
        enc = STR_ENC_GET(str);
    }
    else {
        for (i=0; i&lt;argc; i++) {
            VALUE s = argv[i];

            StringValue(s);
            enc = rb_enc_check(str, s);
            if (singlebyte &amp;&amp; !single_byte_optimizable(s))
                singlebyte = 0;
            tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
        }
    }

    str_modify_keep_cr(str);
    s = t = (unsigned char *)RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return Qnil;
    send = (unsigned char *)RSTRING_END(str);
    save = -1;
    ascompat = rb_enc_asciicompat(enc);

    if (singlebyte) {
        while (s &lt; send) {
            unsigned int c = *s++;
            if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
                *t++ = save = c;
            }
        }
    }
    else {
        while (s &lt; send) {
            unsigned int c;
            int clen;

            if (ascompat &amp;&amp; (c = *s) &lt; 0x80) {
                if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
                    *t++ = save = c;
                }
                s++;
            }
            else {
                c = rb_enc_codepoint_len((char *)s, (char *)send, &amp;clen, enc);

                if (c != save || (argc &gt; 0 &amp;&amp; !tr_find(c, squeez, del, nodel))) {
                    if (t != s) rb_enc_mbcput(c, t, enc);
                    save = c;
                    t += clen;
                }
                s += clen;
            }
        }
    }

    TERM_FILL((char *)t, TERM_LEN(str));
    if ((char *)t - RSTRING_PTR(str) != RSTRING_LEN(str)) {
        STR_SET_LEN(str, (char *)t - RSTRING_PTR(str));
        modify = 1;
    }

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start_with?-instance_method">
  <h3 class='signature '>
    #<strong>start_with?</strong>(*string_or_regexp)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether <code>self</code> starts with any of the given <code>string_or_regexp</code>.</p>

<p>Matches patterns against the beginning of <code>self</code>. For each given <code>string_or_regexp</code>, the pattern is:</p>
<ul><li>
<p><code>string_or_regexp</code> itself, if it is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>.</p>
</li><li>
<p><code>Regexp.quote(string_or_regexp)</code>, if <code>string_or_regexp</code> is a string.</p>
</li></ul>

<p>Returns <code>true</code> if any pattern matches the beginning, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&#39;</span></span>)               <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>H</span><span class='regexp_end'>/i</span></span>)                 <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>т</span><span class='tstring_end'>&#39;</span></span>)                   <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こ</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; true</span></code></pre>

<p>Related: <a href="#end_with%3F-instance_method" title="String#end_with? (method)">#end_with?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10694-L10724'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10694' data-end='10724'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10694</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_start_with(int argc, VALUE *argv, VALUE str)
{
    int i;

    for (i=0; i&lt;argc; i++) {
        VALUE tmp = argv[i];
        if (RB_TYPE_P(tmp, T_REGEXP)) {
            if (rb_reg_start_with_p(tmp, str))
                return Qtrue;
        }
        else {
            const char *p, *s, *e;
            long slen, tlen;
            rb_encoding *enc;

            StringValue(tmp);
            enc = rb_enc_check(str, tmp);
            if ((tlen = RSTRING_LEN(tmp)) == 0) return Qtrue;
            if ((slen = RSTRING_LEN(str)) &lt; tlen) continue;
            p = RSTRING_PTR(str);
            e = p + slen;
            s = p + tlen;
            if (!at_char_right_boundary(p, s, e, enc))
                continue;
            if (memcmp(p, RSTRING_PTR(tmp), tlen) == 0)
                return Qtrue;
        }
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip-instance_method">
  <h3 class='signature '>
    #<strong>strip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of the receiver with leading and trailing whitespace removed; see <code>Whitespace in Strings</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\t\n\v\f\r </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_whitespace'>whitespace</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_whitespace'>whitespace</span>
<span class='id identifier rubyid_s'>s</span>       <span class='comment'># =&gt; &quot;\u0000\t\n\v\f\r abc\u0000\t\n\v\f\r &quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_strip'>strip</span> <span class='comment'># =&gt; &quot;abc&quot;</span></code></pre>

<p>Related: <a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a>, <a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10063-L10076'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10063' data-end='10076'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10063</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc = STR_ENC_GET(str);

    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &lt;= 0 &amp;&amp; roffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, loffset, olen-loffset-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip!-instance_method">
  <h3 class='signature '>
    #<strong>strip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#strip-instance_method" title="String#strip (method)">#strip</a>, except that any modifications are made in <code>self</code>; returns <code>self</code> if any modification are made, <code>nil</code> otherwise.</p>

<p>Related: <a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a>, <code>strip!</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10021-L10045'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10021' data-end='10045'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10021</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip_bang(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &gt; 0 || roffset &gt; 0) {
        long len = olen-roffset;
        if (loffset &gt; 0) {
            len -= loffset;
            memmove(start, start + loffset, len);
        }
        STR_SET_LEN(str, len);
        TERM_FILL(start+len, rb_enc_mbminlen(enc));
        return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>sub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with only the first occurrence (not all occurrences) of the given <code>pattern</code> replaced.</p>

<p>See <code>Substitution Methods</code>.</p>

<p>Related: <a href="#sub!-instance_method" title="String#sub! (method)">#sub!</a>, <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a>, <a href="#gsub!-instance_method" title="String#gsub! (method)">#gsub!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5908-L5914'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5908' data-end='5914'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5908</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_sub_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub!</strong>(pattern, replacement)  &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>sub!</strong>(pattern) {|match| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> with only the first occurrence (not all occurrences) of the given <code>pattern</code> replaced.</p>

<p>See <code>Substitution Methods</code>.</p>

<p>Related: <a href="#sub-instance_method" title="String#sub (method)">#sub</a>, <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a>, <a href="#gsub!-instance_method" title="String#gsub! (method)">#gsub!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5783-L5891'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5783' data-end='5891'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5783</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE pat, repl, hash = Qnil;
    int iter = 0;
    long plen;
    int min_arity = rb_block_given_p() ? 1 : 2;
    long beg;

    rb_check_arity(argc, min_arity, 2);
    if (argc == 1) {
        iter = 1;
    }
    else {
        repl = argv[1];
        hash = rb_check_hash_type(argv[1]);
        if (NIL_P(hash)) {
            StringValue(repl);
        }
    }

    pat = get_pat_quoted(argv[0], 1);

    str_modifiable(str);
    beg = rb_pat_search(pat, str, 0, 1);
    if (beg &gt;= 0) {
        rb_encoding *enc;
        int cr = ENC_CODERANGE(str);
        long beg0, end0;
        VALUE match, match0 = Qnil;
        struct re_registers *regs;
        char *p, *rp;
        long len, rlen;

        match = rb_backref_get();
        regs = RMATCH_REGS(match);
        if (RB_TYPE_P(pat, T_STRING)) {
            beg0 = beg;
            end0 = beg0 + RSTRING_LEN(pat);
            match0 = pat;
        }
        else {
            beg0 = BEG(0);
            end0 = END(0);
            if (iter) match0 = rb_reg_nth_match(0, match);
        }

        if (iter || !NIL_P(hash)) {
            p = RSTRING_PTR(str); len = RSTRING_LEN(str);

            if (iter) {
                repl = rb_obj_as_string(rb_yield(match0));
            }
            else {
                repl = rb_hash_aref(hash, rb_str_subseq(str, beg0, end0 - beg0));
                repl = rb_obj_as_string(repl);
            }
            str_mod_check(str, p, len);
            rb_check_frozen(str);
        }
        else {
            repl = rb_reg_regsub(repl, str, regs, RB_TYPE_P(pat, T_STRING) ? Qnil : pat);
        }

        enc = rb_enc_compatible(str, repl);
        if (!enc) {
            rb_encoding *str_enc = STR_ENC_GET(str);
            p = RSTRING_PTR(str); len = RSTRING_LEN(str);
            if (coderange_scan(p, beg0, str_enc) != ENC_CODERANGE_7BIT ||
                coderange_scan(p+end0, len-end0, str_enc) != ENC_CODERANGE_7BIT) {
                rb_raise(rb_eEncCompatError, &quot;incompatible character encodings: %s and %s&quot;,
                         rb_enc_name(str_enc),
                         rb_enc_name(STR_ENC_GET(repl)));
            }
            enc = STR_ENC_GET(repl);
        }
        rb_str_modify(str);
        rb_enc_associate(str, enc);
        if (ENC_CODERANGE_UNKNOWN &lt; cr &amp;&amp; cr &lt; ENC_CODERANGE_BROKEN) {
            int cr2 = ENC_CODERANGE(repl);
            if (cr2 == ENC_CODERANGE_BROKEN ||
                (cr == ENC_CODERANGE_VALID &amp;&amp; cr2 == ENC_CODERANGE_7BIT))
                cr = ENC_CODERANGE_UNKNOWN;
            else
                cr = cr2;
        }
        plen = end0 - beg0;
        rlen = RSTRING_LEN(repl);
        len = RSTRING_LEN(str);
        if (rlen &gt; plen) {
            RESIZE_CAPA(str, len + rlen - plen);
        }
        p = RSTRING_PTR(str);
        if (rlen != plen) {
            memmove(p + beg0 + rlen, p + beg0 + plen, len - beg0 - plen);
        }
        rp = RSTRING_PTR(repl);
        memmove(p + beg0, rp, rlen);
        len += rlen - plen;
        STR_SET_LEN(str, len);
        TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
        ENC_CODERANGE_SET(str, cr);

        RB_GC_GUARD(match);

        return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="succ-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>next</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>succ</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="succ!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>next!</strong>  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>succ!</strong>  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="sum-instance_method">
  <h3 class='signature '>
    #<strong>sum</strong>(n = 16)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a basic <code>n</code>-bit checksum of the characters in <code>self</code>; the checksum is the sum of the binary value of each byte in <code>self</code>, modulo <code>2**n - 1</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sum'>sum</span>     <span class='comment'># =&gt; 532
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sum'>sum</span>(<span class='int'>4</span>)  <span class='comment'># =&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sum'>sum</span>(<span class='int'>64</span>) <span class='comment'># =&gt; 532
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>тест</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sum'>sum</span>      <span class='comment'># =&gt; 1405
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sum'>sum</span>  <span class='comment'># =&gt; 2582</span></code></pre>

<p>This is not a particularly strong checksum.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L10414-L10465'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10414' data-end='10465'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10414</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sum(int argc, VALUE *argv, VALUE str)
{
    int bits = 16;
    char *ptr, *p, *pend;
    long len;
    VALUE sum = INT2FIX(0);
    unsigned long sum0 = 0;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (bits = NUM2INT(argv[0])) &lt; 0) {
        bits = 0;
    }
    ptr = p = RSTRING_PTR(str);
    len = RSTRING_LEN(str);
    pend = p + len;

    while (p &lt; pend) {
        if (FIXNUM_MAX - UCHAR_MAX &lt; sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            str_mod_check(str, ptr, len);
            sum0 = 0;
        }
        sum0 += (unsigned char)*p;
        p++;
    }

    if (bits == 0) {
        if (sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
        }
    }
    else {
        if (sum == INT2FIX(0)) {
            if (bits &lt; (int)sizeof(long)*CHAR_BIT) {
                sum0 &amp;= (((unsigned long)1)&lt;&lt;bits)-1;
            }
            sum = LONG2FIX(sum0);
        }
        else {
            VALUE mod;

            if (sum0) {
                sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            }

            mod = rb_funcall(INT2FIX(1), idLTLT, 1, INT2FIX(bits));
            mod = rb_funcall(mod, &#39;-&#39;, 1, INT2FIX(1));
            sum = rb_funcall(sum, &#39;&amp;&#39;, 1, mod);
        }
    }
    return sum;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase-instance_method">
  <h3 class='signature '>
    #<strong>swapcase</strong>(*options)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string containing the characters in <code>self</code>, with cases reversed; each uppercase character is downcased; each lowercase character is upcased:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_swapcase'>swapcase</span>         <span class='comment'># =&gt; &quot;hELLO wORLD!&quot;</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#swapcase!-instance_method" title="String#swapcase! (method)">#swapcase!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7869-L7887'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7869' data-end='7887'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7869</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return str_duplicate(rb_cString, str);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase!-instance_method">
  <h3 class='signature '>
    #<strong>swapcase!</strong>(*options)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Upcases each lowercase character in <code>self</code>; downcases uppercase character; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_swapcase!'>swapcase!</span>        <span class='comment'># =&gt; &quot;hELLO wORLD!&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;hELLO wORLD!&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_swapcase!'>swapcase!</span>       <span class='comment'># =&gt; nil</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7832-L7848'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7832' data-end='7848'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7832</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_c-instance_method">
  <h3 class='signature '>
    #<strong>to_c</strong>  &#x21d2; <a href="Complex.html" title="Complex (class)">Complex</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> interpreted as a <a href="Complex.html" title="Complex (class)"><code>::Complex</code></a> object; leading whitespace and trailing garbage are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>                 <span class='comment'># =&gt; (9+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>               <span class='comment'># =&gt; (2.5+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5/1</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>             <span class='comment'># =&gt; ((5/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-3/2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>              <span class='comment'># =&gt; ((-3/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>                <span class='comment'># =&gt; (0-1i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>45i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>               <span class='comment'># =&gt; (0+45i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3-4i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>              <span class='comment'># =&gt; (3-4i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-4e2-4e-2i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'># =&gt; (-400.0-0.04i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-0.0-0.0i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>         <span class='comment'># =&gt; (-0.0-0.0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1/2+3/4i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>          <span class='comment'># =&gt; ((1/2)+(3/4)*i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0@0</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>             <span class='comment'># =&gt; (1+0.0i)
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0@</span><span class='embexpr_beg'>#{</span><span class='const'><a href="Math.html" title="Math (module)">Math</a></span><span class='op'>::</span><span class='const'><a href="Math.html#PI-constant" title="Math::PI (constant)">PI</a></span><span class='op'>/</span><span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span> <span class='comment'># =&gt; (0.0+1i)
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.0@</span><span class='embexpr_beg'>#{</span><span class='const'><a href="Math.html" title="Math (module)">Math</a></span><span class='op'>::</span><span class='const'><a href="Math.html#PI-constant" title="Math::PI (constant)">PI</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>   <span class='comment'># =&gt; (-1+0.0i)</span></code></pre>

<p>Returns Complex zero if the string cannot be converted:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'># =&gt; (0+0i)</span></code></pre>

<p>See <a href="Kernel.html#Complex-class_method" title="Kernel.Complex (method)">Kernel.Complex</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/complex.c#L2270-L2280'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2270' data-end='2280'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'complex.c', line 2270</span></pre>
<pre class='code cpp'>

static VALUE
string_to_c(VALUE self)
{
    VALUE num;

    rb_must_asciicompat(self);

    (void)parse_comp(rb_str_fill_terminator(self, 1), FALSE, &amp;num);

    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_f-instance_method">
  <h3 class='signature '>
    #<strong>to_f</strong>  &#x21d2; <a href="Float.html" title="Float (class)">Float</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <code>self</code> as a <a href="Float.html" title="Float (class)"><code>::Float</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14159</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span>  <span class='comment'># =&gt; 3.14159
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.234e-2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='comment'># =&gt; 0.01234</span></code></pre>

<p>Characters past a leading valid number (in the given <code>base</code>) are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.14 (pi to two places)</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='comment'># =&gt; 3.14</span></code></pre>

<p>Returns zero if there is no leading valid number:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='comment'># =&gt; 0.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6664-L6668'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6664' data-end='6668'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6664</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_f(VALUE str)
{
    return DBL2NUM(rb_str_to_dbl(str, FALSE));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_i-instance_method">
  <h3 class='signature '>
    #<strong>to_i</strong>(base = 10)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <code>self</code> as an integer in the given <code>base</code> (which must be in (0, 2..36)):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123456</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>     <span class='comment'># =&gt; 123456
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>16</span>) <span class='comment'># =&gt; 1195503</span></code></pre>

<p>With <code>base</code> zero, string <code>object</code> may contain leading characters to specify the actual base:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>)   <span class='comment'># =&gt; 123
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>)  <span class='comment'># =&gt; 83
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0b123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0o123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>) <span class='comment'># =&gt; 83
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0d123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>) <span class='comment'># =&gt; 123
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0x123def</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>0</span>) <span class='comment'># =&gt; 1195503</span></code></pre>

<p>Characters past a leading valid number (in the given <code>base</code>) are ignored:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12.345</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>   <span class='comment'># =&gt; 12
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12345</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>2</span>) <span class='comment'># =&gt; 1</span></code></pre>

<p>Returns zero if there is no leading valid number:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abcdef</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span> <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>2</span>)   <span class='comment'># =&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6633-L6642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6633' data-end='6642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6633</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_i(int argc, VALUE *argv, VALUE str)
{
    int base = 10;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (base = NUM2INT(argv[0])) &lt; 0) {
        rb_raise(rb_eArgError, &quot;invalid radix %d&quot;, base);
    }
    return rb_str_to_inum(str, base, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_r-instance_method">
  <h3 class='signature '>
    #<strong>to_r</strong>  &#x21d2; <a href="Rational.html" title="Rational (class)">Rational</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <code>str</code> as a rational.  Leading whitespace and extraneous characters past the end of a valid number are ignored. Digit sequences can be separated by an underscore. If there is not a valid number at the start of <code>str</code>, zero is returned.  This method never raises an exception.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  2  </span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (2/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>300/2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (150/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>        <span class='comment'>#=&gt; (-46/5)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2e2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>      <span class='comment'>#=&gt; (-920/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1_234_567</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>   <span class='comment'>#=&gt; (1234567/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21 June 09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>  <span class='comment'>#=&gt; (21/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21/06/09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (7/2)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BWV 1079</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (0/1)</span></code></pre>

<p>NOTE: “0.3”.to_r isn’t the same as 0.3.to_r.  The former is equivalent to “3/10”.to_r, but the latter isn’t so.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.3</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span> <span class='op'>==</span> <span class='int'>3</span><span class='op'>/</span><span class='rational'>10r</span>  <span class='comment'>#=&gt; true
</span><span class='float'>0.3</span>.<span class='id identifier rubyid_to_r'>to_r</span>   <span class='op'>==</span> <span class='int'>3</span><span class='op'>/</span><span class='rational'>10r</span>  <span class='comment'>#=&gt; false</span></code></pre>

<p>See also <a href="Kernel.html#Rational-class_method" title="Kernel.Rational (method)">Kernel.Rational</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/rational.c#L2524-L2536'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2524' data-end='2536'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rational.c', line 2524</span></pre>
<pre class='code cpp'>

static VALUE
string_to_r(VALUE self)
{
    VALUE num;

    rb_must_asciicompat(self);

    num = parse_rat(RSTRING_PTR(self), RSTRING_END(self), 0, TRUE);

    if (RB_FLOAT_TYPE_P(num) &amp;&amp; !FLOAT_ZERO_P(num))
        rb_raise(rb_eFloatDomainError, &quot;Infinity&quot;);
    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <code>self</code>, <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#to_str</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> if <code>self</code> is a <code>String</code>, or <code>self</code> converted to a <code>String</code> if <code>self</code> is a subclass of <code>String</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L6679-L6686'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6679' data-end='6686'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6679</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_s(VALUE str)
{
    if (rb_obj_class(str) != rb_cString) {
        return str_duplicate(rb_cString, str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_str-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <code>self</code>, <code>String</code> </span>
      <span class='overload'>#<strong>to_str</strong>  &#x21d2; <code>self</code>, <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="to_sym-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="tr-instance_method">
  <h3 class='signature '>
    #<strong>tr</strong>(selector, replacements)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with each character specified by string <code>selector</code> translated to the corresponding character in string <code>replacements</code>. The correspondence is <em>positional</em>:</p>
<ul><li>
<p>Each occurrence of the first character specified by <code>selector</code> is translated to the first character in <code>replacements</code>.</p>
</li><li>
<p>Each occurrence of the second character specified by <code>selector</code> is translated to the second character in <code>replacements</code>.</p>
</li><li>
<p>And so on.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ip</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'>#=&gt; &quot;hippo&quot;</span></code></pre>

<p>If <code>replacements</code> is shorter than <code>selector</code>, it is implicitly padded with its own last character:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;h-ll-&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AA-</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;hAll-&quot;</span></code></pre>

<p>Arguments <code>selector</code> and <code>replacements</code> must be valid character selectors (see <code>Character Selectors</code>), and may use any of its valid forms, including negation, ranges, and escaping:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Negation.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>^aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;-e--o&quot;
</span><span class='comment'># Ranges.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ibm</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b-z</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a-z</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;hal&quot;
</span><span class='comment'># Escapes.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hel^lo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\^aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;h-l-l-&quot;    # Escaped leading caret.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i-b-m</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b\-z</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a-z</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; &quot;ibabm&quot;     # Escaped embedded hyphen.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo\\bar</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab\\</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>XYZ</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;fooZYXr&quot;   # Escaped backslash.</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8272-L8278'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8272' data-end='8278'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8272</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr(VALUE str, VALUE src, VALUE repl)
{
    str = str_duplicate(rb_cString, str);
    tr_trans(str, src, repl, 0);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr!-instance_method">
  <h3 class='signature '>
    #<strong>tr!</strong>(selector, replacements)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, but modifies <code>self</code> in place. Returns <code>self</code> if any changes were made, <code>nil</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8226-L8230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8226' data-end='8230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8226</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s-instance_method">
  <h3 class='signature '>
    #<strong>tr_s</strong>(selector, replacements)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, but also squeezes the modified portions of the translated string; returns a new string (translated and squeezed).</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; &quot;hero&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;h-o&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hx</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'>#=&gt; &quot;hhxo&quot;</span></code></pre>

<p>Related: <a href="#squeeze-instance_method" title="String#squeeze (method)">#squeeze</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8604-L8610'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8604' data-end='8610'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8604</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s(VALUE str, VALUE src, VALUE repl)
{
    str = str_duplicate(rb_cString, str);
    tr_trans(str, src, repl, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s!-instance_method">
  <h3 class='signature '>
    #<strong>tr_s!</strong>(selector, replacements)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a>, but modifies <code>self</code> in place. Returns <code>self</code> if any changes were made, <code>nil</code> otherwise.</p>

<p>Related: <a href="#squeeze!-instance_method" title="String#squeeze! (method)">#squeeze!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L8582-L8586'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8582' data-end='8586'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8582</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="undump-instance_method">
  <h3 class='signature '>
    #<strong>undump</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an unescaped version of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s_orig'>s_orig</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\f\x00\xff\\\&quot;</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># =&gt; &quot;\f\u0000\xFF\\\&quot;&quot;
</span><span class='id identifier rubyid_s_dumped'>s_dumped</span> <span class='op'>=</span> <span class='id identifier rubyid_s_orig'>s_orig</span>.<span class='id identifier rubyid_dump'><a href="#dump-instance_method" title="String#dump (method)">dump</a></span>       <span class='comment'># =&gt; &quot;\&quot;\\f\\x00\\xFF\\\\\\\&quot;\&quot;&quot;
</span><span class='id identifier rubyid_s_undumped'>s_undumped</span> <span class='op'>=</span> <span class='id identifier rubyid_s_dumped'>s_dumped</span>.<span class='id identifier rubyid_undump'>undump</span> <span class='comment'># =&gt; &quot;\f\u0000\xFF\\\&quot;&quot;
</span><span class='id identifier rubyid_s_undumped'>s_undumped</span> <span class='op'>==</span> <span class='id identifier rubyid_s_orig'>s_orig</span>         <span class='comment'># =&gt; true</span></code></pre>

<p>Related: <a href="#dump-instance_method" title="String#dump (method)">#dump</a> (inverse of <code>undump</code>).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7227-L7316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7227' data-end='7316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7227</span></pre>
<pre class='code cpp'>

static VALUE
str_undump(VALUE str)
{
    const char *s = RSTRING_PTR(str);
    const char *s_end = RSTRING_END(str);
    rb_encoding *enc = rb_enc_get(str);
    VALUE undumped = rb_enc_str_new(s, 0L, enc);
    bool utf8 = false;
    bool binary = false;
    int w;

    rb_must_asciicompat(str);
    if (rb_str_is_ascii_only_p(str) == Qfalse) {
        rb_raise(rb_eRuntimeError, &quot;non-ASCII character detected&quot;);
    }
    if (!str_null_check(str, &amp;w)) {
        rb_raise(rb_eRuntimeError, &quot;string contains null byte&quot;);
    }
    if (RSTRING_LEN(str) &lt; 2) goto invalid_format;
    if (*s != &#39;&quot;&#39;) goto invalid_format;

    /* strip &#39;&quot;&#39; at the start */
    s++;

    for (;;) {
        if (s &gt;= s_end) {
            rb_raise(rb_eRuntimeError, &quot;unterminated dumped string&quot;);
        }

        if (*s == &#39;&quot;&#39;) {
            /* epilogue */
            s++;
            if (s == s_end) {
                /* ascii compatible dumped string */
                break;
            }
            else {
                static const char force_encoding_suffix[] = &quot;.force_encoding(\&quot;&quot;; /* &quot;\&quot;)&quot; */
                static const char dup_suffix[] = &quot;.dup&quot;;
                const char *encname;
                int encidx;
                ptrdiff_t size;

                /* check separately for strings dumped by older versions */
                size = sizeof(dup_suffix) - 1;
                if (s_end - s &gt; size &amp;&amp; memcmp(s, dup_suffix, size) == 0) s += size;

                size = sizeof(force_encoding_suffix) - 1;
                if (s_end - s &lt;= size) goto invalid_format;
                if (memcmp(s, force_encoding_suffix, size) != 0) goto invalid_format;
                s += size;

                if (utf8) {
                    rb_raise(rb_eRuntimeError, &quot;dumped string contained Unicode escape but used force_encoding&quot;);
                }

                encname = s;
                s = memchr(s, &#39;&quot;&#39;, s_end-s);
                size = s - encname;
                if (!s) goto invalid_format;
                if (s_end - s != 2) goto invalid_format;
                if (s[0] != &#39;&quot;&#39; || s[1] != &#39;)&#39;) goto invalid_format;

                encidx = rb_enc_find_index2(encname, (long)size);
                if (encidx &lt; 0) {
                    rb_raise(rb_eRuntimeError, &quot;dumped string has unknown encoding name&quot;);
                }
                rb_enc_associate_index(undumped, encidx);
            }
            break;
        }

        if (*s == &#39;\\&#39;) {
            s++;
            if (s &gt;= s_end) {
                rb_raise(rb_eRuntimeError, &quot;invalid escape&quot;);
            }
            undump_after_backslash(undumped, &amp;s, s_end, &amp;enc, &amp;utf8, &amp;binary);
        }
        else {
            rb_str_cat(undumped, s++, 1);
        }
    }

    RB_GC_GUARD(str);

    return undumped;
invalid_format:
    rb_raise(rb_eRuntimeError, &quot;invalid dumped string; not wrapped with &#39;\&quot;&#39; nor &#39;\&quot;...\&quot;.force_encoding(\&quot;...\&quot;)&#39; form&quot;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalize-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalize</strong>(form = :nfc)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with <a href="https://unicode.org/reports/tr15" target="_parent" title="Unicode normalization">Unicode normalization</a> applied.</p>

<p>Argument <code>form</code> must be one of the following symbols (see <a href="https://unicode.org/reports/tr15/#Norm_Forms" target="_parent" title="Unicode normalization forms">Unicode normalization forms</a>):</p>
<ul><li>
<p><code>:nfc</code>: Canonical decomposition, followed by canonical composition.</p>
</li><li>
<p><code>:nfd</code>: Canonical decomposition.</p>
</li><li>
<p><code>:nfkc</code>: Compatibility decomposition, followed by canonical composition.</p>
</li><li>
<p><code>:nfkd</code>: Compatibility decomposition.</p>
</li></ul>

<p>The encoding of <code>self</code> must be one of:</p>
<ul><li>
<p><code>Encoding::UTF_8</code></p>
</li><li>
<p><code>Encoding::UTF_16BE</code></p>
</li><li>
<p><code>Encoding::UTF_16LE</code></p>
</li><li>
<p><code>Encoding::UTF_32BE</code></p>
</li><li>
<p><code>Encoding::UTF_32LE</code></p>
</li><li>
<p><code>Encoding::GB18030</code></p>
</li><li>
<p><code>Encoding::UCS_2BE</code></p>
</li><li>
<p><code>Encoding::UCS_4BE</code></p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>      <span class='comment'># =&gt; &quot;a&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>) <span class='comment'># =&gt; &quot;a &quot;</span></code></pre>

<p>Related: <a href="#unicode_normalize!-instance_method" title="String#unicode_normalize! (method)">#unicode_normalize!</a>, <a href="#unicode_normalized%3F-instance_method" title="String#unicode_normalized? (method)">#unicode_normalized?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11475-L11479'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11475' data-end='11479'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11475</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalize(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalize);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalize!-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalize!</strong>(form = :nfc)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>, except that the normalization is performed on <code>self</code>.</p>

<p>Related <a href="#unicode_normalized%3F-instance_method" title="String#unicode_normalized? (method)">#unicode_normalized?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11491-L11495'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11491' data-end='11495'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11491</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalize_bang(int argc, VALUE *argv, VALUE str)
{
    return rb_str_replace(str, unicode_normalize_common(argc, argv, str, id_normalize));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalized?-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalized?</strong>(form = :nfc)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> is in the given <code>form</code> of Unicode normalization, <code>false</code> otherwise. The <code>form</code> must be one of <code>:nfc</code>, <code>:nfd</code>, <code>:nfkc</code>, or <code>:nfkd</code>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>       <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>        <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>)  <span class='comment'># =&gt; false</span></code></pre>

<p>Raises an exception if <code>self</code> is not in a Unicode encoding:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xE0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span> <span class='comment'># Raises Encoding::CompatibilityError.</span></code></pre>

<p>Related: <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>, <a href="#unicode_normalize!-instance_method" title="String#unicode_normalize! (method)">#unicode_normalize!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L11520-L11524'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='11520' data-end='11524'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 11520</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalized_p(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalized_p);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack-instance_method">
  <h3 class='signature '>
    #<strong>unpack</strong>(template, offset: 0)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts data from <code>self</code>, forming objects that become the elements of a new array; returns that array. See <code>Packed Data</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/pack.rb#L19-L21'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='19' data-end='21'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack'>unpack</span>(<span class='id identifier rubyid_fmt'>fmt</span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='int'>0</span>)
  <span class='const'>Primitive</span>.<span class='id identifier rubyid_pack_unpack'>pack_unpack</span>(<span class='id identifier rubyid_fmt'>fmt</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack1-instance_method">
  <h3 class='signature '>
    #<strong>unpack1</strong>(template, offset: 0)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>, but unpacks and returns only the first extracted object. See <code>Packed Data</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/pack.rb#L28-L30'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='28' data-end='30'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.rb', line 28</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='id identifier rubyid_fmt'>fmt</span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='int'>0</span>)
  <span class='const'>Primitive</span>.<span class='id identifier rubyid_pack_unpack1'>pack_unpack1</span>(<span class='id identifier rubyid_fmt'>fmt</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase-instance_method">
  <h3 class='signature '>
    #<strong>upcase</strong>(*options)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string containing the upcased characters in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span>           <span class='comment'># =&gt; &quot;HELLO WORLD!&quot;</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#upcase!-instance_method" title="String#upcase! (method)">#upcase!</a>, <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a>, <a href="#downcase!-instance_method" title="String#downcase! (method)">#downcase!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7605-L7628'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7605' data-end='7628'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7605</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        ret = rb_str_new(RSTRING_PTR(str), RSTRING_LEN(str));
        str_enc_copy_direct(ret, str);
        upcase_single(ret);
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }

    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase!-instance_method">
  <h3 class='signature '>
    #<strong>upcase!</strong>(*options)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Upcases the characters in <code>self</code>; returns <code>self</code> if any changes were made, <code>nil</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World!</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;Hello World!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase!'>upcase!</span>          <span class='comment'># =&gt; &quot;HELLO WORLD!&quot;
</span><span class='id identifier rubyid_s'>s</span>                  <span class='comment'># =&gt; &quot;HELLO WORLD!&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase!'>upcase!</span>          <span class='comment'># =&gt; nil</span></code></pre>

<p>The casing may be affected by the given <code>options</code>; see <code>Case Mapping</code>.</p>

<p>Related: <a href="#upcase-instance_method" title="String#upcase (method)">#upcase</a>, <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a>, <a href="#downcase!-instance_method" title="String#downcase! (method)">#downcase!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L7566-L7586'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7566' data-end='7586'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7566</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        if (upcase_single(str))
            flags |= ONIGENC_CASE_MODIFIED;
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
        str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upto-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upto</strong>(other_string, exclusive = false) {|string| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>upto</strong>(other_string, exclusive = false)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each <code>String</code> value returned by successive calls to <code>String#succ;</code> the first value is <code>self</code>, the next is <code>self.succ</code>, and so on; the sequence terminates when value <code>other_string</code> is reached; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> } <span class='comment'># =&gt; &quot;a8&quot;</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span> <span class='id identifier rubyid_b6'>b6</span></code></pre>

<p>If argument <code>exclusive</code> is given as a truthy object, the last value is omitted:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> } <span class='comment'># =&gt; &quot;a8&quot;</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span></code></pre>

<p>If <code>other_string</code> would not be reached, does not call the block:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>25</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>5</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='id identifier rubyid_s'>s</span> }
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='id identifier rubyid_s'>s</span> }</code></pre>

<p>With no block given, returns a new <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;Enumerator: &quot;a8&quot;:upto(&quot;b6&quot;)&gt;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/string.c#L5055-L5063'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5055' data-end='5063'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5055</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upto(int argc, VALUE *argv, VALUE beg)
{
    VALUE end, exclusive;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;end, &amp;exclusive);
    RETURN_ENUMERATOR(beg, argc, argv);
    return rb_str_upto_each(beg, end, RTEST(exclusive), str_upto_i, Qnil);
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>