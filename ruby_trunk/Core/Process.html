<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Process &mdash; Core Ruby-master dev</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Process",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-master</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_P'>Index (P)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Process&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Process</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Process/GID.html" title="Process::GID (module)"><code>GID</code></a>,
        <a href="Process/Sys.html" title="Process::Sys (module)"><code>Sys</code></a>,
        <a href="Process/UID.html" title="Process::UID (module)"><code>UID</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Process/Status.html" title="Process::Status (class)"><code>Status</code></a>,
        <a href="Process/Tms.html" title="Process::Tms (class)"><code>Tms</code></a>,
        <a class='nodoc' href="Process/Waiter.html" title="Process::Waiter (class)"><code>Waiter</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L8789'>process.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9224'>process.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/master/ruby.c#L2888'>ruby.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Module <code>Process</code> represents a process in the underlying operating system. Its methods support management of the current process and its child processes.</p>

<h3 id="label-Process+Creation">Process Creation</h3>

<p>Each of the following methods executes a given command in a new process or subshell, or multiple commands in new processes and/or subshells. The choice of process or subshell depends on the form of the command; see <code>Argument command_line or exe_path</code>.</p>
<ul><li>
<p><a href="#spawn-class_method" title="Process.spawn (method)">.spawn</a>, <a href="Kernel.html#spawn-class_method" title="Kernel.spawn (method)">Kernel.spawn</a>: Executes the command; returns the new pid without waiting for completion.</p>
</li><li>
<p><a href="#exec-class_method" title="Process.exec (method)">.exec</a>: Replaces the current process by executing the command.</p>
</li></ul>

<p>In addition:</p>
<ul><li>
<p>Method <a href="Kernel.html#system-class_method" title="Kernel.system (method)">Kernel.system</a> executes a given command-line (string) in a subshell; returns <code>true</code>, <code>false</code>, or <code>nil</code>.</p>
</li><li>
<p>Method <code>Kernel.‘</code> executes a given command-line (string) in a subshell; returns its $stdout string.</p>
</li><li>
<p>Module Open3 supports creating child processes with access to their $stdin, $stdout, and $stderr streams.</p>
</li></ul>

<h4 id="label-Execution+Environment">Execution Environment</h4>

<p>Optional leading argument <code>env</code> is a hash of name/value pairs, where each name is a string and each value is a string or <code>nil</code>; each name/value pair is added to <a href="ENV.html" title="ENV (class)"><code>::ENV</code></a> in the new process.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby -e &quot;p ENV[\&quot;Foo\&quot;]&quot;</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>}<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby -e &quot;p ENV[\&quot;Foo\&quot;]&quot;</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>The effect is usually similar to that of calling <code>ENV#update</code> with argument <code>env</code>, where each named environment variable is created or updated (if the value is non-<code>nil</code>), or deleted (if the value is <code>nil</code>).</p>

<p>However, some modifications to the calling process may remain if the new process fails. For example, hard resource limits are not restored.</p>

<h4 id="label-Argument+-7Bcommand_line-7D+or+-7Bexe_path-7D">Argument <code>command_line</code> or <code>exe_path</code></h4>

<p>The required string argument is one of the following:</p>
<ul><li>
<p><code>command_line</code> if it begins with a shell reserved word or special built-in, or if it contains one or more meta characters.</p>
</li><li>
<p><code>exe_path</code> otherwise.</p>
</li></ul>

<h5 id="label-Argument+-7Bcommand_line-7D">Argument <code>command_line</code></h5>

<p>String argument <code>command_line</code> is a command line to be passed to a shell; it must begin with a shell reserved word, begin with a special built-in, or contain meta characters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if true; then echo &quot;Foo&quot;; fi</span><span class='tstring_end'>&#39;</span></span>)          <span class='comment'># =&gt; true  # Shell reserved word.
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit</span><span class='tstring_end'>&#39;</span></span>)                                  <span class='comment'># =&gt; true  # Built-in.
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>date &gt; /tmp/date.tmp</span><span class='tstring_end'>&#39;</span></span>)                  <span class='comment'># =&gt; true  # Contains meta character.
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>date &gt; /nop/date.tmp</span><span class='tstring_end'>&#39;</span></span>)                  <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>date &gt; /nop/date.tmp</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>exception:</span> <span class='kw'>true</span>) <span class='comment'># Raises RuntimeError.</span></code></pre>

<p>The command line may also contain arguments and options for the command:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>echo &quot;Foo&quot;</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Foo</span></code></pre>

<p>See <code>Execution Shell</code> for details about the shell.</p>

<h5 id="label-Argument+-7Bexe_path-7D">Argument <code>exe_path</code></h5>

<p>Argument <code>exe_path</code> is one of the following:</p>
<ul><li>
<p>The string path to an executable file to be called:</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/bin/date</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true # Path to date on Unix-style system.
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; nil  # Command execlution failed.</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Thu</span> <span class='const'>Aug</span> <span class='int'>31</span> <span class='int'>10</span><span class='symbeg'>:</span><span class='int'>06</span><span class='symbeg'>:</span><span class='int'>48</span> <span class='const'>AM</span> <span class='const'>CDT</span> <span class='int'>2023</span></code></pre>

<p>A path or command name containing spaces without arguments cannot be distinguished from <code>command_line</code> above, so you must quote or escape the entire command name using a shell in platform dependent manner, or use the array form below.</p>

<p>If <code>exe_path</code> does not contain any path separator, an executable file is searched from directories specified with the <code>PATH</code> environment variable.  What the word “executable” means here is depending on platforms.</p>

<p>Even if the file considered “executable”, its content may not be in proper executable format.  In that case, Ruby tries to run it by using <code>/bin/sh</code> on a Unix-like system, like system(3) does.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_write'><a href="IO.html#write-class_method" title="IO.write (method)">write</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shell_command</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>echo $SHELL</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>perm:</span> <span class='int'>0o755</span>)
<span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./shell_command</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># prints &quot;/bin/sh&quot; or something.</span></code></pre>
</li><li>
<p>A 2-element array containing the path to an executable and the string to be used as the name of the executing process:</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sleep</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello!</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># 2-element array.
</span><span class='id identifier rubyid_p'>p</span> <span class='backtick'>`</span><span class='tstring_content'>ps -p </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> -o command=</span><span class='tstring_end'>`</span></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello! 1\n</span><span class='tstring_end'>&quot;</span></span></code></pre>
</li></ul>

<h4 id="label-Arguments+-7Bargs-7D">Arguments <code>args</code></h4>

<p>If <code>command_line</code> does not contain shell meta characters except for spaces and tabs, or <code>exe_path</code> is given, Ruby invokes the executable directly.  This form does not use the shell:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>doesnt_exist</span><span class='tstring_end'>&quot;</span></span>)       <span class='comment'># Raises Errno::ENOENT
</span><span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>doesnt_exist</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># Raises Errno::ENOENT
</span>
<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>doesnt_exist\n</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; false
</span><span class='comment'># sh: 1: doesnot_exist: not found</span></code></pre>

<p>The error message is from a shell and would vary depending on your system.</p>

<p>If one or more <code>args</code> is given after <code>exe_path</code>, each is an argument or option to be passed to the executable:</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>|</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$SHELL</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; true</span></code></pre>

<p>Output:</p>

<pre class="code xml"><code class="xml">&lt; C* | $SHELL &gt;
</code></pre>

<p>However, there are exceptions on Windows.  See <a href="rdoc-ref:Process@Execution+Shell+on+Windows">Execution Shell on Windows</a>.</p>

<p>If you want to invoke a path containing spaces with no arguments without shell, you will need to use a 2-element array <code>exe_path</code>.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/Applications/Google Chrome.app/Contents/MacOS/Google Chrome</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='id identifier rubyid_path'>path</span>) <span class='comment'># Raises Errno::ENOENT; No such file or directory - /Applications/Google
</span><span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>([<span class='id identifier rubyid_path'>path</span>] <span class='op'>*</span> <span class='int'>2</span>)</code></pre>

<h4 id="label-Execution+Options">Execution Options</h4>

<p>Optional trailing argument <code>options</code> is a hash of execution options.</p>

<h5 id="label-Working+Directory+-28-3Achdir-29">Working Directory (<code>:chdir</code>)</h5>

<p>By default, the working directory for the new process is the same as that of the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>.<span class='id identifier rubyid_chdir'><a href="Dir.html#chdir-class_method" title="Dir.chdir (method)">chdir</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/var</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby -e &quot;puts Dir.pwd&quot;</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>var</span></code></pre>

<p>Use option <code>:chdir</code> to set the working directory for the new process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby -e &quot;puts Dir.pwd&quot;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> {<span class='label'>chdir:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/tmp</span><span class='tstring_end'>&#39;</span></span>})</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tmp</span></code></pre>

<p>The working directory of the current process is not changed:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span>.<span class='id identifier rubyid_pwd'><a href="Dir.html#pwd-class_method" title="Dir.pwd (method)">pwd</a></span> <span class='comment'># =&gt; &quot;/var&quot;</span></code></pre>

<h5 id="label-File+Redirection+-28File+Descriptor-29">File Redirection (File Descriptor)</h5>

<p>Use execution options for file redirection in the new process.</p>

<p>The key for such an option may be an integer file descriptor (fd), specifying a source, or an array of fds, specifying multiple sources.</p>

<p>An integer source fd may be specified as:</p>
<ul><li>
<p><em>n</em>: Specifies file descriptor <em>n</em>.</p>
</li></ul>

<p>There are these shorthand symbols for fds:</p>
<ul><li>
<p><code>:in</code>: Specifies file descriptor 0 (STDIN).</p>
</li><li>
<p><code>:out</code>: Specifies file descriptor 1 (STDOUT).</p>
</li><li>
<p><code>:err</code>: Specifies file descriptor 2 (STDERR).</p>
</li></ul>

<p>The value given with a source is one of:</p>
<ul><li>
<p><em>n</em>: Redirects to fd <em>n</em> in the parent process.</p>
</li><li>
<p><code>filepath</code>: Redirects from or to the file at <code>filepath</code> via <code>open(filepath, mode, 0644)</code>, where <code>mode</code> is <code>&#39;r&#39;</code> for source <code>:in</code>, or <code>&#39;w&#39;</code> for source <code>:out</code> or <code>:err</code>.</p>
</li><li>
<p><code>[filepath]</code>: Redirects from the file at <code>filepath</code> via <code>open(filepath, &#39;r&#39;, 0644)</code>.</p>
</li><li>
<p><code>[filepath, mode]</code>: Redirects from or to the file at <code>filepath</code> via <code>open(filepath, mode, 0644)</code>.</p>
</li><li>
<p><code>[filepath, mode, perm]</code>: Redirects from or to the file at <code>filepath</code> via <code>open(filepath, mode, perm)</code>.</p>
</li><li>
<p><code>[:child, fd]</code>: Redirects to the redirected <code>fd</code>.</p>
</li><li>
<p><code>:close</code>: Closes the file descriptor in child process.</p>
</li></ul>

<p>See <code>Access Modes</code> and <code>{File</code> Permissions}.</p>

<h5 id="label-Environment+Variables+-28-3Aunsetenv_others-29">Environment Variables (<code>:unsetenv_others</code>)</h5>

<p>By default, the new process inherits environment variables from the parent process; use execution option key <code>:unsetenv_others</code> with value <code>true</code> to clear environment variables in the new process.</p>

<p>Any changes specified by execution option <code>env</code> are made after the new process inherits or clears its environment variables; see <code>Execution Environment</code>.</p>

<h5 id="label-File-Creation+Access+-28-3Aumask-29">File-Creation Access (<code>:umask</code>)</h5>

<p>Use execution option <code>:umask</code> to set the file-creation access for the new process; see <code>Access Modes</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby -e &quot;puts sprintf(\&quot;0%o\&quot;, File.umask)&quot;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_umask'>umask</span> <span class='op'>=&gt;</span> <span class='int'>0644</span>}
<span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>0644</span></code></pre>

<h5 id="label-Process+Groups+-28-3Apgroup+and+-3Anew_pgroup-29">Process Groups (<code>:pgroup</code> and <code>:new_pgroup</code>)</h5>

<p>By default, the new process belongs to the same <a href="https://en.wikipedia.org/wiki/Process_group" target="_parent" title="process group">process group</a> as the parent process.</p>

<p>To specify a different process group. use execution option <code>:pgroup</code> with one of the following values:</p>
<ul><li>
<p><code>true</code>: Create a new process group for the new process.</p>
</li><li>
<p><em>pgid</em>: Create the new process in the process group whose id is <em>pgid</em>.</p>
</li></ul>

<p>On Windows only, use execution option <code>:new_pgroup</code> with value <code>true</code> to create a new process group for the new process.</p>

<h5 id="label-Resource+Limits">Resource Limits</h5>

<p>Use execution options to set resource limits.</p>

<p>The keys for these options are symbols of the form <code>:rlimit_<em>resource_name</em></code>, where <em>resource_name</em> is the downcased form of one of the string resource names described at method <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a>. For example, key <code>:rlimit_cpu</code> corresponds to resource limit <code>&#39;CPU&#39;</code>.</p>

<p>The value for such as key is one of:</p>
<ul><li>
<p>An integer, specifying both the current and maximum limits.</p>
</li><li>
<p>A 2-element array of integers, specifying the current and maximum limits.</p>
</li></ul>

<h5 id="label-File+Descriptor+Inheritance">File Descriptor Inheritance</h5>

<p>By default, the new process inherits file descriptors from the parent process.</p>

<p>Use execution option <code>:close_others =&gt; true</code> to modify that inheritance by closing non-standard fds (3 and greater) that are not otherwise redirected.</p>

<h4 id="label-Execution+Shell">Execution Shell</h4>

<p>On a Unix-like system, the shell invoked is <code>/bin/sh</code>; the entire string <code>command_line</code> is passed as an argument to <a href="https://pubs.opengroup.org/onlinepubs/9699919799.2018edition/utilities/sh.html" target="_parent" title="shell option -c">shell option -c</a>.</p>

<p>The shell performs normal shell expansion on the command line:</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>echo $SHELL: C*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>bin</span><span class='regexp_end'>/bash</span></span><span class='op'>:</span> <span class='const'>CONTRIBUTING</span>.<span class='id identifier rubyid_md'>md</span> <span class='const'>COPYING</span> <span class='const'>COPYING</span>.<span class='id identifier rubyid_ja'>ja</span></code></pre>

<h5 id="label-Execution+Shell+on+Windows">Execution Shell on Windows</h5>

<p>On Windows, the shell invoked is determined by environment variable <code>RUBYSHELL</code>, if defined, or <code>COMSPEC</code> otherwise; the entire string <code>command_line</code> is passed as an argument to <code>-c</code> option for <code>RUBYSHELL</code>, as well as <code>/bin/sh</code>, and <a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/cmd">/c option</a> for <code>COMSPEC</code>.  The shell is invoked automatically in the following cases:</p>
<ul><li>
<p>The command is a built-in of <code>cmd.exe</code>, such as <code>echo</code>.</p>
</li><li>
<p>The executable file is a batch file; its name ends with <code>.bat</code> or <code>.cmd</code>.</p>
</li></ul>

<p>Note that the command will still be invoked as <code>command_line</code> form even when called in <code>exe_path</code> form, because <code>cmd.exe</code> does not accept a script name like <code>/bin/sh</code> does but only works with <code>/c</code> option.</p>

<p>The standard shell <code>cmd.exe</code> performs environment variable expansion but does not have globbing functionality:</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo %COMSPEC%: C*</span><span class='tstring_end'>&quot;</span></span>)<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> # =&gt; true</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>C</span><span class='symbeg'>:</span><span class='CHAR'>\</span><span class='const'>WINDOWS</span><span class='CHAR'>\</span><span class='id identifier rubyid_system32'>system32</span><span class='CHAR'>\</span><span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_exe'>exe</span><span class='op'>:</span> <span class='const'>C</span><span class='op'>*</span></code></pre>

<h3 id="label-What-27s+Here">What’s Here</h3>

<h4 id="label-Current-Process+Getters">Current-Process Getters</h4>
<ul><li>
<p><a href="#argv0-class_method" title="Process.argv0 (method)">.argv0</a>: Returns the process name as a frozen string.</p>
</li><li>
<p><a href="#egid-class_method" title="Process.egid (method)">.egid</a>: Returns the effective group ID.</p>
</li><li>
<p><a href="#euid-class_method" title="Process.euid (method)">.euid</a>: Returns the effective user ID.</p>
</li><li>
<p><a href="#getpgrp-class_method" title="Process.getpgrp (method)">.getpgrp</a>: Return the process group ID.</p>
</li><li>
<p><a href="#getrlimit-class_method" title="Process.getrlimit (method)">.getrlimit</a>: Returns the resource limit.</p>
</li><li>
<p><a href="#gid-class_method" title="Process.gid (method)">.gid</a>: Returns the (real) group ID.</p>
</li><li>
<p><a href="#pid-class_method" title="Process.pid (method)">.pid</a>: Returns the process ID.</p>
</li><li>
<p><a href="#ppid-class_method" title="Process.ppid (method)">.ppid</a>: Returns the process ID of the parent process.</p>
</li><li>
<p><a href="#uid-class_method" title="Process.uid (method)">.uid</a>: Returns the (real) user ID.</p>
</li></ul>

<h4 id="label-Current-Process+Setters">Current-Process Setters</h4>
<ul><li>
<p><a href="#egid=-class_method" title="Process.egid= (method)">.egid=</a>: Sets the effective group ID.</p>
</li><li>
<p><a href="#euid=-class_method" title="Process.euid= (method)">.euid=</a>: Sets the effective user ID.</p>
</li><li>
<p><a href="#gid=-class_method" title="Process.gid= (method)">.gid=</a>: Sets the (real) group ID.</p>
</li><li>
<p><a href="#setproctitle-class_method" title="Process.setproctitle (method)">.setproctitle</a>: Sets the process title.</p>
</li><li>
<p><a href="#setpgrp-class_method" title="Process.setpgrp (method)">.setpgrp</a>: Sets the process group ID of the process to zero.</p>
</li><li>
<p><a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a>: Sets a resource limit.</p>
</li><li>
<p><a href="#setsid-class_method" title="Process.setsid (method)">.setsid</a>: Establishes the process as a new session and process group leader, with no controlling tty.</p>
</li><li>
<p><a href="#uid=-class_method" title="Process.uid= (method)">.uid=</a>: Sets the user ID.</p>
</li></ul>

<h4 id="label-Current-Process+Execution">Current-Process Execution</h4>
<ul><li>
<p><a href="#abort-class_method" title="Process.abort (method)">.abort</a>: Immediately terminates the process.</p>
</li><li>
<p><a href="#daemon-class_method" title="Process.daemon (method)">.daemon</a>: Detaches the process from its controlling terminal and continues running it in the background as system daemon.</p>
</li><li>
<p><a href="#exec-class_method" title="Process.exec (method)">.exec</a>: Replaces the process by running a given external command.</p>
</li><li>
<p><a href="#exit-class_method" title="Process.exit (method)">.exit</a>: Initiates process termination by raising exception <a href="SystemExit.html" title="SystemExit (class)"><code>::SystemExit</code></a> (which may be caught).</p>
</li><li>
<p><a href="#exit!-class_method" title="Process.exit! (method)">.exit!</a>: Immediately exits the process.</p>
</li><li>
<p><a href="#warmup-class_method" title="Process.warmup (method)">.warmup</a>: Notifies the Ruby virtual machine that the boot sequence for the application is completed, and that the VM may begin optimizing the application.</p>
</li></ul>

<h4 id="label-Child+Processes">Child Processes</h4>
<ul><li>
<p><a href="#detach-class_method" title="Process.detach (method)">.detach</a>: Guards against a child process becoming a zombie.</p>
</li><li>
<p><a href="#fork-class_method" title="Process.fork (method)">.fork</a>: Creates a child process.</p>
</li><li>
<p><a href="#kill-class_method" title="Process.kill (method)">.kill</a>: Sends a given signal to processes.</p>
</li><li>
<p><a href="#spawn-class_method" title="Process.spawn (method)">.spawn</a>: Creates a child process.</p>
</li><li>
<p><a href="#wait-class_method" title="Process.wait (method)">.wait</a>, <a href="#waitpid-class_method" title="Process.waitpid (method)">.waitpid</a>: Waits for a child process to exit; returns its process ID.</p>
</li><li>
<p><a href="#wait2-class_method" title="Process.wait2 (method)">.wait2</a>, <a href="#waitpid2-class_method" title="Process.waitpid2 (method)">.waitpid2</a>: Waits for a child process to exit; returns its process ID and status.</p>
</li><li>
<p><a href="#waitall-class_method" title="Process.waitall (method)">.waitall</a>: Waits for all child processes to exit; returns their process IDs and statuses.</p>
</li></ul>

<h4 id="label-Process+Groups">Process Groups</h4>
<ul><li>
<p><a href="#getpgid-class_method" title="Process.getpgid (method)">.getpgid</a>: Returns the process group ID for a process.</p>
</li><li>
<p><a href="#getpriority-class_method" title="Process.getpriority (method)">.getpriority</a>: Returns the scheduling priority for a process, process group, or user.</p>
</li><li>
<p><a href="#getsid-class_method" title="Process.getsid (method)">.getsid</a>: Returns the session ID for a process.</p>
</li><li>
<p><a href="#groups-class_method" title="Process.groups (method)">.groups</a>: Returns an array of the group IDs in the supplemental group access list for this process.</p>
</li><li>
<p><a href="#groups=-class_method" title="Process.groups= (method)">.groups=</a>: Sets the supplemental group access list to the given array of group IDs.</p>
</li><li>
<p><a href="#initgroups-class_method" title="Process.initgroups (method)">.initgroups</a>: Initializes the supplemental group access list.</p>
</li><li>
<p><a href="#last_status-class_method" title="Process.last_status (method)">.last_status</a>: Returns the status of the last executed child process in the current thread.</p>
</li><li>
<p><a href="#maxgroups-class_method" title="Process.maxgroups (method)">.maxgroups</a>: Returns the maximum number of group IDs allowed in the supplemental group access list.</p>
</li><li>
<p><a href="#maxgroups=-class_method" title="Process.maxgroups= (method)">.maxgroups=</a>: Sets the maximum number of group IDs allowed in the supplemental group access list.</p>
</li><li>
<p><a href="#setpgid-class_method" title="Process.setpgid (method)">.setpgid</a>: Sets the process group ID of a process.</p>
</li><li>
<p><a href="#setpriority-class_method" title="Process.setpriority (method)">.setpriority</a>: Sets the scheduling priority for a process, process group, or user.</p>
</li></ul>

<h4 id="label-Timing">Timing</h4>
<ul><li>
<p><a href="#clock_getres-class_method" title="Process.clock_getres (method)">.clock_getres</a>: Returns the resolution of a system clock.</p>
</li><li>
<p><a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a>: Returns the time from a system clock.</p>
</li><li>
<p><a href="#times-class_method" title="Process.times (method)">.times</a>: Returns a <a href="Process/Tms.html" title="Process::Tms (class)"><code>Tms</code></a> object containing times for the current process and its child processes.</p>
</li></ul>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='CLOCK_BOOTTIME-constant' class='summary_signature'>CLOCK_BOOTTIME =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9569'># File 'process.c', line 9569</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_BOOTTIME-constant" title="Process::CLOCK_BOOTTIME (constant)">CLOCK_BOOTTIME</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_BOOTTIME_ALARM-constant' class='summary_signature'>CLOCK_BOOTTIME_ALARM =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9573'># File 'process.c', line 9573</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_BOOTTIME_ALARM-constant" title="Process::CLOCK_BOOTTIME_ALARM (constant)">CLOCK_BOOTTIME_ALARM</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC-constant' class='summary_signature'>CLOCK_MONOTONIC =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9499'># File 'process.c', line 9499</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC-constant" title="Process::CLOCK_MONOTONIC (constant)">CLOCK_MONOTONIC</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC_COARSE-constant' class='summary_signature'>CLOCK_MONOTONIC_COARSE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9565'># File 'process.c', line 9565</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC_COARSE-constant" title="Process::CLOCK_MONOTONIC_COARSE (constant)">CLOCK_MONOTONIC_COARSE</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC_FAST-constant' class='summary_signature'>CLOCK_MONOTONIC_FAST =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9549'># File 'process.c', line 9549</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC_FAST-constant" title="Process::CLOCK_MONOTONIC_FAST (constant)">CLOCK_MONOTONIC_FAST</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC_PRECISE-constant' class='summary_signature'>CLOCK_MONOTONIC_PRECISE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9553'># File 'process.c', line 9553</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC_PRECISE-constant" title="Process::CLOCK_MONOTONIC_PRECISE (constant)">CLOCK_MONOTONIC_PRECISE</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC_RAW-constant' class='summary_signature'>CLOCK_MONOTONIC_RAW =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9557'># File 'process.c', line 9557</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC_RAW-constant" title="Process::CLOCK_MONOTONIC_RAW (constant)">CLOCK_MONOTONIC_RAW</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_MONOTONIC_RAW_APPROX-constant' class='summary_signature'>CLOCK_MONOTONIC_RAW_APPROX =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9561'># File 'process.c', line 9561</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_MONOTONIC_RAW_APPROX-constant" title="Process::CLOCK_MONOTONIC_RAW_APPROX (constant)">CLOCK_MONOTONIC_RAW_APPROX</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_PROCESS_CPUTIME_ID-constant' class='summary_signature'>CLOCK_PROCESS_CPUTIME_ID =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9510'># File 'process.c', line 9510</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_PROF-constant' class='summary_signature'>CLOCK_PROF =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9529'># File 'process.c', line 9529</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_PROF-constant" title="Process::CLOCK_PROF (constant)">CLOCK_PROF</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_REALTIME-constant' class='summary_signature'>CLOCK_REALTIME =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9488'># File 'process.c', line 9488</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_REALTIME-constant" title="Process::CLOCK_REALTIME (constant)">CLOCK_REALTIME</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_REALTIME_ALARM-constant' class='summary_signature'>CLOCK_REALTIME_ALARM =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9545'># File 'process.c', line 9545</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_REALTIME_ALARM-constant" title="Process::CLOCK_REALTIME_ALARM (constant)">CLOCK_REALTIME_ALARM</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_REALTIME_COARSE-constant' class='summary_signature'>CLOCK_REALTIME_COARSE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9541'># File 'process.c', line 9541</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_REALTIME_COARSE-constant" title="Process::CLOCK_REALTIME_COARSE (constant)">CLOCK_REALTIME_COARSE</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_REALTIME_FAST-constant' class='summary_signature'>CLOCK_REALTIME_FAST =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9533'># File 'process.c', line 9533</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_REALTIME_FAST-constant" title="Process::CLOCK_REALTIME_FAST (constant)">CLOCK_REALTIME_FAST</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_REALTIME_PRECISE-constant' class='summary_signature'>CLOCK_REALTIME_PRECISE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9537'># File 'process.c', line 9537</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_REALTIME_PRECISE-constant" title="Process::CLOCK_REALTIME_PRECISE (constant)">CLOCK_REALTIME_PRECISE</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_SECOND-constant' class='summary_signature'>CLOCK_SECOND =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9597'># File 'process.c', line 9597</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_SECOND-constant" title="Process::CLOCK_SECOND (constant)">CLOCK_SECOND</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_TAI-constant' class='summary_signature'>CLOCK_TAI =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9601'># File 'process.c', line 9601</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_TAI-constant" title="Process::CLOCK_TAI (constant)">CLOCK_TAI</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_THREAD_CPUTIME_ID-constant' class='summary_signature'>CLOCK_THREAD_CPUTIME_ID =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9517'># File 'process.c', line 9517</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_THREAD_CPUTIME_ID-constant" title="Process::CLOCK_THREAD_CPUTIME_ID (constant)">CLOCK_THREAD_CPUTIME_ID</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_UPTIME-constant' class='summary_signature'>CLOCK_UPTIME =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9577'># File 'process.c', line 9577</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_UPTIME-constant" title="Process::CLOCK_UPTIME (constant)">CLOCK_UPTIME</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_UPTIME_FAST-constant' class='summary_signature'>CLOCK_UPTIME_FAST =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9581'># File 'process.c', line 9581</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_UPTIME_FAST-constant" title="Process::CLOCK_UPTIME_FAST (constant)">CLOCK_UPTIME_FAST</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_UPTIME_PRECISE-constant' class='summary_signature'>CLOCK_UPTIME_PRECISE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9585'># File 'process.c', line 9585</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_UPTIME_PRECISE-constant" title="Process::CLOCK_UPTIME_PRECISE (constant)">CLOCK_UPTIME_PRECISE</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_UPTIME_RAW-constant' class='summary_signature'>CLOCK_UPTIME_RAW =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9589'># File 'process.c', line 9589</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_UPTIME_RAW-constant" title="Process::CLOCK_UPTIME_RAW (constant)">CLOCK_UPTIME_RAW</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_UPTIME_RAW_APPROX-constant' class='summary_signature'>CLOCK_UPTIME_RAW_APPROX =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9593'># File 'process.c', line 9593</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_UPTIME_RAW_APPROX-constant" title="Process::CLOCK_UPTIME_RAW_APPROX (constant)">CLOCK_UPTIME_RAW_APPROX</a></span>)</pre>
  </li>
  <li>
    <span id='CLOCK_VIRTUAL-constant' class='summary_signature'>CLOCK_VIRTUAL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9525'># File 'process.c', line 9525</a>    <pre class='code c'><span class='const'>CLOCKID2NUM</span>(<span class='const'><a href="#CLOCK_VIRTUAL-constant" title="Process::CLOCK_VIRTUAL (constant)">CLOCK_VIRTUAL</a></span>)</pre>
  </li>
  <li>
    <span id='PRIO_PGRP-constant' class='summary_signature'>PRIO_PGRP =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setpriority-class_method" title="Process.setpriority (method)">.setpriority</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9310'># File 'process.c', line 9310</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#PRIO_PGRP-constant" title="Process::PRIO_PGRP (constant)">PRIO_PGRP</a></span>)</pre>
  </li>
  <li>
    <span id='PRIO_PROCESS-constant' class='summary_signature'>PRIO_PROCESS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setpriority-class_method" title="Process.setpriority (method)">.setpriority</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9308'># File 'process.c', line 9308</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span>)</pre>
  </li>
  <li>
    <span id='PRIO_USER-constant' class='summary_signature'>PRIO_USER =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setpriority-class_method" title="Process.setpriority (method)">.setpriority</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9312'># File 'process.c', line 9312</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_AS-constant' class='summary_signature'>RLIMIT_AS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of the process’s virtual memory (address space) in bytes.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9342'># File 'process.c', line 9342</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_AS-constant" title="Process::RLIMIT_AS (constant)">RLIMIT_AS</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_CORE-constant' class='summary_signature'>RLIMIT_CORE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of the core file.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9349'># File 'process.c', line 9349</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_CORE-constant" title="Process::RLIMIT_CORE (constant)">RLIMIT_CORE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_CPU-constant' class='summary_signature'>RLIMIT_CPU =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>CPU time limit in seconds.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9356'># File 'process.c', line 9356</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_CPU-constant" title="Process::RLIMIT_CPU (constant)">RLIMIT_CPU</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_DATA-constant' class='summary_signature'>RLIMIT_DATA =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of the process’s data segment.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9363'># File 'process.c', line 9363</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_DATA-constant" title="Process::RLIMIT_DATA (constant)">RLIMIT_DATA</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_FSIZE-constant' class='summary_signature'>RLIMIT_FSIZE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of files that the process may create.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9370'># File 'process.c', line 9370</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_FSIZE-constant" title="Process::RLIMIT_FSIZE (constant)">RLIMIT_FSIZE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_MEMLOCK-constant' class='summary_signature'>RLIMIT_MEMLOCK =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum number of bytes of memory that may be locked into RAM.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9377'># File 'process.c', line 9377</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_MEMLOCK-constant" title="Process::RLIMIT_MEMLOCK (constant)">RLIMIT_MEMLOCK</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_MSGQUEUE-constant' class='summary_signature'>RLIMIT_MSGQUEUE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies the limit on the number of bytes that can be allocated for POSIX message queues for the real user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9385'># File 'process.c', line 9385</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_MSGQUEUE-constant" title="Process::RLIMIT_MSGQUEUE (constant)">RLIMIT_MSGQUEUE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_NICE-constant' class='summary_signature'>RLIMIT_NICE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a ceiling to which the process’s nice value can be raised.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9392'># File 'process.c', line 9392</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_NICE-constant" title="Process::RLIMIT_NICE (constant)">RLIMIT_NICE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_NOFILE-constant' class='summary_signature'>RLIMIT_NOFILE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a value one greater than the maximum file descriptor number that can be opened by this process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9400'># File 'process.c', line 9400</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_NOFILE-constant" title="Process::RLIMIT_NOFILE (constant)">RLIMIT_NOFILE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_NPROC-constant' class='summary_signature'>RLIMIT_NPROC =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The maximum number of processes that can be created for the real user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9408'># File 'process.c', line 9408</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_NPROC-constant" title="Process::RLIMIT_NPROC (constant)">RLIMIT_NPROC</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_NPTS-constant' class='summary_signature'>RLIMIT_NPTS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The maximum number of pseudo-terminals that can be created for the real user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9416'># File 'process.c', line 9416</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_NPTS-constant" title="Process::RLIMIT_NPTS (constant)">RLIMIT_NPTS</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_RSS-constant' class='summary_signature'>RLIMIT_RSS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies the limit (in pages) of the process’s resident set.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9423'># File 'process.c', line 9423</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_RSS-constant" title="Process::RLIMIT_RSS (constant)">RLIMIT_RSS</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_RTPRIO-constant' class='summary_signature'>RLIMIT_RTPRIO =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a ceiling on the real-time priority that may be set for this process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9430'># File 'process.c', line 9430</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_RTPRIO-constant" title="Process::RLIMIT_RTPRIO (constant)">RLIMIT_RTPRIO</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_RTTIME-constant' class='summary_signature'>RLIMIT_RTTIME =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies limit on CPU time this process scheduled under a real-time scheduling policy can consume.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9438'># File 'process.c', line 9438</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_RTTIME-constant" title="Process::RLIMIT_RTTIME (constant)">RLIMIT_RTTIME</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_SBSIZE-constant' class='summary_signature'>RLIMIT_SBSIZE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of the socket buffer.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9443'># File 'process.c', line 9443</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_SBSIZE-constant" title="Process::RLIMIT_SBSIZE (constant)">RLIMIT_SBSIZE</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_SIGPENDING-constant' class='summary_signature'>RLIMIT_SIGPENDING =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Specifies a limit on the number of signals that may be queued for the real user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9451'># File 'process.c', line 9451</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_SIGPENDING-constant" title="Process::RLIMIT_SIGPENDING (constant)">RLIMIT_SIGPENDING</a></span>)</pre>
  </li>
  <li>
    <span id='RLIMIT_STACK-constant' class='summary_signature'>RLIMIT_STACK =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Maximum size of the stack, in bytes.</p>

<p>see the system getrlimit(2) manual for details.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9458'># File 'process.c', line 9458</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#RLIMIT_STACK-constant" title="Process::RLIMIT_STACK (constant)">RLIMIT_STACK</a></span>)</pre>
  </li>
  <li>
    <span id='RLIM_INFINITY-constant' class='summary_signature'>RLIM_INFINITY =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9328'># File 'process.c', line 9328</a>    <pre class='code c'><span class='id identifier rubyid_inf'>inf</span></pre>
  </li>
  <li>
    <span id='RLIM_SAVED_CUR-constant' class='summary_signature'>RLIM_SAVED_CUR =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9333'># File 'process.c', line 9333</a>    <pre class='code c'><span class='id identifier rubyid_v'>v</span></pre>
  </li>
  <li>
    <span id='RLIM_SAVED_MAX-constant' class='summary_signature'>RLIM_SAVED_MAX =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9324'># File 'process.c', line 9324</a>    <pre class='code c'><span class='id identifier rubyid_v'>v</span></pre>
  </li>
  <li>
    <span id='WNOHANG-constant' class='summary_signature'>WNOHANG =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#wait-class_method" title="Process.wait (method)">.wait</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9228'># File 'process.c', line 9228</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#WNOHANG-constant" title="Process::WNOHANG (constant)">WNOHANG</a></span>)</pre>
  </li>
  <li>
    <span id='WUNTRACED-constant' class='summary_signature'>WUNTRACED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>see <a href="#wait-class_method" title="Process.wait (method)">.wait</a></p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L9235'># File 'process.c', line 9235</a>    <pre class='code c'><span class='const'>INT2FIX</span>(<span class='const'><a href="#WUNTRACED-constant" title="Process::WUNTRACED (constant)">WUNTRACED</a></span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#euid-class_method" title="euid (class method)">.<strong>euid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the effective user ID for the current process.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#euid=-class_method" title="euid= (class method)">.<strong>euid=</strong>(new_euid)  &#x21d2; new_euid </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the effective user ID for the current process.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gid-class_method" title="gid (class method)">.<strong>gid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the (real) group ID for the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#gid=-class_method" title="gid= (class method)">.<strong>gid=</strong>(new_gid)  &#x21d2; new_gid </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the group ID for the current process to <code>new_gid</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#groups-class_method" title="groups (class method)">.<strong>groups</strong>  &#x21d2; Array </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the group IDs in the supplemental group access list for the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#groups=-class_method" title="groups= (class method)">.<strong>groups=</strong>(new_groups)  &#x21d2; new_groups </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the supplemental group access list to the given array of group IDs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#maxgroups-class_method" title="maxgroups (class method)">.<strong>maxgroups</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the maximum number of group IDs allowed in the supplemental group access list:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#maxgroups=-class_method" title="maxgroups= (class method)">.<strong>maxgroups=</strong>(new_max)  &#x21d2; new_max </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the maximum number of group IDs allowed in the supplemental group access list.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#uid-class_method" title="uid (class method)">.<strong>uid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the (real) user ID of the current process.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#uid=-class_method" title="uid= (class method)">.<strong>uid=</strong>(new_uid)  &#x21d2; new_uid </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the (user) user ID for the current process to <code>new_uid</code>:</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#_fork-class_method" title="_fork (class method)">.<strong>_fork</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>An internal API for fork.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#abort-class_method" title="abort (class method)">.<strong>abort</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#abort-class_method" title="Kernel.abort (method)">Kernel.abort</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exec-class_method" title="exec (class method)">.<strong>exec</strong>([env, ] command_line, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#exec-class_method" title="Kernel.exec (method)">Kernel.exec</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exit-class_method" title="exit (class method)">.<strong>exit</strong>(status = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#exit-class_method" title="Kernel.exit (method)">Kernel.exit</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exit!-class_method" title="exit! (class method)">.<strong>exit!</strong>(status = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#exit!-class_method" title="Kernel.exit! (method)">Kernel.exit!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fork-class_method" title=".fork (class method)">.<strong>fork</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#fork-class_method" title="Kernel.fork (method)">Kernel.fork</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#last_status-class_method" title="last_status (class method)">.<strong>last_status</strong>  &#x21d2; Process<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="Process/Status.html" title="Process::Status (class)"><code>Status</code></a> object representing the most recently exited child process in the current thread, or <code>nil</code> if none:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#spawn-class_method" title="spawn (class method)">.<strong>spawn</strong>([env, ] command_line, options = {})  &#x21d2; pid </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Kernel.html#spawn-class_method" title="Kernel.spawn (method)">Kernel.spawn</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#argv0-class_method" title="argv0 (class method)">.<strong>argv0</strong>  &#x21d2; frozen_string </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the name of the script being executed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#clock_getres-class_method" title="clock_getres (class method)">.<strong>clock_getres</strong>(clock_id, unit = :float_second)  &#x21d2; Numeric </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a clock resolution as determined by POSIX function <a href="https://man7.org/linux/man-pages/man3/clock_getres.3.html" target="_parent" title="clock_getres()">clock_getres()</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#clock_gettime-class_method" title="clock_gettime (class method)">.<strong>clock_gettime</strong>(clock_id, unit = :float_second)  &#x21d2; Numeric </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a clock time as determined by POSIX function <a href="https://man7.org/linux/man-pages/man3/clock_gettime.3.html" target="_parent" title="clock_gettime()">clock_gettime()</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#daemon-class_method" title="daemon (class method)">.<strong>daemon</strong>(nochdir = nil, noclose = nil)  &#x21d2; 0 </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Detaches the current process from its controlling terminal and runs it in the background as system daemon; returns zero.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#detach-class_method" title="detach (class method)">.<strong>detach</strong>(pid)  &#x21d2; Thread </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Avoids the potential for a child process to become a <a href="https://en.wikipedia.org/wiki/Zombie_process" target="_parent" title="zombie process">zombie process</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#egid-class_method" title="egid (class method)">.<strong>egid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the effective group ID for the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#egid=-class_method" title="egid= (class method)">.<strong>egid=</strong>(new_egid)  &#x21d2; new_egid </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the effective group ID for the current process.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#getpgid-class_method" title="getpgid (class method)">.<strong>getpgid</strong>(pid)  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the process group ID for the given process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#getpgrp-class_method" title="getpgrp (class method)">.<strong>getpgrp</strong>  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the process group ID for the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#getpriority-class_method" title="getpriority (class method)">.<strong>getpriority</strong>(kind, id)  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the scheduling priority for specified process, process group, or user.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#getrlimit-class_method" title="getrlimit (class method)">.<strong>getrlimit</strong>(resource)  &#x21d2; Array, max_limit </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a 2-element array of the current (soft) limit and maximum (hard) limit for the given <code>resource</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#getsid-class_method" title="getsid (class method)">.<strong>getsid</strong>(pid = nil)  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the session ID of the given process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a>, or of the current process if not given:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#initgroups-class_method" title="initgroups (class method)">.<strong>initgroups</strong>(username, gid)  &#x21d2; Array </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the supplemental group access list; the new list includes:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#kill-class_method" title="kill (class method)">.<strong>kill</strong>(signal, *ids)  &#x21d2; count </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a signal to each process specified by <code>ids</code> (which must specify at least one ID); returns the count of signals sent.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#pid-class_method" title="pid (class method)">.<strong>pid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the process ID of the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#ppid-class_method" title="ppid (class method)">.<strong>ppid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the process ID of the parent of the current process:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setpgid-class_method" title="setpgid (class method)">.<strong>setpgid</strong>(pid, pgid)  &#x21d2; 0 </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the process group ID for the process given by process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a> to <code>pgid</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setpgrp-class_method" title="setpgrp (class method)">.<strong>setpgrp</strong>  &#x21d2; 0 </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <code>setpgid(0, 0)</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setpriority-class_method" title="setpriority (class method)">.<strong>setpriority</strong>(kind, integer, priority)  &#x21d2; 0 </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>See <a href="#getpriority-class_method" title="Process.getpriority (method)">.getpriority</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setproctitle-class_method" title="setproctitle (class method)">.<strong>setproctitle</strong>(string)  &#x21d2; String </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the process title that appears on the ps(1) command.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setrlimit-class_method" title="setrlimit (class method)">.<strong>setrlimit</strong>(resource, cur_limit, max_limit = cur_limit)  &#x21d2; nil </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets limits for the current process for the given <code>resource</code> to <code>cur_limit</code> (soft limit) and <code>max_limit</code> (hard limit); returns <code>nil</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#setsid-class_method" title="setsid (class method)">.<strong>setsid</strong>  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Establishes the current process as a new session and process group leader, with no controlling tty; returns the session ID:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#times-class_method" title="times (class method)">.<strong>times</strong>  &#x21d2; Process </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="Process/Tms.html" title="Process::Tms (class)"><code>Tms</code></a> structure that contains user and system CPU times for the current process, and for its children processes:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#waitpid-class_method" title="wait (class method)">.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; Integer </a>
      (also: .waitpid)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Waits for a suitable child process to exit, returns its process ID, and sets <code>$?</code> to a <a href="Process/Status.html" title="Process::Status (class)"><code>Status</code></a> object containing information on that process.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#waitpid2-class_method" title="wait2 (class method)">.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; Array, status </a>
      (also: .waitpid2)
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Like <a href="#waitpid-class_method" title="Process.waitpid (method)">.waitpid</a>, but returns an array containing the child process <a href="#pid-class_method" title="Process.pid (method)">.pid</a> and <a href="Process/Status.html" title="Process::Status (class)"><code>Status</code></a> <code>status</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#waitall-class_method" title="waitall (class method)">.<strong>waitall</strong>  &#x21d2; Array </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Waits for all children, returns an array of 2-element arrays; each subarray contains the integer pid and <a href="Process/Status.html" title="Process::Status (class)"><code>Status</code></a> status for one of the reaped child processes:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#waitpid-class_method" title="waitpid (class method)">.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; Integer </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#wait-class_method" title="Process.wait (method)">.wait</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#waitpid2-class_method" title="waitpid2 (class method)">.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; Array, status </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#wait2-class_method" title="Process.wait2 (method)">.wait2</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#warmup-class_method" title="warmup (class method)">.<strong>warmup</strong>  &#x21d2; true </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Notify the Ruby virtual machine that the boot sequence is finished, and that now is a good time to optimize the application.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="euid-class_method">
  <h3 class='signature rw  private first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>euid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'><strong>UID.eid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'><strong>Sys.geteuid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the effective user ID for the current process.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_euid'>euid</span> <span class='comment'># =&gt; 501</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L7238-L7243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7238' data-end='7243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 7238</span></pre>
<pre class='code cpp'>

static VALUE
proc_geteuid(VALUE obj)
{
    rb_uid_t euid = geteuid();
    return UIDT2NUM(euid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="euid=-class_method">
  <h3 class='signature rw  private'>
    .<strong>euid=</strong>(new_euid)  &#x21d2; <code>new_euid</code>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the effective user ID for the current process.</p>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L7278-L7284'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7278' data-end='7284'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 7278</span></pre>
<pre class='code cpp'>

static VALUE
proc_seteuid_m(VALUE mod, VALUE euid)
{
    check_uid_switch();
    proc_seteuid(OBJ2UID(euid));
    return euid;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gid-class_method">
  <h3 class='signature rw  private'>
    <div class='inline-block'>
      <span class='overload'>.<strong>gid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'><strong>GID.rid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'><strong>Sys.getgid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the (real) group ID for the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_gid'>gid</span> <span class='comment'># =&gt; 1000</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6667-L6672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6667' data-end='6672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6667</span></pre>
<pre class='code cpp'>

static VALUE
proc_getgid(VALUE obj)
{
    rb_gid_t gid = getgid();
    return GIDT2NUM(gid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gid=-class_method">
  <h3 class='signature rw  private'>
    .<strong>gid=</strong>(new_gid)  &#x21d2; <code>new_gid</code>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the group ID for the current process to <code>new_gid</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_gid'><a href="#gid-class_method" title="Process.gid (method)">gid</a></span> <span class='op'>=</span> <span class='int'>1000</span> <span class='comment'># =&gt; 1000</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6686-L6711'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6686' data-end='6711'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6686</span></pre>
<pre class='code cpp'>

static VALUE
proc_setgid(VALUE obj, VALUE id)
{
    rb_gid_t gid;

    check_gid_switch();

    gid = OBJ2GID(id);
#if defined(HAVE_SETRESGID)
    if (setresgid(gid, -1, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETREGID
    if (setregid(gid, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETRGID
    if (setrgid(gid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETGID
    {
        if (getegid() == gid) {
            if (setgid(gid) &lt; 0) rb_sys_fail(0);
        }
        else {
            rb_notimplement();
        }
    }
#endif
    return GIDT2NUM(gid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="groups-class_method">
  <h3 class='signature rw  private'>
    .<strong>groups</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the group IDs in the supplemental group access list for the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_groups'>groups</span> <span class='comment'># =&gt; [4, 24, 27, 30, 46, 122, 135, 136, 1000]</span></code></pre>

<p>These properties of the returned array are system-dependent:</p>
<ul><li>
<p>Whether (and how) the array is sorted.</p>
</li><li>
<p>Whether the array includes effective group IDs.</p>
</li><li>
<p>Whether the array includes duplicate group IDs.</p>
</li><li>
<p>Whether the array size exceeds the value of <a href="#maxgroups-class_method" title="Process.maxgroups (method)">.maxgroups</a>.</p>
</li></ul>

<p>Use this call to get a sorted and unique array:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_groups'>groups</span>.<span class='id identifier rubyid_uniq'><a href="Array.html#uniq-instance_method" title="Array#uniq (method)">uniq</a></span>.<span class='id identifier rubyid_sort'><a href="Array.html#sort-instance_method" title="Array#sort (method)">sort</a></span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6787-L6811'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6787' data-end='6811'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6787</span></pre>
<pre class='code cpp'>

static VALUE
proc_getgroups(VALUE obj)
{
    VALUE ary, tmp;
    int i, ngroups;
    rb_gid_t *groups;

    ngroups = getgroups(0, NULL);
    if (ngroups == -1)
        rb_sys_fail(0);

    groups = ALLOCV_N(rb_gid_t, tmp, ngroups);

    ngroups = getgroups(ngroups, groups);
    if (ngroups == -1)
        rb_sys_fail(0);

    ary = rb_ary_new();
    for (i = 0; i &lt; ngroups; i++)
        rb_ary_push(ary, GIDT2NUM(groups[i]));

    ALLOCV_END(tmp);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="groups=-class_method">
  <h3 class='signature rw  private'>
    .<strong>groups=</strong>(new_groups)  &#x21d2; <code>new_groups</code>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the supplemental group access list to the given array of group IDs.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_groups'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span>                     <span class='comment'># =&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
</span><span class='const'>Process</span>.<span class='id identifier rubyid_groups'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span> <span class='op'>=</span> [<span class='int'>27</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>11</span>]   <span class='comment'># =&gt; [27, 6, 10, 11]
</span><span class='const'>Process</span>.<span class='id identifier rubyid_groups'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span>                     <span class='comment'># =&gt; [27, 6, 10, 11]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6831-L6860'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6831' data-end='6860'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6831</span></pre>
<pre class='code cpp'>

static VALUE
proc_setgroups(VALUE obj, VALUE ary)
{
    int ngroups, i;
    rb_gid_t *groups;
    VALUE tmp;
    PREPARE_GETGRNAM;

    Check_Type(ary, T_ARRAY);

    ngroups = RARRAY_LENINT(ary);
    if (ngroups &gt; maxgroups())
        rb_raise(rb_eArgError, &quot;too many groups, %d max&quot;, maxgroups());

    groups = ALLOCV_N(rb_gid_t, tmp, ngroups);

    for (i = 0; i &lt; ngroups; i++) {
        VALUE g = RARRAY_AREF(ary, i);

        groups[i] = OBJ2GID1(g);
    }
    FINISH_GETGRNAM;

    if (setgroups(ngroups, groups) == -1) /* ngroups &lt;= maxgroups */
        rb_sys_fail(0);

    ALLOCV_END(tmp);

    return proc_getgroups(obj);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="maxgroups-class_method">
  <h3 class='signature rw  private'>
    .<strong>maxgroups</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the maximum number of group IDs allowed in the supplemental group access list:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_maxgroups'>maxgroups</span> <span class='comment'># =&gt; 32</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6910-L6914'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6910' data-end='6914'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6910</span></pre>
<pre class='code cpp'>

static VALUE
proc_getmaxgroups(VALUE obj)
{
    return INT2FIX(maxgroups());
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="maxgroups=-class_method">
  <h3 class='signature rw  private'>
    .<strong>maxgroups=</strong>(new_max)  &#x21d2; <code>new_max</code>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the maximum number of group IDs allowed in the supplemental group access list.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6928-L6946'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6928' data-end='6946'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6928</span></pre>
<pre class='code cpp'>

static VALUE
proc_setmaxgroups(VALUE obj, VALUE val)
{
    int ngroups = FIX2INT(val);
    int ngroups_max = get_sc_ngroups_max();

    if (ngroups &lt;= 0)
        rb_raise(rb_eArgError, &quot;maxgroups %d should be positive&quot;, ngroups);

    if (ngroups &gt; RB_MAX_GROUPS)
        ngroups = RB_MAX_GROUPS;

    if (ngroups_max &gt; 0 &amp;&amp; ngroups &gt; ngroups_max)
        ngroups = ngroups_max;

    _maxgroups = ngroups;

    return INT2FIX(_maxgroups);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid-class_method">
  <h3 class='signature rw  private'>
    <div class='inline-block'>
      <span class='overload'>.<strong>uid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'><strong>UID.rid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'><strong>Sys.getuid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the (real) user ID of the current process.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_uid'>uid</span> <span class='comment'># =&gt; 1000</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6265-L6270'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6265' data-end='6270'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6265</span></pre>
<pre class='code cpp'>

static VALUE
proc_getuid(VALUE obj)
{
    rb_uid_t uid = getuid();
    return UIDT2NUM(uid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid=-class_method">
  <h3 class='signature rw  private'>
    .<strong>uid=</strong>(new_uid)  &#x21d2; <code>new_uid</code>  <span class="extras">(<span class='rw'>rw</span>, <span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the (user) user ID for the current process to <code>new_uid</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_uid'><a href="#uid-class_method" title="Process.uid (method)">uid</a></span> <span class='op'>=</span> <span class='int'>1000</span> <span class='comment'># =&gt; 1000</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6285-L6310'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6285' data-end='6310'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6285</span></pre>
<pre class='code cpp'>

static VALUE
proc_setuid(VALUE obj, VALUE id)
{
    rb_uid_t uid;

    check_uid_switch();

    uid = OBJ2UID(id);
#if defined(HAVE_SETRESUID)
    if (setresuid(uid, -1, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETREUID
    if (setreuid(uid, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETRUID
    if (setruid(uid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETUID
    {
        if (geteuid() == uid) {
            if (setuid(uid) &lt; 0) rb_sys_fail(0);
        }
        else {
            rb_notimplement();
        }
    }
#endif
    return id;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="_fork-class_method">
  <h3 class='signature  first'>
    .<strong>_fork</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An internal API for fork. Do not call this method directly. Currently, this is called via <a href="Kernel.html#fork-class_method" title="Kernel.fork (method)">Kernel.fork</a>, <a href="#fork-class_method" title="Process.fork (method)">.fork</a>, and <a href="IO.html#popen-class_method" title="IO.popen (method)">IO.popen</a> with <code>&quot;-&quot;</code>.</p>

<p>This method is not for casual code but for application monitoring libraries. You can add custom code before and after fork events by overriding this method.</p>

<p>Note: <a href="#daemon-class_method" title="Process.daemon (method)">.daemon</a> may be implemented using fork(2) BUT does not go through this method. Thus, depending on your reason to hook into this method, you may also want to hook into that one. See <a href="https://bugs.ruby-lang.org/issues/18911" target="_parent" title="this issue">this issue</a> for a more detailed discussion of this.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L4313-L4318'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4313' data-end='4318'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 4313</span></pre>
<pre class='code cpp'>

VALUE
rb_proc__fork(VALUE _obj)
{
    rb_pid_t pid = proc_fork_pid();
    return PIDT2NUM(pid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="abort-class_method">
  <h3 class='signature '>
    .<strong>abort</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#abort-class_method" title="Kernel.abort (method)">Kernel.abort</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="argv0-class_method">
  <h3 class='signature private'>
    .<strong>argv0</strong>  &#x21d2; <code>frozen_string</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the name of the script being executed.  The value is not affected by assigning a new value to $0.</p>

<p>This method first appeared in Ruby 2.1 to serve as a global variable free means to get the script name.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/ruby.c#L2888-L2892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2888' data-end='2892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ruby.c', line 2888</span></pre>
<pre class='code cpp'>

static VALUE
proc_argv0(VALUE process)
{
    return rb_orig_progname;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clock_getres-class_method">
  <h3 class='signature private'>
    .<strong>clock_getres</strong>(clock_id, unit = :float_second)  &#x21d2; <a href="Numeric.html" title="Numeric (class)">Numeric</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a clock resolution as determined by POSIX function <a href="https://man7.org/linux/man-pages/man3/clock_getres.3.html" target="_parent" title="clock_getres()">clock_getres()</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_REALTIME-constant" title="Process::CLOCK_REALTIME (constant)">CLOCK_REALTIME</a></span>) <span class='comment'># =&gt; 1.0e-09</span></code></pre>

<p>See <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a> for the values of <code>clock_id</code> and <code>unit</code>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_microsecond'>float_microsecond</span>) <span class='comment'># =&gt; 0.001
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_millisecond'>float_millisecond</span>) <span class='comment'># =&gt; 1.0e-06
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_second'>float_second</span>)      <span class='comment'># =&gt; 1.0e-09
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_microsecond'>microsecond</span>)       <span class='comment'># =&gt; 0
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_millisecond'>millisecond</span>)       <span class='comment'># =&gt; 0
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nanosecond'>nanosecond</span>)        <span class='comment'># =&gt; 1
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_second'>second</span>)            <span class='comment'># =&gt; 0</span></code></pre>

<p>In addition to the values for <code>unit</code> supported in <a href="#clock_gettime-class_method" title="Process.clock_gettime (method)">.clock_gettime</a>, this method supports <code>:hertz</code>, the integer number of clock ticks per second (which is the reciprocal of <code>:float_second</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'>TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hertz'>hertz</span>)        <span class='comment'># =&gt; 100.0
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_getres'>clock_getres</span>(<span class='symbeg'>:</span><span class='const'>TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_second'>float_second</span>) <span class='comment'># =&gt; 0.01</span></code></pre>

<p><strong>Accuracy</strong>: Note that the returned resolution may be inaccurate on some platforms due to underlying bugs. Inaccurate resolutions have been reported for various clocks including <code>:CLOCK_MONOTONIC</code> and <code>:CLOCK_MONOTONIC_RAW</code> on Linux, macOS, BSD or AIX platforms, when using ARM processors, or when using virtualization.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L8511-L8649'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8511' data-end='8649'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 8511</span></pre>
<pre class='code cpp'>

static VALUE
rb_clock_getres(int argc, VALUE *argv, VALUE _)
{
    int ret;

    struct timetick tt;
    timetick_int_t numerators[2];
    timetick_int_t denominators[2];
    int num_numerators = 0;
    int num_denominators = 0;
#ifdef HAVE_CLOCK_GETRES
    clockid_t c;
#endif

    VALUE unit = (rb_check_arity(argc, 1, 2) == 2) ? argv[1] : Qnil;
    VALUE clk_id = argv[0];

    if (SYMBOL_P(clk_id)) {
#ifdef CLOCK_REALTIME
        if (clk_id == RUBY_CLOCK_REALTIME) {
            c = CLOCK_REALTIME;
            goto getres;
        }
#endif

#ifdef CLOCK_MONOTONIC
        if (clk_id == RUBY_CLOCK_MONOTONIC) {
            c = CLOCK_MONOTONIC;
            goto getres;
        }
#endif

#ifdef CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_PROCESS_CPUTIME_ID) {
            c = CLOCK_PROCESS_CPUTIME_ID;
            goto getres;
        }
#endif

#ifdef CLOCK_THREAD_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_THREAD_CPUTIME_ID) {
            c = CLOCK_THREAD_CPUTIME_ID;
            goto getres;
        }
#endif

#ifdef RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME
        if (clk_id == RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME) {
            tt.giga_count = 0;
            tt.count = 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIME_BASED_CLOCK_REALTIME
        if (clk_id == RUBY_TIME_BASED_CLOCK_REALTIME) {
            tt.giga_count = 1;
            tt.count = 0;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIMES_BASED_CLOCK_MONOTONIC
        if (clk_id == RUBY_TIMES_BASED_CLOCK_MONOTONIC) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.giga_count = 0;
            tt.count = 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = CLOCKS_PER_SEC;
            goto success;
        }
#endif

#ifdef RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC
        if (clk_id == RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC) {
            const mach_timebase_info_data_t *info = get_mach_timebase_info();
            tt.count = 1;
            tt.giga_count = 0;
            numerators[num_numerators++] = info-&gt;numer;
            denominators[num_denominators++] = info-&gt;denom;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif
    }
    else if (NUMERIC_CLOCKID) {
#if defined(HAVE_CLOCK_GETRES)
        struct timespec ts;
        c = NUM2CLOCKID(clk_id);
      getres:
        ret = clock_getres(c, &amp;ts);
        if (ret == -1)
            clock_failed(&quot;getres&quot;, errno, clk_id);
        tt.count = (int32_t)ts.tv_nsec;
        tt.giga_count = ts.tv_sec;
        denominators[num_denominators++] = 1000000000;
        goto success;
#endif
    }
    else {
        rb_unexpected_type(clk_id, T_SYMBOL);
    }
    clock_failed(&quot;getres&quot;, EINVAL, clk_id);

  success:
    if (unit == ID2SYM(id_hertz)) {
        return timetick2dblnum_reciprocal(&amp;tt, numerators, num_numerators, denominators, num_denominators);
    }
    else {
        return make_clock_result(&amp;tt, numerators, num_numerators, denominators, num_denominators, unit);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clock_gettime-class_method">
  <h3 class='signature private'>
    .<strong>clock_gettime</strong>(clock_id, unit = :float_second)  &#x21d2; <a href="Numeric.html" title="Numeric (class)">Numeric</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a clock time as determined by POSIX function <a href="https://man7.org/linux/man-pages/man3/clock_gettime.3.html" target="_parent" title="clock_gettime()">clock_gettime()</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span>) <span class='comment'># =&gt; 198.650379677</span></code></pre>

<p>Argument <code>clock_id</code> should be a symbol or a constant that specifies the clock whose time is to be returned; see below.</p>

<p>Optional argument <code>unit</code> should be a symbol that specifies the unit to be used in the returned clock time; see below.</p>

<p><strong>Argument <code>clock_id</code></strong></p>

<p>Argument <code>clock_id</code> specifies the clock whose time is to be returned; it may be a constant such as <a href="#CLOCK_REALTIME-constant" title="Process::CLOCK_REALTIME (constant)">CLOCK_REALTIME</a>, or a symbol shorthand such as <code>:CLOCK_REALTIME</code>.</p>

<p>The supported clocks depend on the underlying operating system; this method supports the following clocks on the indicated platforms (raises <code>Errno::EINVAL</code> if called with an unsupported clock):</p>
<ul><li>
<p><code>:CLOCK_BOOTTIME</code>: Linux 2.6.39.</p>
</li><li>
<p><code>:CLOCK_BOOTTIME_ALARM</code>: Linux 3.0.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC</code>: SUSv3 to 4, Linux 2.5.63, FreeBSD 3.0, NetBSD 2.0, OpenBSD 3.4, macOS 10.12, Windows-2000.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC_COARSE</code>: Linux 2.6.32.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC_FAST</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC_PRECISE</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC_RAW</code>: Linux 2.6.28, macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_MONOTONIC_RAW_APPROX</code>: macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_PROCESS_CPUTIME_ID</code>: SUSv3 to 4, Linux 2.5.63, FreeBSD 9.3, OpenBSD 5.4, macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_PROF</code>: FreeBSD 3.0, OpenBSD 2.1.</p>
</li><li>
<p><code>:CLOCK_REALTIME</code>: SUSv2 to 4, Linux 2.5.63, FreeBSD 3.0, NetBSD 2.0, OpenBSD 2.1, macOS 10.12, Windows-8/Server-2012. Time.now is recommended over +:CLOCK_REALTIME:.</p>
</li><li>
<p><code>:CLOCK_REALTIME_ALARM</code>: Linux 3.0.</p>
</li><li>
<p><code>:CLOCK_REALTIME_COARSE</code>: Linux 2.6.32.</p>
</li><li>
<p><code>:CLOCK_REALTIME_FAST</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_REALTIME_PRECISE</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_SECOND</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_TAI</code>: Linux 3.10.</p>
</li><li>
<p><code>:CLOCK_THREAD_CPUTIME_ID</code>: SUSv3 to 4, Linux 2.5.63, FreeBSD 7.1, OpenBSD 5.4, macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_UPTIME</code>: FreeBSD 7.0, OpenBSD 5.5.</p>
</li><li>
<p><code>:CLOCK_UPTIME_FAST</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_UPTIME_PRECISE</code>: FreeBSD 8.1.</p>
</li><li>
<p><code>:CLOCK_UPTIME_RAW</code>: macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_UPTIME_RAW_APPROX</code>: macOS 10.12.</p>
</li><li>
<p><code>:CLOCK_VIRTUAL</code>: FreeBSD 3.0, OpenBSD 2.1.</p>
</li></ul>

<p>Note that SUS stands for Single Unix Specification. SUS contains POSIX and clock_gettime is defined in the POSIX part. SUS defines <code>:CLOCK_REALTIME</code> as mandatory but <code>:CLOCK_MONOTONIC</code>, <code>:CLOCK_PROCESS_CPUTIME_ID</code>, and <code>:CLOCK_THREAD_CPUTIME_ID</code> are optional.</p>

<p>Certain emulations are used when the given <code>clock_id</code> is not supported directly:</p>
<ul><li>
<p>Emulations for <code>:CLOCK_REALTIME</code>:</p>
<ul><li>
<p><code>:GETTIMEOFDAY_BASED_CLOCK_REALTIME</code>: Use gettimeofday() defined by SUS (deprecated in SUSv4). The resolution is 1 microsecond.</p>
</li><li>
<p><code>:TIME_BASED_CLOCK_REALTIME</code>: Use time() defined by ISO C. The resolution is 1 second.</p>
</li></ul>
</li><li>
<p>Emulations for <code>:CLOCK_MONOTONIC</code>:</p>
<ul><li>
<p><code>:MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC</code>: Use mach_absolute_time(), available on Darwin. The resolution is CPU dependent.</p>
</li><li>
<p><code>:TIMES_BASED_CLOCK_MONOTONIC</code>: Use the result value of times() defined by POSIX, thus:</p>

<blockquote>
<p>Upon successful completion, times() shall return the elapsed real time, in clock ticks, since an arbitrary point in the past (for example, system start-up time).</p>
</blockquote>

<p>For example, GNU/Linux returns a value based on jiffies and it is monotonic. However, 4.4BSD uses gettimeofday() and it is not monotonic. (FreeBSD uses <code>:CLOCK_MONOTONIC</code> instead, though.)</p>

<p>The resolution is the clock tick. “getconf CLK_TCK” command shows the clock ticks per second. (The clock ticks-per-second is defined by HZ macro in older systems.) If it is 100 and clock_t is 32 bits integer type, the resolution is 10 millisecond and cannot represent over 497 days.</p>
</li></ul>
</li><li>
<p>Emulations for <code>:CLOCK_PROCESS_CPUTIME_ID</code>:</p>
<ul><li>
<p><code>:GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID</code>: Use getrusage() defined by SUS. getrusage() is used with RUSAGE_SELF to obtain the time only for the calling process (excluding the time for child processes). The result is addition of user time (ru_utime) and system time (ru_stime). The resolution is 1 microsecond.</p>
</li><li>
<p><code>:TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID</code>: Use times() defined by POSIX. The result is addition of user time (tms_utime) and system time (tms_stime). tms_cutime and tms_cstime are ignored to exclude the time for child processes. The resolution is the clock tick. “getconf CLK_TCK” command shows the clock ticks per second. (The clock ticks per second is defined by HZ macro in older systems.) If it is 100, the resolution is 10 millisecond.</p>
</li><li>
<p><code>:CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID</code>: Use clock() defined by ISO C. The resolution is <code>1/CLOCKS_PER_SEC</code>. <code>CLOCKS_PER_SEC</code> is the C-level macro defined by time.h. SUS defines <code>CLOCKS_PER_SEC</code> as 1000000; other systems may define it differently. If <code>CLOCKS_PER_SEC</code> is 1000000 (as in SUS), the resolution is 1 microsecond. If <code>CLOCKS_PER_SEC</code> is 1000000 and clock_t is a 32-bit integer type, it cannot represent over 72 minutes.</p>
</li></ul>
</li></ul>

<p><strong>Argument <code>unit</code></strong></p>

<p>Optional argument <code>unit</code> (default <code>:float_second</code>) specifies the unit for the returned value.</p>
<ul><li>
<p><code>:float_microsecond</code>: Number of microseconds as a float.</p>
</li><li>
<p><code>:float_millisecond</code>: Number of milliseconds as a float.</p>
</li><li>
<p><code>:float_second</code>: Number of seconds as a float.</p>
</li><li>
<p><code>:microsecond</code>: Number of microseconds as an integer.</p>
</li><li>
<p><code>:millisecond</code>: Number of milliseconds as an integer.</p>
</li><li>
<p><code>:nanosecond</code>: Number of nanoseconds as an integer.</p>
</li><li>
<p><code>.second</code>: Number of seconds as an integer.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_microsecond'>float_microsecond</span>)
<span class='comment'># =&gt; 203605054.825
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_millisecond'>float_millisecond</span>)
<span class='comment'># =&gt; 203643.696848
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_float_second'>float_second</span>)
<span class='comment'># =&gt; 203.762181929
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_microsecond'>microsecond</span>)
<span class='comment'># =&gt; 204123212
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_millisecond'>millisecond</span>)
<span class='comment'># =&gt; 204298
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nanosecond'>nanosecond</span>)
<span class='comment'># =&gt; 204602286036
</span><span class='const'>Process</span>.<span class='id identifier rubyid_clock_gettime'>clock_gettime</span>(<span class='symbeg'>:</span><span class='const'><a href="#CLOCK_PROCESS_CPUTIME_ID-constant" title="Process::CLOCK_PROCESS_CPUTIME_ID (constant)">CLOCK_PROCESS_CPUTIME_ID</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_second'>second</span>)
<span class='comment'># =&gt; 204</span></code></pre>

<p>The underlying function, clock_gettime(), returns a number of nanoseconds. <a href="Float.html" title="Float (class)"><code>::Float</code></a> object (IEEE 754 double) is not enough to represent the return value for <code>:CLOCK_REALTIME</code>. If the exact nanoseconds value is required, use <code>:nanosecond</code> as the <code>unit</code>.</p>

<p>The origin (time zero) of the returned value is system-dependent, and may be, for example, system start up time, process start up time, the Epoch, etc.</p>

<p>The origin in <code>:CLOCK_REALTIME</code> is defined as the Epoch: <code>1970-01-01 00:00:00 UTC</code>; some systems count leap seconds and others don’t, so the result may vary across systems.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L8284-L8473'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8284' data-end='8473'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 8284</span></pre>
<pre class='code cpp'>

static VALUE
rb_clock_gettime(int argc, VALUE *argv, VALUE _)
{
    int ret;

    struct timetick tt;
    timetick_int_t numerators[2];
    timetick_int_t denominators[2];
    int num_numerators = 0;
    int num_denominators = 0;

    VALUE unit = (rb_check_arity(argc, 1, 2) == 2) ? argv[1] : Qnil;
    VALUE clk_id = argv[0];
#ifdef HAVE_CLOCK_GETTIME
    clockid_t c;
#endif

    if (SYMBOL_P(clk_id)) {
#ifdef CLOCK_REALTIME
        if (clk_id == RUBY_CLOCK_REALTIME) {
            c = CLOCK_REALTIME;
            goto gettime;
        }
#endif

#ifdef CLOCK_MONOTONIC
        if (clk_id == RUBY_CLOCK_MONOTONIC) {
            c = CLOCK_MONOTONIC;
            goto gettime;
        }
#endif

#ifdef CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_PROCESS_CPUTIME_ID) {
            c = CLOCK_PROCESS_CPUTIME_ID;
            goto gettime;
        }
#endif

#ifdef CLOCK_THREAD_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_THREAD_CPUTIME_ID) {
            c = CLOCK_THREAD_CPUTIME_ID;
            goto gettime;
        }
#endif

        /*
         * Non-clock_gettime clocks are provided by symbol clk_id.
         */
#ifdef HAVE_GETTIMEOFDAY
        /*
         * GETTIMEOFDAY_BASED_CLOCK_REALTIME is used for
         * CLOCK_REALTIME if clock_gettime is not available.
         */
#define RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME ID2SYM(id_GETTIMEOFDAY_BASED_CLOCK_REALTIME)
        if (clk_id == RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME) {
            struct timeval tv;
            ret = gettimeofday(&amp;tv, 0);
            if (ret != 0)
                rb_sys_fail(&quot;gettimeofday&quot;);
            tt.giga_count = tv.tv_sec;
            tt.count = (int32_t)tv.tv_usec * 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#define RUBY_TIME_BASED_CLOCK_REALTIME ID2SYM(id_TIME_BASED_CLOCK_REALTIME)
        if (clk_id == RUBY_TIME_BASED_CLOCK_REALTIME) {
            time_t t;
            t = time(NULL);
            if (t == (time_t)-1)
                rb_sys_fail(&quot;time&quot;);
            tt.giga_count = t;
            tt.count = 0;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }

#ifdef HAVE_TIMES
#define RUBY_TIMES_BASED_CLOCK_MONOTONIC \
        ID2SYM(id_TIMES_BASED_CLOCK_MONOTONIC)
        if (clk_id == RUBY_TIMES_BASED_CLOCK_MONOTONIC) {
            struct tms buf;
            clock_t c;
            unsigned_clock_t uc;
            c = times(&amp;buf);
            if (c ==  (clock_t)-1)
                rb_sys_fail(&quot;times&quot;);
            uc = (unsigned_clock_t)c;
            tt.count = (int32_t)(uc % 1000000000);
            tt.giga_count = (uc / 1000000000);
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUSAGE_SELF
#define RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            struct rusage usage;
            int32_t usec;
            ret = getrusage(RUSAGE_SELF, &amp;usage);
            if (ret != 0)
                rb_sys_fail(&quot;getrusage&quot;);
            tt.giga_count = usage.ru_utime.tv_sec + usage.ru_stime.tv_sec;
            usec = (int32_t)(usage.ru_utime.tv_usec + usage.ru_stime.tv_usec);
            if (1000000 &lt;= usec) {
                tt.giga_count++;
                usec -= 1000000;
            }
            tt.count = usec * 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef HAVE_TIMES
#define RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            struct tms buf;
            unsigned_clock_t utime, stime;
            if (times(&amp;buf) ==  (clock_t)-1)
                rb_sys_fail(&quot;times&quot;);
            utime = (unsigned_clock_t)buf.tms_utime;
            stime = (unsigned_clock_t)buf.tms_stime;
            tt.count = (int32_t)((utime % 1000000000) + (stime % 1000000000));
            tt.giga_count = (utime / 1000000000) + (stime / 1000000000);
            if (1000000000 &lt;= tt.count) {
                tt.count -= 1000000000;
                tt.giga_count++;
            }
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#define RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            clock_t c;
            unsigned_clock_t uc;
            errno = 0;
            c = clock();
            if (c == (clock_t)-1)
                rb_sys_fail(&quot;clock&quot;);
            uc = (unsigned_clock_t)c;
            tt.count = (int32_t)(uc % 1000000000);
            tt.giga_count = uc / 1000000000;
            denominators[num_denominators++] = CLOCKS_PER_SEC;
            goto success;
        }

#ifdef __APPLE__
        if (clk_id == RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC) {
            const mach_timebase_info_data_t *info = get_mach_timebase_info();
            uint64_t t = mach_absolute_time();
            tt.count = (int32_t)(t % 1000000000);
            tt.giga_count = t / 1000000000;
            numerators[num_numerators++] = info-&gt;numer;
            denominators[num_denominators++] = info-&gt;denom;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif
    }
    else if (NUMERIC_CLOCKID) {
#if defined(HAVE_CLOCK_GETTIME)
        struct timespec ts;
        c = NUM2CLOCKID(clk_id);
      gettime:
        ret = clock_gettime(c, &amp;ts);
        if (ret == -1)
            clock_failed(&quot;gettime&quot;, errno, clk_id);
        tt.count = (int32_t)ts.tv_nsec;
        tt.giga_count = ts.tv_sec;
        denominators[num_denominators++] = 1000000000;
        goto success;
#endif
    }
    else {
        rb_unexpected_type(clk_id, T_SYMBOL);
    }
    clock_failed(&quot;gettime&quot;, EINVAL, clk_id);

  success:
    return make_clock_result(&amp;tt, numerators, num_numerators, denominators, num_denominators, unit);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="daemon-class_method">
  <h3 class='signature private'>
    .<strong>daemon</strong>(nochdir = nil, noclose = nil)  &#x21d2; <code>0</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Detaches the current process from its controlling terminal and runs it in the background as system daemon; returns zero.</p>

<p>By default:</p>
<ul><li>
<p>Changes the current working directory to the root directory.</p>
</li><li>
<p>Redirects $stdin, $stdout, and $stderr to the null device.</p>
</li></ul>

<p>If optional argument <code>nochdir</code> is <code>true</code>, does not change the current working directory.</p>

<p>If optional argument <code>noclose</code> is <code>true</code>, does not redirect $stdin, $stdout, or $stderr.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6974-L6988'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6974' data-end='6988'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6974</span></pre>
<pre class='code cpp'>

static VALUE
proc_daemon(int argc, VALUE *argv, VALUE _)
{
    int n, nochdir = FALSE, noclose = FALSE;

    switch (rb_check_arity(argc, 0, 2)) {
      case 2: noclose = TO_BOOL(argv[1], &quot;noclose&quot;);
      case 1: nochdir = TO_BOOL(argv[0], &quot;nochdir&quot;);
    }

    prefork();
    n = rb_daemon(nochdir, noclose);
    if (n &lt; 0) rb_sys_fail(&quot;daemon&quot;);
    return INT2FIX(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="detach-class_method">
  <h3 class='signature private'>
    .<strong>detach</strong>(pid)  &#x21d2; <a href="Thread.html" title="Thread (class)">Thread</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Avoids the potential for a child process to become a <a href="https://en.wikipedia.org/wiki/Zombie_process" target="_parent" title="zombie process">zombie process</a>. <code>detach</code> prevents this by setting up a separate Ruby thread whose sole job is to reap the status of the process <em>pid</em> when it terminates.</p>

<p>This method is needed only when the parent process will never wait for the child process.</p>

<p>This example does not reap the second child process; that process appears as a zombie in the process status (<code>ps</code>) output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 312691
</span><span class='id identifier rubyid_sleep'>sleep</span>(<span class='int'>1</span>)
<span class='comment'># Find zombies.
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ps -ho pid,state -p </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>312716</span> <span class='const'>Z</span></code></pre>

<p>This example also does not reap the second child process, but it does detach the process so that it does not become a zombie:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 313213
</span><span class='id identifier rubyid_thread'>thread</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_detach'>detach</span>(<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='id identifier rubyid_sleep'>sleep</span>(<span class='int'>1</span>)
<span class='comment'># =&gt; #&lt;Process::Waiter:0x00007f038f48b838 run&gt;
</span><span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ps -ho pid,state -p </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># Finds no zombies.</span></code></pre>

<p>The waiting thread can return the pid of the detached child process:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_thread'>thread</span>.<span class='id identifier rubyid_join'>join</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>                       <span class='comment'># =&gt; 313262</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L1601-L1605'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1601' data-end='1605'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 1601</span></pre>
<pre class='code cpp'>

static VALUE
proc_detach(VALUE obj, VALUE pid)
{
    return rb_detach_process(NUM2PIDT(pid));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="egid-class_method">
  <h3 class='signature private'>
    <div class='inline-block'>
      <span class='overload'>.<strong>egid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'><strong>GID.eid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'><strong>Sys.geteid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the effective group ID for the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_egid'>egid</span> <span class='comment'># =&gt; 500</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L7364-L7370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7364' data-end='7370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 7364</span></pre>
<pre class='code cpp'>

static VALUE
proc_getegid(VALUE obj)
{
    rb_gid_t egid = getegid();

    return GIDT2NUM(egid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="egid=-class_method">
  <h3 class='signature private'>
    .<strong>egid=</strong>(new_egid)  &#x21d2; <code>new_egid</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the effective group ID for the current process.</p>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L7382-L7412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7382' data-end='7412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 7382</span></pre>
<pre class='code cpp'>

static VALUE
proc_setegid(VALUE obj, VALUE egid)
{
#if defined(HAVE_SETRESGID) || defined(HAVE_SETREGID) || defined(HAVE_SETEGID) || defined(HAVE_SETGID)
    rb_gid_t gid;
#endif

    check_gid_switch();

#if defined(HAVE_SETRESGID) || defined(HAVE_SETREGID) || defined(HAVE_SETEGID) || defined(HAVE_SETGID)
    gid = OBJ2GID(egid);
#endif

#if defined(HAVE_SETRESGID)
    if (setresgid(-1, gid, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETREGID
    if (setregid(-1, gid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETEGID
    if (setegid(gid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETGID
    if (gid == getgid()) {
        if (setgid(gid) &lt; 0) rb_sys_fail(0);
    }
    else {
        rb_notimplement();
    }
#else
    rb_notimplement();
#endif
    return egid;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exec-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>.<strong>exec</strong>([env, ] command_line, options = {})  </span>
      <span class='overload'>.<strong>exec</strong>([env, ] exe_path, *args, options  = {})  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#exec-class_method" title="Kernel.exec (method)">Kernel.exec</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="exit-class_method">
  <h3 class='signature '>
    .<strong>exit</strong>(status = true)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#exit-class_method" title="Kernel.exit (method)">Kernel.exit</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="exit!-class_method">
  <h3 class='signature '>
    .<strong>exit!</strong>(status = false)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#exit!-class_method" title="Kernel.exit! (method)">Kernel.exit!</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="fork-class_method">
  <h3 class='signature '>
    .<strong>fork</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#fork-class_method" title="Kernel.fork (method)">Kernel.fork</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="getpgid-class_method">
  <h3 class='signature private'>
    .<strong>getpgid</strong>(pid)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the process group ID for the given process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'>getpgid</span>(<span class='const'>Process</span>.<span class='id identifier rubyid_ppid'><a href="#ppid-class_method" title="Process.ppid (method)">ppid</a></span>) <span class='comment'># =&gt; 25527</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5154-L5162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5154' data-end='5162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5154</span></pre>
<pre class='code cpp'>

static VALUE
proc_getpgid(VALUE obj, VALUE pid)
{
    rb_pid_t i;

    i = getpgid(NUM2PIDT(pid));
    if (i &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(i);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getpgrp-class_method">
  <h3 class='signature private'>
    .<strong>getpgrp</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the process group ID for the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='int'>0</span>) <span class='comment'># =&gt; 25527
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getpgrp'>getpgrp</span>    <span class='comment'># =&gt; 25527</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5093-L5107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5093' data-end='5107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5093</span></pre>
<pre class='code cpp'>

static VALUE
proc_getpgrp(VALUE _)
{
    rb_pid_t pgrp;

#if defined(HAVE_GETPGRP) &amp;&amp; defined(GETPGRP_VOID)
    pgrp = getpgrp();
    if (pgrp &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pgrp);
#else /* defined(HAVE_GETPGID) */
    pgrp = getpgid(0);
    if (pgrp &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pgrp);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getpriority-class_method">
  <h3 class='signature private'>
    .<strong>getpriority</strong>(kind, id)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the scheduling priority for specified process, process group, or user.</p>

<p>Argument <code>kind</code> is one of:</p>
<ul><li>
<p><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a>: return priority for process.</p>
</li><li>
<p><a href="#PRIO_PGRP-constant" title="Process::PRIO_PGRP (constant)">PRIO_PGRP</a>: return priority for process group.</p>
</li><li>
<p><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a>: return priority for user.</p>
</li></ul>

<p>Argument <code>id</code> is the ID for the process, process group, or user; zero specified the current ID for <code>kind</code>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_getpriority'>getpriority</span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span><span class='comma'>,</span> <span class='int'>0</span>)    <span class='comment'># =&gt; 19
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getpriority'>getpriority</span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span><span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; 19</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5312-L5324'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5312' data-end='5324'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5312</span></pre>
<pre class='code cpp'>

static VALUE
proc_getpriority(VALUE obj, VALUE which, VALUE who)
{
    int prio, iwhich, iwho;

    iwhich = NUM2INT(which);
    iwho   = NUM2INT(who);

    errno = 0;
    prio = getpriority(iwhich, iwho);
    if (errno) rb_sys_fail(0);
    return INT2FIX(prio);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getrlimit-class_method">
  <h3 class='signature private'>
    .<strong>getrlimit</strong>(resource)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>max_limit</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a 2-element array of the current (soft) limit and maximum (hard) limit for the given <code>resource</code>.</p>

<p>Argument <code>resource</code> specifies the resource whose limits are to be returned; see <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a>.</p>

<p>Each of the returned values <code>cur_limit</code> and <code>max_limit</code> is an integer; see <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a>.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_getrlimit'>getrlimit</span>(<span class='symbeg'>:</span><span class='const'>CORE</span>) <span class='comment'># =&gt; [0, 18446744073709551615]</span></code></pre>

<p>See <a href="#setrlimit-class_method" title="Process.setrlimit (method)">.setrlimit</a>.</p>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5612-L5621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5612' data-end='5621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5612</span></pre>
<pre class='code cpp'>

static VALUE
proc_getrlimit(VALUE obj, VALUE resource)
{
    struct rlimit rlim;

    if (getrlimit(rlimit_resource_type(resource), &amp;rlim) &lt; 0) {
        rb_sys_fail(&quot;getrlimit&quot;);
    }
    return rb_assoc_new(RLIM2NUM(rlim.rlim_cur), RLIM2NUM(rlim.rlim_max));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getsid-class_method">
  <h3 class='signature private'>
    .<strong>getsid</strong>(pid = nil)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the session ID of the given process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a>, or of the current process if not given:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_getsid'>getsid</span>                <span class='comment'># =&gt; 27422
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getsid'>getsid</span>(<span class='int'>0</span>)             <span class='comment'># =&gt; 27422
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getsid'>getsid</span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>()) <span class='comment'># =&gt; 27422</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5209-L5221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5209' data-end='5221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5209</span></pre>
<pre class='code cpp'>

static VALUE
proc_getsid(int argc, VALUE *argv, VALUE _)
{
    rb_pid_t sid;
    rb_pid_t pid = 0;

    if (rb_check_arity(argc, 0, 1) == 1 &amp;&amp; !NIL_P(argv[0]))
        pid = NUM2PIDT(argv[0]);

    sid = getsid(pid);
    if (sid &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(sid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initgroups-class_method">
  <h3 class='signature private'>
    .<strong>initgroups</strong>(username, gid)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the supplemental group access list; the new list includes:</p>
<ul><li>
<p>The group IDs of those groups to which the user given by <code>username</code> belongs.</p>
</li><li>
<p>The group ID <a href="#gid-class_method" title="Process.gid (method)">.gid</a>.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_groups'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span>                <span class='comment'># =&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
</span><span class='const'>Process</span>.<span class='id identifier rubyid_initgroups'>initgroups</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>me</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>30</span>)  <span class='comment'># =&gt; [30, 6, 10, 11]
</span><span class='const'>Process</span>.<span class='id identifier rubyid_groups'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span>                <span class='comment'># =&gt; [30, 6, 10, 11]</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L6886-L6893'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6886' data-end='6893'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6886</span></pre>
<pre class='code cpp'>

static VALUE
proc_initgroups(VALUE obj, VALUE uname, VALUE base_grp)
{
    if (initgroups(StringValueCStr(uname), OBJ2GID(base_grp)) != 0) {
        rb_sys_fail(0);
    }
    return proc_getgroups(obj);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="kill-class_method">
  <h3 class='signature private'>
    .<strong>kill</strong>(signal, *ids)  &#x21d2; <code>count</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a signal to each process specified by <code>ids</code> (which must specify at least one ID); returns the count of signals sent.</p>

<p>For each given <code>id</code>, if <code>id</code> is:</p>
<ul><li>
<p>Positive, sends the signal to the process whose process ID is <code>id</code>.</p>
</li><li>
<p>Zero, send the signal to all processes in the current process group.</p>
</li><li>
<p>Negative, sends the signal to a system-dependent collection of processes.</p>
</li></ul>

<p>Argument <code>signal</code> specifies the signal to be sent; the argument may be:</p>
<ul><li>
<p>An integer signal number: e.g., <code>-29</code>, <code>0</code>, <code>29</code>.</p>
</li><li>
<p>A signal name (string), with or without leading <code>&#39;SIG&#39;</code>, and with or without a further prefixed minus sign (<code>&#39;-&#39;</code>): e.g.:</p>
<ul><li>
<p><code>&#39;SIGPOLL&#39;</code>.</p>
</li><li>
<p><code>&#39;POLL&#39;</code>,</p>
</li><li>
<p><code>&#39;-SIGPOLL&#39;</code>.</p>
</li><li>
<p><code>&#39;-POLL&#39;</code>.</p>
</li></ul>
</li><li>
<p>A signal symbol, with or without leading <code>&#39;SIG&#39;</code>, and with or without a further prefixed minus sign (<code>&#39;-&#39;</code>): e.g.:</p>
<ul><li>
<p><code>:SIGPOLL</code>.</p>
</li><li>
<p><code>:POLL</code>.</p>
</li><li>
<p><code>:&#39;-SIGPOLL&#39;</code>.</p>
</li><li>
<p><code>:&#39;-POLL&#39;</code>.</p>
</li></ul>
</li></ul>

<p>If <code>signal</code> is:</p>
<ul><li>
<p>A non-negative integer, or a signal name or symbol without prefixed <code>&#39;-&#39;</code>, each process with process ID <code>id</code> is signalled.</p>
</li><li>
<p>A negative integer, or a signal name or symbol with prefixed <code>&#39;-&#39;</code>, each process group with group ID <code>id</code> is signalled.</p>
</li></ul>

<p>Use method <a href="Signal.html#list-class_method" title="Signal.list (method)">Signal.list</a> to see which signals are supported by Ruby on the underlying platform; the method returns a hash of the string names and non-negative integer values of the supported signals. The size and content of the returned hash varies widely among platforms.</p>

<p>Additionally, signal <code>0</code> is useful to determine if the process exists.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='const'><a href="Signal.html" title="Signal (module)">Signal</a></span>.<span class='id identifier rubyid_trap'><a href="Signal.html#trap-class_method" title="Signal.trap (method)">trap</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HUP</span><span class='tstring_end'>&#39;</span></span>) { <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ouch!</span><span class='tstring_end'>&#39;</span></span><span class='semicolon'>;</span> <span class='id identifier rubyid_exit'><a href="#exit-class_method" title="Process.exit (method)">exit</a></span> }
  <span class='comment'># ... do some work ...
</span><span class='kw'>end</span>
<span class='comment'># ...
</span><span class='const'>Process</span>.<span class='id identifier rubyid_kill'>kill</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HUP</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='const'>Process</span>.<span class='id identifier rubyid_wait'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_Ouch!'>Ouch!</span></code></pre>

<p>Exceptions:</p>
<ul><li>
<p>Raises <code>Errno::EINVAL</code> or <a href="RangeError.html" title="RangeError (class)"><code>::RangeError</code></a> if <code>signal</code> is an integer but invalid.</p>
</li><li>
<p>Raises ArgumentError if <code>signal</code> is a string or symbol but invalid.</p>
</li><li>
<p>Raises <code>Errno::ESRCH</code> or <a href="RangeError.html" title="RangeError (class)"><code>::RangeError</code></a> if one of <code>ids</code> is invalid.</p>
</li><li>
<p>Raises <code>Errno::EPERM</code> if needed permissions are not in force.</p>
</li></ul>

<p>In the last two cases, signals may have been sent to some processes.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L8743-L8747'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8743' data-end='8747'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 8743</span></pre>
<pre class='code cpp'>

static VALUE
proc_rb_f_kill(int c, const VALUE *v, VALUE _)
{
    return rb_f_kill(c, v);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last_status-class_method">
  <h3 class='signature '>
    .<strong>last_status</strong>  &#x21d2; <code>Process</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="Process/Status.html" title="Process::Status (class)"><code>::Process::Status</code></a> object representing the most recently exited child process in the current thread, or <code>nil</code> if none:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Process</span>.<span class='id identifier rubyid_wait'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span>
<span class='const'>Process</span>.<span class='id identifier rubyid_last_status'>last_status</span> <span class='comment'># =&gt; #&lt;Process::Status: pid 14396 exit 13&gt;
</span>
<span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 14</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Process</span>.<span class='id identifier rubyid_wait'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span>
<span class='const'>Process</span>.<span class='id identifier rubyid_last_status'>last_status</span> <span class='comment'># =&gt; #&lt;Process::Status: pid 4692 exit 14&gt;
</span>
<span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 15</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># &#39;exit 15&#39; has not been reaped by #wait.
</span><span class='const'>Process</span>.<span class='id identifier rubyid_last_status'>last_status</span> <span class='comment'># =&gt; #&lt;Process::Status: pid 4692 exit 14&gt;
</span><span class='const'>Process</span>.<span class='id identifier rubyid_wait'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span>
<span class='const'>Process</span>.<span class='id identifier rubyid_last_status'>last_status</span> <span class='comment'># =&gt; #&lt;Process::Status: pid 1380 exit 15&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L638-L642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='638' data-end='642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 638</span></pre>
<pre class='code cpp'>

static VALUE
proc_s_last_status(VALUE mod)
{
    return rb_last_status_get();
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pid-class_method">
  <h3 class='signature private'>
    .<strong>pid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the process ID of the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_pid'>pid</span> <span class='comment'># =&gt; 15668</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L529-L533'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='529' data-end='533'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 529</span></pre>
<pre class='code cpp'>

static VALUE
proc_get_pid(VALUE _)
{
    return get_pid();
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ppid-class_method">
  <h3 class='signature private'>
    .<strong>ppid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the process ID of the parent of the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> { <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parent pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_ppid'>ppid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Pid</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>271290</span>.
<span class='const'>Parent</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='id identifier rubyid_is'>is</span> <span class='int'>271290</span>.</code></pre>

<p>May not return a trustworthy value on certain platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L558-L562'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='558' data-end='562'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 558</span></pre>
<pre class='code cpp'>

static VALUE
proc_get_ppid(VALUE _)
{
    return get_ppid();
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setpgid-class_method">
  <h3 class='signature private'>
    .<strong>setpgid</strong>(pid, pgid)  &#x21d2; <code>0</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the process group ID for the process given by process ID <a href="#pid-class_method" title="Process.pid (method)">.pid</a> to <code>pgid</code>.</p>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5179-L5189'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5179' data-end='5189'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5179</span></pre>
<pre class='code cpp'>

static VALUE
proc_setpgid(VALUE obj, VALUE pid, VALUE pgrp)
{
    rb_pid_t ipid, ipgrp;

    ipid = NUM2PIDT(pid);
    ipgrp = NUM2PIDT(pgrp);

    if (setpgid(ipid, ipgrp) &lt; 0) rb_sys_fail(0);
    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setpgrp-class_method">
  <h3 class='signature private'>
    .<strong>setpgrp</strong>  &#x21d2; <code>0</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <code>setpgid(0, 0)</code>.</p>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5123-L5136'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5123' data-end='5136'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5123</span></pre>
<pre class='code cpp'>

static VALUE
proc_setpgrp(VALUE _)
{
  /* check for posix setpgid() first; this matches the posix */
  /* getpgrp() above.  It appears that configure will set SETPGRP_VOID */
  /* even though setpgrp(0,0) would be preferred. The posix call avoids */
  /* this confusion. */
#ifdef HAVE_SETPGID
    if (setpgid(0,0) &lt; 0) rb_sys_fail(0);
#elif defined(HAVE_SETPGRP) &amp;&amp; defined(SETPGRP_VOID)
    if (setpgrp() &lt; 0) rb_sys_fail(0);
#endif
    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setpriority-class_method">
  <h3 class='signature private'>
    .<strong>setpriority</strong>(kind, integer, priority)  &#x21d2; <code>0</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See <a href="#getpriority-class_method" title="Process.getpriority (method)">.getpriority</a>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_setpriority'>setpriority</span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>19</span>)    <span class='comment'># =&gt; 0
</span><span class='const'>Process</span>.<span class='id identifier rubyid_setpriority'>setpriority</span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>19</span>) <span class='comment'># =&gt; 0
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getpriority'><a href="#getpriority-class_method" title="Process.getpriority (method)">getpriority</a></span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span><span class='comma'>,</span> <span class='int'>0</span>)        <span class='comment'># =&gt; 19
</span><span class='const'>Process</span>.<span class='id identifier rubyid_getpriority'><a href="#getpriority-class_method" title="Process.getpriority (method)">getpriority</a></span>(<span class='const'>Process</span><span class='op'>::</span><span class='const'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span><span class='comma'>,</span> <span class='int'>0</span>)     <span class='comment'># =&gt; 19</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5347-L5359'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5347' data-end='5359'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5347</span></pre>
<pre class='code cpp'>

static VALUE
proc_setpriority(VALUE obj, VALUE which, VALUE who, VALUE prio)
{
    int iwhich, iwho, iprio;

    iwhich = NUM2INT(which);
    iwho   = NUM2INT(who);
    iprio  = NUM2INT(prio);

    if (setpriority(iwhich, iwho, iprio) &lt; 0)
        rb_sys_fail(0);
    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setproctitle-class_method">
  <h3 class='signature private'>
    .<strong>setproctitle</strong>(string)  &#x21d2; <a href="String.html" title="String (class)">String</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the process title that appears on the ps(1) command.  Not necessarily effective on all platforms.  No exception will be raised regardless of the result, nor will <a href="NotImplementedError.html" title="NotImplementedError (class)"><code>::NotImplementedError</code></a> be raised even if the platform does not support the feature.</p>

<p>Calling this method does not affect the value of $0.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_setproctitle'>setproctitle</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myapp: worker #%d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_worker_id'>worker_id</span>)</code></pre>

<p>This method first appeared in Ruby 2.1 to serve as a global variable free means to change the process title.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/ruby.c#L2913-L2917'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2913' data-end='2917'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ruby.c', line 2913</span></pre>
<pre class='code cpp'>

static VALUE
proc_setproctitle(VALUE process, VALUE title)
{
    return ruby_setproctitle(title);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setrlimit-class_method">
  <h3 class='signature private'>
    .<strong>setrlimit</strong>(resource, cur_limit, max_limit = cur_limit)  &#x21d2; <code>nil</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets limits for the current process for the given <code>resource</code> to <code>cur_limit</code> (soft limit) and <code>max_limit</code> (hard limit); returns <code>nil</code>.</p>

<p>Argument <code>resource</code> specifies the resource whose limits are to be set; the argument may be given as a symbol, as a string, or as a constant beginning with <code>Process::RLIMIT_</code> (e.g., <code>:CORE</code>, <code>&#39;CORE&#39;</code>, or <a href="#RLIMIT_CORE-constant" title="Process::RLIMIT_CORE (constant)">RLIMIT_CORE</a>.</p>

<p>The resources available and supported are system-dependent, and may include (here expressed as symbols):</p>
<ul><li>
<p><code>:AS</code>: Total available memory (bytes) (SUSv3, NetBSD, FreeBSD, OpenBSD except 4.4BSD-Lite).</p>
</li><li>
<p><code>:CORE</code>: Core size (bytes) (SUSv3).</p>
</li><li>
<p><code>:CPU</code>: CPU time (seconds) (SUSv3).</p>
</li><li>
<p><code>:DATA</code>: <a href="Data_.html" title="Data (class)"><code>::Data</code></a> segment (bytes) (SUSv3).</p>
</li><li>
<p><code>:FSIZE</code>: <a href="File.html" title="File (class)"><code>::File</code></a> size (bytes) (SUSv3).</p>
</li><li>
<p><code>:MEMLOCK</code>: Total size for mlock(2) (bytes) (4.4BSD, GNU/Linux).</p>
</li><li>
<p><code>:MSGQUEUE</code>: Allocation for POSIX message queues (bytes) (GNU/Linux).</p>
</li><li>
<p><code>:NICE</code>: Ceiling on process’s nice(2) value (number) (GNU/Linux).</p>
</li><li>
<p><code>:NOFILE</code>: <a href="File.html" title="File (class)"><code>::File</code></a> descriptors (number) (SUSv3).</p>
</li><li>
<p><code>:NPROC</code>: Number of processes for the user (number) (4.4BSD, GNU/Linux).</p>
</li><li>
<p><code>:NPTS</code>: Number of pseudo terminals (number) (FreeBSD).</p>
</li><li>
<p><code>:RSS</code>: Resident memory size (bytes) (4.2BSD, GNU/Linux).</p>
</li><li>
<p><code>:RTPRIO</code>: Ceiling on the process’s real-time priority (number) (GNU/Linux).</p>
</li><li>
<p><code>:RTTIME</code>: CPU time for real-time process (us) (GNU/Linux).</p>
</li><li>
<p><code>:SBSIZE</code>: All socket buffers (bytes) (NetBSD, FreeBSD).</p>
</li><li>
<p><code>:SIGPENDING</code>: Number of queued signals allowed (signals) (GNU/Linux).</p>
</li><li>
<p><code>:STACK</code>: Stack size (bytes) (SUSv3).</p>
</li></ul>

<p>Arguments <code>cur_limit</code> and <code>max_limit</code> may be:</p>
<ul><li>
<p>Integers (<code>max_limit</code> should not be smaller than <code>cur_limit</code>).</p>
</li><li>
<p><a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> <code>:SAVED_MAX</code>, string <code>&#39;SAVED_MAX&#39;</code>, or constant <a href="#RLIM_SAVED_MAX-constant" title="Process::RLIM_SAVED_MAX (constant)">RLIM_SAVED_MAX</a>: saved maximum limit.</p>
</li><li>
<p><a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> <code>:SAVED_CUR</code>, string <code>&#39;SAVED_CUR&#39;</code>, or constant <a href="#RLIM_SAVED_CUR-constant" title="Process::RLIM_SAVED_CUR (constant)">RLIM_SAVED_CUR</a>: saved current limit.</p>
</li><li>
<p><a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> <code>:INFINITY</code>, string <code>&#39;INFINITY&#39;</code>, or constant <a href="#RLIM_INFINITY-constant" title="Process::RLIM_INFINITY (constant)">RLIM_INFINITY</a>: no limit on resource.</p>
</li></ul>

<p>This example raises the soft limit of core size to the hard limit to try to make core dump possible:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_setrlimit'>setrlimit</span>(<span class='symbeg'>:</span><span class='const'>CORE</span><span class='comma'>,</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getrlimit'><a href="#getrlimit-class_method" title="Process.getrlimit (method)">getrlimit</a></span>(<span class='symbeg'>:</span><span class='const'>CORE</span>)[<span class='int'>1</span>])</code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5679-L5698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5679' data-end='5698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5679</span></pre>
<pre class='code cpp'>

static VALUE
proc_setrlimit(int argc, VALUE *argv, VALUE obj)
{
    VALUE resource, rlim_cur, rlim_max;
    struct rlimit rlim;

    rb_check_arity(argc, 2, 3);
    resource = argv[0];
    rlim_cur = argv[1];
    if (argc &lt; 3 || NIL_P(rlim_max = argv[2]))
        rlim_max = rlim_cur;

    rlim.rlim_cur = rlimit_resource_value(rlim_cur);
    rlim.rlim_max = rlimit_resource_value(rlim_max);

    if (setrlimit(rlimit_resource_type(resource), &amp;rlim) &lt; 0) {
        rb_sys_fail(&quot;setrlimit&quot;);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setsid-class_method">
  <h3 class='signature private'>
    .<strong>setsid</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Establishes the current process as a new session and process group leader, with no controlling tty; returns the session ID:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_setsid'>setsid</span> <span class='comment'># =&gt; 27422</span></code></pre>

<p>Not available on all platforms.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L5245-L5253'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5245' data-end='5253'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5245</span></pre>
<pre class='code cpp'>

static VALUE
proc_setsid(VALUE _)
{
    rb_pid_t pid;

    pid = setsid();
    if (pid &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pid);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="spawn-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>.<strong>spawn</strong>([env, ] command_line, options = {})  &#x21d2; <a href="#pid-class_method" title="Process.pid (method)">pid</a> </span>
      <span class='overload'>.<strong>spawn</strong>([env, ] exe_path, *args, options  = {})  &#x21d2; <a href="#pid-class_method" title="Process.pid (method)">pid</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Kernel.html#spawn-class_method" title="Kernel.spawn (method)">Kernel.spawn</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="times-class_method">
  <h3 class='signature private'>
    .<strong>times</strong>  &#x21d2; <code>Process</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="Process/Tms.html" title="Process::Tms (class)"><code>::Process::Tms</code></a> structure that contains user and system CPU times for the current process, and for its children processes:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Process</span>.<span class='id identifier rubyid_times'>times</span>
<span class='comment'># =&gt; #&lt;struct Process::Tms utime=55.122118, stime=35.533068, cutime=0.0, cstime=0.002846&gt;</span></code></pre>

<p>The precision is platform-defined.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L7863-L7892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7863' data-end='7892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 7863</span></pre>
<pre class='code cpp'>

VALUE
rb_proc_times(VALUE obj)
{
    VALUE utime, stime, cutime, cstime, ret;
#if defined(RUSAGE_SELF) &amp;&amp; defined(RUSAGE_CHILDREN)
    struct rusage usage_s, usage_c;

    if (getrusage(RUSAGE_SELF, &amp;usage_s) != 0 || getrusage(RUSAGE_CHILDREN, &amp;usage_c) != 0)
        rb_sys_fail(&quot;getrusage&quot;);
    utime = DBL2NUM((double)usage_s.ru_utime.tv_sec + (double)usage_s.ru_utime.tv_usec/1e6);
    stime = DBL2NUM((double)usage_s.ru_stime.tv_sec + (double)usage_s.ru_stime.tv_usec/1e6);
    cutime = DBL2NUM((double)usage_c.ru_utime.tv_sec + (double)usage_c.ru_utime.tv_usec/1e6);
    cstime = DBL2NUM((double)usage_c.ru_stime.tv_sec + (double)usage_c.ru_stime.tv_usec/1e6);
#else
    const double hertz = (double)get_clk_tck();
    struct tms buf;

    times(&amp;buf);
    utime = DBL2NUM(buf.tms_utime / hertz);
    stime = DBL2NUM(buf.tms_stime / hertz);
    cutime = DBL2NUM(buf.tms_cutime / hertz);
    cstime = DBL2NUM(buf.tms_cstime / hertz);
#endif
    ret = rb_struct_new(rb_cProcessTms, utime, stime, cutime, cstime);
    RB_GC_GUARD(utime);
    RB_GC_GUARD(stime);
    RB_GC_GUARD(cutime);
    RB_GC_GUARD(cstime);
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait-class_method">
  <h3 class='signature private'>
    .<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>    <span class='aliases'>Also known as: <span class='names'>.waitpid</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Waits for a suitable child process to exit, returns its process ID, and sets <code>$?</code> to a <a href="Process/Status.html" title="Process::Status (class)"><code>::Process::Status</code></a> object containing information on that process. Which child it waits for depends on the value of the given <a href="#pid-class_method" title="Process.pid (method)">.pid</a>:</p>
<ul><li>
<p>Positive integer: Waits for the child process whose process ID is <a href="#pid-class_method" title="Process.pid (method)">.pid</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid0'>pid0</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 230866
</span><span class='id identifier rubyid_pid1'>pid1</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 14</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 230891
</span><span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_pid0'>pid0</span>)                            <span class='comment'># =&gt; 230866
</span><span class='gvar'>$?</span>                                            <span class='comment'># =&gt; #&lt;Process::Status: pid 230866 exit 13&gt;
</span><span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_pid1'>pid1</span>)                            <span class='comment'># =&gt; 230891
</span><span class='gvar'>$?</span>                                            <span class='comment'># =&gt; #&lt;Process::Status: pid 230891 exit 14&gt;
</span><span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_pid0'>pid0</span>)                            <span class='comment'># Raises Errno::ECHILD</span></code></pre>
</li><li>
<p><code>0</code>: Waits for any child process whose group ID is the same as that of the current process:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parent process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_child0_pid'>child0_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_child0_pgid'>child0_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child0_pgid'>child0_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (same as parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_child1_pid'>child1_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_setpgid'><a href="#setpgid-class_method" title="Process.setpgid (method)">setpgid</a></span>(<span class='int'>0</span><span class='comma'>,</span> <span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_child1_pgid'>child1_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child1_pgid'>child1_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (different from parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Process.wait(0) returned pid </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span><span class='embexpr_end'>}</span><span class='tstring_content'>, which is child 0 pid.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>begin</span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='int'>0</span>)
<span class='kw'>rescue</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>ECHILD</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Raised </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>, because child 1 process group ID differs from parent process group ID.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Parent</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>225764</span>.
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='id identifier rubyid_is'>is</span> <span class='int'>225788</span>
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>225764</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_parent'>parent</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s).
Child 1 pid is 225789
Child 1 process group ID is 225789 (different from parent</span><span class='tstring_end'>&#39;</span></span><span class='id identifier rubyid_s'>s</span>).
<span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='int'>0</span>) <span class='id identifier rubyid_returned'>returned</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='int'>225788</span><span class='comma'>,</span> <span class='id identifier rubyid_which'>which</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_child'>child</span> <span class='int'>0</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>.
<span class='const'>Raised</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>ECHILD</span><span class='comma'>,</span> <span class='id identifier rubyid_because'>because</span> <span class='id identifier rubyid_child'>child</span> <span class='int'>1</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_differs'>differs</span> <span class='id identifier rubyid_from'>from</span> <span class='id identifier rubyid_parent'>parent</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span>.</code></pre>
</li><li>
<p><code>-1</code> (default): Waits for any child process:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parent process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_child0_pid'>child0_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_child0_pgid'>child0_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child0_pgid'>child0_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (same as parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_child1_pid'>child1_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_setpgid'><a href="#setpgid-class_method" title="Process.setpgid (method)">setpgid</a></span>(<span class='int'>0</span><span class='comma'>,</span> <span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_child1_pgid'>child1_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child1_pgid'>child1_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (different from parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>3</span> <span class='comment'># To force child 1 to exit later than child 0 exit.
</span><span class='kw'>end</span>
<span class='id identifier rubyid_child_pids'>child_pids</span> <span class='op'>=</span> [<span class='id identifier rubyid_child0_pid'>child0_pid</span><span class='comma'>,</span> <span class='id identifier rubyid_child1_pid'>child1_pid</span>]
<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='op'>-</span><span class='int'>1</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_child_pids'>child_pids</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span>)
<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='op'>-</span><span class='int'>1</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_child_pids'>child_pids</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span>)</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Parent</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>228736</span>.
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='id identifier rubyid_is'>is</span> <span class='int'>228758</span>
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>228736</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_parent'>parent</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s).
Child 1 pid is 228759
Child 1 process group ID is 228759 (different from parent</span><span class='tstring_end'>&#39;</span></span><span class='id identifier rubyid_s'>s</span>).
<span class='kw'>true</span>
<span class='kw'>true</span></code></pre>
</li><li>
<p>Less than <code>-1</code>: Waits for any child whose process group ID is <code>-pid</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parent process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_pgpid'>parent_pgpid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_child0_pid'>child0_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_child0_pgid'>child0_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 0 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child0_pgid'>child0_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (same as parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_child1_pid'>child1_pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 pid is </span><span class='embexpr_beg'>#{</span><span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_setpgid'><a href="#setpgid-class_method" title="Process.setpgid (method)">setpgid</a></span>(<span class='int'>0</span><span class='comma'>,</span> <span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_child1_pgid'>child1_pgid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_getpgid'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span>(<span class='const'>Process</span>.<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child 1 process group ID is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child1_pgid'>child1_pgid</span><span class='embexpr_end'>}</span><span class='tstring_content'> (different from parent&#39;s).</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>1</span>
<span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='op'>-</span><span class='id identifier rubyid_child1_pid'>child1_pid</span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Process.wait(-child1_pid) returned pid </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_retrieved_pid'>retrieved_pid</span><span class='embexpr_end'>}</span><span class='tstring_content'>, which is child 1 pid.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>begin</span>
  <span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='op'>-</span><span class='id identifier rubyid_child1_pid'>child1_pid</span>)
<span class='kw'>rescue</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>ECHILD</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Raised </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>, because there&#39;s no longer a child with process group id </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child1_pid'>child1_pid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Parent</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>230083</span>.
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='id identifier rubyid_is'>is</span> <span class='int'>230108</span>
<span class='const'>Child</span> <span class='int'>0</span> <span class='id identifier rubyid_process'>process</span> <span class='id identifier rubyid_group'>group</span> <span class='const'>ID</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>230083</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_parent'>parent</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s).
Child 1 pid is 230109
Child 1 process group ID is 230109 (different from parent</span><span class='tstring_end'>&#39;</span></span><span class='id identifier rubyid_s'>s</span>).
<span class='const'>Process</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='op'>-</span><span class='id identifier rubyid_child1_pid'>child1_pid</span>) <span class='id identifier rubyid_returned'>returned</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='int'>230109</span><span class='comma'>,</span> <span class='id identifier rubyid_which'>which</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_child'>child</span> <span class='int'>1</span> <span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>.
<span class='const'>Raised</span> <span class='const'><a href="Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'>ECHILD</span><span class='comma'>,</span> <span class='id identifier rubyid_because'>because</span> <span class='id identifier rubyid_there'>there</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s no longer a child with process group id 230109.</span></code></pre>
</li></ul>

<p>Argument <code>flags</code> should be given as one of the following constants, or as the logical OR of both:</p>
<ul><li>
<p><a href="#WNOHANG-constant" title="Process::WNOHANG (constant)">WNOHANG</a>: Does not block if no child process is available.</p>
</li><li>
<p><a href="#WUNTRACED-constant" title="Process::WUNTRACED (constant)">WUNTRACED</a>: May return a stopped child process, even if not yet reported.</p>
</li></ul>

<p>Not all flags are available on all platforms.</p>

<p>Raises <code>Errno::ECHILD</code> if there is no suitable child process.</p>

<p>Not available on all platforms.</p>

<p><a href="#waitpid-class_method" title="Process.waitpid (method)">.waitpid</a> is an alias for <code>wait</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L1465-L1469'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1465' data-end='1469'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 1465</span></pre>
<pre class='code cpp'>

static VALUE
proc_m_wait(int c, VALUE *v, VALUE _)
{
    return proc_wait(c, v);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait2-class_method">
  <h3 class='signature private'>
    .<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>status</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>    <span class='aliases'>Also known as: <span class='names'>.waitpid2</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Like <a href="#waitpid-class_method" title="Process.waitpid (method)">.waitpid</a>, but returns an array containing the child process <a href="#pid-class_method" title="Process.pid (method)">.pid</a> and <a href="Process/Status.html" title="Process::Status (class)"><code>::Process::Status</code></a> <code>status</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 309581
</span><span class='const'>Process</span>.<span class='id identifier rubyid_wait2'>wait2</span>(<span class='id identifier rubyid_pid'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span>)
<span class='comment'># =&gt; [309581, #&lt;Process::Status: pid 309581 exit 13&gt;]</span></code></pre>

<p><a href="#waitpid2-class_method" title="Process.waitpid2 (method)">.waitpid2</a> is an alias for <code>wait2</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L1485-L1491'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1485' data-end='1491'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 1485</span></pre>
<pre class='code cpp'>

static VALUE
proc_wait2(int argc, VALUE *argv, VALUE _)
{
    VALUE pid = proc_wait(argc, argv);
    if (NIL_P(pid)) return Qnil;
    return rb_assoc_new(pid, rb_last_status_get());
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="waitall-class_method">
  <h3 class='signature private'>
    .<strong>waitall</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Waits for all children, returns an array of 2-element arrays; each subarray contains the integer pid and <a href="Process/Status.html" title="Process::Status (class)"><code>::Process::Status</code></a> status for one of the reaped child processes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pid0'>pid0</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 325470
</span><span class='id identifier rubyid_pid1'>pid1</span> <span class='op'>=</span> <span class='const'>Process</span>.<span class='id identifier rubyid_spawn'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exit 14</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 325495
</span><span class='const'>Process</span>.<span class='id identifier rubyid_waitall'>waitall</span>
<span class='comment'># =&gt; [[325470, #&lt;Process::Status: pid 325470 exit 13&gt;], [325495, #&lt;Process::Status: pid 325495 exit 14&gt;]]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L1509-L1530'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1509' data-end='1530'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 1509</span></pre>
<pre class='code cpp'>

static VALUE
proc_waitall(VALUE _)
{
    VALUE result;
    rb_pid_t pid;
    int status;

    result = rb_ary_new();
    rb_last_status_clear();

    for (pid = -1;;) {
        pid = rb_waitpid(-1, &amp;status, 0);
        if (pid == -1) {
            int e = errno;
            if (e == ECHILD)
                break;
            rb_syserr_fail(e, 0);
        }
        rb_ary_push(result, rb_assoc_new(PIDT2NUM(pid), rb_last_status_get()));
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="waitpid-class_method">
  <h3 class='signature private'>
    <div class='inline-block'>
      <span class='overload'>.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'>.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#wait-class_method" title="Process.wait (method)">.wait</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="waitpid2-class_method">
  <h3 class='signature private'>
    <div class='inline-block'>
      <span class='overload'>.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>status</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span></span>
      <span class='overload'>.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>status</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#wait2-class_method" title="Process.wait2 (method)">.wait2</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="warmup-class_method">
  <h3 class='signature private'>
    .<strong>warmup</strong>  &#x21d2; <code>true</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Notify the Ruby virtual machine that the boot sequence is finished, and that now is a good time to optimize the application. This is useful for long running applications.</p>

<p>This method is expected to be called at the end of the application boot. If the application is deployed using a pre-forking model, <code>warmup</code> should be called in the original process before the first fork.</p>

<p>The actual optimizations performed are entirely implementation specific and may change in the future without notice.</p>

<p>On CRuby, <code>warmup</code>:</p>
<ul><li>
<p>Performs a major <a href="GC.html" title="GC (module)"><code>::GC</code></a>.</p>
</li><li>
<p>Compacts the heap.</p>
</li><li>
<p>Promotes all surviving objects to the old generation.</p>
</li><li>
<p>Precomputes the coderange of all strings.</p>
</li><li>
<p>Frees all empty heap pages and increments the allocatable pages counter by the number of pages freed.</p>
</li><li>
<p>Invoke <code>malloc_trim</code> if available to free empty malloc pages.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/master/process.c#L8780-L8787'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8780' data-end='8787'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 8780</span></pre>
<pre class='code cpp'>

static VALUE
proc_warmup(VALUE _)
{
    RB_VM_LOCK_ENTER();
    rb_gc_prepare_heap();
    RB_VM_LOCK_LEAVE();
    return Qtrue;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>