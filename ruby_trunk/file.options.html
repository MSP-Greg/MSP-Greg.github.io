<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Options &mdash; Ruby-master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "options",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Ruby-master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Options&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="file_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Ruby Command-Line Options</h1>

<h2>About the Examples</h2>

<p>Some examples here use command-line option <code>-e</code>,
which passes the Ruby code to be executed on the command line itself:</p>

<pre class="code console"><code class="console">$ ruby -e &#39;puts &quot;Hello, World.&quot;&#39;
</code></pre>

<p>Some examples here assume that file <code>desiderata.txt</code> exists:</p>

<pre class="code console"><code class="console">$ cat desiderata.txt
Go placidly amid the noise and the haste,
and remember what peace there may be in silence.
As far as possible, without surrender,
be on good terms with all persons.
</code></pre>

<h2>Options</h2>

<h3><code>-0</code>: Set <code>$/</code> (Input Record Separator)</h3>

<p>Option <code>-0</code> defines the input record separator <code>$/</code>
for the invoked Ruby program.</p>

<p>The optional argument to the option must be octal digits,
each in the range <code>0..7</code>;
these digits are prefixed with digit <code>0</code> to form an octal value.</p>

<p>If no argument is given, the input record separator is <code>0x00</code>.</p>

<p>If an argument is given, it must immediately follow the option
(no intervening whitespace or equal-sign character <code>&#39;=&#39;</code>);
argument values:</p>

<ul>
<li><code>0</code>: the input record separator is <code>&#39;&#39;</code>;
see <code>Line Separator Values</code>[file.li>.html"code console"><code class="console">$ ruby -0 -e &#39;p $/&#39;
&quot;\x00&quot;
ruby -00 -e &#39;p $/&#39;
&quot;&quot;
$ ruby -012 -e &#39;p $/&#39;
&quot;\n&quot;
$ ruby -015 -e &#39;p $/&#39;
&quot;\r&quot;
$ ruby -0377 -e &#39;p $/&#39;
&quot;\xFF&quot;
$ ruby -0400 -e &#39;p $/&#39;
nil
</code></pre>

<p>See also:</p>

<ul>
<li><code>-a</code>[file.li>.html"code console"><code class="console">$ ruby -an -e &#39;p $F&#39; desiderata.txt
[&quot;Go&quot;, &quot;placidly&quot;, &quot;amid&quot;, &quot;the&quot;, &quot;noise&quot;, &quot;and&quot;, &quot;the&quot;, &quot;haste,&quot;]
[&quot;and&quot;, &quot;remember&quot;, &quot;what&quot;, &quot;peace&quot;, &quot;there&quot;, &quot;may&quot;, &quot;be&quot;, &quot;in&quot;, &quot;silence.&quot;]
[&quot;As&quot;, &quot;far&quot;, &quot;as&quot;, &quot;possible,&quot;, &quot;without&quot;, &quot;surrender,&quot;]
[&quot;be&quot;, &quot;on&quot;, &quot;good&quot;, &quot;terms&quot;, &quot;with&quot;, &quot;all&quot;, &quot;persons.&quot;]
</code></pre>

<p>For the splitting,
the default record separator is <code>$/</code>,
and the default field separator  is <code>$;</code>.</p>

<p>See also:</p>

<ul>
<li><code>-0</code>[file.li>.html"code console"><code class="console">$ ruby -e &#39;puts &quot;Foo&quot;&#39;
Foo
$ ruby -c -e &#39;puts &quot;Foo&quot;&#39;
Syntax OK
</code></pre>

<h3><code>-C</code>: Set Working Directory</h3>

<p>The argument to option <code>-C</code> specifies a working directory
for the invoked Ruby program;
does not change the working directory for the current process:</p>

<pre class="code console"><code class="console">$ basename `pwd`
ruby
$ ruby -C lib -e &#39;puts File.basename(Dir.pwd)&#39;
lib
$ basename `pwd`
ruby
</code></pre>

<p>Whitespace between the option and its argument may be omitted.</p>

<h3><code>-d</code>: Set <code>$DEBUG</code> to <code>true</code></h3>

<p>Some code in (or called by) the Ruby program may include statements or blocks
conditioned by the global variable <code>$DEBUG</code> (e.g., <code>if $DEBUG</code>);
these commonly write to <code>$stdout</code> or <code>$stderr</code>.</p>

<p>The default value for <code>$DEBUG</code> is <code>false</code>;
option <code>-d</code> sets it to <code>true</code>:</p>

<pre class="code console"><code class="console">$ ruby -e &#39;p $DEBUG&#39;
false
$ ruby -d -e &#39;p $DEBUG&#39;
true
</code></pre>

<p>Option <code>--debug</code> is an alias for option <code>-d</code>.</p>

<h3><code>-e</code>: Execute Given Ruby Code</h3>

<p>Option <code>-e</code> requires an argument, which is Ruby code to be executed;
the option may be given more than once:</p>

<pre class="code console"><code class="console">$ ruby -e &#39;puts &quot;Foo&quot;&#39; -e &#39;puts &quot;Bar&quot;&#39;
Foo
Bar
</code></pre>

<p>Whitespace between the option and its argument may be omitted.</p>

<p>The command may include other options,
but should not include arguments (which, if given, are ignored).</p>

<h3><code>-E</code>: Set Default Encodings</h3>

<p>Option <code>-E</code> requires an argument, which specifies either the default external encoding,
or both the default external and internal encodings for the invoked Ruby program:</p>

<pre class="code console"><code class="console"># No option -E.
$ ruby -e &#39;p [Encoding::default_external, Encoding::default_internal]&#39;
[#&lt;Encoding:UTF-8&gt;, nil]
# Option -E with default external encoding.
$ ruby -E cesu-8 -e &#39;p [Encoding::default_external, Encoding::default_internal]&#39;
[#&lt;Encoding:CESU-8&gt;, nil]
# Option -E with default external and internal encodings.
$ ruby -E utf-8:cesu-8 -e &#39;p [Encoding::default_external, Encoding::default_internal]&#39;
[#&lt;Encoding:UTF-8&gt;, #&lt;Encoding:CESU-8&gt;]
</code></pre>

<p>Whitespace between the option and its argument may be omitted.</p>

<p>See also:</p>

<ul>
<li><code>--external-encoding</code>[options_md.html#label--external-encoding-3A+Set+Default+External+Encoding]:
Set default external encoding.</li>
<li><code>--internal-encoding</code>[options_md.html#label--internal-encoding-3A+Set+Default+Internal+Encoding]:
Set default internal encoding.</li>
</ul>

<p>Option <code>--encoding</code> is an alias for option <code>-E</code>.</p>

<h3><code>-F</code>: Set Input Field Separator</h3>

<p>Option <code>-F</code>, when given with option <code>-a</code>,
specifies that its argument is to be the input field separator to be used for splitting:</p>

<pre class="code console"><code class="console">$ ruby -an -Fs -e &#39;p $F&#39; desiderata.txt
[&quot;Go placidly amid the noi&quot;, &quot;e and the ha&quot;, &quot;te,\n&quot;]
[&quot;and remember what peace there may be in &quot;, &quot;ilence.\n&quot;]
[&quot;A&quot;, &quot; far a&quot;, &quot; po&quot;, &quot;&quot;, &quot;ible, without &quot;, &quot;urrender,\n&quot;]
[&quot;be on good term&quot;, &quot; with all per&quot;, &quot;on&quot;, &quot;.\n&quot;]
</code></pre>

<p>The argument may be a regular expression:</p>

<pre class="code console"><code class="console">$ ruby -an -F&#39;[.,]\s*&#39; -e &#39;p $F&#39; desiderata.txt
[&quot;Go placidly amid the noise and the haste&quot;]
[&quot;and remember what peace there may be in silence&quot;]
[&quot;As far as possible&quot;, &quot;without surrender&quot;]
[&quot;be on good terms with all persons&quot;]
</code></pre>

<p>The argument must immediately follow the option
(no intervening whitespace or equal-sign character <code>&#39;=&#39;</code>).</p>

<p>See also:</p>

<ul>
<li><code>-0</code>[file.li>.html"code console"><code class="console">$ ruby -e &#39;p ARGF.inplace_mode&#39;
nil
$ ruby -i -e &#39;p ARGF.inplace_mode&#39;
&quot;&quot;
$ ruby -i.bak -e &#39;p ARGF.inplace_mode&#39;
&quot;.bak&quot;
</code></pre>

<h3><code>-I</code>: Add to <code>$LOAD_PATH</code></h3>

<p>The argument to option <code>-I</code> specifies a directory
to be added to the array in global variable <code>$LOAD_PATH</code>;
the option may be given more than once:</p>

<pre class="code console"><code class="console">$ pushd /tmp
$ ruby -e &#39;p $LOAD_PATH.size&#39;
8
$ ruby -I my_lib -I some_lib -e &#39;p $LOAD_PATH.size&#39;
10
$ ruby -I my_lib -I some_lib -e &#39;p $LOAD_PATH.take(2)&#39;
[&quot;/tmp/my_lib&quot;, &quot;/tmp/some_lib&quot;]
$ popd
</code></pre>

<p>Whitespace between the option and its argument may be omitted.</p>

<h3><code>-l</code>: Set Output Record Separator; Chop Lines</h3>

<p>Option <code>-l</code>, when given with option <code>-n</code> or <code>-p</code>,
modifies line-ending processing by:</p>

<ul>
<li>Setting global variable output record separator <code>$\</code>
to the current value of input record separator <code>$/</code>;
this affects line-oriented output (such a the output from Kernel#puts).</li>
<li>Calling String#chop! on each line read.</li>
</ul>

<p>Without option <code>-l</code> (unchopped):</p>

<pre class="code console"><code class="console">$ ruby -n -e &#39;p $_&#39; desiderata.txt
&quot;Go placidly amid the noise and the haste,\n&quot;
&quot;and remember what peace there may be in silence.\n&quot;
&quot;As far as possible, without surrender,\n&quot;
&quot;be on good terms with all persons.\n&quot;
</code></pre>

<p>With option <code>-l</code> (chopped):</p>

<pre class="code console"><code class="console">$ ruby -ln -e &#39;p $_&#39; desiderata.txt
&quot;Go placidly amid the noise and the haste,&quot;
&quot;and remember what peace there may be in silence.&quot;
&quot;As far as possible, without surrender,&quot;
&quot;be on good terms with all persons.&quot;
</code></pre>

<p>See also:</p>

<ul>
<li><code>-0</code>[file.li>.html"code ruby"><code class="ruby"><span class='kw'>while</span> <span class='id identifier rubyid_gets'>gets</span>
  <span class='comment'># Your Ruby code.
</span><span class='kw'>end</span></code></pre>

<p>Note that <code>gets</code> reads the next line and sets global variable <code>$_</code>
to the last read line:</p>

<pre class="code console"><code class="console">$ ruby -n -e &#39;puts $_&#39; desiderata.txt
Go placidly amid the noise and the haste,
and remember what peace there may be in silence.
As far as possible, without surrender,
be on good terms with all persons.
</code></pre>

<p>See also:</p>

<ul>
<li><code>-0</code>[file.li>.html"code console"><code class="console">$ ruby -p -e &#39;puts $_.size&#39; desiderata.txt
42
Go placidly amid the noise and the haste,
49
and remember what peace there may be in silence.
39
As far as possible, without surrender,
35
be on good terms with all persons.
</code></pre>

<p>See also:</p>

<ul>
<li><code>-0</code>[file.li>.html"code console"><code class="console">$ ruby -e &#39;p defined?(JSON); p defined?(CSV)&#39;
nil
nil
$ ruby -r CSV -r JSON -e &#39;p defined?(JSON); p defined?(CSV)&#39;
&quot;constant&quot;
&quot;constant&quot;
</code></pre>

<p>Whitespace between the option and its argument may be omitted.</p>

<h3><code>-s</code>: Define Global Variable</h3>

<p>Option <code>-s</code> specifies that a &quot;custom option&quot; is to define a global variable
in the invoked Ruby program:</p>

<ul>
<li>The custom option must appear <em>after</em> the program name.</li>
<li>The custom option must begin with single hyphen (e.g., <code>-foo</code>),
not two hyphens (e.g., <code>--foo</code>).</li>
<li>The name of the global variable is based on the option name:
global variable <code>$foo</code> for custom option<code>-foo</code>.</li>
<li>The value of the global variable is the string option argument if given,
<code>true</code> otherwise.</li>
</ul>

<p>More than one custom option may be given:</p>

<pre class="code console"><code class="console">$ cat t.rb
p [$foo, $bar]
$ ruby t.rb
[nil, nil]
$ ruby -s t.rb -foo=baz
[&quot;baz&quot;, nil]
$ ruby -s t.rb -foo
[true, nil]
$ ruby -s t.rb -foo=baz -bar=bat
[&quot;baz&quot;, &quot;bat&quot;]
</code></pre>

<p>The option may not be used with
<code>-e</code>[file.p>
.html"code console"><code class="console">$ export PATH=/tmp:$PATH
$ echo &quot;puts File.basename(Dir.pwd)&quot; &gt; /tmp/t.rb
$ ruby -S t.rb
ruby
</code></pre>

<h3><code>-v</code>: Print Version; Set <code>$VERBOSE</code></h3>

<p>Options <code>-v</code> prints the Ruby version and sets global variable <code>$VERBOSE</code>:</p>

<pre class="code console"><code class="console">$ ruby -e &#39;p $VERBOSE&#39;
false
$ ruby -v -e &#39;p $VERBOSE&#39;
ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x64-mingw-ucrt]
true
</code></pre>

<h3><code>-w</code>: Synonym for <code>-W1</code></h3>

<p>Option <code>-w</code> (lowercase letter) is equivalent to option <code>-W1</code> (uppercase letter).</p>

<h3><code>-W</code>: Set \Warning Policy</h3>

<p>Any Ruby code can create a <i>warning message</i> by calling method Kernel#warn;
methods in the Ruby core and standard libraries can also create warning messages.
Such a message may be printed on <code>$stderr</code>
(or not, depending on certain settings).</p>

<p>Option <code>-W</code> helps determine whether a particular warning message
will be written,
by setting the initial value of global variable <code>$-W</code>:</p>

<ul>
<li><code>-W0</code>: Sets <code>$-W</code> to <code>0</code> (silent; no warnings).</li>
<li><code>-W1</code>: Sets <code>$-W</code> to <code>1</code> (moderate verbosity).</li>
<li><code>-W2</code>: Sets <code>$-W</code> to <code>2</code> (high verbosity).</li>
<li><code>-W</code>: Same as <code>-W2</code> (high verbosity).</li>
<li>Option not given: Same as <code>-W1</code> (moderate verbosity).</li>
</ul>

<p>The value of <code>$-W</code>, in turn, determines which warning messages (if any)
are to be printed to <code>$stdout</code> (see Kernel#warn):</p>

<pre class="code console"><code class="console">$ ruby -W1 -e &#39;p $foo&#39;
nil
$ ruby -W2 -e &#39;p $foo&#39;
-e:1: warning: global variable &#39;$foo&#39; not initialized
nil
</code></pre>

<p>Ruby code may also define warnings for certain categories;
these are the default settings for the defined categories:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_experimental'>experimental</span>] <span class='comment'># =&gt; true
</span><span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_deprecated'>deprecated</span>]   <span class='comment'># =&gt; false
</span><span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_performance'>performance</span>]  <span class='comment'># =&gt; false</span></code></pre>

<p>They may also be set:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_experimental'>experimental</span>] <span class='op'>=</span> <span class='kw'>false</span>
<span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_deprecated'>deprecated</span>]   <span class='op'>=</span> <span class='kw'>true</span>
<span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_performance'>performance</span>]  <span class='op'>=</span> <span class='kw'>true</span></code></pre>

<p>You can suppress a category by prefixing <code>no-</code> to the category name:</p>

<pre class="code console"><code class="console">$ ruby -W:no-experimental -e &#39;p IO::Buffer.new&#39;
#&lt;IO::Buffer&gt;
</code></pre>

<h3><code>-x</code>: Execute Ruby Code Found in Text</h3>

<p>Option <code>-x</code> executes a Ruby program whose code is embedded
in other, non-code, text:</p>

<p>The ruby code:</p>

<ul>
<li>Begins after the first line beginning with <code>&#39;#!</code> and containing string <code>&#39;ruby&#39;</code>.</li>
<li><p>Ends before any one of:</p>

<ul>
<li>End-of-file.</li>
<li>A line consisting of <code>&#39;__END__&#39;</code>,</li>
<li>Character <code>Ctrl-D</code> or <code>Ctrl-Z</code>.</li>
</ul></li>
</ul>

<p>Example:</p>

<pre class="code console"><code class="console">$ cat t.txt
Leading garbage.
#!ruby
puts File.basename(Dir.pwd)
__END__
Trailing garbage.

$ ruby -x t.txt
ruby
</code></pre>

<p>The optional argument specifies the directory where the text file
is to be found;
the Ruby code is executed in that directory:</p>

<pre class="code console"><code class="console">$ cp t.txt /tmp/
$ ruby -x/tmp t.txt
tmp
$

</code></pre>

<p>If an argument is given, it must immediately follow the option
(no intervening whitespace or equal-sign character <code>&#39;=&#39;</code>).</p>

<h3><code>--backtrace-limit</code>: Set Backtrace Limit</h3>

<p>Option <code>--backtrace-limit</code> sets a limit on the number of entries
to be displayed in a backtrace.</p>

<p>See Thread::Backtrace.limit.</p>

<h3><code>--copyright</code>: Print Ruby Copyright</h3>

<p>Option <code>--copyright</code> prints a copyright message:</p>

<pre class="code console"><code class="console">$ ruby --copyright
ruby - Copyright (C) 1993-2024 Yukihiro Matsumoto
</code></pre>

<h3><code>--debug</code>: Alias for <code>-d</code></h3>

<p>Option <code>--debug</code> is an alias for
<code>-d</code>[file.p>
.html"code sh"><code class="sh">ruby --disable=gems,rubyopt t.rb
</code></pre>

<p>The supported features:</p>

<ul>
<li><code>gems</code>: Rubygems (default: enabled).</li>
<li><code>did_you_mean</code>: <a href="https://github.com/ruby/did_you_mean"><code>did_you_mean</code></a> (default: enabled).</li>
<li><code>rubyopt</code>: <code>RUBYOPT</code> environment variable (default: enabled).</li>
<li><code>frozen-string-literal</code>: Freeze all string literals (default: disabled).</li>
<li><code>jit</code>: JIT compiler (default: disabled).</li>
</ul>

<p>See also <code>--enable</code>[options_md.html#label--enable-3A+Enable+Features].</p>

<h3><code>--dump</code>: Dump Items</h3>

<p>Option <code>--dump</code> specifies items to be dumped;
the argument is a comma-separated list of the items.</p>

<p>Some of the argument values cause the command to behave as if a different
option was given:</p>

<ul>
<li><code>--dump=copyright</code>:
Same as <code>--copyright</code>[options_md.html#label--copyright-3A+Print+Ruby+Copyright].</li>
<li><code>--dump=help</code>:
Same as <code>--help</code>[options_md.html#label--help-3A+Print+Help+Message].</li>
<li><code>--dump=syntax</code>:
Same as <code>-c</code>[file.li>.html"code sh"><code class="sh">ruby --enable=gems,rubyopt t.rb
</code></pre>

<p>For the features,
see <code>--disable</code>[options_md.html#label--disable-3A+Disable+Features].</p>

<h3><code>--encoding</code>: Alias for <code>-E</code>.</h3>

<p>Option <code>--encoding</code> is an alias for
<code>-E</code>[file.p>
.html"code console"><code class="console">$ ruby -e &#39;puts Encoding::default_external&#39;
UTF-8
$ ruby --external-encoding=cesu-8 -e &#39;puts Encoding::default_external&#39;
CESU-8
</code></pre>

<h3><code>--help</code>: Print Help Message</h3>

<p>Option <code>--help</code> prints a long help message.</p>

<p>Arguments and additional options are ignored.</p>

<p>For a shorter help message, use option <code>-h</code>.</p>

<h3><code>--internal-encoding</code>: Set Default Internal \Encoding</h3>

<p>Option <code>--internal-encoding</code>
sets the default internal encoding for the invoked Ruby program;
for values of <code>encoding</code>,
see <code>Names and Aliases</code>[file.p>

<pre class=.html"code console"><code class="console">$ ruby -e &#39;puts Encoding::default_internal.nil?&#39;
true
$ ruby --internal-encoding=cesu-8 -e &#39;puts Encoding::default_internal&#39;
CESU-8
</code></pre>

<h3><code>--jit</code></h3>

<p>Option <code>--jit</code> is an alias for option <code>--yjit</code>, which enables YJIT;
see additional YJIT options in the <a href="file.yjit.html">YJIT documentation</a>.</p>

<h3><code>--verbose</code>: Set <code>$VERBOSE</code></h3>

<p>Option <code>--verbose</code> sets global variable <code>$VERBOSE</code> to <code>true</code>
and disables input from <code>$stdin</code>.</p>

<h3><code>--version</code>: Print Ruby Version</h3>

<p>Option <code>--version</code> prints the version of the Ruby interpreter, then exits.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>