<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Packed Data &mdash; Ruby-master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "packed_data",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Ruby-master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Packed Data&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="file_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>

<h1 id="label-Packed+Data">Packed Data</h1>

<h2 id="label-Quick+Reference">Quick Reference</h2>

<p>These tables summarize the directives for packing and unpacking.</p>

<h3 id="label-For+Integers">For Integers</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Directive</span>     <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>|</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>C</span>             <span class='op'>|</span> <span class='int'>8</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span> (<span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_char'>char</span>)
<span class='const'>S</span>             <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint16_t'>uint16_t</span>)
<span class='const'>L</span>             <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint32_t'>uint32_t</span>)
<span class='const'>Q</span>             <span class='op'>|</span> <span class='int'>64</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint64_t'>uint64_t</span>)
<span class='const'>J</span>             <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_width'>width</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uintptr_t'>uintptr_t</span>)

<span class='id identifier rubyid_c'>c</span>             <span class='op'>|</span> <span class='int'>8</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span> (<span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_char'>char</span>)
<span class='id identifier rubyid_s'>s</span>             <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int16_t'>int16_t</span>)
<span class='id identifier rubyid_l'>l</span>             <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int32_t'>int32_t</span>)
<span class='id identifier rubyid_q'>q</span>             <span class='op'>|</span> <span class='int'>64</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int64_t'>int64_t</span>)
<span class='id identifier rubyid_j'>j</span>             <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_width'>width</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_intptr_t'>intptr_t</span>)

<span class='const'>S_</span> <span class='id identifier rubyid_S!'>S!</span>         <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>I</span> <span class='const'>I_</span> <span class='id identifier rubyid_I!'>I!</span>       <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>L_</span> <span class='id identifier rubyid_L!'>L!</span>         <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>Q_</span> <span class='id identifier rubyid_Q!'>Q!</span>         <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
              <span class='op'>|</span>   (<span class='id identifier rubyid_raises'>raises</span> <span class='const'>ArgumentError</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_type'>type</span>)
<span class='id identifier rubyid_J!'>J!</span>            <span class='op'>|</span> <span class='id identifier rubyid_uintptr_t'>uintptr_t</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_with'>with</span> <span class='const'>J</span>)

<span class='id identifier rubyid_s_'>s_</span> <span class='id identifier rubyid_s!'>s!</span>         <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_i'>i</span> <span class='id identifier rubyid_i_'>i_</span> <span class='id identifier rubyid_i!'>i!</span>       <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_l_'>l_</span> <span class='id identifier rubyid_l!'>l!</span>         <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_q_'>q_</span> <span class='id identifier rubyid_q!'>q!</span>         <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
              <span class='op'>|</span>   (<span class='id identifier rubyid_raises'>raises</span> <span class='const'>ArgumentError</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_type'>type</span>)
<span class='id identifier rubyid_j!'>j!</span>            <span class='op'>|</span> <span class='id identifier rubyid_intptr_t'>intptr_t</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_with'>with</span> <span class='id identifier rubyid_j'>j</span>)

<span class='const'>S</span><span class='op'>&gt;</span> <span class='id identifier rubyid_s'>s</span><span class='op'>&gt;</span> <span class='id identifier rubyid_S!'>S!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_s!'>s!</span><span class='op'>&gt;</span> <span class='op'>|</span> <span class='id identifier rubyid_each'>each</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_directive'>directive</span> <span class='id identifier rubyid_without'>without</span> <span class='op'>&gt;</span><span class='comma'>,</span> <span class='id identifier rubyid_but'>but</span> <span class='id identifier rubyid_big'>big</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>L</span><span class='op'>&gt;</span> <span class='id identifier rubyid_l'>l</span><span class='op'>&gt;</span> <span class='id identifier rubyid_L!'>L!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_l!'>l!</span><span class='op'>&gt;</span> <span class='op'>|</span>   <span class='const'>S</span><span class='op'>&gt;</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_n'>n</span>
<span class='id identifier rubyid_I!'>I!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_i!'>i!</span><span class='op'>&gt;</span>       <span class='op'>|</span>   <span class='const'>L</span><span class='op'>&gt;</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='const'>N</span>
<span class='const'>Q</span><span class='op'>&gt;</span> <span class='id identifier rubyid_q'>q</span><span class='op'>&gt;</span> <span class='id identifier rubyid_Q!'>Q!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_q!'>q!</span><span class='op'>&gt;</span> <span class='op'>|</span>
<span class='const'>J</span><span class='op'>&gt;</span> <span class='id identifier rubyid_j'>j</span><span class='op'>&gt;</span> <span class='id identifier rubyid_J!'>J!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_j!'>j!</span><span class='op'>&gt;</span> <span class='op'>|</span>

<span class='const'>S</span><span class='op'>&lt;</span> <span class='id identifier rubyid_s'>s</span><span class='op'>&lt;</span> <span class='id identifier rubyid_S!'>S!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_s!'>s!</span><span class='op'>&lt;</span> <span class='op'>|</span> <span class='id identifier rubyid_each'>each</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_directive'>directive</span> <span class='id identifier rubyid_without'>without</span> <span class='op'>&lt;</span><span class='comma'>,</span> <span class='id identifier rubyid_but'>but</span> <span class='id identifier rubyid_little'>little</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>L</span><span class='op'>&lt;</span> <span class='id identifier rubyid_l'>l</span><span class='op'>&lt;</span> <span class='id identifier rubyid_L!'>L!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_l!'>l!</span><span class='op'>&lt;</span> <span class='op'>|</span>   <span class='const'>S</span><span class='op'>&lt;</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_v'>v</span>
<span class='id identifier rubyid_I!'>I!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_i!'>i!</span><span class='op'>&lt;</span>       <span class='op'>|</span>   <span class='const'>L</span><span class='op'>&lt;</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='const'>V</span>
<span class='const'>Q</span><span class='op'>&lt;</span> <span class='id identifier rubyid_q'>q</span><span class='op'>&lt;</span> <span class='id identifier rubyid_Q!'>Q!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_q!'>q!</span><span class='op'>&lt;</span> <span class='op'>|</span>
<span class='const'>J</span><span class='op'>&lt;</span> <span class='id identifier rubyid_j'>j</span><span class='op'>&lt;</span> <span class='id identifier rubyid_J!'>J!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_j!'>j!</span><span class='op'>&lt;</span> <span class='op'>|</span>

<span class='id identifier rubyid_n'>n</span>             <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>N</span>             <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_v'>v</span>             <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='const'>VAX</span> (<span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>V</span>             <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='const'>VAX</span> (<span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>

<span class='const'>U</span>             <span class='op'>|</span> <span class='const'>UTF</span><span class='op'>-</span><span class='int'>8</span> <span class='id identifier rubyid_character'>character</span>
<span class='id identifier rubyid_w'>w</span>             <span class='op'>|</span> <span class='const'>BER</span><span class='op'>-</span><span class='id identifier rubyid_compressed'>compressed</span> <span class='id identifier rubyid_integer'>integer</span>
<span class='const'>R</span>             <span class='op'>|</span> <span class='const'>LEB128</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_integer'>integer</span>
<span class='id identifier rubyid_r'>r</span>             <span class='op'>|</span> <span class='const'>LEB128</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_integer'>integer</span></code></pre>

<h3 id="label-For+Floats">For Floats</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Directive</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>|</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>D</span> <span class='id identifier rubyid_d'>d</span>       <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_format'>format</span>
<span class='const'>F</span> <span class='id identifier rubyid_f'>f</span>       <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_format'>format</span>
<span class='const'>E</span>         <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span> <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_e'>e</span>         <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span> <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>G</span>         <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_g'>g</span>         <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span></code></pre>

<h3 id="label-For+Strings">For Strings</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Directive</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>|</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>A</span>         <span class='op'>|</span> <span class='id identifier rubyid_arbitrary'>arbitrary</span> <span class='id identifier rubyid_binary'>binary</span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_remove'>remove</span> <span class='id identifier rubyid_trailing'>trailing</span> <span class='id identifier rubyid_nulls'>nulls</span> <span class='kw'>and</span> <span class='const'>ASCII</span> <span class='id identifier rubyid_spaces'>spaces</span>)
<span class='id identifier rubyid_a'>a</span>         <span class='op'>|</span> <span class='id identifier rubyid_arbitrary'>arbitrary</span> <span class='id identifier rubyid_binary'>binary</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>Z</span>         <span class='op'>|</span> <span class='id identifier rubyid_null'>null</span><span class='op'>-</span><span class='id identifier rubyid_terminated'>terminated</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>B</span>         <span class='op'>|</span> <span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>MSB</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_b'>b</span>         <span class='op'>|</span> <span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>LSB</span> <span class='id identifier rubyid_first'>first</span>)
<span class='const'>H</span>         <span class='op'>|</span> <span class='id identifier rubyid_hex'>hex</span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_high'>high</span> <span class='id identifier rubyid_nibble'>nibble</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_h'>h</span>         <span class='op'>|</span> <span class='id identifier rubyid_hex'>hex</span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_low'>low</span> <span class='id identifier rubyid_nibble'>nibble</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_u'>u</span>         <span class='op'>|</span> <span class='const'>UU</span><span class='op'>-</span><span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>M</span>         <span class='op'>|</span> <span class='id identifier rubyid_quoted'>quoted</span><span class='op'>-</span><span class='id identifier rubyid_printable'>printable</span><span class='comma'>,</span> <span class='const'>MIME</span> <span class='id identifier rubyid_encoding'>encoding</span> (<span class='id identifier rubyid_see'>see</span> <span class='const'>RFC2045</span>)
<span class='id identifier rubyid_m'>m</span>         <span class='op'>|</span> <span class='id identifier rubyid_base64'>base64</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>RFC</span> <span class='int'>2045</span>) (<span class='id identifier rubyid_default'>default</span>)
          <span class='op'>|</span>   (<span class='id identifier rubyid_base64'>base64</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>RFC</span> <span class='int'>4648</span>) <span class='kw'>if</span> <span class='id identifier rubyid_followed'>followed</span> <span class='id identifier rubyid_by'>by</span> <span class='int'>0</span>)
<span class='const'>P</span>         <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_structure'>structure</span> (<span class='id identifier rubyid_fixed'>fixed</span><span class='op'>-</span><span class='id identifier rubyid_length'>length</span> <span class='id identifier rubyid_string'>string</span>)
<span class='id identifier rubyid_p'>p</span>         <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_null'>null</span><span class='op'>-</span><span class='id identifier rubyid_terminated'>terminated</span> <span class='id identifier rubyid_string'>string</span></code></pre>

<h3 id="label-Additional+Directives+for+Packing">Additional Directives for Packing</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Directive</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>|</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='ivar'>@</span>         <span class='op'>|</span> <span class='id identifier rubyid_moves'>moves</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_absolute'>absolute</span> <span class='id identifier rubyid_position'>position</span>
<span class='const'>X</span>         <span class='op'>|</span> <span class='id identifier rubyid_back'>back</span> <span class='id identifier rubyid_up'>up</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_byte'>byte</span>
<span class='id identifier rubyid_x'>x</span>         <span class='op'>|</span> <span class='id identifier rubyid_null'>null</span> <span class='id identifier rubyid_byte'>byte</span></code></pre>

<h3 id="label-Additional+Directives+for+Unpacking">Additional Directives for Unpacking</h3>

<pre class="code ruby"><code class="ruby"><span class='const'>Directive</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>|</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='ivar'>@</span>         <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_offset'>offset</span> <span class='id identifier rubyid_given'>given</span> <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_length'>length</span> <span class='id identifier rubyid_argument'>argument</span>
<span class='const'>X</span>         <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_backward'>backward</span> <span class='id identifier rubyid_one'>one</span> <span class='id identifier rubyid_byte'>byte</span>
<span class='id identifier rubyid_x'>x</span>         <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_forward'>forward</span> <span class='id identifier rubyid_one'>one</span> <span class='id identifier rubyid_byte'>byte</span>
<span class='op'>^</span>         <span class='op'>|</span> <span class='kw'>return</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_current'>current</span> <span class='id identifier rubyid_offset'>offset</span></code></pre>

<h2 id="label-Packing+and+Unpacking">Packing and Unpacking</h2>

<p>Certain Ruby core methods deal with packing and unpacking data:</p>
<ul><li>
<p>Method Array#pack: Formats each element in array <code>self</code> into a binary string; returns that string.</p>
</li><li>
<p>Method String#unpack: Extracts data from string <code>self</code>, forming objects that become the elements of a new array; returns that array.</p>
</li><li>
<p>Method String#unpack1: Does the same, but unpacks and returns only the first extracted object.</p>
</li></ul>

<p>Each of these methods accepts a string <code>template</code>, consisting of zero or more <em>directive</em> characters, each followed by zero or more <em>modifier</em> characters.</p>

<p>Examples (directive <code>&#39;C&#39;</code> specifies ‘unsigned character’):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>65</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;A&quot;  # One element, one directive.
</span>[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;AB&quot; # Two elements, two directives.
</span>[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;A&quot;  # Extra element is ignored.
</span>[<span class='int'>65</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; &quot;&quot;   # No directives.
</span>[<span class='int'>65</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&#39;</span></span>)               <span class='comment'># Extra directive raises ArgumentError.
</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; [65]      # One character, one directive.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [65, 66]  # Two characters, two directives.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [65]      # Extra character is ignored.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [65, nil] # Extra directive generates nil.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; []        # No directives.</span></code></pre>

<p>The string <code>template</code> may contain any mixture of valid directives (directive <code>&#39;c&#39;</code> specifies ‘signed character’):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>65</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cC</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;A\xFF&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A\xFF</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cC</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [65, 255]</span></code></pre>

<p>The string <code>template</code> may contain whitespace (which is ignored) and comments, each of which begins with character <code>&#39;#&#39;</code> and continues up to and including the next following newline:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  C  #foo \n  C  </span><span class='tstring_end'>&quot;</span></span>)    <span class='comment'># =&gt; &quot;\x00\x01&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0\1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  C  #foo \n  C  </span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [0, 1]</span></code></pre>

<p>Any directive may be followed by either of these modifiers:</p>
<ul><li>
<p><code>&#39;*&#39;</code> - The directive is to be applied as many times as needed:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;AB&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; [65, 66]</span></code></pre>
</li><li>
<p>Integer <code>count</code> - The directive is to be applied <code>count</code> times:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C2</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;AB&quot;
</span>[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># Raises ArgumentError.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C2</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; [65, 66]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C3</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; [65, 66, nil]</span></code></pre>

<p>Note: Directives in <code>%w[A a Z m]</code> use <code>count</code> differently; see <a href=".html#label-String+Directives" title="String Directives">String Directives</a>.</p>
</li></ul>

<p>If elements don’t fit the provided directive, only least significant bits are encoded:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>257</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [1]</span></code></pre>

<h2 id="label-Packing+Method">Packing Method</h2>

<p>Method Array#pack accepts optional keyword argument <code>buffer</code> that specifies the target string (instead of a new string):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>buffer:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fooAB&quot;</span></code></pre>

<p>The method can accept a block:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Packed string is passed to the block.
</span>[<span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span> }    <span class='comment'># =&gt; &quot;AB&quot;</span></code></pre>

<h2 id="label-Unpacking+Methods">Unpacking Methods</h2>

<p>Methods String#unpack and String#unpack1 each accept an optional keyword argument <code>offset</code> that specifies an offset into the string:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ABC</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='int'>1</span>)  <span class='comment'># =&gt; [66, 67]
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ABC</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>offset:</span> <span class='int'>1</span>) <span class='comment'># =&gt; 66</span></code></pre>

<p>Both methods can accept a block:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Each unpacked object is passed to the block.
</span><span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> []
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ABCD</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&quot;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_c'>c</span> }
<span class='id identifier rubyid_ret'>ret</span> <span class='comment'># =&gt; [65, 66, 67, 68]
</span>
<span class='comment'># The single unpacked object is passed to the block.
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AB</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_ele'>ele</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ele'>ele</span> } <span class='comment'># =&gt; 65</span></code></pre>

<h2 id="label-Integer+Directives">Integer Directives</h2>

<p>Each integer directive specifies the packing or unpacking for one element in the input or output array.</p>

<h3 id="label-8-Bit+Integer+Directives">8-Bit Integer Directives</h3>
<ul><li>
<p><code>&#39;c&#39;</code> - 8-bit signed integer (like C <code>signed char</code>):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>255</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;\x00\x01\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x01\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [0, 1, -1]</span></code></pre>
</li><li>
<p><code>&#39;C&#39;</code> - 8-bit unsigned integer (like C <code>unsigned char</code>):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>255</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\x00\x01\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x01\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span>)            <span class='comment'># =&gt; [0, 1, 255]</span></code></pre>
</li></ul>

<h3 id="label-16-Bit+Integer+Directives">16-Bit Integer Directives</h3>
<ul><li>
<p><code>&#39;s&#39;</code> - 16-bit signed integer, native-endian (like C <code>int16_t</code>):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>513</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>514</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s*</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>513</span><span class='comma'>,</span> <span class='int'>65022</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>s*</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; [513, -514]</span></code></pre>
</li><li>
<p><code>&#39;S&#39;</code> - 16-bit unsigned integer, native-endian (like C <code>uint16_t</code>):</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>513</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>514</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>S*</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>513</span><span class='comma'>,</span> <span class='int'>65022</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>S*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>S*</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; [513, 65022]</span></code></pre>
</li><li>
<p><code>&#39;n&#39;</code> - 16-bit network integer, big-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>32767</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>32768</span><span class='comma'>,</span> <span class='int'>65535</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>n*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x00\x00\x00\x01\xFF\xFF\x7F\xFF\x80\x00\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>n*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [0, 1, 65535, 32767, 32768, 65535]</span></code></pre>
</li><li>
<p><code>&#39;v&#39;</code> - 16-bit VAX integer, little-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>32767</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>32768</span><span class='comma'>,</span> <span class='int'>65535</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>v*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x00\x00\x01\x00\xFF\xFF\xFF\x7F\x00\x80\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>v*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [0, 1, 65535, 32767, 32768, 65535]</span></code></pre>
</li></ul>

<h3 id="label-32-Bit+Integer+Directives">32-Bit Integer Directives</h3>
<ul><li>
<p><code>&#39;l&#39;</code> - 32-bit signed integer, native-endian (like C <code>int32_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>50462977</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, -50462977]</span></code></pre>
</li><li>
<p><code>&#39;L&#39;</code> - 32-bit unsigned integer, native-endian (like C <code>uint32_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='int'>4244504319</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, 4244504319]</span></code></pre>
</li><li>
<p><code>&#39;N&#39;</code> - 32-bit network integer, big-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>N*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x01\xFF\xFF\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>N*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [0, 1, 4294967295]</span></code></pre>
</li><li>
<p><code>&#39;V&#39;</code> - 32-bit VAX integer, little-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>V*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x01\x00\x00\x00\xFF\xFF\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>v*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [0, 0, 1, 0, 65535, 65535]</span></code></pre>
</li></ul>

<h3 id="label-64-Bit+Integer+Directives">64-Bit Integer Directives</h3>
<ul><li>
<p><code>&#39;q&#39;</code> - 64-bit signed integer, native-endian (like C <code>int64_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>578437695752307201</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>506097522914230529</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>q*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>q*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [578437695752307201, -506097522914230529]</span></code></pre>
</li><li>
<p><code>&#39;Q&#39;</code> - 64-bit unsigned integer, native-endian (like C <code>uint64_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>578437695752307201</span><span class='comma'>,</span> <span class='int'>17940646550795321087</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Q*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Q*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [578437695752307201, 17940646550795321087]</span></code></pre>
</li></ul>

<h3 id="label-Platform-Dependent+Integer+Directives">Platform-Dependent Integer Directives</h3>
<ul><li>
<p><code>&#39;i&#39;</code> - Platform-dependent width signed integer, native-endian (like C <code>int</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>50462977</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, -50462977]</span></code></pre>
</li><li>
<p><code>&#39;I&#39;</code> - Platform-dependent width unsigned integer, native-endian (like C <code>unsigned int</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>50462977</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, 4244504319]</span></code></pre>
</li><li>
<p><code>&#39;j&#39;</code> - Pointer-width signed integer, native-endian (like C <code>intptr_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>50462977</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>j*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\x00\x00\x00\x00\xFF\xFE\xFD\xFC\xFF\xFF\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>j*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, -50462977]</span></code></pre>
</li><li>
<p><code>&#39;J&#39;</code> - Pointer-width unsigned integer, native-endian (like C <code>uintptr_t</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>67305985</span><span class='comma'>,</span> <span class='int'>4244504319</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>J*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x02\x03\x04\x00\x00\x00\x00\xFF\xFE\xFD\xFC\x00\x00\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>J*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [67305985, 4244504319]</span></code></pre>
</li></ul>

<h3 id="label-Other+Integer+Directives">Other Integer Directives</h3>
<ul><li>
<p><code>&#39;U&#39;</code> - UTF-8 character:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>4194304</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>U*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\xF8\x90\x80\x80\x80&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>U*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [4194304]</span></code></pre>
</li><li>
<p><code>&#39;r&#39;</code> - Signed LEB128-encoded integer (see <a href="https://en.wikipedia.org/wiki/LEB128#Signed_LEB128" target="_parent" title="Signed LEB128">Signed LEB128</a>)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>127</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>128</span><span class='comma'>,</span> <span class='int'>16383</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>16384</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r*</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;\x01\xFF\x00\x80\x7F\xFF\xFF\x00\x80\x80\x7F&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [1, 127, -128, 16383, -16384]</span></code></pre>
</li><li>
<p><code>&#39;R&#39;</code> - Unsigned LEB128-encoded integer (see <a href="https://en.wikipedia.org/wiki/LEB128#Unsigned_LEB128" target="_parent" title="Unsigned LEB128">Unsigned LEB128</a>)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>127</span><span class='comma'>,</span> <span class='int'>128</span><span class='comma'>,</span> <span class='int'>16383</span><span class='comma'>,</span> <span class='int'>16384</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R*</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;\x01\x7F\x80\x01\xFF\x7F\x80\x80\x01&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [1, 127, 128, 16383, 16384]</span></code></pre>
</li><li>
<p><code>&#39;w&#39;</code> - BER-encoded integer (see <a href="https://en.wikipedia.org/wiki/X.690#BER_encoding" target="_parent" title="BER encoding">BER encoding</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='int'>1073741823</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; &quot;\x83\xFF\xFF\xFF\x7F&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w*</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; [1073741823]</span></code></pre>
</li></ul>

<h3 id="label-Modifiers+for+Integer+Directives">Modifiers for Integer Directives</h3>

<p>For the following directives, <code>&#39;!&#39;</code> or <code>&#39;_&#39;</code> modifiers may be suffixed as underlying platform’s native size.</p>
<ul><li>
<p><code>&#39;i&#39;</code>, <code>&#39;I&#39;</code> - C <code>int</code>, always native size.</p>
</li><li>
<p><code>&#39;s&#39;</code>, <code>&#39;S&#39;</code> - C <code>short</code>.</p>
</li><li>
<p><code>&#39;l&#39;</code>, <code>&#39;L&#39;</code> - C <code>long</code>.</p>
</li><li>
<p><code>&#39;q&#39;</code>, <code>&#39;Q&#39;</code> - C <code>long long</code>, if available.</p>
</li><li>
<p><code>&#39;j&#39;</code>, <code>&#39;J&#39;</code> - C <code>intptr_t</code>, always native size.</p>
</li></ul>

<p>Native size modifiers are silently ignored for always native size directives.</p>

<p>The endian modifiers also may be suffixed in the directives above:</p>
<ul><li>
<p><code>&#39;&gt;&#39;</code> - Big-endian.</p>
</li><li>
<p><code>&#39;&lt;&#39;</code> - Little-endian.</p>
</li></ul>

<h2 id="label-Float+Directives">Float Directives</h2>

<p>Each float directive specifies the packing or unpacking for one element in the input or output array.</p>

<h3 id="label-Single-Precision+Float+Directives">Single-Precision Float Directives</h3>
<ul><li>
<p><code>&#39;F&#39;</code> or <code>&#39;f&#39;</code> - Native format:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>F</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x00@@&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>F</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li><li>
<p><code>&#39;e&#39;</code> - Little-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x00@@&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li><li>
<p><code>&#39;g&#39;</code> - Big-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>g</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;@@\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>g</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li></ul>

<h3 id="label-Double-Precision+Float+Directives">Double-Precision Float Directives</h3>
<ul><li>
<p><code>&#39;D&#39;</code> or <code>&#39;d&#39;</code> - Native format:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>D</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\b@&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>D</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li><li>
<p><code>&#39;E&#39;</code> - Little-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\b@&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li><li>
<p><code>&#39;G&#39;</code> - Big-endian:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='float'>3.0</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>G</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;@\b\x00\x00\x00\x00\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>G</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [3.0]</span></code></pre>
</li></ul>

<p>A float directive may be infinity or not-a-number:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_inf'>inf</span> <span class='op'>=</span> <span class='float'>1.0</span><span class='op'>/</span><span class='float'>0.0</span>                  <span class='comment'># =&gt; Infinity
</span>[<span class='id identifier rubyid_inf'>inf</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)                <span class='comment'># =&gt; &quot;\x00\x00\x80\x7F&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x00\x80\x7F</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [Infinity]
</span>
<span class='id identifier rubyid_nan'>nan</span> <span class='op'>=</span> <span class='id identifier rubyid_inf'>inf</span><span class='op'>/</span><span class='id identifier rubyid_inf'>inf</span>                  <span class='comment'># =&gt; NaN
</span>[<span class='id identifier rubyid_nan'>nan</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)                <span class='comment'># =&gt; &quot;\x00\x00\xC0\x7F&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x00\xC0\x7F</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [NaN]</span></code></pre>

<h2 id="label-String+Directives">String Directives</h2>

<p>Each string directive specifies the packing or unpacking for one byte in the input or output string.</p>

<h3 id="label-Binary+String+Directives">Binary String Directives</h3>
<ul><li>
<p><code>&#39;A&#39;</code> - Arbitrary binary string (space padded; count is width); <code>nil</code> is treated as the empty string:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;f&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A*</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;foo&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A2</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;fo&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;foo &quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot; &quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A*</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A2</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;  &quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;    &quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;f&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;foo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0bar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A10</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;foo\x00bar&quot;] # Reads past &quot;\0&quot;.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;f&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;foo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;foo&quot;]
</span>
<span class='id identifier rubyid_japanese'>japanese</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>こんにちは</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_size'>size</span>         <span class='comment'># =&gt; 5
</span><span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_bytesize'>bytesize</span>     <span class='comment'># =&gt; 15
</span>[<span class='id identifier rubyid_japanese'>japanese</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;\xE3&quot;
</span>[<span class='id identifier rubyid_japanese'>japanese</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xE3\x81\x93\xE3\x82\x93\xE3\x81\xAB\xE3\x81\xA1\xE3\x81\xAF&quot;
</span><span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [&quot;\xE3&quot;]
</span><span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A2</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xE3\x81&quot;]
</span><span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xE3\x81\x93\xE3&quot;]
</span><span class='id identifier rubyid_japanese'>japanese</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xE3\x81\x93\xE3\x82\x93\xE3\x81\xAB\xE3\x81\xA1\xE3\x81\xAF&quot;]</span></code></pre>
</li><li>
<p><code>&#39;a&#39;</code> - Arbitrary binary string (null padded; count is width):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;f&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a*</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;foo&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a2</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;fo&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;foo\x00&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; &quot;\x00&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a*</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a2</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;\x00\x00&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;\x00\x00\x00\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;f&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;foo\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;foo &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;foo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0bar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;foo\x00&quot;] # Reads past &quot;\0&quot;.</span></code></pre>
</li><li>
<p><code>&#39;Z&#39;</code> - Same as <code>&#39;a&#39;</code>, except that null is added or ignored with <code>&#39;*&#39;</code>:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &quot;foo\x00&quot;
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;foo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;foo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0bar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;foo&quot;] # Does not read past &quot;\0&quot;.</span></code></pre>
</li></ul>

<h3 id="label-Bit+String+Directives">Bit String Directives</h3>
<ul><li>
<p><code>&#39;B&#39;</code> - Bit string (high byte first):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>11111111</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00000000</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10000000</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>01000000</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80@&quot;
</span>
[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B1</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B2</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B6</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x80\x00\x00\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xff\x00</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;1111111100000000&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;0000000100000010&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B0</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B1</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;1&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B2</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;10&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B3</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;100&quot;]</span></code></pre>
</li><li>
<p><code>&#39;b&#39;</code> - Bit string (low byte first):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>11111111</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00000000</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10000000</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>01000000</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x02&quot;
</span>
[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b1</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b2</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x00\x00\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xff\x00</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;1111111100000000&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;1000000001000000&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b0</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b1</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;1&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b2</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;10&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b3</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;100&quot;]</span></code></pre>
</li></ul>

<h3 id="label-Hex+String+Directives">Hex String Directives</h3>
<ul><li>
<p><code>&#39;H&#39;</code> - Hex string (high nibble first):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\x10\xEF&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H0</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H3</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\x10\xE0&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H5</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\x10\xEF\x00&quot;
</span>
[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H3</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H4</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H5</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H6</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H7</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H8</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &quot;\xFF\xF0\x00\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;10ef&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H0</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H1</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;1&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H2</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;10&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H3</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;10e&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H4</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;10ef&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x10\xef</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H5</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;10ef&quot;]</span></code></pre>
</li><li>
<p><code>&#39;h&#39;</code> - Hex string (low nibble first):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\xFE&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\x0E&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10ef</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\x01\xFE\x00&quot;
</span>
[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h6</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h7</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F\x00\x00&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fff</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h8</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;\xFF\x0F\x00\x00&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;10ef&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h1</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;1&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h2</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;10&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h3</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;10e&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h4</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;10ef&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\xfe</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h5</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;10ef&quot;]</span></code></pre>
</li></ul>

<h3 id="label-Pointer+String+Directives">Pointer String Directives</h3>
<ul><li>
<p><code>&#39;P&#39;</code> - Pointer to a structure (fixed-length string):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>P</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;\xE0O\x7F\xE5\xA1\x01\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>P*</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; [&quot;abc&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>P</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; []
</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>8</span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>P</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [nil]
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>P</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span></code></pre>
</li><li>
<p><code>&#39;p&#39;</code> - Pointer to a null-terminated string:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; &quot;(\xE4u\xE5\xA1\x01\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p*</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; [&quot;abc&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; []
</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>8</span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [nil]
</span>[<span class='kw'>nil</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span></code></pre>
</li></ul>

<h3 id="label-Other+String+Directives">Other String Directives</h3>
<ul><li>
<p><code>&#39;M&#39;</code> - Quoted printable, MIME encoding; text mode, but input must use LF and output LF; (see <a href="https://www.ietf.org/rfc/rfc2045.txt" target="_parent" title="RFC 2045">RFC 2045</a>):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a b c\td \ne</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;a b c\td =\n\ne=\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; &quot;=00=\n&quot;
</span>
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>1023</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> (<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>73</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=\n</span><span class='tstring_end'>&quot;</span></span>)<span class='op'>*</span><span class='int'>14</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a=\n</span><span class='tstring_end'>&quot;</span></span>     <span class='comment'># =&gt; true
</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>73</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=\na=\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>74</span>]           <span class='comment'># =&gt; true
</span>((<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>73</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=\n</span><span class='tstring_end'>&quot;</span></span>)<span class='op'>*</span><span class='int'>14</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a=\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>1023</span>] <span class='comment'># =&gt; true
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a b c\td =\n\ne=\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;a b c\td \ne&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=00=\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;\x00&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=31=32=33after</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;pre123after&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=\nafter</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;preafter&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=\r\nafter</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;preafter&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)              <span class='comment'># =&gt; [&quot;pre=&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)            <span class='comment'># =&gt; [&quot;pre=\r&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre=hoge</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)          <span class='comment'># =&gt; [&quot;pre=hoge&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre==31after</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'># =&gt; [&quot;pre==31after&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre===31after</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;pre===31after&quot;]</span></code></pre>
</li><li>
<p><code>&#39;m&#39;</code> - Base64 encoded string; count specifies input bytes between each newline, rounded down to nearest multiple of 3; if count is zero, no newlines are added; (see <a href="https://www.ietf.org/rfc/rfc4648.txt" target="_parent" title="RFC 4648">RFC 4648</a>):</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; &quot;AA==\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; &quot;AAA=\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0\0\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; &quot;AAAA\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; &quot;/w==\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;//8=\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377\377\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;////\n&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AA==\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AAA=\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AAAA\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00\x00\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/w==\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//8=\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF\xFF&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>////\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF\xFF\xFF&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AA\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; [&quot;\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AA=\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [&quot;\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AAA\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'># =&gt; [&quot;\x00\x00&quot;]
</span>
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'># =&gt; &quot;AA==&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; &quot;AAA=&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0\0\0</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'># =&gt; &quot;AAAA&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'># =&gt; &quot;/w==&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; &quot;//8=&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377\377\377</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;////&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AA==</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AAA=</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AAAA</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\x00\x00\x00&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/w==</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//8=</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF\xFF&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>////</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&quot;\xFF\xFF\xFF&quot;]</span></code></pre>
</li><li>
<p><code>&#39;u&#39;</code> - UU-encoded string:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>u</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; &quot;&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>u</span><span class='tstring_end'>&quot;</span></span>)       <span class='comment'># =&gt; &quot;!80``\n&quot;
</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aaa</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>u</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; &quot;#86%A\n&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>u</span><span class='tstring_end'>&quot;</span></span>)        <span class='comment'># =&gt; [&quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#86)C\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>u</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [&quot;abc&quot;]</span></code></pre>
</li></ul>

<h2 id="label-Offset+Directives">Offset Directives</h2>
<ul><li>
<p><code>&#39;@&#39;</code> - Begin packing at the given byte offset; for packing, null fill or shrink if necessary:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C@0C</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; &quot;\x02&quot;
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C@1C</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; &quot;\x01\x02&quot;
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C@5C</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'># =&gt; &quot;\x01\x00\x00\x00\x00\x02&quot;
</span>[<span class='op'>*</span><span class='int'>1</span><span class='op'>..</span><span class='int'>5</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCCC@2C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &quot;\x01\x02\x05&quot;</span></code></pre>

<p>For unpacking, cannot to move to outside the string:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x01\x00\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C@3C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [1, 2]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@1C</span><span class='tstring_end'>&quot;</span></span>)              <span class='comment'># =&gt; [nil]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@2C</span><span class='tstring_end'>&quot;</span></span>)              <span class='comment'># Raises ArgumentError.</span></code></pre>
</li><li>
<p><code>&#39;X&#39;</code> - For packing, shrink for the given byte offset:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCXC</span><span class='tstring_end'>&quot;</span></span>)    <span class='comment'># =&gt; &quot;\x00\x02&quot;
</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCX2C</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'># =&gt; &quot;\x02&quot;</span></code></pre>

<p>For unpacking; rewind unpacking position for the given byte offset:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCXC</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [0, 2, 2]</span></code></pre>

<p>Cannot to move to outside the string:</p>

<pre class="code ruby"><code class="ruby">[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCX3C</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'># Raises ArgumentError.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CX3C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># Raises ArgumentError.</span></code></pre>
</li><li>
<p><code>&#39;x&#39;</code> - Begin packing at after the given byte offset; for packing, null fill if necessary:</p>

<pre class="code ruby"><code class="ruby">[].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x0</span><span class='tstring_end'>&quot;</span></span>)                <span class='comment'># =&gt; &quot;&quot;
</span>[].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>)                 <span class='comment'># =&gt; &quot;\x00&quot;
</span>[].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x8</span><span class='tstring_end'>&quot;</span></span>)                <span class='comment'># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span></code></pre>

<p>For unpacking, cannot to move to outside the string:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CxC</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [0, 2]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x3C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; [nil]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\x00\x02</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x4C</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># Raises ArgumentError</span></code></pre>
</li><li>
<p><code>&#39;^&#39;</code> - Only for unpacking; the current position:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\0\0\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Z*C</span><span class='tstring_end'>&quot;</span></span>)    <span class='comment'># =&gt; [&quot;foo&quot;, 6]</span></code></pre>
</li></ul>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>