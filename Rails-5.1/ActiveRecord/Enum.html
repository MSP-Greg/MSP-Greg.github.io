<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Enum &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Enum",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../_index.html'>Index (E)</a> &raquo; 
          <a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
          <span class='title'>Enum</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActiveRecord::Enum</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="Enum/EnumType.html" title="ActiveRecord::Enum::EnumType (class)">EnumType</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="Base.html" title="ActiveRecord::Base (class)">Base</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L96'>activerecord/lib/active_record/enum.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Declare an enum attribute where the values map to integers in the database,
but can be queried by name. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'>enum</span> <span class='label'>status:</span> <span class='lbracket'>[</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span> <span class='rbracket'>]</span>
<span class='kw'>end</span>

<span class='comment'># conversation.update! status: 0
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_active!'>active!</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_active?'>active?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>  <span class='comment'># =&gt; &quot;active&quot;
</span>
<span class='comment'># conversation.update! status: 1
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_archived!'>archived!</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_archived?'>archived?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>    <span class='comment'># =&gt; &quot;archived&quot;
</span>
<span class='comment'># conversation.status = 1
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>archived</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>      <span class='comment'># =&gt; nil
</span></code></pre>

<p>Scopes based on the allowed values of the enum field will be provided as
well. With the above example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>
<span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_archived'>archived</span>
</code></pre>

<p>Of course, you can also query them directly if the scopes don&#39;t fit
your needs:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>status:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='period'>.</span><span class='id identifier rubyid_not'>not</span><span class='lparen'>(</span><span class='label'>status:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='rparen'>)</span>
</code></pre>

<p>You can set the default value from the database declaration, like:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_conversations'>conversations</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_integer'>integer</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='int'>0</span>
<span class='kw'>end</span>
</code></pre>

<p>Good practice is to let the first declared status be the default.</p>

<p>Finally, it&#39;s also possible to explicitly map the relation between
attribute and database integer with a hash:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'>enum</span> <span class='label'>status:</span> <span class='lbrace'>{</span> <span class='label'>active:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>archived:</span> <span class='int'>1</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>Note that when an array is used, the implicit mapping from the values to
database integers is derived from the order the values appear in the array.
In the example, <code>:active</code> is mapped to <code>0</code> as
it&#39;s the first element, and <code>:archived</code> is mapped to
<code>1</code>. In general, the <code>i</code>-th element is mapped to
<code>i-1</code> in the database.</p>

<p>Therefore, once a value is added to the enum array, its position in the
array must be maintained, and new values should only be added to the end of
the array. To remove unused values, the explicit hash syntax should be
used.</p>

<p>In rare circumstances you might need to access the mapping directly. The
mappings are exposed through a class method with the pluralized attribute
name, which return the mapping in a <code>HashWithIndifferentAccess</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='rbracket'>]</span>    <span class='comment'># =&gt; 0
</span><span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>archived</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'># =&gt; 1
</span></code></pre>

<p>Use that class method when you need to know the ordinal value of an enum.
For example, you can use that when manually building SQL strings:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>status &lt;&gt; ?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Conversation</span><span class='period'>.</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>You can use the <code>:_prefix</code> or <code>:_suffix</code> options when
you need to define multiple enums with same values. If the passed value is
<code>true</code>, the methods are prefixed/suffixed with the name of the
enum. It is also possible to supply a custom value:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Conversation</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_enum'>enum</span> <span class='label'>status:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_archived'>archived</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>_suffix:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_enum'>enum</span> <span class='label'>comments_status:</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inactive'>inactive</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>_prefix:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_comments'>comments</span>
<span class='kw'>end</span>
</code></pre>

<p>With the above example, the bang and predicate methods along with the
associated scopes are now prefixed and/or suffixed accordingly:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_active_status!'>active_status!</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_archived_status?'>archived_status?</span> <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_comments_inactive!'>comments_inactive!</span>
<span class='id identifier rubyid_conversation'>conversation</span><span class='period'>.</span><span class='id identifier rubyid_comments_active?'>comments_active?</span> <span class='comment'># =&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='ENUM_CONFLICT_MESSAGE-constant'>
      ENUM_CONFLICT_MESSAGE =
    </dt>
    <dd>
            <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You tried to define an enum named \&quot;%{enum}\&quot; on the model \&quot;%{klass}\&quot;, but </span><span class='tstring_end'>&quot;</span></span> \
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this will generate a %{type} method \&quot;%{method}\&quot;, which is already defined </span><span class='tstring_end'>&quot;</span></span> \
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>by %{source}.</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#extended-class_method" title=".extended (class method)">.<strong>extended</strong>(base)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_enum_methods_module-instance_method" title="#_enum_methods_module (instance method)">#<strong>_enum_methods_module</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#detect_enum_conflict%21-instance_method" title="#detect_enum_conflict! (instance method)">#<strong>detect_enum_conflict!</strong>(enum_name, method_name, klass_method = false)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#enum-instance_method" title="#enum (instance method)">#<strong>enum</strong>(definitions)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inherited-instance_method" title="#inherited (instance method)">#<strong>inherited</strong>(base)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#raise_conflict_error-instance_method" title="#raise_conflict_error (instance method)">#<strong>raise_conflict_error</strong>(enum_name, method_name, type: &quot;instance&quot;, source: &quot;Active Record&quot;)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="extended-class_method">
  <h3 class='signature first'>
  .<strong>extended</strong>(base)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L97'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


97
98
99
100</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extended'>extended</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_class_attribute'>class_attribute</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_defined_enums'>defined_enums</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_defined_enums'>defined_enums</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_enum_methods_module-instance_method">
  <h3 class='signature first'>
  #<strong>_enum_methods_module</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L204'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


204
205
206
207
208
209
210</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__enum_methods_module'>_enum_methods_module</span>
  <span class='ivar'>@_enum_methods_module</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_mod'>mod</span>
    <span class='id identifier rubyid_mod'>mod</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="detect_enum_conflict!-instance_method">
  <h3 class='signature'>
  #<strong>detect_enum_conflict!</strong>(enum_name, method_name, klass_method = false)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L217'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


217
218
219
220
221
222
223
224
225</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 217</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='lparen'>(</span><span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dangerous_class_method?'>dangerous_class_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise_conflict_error'>raise_conflict_error</span><span class='lparen'>(</span><span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dangerous_attribute_method?'>dangerous_attribute_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise_conflict_error'>raise_conflict_error</span><span class='lparen'>(</span><span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_klass_method'>klass_method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method_defined_within?'>method_defined_within?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='id identifier rubyid__enum_methods_module'>_enum_methods_module</span><span class='comma'>,</span> <span class='const'><a href="../Module.html" title="Module (class)">Module</a></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise_conflict_error'>raise_conflict_error</span><span class='lparen'>(</span><span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>source:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>another enum</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="enum-instance_method">
  <h3 class='signature'>
  #<strong>enum</strong>(definitions)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L148'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 148</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enum'>enum</span><span class='lparen'>(</span><span class='id identifier rubyid_definitions'>definitions</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='id identifier rubyid_enum_prefix'>enum_prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_definitions'>definitions</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid__prefix'>_prefix</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_enum_suffix'>enum_suffix</span> <span class='op'>=</span> <span class='id identifier rubyid_definitions'>definitions</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid__suffix'>_suffix</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_definitions'>definitions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='op'>|</span>
    <span class='comment'># statuses = { }
</span>    <span class='id identifier rubyid_enum_values'>enum_values</span> <span class='op'>=</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../ActiveSupport/HashWithIndifferentAccess.html" title="ActiveSupport::HashWithIndifferentAccess (class)">HashWithIndifferentAccess</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../ActiveSupport/HashWithIndifferentAccess.html#new-class_method" title="ActiveSupport::HashWithIndifferentAccess.new (method)">new</a></span>
    <span class='id identifier rubyid_name'>name</span>        <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>

    <span class='comment'># def self.statuses() statuses end
</span>    <span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_singleton_class'>singleton_class</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_define_method'>define_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_enum_values'>enum_values</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='id identifier rubyid_attribute_alias?'>attribute_alias?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_attribute_alias'>attribute_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_decorate_attribute_type'>decorate_attribute_type</span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_subtype'>subtype</span><span class='op'>|</span>
      <span class='const'><a href="Enum/EnumType.html" title="ActiveRecord::Enum::EnumType (class)">EnumType</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Enum/EnumType.html#new-class_method" title="ActiveRecord::Enum::EnumType.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_enum_values'>enum_values</span><span class='comma'>,</span> <span class='id identifier rubyid_subtype'>subtype</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid__enum_methods_module'>_enum_methods_module</span><span class='period'>.</span><span class='id identifier rubyid_module_eval'>module_eval</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_each_pair'>each_pair</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='op'>:</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span>
      <span class='id identifier rubyid_pairs'>pairs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_enum_prefix'>enum_prefix</span> <span class='op'>==</span> <span class='kw'>true</span>
          <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_enum_prefix'>enum_prefix</span>
          <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_enum_prefix'>enum_prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_enum_suffix'>enum_suffix</span> <span class='op'>==</span> <span class='kw'>true</span>
          <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_enum_suffix'>enum_suffix</span>
          <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_enum_suffix'>enum_suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_value_method_name'>value_method_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_enum_values'>enum_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>

        <span class='comment'># def active?() status == 0 end
</span>        <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_attr'>attr</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>

        <span class='comment'># def active!() update! status: :active end
</span>        <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

        <span class='comment'># scope :active, -&gt; { where status: 0 }
</span>        <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_detect_enum_conflict!'>detect_enum_conflict!</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span> <span class='id identifier rubyid_value_method_name'>value_method_name</span><span class='comma'>,</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_defined_enums'>defined_enums</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_enum_values'>enum_values</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inherited-instance_method">
  <h3 class='signature'>
  #<strong>inherited</strong>(base)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L102'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


102
103
104
105</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inherited'>inherited</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_defined_enums'>defined_enums</span> <span class='op'>=</span> <span class='id identifier rubyid_defined_enums'>defined_enums</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="raise_conflict_error-instance_method">
  <h3 class='signature'>
  #<strong>raise_conflict_error</strong>(enum_name, method_name, type: &quot;instance&quot;, source: &quot;Active Record&quot;)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/enum.rb#L227'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


227
228
229
230
231
232
233
234
235</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/enum.rb', line 227</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_conflict_error'>raise_conflict_error</span><span class='lparen'>(</span><span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>instance</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>source:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Active Record</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='const'><a href="#ENUM_CONFLICT_MESSAGE-constant" title="ActiveRecord::Enum::ENUM_CONFLICT_MESSAGE (constant)">ENUM_CONFLICT_MESSAGE</a></span> <span class='op'>%</span> <span class='lbrace'>{</span>
    <span class='label'>enum:</span> <span class='id identifier rubyid_enum_name'>enum_name</span><span class='comma'>,</span>
    <span class='label'>klass:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span>
    <span class='label'>method:</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span>
    <span class='label'>source:</span> <span class='id identifier rubyid_source'>source</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>