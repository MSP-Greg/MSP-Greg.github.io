<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActiveRecord::Associations::AssociationScope &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Associations::AssociationScope",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../../_index.html'>Index (A)</a> &raquo; 
          <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
          <a href="../Associations.html" title="ActiveRecord::Associations (module)">Associations</a> &raquo; 
          <span class='title'>AssociationScope</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: ActiveRecord::Associations::AssociationScope</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="../../Object.html" title="Object (class)">Object</a></li>
        <li class='next'>ActiveRecord::Associations::AssociationScope</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="AssociationScope/ReflectionProxy.html" title="ActiveRecord::Associations::AssociationScope::ReflectionProxy (class)">ReflectionProxy</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L3'>activerecord/lib/active_record/associations/association_scope.rb</a></div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='INSTANCE-constant'>
      INSTANCE =
    </dt>
    <dd>
            <pre class='code ruby'><span class='id identifier rubyid_create'>create</span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#value_transformation-instance_method" title="#value_transformation (instance method)">#<strong>value_transformation</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='note title protected'>protected</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#create-class_method" title=".create (class method)">.<strong>create</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#get_bind_values-class_method" title=".get_bind_values (class method)">.<strong>get_bind_values</strong>(owner, chain)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(value_transformation)  &#x21d2; AssociationScope </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>a new instance of AssociationScope</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scope-class_method" title=".scope (class method)">.<strong>scope</strong>(association, connection)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#add_constraints-instance_method" title="#add_constraints (instance method)">#<strong>add_constraints</strong>(scope, owner, association_klass, refl, chain_head, chain_tail)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eval_scope-instance_method" title="#eval_scope (instance method)">#<strong>eval_scope</strong>(klass, scope, owner)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#get_chain-instance_method" title="#get_chain (instance method)">#<strong>get_chain</strong>(reflection, association, tracker)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#join-instance_method" title="#join (instance method)">#<strong>join</strong>(table, constraint)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#join_type-instance_method" title="#join_type (instance method)">#<strong>join_type</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last_chain_scope-instance_method" title="#last_chain_scope (instance method)">#<strong>last_chain_scope</strong>(scope, table, reflection, owner, association_klass)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#next_chain_scope-instance_method" title="#next_chain_scope (instance method)">#<strong>next_chain_scope</strong>(scope, table, reflection, association_klass, foreign_table, next_reflection)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scope-instance_method" title="#scope (instance method)">#<strong>scope</strong>(association, connection)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transform_value-instance_method" title="#transform_value (instance method)">#<strong>transform_value</strong>(value)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(value_transformation)  &#x21d2; <tt><a href="" title="ActiveRecord::Associations::AssociationScope (class)">AssociationScope</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>a new instance of AssociationScope</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L13'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


13
14
15</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 13</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_value_transformation'>value_transformation</span><span class='rparen'>)</span>
  <span class='ivar'>@value_transformation</span> <span class='op'>=</span> <span class='id identifier rubyid_value_transformation'>value_transformation</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="value_transformation-instance_method">
  <h3 class='signature first'>
  #<strong>value_transformation</strong>   <span class="extras">(<span class='only'>readonly</span>, <span class='prot'>protected</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L54'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


54</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value_transformation'>value_transformation</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="create-class_method">
  <h3 class='signature first'>
  .<strong>create</strong>(&amp;block)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L8'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


8
9
10
11</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 8</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_block'>block</span> <span class='op'>||=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span> <span class='id identifier rubyid_val'>val</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="get_bind_values-class_method">
  <h3 class='signature'>
  .<strong>get_bind_values</strong>(owner, chain)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L35'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 35</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_bind_values'>get_bind_values</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_chain'>chain</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_binds'>binds</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_last_reflection'>last_reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>

  <span class='id identifier rubyid_binds'>binds</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_last_reflection'>last_reflection</span><span class='period'>.</span><span class='id identifier rubyid_join_id_for'>join_id_for</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_last_reflection'>last_reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
    <span class='id identifier rubyid_binds'>binds</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_owner'>owner</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_each_cons'>each_cons</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
      <span class='id identifier rubyid_binds'>binds</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='period'>.</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_binds'>binds</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="scope-class_method">
  <h3 class='signature'>
  .<strong>scope</strong>(association, connection)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L4'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4
5
6</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 4</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span><span class='lparen'>(</span><span class='id identifier rubyid_association'>association</span><span class='comma'>,</span> <span class='id identifier rubyid_connection'>connection</span><span class='rparen'>)</span>
  <span class='const'><a href="#INSTANCE-constant" title="ActiveRecord::Associations::AssociationScope::INSTANCE (constant)">INSTANCE</a></span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span><span class='lparen'>(</span><span class='id identifier rubyid_association'>association</span><span class='comma'>,</span> <span class='id identifier rubyid_connection'>connection</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="add_constraints-instance_method">
  <h3 class='signature first'>
  #<strong>add_constraints</strong>(scope, owner, association_klass, refl, chain_head, chain_tail)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L121'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 121</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_constraints'>add_constraints</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_association_klass'>association_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_refl'>refl</span><span class='comma'>,</span> <span class='id identifier rubyid_chain_head'>chain_head</span><span class='comma'>,</span> <span class='id identifier rubyid_chain_tail'>chain_tail</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_owner_reflection'>owner_reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_chain_tail'>chain_tail</span>
  <span class='id identifier rubyid_table'>table</span> <span class='op'>=</span> <span class='id identifier rubyid_owner_reflection'>owner_reflection</span><span class='period'>.</span><span class='id identifier rubyid_alias_name'>alias_name</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_last_chain_scope'>last_chain_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_reflection'>owner_reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_association_klass'>association_klass</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_reflection'>reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_chain_head'>chain_head</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_reflection'>reflection</span>
    <span class='id identifier rubyid_table'>table</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_alias_name'>alias_name</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_reflection'>reflection</span> <span class='op'>==</span> <span class='id identifier rubyid_chain_tail'>chain_tail</span>
      <span class='id identifier rubyid_next_reflection'>next_reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
      <span class='id identifier rubyid_foreign_table'>foreign_table</span> <span class='op'>=</span> <span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='period'>.</span><span class='id identifier rubyid_alias_name'>alias_name</span>
      <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_next_chain_scope'>next_chain_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_association_klass'>association_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_foreign_table'>foreign_table</span><span class='comma'>,</span> <span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># Exclude the scope of the association itself, because that
</span>    <span class='comment'># was already merged in the #scope method.
</span>    <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_constraints'>constraints</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_scope_chain_item'>scope_chain_item</span><span class='op'>|</span>
      <span class='id identifier rubyid_item'>item</span>  <span class='op'>=</span> <span class='id identifier rubyid_eval_scope'>eval_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_scope_chain_item'>scope_chain_item</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_scope_chain_item'>scope_chain_item</span> <span class='op'>==</span> <span class='id identifier rubyid_refl'>refl</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span>
        <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_where'>where</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_includes'>includes</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_all_includes'>all_includes</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_includes!'>includes!</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_includes_values'>includes_values</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_unscope!'>unscope!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_unscope_values'>unscope_values</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where_clause'>where_clause</span> <span class='op'>+=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_where_clause'>where_clause</span>
      <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_order_values'>order_values</span> <span class='op'>|=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_order_values'>order_values</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_reflection'>reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_scope'>scope</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eval_scope-instance_method">
  <h3 class='signature'>
  #<strong>eval_scope</strong>(klass, scope, owner)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L160'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


160
161
162</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 160</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_eval_scope'>eval_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_unscoped'>unscoped</span><span class='period'>.</span><span class='id identifier rubyid_instance_exec'>instance_exec</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="get_chain-instance_method">
  <h3 class='signature'>
  #<strong>get_chain</strong>(reflection, association, tracker)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L108'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


108
109
110
111
112
113
114
115
116
117
118
119</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_chain'>get_chain</span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span><span class='comma'>,</span> <span class='id identifier rubyid_tracker'>tracker</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_runtime_reflection'>runtime_reflection</span> <span class='op'>=</span> <span class='const'><a href="../Reflection.html" title="ActiveRecord::Reflection (module)">Reflection</a></span><span class='op'>::</span><span class='const'><a href="../Reflection/RuntimeReflection.html" title="ActiveRecord::Reflection::RuntimeReflection (class)">RuntimeReflection</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../Reflection/RuntimeReflection.html#new-class_method" title="ActiveRecord::Reflection::RuntimeReflection.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_previous_reflection'>previous_reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_runtime_reflection'>runtime_reflection</span>
  <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_chain'>chain</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_refl'>refl</span><span class='op'>|</span>
    <span class='id identifier rubyid_alias_name'>alias_name</span> <span class='op'>=</span> <span class='id identifier rubyid_tracker'>tracker</span><span class='period'>.</span><span class='id identifier rubyid_aliased_table_for'>aliased_table_for</span><span class='lparen'>(</span><span class='id identifier rubyid_refl'>refl</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_refl'>refl</span><span class='period'>.</span><span class='id identifier rubyid_alias_candidate'>alias_candidate</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_proxy'>proxy</span> <span class='op'>=</span> <span class='const'><a href="AssociationScope/ReflectionProxy.html" title="ActiveRecord::Associations::AssociationScope::ReflectionProxy (class)">ReflectionProxy</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="AssociationScope/ReflectionProxy.html#new-class_method" title="ActiveRecord::Associations::AssociationScope::ReflectionProxy.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_refl'>refl</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_name'>alias_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_previous_reflection'>previous_reflection</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span> <span class='op'>=</span> <span class='id identifier rubyid_proxy'>proxy</span>
    <span class='id identifier rubyid_previous_reflection'>previous_reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_proxy'>proxy</span>
  <span class='kw'>end</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_runtime_reflection'>runtime_reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_previous_reflection'>previous_reflection</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="join-instance_method">
  <h3 class='signature'>
  #<strong>join</strong>(table, constraint)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L57'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


57
58
59</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_constraint'>constraint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_create_join'>create_join</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_create_on'>create_on</span><span class='lparen'>(</span><span class='id identifier rubyid_constraint'>constraint</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_join_type'>join_type</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="join_type-instance_method">
  <h3 class='signature'>
  #<strong>join_type</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L31'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


31
32
33</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 31</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_join_type'>join_type</span>
  <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>InnerJoin</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="last_chain_scope-instance_method">
  <h3 class='signature'>
  #<strong>last_chain_scope</strong>(scope, table, reflection, owner, association_klass)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L61'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_last_chain_scope'>last_chain_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_association_klass'>association_klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_join_keys'>join_keys</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_join_keys'>join_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_association_klass'>association_klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_join_keys'>join_keys</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span>
  <span class='id identifier rubyid_foreign_key'>foreign_key</span> <span class='op'>=</span> <span class='id identifier rubyid_join_keys'>join_keys</span><span class='period'>.</span><span class='id identifier rubyid_foreign_key'>foreign_key</span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_transform_value'>transform_value</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='lbracket'>[</span><span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
    <span class='id identifier rubyid_polymorphic_type'>polymorphic_type</span> <span class='op'>=</span> <span class='id identifier rubyid_transform_value'>transform_value</span><span class='lparen'>(</span><span class='id identifier rubyid_owner'>owner</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_polymorphic_type'>polymorphic_type</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_scope'>scope</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="next_chain_scope-instance_method">
  <h3 class='signature'>
  #<strong>next_chain_scope</strong>(scope, table, reflection, association_klass, foreign_table, next_reflection)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L81'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 81</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_next_chain_scope'>next_chain_scope</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_association_klass'>association_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_foreign_table'>foreign_table</span><span class='comma'>,</span> <span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_join_keys'>join_keys</span> <span class='op'>=</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_join_keys'>join_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_association_klass'>association_klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_join_keys'>join_keys</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span>
  <span class='id identifier rubyid_foreign_key'>foreign_key</span> <span class='op'>=</span> <span class='id identifier rubyid_join_keys'>join_keys</span><span class='period'>.</span><span class='id identifier rubyid_foreign_key'>foreign_key</span>

  <span class='id identifier rubyid_constraint'>constraint</span> <span class='op'>=</span> <span class='id identifier rubyid_table'>table</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_eq'>eq</span><span class='lparen'>(</span><span class='id identifier rubyid_foreign_table'>foreign_table</span><span class='lbracket'>[</span><span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_transform_value'>transform_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_reflection'>next_reflection</span><span class='period'>.</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_foreign_table'>foreign_table</span><span class='comma'>,</span> <span class='id identifier rubyid_constraint'>constraint</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="scope-instance_method">
  <h3 class='signature'>
  #<strong>scope</strong>(association, connection)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L19'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


19
20
21
22
23
24
25
26
27
28
29</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scope'>scope</span><span class='lparen'>(</span><span class='id identifier rubyid_association'>association</span><span class='comma'>,</span> <span class='id identifier rubyid_connection'>connection</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_reflection'>reflection</span> <span class='op'>=</span> <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_reflection'>reflection</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_unscoped'>unscoped</span>
  <span class='id identifier rubyid_owner'>owner</span> <span class='op'>=</span> <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span>
  <span class='id identifier rubyid_alias_tracker'>alias_tracker</span> <span class='op'>=</span> <span class='const'><a href="AliasTracker.html" title="ActiveRecord::Associations::AliasTracker (class)">AliasTracker</a></span><span class='period'>.</span><span class='id identifier rubyid_create'><a href="AliasTracker.html#create-class_method" title="ActiveRecord::Associations::AliasTracker.create (method)">create</a></span> <span class='id identifier rubyid_connection'>connection</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_type_caster'>type_caster</span>
  <span class='id identifier rubyid_chain_head'>chain_head</span><span class='comma'>,</span> <span class='id identifier rubyid_chain_tail'>chain_tail</span> <span class='op'>=</span> <span class='id identifier rubyid_get_chain'>get_chain</span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_tracker'>alias_tracker</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_extending!'>extending!</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_reflection'>reflection</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_extend'>extend</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add_constraints'>add_constraints</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='comma'>,</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_reflection'>reflection</span><span class='comma'>,</span> <span class='id identifier rubyid_chain_head'>chain_head</span><span class='comma'>,</span> <span class='id identifier rubyid_chain_tail'>chain_tail</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transform_value-instance_method">
  <h3 class='signature'>
  #<strong>transform_value</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/association_scope.rb#L77'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


77
78
79</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/associations/association_scope.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_transform_value'>transform_value</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value_transformation'>value_transformation</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>