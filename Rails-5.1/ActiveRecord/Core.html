<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Core &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Core",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../_index.html'>Index (C)</a> &raquo; 
          <a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
          <span class='title'>Core</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActiveRecord::Core</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <div class='box_max'>
        <a href="Core/ClassMethods.html" title="ActiveRecord::Core::ClassMethods (module)">ClassMethods</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Extended by:</td>
    <td>
      <div class='box_max'>
        <a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="Base.html" title="ActiveRecord::Base (class)">Base</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L7'>activerecord/lib/active_record/core.rb</a></div>  </td>
  </tr>
</table>





<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_object)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Allows sort on objects</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(comparison_object)  </a>
        (also: #eql?)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true if <code>comparison_object</code> is the same exact object, or
<code>comparison_object</code> is of the same type and <code>self</code>
has an ID and it is equal to <code>comparison_object.id</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clone-instance_method" title="#clone (instance method)">#<strong>clone</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Identical to Ruby&#39;s clone method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connection_handler-instance_method" title="#connection_handler (instance method)">#<strong>connection_handler</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#custom_inspect_method_defined%3F-instance_method" title="#custom_inspect_method_defined? (instance method)">#<strong>custom_inspect_method_defined?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Duped objects have no id assigned and are treated as new records.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#encode_with-instance_method" title="#encode_with (instance method)">#<strong>encode_with</strong>(coder)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Populate <code>coder</code> with attributes about this record that should
be serialized.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(comparison_object)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#%3D%3D-instance_method" title="ActiveRecord::Core#== (method)">#==</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Clone and freeze the attributes hash such that associations are still
accessible, even on destroyed records, but cloned models will not be
frozen.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#frozen%3F-instance_method" title="#frozen? (instance method)">#<strong>frozen?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the attributes hash has been frozen.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Delegates to id in order to allow two records of the same type and id to
work with something like:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='rbracket'>]</span> <span class='op'>&amp;</span> <span class='lbracket'>[</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span> <span class='rbracket'>]</span> <span class='comment'># =&gt; [ Person.find(1) ]
</span></code></pre>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#init_internals-instance_method" title="#init_internals (instance method)">#<strong>init_internals</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#init_with-instance_method" title="#init_with (instance method)">#<strong>init_with</strong>(coder)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Initialize an empty model object from <code>coder</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(attributes = nil) {|_self| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize_dup-instance_method" title="#initialize_dup (instance method)">#<strong>initialize_dup</strong>(other)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize_internals_callback-instance_method" title="#initialize_internals_callback (instance method)">#<strong>initialize_internals_callback</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the contents of the record as a nicely formatted string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Takes a PP and prettily prints this record to it, allowing you to get a
nice result from <code>pp record</code> when pp is required.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#readonly%21-instance_method" title="#readonly! (instance method)">#<strong>readonly!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Marks this record as read only.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#readonly%3F-instance_method" title="#readonly? (instance method)">#<strong>readonly?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the record is read only.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*methods)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a hash of the given methods with their names as keys and returned
values as values.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#thaw-instance_method" title="#thaw (instance method)">#<strong>thaw</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_ary-instance_method" title="#to_ary (instance method)">#<strong>to_ary</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Under Ruby 1.9, <code>Array#flatten</code> will call <a href="#to_ary-instance_method" title="ActiveRecord::Core#to_ary (method)">#to_ary</a> (recursively) on each
of the elements of the array, and then rescues from the possible
NoMethodError.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></h3>
  <p class="inherited"><a href="../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>, <a href="../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a>, <a href="../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">.extended</a>, <a href="../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></p>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="<=>-instance_method">
  <h3 class='signature first'>
  #<strong>&lt;=&gt;</strong>(other_object)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows sort on objects</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L473'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


473
474
475
476
477
478
479</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 473</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_other_object'>other_object</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_other_object'>other_object</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_key'>to_key</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_other_object'>other_object</span><span class='period'>.</span><span class='id identifier rubyid_to_key'>to_key</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="==-instance_method">
  <h3 class='signature'>
  #<strong>==</strong>(comparison_object)  
  <span class='aliases'>Also known as: <span class='names'><span>eql?</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true if <code>comparison_object</code> is the same exact object, or
<code>comparison_object</code> is of the same type and <code>self</code>
has an ID and it is equal to <code>comparison_object.id</code>.</p>

<p>Note that new records are different from any other record by definition,
unless the other record is the receiver itself. Besides, if you fetch
existing records with <code>select</code> and leave the ID out, you&#39;re
on your own, this predicate will return false.</p>

<p>Note also that destroying a record preserves its ID in the model instance,
so deleted models are still comparable.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L441'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


441
442
443
444
445
446</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 441</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_comparison_object'>comparison_object</span><span class='rparen'>)</span>
  <span class='kw'>super</span> <span class='op'>||</span>
    <span class='id identifier rubyid_comparison_object'>comparison_object</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
    <span class='op'>!</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span>
    <span class='id identifier rubyid_comparison_object'>comparison_object</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="clone-instance_method">
  <h3 class='signature'>
  #<strong>clone</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Identical to Ruby&#39;s clone method.  This is a “shallow” copy.  Be warned
that your attributes are not copied. That means that modifying attributes
of the clone will modify the original, since they will both point to the
same attributes hash. If you need a copy of your attributes hash, please
use the <a href="#dup-instance_method" title="ActiveRecord::Core#dup (method)">#dup</a> method.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_new_user'>new_user</span> <span class='op'>=</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>               <span class='comment'># =&gt; &quot;Bob&quot;
</span><span class='id identifier rubyid_new_user'>new_user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>               <span class='comment'># =&gt; &quot;Joe&quot;
</span>
<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>==</span> <span class='id identifier rubyid_new_user'>new_user</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>            <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>==</span> <span class='id identifier rubyid_new_user'>new_user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>  <span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>==</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>  <span class='comment'># =&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>
</section>
  <section class='method_details' id="connection_handler-instance_method">
  <h3 class='signature'>
  #<strong>connection_handler</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L492'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


492
493
494</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 492</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connection_handler'>connection_handler</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_connection_handler'>connection_handler</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="custom_inspect_method_defined?-instance_method">
  <h3 class='signature'>
  #<strong>custom_inspect_method_defined?</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L576'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


576
577
578</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 576</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_custom_inspect_method_defined?'>custom_inspect_method_defined?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_instance_method'>instance_method</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span> <span class='op'>!=</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span><span class='period'>.</span><span class='id identifier rubyid_instance_method'>instance_method</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dup-instance_method">
  <h3 class='signature'>
  #<strong>dup</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Duped objects have no id assigned and are treated as new records. Note that
this is a “shallow” copy as it copies the object&#39;s attributes only, not
its associations. The extent of a “deep” copy is application specific and
is therefore left to the application to implement according to its need.
The dup method does not preserve the timestamps (created|updated)_(at|on).</p>


  </div>
</div>
<div class="tags">
  
</div>
</section>
  <section class='method_details' id="encode_with-instance_method">
  <h3 class='signature'>
  #<strong>encode_with</strong>(coder)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Populate <code>coder</code> with attributes about this record that should
be serialized. The structure of <code>coder</code> defined in this method
is guaranteed to match the structure of <code>coder</code> passed to the
<a href="#init_with-instance_method" title="ActiveRecord::Core#init_with (method)">#init_with</a> method.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_coder'>coder</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_encode_with'>encode_with</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
<span class='id identifier rubyid_coder'>coder</span> <span class='comment'># =&gt; {&quot;attributes&quot; =&gt; {&quot;id&quot; =&gt; nil, ... }}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L426'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


426
427
428
429
430</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 426</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_encode_with'>encode_with</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_yaml_encoder'>yaml_encoder</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='comma'>,</span> <span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_coder'>coder</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new_record</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_new_record?'>new_record?</span>
  <span class='id identifier rubyid_coder'>coder</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>active_record_yaml_version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  #<strong>eql?</strong>(comparison_object)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#%3D%3D-instance_method" title="ActiveRecord::Core#== (method)">#==</a>.</p>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L447'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


447</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 447</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eql?'>eql?</span> <span class='symbeg'>:</span><span class='op'>==</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="freeze-instance_method">
  <h3 class='signature'>
  #<strong>freeze</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Clone and freeze the attributes hash such that associations are still
accessible, even on destroyed records, but cloned models will not be
frozen.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L462'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


462
463
464
465</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 462</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_freeze'>freeze</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="frozen?-instance_method">
  <h3 class='signature'>
  #<strong>frozen?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the attributes hash has been frozen.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L468'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


468
469
470</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 468</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_frozen?'>frozen?</span>
  <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id identifier rubyid_frozen?'>frozen?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hash-instance_method">
  <h3 class='signature'>
  #<strong>hash</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Delegates to id in order to allow two records of the same type and id to
work with something like:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='rbracket'>]</span> <span class='op'>&amp;</span> <span class='lbracket'>[</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span> <span class='rbracket'>]</span> <span class='comment'># =&gt; [ Person.find(1) ]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L451'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


451
452
453
454
455
456
457</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 451</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_id'>id</span>
    <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_hash'>hash</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="init_internals-instance_method">
  <h3 class='signature'>
  #<strong>init_internals</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L556'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


556
557
558
559
560
561
562
563
564
565</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 556</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_init_internals'>init_internals</span>
  <span class='ivar'>@readonly</span>                 <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@destroyed</span>                <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@marked_for_destruction</span>   <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@destroyed_by_association</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@new_record</span>               <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@txn</span>                      <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@_start_transaction_state</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@transaction_state</span>        <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="init_with-instance_method">
  <h3 class='signature'>
  #<strong>init_with</strong>(coder)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Initialize an empty model object from <code>coder</code>.
<code>coder</code> should be the result of previously encoding an Active
Record model, using <a href="#encode_with-instance_method" title="ActiveRecord::Core#encode_with (method)">#encode_with</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_old_post'>old_post</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_coder'>coder</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_old_post'>old_post</span><span class='period'>.</span><span class='id identifier rubyid_encode_with'>encode_with</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>

<span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_allocate'>allocate</span>
<span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_init_with'>init_with</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
<span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='comment'># =&gt; &#39;hello world&#39;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L359'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


359
360
361
362
363
364
365
366
367
368
369
370
371
372
373</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_init_with'>init_with</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_coder'>coder</span> <span class='op'>=</span> <span class='const'><a href="LegacyYamlAdapter.html" title="ActiveRecord::LegacyYamlAdapter (module)">LegacyYamlAdapter</a></span><span class='period'>.</span><span class='id identifier rubyid_convert'><a href="LegacyYamlAdapter.html#convert-class_method" title="ActiveRecord::LegacyYamlAdapter.convert (method)">convert</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_yaml_encoder'>yaml_encoder</span><span class='period'>.</span><span class='id identifier rubyid_decode'>decode</span><span class='lparen'>(</span><span class='id identifier rubyid_coder'>coder</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_init_internals'>init_internals</span>

  <span class='ivar'>@new_record</span> <span class='op'>=</span> <span class='id identifier rubyid_coder'>coder</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new_record</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_define_attribute_methods'>define_attribute_methods</span>

  <span class='id identifier rubyid__run_find_callbacks'>_run_find_callbacks</span>
  <span class='id identifier rubyid__run_initialize_callbacks'>_run_initialize_callbacks</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize-instance_method">
  <h3 class='signature'>
  #<strong>initialize</strong>(attributes = nil) {|_self| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table – hence you can&#39;t have attributes that aren&#39;t part of the
table columns.</p>

<h5 id="label-Example-3A">Example:</h5>

<pre class="code ruby"><code class="ruby"><span class='comment'># Instantiates a single new object
</span><span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>first_name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Jamie</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>_self</tt>)</span>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>_self</span>
    <span class='type'>(<tt><a href="" title="ActiveRecord::Core (module)">ActiveRecord::Core</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the object that the method was called on</p>
</div>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L332'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


332
333
334
335
336
337
338
339
340
341
342
343</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 332</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid__default_attributes'>_default_attributes</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_define_attribute_methods'>define_attribute_methods</span>

  <span class='id identifier rubyid_init_internals'>init_internals</span>
  <span class='id identifier rubyid_initialize_internals_callback'>initialize_internals_callback</span>

  <span class='id identifier rubyid_assign_attributes'>assign_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_attributes'>attributes</span>

  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid__run_initialize_callbacks'>_run_initialize_callbacks</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize_dup-instance_method">
  <h3 class='signature'>
  #<strong>initialize_dup</strong>(other)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L402'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


402
403
404
405
406
407
408
409
410
411
412</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_dup'>initialize_dup</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
  <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_primary_key'>primary_key</span><span class='rparen'>)</span>

  <span class='id identifier rubyid__run_initialize_callbacks'>_run_initialize_callbacks</span>

  <span class='ivar'>@new_record</span>  <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@destroyed</span>   <span class='op'>=</span> <span class='kw'>false</span>

  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize_internals_callback-instance_method">
  <h3 class='signature'>
  #<strong>initialize_internals_callback</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L567'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


567
568</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 567</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_internals_callback'>initialize_internals_callback</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the contents of the record as a nicely formatted string.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L497'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


497
498
499
500
501
502
503
504
505
506
507
508
509
510
511</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 497</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='comment'># We check defined?(@attributes) not to issue warnings if the object is
</span>  <span class='comment'># allocated but not initialized.
</span>  <span class='id identifier rubyid_inspection'>inspection</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@attributes</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_column_names'>column_names</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_has_attribute?'>has_attribute?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attribute_for_inspect'>attribute_for_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='kw'>else</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not initialized</span><span class='tstring_end'>&quot;</span></span>
 <span class='kw'>end</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inspection'>inspection</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pretty_print-instance_method">
  <h3 class='signature'>
  #<strong>pretty_print</strong>(pp)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Takes a PP and prettily prints this record to it, allowing you to get a
nice result from <code>pp record</code> when pp is required.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L515'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_custom_inspect_method_defined?'>custom_inspect_method_defined?</span>
  <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_object_address_group'>object_address_group</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@attributes</span>
      <span class='id identifier rubyid_column_names'>column_names</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_column_names'>column_names</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='id identifier rubyid_has_attribute?'>has_attribute?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_new_record?'>new_record?</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_seplist'>seplist</span><span class='lparen'>(</span><span class='id identifier rubyid_column_names'>column_names</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_column_name'>column_name</span><span class='op'>|</span>
        <span class='id identifier rubyid_column_value'>column_value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_attribute'>read_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='id identifier rubyid_column_name'>column_name</span>
          <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
          <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_column_value'>column_value</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not initialized</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="readonly!-instance_method">
  <h3 class='signature'>
  #<strong>readonly!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Marks this record as read only.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L488'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


488
489
490</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 488</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_readonly!'>readonly!</span>
  <span class='ivar'>@readonly</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="readonly?-instance_method">
  <h3 class='signature'>
  #<strong>readonly?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the record is read only. Records loaded
through joins with piggy-back attributes will be marked as read only since
they cannot be saved.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L483'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


483
484
485</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 483</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_readonly?'>readonly?</span>
  <span class='ivar'>@readonly</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice-instance_method">
  <h3 class='signature'>
  #<strong>slice</strong>(*methods)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a hash of the given methods with their names as keys and returned
values as values.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L538'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


538
539
540</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 538</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_methods'>methods</span><span class='rparen'>)</span>
  <span class='const'><a href="../Hash.html" title="Hash (class)">Hash</a></span><span class='lbracket'>[</span><span class='id identifier rubyid_methods'>methods</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_public_send'>public_send</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="thaw-instance_method">
  <h3 class='signature'>
  #<strong>thaw</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L570'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


570
571
572
573
574</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 570</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_thaw'>thaw</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_frozen?'>frozen?</span>
    <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_ary-instance_method">
  <h3 class='signature'>
  #<strong>to_ary</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Under Ruby 1.9, <code>Array#flatten</code> will call <a href="#to_ary-instance_method" title="ActiveRecord::Core#to_ary (method)">#to_ary</a> (recursively) on each
of the elements of the array, and then rescues from the possible
NoMethodError. If those elements are ActiveRecord::Base&#39;s, then this
triggers the various method_missing&#39;s that we have, which significantly
impacts upon performance.</p>

<p>So we can avoid the method_missing hit by explicitly defining <a href="#to_ary-instance_method" title="ActiveRecord::Core#to_ary (method)">#to_ary</a> as
nil here.</p>

<p>See also <a
href="http://tenderlovemaking.com/2011/06/28/til-its-ok-to-return-nil-from-to_ary.html">tenderlovemaking.com/2011/06/28/til-its-ok-to-return-nil-from-to_ary.html</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L552'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


552
553
554</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/core.rb', line 552</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_ary'>to_ary</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>