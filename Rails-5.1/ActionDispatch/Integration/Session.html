<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActionDispatch::Integration::Session &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionDispatch::Integration::Session",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../../_index.html'>Index (S)</a> &raquo; 
          <a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a> &raquo; 
          <a href="../Integration.html" title="ActionDispatch::Integration (module)">Integration</a> &raquo; 
          <span class='title'>Session</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: ActionDispatch::Integration::Session</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="../../Object.html" title="Object (class)">Object</a></li>
        <li class='next'>ActionDispatch::Integration::Session</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="../Assertions.html" title="ActionDispatch::Assertions (module)">Assertions</a>, <a href="RequestHelpers.html" title="ActionDispatch::Integration::RequestHelpers (module)">RequestHelpers</a>, <a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">Routing::UrlFor</a>, <a href="../TestProcess.html" title="ActionDispatch::TestProcess (module)">TestProcess</a>, Minitest::Assertions
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L178'>actionpack/lib/action_dispatch/testing/integration.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An instance of this class represents a set of requests and responses
performed sequentially by a test process. Because you can instantiate
multiple sessions and run them side-by-side, you can also mimic (to some
limited extent) multiple simultaneous users interacting with your system.</p>

<p>Typically, you will instantiate a new session using
<code>IntegrationTest#open_session</code>, rather than instantiating
<a href="" title="ActionDispatch::Integration::Session (class)">Session</a> directly.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='DEFAULT_HOST-constant'>
      DEFAULT_HOST =
    </dt>
    <dd>
            <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='REQUEST_KWARGS-constant'>
      REQUEST_KWARGS =
    </dt>
    <dd>
            <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i(</span><span class='tstring_content'>params</span><span class='words_sep'> </span><span class='tstring_content'>headers</span><span class='words_sep'> </span><span class='tstring_content'>env</span><span class='words_sep'> </span><span class='tstring_content'>xhr</span><span class='words_sep'> </span><span class='tstring_content'>as</span><span class='words_sep'>)</span></span></pre>
    </dd>
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <a href="../Assertions/ResponseAssertions.html" title="ActionDispatch::Assertions::ResponseAssertions (module)">Assertions::ResponseAssertions</a></h3>
  <p class="inherited"><a href="../Assertions/ResponseAssertions.html#RESPONSE_PREDICATES-constant" title="ActionDispatch::Assertions::ResponseAssertions::RESPONSE_PREDICATES (constant)">Assertions::ResponseAssertions::RESPONSE_PREDICATES</a></p>

<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The Accept header to send.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#controller-instance_method" title="#controller (instance method)">#<strong>controller</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A reference to the controller instance used by the last request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host-instance_method" title="#host (instance method)">#<strong>host</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The hostname used in the last request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host%21-instance_method" title="#host! (instance method)">#<strong>host!</strong>(value)  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#host%3D-instance_method" title="ActionDispatch::Integration::Session#host= (method)">#host=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host%3D-instance_method" title="#host= (instance method)">#<strong>host=</strong>(value)  </a>
        (also: #host!)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remote_addr-instance_method" title="#remote_addr (instance method)">#<strong>remote_addr</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The remote_addr used in the last request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request-instance_method" title="#request (instance method)">#<strong>request</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A reference to the request instance used by the last request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request_count-instance_method" title="#request_count (instance method)">#<strong>request_count</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A running counter of the number of requests processed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#response-instance_method" title="#response (instance method)">#<strong>response</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A reference to the response instance used by the last request.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(app)  &#x21d2; Session </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Create and initialize a new Session instance.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_mock_session-instance_method" title="#_mock_session (instance method)">#<strong>_mock_session</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#build_expanded_path-instance_method" title="#build_expanded_path (instance method)">#<strong>build_expanded_path</strong>(path, request_encoder) {|location| ... } </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#build_full_uri-instance_method" title="#build_full_uri (instance method)">#<strong>build_full_uri</strong>(path, env)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cookies-instance_method" title="#cookies (instance method)">#<strong>cookies</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A map of the cookies returned by the last response, and which will be sent
with the next request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#https%21-instance_method" title="#https! (instance method)">#<strong>https!</strong>(flag = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Specify whether or not the session should mimic a secure HTTPS request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#https%3F-instance_method" title="#https? (instance method)">#<strong>https?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the session is mimicking a secure HTTPS
request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#kwarg_request%3F-instance_method" title="#kwarg_request? (instance method)">#<strong>kwarg_request?</strong>(args)  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#non_kwarg_request_warning-instance_method" title="#non_kwarg_request_warning (instance method)">#<strong>non_kwarg_request_warning</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#process-instance_method" title="#process (instance method)">#<strong>process</strong>(method, path, params: nil, headers: nil, env: nil, xhr: false, as: nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Performs the actual request.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#process_with_kwargs-instance_method" title="#process_with_kwargs (instance method)">#<strong>process_with_kwargs</strong>(http_method, path, *args)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reset%21-instance_method" title="#reset! (instance method)">#<strong>reset!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Resets the instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#url_options-instance_method" title="#url_options (instance method)">#<strong>url_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">Routing::UrlFor</a></h3>
  <p class="inherited"><a href="../Routing/UrlFor.html#_routes_context-instance_method" title="ActionDispatch::Routing::UrlFor#_routes_context (method)">#_routes_context</a>, <a href="../Routing/UrlFor.html#_with_routes-instance_method" title="ActionDispatch::Routing::UrlFor#_with_routes (method)">#_with_routes</a>, <a href="../Routing/UrlFor.html#initialize-instance_method" title="ActionDispatch::Routing::UrlFor#initialize (method)">#initialize</a>, <a href="../Routing/UrlFor.html#optimize_routes_generation%3F-instance_method" title="ActionDispatch::Routing::UrlFor#optimize_routes_generation? (method)">#optimize_routes_generation?</a>, <a href="../Routing/UrlFor.html#url_for-instance_method" title="ActionDispatch::Routing::UrlFor#url_for (method)">#url_for</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></h3>
  <p class="inherited"><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">#append_features</a>, <a href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">#class_methods</a>, <a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">.extended</a>, <a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">#included</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Routing/PolymorphicRoutes.html" title="ActionDispatch::Routing::PolymorphicRoutes (module)">Routing::PolymorphicRoutes</a></h3>
  <p class="inherited"><a href="../Routing/PolymorphicRoutes.html#polymorphic_path-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_path (method)">#polymorphic_path</a>, <a href="../Routing/PolymorphicRoutes.html#polymorphic_path_for_action-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_path_for_action (method)">#polymorphic_path_for_action</a>, <a href="../Routing/PolymorphicRoutes.html#polymorphic_url-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_url (method)">#polymorphic_url</a>, <a href="../Routing/PolymorphicRoutes.html#polymorphic_url_for_action-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_url_for_action (method)">#polymorphic_url_for_action</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../TestProcess.html" title="ActionDispatch::TestProcess (module)">TestProcess</a></h3>
  <p class="inherited"><a href="../TestProcess.html#assigns-instance_method" title="ActionDispatch::TestProcess#assigns (method)">#assigns</a>, <a href="../TestProcess.html#fixture_file_upload-instance_method" title="ActionDispatch::TestProcess#fixture_file_upload (method)">#fixture_file_upload</a>, <a href="../TestProcess.html#flash-instance_method" title="ActionDispatch::TestProcess#flash (method)">#flash</a>, <a href="../TestProcess.html#redirect_to_url-instance_method" title="ActionDispatch::TestProcess#redirect_to_url (method)">#redirect_to_url</a>, <a href="../TestProcess.html#session-instance_method" title="ActionDispatch::TestProcess#session (method)">#session</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="RequestHelpers.html" title="ActionDispatch::Integration::RequestHelpers (module)">RequestHelpers</a></h3>
  <p class="inherited"><a href="RequestHelpers.html#delete-instance_method" title="ActionDispatch::Integration::RequestHelpers#delete (method)">#delete</a>, <a href="RequestHelpers.html#delete_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#delete_via_redirect (method)">#delete_via_redirect</a>, <a href="RequestHelpers.html#follow_redirect%21-instance_method" title="ActionDispatch::Integration::RequestHelpers#follow_redirect! (method)">#follow_redirect!</a>, <a href="RequestHelpers.html#get-instance_method" title="ActionDispatch::Integration::RequestHelpers#get (method)">#get</a>, <a href="RequestHelpers.html#get_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#get_via_redirect (method)">#get_via_redirect</a>, <a href="RequestHelpers.html#head-instance_method" title="ActionDispatch::Integration::RequestHelpers#head (method)">#head</a>, <a href="RequestHelpers.html#patch-instance_method" title="ActionDispatch::Integration::RequestHelpers#patch (method)">#patch</a>, <a href="RequestHelpers.html#patch_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#patch_via_redirect (method)">#patch_via_redirect</a>, <a href="RequestHelpers.html#post-instance_method" title="ActionDispatch::Integration::RequestHelpers#post (method)">#post</a>, <a href="RequestHelpers.html#post_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#post_via_redirect (method)">#post_via_redirect</a>, <a href="RequestHelpers.html#put-instance_method" title="ActionDispatch::Integration::RequestHelpers#put (method)">#put</a>, <a href="RequestHelpers.html#put_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#put_via_redirect (method)">#put_via_redirect</a>, <a href="RequestHelpers.html#request_via_redirect-instance_method" title="ActionDispatch::Integration::RequestHelpers#request_via_redirect (method)">#request_via_redirect</a>, <a href="RequestHelpers.html#xml_http_request-instance_method" title="ActionDispatch::Integration::RequestHelpers#xml_http_request (method)">#xml_http_request</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Assertions.html" title="ActionDispatch::Assertions (module)">Assertions</a></h3>
  <p class="inherited"><a href="../Assertions.html#html_document-instance_method" title="ActionDispatch::Assertions#html_document (method)">#html_document</a></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Assertions/RoutingAssertions.html" title="ActionDispatch::Assertions::RoutingAssertions (module)">Assertions::RoutingAssertions</a></h3>
  <p class="inherited"><a href="../Assertions/RoutingAssertions.html#assert_generates-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_generates (method)">#assert_generates</a>, <a href="../Assertions/RoutingAssertions.html#assert_recognizes-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_recognizes (method)">#assert_recognizes</a>, <a href="../Assertions/RoutingAssertions.html#assert_routing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#assert_routing (method)">#assert_routing</a>, <a href="../Assertions/RoutingAssertions.html#fail_on-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#fail_on (method)">#fail_on</a>, <a href="../Assertions/RoutingAssertions.html#method_missing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#method_missing (method)">#method_missing</a>, <a href="../Assertions/RoutingAssertions.html#recognized_request_for-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#recognized_request_for (method)">#recognized_request_for</a>, <a href="../Assertions/RoutingAssertions.html#with_routing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#with_routing (method)">#with_routing</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Assertions/ResponseAssertions.html" title="ActionDispatch::Assertions::ResponseAssertions (module)">Assertions::ResponseAssertions</a></h3>
  <p class="inherited"><a href="../Assertions/ResponseAssertions.html#assert_redirected_to-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#assert_redirected_to (method)">#assert_redirected_to</a>, <a href="../Assertions/ResponseAssertions.html#assert_response-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#assert_response (method)">#assert_response</a>, <a href="../Assertions/ResponseAssertions.html#code_with_name-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#code_with_name (method)">#code_with_name</a>, <a href="../Assertions/ResponseAssertions.html#generate_response_message-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#generate_response_message (method)">#generate_response_message</a>, <a href="../Assertions/ResponseAssertions.html#location_if_redirected-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#location_if_redirected (method)">#location_if_redirected</a>, <a href="../Assertions/ResponseAssertions.html#normalize_argument_to_redirection-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#normalize_argument_to_redirection (method)">#normalize_argument_to_redirection</a>, <a href="../Assertions/ResponseAssertions.html#parameterize-instance_method" title="ActionDispatch::Assertions::ResponseAssertions#parameterize (method)">#parameterize</a></p>

  <h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(app)  &#x21d2; <tt><a href="" title="ActionDispatch::Integration::Session (class)">Session</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create and initialize a new Session instance.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L225'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


225
226
227
228
229
230</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 225</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span>

  <span class='id identifier rubyid_reset!'>reset!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 id='method_missing_details' class='y_details'>Dynamic Method Handling</h2>
  <p class='notice super'>
    This class handles dynamic methods through the <tt>method_missing</tt> method
      in the class <a href="../Assertions/RoutingAssertions.html#method_missing-instance_method" title="ActionDispatch::Assertions::RoutingAssertions#method_missing (method)">ActionDispatch::Assertions::RoutingAssertions</a>
  </p>

<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="accept-instance_method">
  <h3 class='signature first'>
  #<strong>accept</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Accept header to send.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L202'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


202</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 202</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_accept'>accept</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="controller-instance_method">
  <h3 class='signature'>
  #<strong>controller</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A reference to the controller instance used by the last request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L211'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


211</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 211</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_controller'>controller</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host-instance_method">
  <h3 class='signature'>
  #<strong>host</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The hostname used in the last request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L193'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


193
194
195</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host'>host</span>
  <span class='ivar'>@host</span> <span class='op'>||</span> <span class='const'><a href="#DEFAULT_HOST-constant" title="ActionDispatch::Integration::Session::DEFAULT_HOST (constant)">DEFAULT_HOST</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host!-instance_method">
  <h3 class='signature'>
  #<strong>host!</strong>(value)   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#host%3D-instance_method" title="ActionDispatch::Integration::Session#host= (method)">#host=</a>.</p>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L289'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


289</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 289</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_host!'>host!</span> <span class='symbeg'>:</span><span class='id identifier rubyid_host='>host=</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host=-instance_method">
  <h3 class='signature'>
  #<strong>host=</strong>(value)  
  <span class='aliases'>Also known as: <span class='names'><span>host!</span></span>
  </span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L196'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


196</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remote_addr-instance_method">
  <h3 class='signature'>
  #<strong>remote_addr</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The remote_addr used in the last request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L199'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


199</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_remote_addr'>remote_addr</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request-instance_method">
  <h3 class='signature'>
  #<strong>request</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A reference to the request instance used by the last request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L214'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


214</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 214</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_request'>request</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request_count-instance_method">
  <h3 class='signature'>
  #<strong>request_count</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A running counter of the number of requests processed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L220'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


220</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_request_count'>request_count</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="response-instance_method">
  <h3 class='signature'>
  #<strong>response</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A reference to the response instance used by the last request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L217'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


217</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 217</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_response'>response</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_mock_session-instance_method">
  <h3 class='signature first'>
  #<strong>_mock_session</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L292'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


292
293
294</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 292</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__mock_session'>_mock_session</span>
  <span class='ivar'>@_mock_session</span> <span class='op'>||=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>MockSession</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@app</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="build_expanded_path-instance_method">
  <h3 class='signature'>
  #<strong>build_expanded_path</strong>(path, request_encoder) {|location| ... }  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>location</tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L408'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


408
409
410
411
412
413</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_expanded_path'>build_expanded_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_location'>location</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_append_format_to'>append_format_to</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="build_full_uri-instance_method">
  <h3 class='signature'>
  #<strong>build_full_uri</strong>(path, env)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L404'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


404
405
406</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 404</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_full_uri'>build_full_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack.url_scheme</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SERVER_NAME</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SERVER_PORT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cookies-instance_method">
  <h3 class='signature'>
  #<strong>cookies</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A map of the cookies returned by the last response, and which will be sent
with the next request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L206'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


206
207
208</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 206</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cookies'>cookies</span>
  <span class='id identifier rubyid__mock_session'>_mock_session</span><span class='period'>.</span><span class='id identifier rubyid_cookie_jar'>cookie_jar</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="https!-instance_method">
  <h3 class='signature'>
  #<strong>https!</strong>(flag = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Specify whether or not the session should mimic a secure HTTPS request.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https!'>https!</span>
<span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https!'>https!</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L273'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


273
274
275</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 273</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_https!'>https!</span><span class='lparen'>(</span><span class='id identifier rubyid_flag'>flag</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@https</span> <span class='op'>=</span> <span class='id identifier rubyid_flag'>flag</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="https?-instance_method">
  <h3 class='signature'>
  #<strong>https?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the session is mimicking a secure HTTPS
request.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_https?'>https?</span>
  <span class='comment'>#...
</span><span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L282'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


282
283
284</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 282</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_https?'>https?</span>
  <span class='ivar'>@https</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="kwarg_request?-instance_method">
  <h3 class='signature'>
  #<strong>kwarg_request?</strong>(args)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L306'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


306
307
308</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_kwarg_request?'>kwarg_request?</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='const'><a href="#REQUEST_KWARGS-constant" title="ActionDispatch::Integration::Session::REQUEST_KWARGS (constant)">REQUEST_KWARGS</a></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="non_kwarg_request_warning-instance_method">
  <h3 class='signature'>
  #<strong>non_kwarg_request_warning</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L310'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 310</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_non_kwarg_request_warning'>non_kwarg_request_warning</span>
  <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span><span class='period'>.</span><span class='id identifier rubyid_warn'><a href="../../ActiveSupport/Deprecation/Reporting.html#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-MSG</span><span class='period'>.</span><span class='id identifier rubyid_strip_heredoc'>strip_heredoc</span><span class='rparen'>)</span>
<span class='tstring_content'>    ActionDispatch::IntegrationTest HTTP request methods will accept only
    the following keyword arguments in future Rails versions:
    </span><span class='embexpr_beg'>#{</span><span class='const'><a href="#REQUEST_KWARGS-constant" title="ActionDispatch::Integration::Session::REQUEST_KWARGS (constant)">REQUEST_KWARGS</a></span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>

    Examples:

    get &#39;/profile&#39;,
      params: { id: 1 },
      headers: { &#39;X-Extra-Header&#39; =&gt; &#39;123&#39; },
      env: { &#39;action_dispatch.custom&#39; =&gt; &#39;custom&#39; },
      xhr: true,
      as: :json
</span><span class='heredoc_end'>  MSG
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="process-instance_method">
  <h3 class='signature'>
  #<strong>process</strong>(method, path, params: nil, headers: nil, env: nil, xhr: false, as: nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Performs the actual request.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L328'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 328</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>params:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>env:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>xhr:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request_encoder'>request_encoder</span> <span class='op'>=</span> <span class='const'><a href="../RequestEncoder.html" title="ActionDispatch::RequestEncoder (class)">RequestEncoder</a></span><span class='period'>.</span><span class='id identifier rubyid_encoder'><a href="../RequestEncoder.html#encoder-class_method" title="ActionDispatch::RequestEncoder.encoder (method)">encoder</a></span><span class='lparen'>(</span><span class='id identifier rubyid_as'>as</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_headers'>headers</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_get'>get</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_as'>as</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_json'>json</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_params'>params</span>
    <span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Http-Method-Override</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_post'>post</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>://</span><span class='regexp_end'>}</span></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_build_expanded_path'>build_expanded_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_location'>location</span><span class='op'>|</span>
      <span class='id identifier rubyid_https!'>https!</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='op'>::</span><span class='const'>HTTPS</span> <span class='op'>===</span> <span class='id identifier rubyid_location'>location</span> <span class='kw'>if</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_url_host'>url_host</span> <span class='op'>=</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
        <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>Request</span><span class='op'>::</span><span class='const'>DEFAULT_PORTS</span><span class='lbracket'>[</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_url_host'>url_host</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>!=</span> <span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>
        <span class='id identifier rubyid_host!'>host!</span> <span class='id identifier rubyid_url_host'>url_host</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_as'>as</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_build_expanded_path'>build_expanded_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_request_env'>request_env</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_encode_params'>encode_params</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='comma'>,</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SERVER_NAME</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SERVER_PORT</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>443</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>80</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTPS</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>off</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rack.url_scheme</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REQUEST_URI</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_HOST</span><span class='tstring_end'>&quot;</span></span>      <span class='op'>=&gt;</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REMOTE_ADDR</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_remote_addr'>remote_addr</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONTENT_TYPE</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='id identifier rubyid_request_encoder'>request_encoder</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='id identifier rubyid_accept'>accept</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span> <span class='op'>=</span> <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_headers'>headers</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_headers'>headers</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_xhr'>xhr</span>
    <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_X_REQUESTED_WITH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XMLHttpRequest</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_js'>js</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_html'>html</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><a href="../../Mime.html" title="Mime (module)">Mime</a></span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_xml'>xml</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># this modifies the passed request_env directly
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_wrapped_headers'>wrapped_headers</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='const'><a href="../Http.html" title="ActionDispatch::Http (module)">Http</a></span><span class='op'>::</span><span class='const'><a href="../Http/Headers.html" title="ActionDispatch::Http::Headers (class)">Headers</a></span><span class='period'>.</span><span class='id identifier rubyid_from_hash'><a href="../Http/Headers.html#from_hash-class_method" title="ActionDispatch::Http::Headers.from_hash (method)">from_hash</a></span><span class='lparen'>(</span><span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='const'><a href="../../Rack.html" title="Rack (module)">Rack</a></span><span class='op'>::</span><span class='const'>Test</span><span class='op'>::</span><span class='const'>Session</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid__mock_session'>_mock_session</span><span class='rparen'>)</span>

  <span class='comment'># NOTE: rack-test v0.5 doesn&#39;t build a default uri correctly
</span>  <span class='comment'># Make sure requested path is always a full uri
</span>  <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_build_full_uri'>build_full_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_request_env'>request_env</span><span class='rparen'>)</span>

  <span class='ivar'>@request_count</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='ivar'>@request</span>  <span class='op'>=</span> <span class='const'><a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>::</span><span class='const'><a href="../Request.html" title="ActionDispatch::Request (class)">Request</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../Request.html#new-class_method" title="ActionDispatch::Request.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_last_request'>last_request</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid__mock_session'>_mock_session</span><span class='period'>.</span><span class='id identifier rubyid_last_response'>last_response</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'><a href="../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span><span class='op'>::</span><span class='const'><a href="../TestResponse.html" title="ActionDispatch::TestResponse (class)">TestResponse</a></span><span class='period'>.</span><span class='id identifier rubyid_from_response'><a href="../TestResponse.html#from_response-class_method" title="ActionDispatch::TestResponse.from_response (method)">from_response</a></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='ivar'>@request</span>
  <span class='ivar'>@html_document</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@url_options</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@controller</span> <span class='op'>=</span> <span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_controller_instance'>controller_instance</span>

  <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="process_with_kwargs-instance_method">
  <h3 class='signature'>
  #<strong>process_with_kwargs</strong>(http_method, path, *args)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L296'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


296
297
298
299
300
301
302
303</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 296</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_with_kwargs'>process_with_kwargs</span><span class='lparen'>(</span><span class='id identifier rubyid_http_method'>http_method</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_kwarg_request?'>kwarg_request?</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_http_method'>http_method</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_non_kwarg_request_warning'>non_kwarg_request_warning</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_http_method'>http_method</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>params:</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reset!-instance_method">
  <h3 class='signature'>
  #<strong>reset!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Resets the instance. This can be used to reset the state information in an
existing session instance, so it can be used from a clean-slate condition.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L249'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset!'>reset!</span>
  <span class='ivar'>@https</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@controller</span> <span class='op'>=</span> <span class='ivar'>@request</span> <span class='op'>=</span> <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@_mock_session</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@request_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@url_options</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>        <span class='op'>=</span> <span class='const'><a href="#DEFAULT_HOST-constant" title="ActionDispatch::Integration::Session::DEFAULT_HOST (constant)">DEFAULT_HOST</a></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_remote_addr'>remote_addr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span>      <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml,application/xml,application/xhtml+xml,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
                     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/html;q=0.9,text/plain;q=0.8,image/png,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
                     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*/*;q=0.5</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='ivar'>@named_routes_configured</span>
    <span class='comment'># the helpers are made protected by default--we make them public for
</span>    <span class='comment'># easier access during testing and troubleshooting.
</span>    <span class='ivar'>@named_routes_configured</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="url_options-instance_method">
  <h3 class='signature'>
  #<strong>url_options</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L232'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


232
233
234
235
236
237
238
239
240
241
242</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionpack/lib/action_dispatch/testing/integration.rb', line 232</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_url_options'>url_options</span>
  <span class='ivar'>@url_options</span> <span class='op'>||=</span> <span class='id identifier rubyid_default_url_options'>default_url_options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_url_options'>url_options</span><span class='op'>|</span>
    <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_controller'>controller</span><span class='period'>.</span><span class='id identifier rubyid_url_options'>url_options</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_controller'>controller</span>

    <span class='kw'>if</span> <span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_routes'>routes</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_default_url_options'>default_url_options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_url_options'>url_options</span><span class='period'>.</span><span class='id identifier rubyid_reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='label'>host:</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='label'>protocol:</span> <span class='id identifier rubyid_https?'>https?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>