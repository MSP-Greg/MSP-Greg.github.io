<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::UrlHelper &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::UrlHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../../_index.html'>Index (U)</a> &raquo; 
          <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
          <a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
          <span class='title'>UrlHelper</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActionView::Helpers::UrlHelper</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <div class='box_max'>
        <a href="UrlHelper/ClassMethods.html" title="ActionView::Helpers::UrlHelper::ClassMethods (module)">ClassMethods</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Extended by:</td>
    <td>
      <div class='box_max'>
        <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a>, <a href="FormHelper.html" title="ActionView::Helpers::FormHelper (module)">FormHelper</a>, <a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)">FormTagHelper</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L14'>actionview/lib/action_view/helpers/url_helper.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Provides a set of methods for making links and getting URLs that depend on
the routing subsystem (see ActionDispatch::Routing). This allows you to use
the same format for links in views and controllers.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='BUTTON_TAG_METHOD_VERBS-constant'>
      BUTTON_TAG_METHOD_VERBS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>This helper may be included in any class that includes the URL helpers of a
routes (routes.url_helpers). Some methods provided here will only work in
the context of a request (link_to_unless_current, for instance), which must
be provided as a method called <code>#request</code> on the context.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w{</span><span class='tstring_content'>patch</span><span class='words_sep'> </span><span class='tstring_content'>put</span><span class='words_sep'> </span><span class='tstring_content'>delete</span><span class='words_sep'>}</span></span></pre>
    </dd>
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">TagHelper::BOOLEAN_ATTRIBUTES</a>, <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">TagHelper::PRE_CONTENT_STRINGS</a>, <a href="TagHelper.html#TAG_PREFIXES-constant" title="ActionView::Helpers::TagHelper::TAG_PREFIXES (constant)">TagHelper::TAG_PREFIXES</a></p>



<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_back_url-instance_method" title="#_back_url (instance method)">#<strong>_back_url</strong>  </a>
      </span>
      <span class='note title protected'>protected</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_filtered_referrer-instance_method" title="#_filtered_referrer (instance method)">#<strong>_filtered_referrer</strong>  </a>
      </span>
      <span class='note title protected'>protected</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#add_method_to_attributes%21-instance_method" title="#add_method_to_attributes! (instance method)">#<strong>add_method_to_attributes!</strong>(html_options, method)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#button_to-instance_method" title="#button_to (instance method)">#<strong>button_to</strong>(name = nil, options = nil, html_options = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates a form containing a single button that submits to the URL created
by the set of <code>options</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#convert_options_to_data_attributes-instance_method" title="#convert_options_to_data_attributes (instance method)">#<strong>convert_options_to_data_attributes</strong>(options, html_options)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current_page%3F-instance_method" title="#current_page? (instance method)">#<strong>current_page?</strong>(options)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>True if the current request URI was generated by the given
<code>options</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#link_to-instance_method" title="#link_to (instance method)">#<strong>link_to</strong>(name = nil, options = nil, html_options = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an anchor element of the given <code>name</code> using a URL
created by the set of <code>options</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#link_to_if-instance_method" title="#link_to_if (instance method)">#<strong>link_to_if</strong>(condition, name, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> if <code>condition</code> is true,
otherwise only the name is returned.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#link_to_remote_options%3F-instance_method" title="#link_to_remote_options? (instance method)">#<strong>link_to_remote_options?</strong>(options)  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#link_to_unless-instance_method" title="#link_to_unless (instance method)">#<strong>link_to_unless</strong>(condition, name, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless <code>condition</code> is true, in
which case only the name is returned.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#link_to_unless_current-instance_method" title="#link_to_unless_current (instance method)">#<strong>link_to_unless_current</strong>(name, options = {}, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless the current request URI is the same
as the links, in which case only the name is returned (or the given block
is yielded, if one exists).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mail_to-instance_method" title="#mail_to (instance method)">#<strong>mail_to</strong>(email_address, name = nil, html_options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a mailto link tag to the specified <code>email_address</code>,
which is also used as the name of the link unless <code>name</code> is
specified.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#method_tag-instance_method" title="#method_tag (instance method)">#<strong>method_tag</strong>(method)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_form_params-instance_method" title="#to_form_params (instance method)">#<strong>to_form_params</strong>(attribute, namespace = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of hashes each containing :name and :value keys suitable
for use as the names and values of form input fields:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#token_tag-instance_method" title="#token_tag (instance method)">#<strong>token_tag</strong>(token = nil, form_options: {})  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#url_for-instance_method" title="#url_for (instance method)">#<strong>url_for</strong>(options = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Basic implementation of url_for to allow use helpers without routes
existence</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></h3>
  <p class="inherited"><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>, <a href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a>, <a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">.extended</a>, <a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a>, <a href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a>, <a href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a>, <a href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a>, <a href="TagHelper.html#tag_builder-instance_method" title="ActionView::Helpers::TagHelper#tag_builder (method)">#tag_builder</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a></h3>
  <p class="inherited"><a href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a>, <a href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a>, <a href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a></h3>
  <p class="inherited"><a href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a>, <a href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a>, <a href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a>, <a href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a>, <a href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></p>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_back_url-instance_method">
  <h3 class='signature first'>
  #<strong>_back_url</strong>   <span class="extras">(<span class='prot'>protected</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L44'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


44
45
46</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 44</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__back_url'>_back_url</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid__filtered_referrer'>_filtered_referrer</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>javascript:history.back()</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_filtered_referrer-instance_method">
  <h3 class='signature'>
  #<strong>_filtered_referrer</strong>   <span class="extras">(<span class='prot'>protected</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L49'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


49
50
51
52
53
54
55
56
57</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 49</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__filtered_referrer'>_filtered_referrer</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_controller'>controller</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_referrer'>referrer</span> <span class='op'>=</span> <span class='id identifier rubyid_controller'>controller</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_REFERER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_referrer'>referrer</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='lparen'>(</span><span class='id identifier rubyid_referrer'>referrer</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>javascript</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_referrer'>referrer</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='op'>::</span><span class='const'>InvalidURIError</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="add_method_to_attributes!-instance_method">
  <h3 class='signature'>
  #<strong>add_method_to_attributes!</strong>(html_options, method)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L583'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


583
584
585
586
587
588</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_method_to_attributes!'>add_method_to_attributes!</span><span class='lparen'>(</span><span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>nofollow</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rel</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> nofollow</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data-method</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_method'>method</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="button_to-instance_method">
  <h3 class='signature'>
  #<strong>button_to</strong>(name = nil, options = nil, html_options = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates a form containing a single button that submits to the URL created
by the set of <code>options</code>. This is the safest method to ensure
links that cause changes to your data are not triggered by search bots or
accelerators. If the HTML button does not work with your layout, you can
also consider using the <code>link_to</code> method with the
<code>:method</code> modifier as described in the <code>link_to</code>
documentation.</p>

<p>By default, the generated form element has a class name of
<code>button_to</code> to allow styling of the form itself and its
children. This can be changed using the <code>:form_class</code> modifier
within <code>html_options</code>. You can control the form submission and
input element behavior using <code>html_options</code>. This method accepts
the <code>:method</code> modifier described in the <code>link_to</code>
documentation. If no <code>:method</code> modifier is given, it will
default to performing a POST operation. You can also disable the button by
passing <code>disabled: true</code> in <code>html_options</code>. If you
are using RESTful routes, you can pass the <code>:method</code> to change
the HTTP verb used to submit the form.</p>

<h5 id="label-Options">Options</h5>

<p>The <code>options</code> hash accepts the same options as
<code>url_for</code>.</p>

<p>There are a few special <code>html_options</code>:</p>
<ul><li>
<p><code>:method</code> - Symbol of HTTP verb. Supported verbs are
<code>:post</code>, <code>:get</code>, <code>:delete</code>,
<code>:patch</code>, and <code>:put</code>. By default it will be
<code>:post</code>.</p>
</li><li>
<p><code>:disabled</code> - If set to true, it will generate a disabled
button.</p>
</li><li>
<p><code>:data</code> - This option can be used to add custom data attributes.</p>
</li><li>
<p><code>:remote</code> -  If set to true, will allow the Unobtrusive
JavaScript drivers to control the submit behavior. By default this behavior
is an ajax submit.</p>
</li><li>
<p><code>:form</code> - This hash will be form attributes</p>
</li><li>
<p><code>:form_class</code> - This controls the class of the form within which
the submit button will be placed</p>
</li><li>
<p><code>:params</code> - Hash of parameters to be rendered as hidden fields
within the form.</p>
</li></ul>

<h5 id="label-Data+attributes">Data attributes</h5>
<ul><li>
<p><code>:confirm</code> - This will use the unobtrusive JavaScript driver to
prompt with the question specified. If the user accepts, the link is
processed normally, otherwise no action is taken.</p>
</li><li>
<p><code>:disable_with</code> - Value of this parameter will be used as the
value for a disabled version of the submit button when the form is
submitted. This feature is provided by the unobtrusive JavaScript driver.</p>
</li></ul>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby">&lt;%= button_to &quot;New&quot;, action: &quot;new&quot; %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;New&quot;, new_articles_path %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/articles/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to [:make_happy, @user] do %&gt;
  Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;
&lt;% end %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/users/1/make_happy&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;
#        Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;
#      &lt;/button&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;New&quot;, { action: &quot;new&quot; }, form_class: &quot;new-thing&quot; %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;new-thing&quot;&gt;
#      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;Create&quot;, { action: &quot;create&quot; }, remote: true, form: { &quot;data-type&quot; =&gt; &quot;json&quot; } %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/create&quot; class=&quot;button_to&quot; data-remote=&quot;true&quot; data-type=&quot;json&quot;&gt;
#      &lt;input value=&quot;Create&quot; type=&quot;submit&quot; /&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;Delete Image&quot;, { action: &quot;delete&quot;, id: @image.id },
                                method: :delete, data: { confirm: &quot;Are you sure?&quot; } %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/delete/1&quot; class=&quot;button_to&quot;&gt;
#      &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;
#      &lt;input data-confirm=&#39;Are you sure?&#39; value=&quot;Delete Image&quot; type=&quot;submit&quot; /&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to(&#39;Destroy&#39;, &#39;http://www.example.com&#39;,
          method: &quot;delete&quot;, remote: true, data: { confirm: &#39;Are you sure?&#39;, disable_with: &#39;loading...&#39; }) %&gt;
# =&gt; &quot;&lt;form class=&#39;button_to&#39; method=&#39;post&#39; action=&#39;http://www.example.com&#39; data-remote=&#39;true&#39;&gt;
#       &lt;input name=&#39;_method&#39; value=&#39;delete&#39; type=&#39;hidden&#39; /&gt;
#       &lt;input value=&#39;Destroy&#39; type=&#39;submit&#39; data-disable-with=&#39;loading...&#39; data-confirm=&#39;Are you sure?&#39; /&gt;
#       &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;
#     &lt;/form&gt;&quot;
#</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L295'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 295</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_button_to'>button_to</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_options'>options</span>      <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_stringify_keys'>stringify_keys</span>

  <span class='id identifier rubyid_url'>url</span>    <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../String.html" title="String (class)">String</a></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>:</span> <span class='id identifier rubyid_url_for'>url_for</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remote'>remote</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>params</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_method'>method</span>     <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>method</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_method_tag'>method_tag</span> <span class='op'>=</span> <span class='const'><a href="#BUTTON_TAG_METHOD_VERBS-constant" title="ActionView::Helpers::UrlHelper::BUTTON_TAG_METHOD_VERBS (constant)">BUTTON_TAG_METHOD_VERBS</a></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_method_tag'>method_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>

  <span class='id identifier rubyid_form_method'>form_method</span>  <span class='op'>=</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_form_options'>form_options</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>form</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_form_options'>form_options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='kw'>class</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>form_class</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>button_to</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_form_options'>form_options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_form_method'>form_method</span>
  <span class='id identifier rubyid_form_options'>form_options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_action'>action</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span>
  <span class='id identifier rubyid_form_options'>form_options</span><span class='lbracket'>[</span><span class='symbeg'>:&#39;</span><span class='tstring_content'>data-remote</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_remote'>remote</span>

  <span class='id identifier rubyid_request_token_tag'>request_token_tag</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_form_method'>form_method</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_request_method'>request_method</span> <span class='op'>=</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_method'>method</span>
    <span class='id identifier rubyid_token_tag'>token_tag</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>form_options:</span> <span class='lbrace'>{</span> <span class='label'>action:</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='label'>method:</span> <span class='id identifier rubyid_request_method'>request_method</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_options_to_data_attributes'>convert_options_to_data_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>submit</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_button'>button</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>button</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='id identifier rubyid_url'>url</span>
    <span class='id identifier rubyid_tag'>tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_inner_tags'>inner_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_method_tag'>method_tag</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span><span class='lparen'>(</span><span class='id identifier rubyid_button'>button</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span><span class='lparen'>(</span><span class='id identifier rubyid_request_token_tag'>request_token_tag</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span>
    <span class='id identifier rubyid_to_form_params'>to_form_params</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
      <span class='id identifier rubyid_inner_tags'>inner_tags</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span> <span class='id identifier rubyid_tag'>tag</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hidden</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>form</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_inner_tags'>inner_tags</span><span class='comma'>,</span> <span class='id identifier rubyid_form_options'>form_options</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="convert_options_to_data_attributes-instance_method">
  <h3 class='signature'>
  #<strong>convert_options_to_data_attributes</strong>(options, html_options)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L562'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


562
563
564
565
566
567
568
569
570
571
572
573
574
575</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 562</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_options_to_data_attributes'>convert_options_to_data_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_html_options'>html_options</span>
    <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_stringify_keys'>stringify_keys</span>
    <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data-remote</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='kw'>if</span> <span class='id identifier rubyid_link_to_remote_options?'>link_to_remote_options?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_link_to_remote_options?'>link_to_remote_options?</span><span class='lparen'>(</span><span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_method'>method</span>  <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>method</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_add_method_to_attributes!'>add_method_to_attributes!</span><span class='lparen'>(</span><span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span>

    <span class='id identifier rubyid_html_options'>html_options</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_link_to_remote_options?'>link_to_remote_options?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data-remote</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbrace'>}</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="current_page?-instance_method">
  <h3 class='signature'>
  #<strong>current_page?</strong>(options)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>True if the current request URI was generated by the given
<code>options</code>.</p>

<h5 id="label-Examples">Examples</h5>

<p>Let&#39;s say we&#39;re in the
<code>http://www.example.com/shop/checkout?order=desc&page=1</code> action.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>process</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>library</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shop</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shop</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>order:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>asc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shop</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>order:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>desc</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>page:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shop</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>order:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>desc</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>page:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.example.com/shop/checkout</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/shop/checkout</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span>
<span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.example.com/shop/checkout?order=desc&amp;page=1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; true
</span></code></pre>

<p>Let&#39;s say we&#39;re in the <code>http://www.example.com/products</code>
action with method POST in case of invalid product.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>product</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; false
</span></code></pre>

<p>We can also pass in the symbol arguments instead of strings.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L535'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 535</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_request'>request</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You cannot use helpers that need to determine the current </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>page unless your view context provides a Request object </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in a #request method</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_get?'>get?</span> <span class='op'>||</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span>

  <span class='id identifier rubyid_url_string'>url_string</span> <span class='op'>=</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='period'>.</span><span class='id identifier rubyid_parser'><a href="../../URI.html#parser-class_method" title="URI.parser (method)">parser</a></span><span class='period'>.</span><span class='id identifier rubyid_unescape'>unescape</span><span class='lparen'>(</span><span class='id identifier rubyid_url_for'>url_for</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>BINARY</span><span class='rparen'>)</span>

  <span class='comment'># We ignore any extra parameters in the request_uri if the
</span>  <span class='comment'># submitted url doesn&#39;t have any either. This lets the function
</span>  <span class='comment'># work with things like ?order=asc
</span>  <span class='id identifier rubyid_request_uri'>request_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_url_string'>url_string</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_fullpath'>fullpath</span> <span class='op'>:</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_request_uri'>request_uri</span> <span class='op'>=</span> <span class='const'><a href="../../URI.html" title="URI (module)">URI</a></span><span class='period'>.</span><span class='id identifier rubyid_parser'><a href="../../URI.html#parser-class_method" title="URI.parser (method)">parser</a></span><span class='period'>.</span><span class='id identifier rubyid_unescape'>unescape</span><span class='lparen'>(</span><span class='id identifier rubyid_request_uri'>request_uri</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>BINARY</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_url_string'>url_string</span><span class='period'>.</span><span class='id identifier rubyid_chomp!'>chomp!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_url_string'>url_string</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_url_string'>url_string</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^\w+://</span><span class='regexp_end'>}</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='id identifier rubyid_url_string'>url_string</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_url_string'>url_string</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_host_with_port'>host_with_port</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request_uri'>request_uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_url_string'>url_string</span> <span class='op'>==</span> <span class='id identifier rubyid_request_uri'>request_uri</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="link_to-instance_method">
  <h3 class='signature'>
  #<strong>link_to</strong>(name = nil, options = nil, html_options = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an anchor element of the given <code>name</code> using a URL
created by the set of <code>options</code>. See the valid options in the
documentation for <code>url_for</code>. It&#39;s also possible to pass a
String instead of an options hash, which generates an anchor element that
uses the value of the String as the href for the link. Using a
<code>:back</code> Symbol instead of an options hash will generate a link
to the referrer (a JavaScript back link will be used in place of a referrer
if none exists). If <code>nil</code> is passed as the name the value of the
link itself will become the name.</p>

<h5 id="label-Signatures">Signatures</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># url is a String; you can use URL helpers like
</span>  <span class='comment'># posts_path
</span>
<span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='id identifier rubyid_url_options'>url_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># url_options, except :method, is passed to url_for
</span>
<span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='comment'># name
</span><span class='kw'>end</span>

<span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='comment'># name
</span><span class='kw'>end</span>
</code></pre>

<h5 id="label-Options">Options</h5>
<ul><li>
<p><code>:data</code> - This option can be used to add custom data attributes.</p>
</li><li>
<p><code>method: symbol of HTTP verb</code> - This modifier will dynamically
create an HTML form and immediately submit the form for processing using
the HTTP verb specified. Useful for having links perform a POST operation
in dangerous actions like deleting a record (which search bots can follow
while spidering your site). Supported verbs are <code>:post</code>,
<code>:delete</code>, <code>:patch</code>, and <code>:put</code>. Note that
if the user has JavaScript disabled, the request will fall back to using
GET. If <code>href: &#39;#&#39;</code> is used and the user has JavaScript
disabled clicking the link will have no effect. If you are relying on the
POST behavior, you should check for it in your controller&#39;s action by
using the request object&#39;s methods for <code>post?</code>,
<code>delete?</code>, <code>patch?</code>, or <code>put?</code>.</p>
</li><li>
<p><code>remote: true</code> - This will allow the unobtrusive JavaScript
driver to make an Ajax request to the URL in question instead of following
the link. The drivers each provide mechanisms for listening for the
completion of the Ajax request and performing JavaScript operations once
they&#39;re complete</p>
</li></ul>

<h5 id="label-Data+attributes">Data attributes</h5>
<ul><li>
<p><code>confirm: &#39;question?&#39;</code> - This will allow the unobtrusive
JavaScript driver to prompt with the question specified (in this case, the
resulting text would be <code>question?</code>. If the user accepts, the
link is processed normally, otherwise no action is taken.</p>
</li><li>
<p><code>:disable_with</code> - Value of this parameter will be used as the
value for a disabled version of the submit button when the form is
submitted. This feature is provided by the unobtrusive JavaScript driver.</p>
</li></ul>

<h5 id="label-Examples">Examples</h5>

<p>Because it relies on <code>url_for</code>, <code>link_to</code> supports
both older-style controller/action/id arguments and newer RESTful routes.
Current Rails style favors RESTful routes whenever possible, so base your
application on resources and use</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_profile_path'>profile_path</span><span class='lparen'>(</span><span class='ivar'>@profile</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</span></code></pre>

<p>or the even pithier</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@profile</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</span></code></pre>

<p>in place of the older more verbose, non-resource-oriented</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>action:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>show</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>id:</span> <span class='ivar'>@profile</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles/show/1&quot;&gt;Profile&lt;/a&gt;
</span></code></pre>

<p>Similarly,</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_profiles_path'>profiles_path</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</span></code></pre>

<p>is better than</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>profiles</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</span></code></pre>

<p>You can use a block as well if your link target is hard to fit into the
name parameter. ERB example:</p>

<pre class="code ruby"><code class="ruby">&lt;%= link_to(@profile) do %&gt;
  &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;
       &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
     &lt;/a&gt;</code></pre>

<p>Classes and ids for CSS are easy to produce:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_articles_path'>articles_path</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</span></code></pre>

<p>Be careful when using the older argument style, as an extra literal hash is
needed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>articles</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</span></code></pre>

<p>Leaving the hash off gives the wrong link:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>WRONG!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/articles/index/news?class=article&quot;&gt;WRONG!&lt;/a&gt;
</span></code></pre>

<p><code>link_to</code> can also produce links with anchors or query strings:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Comment wall</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_profile_path'>profile_path</span><span class='lparen'>(</span><span class='ivar'>@profile</span><span class='comma'>,</span> <span class='label'>anchor:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wall</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;a href=&quot;/profiles/1#wall&quot;&gt;Comment wall&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby on Rails search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>controller:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>searches</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>query:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby on rails</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;/searches?query=ruby&lt;code&gt;on&lt;/code&gt;rails&quot;&gt;Ruby on Rails search&lt;/a&gt;
</span>
<span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nonsense search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_searches_path'>searches_path</span><span class='lparen'>(</span><span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quux</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;a href=&quot;/searches?foo=bar&amp;amp;baz=quux&quot;&gt;Nonsense search&lt;/a&gt;
</span></code></pre>

<p>The only option specific to <code>link_to</code> (<code>:method</code>) is
used as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Destroy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.example.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>method:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete'>delete</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;a href=&#39;http://www.example.com&#39; rel=&quot;nofollow&quot; data-method=&quot;delete&quot;&gt;Destroy&lt;/a&gt;
</span></code></pre>

<p>You can also use custom data attributes using the <code>:data</code>
option:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Visit Other Site</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.rubyonrails.org/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>data:</span> <span class='lbrace'>{</span> <span class='label'>confirm:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Are you sure?</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; data-confirm=&quot;Are you sure?&quot;&gt;Visit Other Site&lt;/a&gt;
</span></code></pre>

<p>Also you can set any link attributes such as <code>target</code>,
<code>rel</code>, <code>type</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>External link</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.rubyonrails.org/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>target:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_blank</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>rel:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nofollow</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;External link&lt;/a&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L191'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


191
192
193
194
195
196
197
198
199
200
201</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_options_to_data_attributes'>convert_options_to_data_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_url_for'>url_for</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_url'>url</span>

  <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="link_to_if-instance_method">
  <h3 class='signature'>
  #<strong>link_to_if</strong>(condition, name, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> if <code>condition</code> is true,
otherwise only the name is returned. To specialize the default behavior,
you can pass a block that accepts the name or the full argument list for
<code>link_to_unless</code> (see the examples in
<code>link_to_unless</code>).</p>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby">&lt;%= link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) %&gt;
# If the user isn&#39;t logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;

&lt;%=
   link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) do
     link_to(@current_user.login, { controller: &quot;accounts&quot;, action: &quot;show&quot;, id: @current_user })
   end
%&gt;
# If the user isn&#39;t logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;
# If they are logged in...
# =&gt; &lt;a href=&quot;/accounts/show/3&quot;&gt;my_username&lt;/a&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L427'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


427
428
429
430
431
432
433
434
435
436
437</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 427</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link_to_if'>link_to_if</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
    <span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>&lt;=</span> <span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_html_escape'><a href="../../ERB/Util.html#html_escape-class_method" title="ERB::Util.html_escape (method)">html_escape</a></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="link_to_remote_options?-instance_method">
  <h3 class='signature'>
  #<strong>link_to_remote_options?</strong>(options)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L577'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


577
578
579
580
581</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 577</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link_to_remote_options?'>link_to_remote_options?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_remote'>remote</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="link_to_unless-instance_method">
  <h3 class='signature'>
  #<strong>link_to_unless</strong>(condition, name, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless <code>condition</code> is true, in
which case only the name is returned. To specialize the default behavior
(i.e., show a login link rather than just the plaintext link text), you can
pass a block that accepts the name or the full argument list for
<code>link_to_unless</code>.</p>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby">&lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) %&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;

&lt;%=
   link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) do |name|
     link_to(name, { controller: &quot;accounts&quot;, action: &quot;signup&quot; })
   end
%&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;
# If not...
# =&gt; &lt;a href=&quot;/accounts/signup&quot;&gt;Reply&lt;/a&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L403'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


403
404
405</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 403</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link_to_unless'>link_to_unless</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_link_to_if'>link_to_if</span> <span class='op'>!</span><span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="link_to_unless_current-instance_method">
  <h3 class='signature'>
  #<strong>link_to_unless_current</strong>(name, options = {}, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless the current request URI is the same
as the links, in which case only the name is returned (or the given block
is yielded, if one exists). You can give
<code>link_to_unless_current</code> a block which will specialize the
default behavior (e.g., show a Start Here link rather than the link&#39;s
text).</p>

<h5 id="label-Examples">Examples</h5>

<p>Let&#39;s say you have a navigation menu</p>

<pre class="code ruby"><code class="ruby">&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { action: &quot;index&quot; }) %&gt;&lt;/li&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { action: &quot;about&quot; }) %&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>

<p>If in the about action, it will render</p>

<pre class="code ruby"><code class="ruby">&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;About Us&lt;/li&gt;
&lt;/ul&gt;</code></pre>

<p>but if in the index action, it will render:</p>

<pre class="code ruby"><code class="ruby">&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;Home&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/about&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>

<p>The implicit block given to <code>link_to_unless_current</code> is
evaluated if the current action is the action given. So, if we had a
comments page and wanted to render a Go Back link instead of a link to
the comments page, we could do something like this</p>

<pre class="code ruby"><code class="ruby">&lt;%=
    link_to_unless_current(&quot;Comment&quot;, { controller: &quot;comments&quot;, action: &quot;new&quot; }) do
       link_to(&quot;Go back&quot;, { controller: &quot;posts&quot;, action: &quot;index&quot; })
    end
 %&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L379'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


379
380
381</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 379</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_link_to_unless_current'>link_to_unless_current</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_link_to_unless'>link_to_unless</span> <span class='id identifier rubyid_current_page?'>current_page?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mail_to-instance_method">
  <h3 class='signature'>
  #<strong>mail_to</strong>(email_address, name = nil, html_options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a mailto link tag to the specified <code>email_address</code>,
which is also used as the name of the link unless <code>name</code> is
specified. Additional HTML attributes for the link can be passed in
<code>html_options</code>.</p>

<p><code>mail_to</code> has several methods for customizing the email itself
by passing special keys to <code>html_options</code>.</p>

<h5 id="label-Options">Options</h5>
<ul><li>
<p><code>:subject</code> - Preset the subject line of the email.</p>
</li><li>
<p><code>:body</code> - Preset the body of the email.</p>
</li><li>
<p><code>:cc</code> - Carbon Copy additional recipients on the email.</p>
</li><li>
<p><code>:bcc</code> - Blind Carbon Copy additional recipients on the email.</p>
</li><li>
<p><code>:reply_to</code> - Preset the Reply-To field of the email.</p>
</li></ul>

<h5 id="label-Obfuscation">Obfuscation</h5>

<p>Prior to Rails 4.0, <code>mail_to</code> provided options for encoding the
address in order to hinder email harvesters.  To take advantage of these
options, install the <code>actionview-encoded_mail_to</code> gem.</p>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;
</span>
<span class='id identifier rubyid_mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My email</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;My email&lt;/a&gt;
</span>
<span class='id identifier rubyid_mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My email</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>cc:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ccaddress@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='label'>subject:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is an example email</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;
</span></code></pre>

<p>You can use a block as well if your link target is hard to fit into the
name parameter. ERB example:</p>

<pre class="code ruby"><code class="ruby">&lt;%= mail_to &quot;me@domain.com&quot; do %&gt;
  &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;
       &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;
     &lt;/a&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L477'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


477
478
479
480
481
482
483
484
485
486
487
488
489
490
491</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 477</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mail_to'>mail_to</span><span class='lparen'>(</span><span class='id identifier rubyid_email_address'>email_address</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_stringify_keys'>stringify_keys</span>

  <span class='id identifier rubyid_extras'>extras</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w{ </span><span class='tstring_content'>cc</span><span class='words_sep'> </span></span><span class='tstring_content'>bcc</span><span class='words_sep'> </span><span class='tstring_content'>body</span><span class='words_sep'> </span><span class='tstring_content'>subject</span><span class='words_sep'> </span><span class='tstring_content'>reply_to</span><span class='words_sep'> }</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_option'>option</span> <span class='op'>=</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='kw'>next</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_dasherize'>dasherize</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_url_encode'>url_encode</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='id identifier rubyid_extras'>extras</span> <span class='op'>=</span> <span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_encoded_email_address'>encoded_email_address</span> <span class='op'>=</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_url_encode'>url_encode</span><span class='lparen'>(</span><span class='id identifier rubyid_email_address'>email_address</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%40</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mailto:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_encoded_email_address'>encoded_email_address</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extras'>extras</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='id identifier rubyid_email_address'>email_address</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="method_tag-instance_method">
  <h3 class='signature'>
  #<strong>method_tag</strong>(method)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L599'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


599
600
601</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 599</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_method_tag'>method_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tag'>tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hidden</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_method</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_form_params-instance_method">
  <h3 class='signature'>
  #<strong>to_form_params</strong>(attribute, namespace = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of hashes each containing :name and :value keys suitable
for use as the names and values of form input fields:</p>

<pre class="code ruby"><code class="ruby">to_form_params(name: &#39;David&#39;, nationality: &#39;Danish&#39;)
# =&gt; [{name: :name, value: &#39;David&#39;}, {name: &#39;nationality&#39;, value: &#39;Danish&#39;}]

to_form_params(country: {name: &#39;Denmark&#39;})
# =&gt; [{name: &#39;country[name]&#39;, value: &#39;Denmark&#39;}]

to_form_params(countries: [&#39;Denmark&#39;, &#39;Sweden&#39;]})
# =&gt; [{name: &#39;countries[]&#39;, value: &#39;Denmark&#39;}, {name: &#39;countries[]&#39;, value: &#39;Sweden&#39;}]</code></pre>

<p>An optional namespace can be passed to enclose key names:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_to_form_params'>to_form_params</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Denmark</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>country</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; [{name: &#39;country[name]&#39;, value: &#39;Denmark&#39;}]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L619'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_form_params'>to_form_params</span><span class='lparen'>(</span><span class='id identifier rubyid_attribute'>attribute</span><span class='comma'>,</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_attribute'>attribute</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>
    <span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_key'>key</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_to_form_params'>to_form_params</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>
    <span class='id identifier rubyid_array_prefix'>array_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_content'>[]</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_to_form_params'>to_form_params</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_array_prefix'>array_prefix</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_attribute'>attribute</span><span class='period'>.</span><span class='id identifier rubyid_to_param'>to_param</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span> <span class='id identifier rubyid_pair'>pair</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="token_tag-instance_method">
  <h3 class='signature'>
  #<strong>token_tag</strong>(token = nil, form_options: {})   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L590'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


590
591
592
593
594
595
596
597</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_token_tag'>token_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>form_options:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span> <span class='op'>!=</span> <span class='kw'>false</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_protect_against_forgery?'>protect_against_forgery?</span>
    <span class='id identifier rubyid_token'>token</span> <span class='op'>||=</span> <span class='id identifier rubyid_form_authenticity_token'>form_authenticity_token</span><span class='lparen'>(</span><span class='label'>form_options:</span> <span class='id identifier rubyid_form_options'>form_options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tag'>tag</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hidden</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='id identifier rubyid_request_forgery_protection_token'>request_forgery_protection_token</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="url_for-instance_method">
  <h3 class='signature'>
  #<strong>url_for</strong>(options = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Basic implementation of url_for to allow use helpers without routes
existence</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/url_helper.rb#L32'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


32
33
34
35
36
37
38
39
40
41
42</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/url_helper.rb', line 32</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_url_for'>url_for</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>when</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span>
    <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_back'>back</span>
    <span class='id identifier rubyid__back_url'>_back_url</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arguments passed to url_for can&#39;t be handled. Please require </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
                         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>routes or provide your own implementation</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>