<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::TextHelper &mdash; Rails-5.1.0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::TextHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Rails-5.1.0</a> &raquo; 
          <a href='../../_index.html'>Index (T)</a> &raquo; 
          <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
          <a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
          <span class='title'>TextHelper</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: ActionView::Helpers::TextHelper</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)">Cycle</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Extended by:</td>
    <td>
      <div class='box_max'>
        <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a>, <a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)">SanitizeHelper</a>, <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a>, <a href="FormOptionsHelper.html" title="ActionView::Helpers::FormOptionsHelper (module)">FormOptionsHelper</a>, <a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)">FormTagHelper</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L29'>actionview/lib/action_view/helpers/text_helper.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The TextHelper module provides a set of methods for filtering, formatting
and transforming strings, which can reduce the amount of inline Ruby code
in your views. These helper methods extend Action View making them callable
within your template files.</p>

<h5 id="label-Sanitization">Sanitization</h5>

<p>Most text helpers by default sanitize the given content, but do not escape
it. This means HTML tags will appear in the page but all malicious code
will be removed. Let&#39;s look at some examples using the
<code>simple_format</code> method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;a href=\&quot;http://example.com/\&quot;&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;a&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;
</span></code></pre>

<p>If you want to escape all content, you should invoke the <code>h</code>
method before calling the text helper.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_simple_format'>simple_format</span> <span class='id identifier rubyid_h'>h</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;&amp;lt;a href=\&quot;http://example.com/\&quot;&amp;gt;Example&amp;lt;/a&amp;gt;&lt;/p&gt;&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES</a>, <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS</a>, <a href="TagHelper.html#TAG_PREFIXES-constant" title="ActionView::Helpers::TagHelper::TAG_PREFIXES (constant)">ActionView::Helpers::TagHelper::TAG_PREFIXES</a></p>



<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(string)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The preferred method of outputting text in your views is to use the &lt;%=
“text” %&gt; eRuby syntax.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#current_cycle-instance_method" title="#current_cycle (instance method)">#<strong>current_cycle</strong>(name = &quot;default&quot;)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the current cycle string after a cycle has been started.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cut_excerpt_part-instance_method" title="#cut_excerpt_part (instance method)">#<strong>cut_excerpt_part</strong>(part_position, part, separator, options)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(first_value, *values)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a Cycle object whose <em>to_s</em> method cycles through elements
of an array every time it is called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#excerpt-instance_method" title="#excerpt (instance method)">#<strong>excerpt</strong>(text, phrase, options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Extracts an excerpt from <code>text</code> that matches the first instance
of <code>phrase</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#get_cycle-instance_method" title="#get_cycle (instance method)">#<strong>get_cycle</strong>(name)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The cycle helpers need to store the cycles in a place that is guaranteed to
be reset every time a page is rendered, so it uses an instance variable of
<a href="../Base.html" title="ActionView::Base (class)">Base</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#highlight-instance_method" title="#highlight (instance method)">#<strong>highlight</strong>(text, phrases, options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Highlights one or more <code>phrases</code> everywhere in <code>text</code>
by inserting it into a <code>:highlighter</code> string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pluralize-instance_method" title="#pluralize (instance method)">#<strong>pluralize</strong>(count, singular, deprecated_plural = nil, plural: nil, locale: I18n.locale)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Attempts to pluralize the <code>singular</code> word unless
<code>count</code> is 1.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reset_cycle-instance_method" title="#reset_cycle (instance method)">#<strong>reset_cycle</strong>(name = &quot;default&quot;)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Resets a cycle so that it starts from the first element the next time it is
called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#safe_concat-instance_method" title="#safe_concat (instance method)">#<strong>safe_concat</strong>(string)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_cycle-instance_method" title="#set_cycle (instance method)">#<strong>set_cycle</strong>(name, cycle_object)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#simple_format-instance_method" title="#simple_format (instance method)">#<strong>simple_format</strong>(text, html_options = {}, options = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>text</code> transformed into HTML using simple formatting
rules.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#split_paragraphs-instance_method" title="#split_paragraphs (instance method)">#<strong>split_paragraphs</strong>(text)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#truncate-instance_method" title="#truncate (instance method)">#<strong>truncate</strong>(text, options = {}, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Truncates a given <code>text</code> after a given <code>:length</code> if
<code>text</code> is longer than <code>:length</code> (defaults to 30).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#word_wrap-instance_method" title="#word_wrap (instance method)">#<strong>word_wrap</strong>(text, line_width: 80, break_sequence: &quot;\n&quot;)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Wraps the <code>text</code> into lines no longer than
<code>line_width</code> width.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></h3>
  <p class="inherited"><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a>, <a href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a>, <a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">.extended</a>, <a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)">OutputSafetyHelper</a></h3>
  <p class="inherited"><a href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a>, <a href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a>, <a href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></h3>
  <p class="inherited"><a href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a>, <a href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a>, <a href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a>, <a href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a>, <a href="TagHelper.html#tag_builder-instance_method" title="ActionView::Helpers::TagHelper#tag_builder (method)">#tag_builder</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a></h3>
  <p class="inherited"><a href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a>, <a href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a>, <a href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a>, <a href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a>, <a href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="SanitizeHelper.html" title="ActionView::Helpers::SanitizeHelper (module)">SanitizeHelper</a></h3>
  <p class="inherited"><a href="SanitizeHelper.html#sanitize-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize (method)">#sanitize</a>, <a href="SanitizeHelper.html#sanitize_css-instance_method" title="ActionView::Helpers::SanitizeHelper#sanitize_css (method)">#sanitize_css</a>, <a href="SanitizeHelper.html#strip_links-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_links (method)">#strip_links</a>, <a href="SanitizeHelper.html#strip_tags-instance_method" title="ActionView::Helpers::SanitizeHelper#strip_tags (method)">#strip_tags</a></p>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="concat-instance_method">
  <h3 class='signature first'>
  #<strong>concat</strong>(string)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The preferred method of outputting text in your views is to use the &lt;%=
“text” %&gt; eRuby syntax. The regular <em>puts</em> and <em>print</em>
methods do not operate as expected in an eRuby code block. If you
absolutely must output text within a non-output code block (i.e., &lt;%
%&gt;), you can use the concat method.</p>

<pre class="code ruby"><code class="ruby">&lt;%
    concat &quot;hello&quot;
    # is the equivalent of &lt;%= &quot;hello&quot; %&gt;

    if logged_in
      concat &quot;Logged in!&quot;
    else
      concat link_to(&#39;login&#39;, action: :login)
    end
    # will either display &quot;Logged in!&quot; or a login link
%&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L52'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


52
53
54</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_output_buffer'>output_buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="current_cycle-instance_method">
  <h3 class='signature'>
  #<strong>current_cycle</strong>(name = &quot;default&quot;)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the current cycle string after a cycle has been started. Useful for
complex table highlighting or any other design need which requires the
current cycle string in more than one place.</p>

<pre class="code ruby"><code class="ruby"># Alternate background colors
@items = [1,2,3,4]
&lt;% @items.each do |item| %&gt;
  &lt;div style=&quot;background-color:&lt;%= cycle(&quot;red&quot;,&quot;white&quot;,&quot;blue&quot;) %&gt;&quot;&gt;
    &lt;span style=&quot;background-color:&lt;%= current_cycle %&gt;&quot;&gt;&lt;%= item %&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;% end %&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L383'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


383
384
385
386</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 383</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_cycle'>current_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'>get_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='period'>.</span><span class='id identifier rubyid_current_value'>current_value</span> <span class='kw'>if</span> <span class='id identifier rubyid_cycle'>cycle</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cut_excerpt_part-instance_method">
  <h3 class='signature'>
  #<strong>cut_excerpt_part</strong>(part_position, part, separator, options)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L470'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 470</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cut_excerpt_part'>cut_excerpt_part</span><span class='lparen'>(</span><span class='id identifier rubyid_part_position'>part_position</span><span class='comma'>,</span> <span class='id identifier rubyid_part'>part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_part'>part</span>

  <span class='id identifier rubyid_radius'>radius</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_radius'>radius</span><span class='comma'>,</span> <span class='int'>100</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_omission'>omission</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_omission'>omission</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_part'>part</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_separator'>separator</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_affix'>affix</span> <span class='op'>=</span> <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_radius'>radius</span> <span class='op'>?</span> <span class='id identifier rubyid_omission'>omission</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_part'>part</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_part_position'>part_position</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_drop_index'>drop_index</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='id identifier rubyid_radius'>radius</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
    <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='id identifier rubyid_drop_index'>drop_index</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='id identifier rubyid_radius'>radius</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_affix'>affix</span><span class='comma'>,</span> <span class='id identifier rubyid_part'>part</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_separator'>separator</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cycle-instance_method">
  <h3 class='signature'>
  #<strong>cycle</strong>(first_value, *values)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a Cycle object whose <em>to_s</em> method cycles through elements
of an array every time it is called. This can be used for example, to
alternate classes for table rows. You can use named cycles to allow nesting
in loops. Passing a Hash as the last parameter with a <code>:name</code>
key will create a named cycle. The default name for a cycle without a
<code>:name</code> key is <code>&quot;default&quot;</code>. You can
manually reset a cycle by calling reset_cycle and passing the name of the
cycle. The current cycle string can be obtained anytime using the
current_cycle method.</p>

<pre class="code ruby"><code class="ruby"> # Alternate CSS classes for even and odd numbers...
 @items = [1,2,3,4]
 &lt;table&gt;
 &lt;% @items.each do |item| %&gt;
   &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;) -%&gt;&quot;&gt;
     &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;
   &lt;/tr&gt;
 &lt;% end %&gt;
 &lt;/table&gt;

 # Cycle CSS classes for rows, and text colors for values within each row
 @items = x = [{first: &#39;Robert&#39;, middle: &#39;Daniel&#39;, last: &#39;James&#39;},
              {first: &#39;Emily&#39;, middle: &#39;Shannon&#39;, maiden: &#39;Pike&#39;, last: &#39;Hicks&#39;},
             {first: &#39;June&#39;, middle: &#39;Dae&#39;, last: &#39;Jones&#39;}]
 &lt;% @items.each do |item| %&gt;
   &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;, name: &quot;row_class&quot;) -%&gt;&quot;&gt;
     &lt;td&gt;
       &lt;% item.values.each do |value| %&gt;
         &lt;%# Create a named cycle &quot;colors&quot; %&gt;
         &lt;span style=&quot;color:&lt;%= cycle(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, name: &quot;colors&quot;) -%&gt;&quot;&gt;
           &lt;%= value %&gt;
         &lt;/span&gt;
       &lt;% end %&gt;
       &lt;% reset_cycle(&quot;colors&quot;) %&gt;
     &lt;/td&gt;
  &lt;/tr&gt;
&lt;% end %&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L359'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


359
360
361
362
363
364
365
366
367
368
369
370</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_first_value'>first_value</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_values'>values</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_first_value'>first_value</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'>get_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cycle'>cycle</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span> <span class='op'>==</span> <span class='id identifier rubyid_values'>values</span>
    <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_set_cycle'>set_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='const'><a href="TextHelper/Cycle.html" title="ActionView::Helpers::TextHelper::Cycle (class)">Cycle</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="TextHelper/Cycle.html#new-class_method" title="ActionView::Helpers::TextHelper::Cycle.new (method)">new</a></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_values'>values</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="excerpt-instance_method">
  <h3 class='signature'>
  #<strong>excerpt</strong>(text, phrase, options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracts an excerpt from <code>text</code> that matches the first instance
of <code>phrase</code>. The <code>:radius</code> option expands the excerpt
on each side of the first occurrence of <code>phrase</code> by the number
of characters defined in <code>:radius</code> (which defaults to 100). If
the excerpt radius overflows the beginning or end of the <code>text</code>,
then the <code>:omission</code> option (which defaults to “…”) will be
prepended/appended accordingly. Use the <code>:separator</code> option to
choose the delimitation. The resulting string will be stripped in any case.
If the <code>phrase</code> isn&#39;t found, nil is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>an</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>5</span><span class='rparen'>)</span>
<span class='comment'># =&gt; ...s is an exam...
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>is</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>5</span><span class='rparen'>)</span>
<span class='comment'># =&gt; This is a...
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>is</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; This is an example
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This next thing is an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>2</span><span class='rparen'>)</span>
<span class='comment'># =&gt; ...next...
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is also an example</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>an</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>8</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;chop&gt; </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;chop&gt; is also an example
</span>
<span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is a very beautiful morning</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>very</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>radius:</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='comment'># =&gt; ...a very beautiful...
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L173'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_excerpt'>excerpt</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_text'>text</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_phrase'>phrase</span>

  <span class='id identifier rubyid_separator'>separator</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_phrase'>phrase</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='id identifier rubyid_phrase'>phrase</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_phrase'>phrase</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/i</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>=</span> <span class='id identifier rubyid_matches'>matches</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_separator'>separator</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_separator'>separator</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='id identifier rubyid_phrase'>phrase</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_first_part'>first_part</span>   <span class='op'>=</span> <span class='id identifier rubyid_cut_excerpt_part'>cut_excerpt_part</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_postfix'>postfix</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span> <span class='op'>=</span> <span class='id identifier rubyid_cut_excerpt_part'>cut_excerpt_part</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_second'>second</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_affix'>affix</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_phrase'>phrase</span><span class='comma'>,</span> <span class='id identifier rubyid_separator'>separator</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_affix'>affix</span><span class='comma'>,</span> <span class='id identifier rubyid_postfix'>postfix</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="get_cycle-instance_method">
  <h3 class='signature'>
  #<strong>get_cycle</strong>(name)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The cycle helpers need to store the cycles in a place that is guaranteed to
be reset every time a page is rendered, so it uses an instance variable of
<a href="../Base.html" title="ActionView::Base (class)">Base</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L452'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


452
453
454
455</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 452</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_cycle'>get_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@_cycles</span> <span class='op'>=</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@_cycles</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@_cycles</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="highlight-instance_method">
  <h3 class='signature'>
  #<strong>highlight</strong>(text, phrases, options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Highlights one or more <code>phrases</code> everywhere in <code>text</code>
by inserting it into a <code>:highlighter</code> string. The highlighter
can be specialized by passing <code>:highlighter</code> as a single-quoted
string with <code>\1</code> where the phrase is to be inserted (defaults to
&#39;&lt;mark&gt;1&lt;/mark&gt;&#39;) or passing a block that receives each
matched term. By default <code>text</code> is sanitized to prevent possible
XSS attacks. If the input is trustworthy, passing false for
<code>:sanitize</code> will turn sanitizing off.</p>

<pre class="code ruby"><code class="ruby">highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;)
# =&gt; You searched for: &lt;mark&gt;rails&lt;/mark&gt;

highlight(&#39;You searched for: rails&#39;, /for|rails/)
# =&gt; You searched &lt;mark&gt;for&lt;/mark&gt;: &lt;mark&gt;rails&lt;/mark&gt;

highlight(&#39;You searched for: ruby, rails, dhh&#39;, &#39;actionpack&#39;)
# =&gt; You searched for: ruby, rails, dhh

highlight(&#39;You searched for: rails&#39;, [&#39;for&#39;, &#39;rails&#39;], highlighter: &#39;&lt;em&gt;\1&lt;/em&gt;&#39;)
# =&gt; You searched &lt;em&gt;for&lt;/em&gt;: &lt;em&gt;rails&lt;/em&gt;

highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;, highlighter: &#39;&lt;a href=&quot;search?q=\1&quot;&gt;\1&lt;/a&gt;&#39;)
# =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;

highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;) { |match| link_to(search_path(q: match, match)) }
# =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;

highlight(&#39;&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;ruby&lt;/a&gt; on rails&#39;, &#39;rails&#39;, sanitize: false)
# =&gt; &quot;&lt;a&gt;ruby&lt;/a&gt; on &lt;mark&gt;rails&lt;/mark&gt;&quot;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L130'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_highlight'>highlight</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_sanitize'>sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_sanitize'>sanitize</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span><span class='lparen'>(</span><span class='id identifier rubyid_phrases'>phrases</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
      <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span> <span class='op'>===</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>?</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='const'><a href="../../Regexp.html" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_match'>match</span><span class='embexpr_end'>}</span><span class='tstring_content'>)(?![^&lt;]*?&gt;)</span><span class='regexp_end'>/i</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_found'>found</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_found'>found</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_highlighter'>highlighter</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_highlighter'>highlighter</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;mark&gt;\1&lt;/mark&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_match'>match</span><span class='embexpr_end'>}</span><span class='tstring_content'>)(?![^&lt;]*?&gt;)</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='id identifier rubyid_highlighter'>highlighter</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pluralize-instance_method">
  <h3 class='signature'>
  #<strong>pluralize</strong>(count, singular, deprecated_plural = nil, plural: nil, locale: I18n.locale)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attempts to pluralize the <code>singular</code> word unless
<code>count</code> is 1. If <code>plural</code> is supplied, it will use
that when count is &gt; 1, otherwise it will use the Inflector to determine
the plural form for the given locale, which defaults to <code>I18n.locale</code></p>

<p>The word will be pluralized using rules defined for the locale (you must
define your own inflection rules for languages other than English). See
<a href="../../ActiveSupport/Inflector.html" title="ActiveSupport::Inflector (module)">ActiveSupport::Inflector</a>.pluralize</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; 1 person
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; 2 people
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>plural:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; 3 users
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>person</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; 0 people
</span>
<span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Person</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>locale:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_de'>de</span><span class='rparen'>)</span>
<span class='comment'># =&gt; 2 Personen
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L228'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='id identifier rubyid_singular'>singular</span><span class='comma'>,</span> <span class='id identifier rubyid_deprecated_plural'>deprecated_plural</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>plural:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>locale:</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_deprecated_plural'>deprecated_plural</span>
    <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/Deprecation.html" title="ActiveSupport::Deprecation (class)">Deprecation</a></span><span class='period'>.</span><span class='id identifier rubyid_warn'><a href="../../ActiveSupport/Deprecation/Reporting.html#warn-instance_method" title="ActiveSupport::Deprecation::Reporting#warn (method)">warn</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Passing plural as a positional argument </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is deprecated and will be removed in Rails 5.1. Use e.g. </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pluralize(1, &#39;person&#39;, plural: &#39;people&#39;) instead.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_plural'>plural</span> <span class='op'>||=</span> <span class='id identifier rubyid_deprecated_plural'>deprecated_plural</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_word'>word</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_count'>count</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^1(\.0+)?$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_singular'>singular</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_plural'>plural</span> <span class='op'>||</span> <span class='id identifier rubyid_singular'>singular</span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_locale'>locale</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count'>count</span> <span class='op'>||</span> <span class='int'>0</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_word'>word</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reset_cycle-instance_method">
  <h3 class='signature'>
  #<strong>reset_cycle</strong>(name = &quot;default&quot;)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Resets a cycle so that it starts from the first element the next time it is
called. Pass in <code>name</code> to reset a named cycle.</p>

<pre class="code ruby"><code class="ruby"># Alternate CSS classes for even and odd numbers...
@items = [[1,2,3,4], [5,6,3], [3,4,5,6,7,4]]
&lt;table&gt;
&lt;% @items.each do |item| %&gt;
  &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;) -%&gt;&quot;&gt;
      &lt;% item.each do |value| %&gt;
        &lt;span style=&quot;color:&lt;%= cycle(&quot;#333&quot;, &quot;#666&quot;, &quot;#999&quot;, name: &quot;colors&quot;) -%&gt;&quot;&gt;
          &lt;%= value %&gt;
        &lt;/span&gt;
      &lt;% end %&gt;

      &lt;% reset_cycle(&quot;colors&quot;) %&gt;
  &lt;/tr&gt;
&lt;% end %&gt;
&lt;/table&gt;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L406'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


406
407
408
409</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 406</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_cycle'>reset_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_get_cycle'>get_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cycle'>cycle</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span> <span class='kw'>if</span> <span class='id identifier rubyid_cycle'>cycle</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="safe_concat-instance_method">
  <h3 class='signature'>
  #<strong>safe_concat</strong>(string)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L56'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


56
57
58</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_safe_concat'>safe_concat</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_output_buffer'>output_buffer</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_safe_concat'>safe_concat</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_output_buffer'>output_buffer</span><span class='period'>.</span><span class='id identifier rubyid_safe_concat'>safe_concat</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_cycle-instance_method">
  <h3 class='signature'>
  #<strong>set_cycle</strong>(name, cycle_object)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L457'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


457
458
459
460</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_cycle'>set_cycle</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_cycle_object'>cycle_object</span><span class='rparen'>)</span>
  <span class='ivar'>@_cycles</span> <span class='op'>=</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@_cycles</span><span class='rparen'>)</span>
  <span class='ivar'>@_cycles</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_cycle_object'>cycle_object</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="simple_format-instance_method">
  <h3 class='signature'>
  #<strong>simple_format</strong>(text, html_options = {}, options = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>text</code> transformed into HTML using simple formatting
rules. Two or more consecutive newlines(<code>\n\n</code> or
<code>\r\n\r\n</code>) are considered a paragraph and wrapped in
<code>&lt;p&gt;</code> tags. One newline (<code>\n</code> or
<code>\r\n</code>) is considered a linebreak and a <code>&lt;br
/&gt;</code> tag is appended. This method does not remove the newlines from
the <code>text</code>.</p>

<p>You can pass any HTML attributes into <code>html_options</code>. These will
be added to all created paragraphs.</p>

<h5 id="label-Options">Options</h5>
<ul><li>
<p><code>:sanitize</code> - If <code>false</code>, does not sanitize
<code>text</code>.</p>
</li><li>
<p><code>:wrapper_tag</code> - String representing the wrapper tag, defaults
to <code>&quot;p&quot;</code></p>
</li></ul>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_text'>my_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Here is some basic text...\n...with a line break.</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='id identifier rubyid_my_text'>my_text</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='id identifier rubyid_my_text'>my_text</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>wrapper_tag:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;div&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/div&gt;&quot;
</span>
<span class='id identifier rubyid_more_text'>more_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>We want to put a paragraph...\n\n...right there.</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='id identifier rubyid_more_text'>more_text</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;We want to put a paragraph...&lt;/p&gt;\n\n&lt;p&gt;...right there.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Look ma! A class!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>class:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>description</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p class=&#39;description&#39;&gt;Look ma! A class!&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;blink&gt;Unblinkable.&lt;/blink&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;Unblinkable.&lt;/p&gt;&quot;
</span>
<span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>sanitize:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.&lt;/p&gt;&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L307'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


307
308
309
310
311
312
313
314
315
316
317
318
319
320</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 307</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_simple_format'>simple_format</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_sanitize'>sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_sanitize'>sanitize</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paragraphs'>paragraphs</span> <span class='op'>=</span> <span class='id identifier rubyid_split_paragraphs'>split_paragraphs</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_paragraphs'>paragraphs</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_paragraph'>paragraph</span><span class='op'>|</span>
      <span class='id identifier rubyid_content_tag'>content_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_wrapper_tag'>wrapper_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_raw'>raw</span><span class='lparen'>(</span><span class='id identifier rubyid_paragraph'>paragraph</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_html_options'>html_options</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="split_paragraphs-instance_method">
  <h3 class='signature'>
  #<strong>split_paragraphs</strong>(text)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L462'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


462
463
464
465
466
467
468</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 462</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split_paragraphs'>split_paragraphs</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r\n?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n\n+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^\n]\n)(?=[^\n])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1&lt;br /&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_t'>t</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="truncate-instance_method">
  <h3 class='signature'>
  #<strong>truncate</strong>(text, options = {}, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Truncates a given <code>text</code> after a given <code>:length</code> if
<code>text</code> is longer than <code>:length</code> (defaults to 30). The
last characters will be replaced with the <code>:omission</code> (defaults
to “…”) for a total length not exceeding <code>:length</code>.</p>

<p>Pass a <code>:separator</code> to truncate <code>text</code> at a natural
break.</p>

<p>Pass a block if you want to show extra content when the text is truncated.</p>

<p>The result is marked as HTML-safe, but it is escaped by default, unless
<code>:escape</code> is <code>false</code>. Care should be taken if
<code>text</code> contains HTML tags or entities, because truncation may
produce invalid HTML (such as unbalanced or incomplete tags).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;Once upon a time in a world...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>17</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;Once upon a ti...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>17</span><span class='comma'>,</span> <span class='label'>separator:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;Once upon a...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>And they found that many people were sleeping better.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>length:</span> <span class='int'>25</span><span class='comma'>,</span> <span class='label'>omission:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>... (continued)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;And they f... (continued)&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&amp;lt;p&amp;gt;Once upon a time in a wo...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>escape:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &quot;&lt;p&gt;Once upon a time in a wo...&quot;
</span>
<span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Once upon a time in a world far far away</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Continue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; &quot;Once upon a time in a wo...&lt;a href=&quot;#&quot;&gt;Continue&lt;/a&gt;&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L92'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


92
93
94
95
96
97
98
99
100
101</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>
    <span class='id identifier rubyid_length'>length</span>  <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='int'>30</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_escape'>escape</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='op'>?</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_html_safe'>html_safe</span> <span class='op'>:</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span><span class='period'>.</span><span class='id identifier rubyid_html_escape'><a href="../../ERB/Util.html#html_escape-class_method" title="ERB::Util.html_escape (method)">html_escape</a></span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_capture'>capture</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="word_wrap-instance_method">
  <h3 class='signature'>
  #<strong>word_wrap</strong>(text, line_width: 80, break_sequence: &quot;\n&quot;)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Wraps the <code>text</code> into lines no longer than
<code>line_width</code> width. This method breaks on the first whitespace
character that does not exceed <code>line_width</code> (which is 80 by
default).</p>

<pre class="code ruby"><code class="ruby">word_wrap(&#39;Once upon a time&#39;)
# =&gt; Once upon a time

word_wrap(&#39;Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding a successor to the throne turned out to be more trouble than anyone could have imagined...&#39;)
# =&gt; Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding\na successor to the throne turned out to be more trouble than anyone could have\nimagined...

word_wrap(&#39;Once upon a time&#39;, line_width: 8)
# =&gt; Once\nupon a\ntime

word_wrap(&#39;Once upon a time&#39;, line_width: 1)
# =&gt; Once\nupon\na\ntime

You can also specify a custom &lt;code&gt;break_sequence&lt;/code&gt; (&quot;\n&quot; by default)

word_wrap(&#39;Once upon a time&#39;, line_width: 1, break_sequence: &quot;\r\n&quot;)
# =&gt; Once\r\nupon\r\na\r\ntime</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/text_helper.rb#L265'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


265
266
267
268
269</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/text_helper.rb', line 265</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_word_wrap'>word_wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>line_width:</span> <span class='int'>80</span><span class='comma'>,</span> <span class='label'>break_sequence:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_line_width'>line_width</span> <span class='op'>?</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_width'>line_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>})(\s+|$)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_break_sequence'>break_sequence</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='op'>:</span> <span class='id identifier rubyid_line'>line</span>
  <span class='kw'>end</span> <span class='op'>*</span> <span class='id identifier rubyid_break_sequence'>break_sequence</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>